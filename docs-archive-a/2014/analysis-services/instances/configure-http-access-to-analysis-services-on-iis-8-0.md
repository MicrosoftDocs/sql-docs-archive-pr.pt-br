---
title: Configurar o acesso HTTP para Analysis Services no Serviços de Informações da Internet (IIS) 8,0 | Microsoft Docs
ms.custom: ''
ms.date: 06/19/2019
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
ms.assetid: cf2e2c84-0a69-4cdd-90a1-fb4021936513
author: minewiskan
ms.author: owend
ms.openlocfilehash: 00fc6fcdf059bb26602e20d4c7fc8fb46edcfb9c
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87680180"
---
# <a name="configure-http-access-to-analysis-services-on-internet-information-services-iis-80"></a><span data-ttu-id="4a537-102">Configurar o acesso HTTP ao Analysis Services no IIS (Serviços de Informações da Internet) 8.0</span><span class="sxs-lookup"><span data-stu-id="4a537-102">Configure HTTP Access to Analysis Services on Internet Information Services (IIS) 8.0</span></span>
  <span data-ttu-id="4a537-103">Este artigo explica como configurar um ponto de extremidade HTTP para acessar uma instância do Analysis Services.</span><span class="sxs-lookup"><span data-stu-id="4a537-103">This article explains how to set up an HTTP endpoint for accessing an Analysis Services instance.</span></span> <span data-ttu-id="4a537-104">É possível habilitar o acesso HTTP configurando o MSMDPUMP.dll, uma extensão de ISAPI que é executada no IIS (Serviços de Informações da Internet) e que bombeia dados entre os aplicativos cliente e um servidor do Analysis Services.</span><span class="sxs-lookup"><span data-stu-id="4a537-104">You can enable HTTP access by configuring MSMDPUMP.dll, an ISAPI extension that runs in Internet Information Services (IIS) and pumps data to and from client applications and an Analysis Services server.</span></span> <span data-ttu-id="4a537-105">Esta abordagem oferece um meio alternativo de se conectar ao Analysis Services quando sua solução de BI requer os seguintes recursos:</span><span class="sxs-lookup"><span data-stu-id="4a537-105">This approach provides an alternative means for connecting to Analysis Services when your BI solution calls for the following capabilities:</span></span>  
  
-   <span data-ttu-id="4a537-106">O acesso de cliente está em conexões via Internet ou extranet, com restrições quanto às portas a serem habilitadas.</span><span class="sxs-lookup"><span data-stu-id="4a537-106">Client access is over Internet or extranet connections, with restrictions on which ports can be enabled.</span></span>  
  
-   <span data-ttu-id="4a537-107">As conexões de cliente são provenientes de domínios não confiáveis na mesma rede.</span><span class="sxs-lookup"><span data-stu-id="4a537-107">Client connections are from non-trusted domains in the same network.</span></span>  
  
-   <span data-ttu-id="4a537-108">O aplicativo cliente é executado em um ambiente de rede que permite conexões HTTP, mas não TCP/IP.</span><span class="sxs-lookup"><span data-stu-id="4a537-108">Client application runs in a network environment that allows HTTP but not TCP/IP connections.</span></span>  
  
-   <span data-ttu-id="4a537-109">Os aplicativos cliente não podem usar as bibliotecas de cliente do Analysis Services (por exemplo, um aplicativo Java executado em um servidor UNIX).</span><span class="sxs-lookup"><span data-stu-id="4a537-109">Client applications cannot use the Analysis Services client libraries (for example, a Java application running on a UNIX server).</span></span> <span data-ttu-id="4a537-110">Se você não puder usar as bibliotecas de cliente do Analysis Services para acessar dados, poderá usar o SOAP e o XML/A em uma conexão HTTP direta a uma instância do Analysis Services.</span><span class="sxs-lookup"><span data-stu-id="4a537-110">If you cannot use the Analysis Services client libraries for data access, you can use SOAP and XML/A over a direct HTTP connection to an Analysis Services instance.</span></span>  
  
-   <span data-ttu-id="4a537-111">São necessários métodos de autenticação que não sejam a segurança integrada do Windows.</span><span class="sxs-lookup"><span data-stu-id="4a537-111">Authentication methods other than Windows integrated security are required.</span></span> <span data-ttu-id="4a537-112">Especificamente, você pode usar conexões anônimas e a autenticação Básica ao configurar o Analysis Services para acesso HTTP.</span><span class="sxs-lookup"><span data-stu-id="4a537-112">Specifically, you can use Anonymous connections and Basic authentication when configuring Analysis Services for HTTP access.</span></span> <span data-ttu-id="4a537-113">Não há suporte para a autenticação Digest, de formulário e ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="4a537-113">Digest, Forms, and ASP.NET authentication are not supported.</span></span> <span data-ttu-id="4a537-114">Um requisito de autenticação Básica é um dos principais motivos para permitir o acesso HTTP.</span><span class="sxs-lookup"><span data-stu-id="4a537-114">A requirement of Basic authentication is one of the primary reasons for enabling HTTP access.</span></span> <span data-ttu-id="4a537-115">Para saber mais, consulte [Autenticação e delegação de identidade do Microsoft BI](https://go.microsoft.com/fwlink/?LinkId=286576).</span><span class="sxs-lookup"><span data-stu-id="4a537-115">To learn more, see [Microsoft BI Authentication and Identity Delegation](https://go.microsoft.com/fwlink/?LinkId=286576).</span></span>  
  
 <span data-ttu-id="4a537-116">É possível configurar o acesso HTTP para qualquer versão com suporte ou edição do Analysis Services, em execução em modo de tabela ou multidimensional.</span><span class="sxs-lookup"><span data-stu-id="4a537-116">You can configure HTTP access for any supported version or edition of Analysis Services, running either tabular mode or multidimensional mode.</span></span> <span data-ttu-id="4a537-117">Cubos locais são uma exceção.</span><span class="sxs-lookup"><span data-stu-id="4a537-117">Local cubes are an exception.</span></span> <span data-ttu-id="4a537-118">Não é possível conectar-se a um cubo local por meio de um ponto de extremidade HTTP.</span><span class="sxs-lookup"><span data-stu-id="4a537-118">You cannot connect to a local cube via an HTTP endpoint.</span></span>  
  
 <span data-ttu-id="4a537-119">Configurar o acesso HTTP é uma tarefa pós-instalação.</span><span class="sxs-lookup"><span data-stu-id="4a537-119">Setting up HTTP access is a post-installation task.</span></span> <span data-ttu-id="4a537-120">O Analysis Services deve ser instalado antes de ser configurado para o acesso HTTP.</span><span class="sxs-lookup"><span data-stu-id="4a537-120">Analysis Services must be installed before you can configure it for HTTP access.</span></span> <span data-ttu-id="4a537-121">Como administrador do Analysis Services, será preciso conceder permissões para contas do Windows para que o acesso HTTP seja possível.</span><span class="sxs-lookup"><span data-stu-id="4a537-121">As the Analysis Services administrator, you will need to grant permissions to Windows accounts before HTTP access is possible.</span></span> <span data-ttu-id="4a537-122">Além disso, é uma prática recomendada validar a instalação primeiro, assegurando que ela esteja totalmente operacional antes de configurar qualquer servidor adicional.</span><span class="sxs-lookup"><span data-stu-id="4a537-122">Additionally, it is a best practice to validate your installation first, ensuring that it is fully operational before configuring the server any further.</span></span> <span data-ttu-id="4a537-123">Após a configuração do acesso HTTP, é possível utilizar o ponto de extremidade HTTP e o nome da rede regular do servidor sobre TCP/IP.</span><span class="sxs-lookup"><span data-stu-id="4a537-123">After HTTP access is configured, you can use both the HTTP endpoint and the regular network name of the server over TCP/IP.</span></span> <span data-ttu-id="4a537-124">Configurar o acesso HTTP não invalida outras abordagens para acesso de dados.</span><span class="sxs-lookup"><span data-stu-id="4a537-124">Setting up HTTP access does not invalidate other approaches for data access.</span></span>  
  
 <span data-ttu-id="4a537-125">À medida que avançar com a configuração MSMDPUMP, lembre-se que há duas conexões a serem consideradas: cliente para IIS, IIS para SSAS.</span><span class="sxs-lookup"><span data-stu-id="4a537-125">As you move forward with MSMDPUMP configuration, remember there are two connections to consider: client-to-IIS, IIS-to-SSAS.</span></span> <span data-ttu-id="4a537-126">As instruções neste artigo são sobre o IIS para SSAS.</span><span class="sxs-lookup"><span data-stu-id="4a537-126">The instructions in this article are about IIS-to-SSAS.</span></span> <span data-ttu-id="4a537-127">O aplicativo cliente pode exigir configuração adicional antes que ele possa se conectar ao IIS.</span><span class="sxs-lookup"><span data-stu-id="4a537-127">Your client application might require additional configuration before it can connect to IIS.</span></span> <span data-ttu-id="4a537-128">Decisões sobre como configurar as associações ou se você deseja utilizar o SSL, estão fora do escopo deste artigo.</span><span class="sxs-lookup"><span data-stu-id="4a537-128">Decisions such as whether to use SSL, or how to configure bindings, are out of scope for this article.</span></span> <span data-ttu-id="4a537-129">Veja [servidor Web (IIS)](https://technet.microsoft.com/library/hh831725.aspx) para obter mais informações sobre o IIS.</span><span class="sxs-lookup"><span data-stu-id="4a537-129">See [Web Server (IIS)](https://technet.microsoft.com/library/hh831725.aspx) for more information about IIS.</span></span>  
  
 <span data-ttu-id="4a537-130">Este tópico inclui as seções a seguir:</span><span class="sxs-lookup"><span data-stu-id="4a537-130">This topic includes the following sections:</span></span>  
  
-   [<span data-ttu-id="4a537-131">Visão geral</span><span class="sxs-lookup"><span data-stu-id="4a537-131">Overview</span></span>](#bkmk_overview)  
  
-   [<span data-ttu-id="4a537-132">Pré-requisitos</span><span class="sxs-lookup"><span data-stu-id="4a537-132">Prerequisites</span></span>](#bkmk_prereq)  
  
-   [<span data-ttu-id="4a537-133">Copiar o MSMDPUMP.dll em uma pasta no servidor Web.</span><span class="sxs-lookup"><span data-stu-id="4a537-133">Copy the MSMDPUMP.dll to a folder on the Web server</span></span>](#bkmk_copy)  
  
-   [<span data-ttu-id="4a537-134">Criar um pool de aplicativos e um diretório virtual no IIS</span><span class="sxs-lookup"><span data-stu-id="4a537-134">Create an application pool and virtual directory in IIS</span></span>](#bkmk_appPool)  
  
-   [<span data-ttu-id="4a537-135">Configurar a autenticação de IIS e adicionar a extensão</span><span class="sxs-lookup"><span data-stu-id="4a537-135">Configure IIS authentication and add the extension</span></span>](#bkmk_auth)  
  
-   [<span data-ttu-id="4a537-136">Editar o arquivo MSMDPUMP.INI para definir o servidor de destino</span><span class="sxs-lookup"><span data-stu-id="4a537-136">Edit the MSMDPUMP.INI file to set the target server</span></span>](#bkmk_edit)  
  
-   [<span data-ttu-id="4a537-137">Testar sua configuração</span><span class="sxs-lookup"><span data-stu-id="4a537-137">Test your configuration</span></span>](#bkmk_test)  
  
##  <a name="overview"></a><a name="bkmk_overview"></a> <span data-ttu-id="4a537-138">Visão geral</span><span class="sxs-lookup"><span data-stu-id="4a537-138">Overview</span></span>  
 <span data-ttu-id="4a537-139">O MSMDPUMP é uma extensão ISAPI que pode ser carregada no IIS e que fornece redirecionamento para uma instância do Analysis Services local ou remota.</span><span class="sxs-lookup"><span data-stu-id="4a537-139">MSMDPUMP is an ISAPI extension that loads into IIS and provides redirection to a local or remote Analysis Services instance.</span></span> <span data-ttu-id="4a537-140">Ao configurar essa extensão ISAPI, você cria um ponto de extremidade HTTP para uma instância do Analysis Services.</span><span class="sxs-lookup"><span data-stu-id="4a537-140">By configuring this ISAPI extension, you create an HTTP endpoint to an Analysis Services instance.</span></span>  
  
 <span data-ttu-id="4a537-141">Você deve criar e configurar um diretório virtual para cada ponto de extremidade HTTP.</span><span class="sxs-lookup"><span data-stu-id="4a537-141">You must create and configure one virtual directory for each HTTP endpoint.</span></span> <span data-ttu-id="4a537-142">Cada ponto de extremidade precisará ter seu próprio conjunto de arquivos MSMDPUMP, para cada instância do Analysis Services à qual você deseja se conectar.</span><span class="sxs-lookup"><span data-stu-id="4a537-142">Each endpoint will need its own set of MSMDPUMP files, for each Analysis Services instance you want to connect to.</span></span> <span data-ttu-id="4a537-143">Um arquivo de configuração nesse conjunto de arquivos especifica o nome da instância do Analysis Services usado para cada ponto de extremidade HTTP.</span><span class="sxs-lookup"><span data-stu-id="4a537-143">A configuration file in this file set specifies the name of the Analysis Services instance used for each HTTP endpoint.</span></span>  
  
 <span data-ttu-id="4a537-144">No IIS, o MSMDPUMP se conecta ao Analysis Services usando o provedor OLE DB do Analysis Services no TCP/IP.</span><span class="sxs-lookup"><span data-stu-id="4a537-144">On IIS, MSMDPUMP connects to Analysis Services using the Analysis Services OLE DB provider over TCP/IP.</span></span> <span data-ttu-id="4a537-145">Embora as solicitações de clientes possam se originar fora da confiabilidade do domínio, o Analysis Services e o IIS devem estar no mesmo domínio ou em domínios confiáveis para que a conexão nativa tenha êxito.</span><span class="sxs-lookup"><span data-stu-id="4a537-145">Although client requests can originate outside of domain trust, both Analysis Services and IIS must be in the same domain or in trusted domains in order for the native connection to succeed.</span></span>  
  
 <span data-ttu-id="4a537-146">Quando o MSMDPUMP se conecta ao Analysis Services, ele utiliza uma identidade de usuário do Windows.</span><span class="sxs-lookup"><span data-stu-id="4a537-146">When MSMDPUMP connects to Analysis Services, it does so under a Windows user identity.</span></span> <span data-ttu-id="4a537-147">Esta conta será a conta Anônima se você tiver configurado o diretório virtual para conexões anônimas, ou uma conta de usuário do Windows.</span><span class="sxs-lookup"><span data-stu-id="4a537-147">This account will either be the Anonymous account if you configured the virtual directory for anonymous connections, or a Windows user account.</span></span> <span data-ttu-id="4a537-148">A conta deve ter os direitos de acesso a dados apropriados no servidor e banco de dados do Analysis Services.</span><span class="sxs-lookup"><span data-stu-id="4a537-148">The account must have the appropriate data access rights on the Analysis Services server and database.</span></span>  
  
 <span data-ttu-id="4a537-149">![Diagrama que mostra conexões entre componentes](../media/ssas.gif "Diagrama que mostra conexões entre componentes")</span><span class="sxs-lookup"><span data-stu-id="4a537-149">![Diagram showing connections between components](../media/ssas.gif "Diagram showing connections between components")</span></span>  
  
 <span data-ttu-id="4a537-150">A tabela a seguir lista considerações adicionais quando você habilita o acesso de HTTP para cenários diferentes.</span><span class="sxs-lookup"><span data-stu-id="4a537-150">The following table lists additional considerations when you enable HTTP access for different scenarios.</span></span>  
  
|<span data-ttu-id="4a537-151">Cenário</span><span class="sxs-lookup"><span data-stu-id="4a537-151">Scenario</span></span>|<span data-ttu-id="4a537-152">Configuração</span><span class="sxs-lookup"><span data-stu-id="4a537-152">Configuration</span></span>|  
|--------------|-------------------|  
|<span data-ttu-id="4a537-153">O IIS e o Analysis Services no mesmo computador</span><span class="sxs-lookup"><span data-stu-id="4a537-153">IIS and Analysis Services on the same computer</span></span>|<span data-ttu-id="4a537-154">Esta é a configuração mais simples porque permite usar a configuração padrão (onde o nome de servidor é localhost), o provedor local OLE DB do Analysis Services e a segurança avançada do Windows com NTLM.</span><span class="sxs-lookup"><span data-stu-id="4a537-154">This is the simplest configuration because it allows you to use the default configuration (where the server name is localhost), the local Analysis Services OLE DB provider, and Windows integrated security with NTLM.</span></span> <span data-ttu-id="4a537-155">Assumindo que o cliente também está no mesmo domínio, a autenticação será transparente para o usuário, sem trabalho adicional de sua parte.</span><span class="sxs-lookup"><span data-stu-id="4a537-155">Assuming that the client is also in the same domain, authentication is transparent to the user, with no additional work on your part.</span></span>|  
|<span data-ttu-id="4a537-156">O IIS e o Analysis Services em computadores diferentes</span><span class="sxs-lookup"><span data-stu-id="4a537-156">IIS and Analysis Services on different computers</span></span>|<span data-ttu-id="4a537-157">Para esta topologia, instale o provedor OLE DB do Analysis Services no servidor Web.</span><span class="sxs-lookup"><span data-stu-id="4a537-157">For this topology, you must install the Analysis Services OLE DB provider on the web server.</span></span> <span data-ttu-id="4a537-158">Você também precisa editar o arquivo msmdpump.ini para especificar o local da instância do Analysis Services no computador remoto.</span><span class="sxs-lookup"><span data-stu-id="4a537-158">You must also edit the msmdpump.ini file to specify the location of Analysis Services instance on the remote computer.</span></span><br /><br /> <span data-ttu-id="4a537-159">Esta topologia adiciona uma etapa de autenticação de salto duplo, em que credenciais devem fluir do cliente para o servidor Web, e para o servidor back-end do Analysis Services.</span><span class="sxs-lookup"><span data-stu-id="4a537-159">This topology adds a double-hop authentication step, where credentials must flow from the client to the web server, and on to the backend Analysis Services server.</span></span> <span data-ttu-id="4a537-160">Se você estiver usando credenciais do Windows e o NTLM, obterá um erro porque o NTLM não permite a delegação de credenciais de cliente a um segundo servidor.</span><span class="sxs-lookup"><span data-stu-id="4a537-160">If you are using Windows credentials and NTLM, you will get an error because NTLM does not allow delegation of client credentials to a second server.</span></span> <span data-ttu-id="4a537-161">A solução mais comum é usar a autenticação Básica com o protocolo SSL, mas isso exige que usuários forneçam um nome de usuário e uma senha quando acessam o diretório virtual de MSMDPUMP.</span><span class="sxs-lookup"><span data-stu-id="4a537-161">The most common solution is to use Basic authentication with Secure Sockets Layer (SSL), but this will require users to provide a user name and password when accessing the MSMDPUMP virtual directory.</span></span> <span data-ttu-id="4a537-162">Uma abordagem mais simples poderia ser a habilitação do Kerberos e a configuração da delegação restrita do Analysis Services para permitir que usuários acessem o Analysis Services de forma transparente.</span><span class="sxs-lookup"><span data-stu-id="4a537-162">A more straightforward approach might be to enable Kerberos and configure Analysis Services constrained delegation so that users can access Analysis Services in a transparent manner.</span></span> <span data-ttu-id="4a537-163">Para obter detalhes, consulte [Configure Analysis Services for Kerberos constrained delegation](configure-analysis-services-for-kerberos-constrained-delegation.md) .</span><span class="sxs-lookup"><span data-stu-id="4a537-163">See [Configure Analysis Services for Kerberos constrained delegation](configure-analysis-services-for-kerberos-constrained-delegation.md) for details.</span></span><br /><br /> <span data-ttu-id="4a537-164">Avalie quais portas devem ser desbloqueadas no Firewall do Windows.</span><span class="sxs-lookup"><span data-stu-id="4a537-164">Consider which ports to unblock in Windows Firewall.</span></span> <span data-ttu-id="4a537-165">Você precisará desbloquear portas em ambos os servidores para permitir o acesso ao aplicativo Web no IIS, e ao Analysis Services em um servidor remoto.</span><span class="sxs-lookup"><span data-stu-id="4a537-165">You will need to unblock ports on both servers to allow access to the web application on IIS, and to Analysis Services on a remote server.</span></span>|  
|<span data-ttu-id="4a537-166">Conexões de cliente são de um domínio não confiável ou de uma conexão de extranet</span><span class="sxs-lookup"><span data-stu-id="4a537-166">Client connections are from a non-trusted domain or an extranet connection</span></span>|<span data-ttu-id="4a537-167">Conexões de cliente de um domínio não confiável apresentam restrições adicionais na autenticação.</span><span class="sxs-lookup"><span data-stu-id="4a537-167">Client connections from a non-trusted domain introduce further restrictions on authentication.</span></span> <span data-ttu-id="4a537-168">Por padrão, o Analysis Services utiliza a autenticação integrada do Windows; ela exige que os usuários estejam no mesmo domínio que o servidor.</span><span class="sxs-lookup"><span data-stu-id="4a537-168">By default, Analysis Services uses Windows integrated authentication, which requires users to be on the same domain as the server.</span></span> <span data-ttu-id="4a537-169">Se você tiver usuários de Extranet que se conectam ao IIS de fora do domínio, esses usuários obterão um erro de conexão se o servidor for configurado para usar as configurações padrão.</span><span class="sxs-lookup"><span data-stu-id="4a537-169">If you have Extranet users who connect to IIS from outside the domain, those users will get a connection error if the server is configured to use the default settings.</span></span><br /><br /> <span data-ttu-id="4a537-170">Soluções alternativas incluem a conexão de usuários Extranet através de um VPN usando credenciais de domínio.</span><span class="sxs-lookup"><span data-stu-id="4a537-170">Workarounds include having Extranet users connect through a VPN using domain credentials.</span></span> <span data-ttu-id="4a537-171">Porém, talvez melhor opção seja habilitar a autenticação Básica e o SSL em seu site do IIS.</span><span class="sxs-lookup"><span data-stu-id="4a537-171">However, a better approach might be to enable Basic authentication and SSL on your IIS web site.</span></span>|  
  
##  <a name="prerequisites"></a><a name="bkmk_prereq"></a> <span data-ttu-id="4a537-172">Pré-requisitos</span><span class="sxs-lookup"><span data-stu-id="4a537-172">Prerequisites</span></span>  
 <span data-ttu-id="4a537-173">As instruções neste artigo presumem que o IIS já está configurado e que o Analysis Services já está instalado.</span><span class="sxs-lookup"><span data-stu-id="4a537-173">The instructions in this article assume IIS is already configured and that Analysis Services is already installed.</span></span> <span data-ttu-id="4a537-174">O Windows Server 2012 é fornecido com o IIS 8.x como uma função de servidor que pode ser habilitada no sistema.</span><span class="sxs-lookup"><span data-stu-id="4a537-174">Windows Server 2012 ships with IIS 8.x as a server role that you can enable on the system.</span></span>  
  
 <span data-ttu-id="4a537-175">**Configuração adicional no IIS 8.0**</span><span class="sxs-lookup"><span data-stu-id="4a537-175">**Extra configuration in IIS 8.0**</span></span>  
  
 <span data-ttu-id="4a537-176">Na configuração padrão do IIS 8.0 estão faltando componentes necessários para o acesso HTTP ao Analysis Services.</span><span class="sxs-lookup"><span data-stu-id="4a537-176">The default configuration of IIS 8.0 is missing components that are necessary for HTTP access to Analysis Services.</span></span> <span data-ttu-id="4a537-177">Esses componentes, encontrados nas áreas de recursos **Segurança** e **Desenvolvimento de aplicativos** da função **servidor Web (IIS)** , incluem o seguinte:</span><span class="sxs-lookup"><span data-stu-id="4a537-177">These components, found in the **Security** and **Application Development** feature areas of the **Web Server (IIS)** role, include the following:</span></span>  
  
-   <span data-ttu-id="4a537-178">**Segurança**  |  do **Autenticação do Windows**ou **autenticação básica**e quaisquer outros recursos de segurança necessários para o cenário de acesso a dados.</span><span class="sxs-lookup"><span data-stu-id="4a537-178">**Security** | **Windows Authentication**, or **Basic Authentication**, and any other security features required for your data access scenario.</span></span>  
  
-   <span data-ttu-id="4a537-179">**Desenvolvimento**  |  de aplicativos **CGI**</span><span class="sxs-lookup"><span data-stu-id="4a537-179">**Application Development** | **CGI**</span></span>  
  
-   <span data-ttu-id="4a537-180">**Desenvolvimento**  |  de aplicativos **Extensões ISAPI**</span><span class="sxs-lookup"><span data-stu-id="4a537-180">**Application Development** | **ISAPI Extensions**</span></span>  
  
 <span data-ttu-id="4a537-181">Para verificar ou adicionar esses componentes, use **Gerenciador do servidor**  |  **gerenciar**  |  **adicionar funções e recursos**.</span><span class="sxs-lookup"><span data-stu-id="4a537-181">To verify or add these components, use **Server Manager** | **Manage** | **Add Roles and Features**.</span></span> <span data-ttu-id="4a537-182">Percorrer o assistente até chegar nas **Funções de servidor**.</span><span class="sxs-lookup"><span data-stu-id="4a537-182">Step through the wizard until you get to **Server Roles**.</span></span> <span data-ttu-id="4a537-183">Role para baixo até localizar o **Servidor Web (IIS)**.</span><span class="sxs-lookup"><span data-stu-id="4a537-183">Scroll down to find **Web Server (IIS)**.</span></span>  
  
1.  <span data-ttu-id="4a537-184">Abra **Web Server**  |  a**segurança** do servidor Web e escolha os métodos de autenticação.</span><span class="sxs-lookup"><span data-stu-id="4a537-184">Open **Web Server** | **Security** and choose the authentication methods.</span></span>  
  
2.  <span data-ttu-id="4a537-185">Abra **Web Server**o  |  **desenvolvimento de aplicativos** de servidor Web e escolha **CGI** e **extensões ISAPI**.</span><span class="sxs-lookup"><span data-stu-id="4a537-185">Open **Web Server** | **Application Development** and choose **CGI** and **ISAPI Extensions**.</span></span>  
  
     <span data-ttu-id="4a537-186">![Adicionar página de recursos para a função de servidor Web](../media/ssas-httpaccess-isapicgi.png "Adicionar página de recursos para a função de servidor Web")</span><span class="sxs-lookup"><span data-stu-id="4a537-186">![Add features page for Web server role](../media/ssas-httpaccess-isapicgi.png "Add features page for Web server role")</span></span>  
  
 <span data-ttu-id="4a537-187">**Quando o IIS está em um servidor remoto**</span><span class="sxs-lookup"><span data-stu-id="4a537-187">**When IIS is on a remote server**</span></span>  
  
 <span data-ttu-id="4a537-188">Uma conexão remota entre o IIS e o Analysis Services exige a instalação do provedor OLE DB do Analysis Services (MSOLAP) no Windows server executando o IIS.</span><span class="sxs-lookup"><span data-stu-id="4a537-188">A remote connection between IIS and Analysis Services requires that you install the Analysis Services OLE DB provider (MSOLAP) on the Windows server running IIS.</span></span>  
  
1.  <span data-ttu-id="4a537-189">Vá para a página de download do [Feature Pack do SQL Server 2014](https://www.microsoft.com/download/details.aspx?id=42295)</span><span class="sxs-lookup"><span data-stu-id="4a537-189">Go to the download page for [SQL Server 2014 Feature Pack](https://www.microsoft.com/download/details.aspx?id=42295)</span></span>  
  
2.  <span data-ttu-id="4a537-190">Clique no botão Baixar.</span><span class="sxs-lookup"><span data-stu-id="4a537-190">Click the red Download button.</span></span>  
  
3.  <span data-ttu-id="4a537-191">Role para baixo para encontrar ENU\x64\SQL_AS_OLEDB.msi</span><span class="sxs-lookup"><span data-stu-id="4a537-191">Scroll down to find ENU\x64\SQL_AS_OLEDB.msi</span></span>  
  
4.  <span data-ttu-id="4a537-192">Siga as instruções no assistente para concluir a instalação.</span><span class="sxs-lookup"><span data-stu-id="4a537-192">Follow the instructions in the wizard to complete the installation.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="4a537-193">Lembre-se de desbloquear as portas no Firewall do Windows para permitir conexões de cliente a um servidor remoto do Analysis Services.</span><span class="sxs-lookup"><span data-stu-id="4a537-193">Remember to unblock the ports in Windows Firewall to allow client connections to a remote Analysis Services server.</span></span> <span data-ttu-id="4a537-194">Para obter mais informações, consulte [Configure the Windows Firewall to Allow Analysis Services Access](configure-the-windows-firewall-to-allow-analysis-services-access.md).</span><span class="sxs-lookup"><span data-stu-id="4a537-194">For more information, see [Configure the Windows Firewall to Allow Analysis Services Access](configure-the-windows-firewall-to-allow-analysis-services-access.md).</span></span>  
  
##  <a name="step-1-copy-the-msmdpump-files-to-a-folder-on-the-web-server"></a><a name="bkmk_copy"></a><span data-ttu-id="4a537-195">Etapa 1: copiar os arquivos MSMDPUMP para uma pasta no servidor Web</span><span class="sxs-lookup"><span data-stu-id="4a537-195">Step 1: Copy the MSMDPUMP files to a folder on the Web server</span></span>  
 <span data-ttu-id="4a537-196">Cada ponto de extremidade HTTP criado deve ter seu próprio conjunto de arquivos MSMDPUMP.</span><span class="sxs-lookup"><span data-stu-id="4a537-196">Each HTTP endpoint that you create must have its own set of MSMDPUMP files.</span></span> <span data-ttu-id="4a537-197">Nesta etapa, você copia o executável do MSMDPUMP, o arquivo de configuração e os arquivos de recurso das pastas de programas do Analysis Services para uma nova pasta de diretório virtual que será criada no sistema de arquivos do computador que está executando o IIS.</span><span class="sxs-lookup"><span data-stu-id="4a537-197">In this step, you copy the MSMDPUMP executable, configuration file, and resource folder from the Analysis Services program folders to a new virtual directory folder that you will create on the file system of the computer running IIS.</span></span>  
  
 <span data-ttu-id="4a537-198">A unidade deve ser formatada para o sistema de arquivos NTFS.</span><span class="sxs-lookup"><span data-stu-id="4a537-198">The drive must be formatted for the NTFS file system.</span></span> <span data-ttu-id="4a537-199">O caminho para a pasta que você cria não deve conter espaços.</span><span class="sxs-lookup"><span data-stu-id="4a537-199">The path to the folder that you create must not contain any spaces.</span></span>  
  
1.  <span data-ttu-id="4a537-200">Copie os seguintes arquivos, encontrados em \<drive> : \Program Files\Microsoft SQL Server \\<instância \> \OLAP\bin\isapi: MSMDPUMP.DLL, MSMDPUMP.INI e uma pasta de recursos.</span><span class="sxs-lookup"><span data-stu-id="4a537-200">Copy the following files, found at \<drive>:\Program Files\Microsoft SQL Server\\<instance\>\OLAP\bin\isapi: MSMDPUMP.DLL, MSMDPUMP.INI, and a Resources folder.</span></span>  
  
     <span data-ttu-id="4a537-201">![Explorador de arquivos mostrando arquivos para copiar](../media/ssas-httpaccess-msmdpumpfilecopy.PNG "Explorador de arquivos mostrando arquivos para copiar")</span><span class="sxs-lookup"><span data-stu-id="4a537-201">![File Explorer showing files to copy](../media/ssas-httpaccess-msmdpumpfilecopy.PNG "File Explorer showing files to copy")</span></span>  
  
2.  <span data-ttu-id="4a537-202">No servidor Web, crie uma nova pasta: \<drive> : \inetpub\wwwroot \\ **OLAP**</span><span class="sxs-lookup"><span data-stu-id="4a537-202">On the web server, create a new folder: \<drive>:\inetpub\wwwroot\\**OLAP**</span></span>  
  
3.  <span data-ttu-id="4a537-203">Cole os arquivos que você copiou anteriormente para essa nova pasta.</span><span class="sxs-lookup"><span data-stu-id="4a537-203">Paste the files that you previously copied into this new folder.</span></span>  
  
4.  <span data-ttu-id="4a537-204">Verifique se a pasta \inetpub\wwwroot\OLAP no servidor Web contém o seguinte: MSMDPUMP.DLL, MSMDPUMP.INI e uma pasta Resources.</span><span class="sxs-lookup"><span data-stu-id="4a537-204">Verify that the \inetpub\wwwroot\OLAP folder on your web server contains the following: MSMDPUMP.DLL, MSMDPUMP.INI, and a Resources folder.</span></span> <span data-ttu-id="4a537-205">A estrutura de pastas devem ter a seguinte aparência:</span><span class="sxs-lookup"><span data-stu-id="4a537-205">Your folder structure should look like this:</span></span>  
  
    -   <span data-ttu-id="4a537-206">\<drive>:\inetpub\wwwroot\OLAP\MSMDPUMP.dll</span><span class="sxs-lookup"><span data-stu-id="4a537-206">\<drive>:\inetpub\wwwroot\OLAP\MSMDPUMP.dll</span></span>  
  
    -   <span data-ttu-id="4a537-207">\<drive>:\inetpub\wwwroot\OLAP\MSMDPUMP.ini</span><span class="sxs-lookup"><span data-stu-id="4a537-207">\<drive>:\inetpub\wwwroot\OLAP\MSMDPUMP.ini</span></span>  
  
    -   <span data-ttu-id="4a537-208">\<drive>:\inetpub\wwwroot\OLAP\Resources</span><span class="sxs-lookup"><span data-stu-id="4a537-208">\<drive>:\inetpub\wwwroot\OLAP\Resources</span></span>  
  
##  <a name="step-2-create-an-application-pool-and-virtual-directory-in-iis"></a><a name="bkmk_appPool"></a> <span data-ttu-id="4a537-209">Etapa 2: Criar um pool de aplicativos e um diretório virtual no IIS</span><span class="sxs-lookup"><span data-stu-id="4a537-209">Step 2: Create an application pool and virtual directory in IIS</span></span>  
 <span data-ttu-id="4a537-210">Em seguida, crie um pool de aplicativos e um ponto de extremidade para a bomba.</span><span class="sxs-lookup"><span data-stu-id="4a537-210">Next, create an application pool and an endpoint to the pump.</span></span>  
  
#### <a name="create-an-application-pool"></a><span data-ttu-id="4a537-211">Criar um pool de aplicativos</span><span class="sxs-lookup"><span data-stu-id="4a537-211">Create an application pool</span></span>  
  
1.  <span data-ttu-id="4a537-212">Inicie o Gerenciador IIS.</span><span class="sxs-lookup"><span data-stu-id="4a537-212">Start IIS Manager.</span></span>  
  
2.  <span data-ttu-id="4a537-213">Abra a pasta do servidor, clique com o botão direito do mouse em **Pools de Aplicativos** e clique em **Adicionar Pool de Aplicativos**.</span><span class="sxs-lookup"><span data-stu-id="4a537-213">Open the server folder, right-click **Application Pools** and then click **Add Application Pool**.</span></span> <span data-ttu-id="4a537-214">Crie um pool de aplicativos denominado **OLAP**, utilizando o .NET Framework, com o modo de pipeline Gerenciado definido como **Clássico**.</span><span class="sxs-lookup"><span data-stu-id="4a537-214">Create an application pool named **OLAP**, using the .NET Framework, with Managed pipeline mode set to **Classic**.</span></span>  
  
     <span data-ttu-id="4a537-215">![Captura de tela da caixa de diálogo Adicionar Pool de Aplicativos](../media/ssas-httpaccess.PNG "Captura de tela da caixa de diálogo Adicionar Pool de Aplicativos")</span><span class="sxs-lookup"><span data-stu-id="4a537-215">![Screenshot of Add Application Pool dialog](../media/ssas-httpaccess.PNG "Screenshot of Add Application Pool dialog")</span></span>  
  
3.  <span data-ttu-id="4a537-216">Por padrão, o IIS cria pools de aplicativos utilizando **ApplicationPoolIdentity** como a identidade de segurança, que é uma opção válida para o acesso HTTP ao Analysis Services.</span><span class="sxs-lookup"><span data-stu-id="4a537-216">By default, IIS creates application pools using **ApplicationPoolIdentity** as the security identity, which is a valid choice for HTTP access to Analysis Services.</span></span> <span data-ttu-id="4a537-217">Se houver motivos específicos para alterar a identidade, clique com o botão direito do mouse em **OLAP**e, em seguida, selecione **Configurações avançadas**.</span><span class="sxs-lookup"><span data-stu-id="4a537-217">If you have specific reasons for changing the identity, right-click **OLAP**, and then select **Advanced Settings**.</span></span> <span data-ttu-id="4a537-218">Selecione **ApplicationPoolIdentity**.</span><span class="sxs-lookup"><span data-stu-id="4a537-218">Select **ApplicationPoolIdentity**.</span></span> <span data-ttu-id="4a537-219">Clique no botão **Alterar** para que esta propriedade substitua a conta interna pela conta personalizada a ser usada.</span><span class="sxs-lookup"><span data-stu-id="4a537-219">Click the **Change** button for this property to replace the built-in account with the custom account you want to use.</span></span>  
  
     <span data-ttu-id="4a537-220">![Captura de tela da página de propriedades das Configurações Avançadas](../media/ssas-httpaccess-advsettings.PNG "Captura de tela da página de propriedades das Configurações Avançadas")</span><span class="sxs-lookup"><span data-stu-id="4a537-220">![Screenshot of Advanced Settings property page](../media/ssas-httpaccess-advsettings.PNG "Screenshot of Advanced Settings property page")</span></span>  
  
4.  <span data-ttu-id="4a537-221">Por padrão, em um sistema operacional de 64 bits, o IIS define a propriedade **Enable 32-bit Applications** como **false**.</span><span class="sxs-lookup"><span data-stu-id="4a537-221">By default, on a 64-bit operating system, IIS sets the **Enable 32-bit Applications** property to **false**.</span></span> <span data-ttu-id="4a537-222">Se você copiou msmdpump.dll de uma instalação de 64 bits do Analysis Services, esta será a configuração correta para a extensão MSMDPUMP em um servidor IIS de 64 bits.</span><span class="sxs-lookup"><span data-stu-id="4a537-222">If you copied msmdpump.dll from a 64-bit installation of Analysis Services, this is the correct setting for the MSMDPUMP extension on a 64-bit IIS server.</span></span> <span data-ttu-id="4a537-223">Se você copiou os binários de MSMDPUMP de uma instalação de 32 bits, defina-a como **true**.</span><span class="sxs-lookup"><span data-stu-id="4a537-223">If you copied the MSMDPUMP binaries from a 32-bit installation, set it to **true**.</span></span> <span data-ttu-id="4a537-224">Verifique se agora a propriedade em **Configurações avançadas** foi definida corretamente.</span><span class="sxs-lookup"><span data-stu-id="4a537-224">Check this property now in **Advanced Settings** to ensure it is set correctly.</span></span>  
  
#### <a name="create-an-application"></a><span data-ttu-id="4a537-225">Criar um aplicativo</span><span class="sxs-lookup"><span data-stu-id="4a537-225">Create an application</span></span>  
  
1.  <span data-ttu-id="4a537-226">No Gerenciador do IIS, abra **Sites**, depois abra **Site Padrão**.</span><span class="sxs-lookup"><span data-stu-id="4a537-226">In IIS Manager, open **Sites**, open **Default Web Site**.</span></span> <span data-ttu-id="4a537-227">Você verá uma pasta chamada **Olap**.</span><span class="sxs-lookup"><span data-stu-id="4a537-227">You should see a folder named **Olap**.</span></span> <span data-ttu-id="4a537-228">Essa é uma referência à pasta OLAP criada em \inetpub\wwwroot.</span><span class="sxs-lookup"><span data-stu-id="4a537-228">This is a reference to the OLAP folder you created under \inetpub\wwwroot.</span></span>  
  
     <span data-ttu-id="4a537-229">![Pasta OLAP no site padrão](../media/ssas-httpaccess-convertfolderbefore.png "Pasta OLAP no site padrão")</span><span class="sxs-lookup"><span data-stu-id="4a537-229">![OLAP folder under default web site](../media/ssas-httpaccess-convertfolderbefore.png "OLAP folder under default web site")</span></span>  
  
2.  <span data-ttu-id="4a537-230">Clique com o botão direito do mouse na pasta e escolha **Converter em aplicativo**.</span><span class="sxs-lookup"><span data-stu-id="4a537-230">Right-click the folder and choose **Convert to Application**.</span></span>  
  
3.  <span data-ttu-id="4a537-231">Em Adicionar aplicativo, digite **OLAP** para o alias.</span><span class="sxs-lookup"><span data-stu-id="4a537-231">In Add Application, enter **OLAP** for the alias.</span></span> <span data-ttu-id="4a537-232">Clique em **Selecionar** para escolher o pool de aplicativos OLAP.</span><span class="sxs-lookup"><span data-stu-id="4a537-232">Click **Select** to choose the OLAP application pool.</span></span> <span data-ttu-id="4a537-233">O caminho físico deve ser definido como C:\inetpub\wwwroot\OLAP</span><span class="sxs-lookup"><span data-stu-id="4a537-233">Physical Path should be set to C:\inetpub\wwwroot\OLAP</span></span>  
  
     <span data-ttu-id="4a537-234">![Adicionar caixa de diálogo de aplicativo](../media/ssas-httpaccess-convertedapp.png "Adicionar caixa de diálogo de aplicativo")</span><span class="sxs-lookup"><span data-stu-id="4a537-234">![Add Application dialog box](../media/ssas-httpaccess-convertedapp.png "Add Application dialog box")</span></span>  
  
4.  <span data-ttu-id="4a537-235">Clique em **OK**.</span><span class="sxs-lookup"><span data-stu-id="4a537-235">Click **OK**.</span></span> <span data-ttu-id="4a537-236">Atualize o site e observe que a pasta OLAP agora é um aplicativo no Site Padrão.</span><span class="sxs-lookup"><span data-stu-id="4a537-236">Refresh the web site and notice that the OLAP folder is now an application under the default web site.</span></span> <span data-ttu-id="4a537-237">O caminho virtual para o arquivo MSMDPUMP agora está estabelecido.</span><span class="sxs-lookup"><span data-stu-id="4a537-237">The virtual path to the MSMDPUMP file is now established.</span></span>  
  
     <span data-ttu-id="4a537-238">![Pasta OLAP após a conversão do aplicativo](../media/ssas-httpaccess-convertfolderafter.png "Pasta OLAP após a conversão do aplicativo")</span><span class="sxs-lookup"><span data-stu-id="4a537-238">![OLAP folder after app conversion](../media/ssas-httpaccess-convertfolderafter.png "OLAP folder after app conversion")</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="4a537-239">Versões anteriores dessas instruções incluíam etapas para criar um diretório virtual.</span><span class="sxs-lookup"><span data-stu-id="4a537-239">Previous versions of these instructions included steps for creating a virtual directory.</span></span> <span data-ttu-id="4a537-240">Essa etapa não é mais necessária.</span><span class="sxs-lookup"><span data-stu-id="4a537-240">That step is no longer necessary.</span></span>  
  
##  <a name="step-3-configure-iis-authentication-and-add-the-extension"></a><a name="bkmk_auth"></a> <span data-ttu-id="4a537-241">Etapa 3: Configurar a autenticação do IIS e adicionar a extensão</span><span class="sxs-lookup"><span data-stu-id="4a537-241">Step 3: Configure IIS authentication and add the extension</span></span>  
 <span data-ttu-id="4a537-242">Nesta etapa, você configura mais o diretório virtual do SSAS recém-criado.</span><span class="sxs-lookup"><span data-stu-id="4a537-242">In this step, you further configure the SSAS virtual directory you just created.</span></span> <span data-ttu-id="4a537-243">Você especificará um método de autenticação e depois adicionará um mapa de script.</span><span class="sxs-lookup"><span data-stu-id="4a537-243">You will specify an authentication method and then add a script map.</span></span> <span data-ttu-id="4a537-244">Estes são métodos de autenticação com suporte para o Analysis Services sobre HTTP:</span><span class="sxs-lookup"><span data-stu-id="4a537-244">Supported authentication methods for Analysis Services over HTTP include:</span></span>  
  
-   <span data-ttu-id="4a537-245">Autenticação do Windows (Kerberos ou NTLM)</span><span class="sxs-lookup"><span data-stu-id="4a537-245">Windows authentication (Kerberos or NTLM)</span></span>  
  
-   <span data-ttu-id="4a537-246">Autenticação básica</span><span class="sxs-lookup"><span data-stu-id="4a537-246">Basic authentication</span></span>  
  
-   <span data-ttu-id="4a537-247">Autenticação anônima</span><span class="sxs-lookup"><span data-stu-id="4a537-247">Anonymous authentication</span></span>  
  
 <span data-ttu-id="4a537-248">A**Autenticação do Windows** é considerada a alternativa mais segura, e aproveita a infraestrutura existente das redes que usam o Active Directory.</span><span class="sxs-lookup"><span data-stu-id="4a537-248">**Windows authentication** is considered the most secure, and leverages existing infrastructure for networks that use Active Directory.</span></span> <span data-ttu-id="4a537-249">Para usar a autenticação do Windows com eficiência, todos os navegadores, aplicativos cliente e aplicativos de servidor devem oferecer suporte a ela.</span><span class="sxs-lookup"><span data-stu-id="4a537-249">To use Windows authentication effectively, all browsers, client applications, and server applications must support it.</span></span> <span data-ttu-id="4a537-250">Esse é o modo mais seguro e recomendado, mas requer que o IIS acesse um controlador de domínio do Windows que possa autenticar a identidade do usuário que está solicitando uma conexão.</span><span class="sxs-lookup"><span data-stu-id="4a537-250">This is the most secure and recommended mode, but it requires that IIS be able to access a Windows domain controller that can authenticate the identity of the user requesting a connection.</span></span>  
  
 <span data-ttu-id="4a537-251">Nas topologias que colocam o Analysis Services e o IIS em computadores diferentes, você precisará solucionar os problemas de salto duplo que ocorrem quando uma identidade de usuário precisa ser delegada a um segundo serviço em um computador remoto, normalmente habilitando o Analysis Services para delegação restrita de Kerberos.</span><span class="sxs-lookup"><span data-stu-id="4a537-251">For topologies that put Analysis Services and IIS on different computers, you will need to address double-hop issues that arise when a user identity needs to be delegated to a second service on a remote machine, typically by enabling Analysis Services for Kerberos constrained delegation.</span></span> <span data-ttu-id="4a537-252">Para obter mais informações, consulte [Configure Analysis Services for Kerberos constrained delegation](configure-analysis-services-for-kerberos-constrained-delegation.md).</span><span class="sxs-lookup"><span data-stu-id="4a537-252">For more information, see [Configure Analysis Services for Kerberos constrained delegation](configure-analysis-services-for-kerberos-constrained-delegation.md).</span></span>  
  
 <span data-ttu-id="4a537-253">A**Autenticação Básica** é usada quando você tem identidades do Windows, mas as conexões de usuário são provenientes de domínios não confiáveis, proibindo o uso de conexões representadas ou delegadas.</span><span class="sxs-lookup"><span data-stu-id="4a537-253">**Basic authentication** is used when you have Windows identities, but user connections are from non-trusted domains, prohibiting the use of delegated or impersonated connections.</span></span> <span data-ttu-id="4a537-254">A autenticação Básica permite especificar uma identidade de usuário e uma senha em uma cadeia de conexão.</span><span class="sxs-lookup"><span data-stu-id="4a537-254">Basic authentication lets you specify a user identity and password on a connection string.</span></span> <span data-ttu-id="4a537-255">Em vez de usar o contexto de segurança do usuário atual, as credenciais na cadeia de conexão são usadas para estabelecer a conexão com o Analysis Services.</span><span class="sxs-lookup"><span data-stu-id="4a537-255">Instead of using the security context of the current user, credentials on the connection string are used to connect to Analysis Services.</span></span> <span data-ttu-id="4a537-256">Como o Analysis Services oferece suporte apenas à autenticação do Windows, quaisquer credenciais passadas para ele devem ser um usuário ou grupo do Windows que seja membro do domínio em que o Analysis Services está hospedado.</span><span class="sxs-lookup"><span data-stu-id="4a537-256">Because Analysis Services supports only Windows authentication, any credentials passed to it must be a Windows user or group that is a member of the domain in which Analysis Services is hosted.</span></span>  
  
 <span data-ttu-id="4a537-257">A**Autenticação anônima** é frequentemente usada durante o teste inicial porque a facilidade de configuração ajuda a validar rapidamente a conectividade HTTP com o Analysis Services.</span><span class="sxs-lookup"><span data-stu-id="4a537-257">**Anonymous authentication** is often used during initial testing because its ease of configuration helps you to quickly validate HTTP connectivity to Analysis Services.</span></span> <span data-ttu-id="4a537-258">Em apenas algumas etapas, você pode atribuir uma conta de usuário exclusiva como identidade, conceder essas permissões de conta no Analysis Services, usar a conta para verificar o acesso aos dados em um aplicativo cliente e, em seguida, desabilitar a autenticação Anônima quando o teste for concluído.</span><span class="sxs-lookup"><span data-stu-id="4a537-258">In just a few steps, you can assign a unique user account as the identity, grant that account permissions in Analysis Services, use the account to verify data access in a client application, and then disable Anonymous authentication when testing is complete.</span></span>  
  
 <span data-ttu-id="4a537-259">Você também poderá usar a autenticação Anônima em um ambiente de produção se os usuários não tiverem contas de usuário do Windows, mas siga as práticas recomendadas bloqueando as permissões no sistema host, conforme destacado neste artigo: [Habilitar a autenticação Anônima (IIS 7)](https://technet.microsoft.com/library/cc731244\(v=ws.10\).aspx).</span><span class="sxs-lookup"><span data-stu-id="4a537-259">You can also use Anonymous authentication in a production environment if your users do not have Windows user accounts, but follow best practices by locking down permissions on the host system, as called out in this article: [Enable Anonymous Authentication (IIS 7)](https://technet.microsoft.com/library/cc731244\(v=ws.10\).aspx).</span></span> <span data-ttu-id="4a537-260">Verifique se a autenticação está definida no diretório virtual, e não no site pai, a fim de reduzir ainda mais o nível da conta de acesso.</span><span class="sxs-lookup"><span data-stu-id="4a537-260">Be sure that authentication is set on the virtual directory, and not on the parent web site, to further reduce the level of account access.</span></span>  
  
 <span data-ttu-id="4a537-261">Quando a opção Anônima for habilitada, qualquer conexão de usuário com o ponto de extremidade HTTP será permitida como usuário anônimo.</span><span class="sxs-lookup"><span data-stu-id="4a537-261">When Anonymous is enabled, any user connection to the HTTP endpoint is allowed to connect as the anonymous user.</span></span> <span data-ttu-id="4a537-262">Você não poderá auditar conexões de usuário individuais nem usar a identidade do usuário para selecionar dados de um modelo.</span><span class="sxs-lookup"><span data-stu-id="4a537-262">You won't be able to audit individual user connections, nor use the user identity to select data from a model.</span></span> <span data-ttu-id="4a537-263">Como você pode ver, o uso da opção Anônima impacta tudo, do modelo de design ao acesso e à atualização dos dados.</span><span class="sxs-lookup"><span data-stu-id="4a537-263">As you can see, using Anonymous impacts everything from model design, to data refresh and access.</span></span> <span data-ttu-id="4a537-264">No entanto, se os usuários não tiverem um logon de usuário do Windows para começar, o uso da conta Anônima talvez seja sua única opção.</span><span class="sxs-lookup"><span data-stu-id="4a537-264">However, if users do not have a Windows user login to start with, using the Anonymous account might be your only option.</span></span>  
  
#### <a name="set-the-authentication-type-and-add-a-script-map"></a><span data-ttu-id="4a537-265">Definir o tipo de autenticação e adicionar um mapa de script</span><span class="sxs-lookup"><span data-stu-id="4a537-265">Set the authentication type and add a script map</span></span>  
  
1.  <span data-ttu-id="4a537-266">No Gerenciador do IIS, abra **Sites**, abra **Site Padrão da Web**e selecione o diretório virtual **OLAP** .</span><span class="sxs-lookup"><span data-stu-id="4a537-266">In IIS Manager, open **Sites**, open **Default Web Site**, and then select the **OLAP** virtual directory.</span></span>  
  
2.  <span data-ttu-id="4a537-267">Clique duas vezes em **Autenticação** na seção de IIS da página principal.</span><span class="sxs-lookup"><span data-stu-id="4a537-267">Double-click **Authentication** in the IIS section of the main page.</span></span>  
  
     <span data-ttu-id="4a537-268">![Captura de tela da página principal do Gerenciador do IIS](../media/ssas-httpaccess-iis.png "Captura de tela da página principal do Gerenciador do IIS")</span><span class="sxs-lookup"><span data-stu-id="4a537-268">![Screenshot of IIS Manager main page](../media/ssas-httpaccess-iis.png "Screenshot of IIS Manager main page")</span></span>  
  
3.  <span data-ttu-id="4a537-269">Habilite **Autenticação do Windows** se estiver usando a segurança integrada do Windows.</span><span class="sxs-lookup"><span data-stu-id="4a537-269">Enable **Windows Authentication** if you are using Windows integrated security.</span></span>  
  
     <span data-ttu-id="4a537-270">![Captura de tela das configurações de Autenticação de Vdir](../media/ssas-httpaccess-iisauth.png "Captura de tela das configurações de Autenticação de Vdir")</span><span class="sxs-lookup"><span data-stu-id="4a537-270">![Screenshot of Vdir Authentication settings](../media/ssas-httpaccess-iisauth.png "Screenshot of Vdir Authentication settings")</span></span>  
  
4.  <span data-ttu-id="4a537-271">Se desejar, habilite **Autenticação Básica** se os aplicativos cliente e de servidor estiverem em domínios diferentes.</span><span class="sxs-lookup"><span data-stu-id="4a537-271">Alternatively, enable **Basic Authentication** if your client and server applications are in different domains.</span></span> <span data-ttu-id="4a537-272">Este modo exige que o usuário insira um nome de usuário e uma senha.</span><span class="sxs-lookup"><span data-stu-id="4a537-272">This mode requires the user to enter a user name and password.</span></span> <span data-ttu-id="4a537-273">O nome de usuário e a senha são transmitidos na conexão HTTP para IIS.</span><span class="sxs-lookup"><span data-stu-id="4a537-273">The user name and password are transmitted over the HTTP connection to IIS.</span></span> <span data-ttu-id="4a537-274">O IIS tentará representar o usuário usando as credenciais fornecidas ao conectar-se ao MSMDPUMP, mas as credenciais não serão delegadas ao Analysis Services.</span><span class="sxs-lookup"><span data-stu-id="4a537-274">IIS will try to impersonate the user using the provided credentials when connecting to MSMDPUMP, but the credentials will not be delegated to Analysis Services.</span></span> <span data-ttu-id="4a537-275">Em vez disso, você precisará passar um nome de usuário e uma senha válidos em uma conexão, conforme descrito na Etapa 6 deste documento.</span><span class="sxs-lookup"><span data-stu-id="4a537-275">Instead, you will need to pass a valid user name and password on a connection, as described in Step 6 in this document.</span></span>  
  
    > [!IMPORTANT]  
    >  <span data-ttu-id="4a537-276">Observe que é imperativo para qualquer pessoa que esteja compilando um sistema onde a senha é transmitida que encontre formas de proteger o canal de comunicação.</span><span class="sxs-lookup"><span data-stu-id="4a537-276">Please note that it is imperative for anyone building a system where the password is transmitted to have ways of securing the communication channel.</span></span> <span data-ttu-id="4a537-277">O IIS fornece um conjunto de ferramentas que o ajudam a proteger o canal.</span><span class="sxs-lookup"><span data-stu-id="4a537-277">IIS provides a set of tools that help you secure the channel.</span></span> <span data-ttu-id="4a537-278">Para obter mais informações, consulte [como configurar o SSL no IIS 7](https://go.microsoft.com/fwlink/?LinkId=207562).</span><span class="sxs-lookup"><span data-stu-id="4a537-278">For more information, see [How to Set Up SSL on IIS 7](https://go.microsoft.com/fwlink/?LinkId=207562).</span></span>  
  
5.  <span data-ttu-id="4a537-279">Desabilite **Autenticação Anônima** se estiver usando a autenticação Básica ou do Windows.</span><span class="sxs-lookup"><span data-stu-id="4a537-279">Disable **Anonymous Authentication** if you are using Windows or Basic authentication.</span></span> <span data-ttu-id="4a537-280">Quando a autenticação Anônima for habilitada, o IIS sempre a usará primeiro, mesmo se outros métodos de autenticação estiverem habilitados.</span><span class="sxs-lookup"><span data-stu-id="4a537-280">When Anonymous authentication is enabled, IIS will always use it first, even if other authentication methods are enabled.</span></span>  
  
     <span data-ttu-id="4a537-281">Na autenticação Anônima, a bomba (msmdpump.dll) é executada como a conta de usuário estabelecida para o usuário anônimo.</span><span class="sxs-lookup"><span data-stu-id="4a537-281">Under Anonymous authentication, the pump (msmdpump.dll) runs as the user account you established for anonymous user.</span></span> <span data-ttu-id="4a537-282">Não há distinção entre o usuário que está se conectando o IIS e o usuário que está se conectando ao Analysis Services.</span><span class="sxs-lookup"><span data-stu-id="4a537-282">There is no distinction between the user connecting to IIS and the user connecting to Analysis Services.</span></span> <span data-ttu-id="4a537-283">Por padrão, o IIS usa a conta IUSR, mas é possível transformá-la em uma conta de usuário de domínio que tenha permissões de rede.</span><span class="sxs-lookup"><span data-stu-id="4a537-283">By default, IIS uses the IUSR account, but you can change it to a domain user account that has network permissions.</span></span> <span data-ttu-id="4a537-284">Você precisará dessa funcionalidade se o IIS e Analysis Services estiverem em computadores diferentes.</span><span class="sxs-lookup"><span data-stu-id="4a537-284">You'll need this capability if IIS and Analysis Services are on different computers.</span></span>  
  
     <span data-ttu-id="4a537-285">Para obter instruções sobre como configurar credenciais para a autenticação Anônima, consulte [Autenticação Anônima](http://www.iis.net/configreference/system.webserver/security/authentication/anonymousauthentication).</span><span class="sxs-lookup"><span data-stu-id="4a537-285">For instructions on how to configure credentials for Anonymous authentication, see [Anonymous Authentication](http://www.iis.net/configreference/system.webserver/security/authentication/anonymousauthentication).</span></span>  
  
    > [!IMPORTANT]  
    >  <span data-ttu-id="4a537-286">A autenticação Anônima é mais utilizada em um ambiente extremamente controlado, onde o acesso é concedido ou negado aos usuários através de listas de controle de acesso no sistema de arquivos.</span><span class="sxs-lookup"><span data-stu-id="4a537-286">Anonymous authentication is most likely found in an extremely controlled environment, where users are given or denied access by way of access control lists in the file system.</span></span> <span data-ttu-id="4a537-287">Para obter as práticas recomendadas, veja [Habilitar a autenticação Anônima (IIS 7)](https://technet.microsoft.com/library/cc731244\(v=ws.10\).aspx).</span><span class="sxs-lookup"><span data-stu-id="4a537-287">For best practices, see [Enable Anonymous Authentication (IIS 7)](https://technet.microsoft.com/library/cc731244\(v=ws.10\).aspx).</span></span>  
  
6.  <span data-ttu-id="4a537-288">Clique no diretório virtual **OLAP** para abrir a página principal.</span><span class="sxs-lookup"><span data-stu-id="4a537-288">Click the **OLAP** virtual directory to open the main page.</span></span> <span data-ttu-id="4a537-289">Clique duas vezes em **Mapeamentos do Manipulador**.</span><span class="sxs-lookup"><span data-stu-id="4a537-289">Double-click **Handler Mappings**.</span></span>  
  
     <span data-ttu-id="4a537-290">![Ícone de mapeamento de manipulador na página de recursos](../media/ssas-httpaccess-handlermapping.png "Ícone de mapeamento de manipulador na página de recursos")</span><span class="sxs-lookup"><span data-stu-id="4a537-290">![Handler mapping icon in feature page](../media/ssas-httpaccess-handlermapping.png "Handler mapping icon in feature page")</span></span>  
  
7.  <span data-ttu-id="4a537-291">Clique com o botão direito do mouse em qualquer ponto da página e selecione **Adicionar Mapa de Script**.</span><span class="sxs-lookup"><span data-stu-id="4a537-291">Right-click anywhere on the page and then select **Add Script Map**.</span></span> <span data-ttu-id="4a537-292">Na caixa de diálogo adicionar mapa de script, especifique \*\* \* . dll\*\* como o caminho de solicitação, especifique c:\inetpub\wwwroot\OLAP\msmdpump.dll como o executável e digite **OLAP** como o nome.</span><span class="sxs-lookup"><span data-stu-id="4a537-292">In the Add Script Map dialog box, specify **\*.dll** as the request path, specify c:\inetpub\wwwroot\OLAP\msmdpump.dll as the executable, and type **OLAP** as the name.</span></span> <span data-ttu-id="4a537-293">Mantenha todas as restrições padrão associadas a esse mapa de script.</span><span class="sxs-lookup"><span data-stu-id="4a537-293">Keep all of the default restrictions associated with this script map.</span></span>  
  
     <span data-ttu-id="4a537-294">![Captura de tela da caixa de diálogo Adicionar Mapa de Script](../media/ssas-httpaccess-addscript.png "Captura de tela da caixa de diálogo Adicionar Mapa de Script")</span><span class="sxs-lookup"><span data-stu-id="4a537-294">![Screenshot of Add Script Map dialog box](../media/ssas-httpaccess-addscript.png "Screenshot of Add Script Map dialog box")</span></span>  
  
8.  <span data-ttu-id="4a537-295">Quando for solicitado a permitir a extensão ISAPI, clique em **Sim**.</span><span class="sxs-lookup"><span data-stu-id="4a537-295">When prompted to allow the ISAPI extension, click **Yes**.</span></span>  
  
     <span data-ttu-id="4a537-296">![Captura de tela de confirmação para adicionar a extensão ISAPI](../media/ssas-httpaccess-isapiprompt.png "Captura de tela de confirmação para adicionar a extensão ISAPI")</span><span class="sxs-lookup"><span data-stu-id="4a537-296">![Screenshot of confirmation to add ISAPI extension](../media/ssas-httpaccess-isapiprompt.png "Screenshot of confirmation to add ISAPI extension")</span></span>  
  
##  <a name="step-4-edit-the-msmdpumpini-file-to-set-the-target-server"></a><a name="bkmk_edit"></a> <span data-ttu-id="4a537-297">Etapa 4: Editar o arquivo MSMDPUMP.INI para definir o servidor de destino</span><span class="sxs-lookup"><span data-stu-id="4a537-297">Step 4: Edit the MSMDPUMP.INI file to set the target server</span></span>  
 <span data-ttu-id="4a537-298">O arquivo MSMDPUMP.INI especifica a instância do Analysis Services ao qual o MSMDPUMP.DLL se conecta.</span><span class="sxs-lookup"><span data-stu-id="4a537-298">The MSMDPUMP.INI file specifies the Analysis Services instance that MSMDPUMP.DLL connects to.</span></span> <span data-ttu-id="4a537-299">A instância pode ser local ou remota, instalada como padrão ou como uma instância nomeada.</span><span class="sxs-lookup"><span data-stu-id="4a537-299">This instance can be local or remote, installed as the default or as a named instance.</span></span>  
  
 <span data-ttu-id="4a537-300">Abra o arquivo msmdpump.ini localizado na pasta C:\inetpub\wwwroot\OLAP e verifique o conteúdo desse arquivo.</span><span class="sxs-lookup"><span data-stu-id="4a537-300">Open the msmdpump.ini file located in folder C:\inetpub\wwwroot\OLAP and take a look at the contents of this file.</span></span> <span data-ttu-id="4a537-301">Ela será semelhante ao seguinte:</span><span class="sxs-lookup"><span data-stu-id="4a537-301">It should look like the following:</span></span>  
  
```  
<ConfigurationSettings>  
<ServerName>localhost</ServerName>  
<SessionTimeout>3600</SessionTimeout>  
<ConnectionPoolSize>100</ConnectionPoolSize>  
</ConfigurationSettings>  
  
```  
  
 <span data-ttu-id="4a537-302">Se a instância do Analysis Services para a qual você está configurando o acesso de HTTP estiver localizada no computador local e instala como uma instância padrão, não haverá razão para alterar esta configuração.</span><span class="sxs-lookup"><span data-stu-id="4a537-302">If the Analysis Services instance for which you are configuring HTTP access is located on the local computer and installed as a default instance, there is no reason to change this setting.</span></span> <span data-ttu-id="4a537-303">Caso contrário, você deve especificar o nome do servidor (por exemplo, \<ServerName> ADWRKS-Srv01 \</ServerName> ).</span><span class="sxs-lookup"><span data-stu-id="4a537-303">Otherwise, you must specify the server name (for example, \<ServerName>ADWRKS-SRV01\</ServerName>).</span></span> <span data-ttu-id="4a537-304">Para um servidor instalado como uma instância nomeada, certifique-se de acrescentar o nome da instância (por exemplo, \<ServerName> ADWRKS-SRV01\Tabular \</ServerName> ).</span><span class="sxs-lookup"><span data-stu-id="4a537-304">For a server that is installed as a named instance, be sure to append the instance name (for example, \<ServerName>ADWRKS-SRV01\Tabular\</ServerName>).</span></span>  
  
 <span data-ttu-id="4a537-305">Por padrão, o Analysis Services escuta na porta TCP/IP 2383.</span><span class="sxs-lookup"><span data-stu-id="4a537-305">By default, Analysis Services listens on TCP/IP port 2383.</span></span> <span data-ttu-id="4a537-306">Se você instalou Analysis Services como a instância padrão, não será necessário especificar nenhuma porta no \<ServerName> porque Analysis Services sabe como escutar a porta 2383 automaticamente.</span><span class="sxs-lookup"><span data-stu-id="4a537-306">If you installed Analysis Services as the default instance, you do not need to specify any port in \<ServerName> because Analysis Services knows how to listen on port 2383 automatically.</span></span> <span data-ttu-id="4a537-307">Porém, você precisa permitir conexões de entrada a essa porta no Firewall do Windows.</span><span class="sxs-lookup"><span data-stu-id="4a537-307">However, you do need to allow inbound connections to that port in Windows Firewall.</span></span> <span data-ttu-id="4a537-308">Para obter mais informações, consulte [Configure the Windows Firewall to Allow Analysis Services Access](configure-the-windows-firewall-to-allow-analysis-services-access.md).</span><span class="sxs-lookup"><span data-stu-id="4a537-308">For more information, see [Configure the Windows Firewall to Allow Analysis Services Access](configure-the-windows-firewall-to-allow-analysis-services-access.md).</span></span>  
  
 <span data-ttu-id="4a537-309">Se você configurou uma instância nomeada ou padrão do Analysis Services para escutar em uma porta fixa, você deve adicionar o número da porta ao nome do servidor (por exemplo, \<ServerName> aw-srv01:55555 \</ServerName> ) e deve permitir conexões de entrada no firewall do Windows para essa porta.</span><span class="sxs-lookup"><span data-stu-id="4a537-309">If you configured a named or default instance of Analysis Services to listen on a fixed port, you must add the port number to the server name (for example, \<ServerName>AW-SRV01:55555\</ServerName>) and you must allow inbound connections in Windows Firewall to that port.</span></span>  
  
## <a name="step-5-grant-data-access-permissions"></a><span data-ttu-id="4a537-310">Etapa 5: Conceder permissões de acesso a dados</span><span class="sxs-lookup"><span data-stu-id="4a537-310">Step 5: Grant data access permissions</span></span>  
 <span data-ttu-id="4a537-311">Como mencionado anteriormente, será preciso conceder permissões à instância do Analysis Services.</span><span class="sxs-lookup"><span data-stu-id="4a537-311">As previously noted, you will need to grant permissions on the Analysis Services instance.</span></span> <span data-ttu-id="4a537-312">Cada objeto de banco de dados terá funções que fornecem um nível específico de permissões (leitura ou leitura/gravação), e cada função terá os membros que consistem em identidades de usuário do Windows.</span><span class="sxs-lookup"><span data-stu-id="4a537-312">Each database object will have roles that provide a given level of permissions (read or read/write), and each role will have members consisting of Windows user identities.</span></span>  
  
 <span data-ttu-id="4a537-313">Para definir permissões, você pode usar o SQL Server Management Studio.</span><span class="sxs-lookup"><span data-stu-id="4a537-313">To set permissions, you can use SQL Server Management Studio.</span></span> <span data-ttu-id="4a537-314">Na pasta funções de **banco de dados**  |  **Roles** , você pode criar funções, especificar permissões de banco de dados, atribuir associação a contas de usuário ou de grupo do Windows e conceder permissões de leitura ou gravação em objetos específicos.</span><span class="sxs-lookup"><span data-stu-id="4a537-314">Under the **Database** | **Roles** folder, you can create roles, specify database permissions, assign membership to Windows user or group accounts, and then grant read or write permissions on specific objects.</span></span> <span data-ttu-id="4a537-315">Normalmente, as permissões de **Leitura** em um cubo são suficientes para as conexões de cliente que usam, mas não atualizam, dados do modelo.</span><span class="sxs-lookup"><span data-stu-id="4a537-315">Typically, **Read** permissions on a cube are sufficient for client connections that use, but do not update, model data.</span></span>  
  
 <span data-ttu-id="4a537-316">A atribuição de função varia dependendo de como você configurou a autenticação.</span><span class="sxs-lookup"><span data-stu-id="4a537-316">Role assignment varies depending on how you configured authentication.</span></span>  
  
|||  
|-|-|  
|<span data-ttu-id="4a537-317">Anônima</span><span class="sxs-lookup"><span data-stu-id="4a537-317">Anonymous</span></span>|<span data-ttu-id="4a537-318">Adicione, à lista de associações, a conta especificada em **Editar Credenciais de Autenticação Anônima** no IIS.</span><span class="sxs-lookup"><span data-stu-id="4a537-318">Add to the Membership list the account specified in **Edit Anonymous Authentication Credentials** in IIS.</span></span> <span data-ttu-id="4a537-319">Para obter mais informações, consulte [Autenticação Anônima](http://www.iis.net/configreference/system.webserver/security/authentication/anonymousauthentication),</span><span class="sxs-lookup"><span data-stu-id="4a537-319">For more information, see [Anonymous Authentication](http://www.iis.net/configreference/system.webserver/security/authentication/anonymousauthentication),</span></span>|  
|<span data-ttu-id="4a537-320">Autenticação do Windows</span><span class="sxs-lookup"><span data-stu-id="4a537-320">Windows authentication</span></span>|<span data-ttu-id="4a537-321">Adicione, à lista de associações, as contas de grupo ou de usuário do Windows que estão solicitando dados do Analysis Services por representação ou delegação.</span><span class="sxs-lookup"><span data-stu-id="4a537-321">Add to the Membership list the Windows user or group accounts requesting Analysis Services data via impersonation or delegation.</span></span><br /><br /> <span data-ttu-id="4a537-322">Supondo que a delegação restrita de Kerberos seja utilizada, as únicas contas que precisam de permissões são as contas de grupo e de usuário do Windows solicitando acesso.</span><span class="sxs-lookup"><span data-stu-id="4a537-322">Assuming Kerberos constrained delegation is used, the only accounts that need permissions are the Windows user and group accounts requesting access.</span></span> <span data-ttu-id="4a537-323">Nenhuma permissão é necessária para a identidade do pool de aplicativos.</span><span class="sxs-lookup"><span data-stu-id="4a537-323">No permissions are necessary for the application pool identity.</span></span>|  
|<span data-ttu-id="4a537-324">Autenticação básica</span><span class="sxs-lookup"><span data-stu-id="4a537-324">Basic authentication</span></span>|<span data-ttu-id="4a537-325">Adicione, à lista de associações, as contas de grupo ou de usuário do Windows que serão passadas na cadeia de conexão.</span><span class="sxs-lookup"><span data-stu-id="4a537-325">Add to the Membership list the Windows user or group accounts that will be passed on the connection string.</span></span><br /><br /> <span data-ttu-id="4a537-326">Além disso, se você estiver passando as credenciais por meio de `EffectiveUserName` na cadeia de conexão, em seguida, a identidade do pool de aplicativos deve ter direitos de administrador na instância do Analysis Services.</span><span class="sxs-lookup"><span data-stu-id="4a537-326">In addition, if you are passing credentials via `EffectiveUserName` on the connection string, then the application pool identity must have administrator rights on the Analysis Services instance.</span></span> <span data-ttu-id="4a537-327">No SSMS, clique com o botão direito do mouse na instância &#124; **propriedades** &#124; **segurança** &#124; **Adicionar**.</span><span class="sxs-lookup"><span data-stu-id="4a537-327">In SSMS, right-click the instance &#124; **Properties** &#124; **Security** &#124; **Add**.</span></span> <span data-ttu-id="4a537-328">Insira a identidade do pool de aplicativos.</span><span class="sxs-lookup"><span data-stu-id="4a537-328">Enter the application pool identity.</span></span> <span data-ttu-id="4a537-329">Se você usou a identidade padrão interna, a conta será especificada como **IIS AppPool\DefaultAppPool**.</span><span class="sxs-lookup"><span data-stu-id="4a537-329">If you used the built-in default identity, the account is specified as **IIS AppPool\DefaultAppPool**.</span></span><br /><br /> ![](../media/ssas-httpaccess-iisapppoolidentity.png)|  
  
 <span data-ttu-id="4a537-330">Para saber mais sobre como definir permissões, veja [Autorizar o acesso a objetos e operações &#40;Analysis Services 41](../multidimensional-models/authorizing-access-to-objects-and-operations-analysis-services.md).</span><span class="sxs-lookup"><span data-stu-id="4a537-330">For more information about setting permissions, see [Authorizing access to objects and operations &#40;Analysis Services&#41;](../multidimensional-models/authorizing-access-to-objects-and-operations-analysis-services.md).</span></span>  
  
##  <a name="step-6-test-your-configuration"></a><a name="bkmk_test"></a> <span data-ttu-id="4a537-331">Etapa 6: Testar a configuração</span><span class="sxs-lookup"><span data-stu-id="4a537-331">Step 6: Test your configuration</span></span>  
 <span data-ttu-id="4a537-332">A sintaxe da cadeia de conexão para MSMDPUMP é a URL para o arquivo MSMDPUMP.dll.</span><span class="sxs-lookup"><span data-stu-id="4a537-332">The connection string syntax for MSMDPUMP is the URL to the MSMDPUMP.dll file.</span></span>  
  
 <span data-ttu-id="4a537-333">Se o aplicativo Web estiver escutando em uma porta fixa, acrescente o número da porta ao nome do servidor ou endereço IP, por exemplo, `http://my-web-srv01:8080/OLAP/msmdpump.dll` ou `http://123.456.789.012:8080/OLAP/msmdpump.dll` .</span><span class="sxs-lookup"><span data-stu-id="4a537-333">If the web application is listening on a fixed port, append the port number to the server name or IP address, for example, `http://my-web-srv01:8080/OLAP/msmdpump.dll` or `http://123.456.789.012:8080/OLAP/msmdpump.dll`.</span></span>  
  
 <span data-ttu-id="4a537-334">Para testar rapidamente a conexão, é possível abrir uma conexão utilizando o Microsoft Excel ou o SQL Server Management Studio</span><span class="sxs-lookup"><span data-stu-id="4a537-334">To quickly test the connection, you can open a connection using Microsoft Excel or SQL Server Management Studio</span></span>  
  
 <span data-ttu-id="4a537-335">**Testar conexões usando o SQL Server Management Studio**</span><span class="sxs-lookup"><span data-stu-id="4a537-335">**Test connections using SQL Server Management Studio**</span></span>  
  
1.  <span data-ttu-id="4a537-336">No Management Studio, na caixa de diálogo Conectar ao Servidor, selecione **Analysis Services** como tipo de servidor.</span><span class="sxs-lookup"><span data-stu-id="4a537-336">In Management Studio, in the Connect to Server dialog box, select **Analysis Services** as the server type.</span></span> <span data-ttu-id="4a537-337">Em Nome do servidor, insira o endereço HTTP da extensão msmdpump: `http://my-web-srv01/OLAP/msmdpump.dll`.</span><span class="sxs-lookup"><span data-stu-id="4a537-337">In Server name, enter the HTTP address of the msmdpump extension: `http://my-web-srv01/OLAP/msmdpump.dll`.</span></span>  
  
     <span data-ttu-id="4a537-338">O pesquisador de objetos exibe a conexão HTTP:</span><span class="sxs-lookup"><span data-stu-id="4a537-338">Object Explorer displays the HTTP connection:</span></span>  
  
     <span data-ttu-id="4a537-339">![Pesquisador de objetos mostrando conexão http no SSAS](../media/ssas-httpaccess-ssms.PNG "Pesquisador de objetos mostrando conexão http no SSAS")</span><span class="sxs-lookup"><span data-stu-id="4a537-339">![Object Explorer showing http connection to SSAS](../media/ssas-httpaccess-ssms.PNG "Object Explorer showing http connection to SSAS")</span></span>  
  
2.  <span data-ttu-id="4a537-340">A autenticação deve ser a autenticação do Windows, e a pessoa que usa o Management Studio deve ser um administrador do Analysis Services.</span><span class="sxs-lookup"><span data-stu-id="4a537-340">Authentication must be Windows authentication, and the person using Management Studio must be an Analysis Services administrator.</span></span> <span data-ttu-id="4a537-341">Um administrador pode conceder permissões adicionais para permitir o acesso de outros usuários.</span><span class="sxs-lookup"><span data-stu-id="4a537-341">An administrator can grant further permissions to enable access by other users.</span></span>  
  
 <span data-ttu-id="4a537-342">**Testar as conexões usando o Excel**</span><span class="sxs-lookup"><span data-stu-id="4a537-342">**Test connections using Excel**</span></span>  
  
1.  <span data-ttu-id="4a537-343">Na guia Dados do Excel, em Obter Dados Externos, clique em **De Outras Fontes**e escolha **Do Analysis Services** para iniciar o Assistente para Conexão de Dados.</span><span class="sxs-lookup"><span data-stu-id="4a537-343">On the Data tab in Excel, in Get External Data, click **From Other Sources**, and then choose **From Analysis Services** to start the Data Connection wizard.</span></span>  
  
2.  <span data-ttu-id="4a537-344">Em Nome do servidor, insira o endereço HTTP da extensão msmdpump: `http://my-web-srv01/OLAP/msmdpump.dll`.</span><span class="sxs-lookup"><span data-stu-id="4a537-344">In Server name, enter the HTTP address of the msmdpump extension: `http://my-web-srv01/OLAP/msmdpump.dll`.</span></span>  
  
3.  <span data-ttu-id="4a537-345">Em Credenciais de logon, escolha **Usar Autenticação do Windows** se você estiver usando a segurança integrada do Windows ou NTLM, ou Usuário anônimo.</span><span class="sxs-lookup"><span data-stu-id="4a537-345">For Log on credentials, choose **Use Windows Authentication** if you are using Windows integrated security or NTLM, or Anonymous user.</span></span>  
  
     <span data-ttu-id="4a537-346">Para a autenticação Básica, escolha **Usar a seguinte senha e nome de usuário**e especifique as credenciais usadas para entrar.</span><span class="sxs-lookup"><span data-stu-id="4a537-346">For Basic authentication, choose **Use the following User Name and Password**, and then specify the credentials used to sign on.</span></span> <span data-ttu-id="4a537-347">As credenciais fornecidas serão passadas na cadeia de conexão para o Analysis Services.</span><span class="sxs-lookup"><span data-stu-id="4a537-347">The credentials you provide will be passed on the connection string to Analysis Services.</span></span>  
  
 <span data-ttu-id="4a537-348">**Testar as conexões usando o AMO**</span><span class="sxs-lookup"><span data-stu-id="4a537-348">**Test connections using AMO**</span></span>  
  
 <span data-ttu-id="4a537-349">Você pode testar o acesso HTTP usando o AMO de modo programático, substituindo a URL do ponto de extremidade do nome do servidor.</span><span class="sxs-lookup"><span data-stu-id="4a537-349">You can test HTTP access programmatically using AMO, substituting the URL of the endpoint for the server name.</span></span> <span data-ttu-id="4a537-350">Para obter detalhes, veja [Postagem do fórum (Como sincronizar bancos de dados do SSAS 2008 R2 via HTTPS além dos limites do domínio/floresta e do firewall)](https://social.msdn.microsoft.com/Forums/en/sqlanalysisservices/thread/c4249d55-914d-4c81-9980-44d0b8df9c3e).</span><span class="sxs-lookup"><span data-stu-id="4a537-350">For details, see [Forum Post (How to sync SSAS 2008 R2 databases via HTTPS across domain/forest and firewall boundaries)](https://social.msdn.microsoft.com/Forums/en/sqlanalysisservices/thread/c4249d55-914d-4c81-9980-44d0b8df9c3e).</span></span>  
  
 <span data-ttu-id="4a537-351">Uma cadeia de conexão de exemplo que ilustra a sintaxe do acesso HTTP(S) usando a autenticação Básica:</span><span class="sxs-lookup"><span data-stu-id="4a537-351">An example connection string illustrating the syntax for HTTP(S) access using Basic authentication:</span></span>  
  
 `Data Source=https://<servername>/olap/msmdpump.dll; Initial Catalog=AdventureWorksDW2012; Integrated Security=Basic; User ID=XXXX; Password=XXXXX;`  
  
 <span data-ttu-id="4a537-352">Para obter mais informações sobre como configurar a conexão de modo programático, consulte [Establishing Secure Connections in ADOMD.NET](https://docs.microsoft.com/analysis-services/adomd/multidimensional-models-adomd-net-client/connections-in-adomd-net-establishing-secure-connections).</span><span class="sxs-lookup"><span data-stu-id="4a537-352">For more information about setting up the connection programmatically, see [Establishing Secure Connections in ADOMD.NET](https://docs.microsoft.com/analysis-services/adomd/multidimensional-models-adomd-net-client/connections-in-adomd-net-establishing-secure-connections).</span></span>  
  
 <span data-ttu-id="4a537-353">Como etapa final, faça testes mais rigorosos usando um computador cliente executado no ambiente de rede no qual as conexões serão originadas.</span><span class="sxs-lookup"><span data-stu-id="4a537-353">As a final step, be sure to follow-up with more rigorous testing by using a client computer that runs in the network environment from which the connections will originate.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="4a537-354">Consulte Também</span><span class="sxs-lookup"><span data-stu-id="4a537-354">See Also</span></span>  
 <span data-ttu-id="4a537-355">[Postagem no fórum (acesso HTTP usando MSMDPUMP e autenticação básica)](https://social.msdn.microsoft.com/Forums/en/sqlanalysisservices/thread/79d2f225-df35-46da-aa22-d06e98f7d658) </span><span class="sxs-lookup"><span data-stu-id="4a537-355">[Forum post (http access using msmdpump and basic authentication)](https://social.msdn.microsoft.com/Forums/en/sqlanalysisservices/thread/79d2f225-df35-46da-aa22-d06e98f7d658) </span></span>  
 <span data-ttu-id="4a537-356">[Configurar o Firewall do Windows para permitir acesso Analysis Services](configure-the-windows-firewall-to-allow-analysis-services-access.md) </span><span class="sxs-lookup"><span data-stu-id="4a537-356">[Configure the Windows Firewall to Allow Analysis Services Access](configure-the-windows-firewall-to-allow-analysis-services-access.md) </span></span>  
 <span data-ttu-id="4a537-357">[Autorizar o acesso a objetos e operações &#40;Analysis Services&#41;](../multidimensional-models/authorizing-access-to-objects-and-operations-analysis-services.md) </span><span class="sxs-lookup"><span data-stu-id="4a537-357">[Authorizing access to objects and operations &#40;Analysis Services&#41;](../multidimensional-models/authorizing-access-to-objects-and-operations-analysis-services.md) </span></span>  
 <span data-ttu-id="4a537-358">[Métodos de autenticação do IIS](https://go.microsoft.com/fwlink/?LinkdID=208461) </span><span class="sxs-lookup"><span data-stu-id="4a537-358">[IIS Authentication Methods](https://go.microsoft.com/fwlink/?LinkdID=208461) </span></span>  
 [<span data-ttu-id="4a537-359">Como configurar o SSL no IIS 7</span><span class="sxs-lookup"><span data-stu-id="4a537-359">How to Set Up SSL on IIS 7</span></span>](https://go.microsoft.com/fwlink/?LinkId=207562)  
  
