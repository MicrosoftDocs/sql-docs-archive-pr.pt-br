---
title: Conversões de moeda (Analysis Services) | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
helpviewer_keywords:
- multiple currency conversions
- monetary data [SQL Server]
- currency [Analysis Services]
- converting currency
- one-to-many currency conversions
- many-to-many currency conversions [Analysis Services]
- many-to-one currency conversions [Analysis Services]
ms.assetid: e03f491c-7df8-46a0-ade9-f2e55b68db85
author: minewiskan
ms.author: owend
ms.openlocfilehash: b4fee100dea2b3aff99516175bf688337a33592e
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87582231"
---
# <a name="currency-conversions-analysis-services"></a><span data-ttu-id="d7e7f-102">Conversões de moeda (Analysis Services)</span><span class="sxs-lookup"><span data-stu-id="d7e7f-102">Currency Conversions (Analysis Services)</span></span>
  <span data-ttu-id="d7e7f-103">**[!INCLUDE[applies](../includes/applies-md.md)]** Somente multidimensional</span><span class="sxs-lookup"><span data-stu-id="d7e7f-103">**[!INCLUDE[applies](../includes/applies-md.md)]**  Multidimensional only</span></span>  
  
 [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)] <span data-ttu-id="d7e7f-104">usa uma combinação de recursos, orientada por scripts de linguagem Multidimensional Expressions (MDX), para dar suporte em conversão de moedas, em cubos, com suporte para várias moedas.</span><span class="sxs-lookup"><span data-stu-id="d7e7f-104">uses a combination of features, guided by Multidimensional Expressions (MDX) scripts, to provide currency conversion support in cubes supporting multiple currencies.</span></span>  
  
## <a name="currency-conversion-terminology"></a><span data-ttu-id="d7e7f-105">Terminologia de conversão de moedas</span><span class="sxs-lookup"><span data-stu-id="d7e7f-105">Currency Conversion Terminology</span></span>  
 <span data-ttu-id="d7e7f-106">A seguinte terminologia é usada no [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)] para descrever a funcionalidade de conversão de moedas:</span><span class="sxs-lookup"><span data-stu-id="d7e7f-106">The following terminology is used in [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)] to describe currency conversion functionality:</span></span>  
  
 <span data-ttu-id="d7e7f-107">Moeda corrente</span><span class="sxs-lookup"><span data-stu-id="d7e7f-107">Pivot currency</span></span>  
 <span data-ttu-id="d7e7f-108">A moeda em relação à qual as taxas de câmbio são inseridas no grupo de medidas de taxa.</span><span class="sxs-lookup"><span data-stu-id="d7e7f-108">The currency against which exchange rates are entered in the rate measure group.</span></span>  
  
 <span data-ttu-id="d7e7f-109">Moeda local</span><span class="sxs-lookup"><span data-stu-id="d7e7f-109">Local currency</span></span>  
 <span data-ttu-id="d7e7f-110">A moeda usada para armazenar transações sobre quais as medidas a serem convertidas se baseiam.</span><span class="sxs-lookup"><span data-stu-id="d7e7f-110">The currency used to store transactions on which measures to be converted are based.</span></span>  
  
 <span data-ttu-id="d7e7f-111">A moeda local a ser identificada ou:</span><span class="sxs-lookup"><span data-stu-id="d7e7f-111">The local currency can be identified by either:</span></span>  
  
-   <span data-ttu-id="d7e7f-112">Um identificador de moeda na tabela de fatos armazenado com a transação, como é geralmente o caso com aplicativos de serviços bancários, onde a própria transação identifica a moeda usada para a transação.</span><span class="sxs-lookup"><span data-stu-id="d7e7f-112">A currency identifier in the fact table stored with the transaction, as is commonly the case with banking applications where the transaction itself identifies the currency used for that transaction.</span></span>  
  
-   <span data-ttu-id="d7e7f-113">Um identificador de moeda associado a um atributo em uma tabela de dimensões que está então associada a uma transação na tabela de fatos, como é geralmente o caso em aplicativos financeiros em que um local ou outro identificador, uma subsidiária, identifica a moeda usada por uma transação associada.</span><span class="sxs-lookup"><span data-stu-id="d7e7f-113">A currency identifier associated with an attribute in a dimension table that is then associated with a transaction in the fact table, as is commonly the case in financial applications where a location or other identifier, such as a subsidiary, identifies the currency used for an associated transaction.</span></span>  
  
 <span data-ttu-id="d7e7f-114">Moeda de relatório</span><span class="sxs-lookup"><span data-stu-id="d7e7f-114">Reporting currency</span></span>  
 <span data-ttu-id="d7e7f-115">A moeda na qual são convertidas transações da moeda corrente.</span><span class="sxs-lookup"><span data-stu-id="d7e7f-115">The currency to which transactions are converted from the pivot currency.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="d7e7f-116">Para conversões de moeda muitos para um, a moeda corrente e moeda de relatório são iguais.</span><span class="sxs-lookup"><span data-stu-id="d7e7f-116">For many-to-one currency conversions, the pivot currency and reporting currency are the same.</span></span>  
  
 <span data-ttu-id="d7e7f-117">Dimensão de moeda</span><span class="sxs-lookup"><span data-stu-id="d7e7f-117">Currency dimension</span></span>  
 <span data-ttu-id="d7e7f-118">Uma dimensão de banco de dados definida com as seguintes configurações:</span><span class="sxs-lookup"><span data-stu-id="d7e7f-118">A database dimension defined with the following settings:</span></span>  
  
-   <span data-ttu-id="d7e7f-119">A propriedade `Type` da dimensão é definida como Moeda.</span><span class="sxs-lookup"><span data-stu-id="d7e7f-119">The `Type` property of the dimension is set to Currency.</span></span>  
  
-   <span data-ttu-id="d7e7f-120">A propriedade `Type` de um atributo para a dimensão é definida como CurrencyName.</span><span class="sxs-lookup"><span data-stu-id="d7e7f-120">The `Type` property of one attribute for the dimension is set to CurrencyName.</span></span>  
  
    > [!IMPORTANT]  
    >  <span data-ttu-id="d7e7f-121">Os valores desse atributo devem ser usados em todas as colunas que contenham um identificador de moeda.</span><span class="sxs-lookup"><span data-stu-id="d7e7f-121">The values of this attribute must be used in all columns that should contain a currency identifier.</span></span>  
  
 <span data-ttu-id="d7e7f-122">Grupo de medidas de taxa</span><span class="sxs-lookup"><span data-stu-id="d7e7f-122">Rate measure group</span></span>  
 <span data-ttu-id="d7e7f-123">Um grupo de medidas em um cubo, definido com as seguintes configurações:</span><span class="sxs-lookup"><span data-stu-id="d7e7f-123">A measure group in a cube, defined with the following settings:</span></span>  
  
-   <span data-ttu-id="d7e7f-124">Existe uma relação de dimensão regular entre uma dimensão de moeda e o grupo de medidas de taxa.</span><span class="sxs-lookup"><span data-stu-id="d7e7f-124">A regular dimension relationship exists between a currency dimension and the rate measure group.</span></span>  
  
-   <span data-ttu-id="d7e7f-125">Existe uma relação de dimensão regular entre uma dimensão tempo e o grupo de medidas de taxa.</span><span class="sxs-lookup"><span data-stu-id="d7e7f-125">A regular dimension relationship exists between a time dimension and the rate measure group.</span></span>  
  
-   <span data-ttu-id="d7e7f-126">Além disso, a propriedade `Type` é definida como ExchangeRate.</span><span class="sxs-lookup"><span data-stu-id="d7e7f-126">Optionally, the `Type` property is set to ExchangeRate.</span></span> <span data-ttu-id="d7e7f-127">Enquanto o Assistente de Business Intelligence usa as relações com as dimensões de moeda e temporal para identificar grupos de moedas, configurar a propriedade `Type` para ExchangeRate, permite que aplicativos cliente identifiquem mais facilmente os grupos de medidas de taxa.</span><span class="sxs-lookup"><span data-stu-id="d7e7f-127">While the Business Intelligence Wizard uses the relationships with the currency and time dimensions to identify likely rate measure groups, setting the `Type` property to ExchangeRate allows client applications to more easily identify rate measure groups.</span></span>  
  
-   <span data-ttu-id="d7e7f-128">Uma ou mais medidas, representando as taxas de câmbio contidas pelo grupo de medidas de taxa.</span><span class="sxs-lookup"><span data-stu-id="d7e7f-128">One or more measures, representing the exchange rates contained by the rate measure group.</span></span>  
  
 <span data-ttu-id="d7e7f-129">Dimensão de moeda de relatório</span><span class="sxs-lookup"><span data-stu-id="d7e7f-129">Reporting currency dimension</span></span>  
 <span data-ttu-id="d7e7f-130">A dimensão, definida pelo Assistente de Business Intelligence depois que uma conversão de moeda é definida e que contém as moedas de relatório para essa conversão de moedas.</span><span class="sxs-lookup"><span data-stu-id="d7e7f-130">The dimension, defined by the Business Intelligence Wizard after a currency conversion is defined, that contains the reporting currencies for that currency conversion.</span></span> <span data-ttu-id="d7e7f-131">A dimensão de moeda de relatório baseia-se em uma consulta nomeada e definida na exibição da fonte de dados, na qual a dimensão de moeda associada ao grupo de medidas de taxa tem base, a partir da tabela de dimensões principal da dimensão de moeda.</span><span class="sxs-lookup"><span data-stu-id="d7e7f-131">The reporting currency dimension is based on a named query, defined in the data source view on which the currency dimension associated with the rate measure group is based, from the dimension main table of the currency dimension.</span></span> <span data-ttu-id="d7e7f-132">A dimensão está definida com as seguintes configurações:</span><span class="sxs-lookup"><span data-stu-id="d7e7f-132">The dimension is defined with the following settings:</span></span>  
  
-   <span data-ttu-id="d7e7f-133">A propriedade `Type` da dimensão é definida como Moeda.</span><span class="sxs-lookup"><span data-stu-id="d7e7f-133">The `Type` property of the dimension is set to Currency.</span></span>  
  
-   <span data-ttu-id="d7e7f-134">A propriedade `Type` de um atributo de chave para a dimensão é definida como CurrencyName.</span><span class="sxs-lookup"><span data-stu-id="d7e7f-134">The `Type` property of the key attribute for the dimension is set to CurrencyName.</span></span>  
  
-   <span data-ttu-id="d7e7f-135">A propriedade `Type` de um atributo na dimensão é definida como CurrencyDestination e a coluna vinculada ao atributo contém os identificadores de moeda que representam as moedas de relatório para a conversão de moeda.</span><span class="sxs-lookup"><span data-stu-id="d7e7f-135">The `Type` property of one attribute within the dimension is set to CurrencyDestination, and the column bound to the attribute contains the currency identifiers that represent the reporting currencies for the currency conversion.</span></span>  
  
## <a name="defining-currency-conversions"></a><span data-ttu-id="d7e7f-136">Definindo conversões de moeda</span><span class="sxs-lookup"><span data-stu-id="d7e7f-136">Defining Currency Conversions</span></span>  
 <span data-ttu-id="d7e7f-137">Você pode usar o Assistente de Business Intelligence para definir a funcionalidade de conversão de moeda de um cubo ou pode definir manualmente as conversões de moeda usando scripts MDX.</span><span class="sxs-lookup"><span data-stu-id="d7e7f-137">You can use the Business Intelligence Wizard to define currency conversion functionality for a cube, or you can manually define currency conversions using MDX scripts.</span></span>  
  
### <a name="prerequisites"></a><span data-ttu-id="d7e7f-138">Pré-requisitos</span><span class="sxs-lookup"><span data-stu-id="d7e7f-138">Prerequisites</span></span>  
 <span data-ttu-id="d7e7f-139">Antes de você poder definir uma conversão de moedas em um cubo, usando o Assistente de Business Intelligence, será necessário definir, primeiro, pelo menos uma dimensão de moeda, uma dimensão temporal e, pelo menos, um grupo de medidas de taxa.</span><span class="sxs-lookup"><span data-stu-id="d7e7f-139">Before you can define a currency conversion in a cube using the Business Intelligence Wizard, you must first define at least one currency dimension, at least one time dimension, and at least one rate measure group.</span></span> <span data-ttu-id="d7e7f-140">A partir desses objetos, o Assistente de Business Intelligence pode recuperar os dados e os metadados usados para criar a dimensão de moeda de relatório e script MDX que são necessários para fornecer a funcionalidade de conversão de moedas.</span><span class="sxs-lookup"><span data-stu-id="d7e7f-140">From these objects, the Business Intelligence Wizard can retrieve the data and metadata used to construct the reporting currency dimension and MDX script needed to provide currency conversion functionality.</span></span>  
  
### <a name="decisions"></a><span data-ttu-id="d7e7f-141">Decisões</span><span class="sxs-lookup"><span data-stu-id="d7e7f-141">Decisions</span></span>  
 <span data-ttu-id="d7e7f-142">Você precisa tomar as seguintes decisões, antes que o Assistente de Business Intelligence possa criar a dimensão de moeda de relatório e o script MDX que são necessários para fornecer a funcionalidade de conversão de moedas.</span><span class="sxs-lookup"><span data-stu-id="d7e7f-142">You need to make the following decisions before the Business Intelligence Wizard can construct the reporting currency dimension and MDX script needed to provide currency conversion functionality:</span></span>  
  
-   <span data-ttu-id="d7e7f-143">Direção da taxa de câmbio</span><span class="sxs-lookup"><span data-stu-id="d7e7f-143">Exchange rate direction</span></span>  
  
-   <span data-ttu-id="d7e7f-144">Membros convertidos</span><span class="sxs-lookup"><span data-stu-id="d7e7f-144">Converted members</span></span>  
  
-   <span data-ttu-id="d7e7f-145">Tipo de conversão</span><span class="sxs-lookup"><span data-stu-id="d7e7f-145">Conversion type</span></span>  
  
-   <span data-ttu-id="d7e7f-146">Moedas locais</span><span class="sxs-lookup"><span data-stu-id="d7e7f-146">Local currencies</span></span>  
  
-   <span data-ttu-id="d7e7f-147">Moedas de relatório</span><span class="sxs-lookup"><span data-stu-id="d7e7f-147">Reporting currencies</span></span>  
  
### <a name="exchange-rate-directions"></a><span data-ttu-id="d7e7f-148">Direções da taxa de câmbio</span><span class="sxs-lookup"><span data-stu-id="d7e7f-148">Exchange Rate Directions</span></span>  
 <span data-ttu-id="d7e7f-149">O grupo de medidas de taxa contém medidas representando taxas de câmbio entre moedas locais e a moeda corrente (geralmente mencionada como moeda corporativa).</span><span class="sxs-lookup"><span data-stu-id="d7e7f-149">The rate measure group contains measures representing exchange rates between local currencies and the pivot currency (commonly referred to as the corporate currency).</span></span> <span data-ttu-id="d7e7f-150">A combinação de direção de taxa de câmbio e tipo de conversão determina a operação executada em medidas a serem convertidas por um script MDX gerado, usando o Assistente de Business Intelligence.</span><span class="sxs-lookup"><span data-stu-id="d7e7f-150">The combination of exchange rate direction and conversion type determines the operation performed on measures to be converted by the MDX script generated using the Business Intelligence Wizard.</span></span> <span data-ttu-id="d7e7f-151">A seguinte tabela descreve as operações executadas, dependendo da direção da taxa de câmbio e do tipo de conversão, com base nas opções de direção da taxa de câmbio e de direções de conversão, que são disponíveis no Assistente de Business Intelligence.</span><span class="sxs-lookup"><span data-stu-id="d7e7f-151">The following table describes the operations performed depending on the exchange rate direction and conversion type, based on the exchange rate direction options and conversion directions available in the Business Intelligence Wizard.</span></span>  
  
|||||  
|-|-|-|-|  
|<span data-ttu-id="d7e7f-152">Direção da taxa de câmbio</span><span class="sxs-lookup"><span data-stu-id="d7e7f-152">Exchange rate direction</span></span>|<span data-ttu-id="d7e7f-153">**Muitos para um**</span><span class="sxs-lookup"><span data-stu-id="d7e7f-153">**Many-to-one**</span></span>|<span data-ttu-id="d7e7f-154">**Um para muitos**</span><span class="sxs-lookup"><span data-stu-id="d7e7f-154">**One-to-many**</span></span>|<span data-ttu-id="d7e7f-155">**Muitos para muitos**</span><span class="sxs-lookup"><span data-stu-id="d7e7f-155">**Many-to-many**</span></span>|  
|<span data-ttu-id="d7e7f-156">**n moeda corrente em 1 moeda de amostra**</span><span class="sxs-lookup"><span data-stu-id="d7e7f-156">**n pivot currency to 1 sample currency**</span></span>|<span data-ttu-id="d7e7f-157">Multiplique a medida a ser convertida pela medida de taxa de câmbio para a moeda local para converter a medida em uma moeda corrente.</span><span class="sxs-lookup"><span data-stu-id="d7e7f-157">Multiply the measure to be converted by the exchange rate measure for the local currency in order to convert the measure into the pivot currency.</span></span>|<span data-ttu-id="d7e7f-158">Divida a medida a ser convertida pela medida da taxa de câmbio da moeda de relatório para converter a medida em uma moeda de relatório.</span><span class="sxs-lookup"><span data-stu-id="d7e7f-158">Divide the measure to be converted by the exchange rate measure for the reporting currency in order to convert the measure into the reporting currency.</span></span>|<span data-ttu-id="d7e7f-159">Multiplique a medida a ser convertida pela medida de taxa de câmbio para a moeda local para converter a medida na moeda corrente, então, divida a medida convertida pela medida de taxa de câmbio para a moeda de relatório para converter a medida na moeda de relatório.</span><span class="sxs-lookup"><span data-stu-id="d7e7f-159">Multiply the measure to be converted by the exchange rate measure for the local currency in order to convert the measure into the pivot currency, then divide the converted measure by the exchange rate measure for the reporting currency in order to convert the measure into the reporting currency.</span></span>|  
|<span data-ttu-id="d7e7f-160">**n moeda de amostra em 1 moeda corrente**</span><span class="sxs-lookup"><span data-stu-id="d7e7f-160">**n sample currency to 1 pivot currency**</span></span>|<span data-ttu-id="d7e7f-161">Divida a medida a ser convertida pela medida de taxa de cambo para a moeda local para converter a medida na moeda corrente.</span><span class="sxs-lookup"><span data-stu-id="d7e7f-161">Divide the measure to be converted by the exchange rate measure for the local currency in order to convert the measure into the pivot currency.</span></span>|<span data-ttu-id="d7e7f-162">Multiplique a medida a ser convertida pela medida de taxa de câmbio para a moeda de relatório para converter a medida na moeda de relatório.</span><span class="sxs-lookup"><span data-stu-id="d7e7f-162">Multiply the measure to be converted by the exchange rate measure for the reporting currency in order to convert the measure into the reporting currency.</span></span>|<span data-ttu-id="d7e7f-163">Divida a medida a ser convertida pela medida de taxa de câmbio para a moeda local para converter a medida na moeda corrente, então, multiplique a medida convertida pela medida de taxa de câmbio para a moeda de relatório para converter a medida na moeda de relatório.</span><span class="sxs-lookup"><span data-stu-id="d7e7f-163">Divide the measure to be converted by the exchange rate measure for the local currency in order to convert the measure into the pivot currency, then multiply the converted measure by the exchange rate measure for the reporting currency in order to convert the measure into the reporting currency.</span></span>|  
  
 <span data-ttu-id="d7e7f-164">Você escolhe a direção de taxa de câmbio na página **Definir opções de conversão de moeda** do Assistente de Business Intelligence.</span><span class="sxs-lookup"><span data-stu-id="d7e7f-164">You choose the exchange rate direction on the **Set currency conversion options** page of the Business Intelligence Wizard.</span></span> <span data-ttu-id="d7e7f-165">Para obter mais informações sobre a direção de conversão de configuração, consulte [Definir opções de conversão de moeda &#40;Assistente de Business Intelligence&#41;](set-currency-conversion-options-business-intelligence-wizard.md).</span><span class="sxs-lookup"><span data-stu-id="d7e7f-165">For more information about setting conversion direction, see [Set Currency Conversion Options &#40;Business Intelligence Wizard&#41;](set-currency-conversion-options-business-intelligence-wizard.md).</span></span>  
  
### <a name="converted-members"></a><span data-ttu-id="d7e7f-166">Membros convertidos</span><span class="sxs-lookup"><span data-stu-id="d7e7f-166">Converted Members</span></span>  
 <span data-ttu-id="d7e7f-167">Você pode usar o Assistente de Business Intelligence para especificar quais medidas do grupo de medidas de taxa são usadas para converter valores para:</span><span class="sxs-lookup"><span data-stu-id="d7e7f-167">You can use the Business Intelligence Wizard to specify which measures from the rate measure group are used to convert values for:</span></span>  
  
-   <span data-ttu-id="d7e7f-168">Medidas em outros grupos de medidas.</span><span class="sxs-lookup"><span data-stu-id="d7e7f-168">Measures in other measure groups.</span></span>  
  
-   <span data-ttu-id="d7e7f-169">Membros de uma hierarquia de atributos para um atributo de conta em uma dimensão de banco de dados.</span><span class="sxs-lookup"><span data-stu-id="d7e7f-169">Members of an attribute hierarchy for an account attribute in a database dimension.</span></span>  
  
-   <span data-ttu-id="d7e7f-170">Tipos de conta, usados por membros de uma hierarquia de atributo para um atributo de conta em uma dimensão de banco de dados.</span><span class="sxs-lookup"><span data-stu-id="d7e7f-170">Account types, used by members of an attribute hierarchy for an account attribute in a database dimension.</span></span>  
  
 <span data-ttu-id="d7e7f-171">O Assistente de Business Intelligence usa essas informações no script MDX geradas pelo assistente para determinar o escopo do cálculo de conversão de moedas.</span><span class="sxs-lookup"><span data-stu-id="d7e7f-171">The Business Intelligence Wizard uses this information within the MDX script generated by the wizard to determine the scope of the currency conversion calculation.</span></span> <span data-ttu-id="d7e7f-172">Para obter mais informações sobre como especificar membros para conversão de moedas, consulte [Selecionar membros &#40;Assistente de Business Intelligence&#41;](select-members-business-intelligence-wizard.md).</span><span class="sxs-lookup"><span data-stu-id="d7e7f-172">For more information about specifying members for currency conversion, see [Select Members &#40;Business Intelligence Wizard&#41;](select-members-business-intelligence-wizard.md).</span></span>  
  
### <a name="conversion-types"></a><span data-ttu-id="d7e7f-173">Tipos de conversão</span><span class="sxs-lookup"><span data-stu-id="d7e7f-173">Conversion Types</span></span>  
 <span data-ttu-id="d7e7f-174">O Assistente de Business Intelligence oferece suporte para três tipos diferentes de conversão de moedas:</span><span class="sxs-lookup"><span data-stu-id="d7e7f-174">The Business Intelligence Wizard supports three different types of currency conversion:</span></span>  
  
-   <span data-ttu-id="d7e7f-175">**Um para muitos**</span><span class="sxs-lookup"><span data-stu-id="d7e7f-175">**One-to-many**</span></span>  
  
     <span data-ttu-id="d7e7f-176">As transações são armazenadas na tabela de fatos na moeda corrente e, então, convertidas em uma ou mais moedas de relatório.</span><span class="sxs-lookup"><span data-stu-id="d7e7f-176">Transactions are stored in the fact table in the pivot currency, and then converted to one or more other reporting currencies.</span></span>  
  
     <span data-ttu-id="d7e7f-177">Por exemplo, a moeda corrente pode estar definida como USD (dólares dos EUA) e a tabela de fatos armazenar transações em USD.</span><span class="sxs-lookup"><span data-stu-id="d7e7f-177">For example, the pivot currency can be set to United States dollars (USD), and the fact table stores transactions in USD.</span></span> <span data-ttu-id="d7e7f-178">Esse tipo de conversão converte essas transações da moeda corrente nas moedas de relatório especificadas.</span><span class="sxs-lookup"><span data-stu-id="d7e7f-178">This conversion type converts these transactions from the pivot currency to the specified reporting currencies.</span></span> <span data-ttu-id="d7e7f-179">Como resultado, essas transações podem ser armazenadas na moeda corrente especificada e exibidas na moeda corrente especificada, ou em qualquer uma das moedas de relatório especificadas na dimensão de moeda de relatório para a conversão de moeda.</span><span class="sxs-lookup"><span data-stu-id="d7e7f-179">The result is that transactions can be stored in the specified pivot currency and viewed either in the specified pivot currency or in any of the reporting currencies specified in the reporting currency dimension defined for the currency conversion.</span></span>  
  
-   <span data-ttu-id="d7e7f-180">**Muitos para um**</span><span class="sxs-lookup"><span data-stu-id="d7e7f-180">**Many-to-one**</span></span>  
  
     <span data-ttu-id="d7e7f-181">As transações são armazenadas na tabela de fatos em moedas locais e, então, convertidas na moeda corrente.</span><span class="sxs-lookup"><span data-stu-id="d7e7f-181">Transactions are stored in the fact table in local currencies, and then converted into the pivot currency.</span></span> <span data-ttu-id="d7e7f-182">A moeda corrente funciona como a única moeda de relatório especificada na dimensão de moeda de relatório.</span><span class="sxs-lookup"><span data-stu-id="d7e7f-182">The pivot currency serves as the only specified reporting currency in the reporting currency dimension.</span></span>  
  
     <span data-ttu-id="d7e7f-183">Por exemplo, a moeda corrente pode estar definida como USD (dólares dos EUA) e a tabela de fatos armazenar transações em EUR (euros), AUD (dólares australianos) e MXN (pesos mexicanos).</span><span class="sxs-lookup"><span data-stu-id="d7e7f-183">For example, the pivot currency can be set to United States dollars (USD), and the fact table stores transactions in euros (EUR), Australian dollars (AUD), and Mexican pesos (MXN).</span></span> <span data-ttu-id="d7e7f-184">Esse tipo de conversão converte essas transações das moedas locais especificadas para a moeda corrente.</span><span class="sxs-lookup"><span data-stu-id="d7e7f-184">This conversion type converts these transactions from their specified local currencies to the pivot currency.</span></span> <span data-ttu-id="d7e7f-185">O resultado é que essas transações podem ser armazenadas nas moedas locais especificadas e exibidas na moeda corrente, que é especificada na dimensão de moeda de relatório definida para a conversão de moedas.</span><span class="sxs-lookup"><span data-stu-id="d7e7f-185">The result is that transactions can be stored in the specified local currencies and viewed in the pivot currency, which is specified in the reporting currency dimension defined for the currency conversion.</span></span>  
  
-   <span data-ttu-id="d7e7f-186">**Muitos para muitos**</span><span class="sxs-lookup"><span data-stu-id="d7e7f-186">**Many-to-many**</span></span>  
  
     <span data-ttu-id="d7e7f-187">As transações são armazenadas na tabela de fatos em moedas locais.</span><span class="sxs-lookup"><span data-stu-id="d7e7f-187">Transactions are stored in the fact table in local currencies.</span></span> <span data-ttu-id="d7e7f-188">A funcionalidade de conversão de moedas converte essas transações na moeda corrente e, então, em uma ou mais moedas de relatório.</span><span class="sxs-lookup"><span data-stu-id="d7e7f-188">The currency conversion functionality converts such transactions into the pivot currency, and then to one or more other reporting currencies.</span></span>  
  
     <span data-ttu-id="d7e7f-189">Por exemplo, a moeda corrente pode estar definida como USD (dólares dos EUA) e a tabela de fatos armazenar transações em EUR (euros), AUD (dólares australianos) e MXN (pesos mexicanos).</span><span class="sxs-lookup"><span data-stu-id="d7e7f-189">For example, the pivot currency can be set to United States dollars (USD), and the fact table stores transactions in euros (EUR), Australian dollars (AUD), and Mexican pesos (MXN).</span></span> <span data-ttu-id="d7e7f-190">Esse tipo de conversão converte essas transações das moedas locais especificadas na moeda corrente e, em seguida, as transações são convertidas novamente da moeda corrente na moeda de relatório especificada.</span><span class="sxs-lookup"><span data-stu-id="d7e7f-190">This conversion type converts these transactions from their specified local currencies to the pivot currency, and then the converted transactions are converted again from the pivot currency to the specified reporting currencies.</span></span> <span data-ttu-id="d7e7f-191">Como resultado, essas transações podem ser armazenadas nas moedas locais especificadas e exibidas na moeda corrente especificada, ou em qualquer uma das moedas de relatório especificadas na dimensão de moeda de relatório para a conversão de moedas.</span><span class="sxs-lookup"><span data-stu-id="d7e7f-191">The result is that transactions can be stored in the specified local currencies and viewed either in the specified pivot currency or in any of the reporting currencies that are specified in the reporting currency dimension defined for the currency conversion.</span></span>  
  
 <span data-ttu-id="d7e7f-192">Especificar o tipo de conversão permite que o Assistente de Business Intelligence defina a consulta nomeada e a estrutura da dimensão de moeda de relatório, assim como a estrutura do script MDX definido para a conversão de moedas.</span><span class="sxs-lookup"><span data-stu-id="d7e7f-192">Specifying the conversion type allows the Business Intelligence Wizard to define the named query and dimension structure of the reporting currency dimension, as well as the structure of the MDX script defined for the currency conversion.</span></span>  
  
### <a name="local-currencies"></a><span data-ttu-id="d7e7f-193">Moedas locais</span><span class="sxs-lookup"><span data-stu-id="d7e7f-193">Local Currencies</span></span>  
 <span data-ttu-id="d7e7f-194">Se você escolher um tipo de conversão muitos para muitos, ou muitos para um, para sua conversão de moedas, será necessário especificar como identificar as moedas locais a partir das quais o script MDX gerado pelo Assistente de Business Intelligence executará os cálculos de conversão de moedas.</span><span class="sxs-lookup"><span data-stu-id="d7e7f-194">If you choose a many-to-many or many-to-one conversion type for your currency conversion, you need to specify how to identify the local currencies from which the MDX script generated by the Business Intelligence Wizard performs the currency conversion calculations.</span></span> <span data-ttu-id="d7e7f-195">A moeda local para uma transação em uma tabela de fatos pode ser identificada por um de dois modos:</span><span class="sxs-lookup"><span data-stu-id="d7e7f-195">The local currency for a transaction in a fact table can be identified in one of two ways:</span></span>  
  
-   <span data-ttu-id="d7e7f-196">O grupo de medidas contém uma relação de dimensão regular com a dimensão de moeda.</span><span class="sxs-lookup"><span data-stu-id="d7e7f-196">The measure group contains a regular dimension relationship to the currency dimension.</span></span> <span data-ttu-id="d7e7f-197">Por exemplo, no banco de dados de exemplo [!INCLUDE[ssAWDWsp](../includes/ssawdwsp-md.md)] do [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)] , o grupo de medidas Vendas pela Internet tem uma relação regular de dimensão com a dimensão Moeda.</span><span class="sxs-lookup"><span data-stu-id="d7e7f-197">For example, in the [!INCLUDE[ssAWDWsp](../includes/ssawdwsp-md.md)] sample [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)] database, the Internet Sales measure group has a regular dimension relationship to the Currency dimension.</span></span> <span data-ttu-id="d7e7f-198">A tabela de fatos desse grupo de medidas contém uma coluna de chave estrangeira que faz referência aos identificadores de moedas na tabela de dimensões daquela dimensão.</span><span class="sxs-lookup"><span data-stu-id="d7e7f-198">The fact table for that measure group contains a foreign key column that references the currency identifiers in the dimension table for that dimension.</span></span> <span data-ttu-id="d7e7f-199">Nesse caso, você pode selecionar o atributo da dimensão de moeda referenciada pelo grupo de medidas para identificar a moeda local para transações na tabela de fatos desse grupo de medidas.</span><span class="sxs-lookup"><span data-stu-id="d7e7f-199">In this case, you can select the attribute from the currency dimension that is referenced by the measure group to identify the local currency for transactions in the fact table for that measure group.</span></span> <span data-ttu-id="d7e7f-200">Essa situação acontece mais frequentemente em aplicativos de serviços bancários, onde a própria transação determina a moeda usada na transação.</span><span class="sxs-lookup"><span data-stu-id="d7e7f-200">This situation most often occurs in banking applications, where the transaction itself determines the currency used within the transaction.</span></span>  
  
-   <span data-ttu-id="d7e7f-201">O grupo de medidas contém uma relação de dimensão referenciada com a dimensão de moeda, por meio de outra dimensão que referencia diretamente a dimensão de moeda.</span><span class="sxs-lookup"><span data-stu-id="d7e7f-201">The measure group contains a referenced dimension relationship to the currency dimension, through another dimension that directly references the currency dimension.</span></span> <span data-ttu-id="d7e7f-202">Por exemplo, no banco de dados de exemplo [!INCLUDE[ssAWDWsp](../includes/ssawdwsp-md.md)] do [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)] , o grupo de medidas Relatórios Financeiros tem uma relação de dimensão referenciada com a dimensão Moeda por meio da dimensão Organização.</span><span class="sxs-lookup"><span data-stu-id="d7e7f-202">For example, in the [!INCLUDE[ssAWDWsp](../includes/ssawdwsp-md.md)] sample [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)] database, the Financial Reporting measure group has a referenced dimension relationship to the Currency dimension through the Organization dimension.</span></span> <span data-ttu-id="d7e7f-203">A tabela de fatos para esse grupo de medidas contém uma coluna de chave estrangeira que referencia membros na tabela de dimensões da dimensão Organização.</span><span class="sxs-lookup"><span data-stu-id="d7e7f-203">The fact table for that measure group contains a foreign key column that references members in the dimension table for the Organization dimension.</span></span> <span data-ttu-id="d7e7f-204">A tabela de dimensões da dimensão Organização, por sua vez, contém uma coluna de chave estrangeira que faz referência aos identificadores de moedas na tabela de dimensões Moeda.</span><span class="sxs-lookup"><span data-stu-id="d7e7f-204">The dimension table for the Organization dimension, in turn, contains a foreign key column that references the currency identifiers in the dimension table for the Currency dimension.</span></span> <span data-ttu-id="d7e7f-205">Essa situação acontece com mais frequência em aplicativos de relatórios financeiros onde o local ou a subsidiária de uma transação determina a moeda da transação.</span><span class="sxs-lookup"><span data-stu-id="d7e7f-205">This situation most often occurs in financial reporting applications, where the location or subsidiary for a transaction determines the currency for the transaction.</span></span> <span data-ttu-id="d7e7f-206">Nesse caso, você pode selecionar o atributo que referencia a dimensão de moeda a partir da dimensão para a entidade empresarial.</span><span class="sxs-lookup"><span data-stu-id="d7e7f-206">In this case, you can select the attribute that references the currency dimension from the dimension for the business entity.</span></span>  
  
### <a name="reporting-currencies"></a><span data-ttu-id="d7e7f-207">Moedas de relatório</span><span class="sxs-lookup"><span data-stu-id="d7e7f-207">Reporting Currencies</span></span>  
 <span data-ttu-id="d7e7f-208">Se você escolher um tipo de conversão muitos para muitos, ou um para muitos, para sua conversão de moedas, será necessário especificar as moedas de relatório para as quais o script MDX gerado pelo Assistente de Business Intelligence executará os cálculos de conversão de moedas.</span><span class="sxs-lookup"><span data-stu-id="d7e7f-208">If you choose a many-to-many or one-to-many conversion type for your currency conversion, you need to specify the reporting currencies for which the MDX script generated by the Business Intelligence Wizard performs the currency conversion calculations.</span></span> <span data-ttu-id="d7e7f-209">Você pode especificar todos os membros da dimensão de moeda relacionada ao grupo de medidas de taxa ou selecionar membros individuais da dimensão.</span><span class="sxs-lookup"><span data-stu-id="d7e7f-209">You can either specify all the members of the currency dimension related to the rate measure group, or select individual members from the dimension.</span></span>  
  
 <span data-ttu-id="d7e7f-210">O Assistente de Business Intelligence cria uma dimensão de moeda de relatório, com base em uma consulta nomeada criada a partir da tabela de dimensões para a dimensão de moeda, usando as moedas de relatório selecionadas.</span><span class="sxs-lookup"><span data-stu-id="d7e7f-210">The Business Intelligence Wizard creates a reporting currency dimension, based on a named query constructed from the dimension table for the currency dimension using the selected reporting currencies.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="d7e7f-211">Se você selecionar o tipo de conversão de um para muitos, uma dimensão de moeda de relatório também será criada.</span><span class="sxs-lookup"><span data-stu-id="d7e7f-211">If you select the one-to-many conversion type, a reporting currency dimension is also created.</span></span> <span data-ttu-id="d7e7f-212">A dimensão contém apenas um membro representando a moeda corrente, pois a moeda corrente é também usada como a moeda de relatório de uma conversão de moedas uma para muitos.</span><span class="sxs-lookup"><span data-stu-id="d7e7f-212">The dimension contains only one member representing the pivot currency, because the pivot currency is also used as the reporting currency for a one-to-many currency conversion.</span></span>  
  
 <span data-ttu-id="d7e7f-213">Uma dimensão de moeda de relatório separada está definida para cada conversão de moeda definida em um cubo.</span><span class="sxs-lookup"><span data-stu-id="d7e7f-213">A separate reporting currency dimension is defined for each currency conversion defined in a cube.</span></span> <span data-ttu-id="d7e7f-214">Você pode alterar o nome das dimensões de moeda de relatório após a criação, mas se você fizer isso será necessário também atualizar o script MDX gerado pela conversão de moedas para assegurar que o nome correto seja usado pelo comando de script ao referenciar a dimensão de moeda de relatório.</span><span class="sxs-lookup"><span data-stu-id="d7e7f-214">You can change the name of the reporting currency dimensions after creation, but if you do so you must also update the MDX script generated for that currency conversion to ensure that the correct name is used by the script command when referencing the reporting currency dimension.</span></span>  
  
## <a name="defining-multiple-currency-conversions"></a><span data-ttu-id="d7e7f-215">Definindo várias conversões de moedas</span><span class="sxs-lookup"><span data-stu-id="d7e7f-215">Defining Multiple Currency Conversions</span></span>  
 <span data-ttu-id="d7e7f-216">Usando o Assistente de Business Intelligence, você pode definir a quantidade de conversões de moedas conforme for necessário para sua solução de Business Intelligence.</span><span class="sxs-lookup"><span data-stu-id="d7e7f-216">Using the Business Intelligence Wizard, you can define as many currency conversions as needed for your business intelligence solution.</span></span> <span data-ttu-id="d7e7f-217">Você pode substituir uma conversão de moedas existente ou anexar uma nova conversão de moedas ao script MDX de um cubo.</span><span class="sxs-lookup"><span data-stu-id="d7e7f-217">You can either overwrite an existing currency conversion or append a new currency conversion to the MDX script for a cube.</span></span> <span data-ttu-id="d7e7f-218">Várias conversões de moedas definidas em um único cubo fornecem flexibilidade nos aplicativos de Business Intelligence que têm requisitos de relatórios complexos, como aplicativos de relatórios financeiros com suporte aos vários requisitos de conversão separados para relatórios internacionais.</span><span class="sxs-lookup"><span data-stu-id="d7e7f-218">Multiple currency conversions defined in a single cube provide flexibility in business intelligence applications that have complex reporting requirements, such as financial reporting applications that support multiple, separate conversion requirements for international reporting.</span></span>  
  
### <a name="identifying-currency-conversions"></a><span data-ttu-id="d7e7f-219">Identificando conversões de moedas</span><span class="sxs-lookup"><span data-stu-id="d7e7f-219">Identifying Currency Conversions</span></span>  
 <span data-ttu-id="d7e7f-220">O Assistente de Business Intelligence identifica cada conversão de moeda enquadrando os comandos de script para a conversão de moedas nos seguintes comentários:</span><span class="sxs-lookup"><span data-stu-id="d7e7f-220">The Business Intelligence Wizard identifies each currency conversion by framing the script commands for the currency conversion in the following comments:</span></span>  
  
 `//<Currency conversion>`  
  
 `...`  
  
 `[MDX statements for the currency conversion]`  
  
 `...`  
  
 `//</Currency conversion>`  
  
 <span data-ttu-id="d7e7f-221">Se você alterar ou remover esses comentários, o Assistente de Business Intelligence não poderá detectar a conversão de moedas, e por isso, você não deve alterar esses comentários.</span><span class="sxs-lookup"><span data-stu-id="d7e7f-221">If you change or remove these comments, the Business Intelligence Wizard is unable to detect the currency conversion, so you should not change these comments.</span></span>  
  
 <span data-ttu-id="d7e7f-222">O assistente também armazena metadados em comentários com esses comentários, incluindo a data e hora de criação, o usuário e o tipo de conversão.</span><span class="sxs-lookup"><span data-stu-id="d7e7f-222">The wizard also stores metadata in comments within these comments, including the creation date and time, the user, and the conversion type.</span></span> <span data-ttu-id="d7e7f-223">Esses comentários não devem ser alterados, pois o Assistente de Business Intelligence usa esses metadados ao exibir conversões de moeda existentes.</span><span class="sxs-lookup"><span data-stu-id="d7e7f-223">These comments should also not be changed because the Business Intelligence Wizard uses this metadata when displaying existing currency conversions.</span></span>  
  
 <span data-ttu-id="d7e7f-224">Você pode alterar os comandos de script contidos em uma conversão de moeda conforme necessário.</span><span class="sxs-lookup"><span data-stu-id="d7e7f-224">You can change the script commands contained in a currency conversion as needed.</span></span> <span data-ttu-id="d7e7f-225">Se você substituir a conversão de moedas, porém, suas alterações serão perdidas.</span><span class="sxs-lookup"><span data-stu-id="d7e7f-225">If you overwrite the currency conversion, however, your changes will be lost.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="d7e7f-226">Consulte Também</span><span class="sxs-lookup"><span data-stu-id="d7e7f-226">See Also</span></span>  
 [<span data-ttu-id="d7e7f-227">Cenários de globalização para Analysis Services Multidimensional</span><span class="sxs-lookup"><span data-stu-id="d7e7f-227">Globalization scenarios for Analysis Services Multiidimensional</span></span>](globalization-scenarios-for-analysis-services-multiidimensional.md)  
  
  
