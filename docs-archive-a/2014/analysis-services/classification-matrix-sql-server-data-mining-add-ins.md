---
title: Matriz de classificação (SQL Server suplementos de mineração de dados) | Microsoft Docs
ms.custom: ''
ms.date: 12/29/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
helpviewer_keywords:
- mining models, validating
- classification matrix
- confusion table
- mining models, testing
ms.assetid: d6f620f4-39af-4714-9628-28ce3c361fca
author: minewiskan
ms.author: owend
ms.openlocfilehash: a930f2628ac41fc5886cf41d7ec0ad274b42bf2f
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87571076"
---
# <a name="classification-matrix-sql-server-data-mining-add-ins"></a><span data-ttu-id="6fef5-102">Matriz de classificação (Suplementos de Mineração de Dados do SQL Server)</span><span class="sxs-lookup"><span data-stu-id="6fef5-102">Classification Matrix (SQL Server Data Mining Add-ins)</span></span>
  <span data-ttu-id="6fef5-103">![Botão Matriz de Classificação, faixa de opções Mineração de dados](media/dmc-cmatrix.gif "Botão Matriz de Classificação, faixa de opções Mineração de dados")</span><span class="sxs-lookup"><span data-stu-id="6fef5-103">![Classification Matrix button, Data Mining ribbon](media/dmc-cmatrix.gif "Classification Matrix button, Data Mining ribbon")</span></span>  
  
 <span data-ttu-id="6fef5-104">Você pode usar a matriz de classificação para avaliar a precisão de um modelo para previsão.</span><span class="sxs-lookup"><span data-stu-id="6fef5-104">You can use the classification matrix to assess the accuracy of a model for prediction.</span></span> <span data-ttu-id="6fef5-105">Para gerar uma matriz de classificação, você executar um conjunto de dados de teste através do modelo, e a ferramenta da matriz de classificação compara os valores reais do conjunto de teste com as previsões feitas pelo modelo.</span><span class="sxs-lookup"><span data-stu-id="6fef5-105">To generate a classification matrix, you run a set of testing data through the model, and the classification matrix tool compares the actual values from the testing set against the predictions made by the model.</span></span> <span data-ttu-id="6fef5-106">Ao examinar a matriz, você pode identificar rapidamente com que frequência o modelo está correto, e a frequência de previsões erradas.</span><span class="sxs-lookup"><span data-stu-id="6fef5-106">By looking at the matrix, you can tell at a glance how often the model is correct, and how often it predicts wrongly.</span></span>  
  
 <span data-ttu-id="6fef5-107">Nestes suplementos, use o assistente de **matriz de classificação** para selecionar um modelo, especifique os dados de teste e, em seguida, gere uma matriz de resultados.</span><span class="sxs-lookup"><span data-stu-id="6fef5-107">In these add-ins, use the **Classification Matrix** wizard to select a model, specify the testing data, and then generate a results matrix.</span></span>  
  
## <a name="how-to-read-a-classification-matrix"></a><span data-ttu-id="6fef5-108">Como ler uma matriz de classificação</span><span class="sxs-lookup"><span data-stu-id="6fef5-108">How to Read a Classification Matrix</span></span>  
 <span data-ttu-id="6fef5-109">Vamos supor que seu objetivo é criar um programa de fidelidade do cliente e atribuir os clientes às categorias apropriadas, para que você possa fornecê-los com o nível apropriado de incentivos.</span><span class="sxs-lookup"><span data-stu-id="6fef5-109">Let's assume your objective is to design a customer loyalty program and then assign customers to appropriate categories, so that you can provide them with the appropriate level of incentives.</span></span> <span data-ttu-id="6fef5-110">Você implementou três níveis para o programa de recompensa--bronze, prata e ouro – e os deu aos clientes em uma fase de avaliação.</span><span class="sxs-lookup"><span data-stu-id="6fef5-110">You have implemented three levels for the reward program -- bronze, silver, and gold - and given these out to customers in a trial phase.</span></span> <span data-ttu-id="6fef5-111">Você também criou um modelo que analisa clientes e prevê as categorias corretas.</span><span class="sxs-lookup"><span data-stu-id="6fef5-111">You have also designed a model that analyzes customers and predicts the correct categories.</span></span> <span data-ttu-id="6fef5-112">Agora você usará a matriz de classificação nos dados de avaliação para determinar quão bom era o modelo em prever a oferta correta para todos os clientes.</span><span class="sxs-lookup"><span data-stu-id="6fef5-112">Now you will use the classification matrix on the trial data to determine how good the model was at predicting the correct offer for all customers.</span></span>  
  
 <span data-ttu-id="6fef5-113">A tabela da matriz de classificação mostra quantos clientes seriam atribuídos a cada categoria com base no modelo, e compara esse resultado ao número de clientes que de fato se inscreveram em cada nível de recompensa.</span><span class="sxs-lookup"><span data-stu-id="6fef5-113">The table from the classification matrix tells you how many customers would be assigned to each category based on the model, and compares that result to the number of customers who actually signed up for each reward level.</span></span>  
  
||<span data-ttu-id="6fef5-114">Bronze (real)</span><span class="sxs-lookup"><span data-stu-id="6fef5-114">Bronze (Actual)</span></span>|<span data-ttu-id="6fef5-115">Ouro (real)</span><span class="sxs-lookup"><span data-stu-id="6fef5-115">Gold (Actual)</span></span>|<span data-ttu-id="6fef5-116">Prata (real)</span><span class="sxs-lookup"><span data-stu-id="6fef5-116">Silver (Actual)</span></span>|  
|-|-----------------------|---------------------|-----------------------|  
|<span data-ttu-id="6fef5-117">Bronze</span><span class="sxs-lookup"><span data-stu-id="6fef5-117">Bronze</span></span>|<span data-ttu-id="6fef5-118">**94,45%**</span><span class="sxs-lookup"><span data-stu-id="6fef5-118">**94.45%**</span></span>|<span data-ttu-id="6fef5-119">15,18%</span><span class="sxs-lookup"><span data-stu-id="6fef5-119">15.18%</span></span>|<span data-ttu-id="6fef5-120">1,70%</span><span class="sxs-lookup"><span data-stu-id="6fef5-120">1.70%</span></span>|  
|<span data-ttu-id="6fef5-121">Ouro</span><span class="sxs-lookup"><span data-stu-id="6fef5-121">Gold</span></span>|<span data-ttu-id="6fef5-122">2,72%</span><span class="sxs-lookup"><span data-stu-id="6fef5-122">2.72%</span></span>|<span data-ttu-id="6fef5-123">**84,82%**</span><span class="sxs-lookup"><span data-stu-id="6fef5-123">**84.82%**</span></span>|<span data-ttu-id="6fef5-124">0.00%</span><span class="sxs-lookup"><span data-stu-id="6fef5-124">0.00%</span></span>|  
|<span data-ttu-id="6fef5-125">Prata</span><span class="sxs-lookup"><span data-stu-id="6fef5-125">Silver</span></span>|<span data-ttu-id="6fef5-126">1,84%</span><span class="sxs-lookup"><span data-stu-id="6fef5-126">1.84%</span></span>|<span data-ttu-id="6fef5-127">0.00%</span><span class="sxs-lookup"><span data-stu-id="6fef5-127">0.00%</span></span>|<span data-ttu-id="6fef5-128">**93,80%**</span><span class="sxs-lookup"><span data-stu-id="6fef5-128">**93.80%**</span></span>|  
|<span data-ttu-id="6fef5-129">*Corrigi*</span><span class="sxs-lookup"><span data-stu-id="6fef5-129">*Correct*</span></span>|<span data-ttu-id="6fef5-130">*95,45%*</span><span class="sxs-lookup"><span data-stu-id="6fef5-130">*95.45%*</span></span>|<span data-ttu-id="6fef5-131">*84,82%*</span><span class="sxs-lookup"><span data-stu-id="6fef5-131">*84.82%*</span></span>|<span data-ttu-id="6fef5-132">*98,30%*</span><span class="sxs-lookup"><span data-stu-id="6fef5-132">*98.30%*</span></span>|  
|<span data-ttu-id="6fef5-133">*Classificados incorretamente*</span><span class="sxs-lookup"><span data-stu-id="6fef5-133">*Misclassified*</span></span>|<span data-ttu-id="6fef5-134">*4,55%*</span><span class="sxs-lookup"><span data-stu-id="6fef5-134">*4.55%*</span></span>|<span data-ttu-id="6fef5-135">*15,18%*</span><span class="sxs-lookup"><span data-stu-id="6fef5-135">*15.18%*</span></span>|<span data-ttu-id="6fef5-136">*1,70%*</span><span class="sxs-lookup"><span data-stu-id="6fef5-136">*1.70%*</span></span>|  
  
-   <span data-ttu-id="6fef5-137">Cada coluna mostra os valores reais no conjunto de dados de teste.</span><span class="sxs-lookup"><span data-stu-id="6fef5-137">Each column shows the actual values in the testing dataset.</span></span>  
  
-   <span data-ttu-id="6fef5-138">Cada linha exibe os valores previstos.</span><span class="sxs-lookup"><span data-stu-id="6fef5-138">Each row shows the predicted values.</span></span>  
  
-   <span data-ttu-id="6fef5-139">Os valores em negrito, executados diagonalmente do canto superior esquerdo para o canto inferior direito da matriz, mostram até que ponto o modelo deu certo.</span><span class="sxs-lookup"><span data-stu-id="6fef5-139">The values in boldface, which run diagonally from the upper-left corner to the lower-right corner of the matrix, give you the picture of what the model got right.</span></span>  
  
-   <span data-ttu-id="6fef5-140">Todos os demais valores fora da diagonal representam erros.</span><span class="sxs-lookup"><span data-stu-id="6fef5-140">All other values outside the diagonal represent errors.</span></span> <span data-ttu-id="6fef5-141">Alguns erros são falsos positivos; isso significa que o modelo previu que o cliente se associaria ao programa de ouro, mas ele estava errado.</span><span class="sxs-lookup"><span data-stu-id="6fef5-141">Some errors are false positives, meaning the model predicted the customer would join the gold program but was wrong.</span></span>  <span data-ttu-id="6fef5-142">Dependendo de seu domínio, os falsos positivos podem ser muito dispendiosos.</span><span class="sxs-lookup"><span data-stu-id="6fef5-142">Depending on your domain, false positives can be very costly.</span></span>  
  
     <span data-ttu-id="6fef5-143">Outros são falsos negativos; isso significa que o modelo previu que o cliente não estaria interessado, embora não tivesse se associado ao programa.</span><span class="sxs-lookup"><span data-stu-id="6fef5-143">Others are false negatives, meaning the model predicted the customer would not be interested though he or she did join the program.</span></span> <span data-ttu-id="6fef5-144">Novamente, dependendo do domínio do problema, o custo dessa oportunidade perdida pode ser significativo.</span><span class="sxs-lookup"><span data-stu-id="6fef5-144">Again, depending on the problem domain, this lost opportunity cost might be significant.</span></span>  
  
## <a name="using-the-classification-matrix-wizard"></a><span data-ttu-id="6fef5-145">Usando o Assistente da Matriz de Classificação</span><span class="sxs-lookup"><span data-stu-id="6fef5-145">Using the Classification Matrix Wizard</span></span>  
  
1.  <span data-ttu-id="6fef5-146">Selecione o modelo de mineração no qual basear as previsões.</span><span class="sxs-lookup"><span data-stu-id="6fef5-146">Select the mining model on which to base predictions.</span></span>  
  
2.  <span data-ttu-id="6fef5-147">Selecione uma fonte de novos dados de teste, ou use os dados de teste que foram salvos com a estrutura.</span><span class="sxs-lookup"><span data-stu-id="6fef5-147">Select a source of new test data, or use testing data that was saved with the structure.</span></span>  
  
3.  <span data-ttu-id="6fef5-148">Selecione a coluna cuja precisão você deseja avaliar.</span><span class="sxs-lookup"><span data-stu-id="6fef5-148">Select the column for which you want to assess accuracy.</span></span> <span data-ttu-id="6fef5-149">Você pode escolher apenas uma coluna ao criar uma matriz, mas a coluna pode ter vários valores.</span><span class="sxs-lookup"><span data-stu-id="6fef5-149">You can choose only one column when creating a matrix, but the column can have multiple values.</span></span>  
  
     <span data-ttu-id="6fef5-150">Dica: talvez seja difícil interpretar uma matriz de classificação se a coluna previsível tiver muitas colunas a serem comparadas.</span><span class="sxs-lookup"><span data-stu-id="6fef5-150">Tip: It can be difficult to interpret a classification matrix if your predictable column has many columns to compare.</span></span>  
  
     <span data-ttu-id="6fef5-151">Na página **selecionar colunas a serem previstas** , você também pode especificar se deseja exibir a contagem de valores incorretos e incorretos ou exibir uma porcentagem.</span><span class="sxs-lookup"><span data-stu-id="6fef5-151">In the **Select Columns to Predict** page, you can also specify whether you want to display the count of incorrect and incorrect values, or display a percentage.</span></span>  
  
4.  <span data-ttu-id="6fef5-152">Na página Selecionar Dados de Origem, indique se você está usando dados de teste externos, ou os dados de teste salvos com o modelo.</span><span class="sxs-lookup"><span data-stu-id="6fef5-152">On the Select Source Data page, indicate whether you are using external testing data, or the test data saved with the model.</span></span>  
  
5.  <span data-ttu-id="6fef5-153">Se você usar dados de teste externos, será necessário mapear o modelo para as colunas de entrada na página **especificar relação** do assistente.</span><span class="sxs-lookup"><span data-stu-id="6fef5-153">If you use external testing data, you need to map the model to the input columns on the **Specify Relationship** page of the wizard.</span></span>  
  
     <span data-ttu-id="6fef5-154">Se você usar o conjunto de dados de teste inserido, o mapeamento será realizado para você</span><span class="sxs-lookup"><span data-stu-id="6fef5-154">If you use the embedded test data set, the mapping is done for you</span></span>  
  
6.  <span data-ttu-id="6fef5-155">Clique em **concluir** para executar previsões em relação ao modelo e gerar a matriz de classificação.</span><span class="sxs-lookup"><span data-stu-id="6fef5-155">Click **Finish** to run predictions against the model and generate the classification matrix.</span></span>  
  
     <span data-ttu-id="6fef5-156">O assistente cria um relatório que contém a matriz de classificação e outros detalhes sobre a análise.</span><span class="sxs-lookup"><span data-stu-id="6fef5-156">The wizard creates a report that contains the classification matrix and other details about the analysis.</span></span> <span data-ttu-id="6fef5-157">Este relatório é salvo como uma tabela no Excel, com um resumo acima do relatório que indica quantos casos foram previstos corretamente e quantas previsões foram incorretas.</span><span class="sxs-lookup"><span data-stu-id="6fef5-157">This report is saved as a table in Excel, with a summary above the report that indicates how many cases were correctly predicted and how many predictions were wrong.</span></span>  
  
### <a name="requirements"></a><span data-ttu-id="6fef5-158">Requisitos</span><span class="sxs-lookup"><span data-stu-id="6fef5-158">Requirements</span></span>  
  
-   <span data-ttu-id="6fef5-159">Para criar uma matriz de classificação, você deve ter acesso a um modelo de mineração existente que dá suporte à medida de precisão.</span><span class="sxs-lookup"><span data-stu-id="6fef5-159">To create a classification matrix, you must have access to an existing mining model that supports accuracy measurement.</span></span> <span data-ttu-id="6fef5-160">Modelos de previsão e modelos de associação não podem ser medidos usando essa ferramenta.</span><span class="sxs-lookup"><span data-stu-id="6fef5-160">Forecasting models and association models cannot be measured using this tool.</span></span>  
  
-   <span data-ttu-id="6fef5-161">O modelo que você está medindo precisa prever um valor que seja discreto ou que já tenha sido discretizado.</span><span class="sxs-lookup"><span data-stu-id="6fef5-161">The model that you are measuring needs to predict a value that is either discrete or that has already been discretized.</span></span>  
  
-   <span data-ttu-id="6fef5-162">Se você não usou a opção para salvar um conjunto de testes junto com sua estrutura ou modelo, você precisa obter um conjunto de dados de entrada que tenha basicamente o mesmo número de colunas, com tipos de dados correspondentes, como aqueles usados no modelo.</span><span class="sxs-lookup"><span data-stu-id="6fef5-162">If you didn't use the option to save a testing set along with your structure or model, you need to obtain an input data set that has essentially the same number of columns, with matching data types, as those used in the model.</span></span>  
  
-   <span data-ttu-id="6fef5-163">O modelo de mineração de dados e os novos dados que você estiver usando para teste deverão conter pelo menos uma coluna que possa ser prevista, e as colunas devem conter o mesmo tipo de dados.</span><span class="sxs-lookup"><span data-stu-id="6fef5-163">Both the data mining model and the new data that you are using for testing must contain at least one column that can be predicted, and the columns must contain the same kind of data.</span></span>  
  
### <a name="known-issues"></a><span data-ttu-id="6fef5-164">Problemas Conhecidos</span><span class="sxs-lookup"><span data-stu-id="6fef5-164">Known Issues</span></span>  
 <span data-ttu-id="6fef5-165">No SQL Server 2012 e SQL Server 2014, a capacidade de mapear o conjunto de dados de teste interno para o modelo não está funcionando na ferramenta de **matriz de classificação** .</span><span class="sxs-lookup"><span data-stu-id="6fef5-165">In SQL Server 2012 and SQL Server 2014, the ability to map the internal test data set to the model is not working in the **Classification Matrix** tool.</span></span> <span data-ttu-id="6fef5-166">No entanto, você pode especificar um conjunto de dados externo, e selecionar o treinamento definido como a entrada para determinar o erro no conjunto de dados original.</span><span class="sxs-lookup"><span data-stu-id="6fef5-166">However, you can specify an external data set, and then select the training set as the input to determine error on the original data set.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="6fef5-167">Consulte Também</span><span class="sxs-lookup"><span data-stu-id="6fef5-167">See Also</span></span>  
 <span data-ttu-id="6fef5-168">[Validando modelos e usando modelos para previsão &#40;suplementos de mineração de dados para Excel&#41;](validating-models-and-using-models-for-prediction-data-mining-add-ins-for-excel.md) </span><span class="sxs-lookup"><span data-stu-id="6fef5-168">[Validating Models and Using Models for Prediction &#40;Data Mining Add-ins for Excel&#41;](validating-models-and-using-models-for-prediction-data-mining-add-ins-for-excel.md) </span></span>  
 <span data-ttu-id="6fef5-169">[Explorar dados &#40;SQL Server suplementos de mineração de dados&#41;](explore-data-sql-server-data-mining-add-ins.md) </span><span class="sxs-lookup"><span data-stu-id="6fef5-169">[Explore Data &#40;SQL Server Data Mining Add-ins&#41;](explore-data-sql-server-data-mining-add-ins.md) </span></span>  
 [<span data-ttu-id="6fef5-170">Detectar categorias &#40;ferramentas de análise de tabela para Excel&#41;</span><span class="sxs-lookup"><span data-stu-id="6fef5-170">Detect Categories &#40;Table Analysis Tools for Excel&#41;</span></span>](detect-categories-table-analysis-tools-for-excel.md)  
  
  
