---
title: Gerenciamento de assemblies de modelo multidimensional | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
helpviewer_keywords:
- permissions [Analysis Services], assemblies
- calling user-defined functions
- user impersonation [Analysis Services]
- impersonation [Analysis Services]
- Data Mining Extensions [Analysis Services], assemblies
- MDX [Analysis Services], assemblies
- user-defined functions [Analysis Services]
- Analysis Services objects, assemblies
- assemblies [Analysis Services]
- application domains [Analysis Services]
ms.assetid: b2645d10-6d17-444e-9289-f111ec48bbfb
author: minewiskan
ms.author: owend
ms.openlocfilehash: b95a3171b3b194e84f10809f71eb72fefb07172b
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87679053"
---
# <a name="multidimensional-model-assemblies-management"></a><span data-ttu-id="46be4-102">Gerenciamento de assemblies de modelo multidimensional</span><span class="sxs-lookup"><span data-stu-id="46be4-102">Multidimensional Model Assemblies Management</span></span>
  [!INCLUDE[msCoName](../../includes/msconame-md.md)]<span data-ttu-id="46be4-103">[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] fornece muitas funções intrínsecas para uso com as linguagens MDX (Multidimensional Expressions) e DMX (Data Mining Extensions), projetadas para realizar tudo, desde cálculos estatísticos padrão até a passagem de membros em uma hierarquia.</span><span class="sxs-lookup"><span data-stu-id="46be4-103">[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] supplies lots of intrinsic functions for use with the Multidimensional Expressions (MDX) and Data Mining Extensions (DMX) languages, designed to accomplish everything from standard statistical calculations to traversing members in a hierarchy.</span></span> <span data-ttu-id="46be4-104">Mas, como em qualquer outro produto complexo, há sempre a necessidade de estender a funcionalidade para o produto.</span><span class="sxs-lookup"><span data-stu-id="46be4-104">But, as with any other complex and robust product, there is always the need to extend the functionality of such a product further.</span></span>  
  
 <span data-ttu-id="46be4-105">Portanto, o [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] permite adicionar assemblies a uma instância ou banco de dados do [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="46be4-105">Therefore, [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] lets you add assemblies to an [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] instance or database.</span></span> <span data-ttu-id="46be4-106">Os assemblies permitem criar funções externas definidas pelo usuário usando qualquer CLR (Common Language Runtime), como o Microsoft Visual Basic .NET ou o Microsoft Visual C#.</span><span class="sxs-lookup"><span data-stu-id="46be4-106">Assemblies let you create external, user-defined functions using any common language runtime (CLR) language, such as Microsoft Visual Basic .NET or Microsoft Visual C#.</span></span> <span data-ttu-id="46be4-107">Você também pode usar linguagens de automação COM (Component Object Model), como o Microsoft Visual Basic ou o Microsoft Visual C++.</span><span class="sxs-lookup"><span data-stu-id="46be4-107">You can also use Component Object Model (COM) Automation languages such as Microsoft Visual Basic or Microsoft Visual C++.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="46be4-108">Os assemblies COM podem representar um risco à segurança.</span><span class="sxs-lookup"><span data-stu-id="46be4-108">COM assemblies might pose a security risk.</span></span> <span data-ttu-id="46be4-109">Devido a esse risco e outras considerações, os assemblies COM foram preteridos no [!INCLUDE[ssASversion10](../../includes/ssasversion10-md.md)].</span><span class="sxs-lookup"><span data-stu-id="46be4-109">Due to this risk and other considerations, COM assemblies were deprecated in [!INCLUDE[ssASversion10](../../includes/ssasversion10-md.md)].</span></span> <span data-ttu-id="46be4-110">Talvez não haja suporte para assemblies COM em versões futuras.</span><span class="sxs-lookup"><span data-stu-id="46be4-110">COM assemblies might not be supported in future releases.</span></span>  
  
 <span data-ttu-id="46be4-111">Os assemblies permitem estender a funcionalidade empresarial de MDX e DMX.</span><span class="sxs-lookup"><span data-stu-id="46be4-111">Assemblies let you extend the business functionality of MDX and DMX.</span></span> <span data-ttu-id="46be4-112">É possível criar a funcionalidade desejada em uma biblioteca, como uma DLL (biblioteca de vínculo dinâmico) e adicionar a biblioteca como um assembly a uma instância do [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] ou a um banco de dados do [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="46be4-112">You build the functionality that you want into a library, such as a dynamic link library (DLL) and add the library as an assembly to an instance of [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] or to an [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] database.</span></span> <span data-ttu-id="46be4-113">Em seguida, os métodos públicos na biblioteca são expostos como funções definidas pelo usuário para expressões MDX e DMX, procedimentos, cálculos, ações e aplicativos cliente.</span><span class="sxs-lookup"><span data-stu-id="46be4-113">The public methods in the library are then exposed as user-defined functions to MDX and DMX expressions, procedures, calculations, actions, and client applications.</span></span>  
  
 <span data-ttu-id="46be4-114">Um assembly com novos procedimentos e funções pode ser adicionado ao servidor.</span><span class="sxs-lookup"><span data-stu-id="46be4-114">An assembly with new procedures and functions can be added to the server.</span></span> <span data-ttu-id="46be4-115">É possível usar assemblies para aprimorar ou adicionar funcionalidade personalizada que não foi fornecida pelo servidor.</span><span class="sxs-lookup"><span data-stu-id="46be4-115">You can use assemblies to enhance or add custom functionality that is not provided by the server.</span></span> <span data-ttu-id="46be4-116">Usando os assemblies, você pode adicionar novas funções para o MDX, extensões DMX ou procedimentos armazenados.</span><span class="sxs-lookup"><span data-stu-id="46be4-116">By using assemblies, you can add new functions to Multidimensional Expressions (MDX), Data Mining Extensions (DMX), or stored procedures.</span></span> <span data-ttu-id="46be4-117">Os assemblies são carregados do local onde o aplicativo personalizado é executado e uma cópia do arquivo binário do assembly é salva com os dados do banco de dados no servidor.</span><span class="sxs-lookup"><span data-stu-id="46be4-117">Assemblies are loaded from the location where the custom application is run, and a copy of the assembly binary file is saved along with the database data in the server.</span></span> <span data-ttu-id="46be4-118">Quando um assembly é removido, o assembly copiado também é removido do servidor.</span><span class="sxs-lookup"><span data-stu-id="46be4-118">When an assembly is removed, the copied assembly is also removed from the server.</span></span>  
  
 <span data-ttu-id="46be4-119">Os assemblies podem ser de dois tipos diferentes: COM e CLR.</span><span class="sxs-lookup"><span data-stu-id="46be4-119">Assemblies can be of two different types: COM and CLR.</span></span> <span data-ttu-id="46be4-120">Os assemblies CLR são desenvolvidos em linguagens de programação .NET Framework, como C#, Visual Basic .NET, C++ gerenciado.</span><span class="sxs-lookup"><span data-stu-id="46be4-120">CLR assemblies are assemblies developed in .NET Framework programming languages such as C#, Visual Basic .NET, managed C++.</span></span> <span data-ttu-id="46be4-121">Os assemblies COM são bibliotecas COM que devem ser registradas no servidor.</span><span class="sxs-lookup"><span data-stu-id="46be4-121">COM assemblies are COM libraries that must be registered in the server</span></span>  
  
 <span data-ttu-id="46be4-122">Assemblies podem ser adicionados a objetos <xref:Microsoft.AnalysisServices.Server> ou <xref:Microsoft.AnalysisServices.Database> .</span><span class="sxs-lookup"><span data-stu-id="46be4-122">Assemblies can be added to <xref:Microsoft.AnalysisServices.Server> or <xref:Microsoft.AnalysisServices.Database> objects.</span></span> <span data-ttu-id="46be4-123">Os assemblies de servidor podem ser chamados por qualquer usuário conectado ao servidor ou qualquer objeto no servidor.</span><span class="sxs-lookup"><span data-stu-id="46be4-123">Server assemblies can be called by any user connected to the server or any object in the server.</span></span> <span data-ttu-id="46be4-124">Os assemblies de banco de dados só podem ser chamados por objetos <xref:Microsoft.AnalysisServices.Database> ou usuários conectados ao banco de dados.</span><span class="sxs-lookup"><span data-stu-id="46be4-124">Database assemblies can be called only by <xref:Microsoft.AnalysisServices.Database> objects or users connected to the database.</span></span>  
  
 <span data-ttu-id="46be4-125">Um objeto <xref:Microsoft.AnalysisServices.Assembly> simples é composto por informações básicas (Nome e ID), coleção de arquivos e especificações de segurança.</span><span class="sxs-lookup"><span data-stu-id="46be4-125">A simple <xref:Microsoft.AnalysisServices.Assembly> object is composed of basic information (Name and Id), file collection, and security specifications.</span></span>  
  
 <span data-ttu-id="46be4-126">A coleção de arquivo refere-se aos arquivos assembly carregados e seus arquivos de depuração correspondentes (.pdb), caso os arquivos de depuração tenham sido carregados com os arquivos assembly.</span><span class="sxs-lookup"><span data-stu-id="46be4-126">The file collection refers to the loaded assembly files and their corresponding debugging (.pdb) files, if the debugging files were loaded with the assembly files.</span></span> <span data-ttu-id="46be4-127">Os arquivos assembly são carregados do local em que o aplicativo definiu os arquivos e uma cópia é gravada no servidor com os dados.</span><span class="sxs-lookup"><span data-stu-id="46be4-127">Assembly files are loaded from the location where the application defined the files to, and a copy is saved in the server along with the data.</span></span> <span data-ttu-id="46be4-128">A cópia do arquivo assembly é usada para carregar o assembly sempre que o serviço é iniciado.</span><span class="sxs-lookup"><span data-stu-id="46be4-128">The copy of the assembly file is used to load the assembly every time the service is started.</span></span>  
  
 <span data-ttu-id="46be4-129">As especificações de segurança incluem a permissão definida e a representação usada para executar o assembly.</span><span class="sxs-lookup"><span data-stu-id="46be4-129">Security specifications include the permission set and the impersonation used to run the assembly.</span></span>  
  
## <a name="calling-user-defined-functions"></a><span data-ttu-id="46be4-130">Chamando funções definidas pelo usuário</span><span class="sxs-lookup"><span data-stu-id="46be4-130">Calling User-Defined Functions</span></span>  
 <span data-ttu-id="46be4-131">A chamada de uma função definida pelo usuário em um assembly é executada como a chamada de uma função intrínseca, exceto pelo fato de que você deve usar um nome totalmente qualificado.</span><span class="sxs-lookup"><span data-stu-id="46be4-131">Calling a user-defined function in an assembly is performed just like calling an intrinsic function, except that you must use a fully qualified name.</span></span> <span data-ttu-id="46be4-132">Por exemplo, uma função definida pelo usuário que retorna um tipo esperado pelo MDX é incluída em uma consulta MDX, conforme mostrado no exemplo a seguir:</span><span class="sxs-lookup"><span data-stu-id="46be4-132">For example, a user-defined function that returns a type expected by MDX is included in an MDX query, as shown in the following example:</span></span>  
  
```  
Select MyAssembly.MyClass.MyStoredProcedure(a, b, c) on 0 from Sales  
```  
  
 <span data-ttu-id="46be4-133">As funções definidas pelo usuário também podem ser chamadas usando a palavra-chave CALL.</span><span class="sxs-lookup"><span data-stu-id="46be4-133">User-defined functions can also be called using the CALL keyword.</span></span> <span data-ttu-id="46be4-134">Você deve usar a palavra-chave CALL para funções definidas pelo usuário que retornem conjuntos de registros ou valores nulos e não será possível usar a palavra-chave CALL se a função definida pelo usuário depender de um objeto no contexto da instrução ou script MDX ou DMX, como o cubo atual ou o modelo de mineração de dados.</span><span class="sxs-lookup"><span data-stu-id="46be4-134">You must use the CALL keyword for user-defined functions which return recordsets or void values, and you cannot use the CALL keyword if the user-defined function depends on an object in the context of the MDX or DMX statement or script, such as the current cube or data mining model.</span></span> <span data-ttu-id="46be4-135">Um uso comum de uma função chamada fora de uma consulta MDX ou DMX é usar o modelo de objeto AMO para executar funções administrativas.</span><span class="sxs-lookup"><span data-stu-id="46be4-135">A common use for a function called outside an MDX or DMX query is to use the AMO object model to perform administrative functions.</span></span> <span data-ttu-id="46be4-136">Se, por exemplo, você quiser usar a função `MyVoidProcedure(a, b, c)` em uma instrução MDX, a seguinte sintaxe será aplicada:</span><span class="sxs-lookup"><span data-stu-id="46be4-136">If, for example, you wanted to use the function `MyVoidProcedure(a, b, c)` in an MDX statement, the following syntax would be employed:</span></span>  
  
```  
Call MyAssembly.MyClass.MyVoidProcedure(a, b, c)  
```  
  
 <span data-ttu-id="46be4-137">Os assemblies simplificam o desenvolvimento de banco de dados, ativando o código comum a ser desenvolvido uma vez e armazenado em um único local.</span><span class="sxs-lookup"><span data-stu-id="46be4-137">Assemblies simplify database development by enabling common code to be developed once and stored in a single location.</span></span> <span data-ttu-id="46be4-138">Os desenvolvedores de software cliente podem criar bibliotecas de funções para o [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] e distribuí-las com seus aplicativos.</span><span class="sxs-lookup"><span data-stu-id="46be4-138">Client software developers can create libraries of functions for [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] and distribute them with their applications.</span></span>  
  
 <span data-ttu-id="46be4-139">Os assemblies e funções definidas pelo usuário podem duplicar os nomes de função da biblioteca de funções do [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] ou de outros assemblies.</span><span class="sxs-lookup"><span data-stu-id="46be4-139">Assemblies and user-defined functions can duplicate the function names of the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] function library or of other assemblies.</span></span> <span data-ttu-id="46be4-140">Desde que você possa chamar a função definida pelo usuário usando seu nome totalmente qualificado, o [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] usará o procedimento correto.</span><span class="sxs-lookup"><span data-stu-id="46be4-140">As long as you call the user-defined function by using its fully qualified name, [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] will use the correct procedure.</span></span> <span data-ttu-id="46be4-141">Para fins de segurança, e para eliminar a chance de chamar um nome duplicado em uma biblioteca de classes diferente, o [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] requer que você use apenas nomes totalmente qualificados para procedimentos armazenados.</span><span class="sxs-lookup"><span data-stu-id="46be4-141">For security purposes, and to eliminate the chance of calling a duplicate name in a different class library, [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] requires that you use only fully qualified names for stored procedures.</span></span>  
  
 <span data-ttu-id="46be4-142">Para chamar uma função definida pelo usuário de um assembly CLR específico, a função é precedida pelo nome do assembly, o nome completo da classe e o nome do procedimento, conforme demonstrado aqui:</span><span class="sxs-lookup"><span data-stu-id="46be4-142">To call a user-defined function from a specific CLR assembly, the user-defined function is preceded by the assembly name, full class name, and procedure name, as demonstrated here:</span></span>  
  
 <span data-ttu-id="46be4-143">*AssemblyName*. *FullClassName*. *ProcedureName*(*argument1*, *argument2*,...)</span><span class="sxs-lookup"><span data-stu-id="46be4-143">*AssemblyName*.*FullClassName*.*ProcedureName*(*Argument1*, *Argument2*, ...)</span></span>  
  
 <span data-ttu-id="46be4-144">Para fins de compatibilidade com versões anteriores do [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)], a sintaxe a seguir é também aceitável:</span><span class="sxs-lookup"><span data-stu-id="46be4-144">For backward compatibility with earlier versions of [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)], the following syntax is also acceptable:</span></span>  
  
 <span data-ttu-id="46be4-145">*AssemblyName*!*FullClassName*!*ProcedureName*(*Argument1*, *Argument2*, ...)</span><span class="sxs-lookup"><span data-stu-id="46be4-145">*AssemblyName*!*FullClassName*!*ProcedureName*(*Argument1*, *Argument2*, ...)</span></span>  
  
 <span data-ttu-id="46be4-146">Se a biblioteca COM oferece suporte para várias interfaces, a ID da interface também pode ser usada para resolver o nome do procedimento, conforme demonstrado aqui:</span><span class="sxs-lookup"><span data-stu-id="46be4-146">If a COM library supports multiple interfaces, the interface ID can also be used to resolve the procedure name, as demonstrated here:</span></span>  
  
 <span data-ttu-id="46be4-147">*AssemblyName*!*InterfaceID*!*ProcedureName*(*Argument1*, *Argument2*, ...)</span><span class="sxs-lookup"><span data-stu-id="46be4-147">*AssemblyName*!*InterfaceID*!*ProcedureName*(*Argument1*, *Argument2*, ...)</span></span>  
  
## <a name="security"></a><span data-ttu-id="46be4-148">Segurança</span><span class="sxs-lookup"><span data-stu-id="46be4-148">Security</span></span>  
 <span data-ttu-id="46be4-149">A segurança dos assemblies baseia-se no modelo de segurança .NET Framework, que é um modelo de segurança de acesso por código.</span><span class="sxs-lookup"><span data-stu-id="46be4-149">Security for assemblies is based on the .NET Framework security model, which is a code-access security model.</span></span> <span data-ttu-id="46be4-150">O .NET Framework oferece suporte a um mecanismo de segurança de acesso por código assumindo que o runtime pode hospedar tanto o código totalmente confiável quanto o parcialmente confiável.</span><span class="sxs-lookup"><span data-stu-id="46be4-150">.NET Framework supports a code-access security mechanism that assumes that the runtime can host both fully trusted and partially trusted code.</span></span> <span data-ttu-id="46be4-151">Os recursos protegidos pela segurança de código de acesso .NET Framework geralmente são envolvidos pelo código gerenciado que demanda a permissão correspondente antes de permitir o acesso ao recurso.</span><span class="sxs-lookup"><span data-stu-id="46be4-151">The resources that are protected by .NET Framework code access security are typically wrapped by managed code which demands the corresponding permission before enabling access to the resource.</span></span> <span data-ttu-id="46be4-152">A demanda para a permissão é satisfatória apenas quando todos os chamadores (no nível de assembly) na pilha de chamadas tiverem a permissão do recurso correspondente.</span><span class="sxs-lookup"><span data-stu-id="46be4-152">The demand for the permission is satisfied only if all the callers (at the assembly level) in the call stack have the corresponding resource permission.</span></span>  
  
 <span data-ttu-id="46be4-153">Para os assemblies, a permissão de execução é passada com a propriedade `PermissionSet` no objeto `Assembly`.</span><span class="sxs-lookup"><span data-stu-id="46be4-153">For assemblies, permission for execution is passed with the `PermissionSet` property on the `Assembly` object.</span></span> <span data-ttu-id="46be4-154">As permissões que o código gerenciado recebe são determinadas pela política de segurança em vigor.</span><span class="sxs-lookup"><span data-stu-id="46be4-154">The permissions that managed code receives are determined by the security policy in effect.</span></span> <span data-ttu-id="46be4-155">Existem três níveis de política que estão em vigor em um ambiente de host não[!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] : empresa, computador e usuário.</span><span class="sxs-lookup"><span data-stu-id="46be4-155">There are already three levels of policy in effect in a non-[!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] hosted environment: enterprise, computer and user.</span></span> <span data-ttu-id="46be4-156">A lista efetiva de permissões que o código recebe é determinada pela interseção das permissões obtidas por esses três níveis.</span><span class="sxs-lookup"><span data-stu-id="46be4-156">The effective list of permissions that code receives is determined by the intersection of the permissions obtained by these three levels.</span></span>  
  
 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] <span data-ttu-id="46be4-157">fornece um nível de política de segurança no nível do host ao CLR ao hospedá-lo; essa política é um nível de política adicional abaixo dos três níveis de política que estão sempre em funcionamento.</span><span class="sxs-lookup"><span data-stu-id="46be4-157">supplies a host-level security policy level to the CLR while hosting it; this policy is an additional policy level below the three policy levels that are always in effect.</span></span> <span data-ttu-id="46be4-158">Essa política é definida para todos os domínios de aplicativo criados pelo [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="46be4-158">This policy is set for every application domain that is created by [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)].</span></span>  
  
 <span data-ttu-id="46be4-159">A política de nível host do [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] é uma combinação de política fixa do [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] para assemblies de sistema e política específica de usuário para assemblies de usuário.</span><span class="sxs-lookup"><span data-stu-id="46be4-159">The [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] host-level policy is a combination of [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] fixed policy for system assemblies and user-specified policy for user assemblies.</span></span> <span data-ttu-id="46be4-160">A parte especificada pelo usuário da política host do [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] baseia-se no proprietário do assembly especificando um de três recipientes de permissão para cada assembly.</span><span class="sxs-lookup"><span data-stu-id="46be4-160">The user-specified piece of the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] host policy is based on the assembly owner specifying one of three permission buckets for each assembly:</span></span>  
  
|<span data-ttu-id="46be4-161">Configuração de permissões</span><span class="sxs-lookup"><span data-stu-id="46be4-161">Permission Setting</span></span>|<span data-ttu-id="46be4-162">Descrição</span><span class="sxs-lookup"><span data-stu-id="46be4-162">Description</span></span>|  
|------------------------|-----------------|  
|`Safe`|<span data-ttu-id="46be4-163">Fornece a permissão de computação interna.</span><span class="sxs-lookup"><span data-stu-id="46be4-163">Provides internal computation permission.</span></span> <span data-ttu-id="46be4-164">Esse recipiente de permissão não atribui permissões para acessar qualquer um dos recursos protegidos em .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="46be4-164">This permission bucket does not assign permissions to access any of the protected resources in the .NET Framework.</span></span> <span data-ttu-id="46be4-165">Este será o recipiente de permissão padrão de um assembly se não houver outro especificado com a propriedade `PermissionSet`.</span><span class="sxs-lookup"><span data-stu-id="46be4-165">This is the default permission bucket for an assembly if none is specified with the `PermissionSet` property.</span></span>|  
|`ExternalAccess`|<span data-ttu-id="46be4-166">Fornece o mesmo acesso que a configuração `Safe`, com a habilidade adicional de acessar recursos externos do sistema.</span><span class="sxs-lookup"><span data-stu-id="46be4-166">Provides the same access as the `Safe` setting, with the additional ability to access external system resources.</span></span> <span data-ttu-id="46be4-167">Esse recipiente de permissão não oferece garantias de segurança (embora seja possível para proteger esse cenário), mas oferece garantias de confiabilidade.</span><span class="sxs-lookup"><span data-stu-id="46be4-167">This permission bucket does not offer security guarantees (although it is possible to secure this scenario), but it does give reliability guarantees.</span></span>|  
|`Unsafe`|<span data-ttu-id="46be4-168">Não fornece restrições.</span><span class="sxs-lookup"><span data-stu-id="46be4-168">Provides no restrictions.</span></span> <span data-ttu-id="46be4-169">Nenhuma garantia de segurança ou confiabilidade pode ser criada para o código gerenciado executado sob essa permissão definida.</span><span class="sxs-lookup"><span data-stu-id="46be4-169">No security or reliability guarantees can be made for managed code running under this permission set.</span></span> <span data-ttu-id="46be4-170">Qualquer permissão, mesmo uma permissão personalizada incluída pelo administrador, é concedida ao código executado nesse nível de confiança.</span><span class="sxs-lookup"><span data-stu-id="46be4-170">Any permission, even a custom permission included by the administrator, is granted to code running at this level of trust.</span></span>|  
  
 <span data-ttu-id="46be4-171">Quando o CLR é hospedado pelo [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)], a permissão com base em fila verifica interrupções no limite com o código nativo do [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="46be4-171">When CLR is hosted by [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)], the stack-walk based permission check stops at the boundary with native [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] code.</span></span> <span data-ttu-id="46be4-172">Qualquer código gerenciado em assemblies [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] sempre entra em uma das três categorias de permissão listadas anteriormente.</span><span class="sxs-lookup"><span data-stu-id="46be4-172">Any managed code in [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] assemblies always falls into one of the three permission categories listed earlier.</span></span>  
  
 <span data-ttu-id="46be4-173">As rotinas de assembly COM (ou não gerenciadas) não oferecem suporte ao modelo de segurança CLR.</span><span class="sxs-lookup"><span data-stu-id="46be4-173">COM (or unmanaged) assembly routines do not support the CLR security model.</span></span>  
  
### <a name="impersonation"></a><span data-ttu-id="46be4-174">Representação</span><span class="sxs-lookup"><span data-stu-id="46be4-174">Impersonation</span></span>  
 <span data-ttu-id="46be4-175">Sempre que o código gerenciado acessa qualquer recurso fora do [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)], o [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] segue as regras associadas à configuração da propriedade `ImpersonationMode` do assembly para certificar-se de que o acesso ocorre em um contexto de segurança apropriado do Windows.</span><span class="sxs-lookup"><span data-stu-id="46be4-175">Whenever managed code accesses any resource outside [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)], [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] follows the rules associated with the `ImpersonationMode` property setting of the assembly to make sure that the access occurs in an appropriate Windows security context.</span></span> <span data-ttu-id="46be4-176">Como os assemblies que usam a configuração de permissão `Safe` não podem acessar recursos fora do [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)], essas regras são aplicáveis apenas aos assemblies, usando as configurações de permissão `ExternalAccess` e `Unsafe`.</span><span class="sxs-lookup"><span data-stu-id="46be4-176">Because assemblies using the `Safe` permission setting cannot access resources outside [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)], these rules are applicable only for assemblies using the `ExternalAccess` and `Unsafe` permission settings.</span></span>  
  
-   <span data-ttu-id="46be4-177">Se o contexto de execução atual corresponder ao logon autenticado do Windows e for o mesmo que o contexto do chamador original (ou seja, sem EXECUTE AS no meio), o [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] representará o logon autenticado do Windows antes de acessar o recurso.</span><span class="sxs-lookup"><span data-stu-id="46be4-177">If the current execution context corresponds to Windows Authenticated login and is the same as the context of the original caller (that is, there is no EXECUTE AS in the middle), [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] will impersonate the Windows Authenticated login before accessing the resource.</span></span>  
  
-   <span data-ttu-id="46be4-178">Se houver um EXECUTE AS intermediário que altere o contexto do chamador original, a tentativa de acessar o recurso externo falhará.</span><span class="sxs-lookup"><span data-stu-id="46be4-178">If there is an intermediate EXECUTE AS that changed the context from that of the original caller), the attempt to access external resource will fail.</span></span>  
  
 <span data-ttu-id="46be4-179">A propriedade `ImpersonationMode` pode ser definida como `ImpersonateCurrentUser` ou `ImpersonateAnonymous`.</span><span class="sxs-lookup"><span data-stu-id="46be4-179">The `ImpersonationMode` property can be set to `ImpersonateCurrentUser` or `ImpersonateAnonymous`.</span></span> <span data-ttu-id="46be4-180">A configuração padrão, `ImpersonateCurrentUser`, executa um assembly na conta de login de rede do usuário atual.</span><span class="sxs-lookup"><span data-stu-id="46be4-180">The default setting, `ImpersonateCurrentUser`, runs an assembly under the current user's network login account.</span></span> <span data-ttu-id="46be4-181">Se a `ImpersonateAnonymous` configuração for usada, o contexto de execução será correspondente à conta de usuário de logon do Windows IUSER_*ServerName* no servidor.</span><span class="sxs-lookup"><span data-stu-id="46be4-181">If the `ImpersonateAnonymous` setting is used, the execution context is corresponds to the Windows login user account IUSER_*servername* on the server.</span></span> <span data-ttu-id="46be4-182">Esta é a conta-convidado da Internet que limitou os privilégios no servidor.</span><span class="sxs-lookup"><span data-stu-id="46be4-182">This is the Internet guest account, which has limited privileges on the server.</span></span> <span data-ttu-id="46be4-183">Um assembly executado nesse contexto só pode acessar recursos limitados no servidor local.</span><span class="sxs-lookup"><span data-stu-id="46be4-183">An assembly running in this context can only access limited resources on the local server.</span></span>  
  
### <a name="application-domains"></a><span data-ttu-id="46be4-184">Domínios do aplicativo</span><span class="sxs-lookup"><span data-stu-id="46be4-184">Application Domains</span></span>  
 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] <span data-ttu-id="46be4-185">não expõe os domínios de aplicativo diretamente.</span><span class="sxs-lookup"><span data-stu-id="46be4-185">does not expose application domains directly.</span></span> <span data-ttu-id="46be4-186">Devido a um conjunto de assemblies executado no mesmo domínio de aplicativo, os domínios de aplicativo podem descobrir um ao outro no momento de execução usando o namespace `System.Reflection` no .NET Framework, ou de alguma outra maneira, e podem chamá-los no modo associado mais recente.</span><span class="sxs-lookup"><span data-stu-id="46be4-186">Because of a set of assemblies running in the same application domain, application domains can discover each other at execution time by using the `System.Reflection` namespace in the .NET Framework or in some other way, and can call into them in late-bound manner.</span></span> <span data-ttu-id="46be4-187">Essa chamadas estarão sujeitas às verificações de permissão usadas pela segurança com base na autorização do [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="46be4-187">Such calls will be subject to the permission checks used by [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] authorization-based security.</span></span>  
  
 <span data-ttu-id="46be4-188">Você não deve confiar na localização dos assemblies no mesmo domínio do aplicativo, pois o limite do domínio de aplicativo e dos assemblies que vão para cada domínio são definidos pela implementação.</span><span class="sxs-lookup"><span data-stu-id="46be4-188">You should not rely on finding assemblies in the same application domain, because the application domain boundary and the assemblies that go into each domain are defined by the implementation.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="46be4-189">Consulte Também</span><span class="sxs-lookup"><span data-stu-id="46be4-189">See Also</span></span>  
 <span data-ttu-id="46be4-190">[Definindo a segurança para procedimentos armazenados](../multidimensional-models-extending-olap-stored-procedures/setting-security-for-stored-procedures.md) </span><span class="sxs-lookup"><span data-stu-id="46be4-190">[Setting Security for Stored Procedures](../multidimensional-models-extending-olap-stored-procedures/setting-security-for-stored-procedures.md) </span></span>  
 [<span data-ttu-id="46be4-191">Definindo procedimentos armazenados</span><span class="sxs-lookup"><span data-stu-id="46be4-191">Defining Stored Procedures</span></span>](../multidimensional-models-extending-olap-stored-procedures/defining-stored-procedures.md)  
  
  
