---
title: Configurar o armazenamento de cadeia de caracteres para dimensões e partições | Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
ms.assetid: 987f6cfc-da82-4b2e-96ef-a8af88339e5f
author: minewiskan
ms.author: owend
ms.openlocfilehash: 2817af382599d4495dddbd8951a72a47629cf824
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87683789"
---
# <a name="configure-string-storage-for-dimensions-and-partitions"></a><span data-ttu-id="dd3fc-102">Configurar o armazenamento de cadeia de caracteres para dimensões e partições</span><span class="sxs-lookup"><span data-stu-id="dd3fc-102">Configure String Storage for Dimensions and Partitions</span></span>
  <span data-ttu-id="dd3fc-103">Você pode reconfigurar o armazenamento de cadeia de caracteres para acomodar cadeias de caracteres muito grandes em atributos de dimensão ou partições que excedem o limite de tamanho de arquivo do 4 GB para repositórios de cadeias de caracteres.</span><span class="sxs-lookup"><span data-stu-id="dd3fc-103">You can reconfigure string storage to accommodate very large strings in dimension attributes or partitions that exceed the 4 GB file size limit for string stores.</span></span> <span data-ttu-id="dd3fc-104">Se suas dimensões ou partições incluírem repositórios de cadeias de caracteres desse tamanho, você poderá contornar a restrição de tamanho do arquivo alterando a propriedade **StringStoresCompatibilityLevel** em nível de dimensão ou de partição para objetos locais e vinculados (locais ou remotos).</span><span class="sxs-lookup"><span data-stu-id="dd3fc-104">If your dimensions or partitions include string stores of this size, you can work around the file size constraint by changing the **StringStoresCompatibilityLevel** property at the dimension or partition level, for local as well as linked (local or remote) objects.</span></span>  
  
 <span data-ttu-id="dd3fc-105">Observe que você pode aumentar o armazenamento de cadeia de caracteres apenas nos objetos que exigem capacidade adicional.</span><span class="sxs-lookup"><span data-stu-id="dd3fc-105">Note that you can increase string storage on just those objects that require additional capacity.</span></span> <span data-ttu-id="dd3fc-106">Na maioria dos modelos multidimensionais, os dados de cadeia de caracteres são associados às dimensões.</span><span class="sxs-lookup"><span data-stu-id="dd3fc-106">In most multidimensional models, string data is associated with dimensions.</span></span> <span data-ttu-id="dd3fc-107">No entanto, partições que contêm medidas de contagem distintas sobre cadeias de caracteres também podem aproveitar essa configuração.</span><span class="sxs-lookup"><span data-stu-id="dd3fc-107">However, partitions that contain distinct count measures on top of strings can also benefit from this setting.</span></span> <span data-ttu-id="dd3fc-108">Como a configuração é para cadeias de caracteres, dados numéricos não são afetados.</span><span class="sxs-lookup"><span data-stu-id="dd3fc-108">Because the setting is for strings, numeric data is unaffected.</span></span>  
  
 <span data-ttu-id="dd3fc-109">Os valores válidos para essa propriedade incluem os seguintes:</span><span class="sxs-lookup"><span data-stu-id="dd3fc-109">Valid values for this property include the following:</span></span>  
  
|<span data-ttu-id="dd3fc-110">Valor</span><span class="sxs-lookup"><span data-stu-id="dd3fc-110">Value</span></span>|<span data-ttu-id="dd3fc-111">Descrição</span><span class="sxs-lookup"><span data-stu-id="dd3fc-111">Description</span></span>|  
|-----------|-----------------|  
|<span data-ttu-id="dd3fc-112">**1050**</span><span class="sxs-lookup"><span data-stu-id="dd3fc-112">**1050**</span></span>|<span data-ttu-id="dd3fc-113">Especifica a arquitetura de armazenamento de cadeias de caracteres padrão, sujeita a um tamanho de arquivo máximo de 4 GB por repositório.</span><span class="sxs-lookup"><span data-stu-id="dd3fc-113">Specifies the default string storage architecture, subject to a 4 GB maximum file size per store.</span></span>|  
|<span data-ttu-id="dd3fc-114">**1100**</span><span class="sxs-lookup"><span data-stu-id="dd3fc-114">**1100**</span></span>|<span data-ttu-id="dd3fc-115">Especifica um maior armazenamento de cadeias de caracteres, dá suporte a até quatro bilhões de cadeias de caracteres exclusivas por repositório.</span><span class="sxs-lookup"><span data-stu-id="dd3fc-115">Specifies larger string storage, supports up to 4 billion unique strings per store.</span></span>|  
  
> [!IMPORTANT]  
>  <span data-ttu-id="dd3fc-116">A alteração das configurações do armazenamento de cadeias de caracteres de um objeto requer que você reprocesse próprio objeto e qualquer objeto dependente.</span><span class="sxs-lookup"><span data-stu-id="dd3fc-116">Changing the string storage settings of an object requires that you reprocess the object itself and any dependent object.</span></span> <span data-ttu-id="dd3fc-117">O processamento é necessário para concluir o procedimento.</span><span class="sxs-lookup"><span data-stu-id="dd3fc-117">Processing is required to complete the procedure.</span></span>  
  
 <span data-ttu-id="dd3fc-118">Este tópico contém as seguintes seções:</span><span class="sxs-lookup"><span data-stu-id="dd3fc-118">This topic contains the following sections:</span></span>  
  
-   [<span data-ttu-id="dd3fc-119">Sobre repositórios de cadeias de caracteres</span><span class="sxs-lookup"><span data-stu-id="dd3fc-119">About String Stores</span></span>](#bkmk_background)  
  
-   [<span data-ttu-id="dd3fc-120">Pré-requisitos</span><span class="sxs-lookup"><span data-stu-id="dd3fc-120">Prerequisites</span></span>](#bkmk_prereq)  
  
-   [<span data-ttu-id="dd3fc-121">Etapa 1: definir a propriedade StringStoreCompatiblityLevel no SQL Server Data Tools</span><span class="sxs-lookup"><span data-stu-id="dd3fc-121">Step 1: Set the StringStoreCompatiblityLevel Property in SQL Server Data Tools</span></span>](#bkmk_step1)  
  
-   [<span data-ttu-id="dd3fc-122">Etapa 2: processar os objetos</span><span class="sxs-lookup"><span data-stu-id="dd3fc-122">Step 2: Process the Objects</span></span>](#bkmk_step2)  
  
##  <a name="about-string-stores"></a><a name="bkmk_background"></a><span data-ttu-id="dd3fc-123">Sobre armazenamentos de cadeia de caracteres</span><span class="sxs-lookup"><span data-stu-id="dd3fc-123">About String Stores</span></span>  
 <span data-ttu-id="dd3fc-124">A configuração do armazenamento de cadeias de caracteres é opcional, o que significa que até mesmo novos bancos de dados criados usam a arquitetura de repositório de cadeias de caracteres padrão que está sujeita ao tamanho de arquivo máximo de 4 GB.</span><span class="sxs-lookup"><span data-stu-id="dd3fc-124">String storage configuration is optional, which means that even new databases that you create use the default string store architecture that is subject to the 4 GB maximum file size.</span></span> <span data-ttu-id="dd3fc-125">O uso de uma maior arquitetura de armazenamento de cadeia de caracteres tem um impacto pequeno mas notável no desempenho.</span><span class="sxs-lookup"><span data-stu-id="dd3fc-125">Using the larger string storage architecture has a small but noticeable impact on performance.</span></span> <span data-ttu-id="dd3fc-126">Você deve usá-la apenas se seus arquivos de armazenamento de cadeias de caracteres estiverem próximos ou no limite máximo de 4 GB.</span><span class="sxs-lookup"><span data-stu-id="dd3fc-126">You should use it only if your string storage files are close to or at the maximum 4 GB limit.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="dd3fc-127">Essa configuração não se aplica a modelos de mineração de dados.</span><span class="sxs-lookup"><span data-stu-id="dd3fc-127">This setting does not apply to data mining models.</span></span> <span data-ttu-id="dd3fc-128">No momento, ainda é possível localizar a limitação de tamanho de arquivo GB em modelos que contenham estruturas de mineração de dados.</span><span class="sxs-lookup"><span data-stu-id="dd3fc-128">Currently, it is still possible to encounter the GB file size limitation on models containing data mining structures.</span></span>  
  
 <span data-ttu-id="dd3fc-129">Em um banco de dados multidimensional do Analysis Services, as cadeias de caracteres são armazenadas separadamente dos dados numéricos para permitir otimizações baseadas nas características dos dados.</span><span class="sxs-lookup"><span data-stu-id="dd3fc-129">In an Analysis Services multidimensional database, strings are stored separately from numeric data to allow for optimizations based on characteristics of the data.</span></span> <span data-ttu-id="dd3fc-130">Dados de cadeia de caracteres normalmente são localizados em atributos de dimensão que representam nomes ou descrições.</span><span class="sxs-lookup"><span data-stu-id="dd3fc-130">String data is typically found in dimension attributes that represent names or descriptions.</span></span> <span data-ttu-id="dd3fc-131">Também é possível ter dados de cadeia de caracteres em medidas de contagens distintas.</span><span class="sxs-lookup"><span data-stu-id="dd3fc-131">It is also possible to have string data in distinct count measures.</span></span> <span data-ttu-id="dd3fc-132">Os dados de cadeia de caracteres também podem ser usados em chaves.</span><span class="sxs-lookup"><span data-stu-id="dd3fc-132">String data can also be used in keys.</span></span>  
  
 <span data-ttu-id="dd3fc-133">Você pode identificar um repositório de cadeias de caracteres por sua extensão de arquivo (por exemplo, arquivos asstore, .bstore, .ksstore ou .string).</span><span class="sxs-lookup"><span data-stu-id="dd3fc-133">You can identify a string store by its file extension (for example, asstore, .bstore, .ksstore, or .string files).</span></span> <span data-ttu-id="dd3fc-134">Por padrão, cada um desses arquivos está sujeito a um limite máximo de 4 GB.</span><span class="sxs-lookup"><span data-stu-id="dd3fc-134">By default, each of these files is subject to a maximum 4 GB limit.</span></span> <span data-ttu-id="dd3fc-135">No [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)], é possível substituir o tamanho máximo do arquivo especificando um mecanismo de armazenamento alternativo que permite que um repositório de cadeias de caracteres cresça conforme necessário.</span><span class="sxs-lookup"><span data-stu-id="dd3fc-135">In [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)], you can override the maximum file size by specifying an alternative storage mechanism that allows a string store to grow as needed.</span></span>  
  
 <span data-ttu-id="dd3fc-136">Em comparação com a arquitetura de armazenamento de cadeias de caracteres padrão que limita o tamanho do arquivo físico, um maior armazenamento de cadeias de caracteres é baseado em um número máximo de cadeias de caracteres.</span><span class="sxs-lookup"><span data-stu-id="dd3fc-136">In contrast with the default string storage architecture which limits the size of the physical file, larger string storage is based on a maximum number of strings.</span></span> <span data-ttu-id="dd3fc-137">O limite máximo para um maior armazenamento de cadeias de caracteres é de quatro bilhões de cadeias de caracteres exclusivas ou quatro bilhões de registros, o que ocorrer primeiro.</span><span class="sxs-lookup"><span data-stu-id="dd3fc-137">The maximum limit for larger string storage is 4 billion unique strings or 4 billion records, whichever occurs first.</span></span> <span data-ttu-id="dd3fc-138">Um maior armazenamento de cadeias de caracteres cria registros de um tamanho uniforme, em que cada registro é igual a uma página de 64 K.</span><span class="sxs-lookup"><span data-stu-id="dd3fc-138">Larger string storage creates records of an even size, where each record is equal to a 64K page.</span></span> <span data-ttu-id="dd3fc-139">Se você tiver cadeias de caracteres muito longas que não se ajustem em um único registro, seu limite efetivo será menor do que quatro bilhões de cadeias de caracteres.</span><span class="sxs-lookup"><span data-stu-id="dd3fc-139">If you have very long strings that do not fit in a single record, your effective limit will be less than 4 billion strings.</span></span>  
  
##  <a name="prerequisites"></a><a name="bkmk_prereq"></a> <span data-ttu-id="dd3fc-140">Pré-requisitos</span><span class="sxs-lookup"><span data-stu-id="dd3fc-140">Prerequisites</span></span>  
 <span data-ttu-id="dd3fc-141">Você deve ter uma versão [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] ou posterior do [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="dd3fc-141">You must have a [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] or later version of [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)].</span></span>  
  
 <span data-ttu-id="dd3fc-142">Dimensões e partições devem usar o armazenamento MOLAP</span><span class="sxs-lookup"><span data-stu-id="dd3fc-142">Dimensions and partitions must use MOLAP storage.</span></span>  
  
 <span data-ttu-id="dd3fc-143">O nível de compatibilidade do banco de dados deve ser definido como 1100.</span><span class="sxs-lookup"><span data-stu-id="dd3fc-143">The database compatibility level must be set to 1100.</span></span> <span data-ttu-id="dd3fc-144">Se você criar ou implantar um banco de dados usando o [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)] e o [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] ou uma versão posterior do [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)], o nível de compatibilidade do banco de dados já estará definido como 1100.</span><span class="sxs-lookup"><span data-stu-id="dd3fc-144">If you created or deployed a database using [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)] and the [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] or later version of [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)], the database compatibility level is already set to 1100.</span></span> <span data-ttu-id="dd3fc-145">Se você mover um banco de dados criado em uma versão anterior do [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] para o ssSQL11 ou posterior, deverá atualizar o nível de compatibilidade.</span><span class="sxs-lookup"><span data-stu-id="dd3fc-145">If you moved a database created in an earlier version of [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] to ssSQL11 or later, you must update the compatibility level.</span></span> <span data-ttu-id="dd3fc-146">Para bancos de dados que você está movendo, mas não reimplantando, você poderá usar o [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] para definir o nível de compatibilidade.</span><span class="sxs-lookup"><span data-stu-id="dd3fc-146">For databases that you are moving, but not redeploying, you can use [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] to set the compatibility level.</span></span> <span data-ttu-id="dd3fc-147">Para obter mais informações, consulte [definir o nível de compatibilidade de um banco de dados multidimensional &#40;Analysis Services&#41;](compatibility-level-of-a-multidimensional-database-analysis-services.md).</span><span class="sxs-lookup"><span data-stu-id="dd3fc-147">For more information, see [Set the Compatibility Level of a Multidimensional Database &#40;Analysis Services&#41;](compatibility-level-of-a-multidimensional-database-analysis-services.md).</span></span>  
  
##  <a name="step-1-set-the-stringstorecompatiblitylevel-property-in-sql-server-data-tools"></a><a name="bkmk_step1"></a><span data-ttu-id="dd3fc-148">Etapa 1: definir a propriedade StringStoreCompatiblityLevel no SQL Server Data Tools</span><span class="sxs-lookup"><span data-stu-id="dd3fc-148">Step 1: Set the StringStoreCompatiblityLevel Property in SQL Server Data Tools</span></span>  
  
1.  <span data-ttu-id="dd3fc-149">Usando o [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)], abra o projeto que contém as dimensões ou as partições que você deseja modificar.</span><span class="sxs-lookup"><span data-stu-id="dd3fc-149">Using [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)], open the project that contains the dimensions or partitions you want to modify.</span></span>  
  
2.  <span data-ttu-id="dd3fc-150">Para alterar o armazenamento de cadeia de caracteres para dimensões, abra o Gerenciador de Soluções.</span><span class="sxs-lookup"><span data-stu-id="dd3fc-150">To change the string storage for dimensions, open Solution Explorer.</span></span> <span data-ttu-id="dd3fc-151">Clique duas vezes na dimensão para a qual você está modificando o armazenamento de cadeias de caracteres.</span><span class="sxs-lookup"><span data-stu-id="dd3fc-151">Double-click the dimension for which you are modifying string storage.</span></span>  
  
3.  <span data-ttu-id="dd3fc-152">No Designer de Dimensão, no painel Atributos, verifique se o nó pai da dimensão está selecionado (por exemplo, se a dimensão for Clientes, selecione Clientes e não um dos atributos filho).</span><span class="sxs-lookup"><span data-stu-id="dd3fc-152">In Dimension Designer, in the Attributes pane, make sure that the parent node of the dimension is selected (for example, if the dimension is Customers, select Customers and not one of the child attributes).</span></span>  
  
4.  <span data-ttu-id="dd3fc-153">No painel Propriedades, na seção Avançado, defina **StringStoresCompatibilityLevel** como **1100**.</span><span class="sxs-lookup"><span data-stu-id="dd3fc-153">In the Properties pane, in the Advanced section, set **StringStoresCompatibilityLevel** to **1100**.</span></span> <span data-ttu-id="dd3fc-154">Repita o procedimento para outras dimensões que exigem um armazenamento maior, caso contrário, deixe as dimensões restantes com o valor **1050** .</span><span class="sxs-lookup"><span data-stu-id="dd3fc-154">Repeat for other dimensions that require larger storage, otherwise leave the remaining dimensions at the **1050** value.</span></span>  
  
5.  <span data-ttu-id="dd3fc-155">Para partições, abra um cubo no Gerenciador de Soluções.</span><span class="sxs-lookup"><span data-stu-id="dd3fc-155">For partitions, open a cube from Solution Explorer.</span></span>  
  
6.  <span data-ttu-id="dd3fc-156">Clique na guia Partições.</span><span class="sxs-lookup"><span data-stu-id="dd3fc-156">Click the Partitions tab.</span></span>  
  
7.  <span data-ttu-id="dd3fc-157">Expanda a partição, selecione a partição que exige capacidade de armazenamento adicional e modifique a propriedade **StringStoresCompatibilityLevel** .</span><span class="sxs-lookup"><span data-stu-id="dd3fc-157">Expand the partition, select the partition that requires extra storage capacity, and then modify the **StringStoresCompatibilityLevel** property.</span></span>  
  
8.  <span data-ttu-id="dd3fc-158">Salve o arquivo.</span><span class="sxs-lookup"><span data-stu-id="dd3fc-158">Save the file.</span></span>  
  
##  <a name="step-2-process-the-objects"></a><a name="bkmk_step2"></a><span data-ttu-id="dd3fc-159">Etapa 2: processar os objetos</span><span class="sxs-lookup"><span data-stu-id="dd3fc-159">Step 2: Process the Objects</span></span>  
 <span data-ttu-id="dd3fc-160">A nova arquitetura de armazenamento será usada depois que você processar os objetos.</span><span class="sxs-lookup"><span data-stu-id="dd3fc-160">The new storage architecture will be used after you process the objects.</span></span> <span data-ttu-id="dd3fc-161">O processamento dos objetos também prova que você resolveu o problema de restrição de armazenamento com êxito porque o erro que relatava uma condição de estouro do repositório de cadeias de caracteres não deve mais ocorrer.</span><span class="sxs-lookup"><span data-stu-id="dd3fc-161">Processing objects also proves you have successfully resolved storage constraint problem because the error that previously reported a string store overflow condition should no longer occur.</span></span>  
  
-   <span data-ttu-id="dd3fc-162">No Gerenciador de Soluções, clique com o botão direito do mouse na dimensão que você acabou de modificar e selecione **Processar**.</span><span class="sxs-lookup"><span data-stu-id="dd3fc-162">In Solution Explorer, right-click the dimension or you just modified and select **Process**.</span></span>  
  
 <span data-ttu-id="dd3fc-163">Você deve usar a opção Processar Completo em cada objeto que esteja usando a nova arquitetura de repositório de cadeias de caracteres.</span><span class="sxs-lookup"><span data-stu-id="dd3fc-163">You must use the Process Full option on each object that is using the new string store architecture.</span></span> <span data-ttu-id="dd3fc-164">Antes de processar, execute uma análise de impacto na dimensão para verificar se objetos dependentes também requerem reprocessamento.</span><span class="sxs-lookup"><span data-stu-id="dd3fc-164">Before processing, be sure to run an impact analysis on the dimension to check whether dependent objects also require reprocessing.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="dd3fc-165">Consulte Também</span><span class="sxs-lookup"><span data-stu-id="dd3fc-165">See Also</span></span>  
 <span data-ttu-id="dd3fc-166">[Ferramentas e abordagens para o processamento de &#40;Analysis Services&#41;](tools-and-approaches-for-processing-analysis-services.md) </span><span class="sxs-lookup"><span data-stu-id="dd3fc-166">[Tools and Approaches for Processing &#40;Analysis Services&#41;](tools-and-approaches-for-processing-analysis-services.md) </span></span>  
 <span data-ttu-id="dd3fc-167">[Opções de processamento e configurações &#40;Analysis Services&#41;](processing-options-and-settings-analysis-services.md) </span><span class="sxs-lookup"><span data-stu-id="dd3fc-167">[Processing Options and Settings &#40;Analysis Services&#41;](processing-options-and-settings-analysis-services.md) </span></span>  
 <span data-ttu-id="dd3fc-168">[Processamento e modos de armazenamento de partição](../multidimensional-models-olap-logical-cube-objects/partitions-partition-storage-modes-and-processing.md) </span><span class="sxs-lookup"><span data-stu-id="dd3fc-168">[Partition Storage Modes and Processing](../multidimensional-models-olap-logical-cube-objects/partitions-partition-storage-modes-and-processing.md) </span></span>  
 [<span data-ttu-id="dd3fc-169">Armazenamento de dimensões</span><span class="sxs-lookup"><span data-stu-id="dd3fc-169">Dimension Storage</span></span>](../multidimensional-models-olap-logical-dimension-objects/dimensions-storage.md)  
  
  
