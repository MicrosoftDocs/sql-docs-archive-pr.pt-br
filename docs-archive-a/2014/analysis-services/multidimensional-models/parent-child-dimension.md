---
title: Hierarquia pai-filho | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
helpviewer_keywords:
- hierarchies [Analysis Services], parent-child
- dimensions [Analysis Services], parent-child
- parent attributes [Analysis Services]
- data members [Analysis Services]
- hierarchies [Analysis Services], multilevel
- self-joins
- self-referencing relationships
- members [Analysis Services], data
- parent-child dimensions [Analysis Services]
ms.assetid: 4657f5dc-d88e-48d2-a448-08f79bc89546
author: minewiskan
ms.author: owend
ms.openlocfilehash: b08641e9ba17e6ad2e2f4112e01073d448aa8564
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87685955"
---
# <a name="parent-child-hierarchy"></a><span data-ttu-id="0a8fc-102">Hierarquia pai-filho</span><span class="sxs-lookup"><span data-stu-id="0a8fc-102">Parent-Child Hierarchy</span></span>
  <span data-ttu-id="0a8fc-103">Uma hierarquia pai-filho é uma hierarquia em uma dimensão padrão que contém um atributo pai.</span><span class="sxs-lookup"><span data-stu-id="0a8fc-103">A parent-child hierarchy is a hierarchy in a standard dimension that contains a parent attribute.</span></span> <span data-ttu-id="0a8fc-104">Um atributo pai descreve uma *relação de autorreferência*, ou *autojunção*, em uma tabela principal da dimensão.</span><span class="sxs-lookup"><span data-stu-id="0a8fc-104">A parent attribute describes a *self-referencing relationship*, or *self-join*, within a dimension main table.</span></span> <span data-ttu-id="0a8fc-105">As hierarquias filho são construídas a partir de um único atributo pai.</span><span class="sxs-lookup"><span data-stu-id="0a8fc-105">Parent-child hierarchies are constructed from a single parent attribute.</span></span> <span data-ttu-id="0a8fc-106">Somente um nível é atribuído a uma hierarquia pai-filho, pois os níveis existentes na hierarquia são extraídos das relações pai-filho entre os membros associados ao atributo pai.</span><span class="sxs-lookup"><span data-stu-id="0a8fc-106">Only one level is assigned to a parent-child hierarchy, because the levels present in the hierarchy are drawn from the parent-child relationships between members associated with the parent attribute.</span></span> <span data-ttu-id="0a8fc-107">A posição de um membro em uma hierarquia pai-filho é determinada pelas propriedades `KeyColumns` e `RootMemberIf` do atributo pai, enquanto a posição de um membro em um nível é determinada pela propriedade `OrderBy` do atributo pai.</span><span class="sxs-lookup"><span data-stu-id="0a8fc-107">The position of a member in a parent-child hierarchy is determined by the `KeyColumns` and `RootMemberIf` properties of the parent attribute, whereas the position of a member in a level is determined by the `OrderBy` property of the parent attribute.</span></span> <span data-ttu-id="0a8fc-108">Para obter mais informações sobre as propriedades de atributo, consulte [Atributos e hierarquias de atributos](../multidimensional-models-olap-logical-dimension-objects/attributes-and-attribute-hierarchies.md).</span><span class="sxs-lookup"><span data-stu-id="0a8fc-108">For more information about attribute properties, see [Attributes and Attribute Hierarchies](../multidimensional-models-olap-logical-dimension-objects/attributes-and-attribute-hierarchies.md).</span></span>  
  
 <span data-ttu-id="0a8fc-109">Devido às relações pai-filho entre níveis de uma hierarquia pai-filho, alguns membros não folha também podem ter dados extraídos de fontes de dados subjacentes, além dos dados agregados dos membros filho.</span><span class="sxs-lookup"><span data-stu-id="0a8fc-109">Because of parent-child relationships between levels in a parent-child hierarchy, some nonleaf members can also have data derived from underlying data sources, in addition to data aggregated from child members.</span></span>  
  
## <a name="dimension-schema"></a><span data-ttu-id="0a8fc-110">Esquema de dimensão</span><span class="sxs-lookup"><span data-stu-id="0a8fc-110">Dimension Schema</span></span>  
 <span data-ttu-id="0a8fc-111">O esquema de dimensão de uma hierarquia pai-filho depende de uma relação de autorreferência existente na tabela principal da dimensão.</span><span class="sxs-lookup"><span data-stu-id="0a8fc-111">The dimension schema of a parent-child hierarchy depends on a self-referencing relationship present on the dimension main table.</span></span> <span data-ttu-id="0a8fc-112">Por exemplo, o diagrama a seguir ilustra a tabela principal da dimensão **DimOrganization** do banco de dados de exemplo [!INCLUDE[ssSampleDBDWobject](../../includes/sssampledbdwobject-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="0a8fc-112">For example, the following diagram illustrates the **DimOrganization** dimension main table in the [!INCLUDE[ssSampleDBDWobject](../../includes/sssampledbdwobject-md.md)] sample database.</span></span>  
  
 <span data-ttu-id="0a8fc-113">![Junção autorreferenciável na tabela DimOrganization](../dev-guide/media/dimorganization.gif "Junção autorreferenciável na tabela DimOrganization")</span><span class="sxs-lookup"><span data-stu-id="0a8fc-113">![Self-referencing join in DimOrganization table](../dev-guide/media/dimorganization.gif "Self-referencing join in DimOrganization table")</span></span>  
  
 <span data-ttu-id="0a8fc-114">Nessa tabela de dimensão, a coluna **ParentOrganizationKey** possui uma relação de chave estrangeira com a coluna da chave primária **OrganizationKey** .</span><span class="sxs-lookup"><span data-stu-id="0a8fc-114">In this dimension table, the **ParentOrganizationKey** column has a foreign key relationship with the **OrganizationKey** primary key column.</span></span> <span data-ttu-id="0a8fc-115">Em outras palavras, cada registro dessa tabela pode ser relacionado por meio de uma relação pai-filho com outro registro da tabela.</span><span class="sxs-lookup"><span data-stu-id="0a8fc-115">In other words, each record in this table can be related through a parent-child relationship with another record in the table.</span></span> <span data-ttu-id="0a8fc-116">Geralmente, esse tipo de autojunção é usado para representar os dados de uma empresa, como a estrutura de gerenciamento dos funcionários de um departamento.</span><span class="sxs-lookup"><span data-stu-id="0a8fc-116">This kind of self-join is generally used to represent organization entity data, such as the management structure of employees in a department.</span></span>  
  
## <a name="hierarchies-and-levels"></a><span data-ttu-id="0a8fc-117">Hierarquias e níveis</span><span class="sxs-lookup"><span data-stu-id="0a8fc-117">Hierarchies and Levels</span></span>  
 <span data-ttu-id="0a8fc-118">Dimensões que não têm uma relação pai-filho criam hierarquias agrupando e ordenando atributos.</span><span class="sxs-lookup"><span data-stu-id="0a8fc-118">Dimensions that do not have a parent-child relationship construct hierarchies by grouping and ordering attributes.</span></span> <span data-ttu-id="0a8fc-119">Essas dimensões extraem os nomes dos níveis para suas hierarquias a partir dos nomes dos atributos.</span><span class="sxs-lookup"><span data-stu-id="0a8fc-119">These dimensions derive the level names for their hierarchies from the attribute names.</span></span>  
  
 <span data-ttu-id="0a8fc-120">Entretanto, dimensões pai-filho constroem hierarquias pai-filho analisando os dados contidos na tabela principal da dimensão e, em seguida, avaliando as relações pai-filho entre os registros da tabela.</span><span class="sxs-lookup"><span data-stu-id="0a8fc-120">However, parent-child dimensions construct parent-child hierarchies by examining the data that the dimension main table contains, and then evaluating the parent-child relationships between the records in the table.</span></span> <span data-ttu-id="0a8fc-121">Para obter mais informações sobre hierarquias pai-filho, consulte [Hierarquias de usuários](../multidimensional-models-olap-logical-dimension-objects/user-hierarchies.md).</span><span class="sxs-lookup"><span data-stu-id="0a8fc-121">For more information about parent-child hierarchies, see [User Hierarchies](../multidimensional-models-olap-logical-dimension-objects/user-hierarchies.md).</span></span>  
  
 <span data-ttu-id="0a8fc-122">As hierarquias pai-filho não extraem os nomes dos níveis de uma hierarquia pai-filho dos atributos usados para criar a hierarquia.</span><span class="sxs-lookup"><span data-stu-id="0a8fc-122">Parent-child hierarchies do not derive the names for the levels in a parent-child hierarchy from the attributes that are used to create the hierarchy.</span></span> <span data-ttu-id="0a8fc-123">Em vez disso, essas dimensões criam nomes de nível automaticamente usando um modelo de nomeação – uma expressão de cadeia de caracteres que você pode especificar no nível do atributo pai que controla como o atributo gera a hierarquia de atributo.</span><span class="sxs-lookup"><span data-stu-id="0a8fc-123">Instead, these dimensions create level names automatically by using a naming template-a string expression you can specify at the level of the parent attribute that controls how the attribute generates the attribute hierarchy.</span></span> <span data-ttu-id="0a8fc-124">Para obter mais informações sobre como definir o modelo de nomeação para um atributo pai, consulte [Atributos e hierarquias de atributos](../multidimensional-models-olap-logical-dimension-objects/attributes-and-attribute-hierarchies.md).</span><span class="sxs-lookup"><span data-stu-id="0a8fc-124">For more information about how to set the naming template for a parent attribute, see [Attributes and Attribute Hierarchies](../multidimensional-models-olap-logical-dimension-objects/attributes-and-attribute-hierarchies.md).</span></span>  
  
## <a name="data-members"></a><span data-ttu-id="0a8fc-125">Membros de dados</span><span class="sxs-lookup"><span data-stu-id="0a8fc-125">Data Members</span></span>  
 <span data-ttu-id="0a8fc-126">Normalmente, os membros folha de uma dimensão contêm dados extraídos diretamente de fontes de dados subjacentes, enquanto os membros não folha contêm dados provenientes de agregações realizadas pelos membros filho.</span><span class="sxs-lookup"><span data-stu-id="0a8fc-126">Typically, leaf members in a dimension contain data derived directly from underlying data sources, whereas nonleaf members contain data derived from aggregations performed on child members.</span></span>  
  
 <span data-ttu-id="0a8fc-127">No entanto, as hierarquias pai-filho devem ter alguns membros não folha cujos dados sejam provenientes de fontes de dados subjacentes, além dos dados agregados dos membros filho.</span><span class="sxs-lookup"><span data-stu-id="0a8fc-127">However, parent-child hierarchies might have some nonleaf members whose data is derived from underlying data sources, in addition to data aggregated from child members.</span></span> <span data-ttu-id="0a8fc-128">Para esses membros não folha de uma hierarquia pai-filho, membros filho especiais gerados pelo sistema podem ser criados, contendo dados da tabela de fatos subjacente.</span><span class="sxs-lookup"><span data-stu-id="0a8fc-128">For these nonleaf members in a parent-child hierarchy, special system-generated child members can be created that contain the underlying fact table data.</span></span> <span data-ttu-id="0a8fc-129">Denominados *membros de dados*, esses membros filho especiais contêm um valor que é diretamente associado a um membro não folha e é independente do valor resumido calculado a partir dos descendentes do membro não folha.</span><span class="sxs-lookup"><span data-stu-id="0a8fc-129">Referred to as *data members*, these special child members contain a value that is directly associated with a nonleaf member and is independent of the summary value calculated from the descendants of the nonleaf member.</span></span> <span data-ttu-id="0a8fc-130">Para obter mais informações sobre membros de dados, consulte [Atributos em hierarquias pai-filho](parent-child-dimension-attributes.md).</span><span class="sxs-lookup"><span data-stu-id="0a8fc-130">For more information about data members, see [Attributes in Parent-Child Hierarchies](parent-child-dimension-attributes.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="0a8fc-131">Consulte Também</span><span class="sxs-lookup"><span data-stu-id="0a8fc-131">See Also</span></span>  
 <span data-ttu-id="0a8fc-132">[Atributos em hierarquias pai-filho](parent-child-dimension-attributes.md) </span><span class="sxs-lookup"><span data-stu-id="0a8fc-132">[Attributes in Parent-Child Hierarchies](parent-child-dimension-attributes.md) </span></span>  
 [<span data-ttu-id="0a8fc-133">Propriedades de dimensão do banco de dados</span><span class="sxs-lookup"><span data-stu-id="0a8fc-133">Database Dimension Properties</span></span>](../multidimensional-models-olap-logical-dimension-objects/database-dimension-properties.md)  
  
  
