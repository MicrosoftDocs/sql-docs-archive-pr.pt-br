---
title: Atualizar o esquema em uma exibição da fonte de dados (Analysis Services) | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
helpviewer_keywords:
- data source views [Analysis Services], schema updates
- refreshing data source views
- data source views [Analysis Services], refreshing
ms.assetid: 634b0504-1437-43e7-8ac7-3248ac7989a3
author: minewiskan
ms.author: owend
ms.openlocfilehash: 808f6ea431592aaecadf6f20a1ae16850cdb20e0
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87570948"
---
# <a name="refresh-the-schema-in-a-data-source-view-analysis-services"></a><span data-ttu-id="8e22c-102">Atualizar o esquema em uma exibição da fonte de dados (Analysis Services)</span><span class="sxs-lookup"><span data-stu-id="8e22c-102">Refresh the Schema in a Data Source View (Analysis Services)</span></span>
  <span data-ttu-id="8e22c-103">Depois de definir uma DSV (exibição da fonte de dados) em um projeto ou banco de dados do [!INCLUDE[ssASnoversion](../../../includes/ssasnoversion-md.md)] , o esquema de uma fonte de dados subjacente pode ser alterado.</span><span class="sxs-lookup"><span data-stu-id="8e22c-103">After defining a data source view (DSV) in an [!INCLUDE[ssASnoversion](../../../includes/ssasnoversion-md.md)] project or database, the schema in an underlying data source may change.</span></span> <span data-ttu-id="8e22c-104">Essas alterações não são detectadas nem atualizadas automaticamente em um projeto de desenvolvimento.</span><span class="sxs-lookup"><span data-stu-id="8e22c-104">These changes are not automatically detected or updated in a development project.</span></span> <span data-ttu-id="8e22c-105">Além disso, se você implantou o projeto em um servidor, agora encontrará erros de processamento se o Analysis Services não puderem mais se conectar à fonte de dados externa.</span><span class="sxs-lookup"><span data-stu-id="8e22c-105">Moreover, if you deployed the project to a server, you will now encounter processing errors if Analysis Services can no longer connect to the external data source.</span></span>

 <span data-ttu-id="8e22c-106">Para atualizar o DSV de modo que corresponda à fonte de dados externa, você poderá atualizar o DSV no BIDS (Business Intelligence Development Studio).</span><span class="sxs-lookup"><span data-stu-id="8e22c-106">To update the DSV so that it matches the external data source, you can refresh the DSV in Business Intelligence Development Studio (BIDS).</span></span> <span data-ttu-id="8e22c-107">Atualizar o DSV detecta alterações às fontes de dados externas nas quais o DSV está baseado, e cria uma lista de alterações que enumera as adições ou exclusões na fonte de dados externa.</span><span class="sxs-lookup"><span data-stu-id="8e22c-107">Refreshing the DSV detects changes to the external data sources upon which the DSV is based, and builds a change list that enumerates the additions or deletions in the external data source.</span></span> <span data-ttu-id="8e22c-108">Você pode em seguida aplicar o conjunto de alterações para o DSV que o realinhará à fonte de dados subjacentes.</span><span class="sxs-lookup"><span data-stu-id="8e22c-108">You can then apply the set of changes to the DSV that will realign it to the underlying data source.</span></span> <span data-ttu-id="8e22c-109">Observe que o trabalho adicional é geralmente necessário para atualizar ainda mais os cubos e as dimensões no projeto que usa o DSV.</span><span class="sxs-lookup"><span data-stu-id="8e22c-109">Note that additional work is often required to further update the cubes and dimensions in the project that use the DSV.</span></span>

 <span data-ttu-id="8e22c-110">Este tópico inclui as seções a seguir:</span><span class="sxs-lookup"><span data-stu-id="8e22c-110">This topic includes the following sections:</span></span>

 [<span data-ttu-id="8e22c-111">Alterações com suporte na atualização</span><span class="sxs-lookup"><span data-stu-id="8e22c-111">Changes Supported in Refresh</span></span>](#bkmk_changlist)

 [<span data-ttu-id="8e22c-112">Atualize um DSV nas SQL Server Data Tools</span><span class="sxs-lookup"><span data-stu-id="8e22c-112">Refresh a DSV in SQL Server Data Tools</span></span>](#bkmk_DSVrefresh)

##  <a name="changes-supported-in-refresh"></a><a name="bkmk_changlist"></a><span data-ttu-id="8e22c-113">Alterações com suporte na atualização</span><span class="sxs-lookup"><span data-stu-id="8e22c-113">Changes Supported in Refresh</span></span>
 <span data-ttu-id="8e22c-114">A atualização de DSV pode incluir qualquer uma das seguintes ações:</span><span class="sxs-lookup"><span data-stu-id="8e22c-114">DSV Refresh can include any of the following the actions:</span></span>

-   <span data-ttu-id="8e22c-115">Exclusão de tabelas, colunas e relações</span><span class="sxs-lookup"><span data-stu-id="8e22c-115">Deletion of tables, columns, and relationships</span></span>

-   <span data-ttu-id="8e22c-116">Adição de colunas e relações, como é aplicado a tabelas que já estão incluídas no DSV</span><span class="sxs-lookup"><span data-stu-id="8e22c-116">Addition of columns and relationships, as applied to tables that are already included in the DSV</span></span>

-   <span data-ttu-id="8e22c-117">Adição de novas restrições exclusivas.</span><span class="sxs-lookup"><span data-stu-id="8e22c-117">Addition of new unique constraints.</span></span> <span data-ttu-id="8e22c-118">Se houver uma chave primária lógica para uma tabela da DSV e for adicionada uma chave física à tabela da fonte de dados, a chave lógica será removida e substituída pela chave física.</span><span class="sxs-lookup"><span data-stu-id="8e22c-118">If a logical primary key exists for a table in the DSV and a physical key is added to the table in the data source, the logical key is removed and replaced by the physical key.</span></span>

 <span data-ttu-id="8e22c-119">A atualização nunca adiciona novas tabelas a um DSV.</span><span class="sxs-lookup"><span data-stu-id="8e22c-119">Refresh never adds new tables to a DSV.</span></span> <span data-ttu-id="8e22c-120">Se você quiser adicionar uma nova tabela, faça isso manualmente.</span><span class="sxs-lookup"><span data-stu-id="8e22c-120">If you want to add a new table, you must add it manually.</span></span> <span data-ttu-id="8e22c-121">Para obter mais informações, consulte [Como adicionar ou remover tabelas ou exibições em uma exibição da fonte de dados &#40;Analysis Services&#41;](adding-or-removing-tables-or-views-in-a-data-source-view-analysis-services.md).</span><span class="sxs-lookup"><span data-stu-id="8e22c-121">For more information, see [Adding or Removing Tables or Views in a Data Source View &#40;Analysis Services&#41;](adding-or-removing-tables-or-views-in-a-data-source-view-analysis-services.md).</span></span>

##  <a name="refresh-a-dsv-in-sql-server-data-tools"></a><a name="bkmk_DSVrefresh"></a><span data-ttu-id="8e22c-122">Atualizar um DSV no SQL Server Data Tools</span><span class="sxs-lookup"><span data-stu-id="8e22c-122">Refresh a DSV in SQL Server Data Tools</span></span>
 <span data-ttu-id="8e22c-123">Para atualizar um DSV, clique duas vezes no DSV do Gerenciador de Soluções no [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)]e clique no botão Atualizar Exibição da Fonte de Dados ou escolha **Atualizar** no menu Exibição da Fonte de Dados.</span><span class="sxs-lookup"><span data-stu-id="8e22c-123">To refresh a DSV, double-click the DSV from Solution Explorer in [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)], and then click the Refresh Data Source View button or choose **Refresh** from the Data Source View menu.</span></span>

 <span data-ttu-id="8e22c-124">Durante a atualização, o [!INCLUDE[ssASnoversion](../../../includes/ssasnoversion-md.md)] consulta todas as fontes de dados relacionais subjacentes para determinar se houve mudanças nas tabelas/exibições incluídas na DSV.</span><span class="sxs-lookup"><span data-stu-id="8e22c-124">During refresh, [!INCLUDE[ssASnoversion](../../../includes/ssasnoversion-md.md)] queries all underlying relational data sources to determine whether there have been changes in tables/views which are included in the DSV.</span></span> <span data-ttu-id="8e22c-125">Se for possível estabelecer conexões com todas as fontes de dados subjacentes e se tiver sido feita alguma alteração, você as verá na caixa de diálogo **Atualizar Exibição da Fonte de Dados** .</span><span class="sxs-lookup"><span data-stu-id="8e22c-125">If connections can be established to all underlying data sources and there have been any changes, you will see them in the **Refresh Data Source View** dialog box.</span></span>

 <span data-ttu-id="8e22c-126">![Caixa de diálogo atualizar exibição da fonte de dados](../media/ssas-olapdsv-refresh.gif "Caixa de diálogo Atualizar Exibição da Fonte de Dados")</span><span class="sxs-lookup"><span data-stu-id="8e22c-126">![Refresh Data Source View dialog box](../media/ssas-olapdsv-refresh.gif "Refresh Data Source View dialog box")</span></span>

 <span data-ttu-id="8e22c-127">A caixa de diálogo lista tabelas, colunas, restrições e relações que serão excluídas da exibição da DSV.</span><span class="sxs-lookup"><span data-stu-id="8e22c-127">The dialog box lists tables, columns, constraints, and relationships that will be deleted or added in the DSV.</span></span> <span data-ttu-id="8e22c-128">O relatório também lista qualquer consulta nomeada ou cálculo nomeado que não possa ser preparado(a) com sucesso.</span><span class="sxs-lookup"><span data-stu-id="8e22c-128">The report also lists any named query or calculation that cannot be successfully prepared.</span></span> <span data-ttu-id="8e22c-129">Os objetos afetados são listados no modo de exibição de árvore, com as colunas e relações aninhadas em tabelas e o tipo de alteração (exclusão ou adição) indicado para cada objeto.</span><span class="sxs-lookup"><span data-stu-id="8e22c-129">The affected objects are listed in a tree view with columns and relationships nested under tables and the type of change (deletion or addition) indicated for each object.</span></span> <span data-ttu-id="8e22c-130">Os ícones de objeto de exibição da fonte de dados padrão indicam o tipo de objeto afetado.</span><span class="sxs-lookup"><span data-stu-id="8e22c-130">The standard data source view object icons indicate the type of object affected.</span></span>

 <span data-ttu-id="8e22c-131">A atualização baseia-se totalmente nos nomes dos objetos subjacentes.</span><span class="sxs-lookup"><span data-stu-id="8e22c-131">Refresh is based completely on the names of the underlying objects.</span></span> <span data-ttu-id="8e22c-132">Portanto, se um objeto subjacente for renomeado na fonte de dados, o designer de exibição da fonte de dados tratará o objeto renomeado como duas operações separadas – uma exclusão e uma adição.</span><span class="sxs-lookup"><span data-stu-id="8e22c-132">Therefore, if an underlying object is renamed in the data source, Data Source View Designer treats the renamed object as two separate operations-a deletion and an addition.</span></span> <span data-ttu-id="8e22c-133">Nesse caso, pode ser necessário adicionar manualmente o objeto renomeado de volta à exibição da fonte de dados.</span><span class="sxs-lookup"><span data-stu-id="8e22c-133">In this case, you may have to manually add the renamed object back to the data source view.</span></span> <span data-ttu-id="8e22c-134">Também pode ser necessário recriar relações ou chaves primárias lógicas.</span><span class="sxs-lookup"><span data-stu-id="8e22c-134">You may also have to re-create relationships or logical primary keys.</span></span>

> [!IMPORTANT]
>  <span data-ttu-id="8e22c-135">Caso você saiba que uma tabela de uma fonte de dados foi renomeada, convém usar o comando **Substituir Tabela** para substituir a tabela pela outra renomeada antes de atualizar a exibição da fonte de dados.</span><span class="sxs-lookup"><span data-stu-id="8e22c-135">If you are aware that a table has been renamed in a data source, you may want to use the **Replace Table** command to replace the table with the renamed table before you refresh the data source view.</span></span> <span data-ttu-id="8e22c-136">Para obter mais informações, consulte [Substituir uma tabela ou uma consulta nomeada em uma exibição da fonte de dados &#40;Analysis Services&#41;](replace-a-table-or-a-named-query-in-a-data-source-view-analysis-services.md).</span><span class="sxs-lookup"><span data-stu-id="8e22c-136">For more information, see [Replace a Table or a Named Query in a Data Source View &#40;Analysis Services&#41;](replace-a-table-or-a-named-query-in-a-data-source-view-analysis-services.md).</span></span>

 <span data-ttu-id="8e22c-137">Depois de analisar o relatório, você pode aceitar as alterações ou cancelar a atualização para rejeitar qualquer alteração.</span><span class="sxs-lookup"><span data-stu-id="8e22c-137">After you examine the report, you can either accept the changes or cancel the update to reject any changes.</span></span> <span data-ttu-id="8e22c-138">Todas as alterações devem ser aceitas ou rejeitadas juntas.</span><span class="sxs-lookup"><span data-stu-id="8e22c-138">All changes must be accepted or rejected together.</span></span> <span data-ttu-id="8e22c-139">Você não pode escolher itens individuais na lista.</span><span class="sxs-lookup"><span data-stu-id="8e22c-139">You cannot choose individual items in the list.</span></span> <span data-ttu-id="8e22c-140">Pode também salvar um relatório das alterações.</span><span class="sxs-lookup"><span data-stu-id="8e22c-140">You can also save a report of the changes.</span></span>

## <a name="see-also"></a><span data-ttu-id="8e22c-141">Consulte Também</span><span class="sxs-lookup"><span data-stu-id="8e22c-141">See Also</span></span>
 [<span data-ttu-id="8e22c-142">Exibições de fontes de dados em modelos multidimensionais</span><span class="sxs-lookup"><span data-stu-id="8e22c-142">Data Source Views in Multidimensional Models</span></span>](data-source-views-in-multidimensional-models.md)


