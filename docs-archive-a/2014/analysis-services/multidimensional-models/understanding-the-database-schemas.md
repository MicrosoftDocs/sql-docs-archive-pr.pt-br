---
title: Compreendendo os esquemas de banco de dados | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
helpviewer_keywords:
- Schema Generation Wizard, database schema
- database schema [Analysis Services]
- relational schema [Analysis Services], database schema
- subject area schema options [Analysis Services]
- staging area schema options [Analysis Services]
- denormalized schemas
ms.assetid: 51e411f9-ee3f-4b92-9833-c2bce8c6b752
author: minewiskan
ms.author: owend
ms.openlocfilehash: 84f44db1b7abca1b8cad45cf5f46fcc0006bd92a
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87680662"
---
# <a name="understanding-the-database-schemas"></a><span data-ttu-id="e587a-102">Entendendo os esquemas de banco de dados</span><span class="sxs-lookup"><span data-stu-id="e587a-102">Understanding the Database Schemas</span></span>
  <span data-ttu-id="e587a-103">O Assistente de Geração de Esquema gera um esquema relacional não normalizado para o banco de dados da área de assunto com base nas dimensões e nos grupos de medidas do [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="e587a-103">The Schema Generation Wizard generates a denormalized relational schema for the subject area database based on the dimensions and measure groups in [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)].</span></span> <span data-ttu-id="e587a-104">O assistente gera uma tabela relacional para cada dimensão para armazenar dados da dimensão, chamada tabela de dimensões, e uma tabela relacional para cada grupo de medidas para armazenar dados de fatos, chamada tabela de fatos.</span><span class="sxs-lookup"><span data-stu-id="e587a-104">The wizard generates a relational table for each dimension to store dimension data, which is called a dimension table, and a relational table for each measure group to store fact data, which is called a fact table.</span></span> <span data-ttu-id="e587a-105">O assistente ignora dimensões vinculadas, grupos de medidas vinculados e dimensões de tempo de servidor ao gerar essas tabelas relacionais.</span><span class="sxs-lookup"><span data-stu-id="e587a-105">The wizard ignores linked dimensions, linked measure groups, and server time dimensions when it generates these relational tables.</span></span>  
  
## <a name="validation"></a><span data-ttu-id="e587a-106">Validação</span><span class="sxs-lookup"><span data-stu-id="e587a-106">Validation</span></span>  
 <span data-ttu-id="e587a-107">Antes de começar a gerar o esquema relacional subjacente, o Assistente de Geração de Esquema valida os cubos e dimensões do [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="e587a-107">Before it begins to generate the underlying relational schema, the Schema Generation Wizard validates the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] cubes and dimensions.</span></span> <span data-ttu-id="e587a-108">Se detectar erros, o assistente parará e os reportará na janela Lista de Tarefas do [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)].</span><span class="sxs-lookup"><span data-stu-id="e587a-108">If the wizard detects errors, it stops and reports the errors to the Task List window in [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)].</span></span> <span data-ttu-id="e587a-109">São exemplos de erros que impedem a geração:</span><span class="sxs-lookup"><span data-stu-id="e587a-109">Examples of errors that prevent generation include the following:</span></span>  
  
-   <span data-ttu-id="e587a-110">Dimensões com mais de um atributo de chave.</span><span class="sxs-lookup"><span data-stu-id="e587a-110">Dimensions that have more than one key attribute.</span></span>  
  
-   <span data-ttu-id="e587a-111">Atributos pai com tipos de dados diferentes dos atributos de chave.</span><span class="sxs-lookup"><span data-stu-id="e587a-111">Parent attributes that have different data types than the key attributes.</span></span>  
  
-   <span data-ttu-id="e587a-112">Grupos de medidas sem-medidas.</span><span class="sxs-lookup"><span data-stu-id="e587a-112">Measure groups that do not have measures.</span></span>  
  
-   <span data-ttu-id="e587a-113">Dimensões de degeneração ou medidas configuradas incorretamente.</span><span class="sxs-lookup"><span data-stu-id="e587a-113">Degenerate dimensions or measures that are improperly configured.</span></span>  
  
-   <span data-ttu-id="e587a-114">Chaves substitutas configuradas incorretamente, como vários atributos usando o tipo de atributo `ScdOriginalID` ou um atributo usando `ScdOriginalID` que não está associado a uma coluna que usa o tipo de dados de número inteiro.</span><span class="sxs-lookup"><span data-stu-id="e587a-114">Surrogate keys that are improperly configured, such as multiple attributes using the `ScdOriginalID` attribute type or an attribute using the `ScdOriginalID` that is not bound to a column using the integer data type.</span></span>  
  
## <a name="dimension-tables"></a><span data-ttu-id="e587a-115">Tabelas de dimensões</span><span class="sxs-lookup"><span data-stu-id="e587a-115">Dimension Tables</span></span>  
 <span data-ttu-id="e587a-116">Para cada dimensão, o Assistente de Geração de Esquema gera uma tabela de dimensões que será incluída no banco de dados da área de assunto.</span><span class="sxs-lookup"><span data-stu-id="e587a-116">For each dimension, the Schema Generation Wizard generates a dimension table to be included in the subject area database.</span></span> <span data-ttu-id="e587a-117">A estrutura da tabela de dimensões varia de acordo com as escolhas feitas durante a criação da dimensão na qual ela se baseia.</span><span class="sxs-lookup"><span data-stu-id="e587a-117">The structure of the dimension table depends on the choices made while designing the dimension on which it is based.</span></span>  
  
 <span data-ttu-id="e587a-118">Colunas</span><span class="sxs-lookup"><span data-stu-id="e587a-118">Columns</span></span>  
 <span data-ttu-id="e587a-119">O assistente gera uma coluna para ligações associadas a cada atributo da dimensão na qual a tabela de dimensões baseia-se, como as ligações para as propriedades `KeyColumns`, `NameColumn`, `ValueColumn`, `CustomRollupColumn`, `CustomRollupPropertiesColumn` e `UnaryOperatorColumn` de cada atributo.</span><span class="sxs-lookup"><span data-stu-id="e587a-119">The wizard generates one column for the bindings associated to each attribute in the dimension on which the dimension table is based, such as the bindings for the `KeyColumns`, `NameColumn`, `ValueColumn`, `CustomRollupColumn`, `CustomRollupPropertiesColumn`, and `UnaryOperatorColumn` properties of each attribute.</span></span>  
  
 <span data-ttu-id="e587a-120">Relações</span><span class="sxs-lookup"><span data-stu-id="e587a-120">Relationships</span></span>  
 <span data-ttu-id="e587a-121">O assistente gera uma relação entre a coluna de cada atributo e a chave primária da tabela de dimensões.</span><span class="sxs-lookup"><span data-stu-id="e587a-121">The wizard generates a relationship between the column for each parent attribute and the primary key of the dimension table.</span></span>  
  
 <span data-ttu-id="e587a-122">O assistente também gera uma relação entre a chave primária de cada tabela de dimensões adicional definida como dimensão de referência no cubo, se aplicável.</span><span class="sxs-lookup"><span data-stu-id="e587a-122">The wizard also generates a relationship to the primary key in each additional dimension table defined as a referenced dimension in the cube, if applicable.</span></span>  
  
 <span data-ttu-id="e587a-123">Restrições</span><span class="sxs-lookup"><span data-stu-id="e587a-123">Constraints</span></span>  
 <span data-ttu-id="e587a-124">Por padrão, o assistente gera uma restrição de chave primária para cada tabela de dimensões com base no atributo de chave da dimensão.</span><span class="sxs-lookup"><span data-stu-id="e587a-124">The wizard generates a primary key constraint, by default, for each dimension table based on the key attribute of the dimension.</span></span> <span data-ttu-id="e587a-125">Se a restrição de chave primária for gerada, uma coluna de nome separada será gerada por padrão.</span><span class="sxs-lookup"><span data-stu-id="e587a-125">If the primary key constraint is generated, a separate name column is generated by default.</span></span> <span data-ttu-id="e587a-126">A chave primária lógica será criada na exibição da fonte de dados mesmo que você decida não criar a chave primária no banco de dados.</span><span class="sxs-lookup"><span data-stu-id="e587a-126">A logical primary key is created in the data source view even if you decide not to create the primary key in the database.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="e587a-127">Ocorrerá um erro se mais de uma atributo de chave for especificado na dimensão na qual se baseia a tabela de dimensões.</span><span class="sxs-lookup"><span data-stu-id="e587a-127">An error occurs if more than one key attribute is specified in the dimension on which the dimension table is based.</span></span>  
  
 <span data-ttu-id="e587a-128">Translations</span><span class="sxs-lookup"><span data-stu-id="e587a-128">Translations</span></span>  
 <span data-ttu-id="e587a-129">O assistente gera uma tabela separada para manter os valores traduzidos para qualquer atributo que precise de uma coluna de tradução.</span><span class="sxs-lookup"><span data-stu-id="e587a-129">The wizard generates a separate table to hold the translated values for any attribute that requires a translation column.</span></span> <span data-ttu-id="e587a-130">O assistente cria também uma coluna separada para cada um dos idiomas necessários.</span><span class="sxs-lookup"><span data-stu-id="e587a-130">The wizard also creates a separate column for each of the required languages.</span></span>  
  
## <a name="fact-tables"></a><span data-ttu-id="e587a-131">Tabelas de fatos</span><span class="sxs-lookup"><span data-stu-id="e587a-131">Fact Tables</span></span>  
 <span data-ttu-id="e587a-132">Para cada grupo de medidas de um cubo, o Assistente de Geração de Esquema gera uma tabela de fatos que será incluída no banco de dados de área de assunto.</span><span class="sxs-lookup"><span data-stu-id="e587a-132">For each measure group in a cube, the Schema Generation Wizard generates a fact table to be included in the subject area database.</span></span> <span data-ttu-id="e587a-133">A estrutura da tabela de fatos varia de acordo com as escolhas feitas durante a criação do grupo de medidas no qual ela se baseia e as relações estabelecidas entre o grupo de medidas e as dimensões incluídas.</span><span class="sxs-lookup"><span data-stu-id="e587a-133">The structure of the fact table depends on the choices made while designing the measure group on which it is based, and the relationships established between the measure group and any included dimensions.</span></span>  
  
 <span data-ttu-id="e587a-134">Colunas</span><span class="sxs-lookup"><span data-stu-id="e587a-134">Columns</span></span>  
 <span data-ttu-id="e587a-135">O assistente gera uma coluna para cada medida, exceto para medidas que usam a função de agregação `Count`.</span><span class="sxs-lookup"><span data-stu-id="e587a-135">The wizard generates one column for each measure, except for measures that use the `Count` aggregation function.</span></span> <span data-ttu-id="e587a-136">Essas medidas não requerem uma coluna correspondente na tabela de fatos.</span><span class="sxs-lookup"><span data-stu-id="e587a-136">Such measures do not require a corresponding column in the fact table.</span></span>  
  
 <span data-ttu-id="e587a-137">O assistente gera também uma coluna para cada coluna de atributo de granularidade de cada relação de dimensão regular do grupo de medidas e uma ou mais colunas para as ligações associadas a cada atributo de uma dimensão que contém uma relação de dimensão de fatos com o grupo de medidas que serve de base para a tabela, se aplicável.</span><span class="sxs-lookup"><span data-stu-id="e587a-137">The wizard also generates one column for each granularity attribute column of each regular dimension relationship on the measure group, and one or more columns for the bindings associated to each attribute of a dimension that has a fact dimension relationship to the measure group on which this table is based, if applicable.</span></span>  
  
 <span data-ttu-id="e587a-138">Relações</span><span class="sxs-lookup"><span data-stu-id="e587a-138">Relationships</span></span>  
 <span data-ttu-id="e587a-139">O assistente gera uma relação para cada relação de dimensão regular entre a tabela de fatos e o atributo de granularidade da tabela de dimensões.</span><span class="sxs-lookup"><span data-stu-id="e587a-139">The wizard generates one relationship for each regular dimension relationship from the fact table to the dimension table's granularity attribute.</span></span> <span data-ttu-id="e587a-140">Se a granularidade for baseada no atributo de chave da tabela de dimensões, a relação será criada no banco de dados e na exibição da fonte de dados.</span><span class="sxs-lookup"><span data-stu-id="e587a-140">If the granularity is based on the key attribute of the dimension table, the relationship is created in the database and in the data source view.</span></span> <span data-ttu-id="e587a-141">Se a granularidade for baseada em outro atributo, a relação será criada apenas na exibição da fonte de dados.</span><span class="sxs-lookup"><span data-stu-id="e587a-141">If the granularity is based on another attribute, the relationship is created only in the data source view.</span></span>  
  
 <span data-ttu-id="e587a-142">Se você optar por gerar índices no assistente, um índice não clusterizado será gerado para cada uma dessas colunas de relação.</span><span class="sxs-lookup"><span data-stu-id="e587a-142">If you chose to generate indexes in the wizard, a nonclustered index is generated for each of these relationship columns.</span></span>  
  
 <span data-ttu-id="e587a-143">Restrições</span><span class="sxs-lookup"><span data-stu-id="e587a-143">Constraints</span></span>  
 <span data-ttu-id="e587a-144">Não são geradas chaves primárias em tabelas de fatos.</span><span class="sxs-lookup"><span data-stu-id="e587a-144">Primary keys are not generated on fact tables.</span></span>  
  
 <span data-ttu-id="e587a-145">Se você decidir impor a integridade referencial, restrições de integridade referencial serão geradas entre as tabelas de dimensões e as tabelas de fatos sempre que aplicável.</span><span class="sxs-lookup"><span data-stu-id="e587a-145">If you chose to enforce referential integrity, referential integrity constraints are generated between dimension tables and fact tables where applicable.</span></span>  
  
 <span data-ttu-id="e587a-146">Translations</span><span class="sxs-lookup"><span data-stu-id="e587a-146">Translations</span></span>  
 <span data-ttu-id="e587a-147">O assistente gera uma tabela separada para manter os valores traduzidos para qualquer propriedade do grupo de medidas que precise de uma coluna de tradução.</span><span class="sxs-lookup"><span data-stu-id="e587a-147">The wizard generates a separate table to hold the translated values for any property in the measure group that requires a translation column.</span></span> <span data-ttu-id="e587a-148">O assistente cria também uma coluna separada para cada um dos idiomas necessários.</span><span class="sxs-lookup"><span data-stu-id="e587a-148">The wizard also creates a separate column for each of the required languages.</span></span>  
  
## <a name="data-type-conversion-and-default-lengths"></a><span data-ttu-id="e587a-149">Conversão do tipo de dados e comprimentos padrão</span><span class="sxs-lookup"><span data-stu-id="e587a-149">Data Type Conversion and Default Lengths</span></span>  
 <span data-ttu-id="e587a-150">O assistente de geração de esquema ignora os tipos de dados em todos os casos, exceto as colunas que usam o [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] `wchar` tipo de dados.</span><span class="sxs-lookup"><span data-stu-id="e587a-150">Schema Generation Wizard ignores data types in all cases except for columns that use the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] `wchar` data type.</span></span> <span data-ttu-id="e587a-151">O tamanho de dados `wchar` converte-se diretamente no tipo de dados `nvarchar`.</span><span class="sxs-lookup"><span data-stu-id="e587a-151">The `wchar` data size translates directly to the `nvarchar` data type.</span></span> <span data-ttu-id="e587a-152">No entanto, se o comprimento especificado de uma coluna que usa o tamanho `wchar` for superior a 4000 bytes, o Assistente de Geração de Esquema produzirá um erro.</span><span class="sxs-lookup"><span data-stu-id="e587a-152">However, if the specified length of a column using the `wchar` size is larger than 4000 bytes, the Schema Generation Wizard generates an error.</span></span>  
  
 <span data-ttu-id="e587a-153">Se um item de dados, como uma ligação para um atributo, não tiver um comprimento especificado, o comprimento padrão listado na tabela a seguir será usado na coluna.</span><span class="sxs-lookup"><span data-stu-id="e587a-153">If a data item, such as the binding for an attribute, has no specified length, the default length listed in the following table is used for the column.</span></span>  
  
|<span data-ttu-id="e587a-154">Item de dados</span><span class="sxs-lookup"><span data-stu-id="e587a-154">Data item</span></span>|<span data-ttu-id="e587a-155">Comprimento padrão (bytes)</span><span class="sxs-lookup"><span data-stu-id="e587a-155">Default length (bytes)</span></span>|  
|---------------|------------------------------|  
|<span data-ttu-id="e587a-156">KeyColumn</span><span class="sxs-lookup"><span data-stu-id="e587a-156">KeyColumn</span></span>|<span data-ttu-id="e587a-157">50</span><span class="sxs-lookup"><span data-stu-id="e587a-157">50</span></span>|  
|<span data-ttu-id="e587a-158">NameColumn</span><span class="sxs-lookup"><span data-stu-id="e587a-158">NameColumn</span></span>|<span data-ttu-id="e587a-159">50</span><span class="sxs-lookup"><span data-stu-id="e587a-159">50</span></span>|  
|<span data-ttu-id="e587a-160">CustomRollupColumn</span><span class="sxs-lookup"><span data-stu-id="e587a-160">CustomRollupColumn</span></span>|<span data-ttu-id="e587a-161">3000</span><span class="sxs-lookup"><span data-stu-id="e587a-161">3000</span></span>|  
|<span data-ttu-id="e587a-162">CustomRollupPropertiesColumn</span><span class="sxs-lookup"><span data-stu-id="e587a-162">CustomRollupPropertiesColumn</span></span>|<span data-ttu-id="e587a-163">500</span><span class="sxs-lookup"><span data-stu-id="e587a-163">500</span></span>|  
|<span data-ttu-id="e587a-164">UnaryOperatorColumn</span><span class="sxs-lookup"><span data-stu-id="e587a-164">UnaryOperatorColumn</span></span>|<span data-ttu-id="e587a-165">1</span><span class="sxs-lookup"><span data-stu-id="e587a-165">1</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="e587a-166">Consulte Também</span><span class="sxs-lookup"><span data-stu-id="e587a-166">See Also</span></span>  
 <span data-ttu-id="e587a-167">[Compreendendo a geração incremental](understanding-incremental-generation.md) </span><span class="sxs-lookup"><span data-stu-id="e587a-167">[Understanding Incremental Generation](understanding-incremental-generation.md) </span></span>  
 [<span data-ttu-id="e587a-168">Gerenciar alterações em exibições da fonte de dados e em fontes de dados</span><span class="sxs-lookup"><span data-stu-id="e587a-168">Manage Changes to Data Source Views and Data Sources</span></span>](manage-changes-to-data-source-views-and-data-sources.md)  
  
  
