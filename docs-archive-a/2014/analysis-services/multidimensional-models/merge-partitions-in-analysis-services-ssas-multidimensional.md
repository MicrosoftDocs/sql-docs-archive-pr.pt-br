---
title: Mesclar partições em Analysis Services (SSAS – multidimensional) | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
helpviewer_keywords:
- partitions [Analysis Services], merging
- merging partitions [Analysis Services]
ms.assetid: b3857b9b-de43-4911-989d-d14da0196f89
author: minewiskan
ms.author: owend
ms.openlocfilehash: 42820a202c4da58e21dfd55756b7bb03522ea879
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87684943"
---
# <a name="merge-partitions-in-analysis-services-ssas---multidimensional"></a><span data-ttu-id="e3395-102">Mesclar partições no Analysis Services (SSAS - Multidimensional)</span><span class="sxs-lookup"><span data-stu-id="e3395-102">Merge Partitions in Analysis Services (SSAS - Multidimensional)</span></span>
  <span data-ttu-id="e3395-103">É possível mesclar partições em um banco de dados existente do [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] para consolidar dados de fatos de várias partições do mesmo grupo de medidas.</span><span class="sxs-lookup"><span data-stu-id="e3395-103">You can merge partitions in an existing [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] database to consolidate fact data from multiple partitions of the same measure group.</span></span>  
  
 [<span data-ttu-id="e3395-104">Cenários comuns</span><span class="sxs-lookup"><span data-stu-id="e3395-104">Common scenarios</span></span>](#bkmk_Scenario)  
  
 [<span data-ttu-id="e3395-105">Requisitos</span><span class="sxs-lookup"><span data-stu-id="e3395-105">Requirements</span></span>](#bkmk_prereq)  
  
 [<span data-ttu-id="e3395-106">Atualizar a Fonte da Partição após mesclar partições</span><span class="sxs-lookup"><span data-stu-id="e3395-106">Update the Partition Source after merging partitions</span></span>](#bkmk_Where)  
  
 [<span data-ttu-id="e3395-107">Considerações especiais para partições segmentadas por tabela de fatos ou consulta nomeada</span><span class="sxs-lookup"><span data-stu-id="e3395-107">Special considerations for partitions segmented by fact table or named query</span></span>](#bkmk_fact)  
  
 [<span data-ttu-id="e3395-108">Como mesclar partições usando o SSMS</span><span class="sxs-lookup"><span data-stu-id="e3395-108">How to merge partitions using SSMS</span></span>](#bkmk_partitionSSMS)  
  
 [<span data-ttu-id="e3395-109">Como mesclar partições usando XMLA</span><span class="sxs-lookup"><span data-stu-id="e3395-109">How to merge partitions using XMLA</span></span>](#bkmk_partitionsXMLA)  
  
##  <a name="common-scenarios"></a><a name="bkmk_Scenario"></a><span data-ttu-id="e3395-110">Cenários comuns</span><span class="sxs-lookup"><span data-stu-id="e3395-110">Common scenarios</span></span>  
 <span data-ttu-id="e3395-111">A única configuração mais comum para o uso da partição envolve a separação dos dados na dimensão de tempo.</span><span class="sxs-lookup"><span data-stu-id="e3395-111">The single most common configuration for partition use involves the separation of data across the dimension of time.</span></span> <span data-ttu-id="e3395-112">A granularidade de tempo associada a cada partição varia de acordo com os requisitos empresariais específicos do projeto.</span><span class="sxs-lookup"><span data-stu-id="e3395-112">The granularity of time associated with each partition varies depending on the business requirements specific to the project.</span></span> <span data-ttu-id="e3395-113">Por exemplo, a segmentação pode ser feita por anos, com o ano mais recente dividido em meses, mais uma partição separada para o mês vigente.</span><span class="sxs-lookup"><span data-stu-id="e3395-113">For example, segmentation might be by years, with the most recent year divided by months, plus a separate partition for the active month.</span></span> <span data-ttu-id="e3395-114">A partição do mês vigente usa regularmente novos dados.</span><span class="sxs-lookup"><span data-stu-id="e3395-114">The active month partition regularly takes on new data.</span></span>  
  
 <span data-ttu-id="e3395-115">Quando o mês vigente termina, a partição é mesclada novamente nos meses da partição até o momento atual e o processo continua.</span><span class="sxs-lookup"><span data-stu-id="e3395-115">When the active month is completed, that partition is merged back into the months in the year-to-date partition and the process continues.</span></span> <span data-ttu-id="e3395-116">No final do ano, terá sido formada uma partição inteira de ano novo.</span><span class="sxs-lookup"><span data-stu-id="e3395-116">At the end of the year, a whole new year partition has been formed.</span></span>  
  
 <span data-ttu-id="e3395-117">Como este cenário demonstra, a mesclagem de partições pode se tornar uma tarefa de rotina executada regularmente, fornecendo uma abordagem progressiva para consolidar e organizar dados históricos.</span><span class="sxs-lookup"><span data-stu-id="e3395-117">As this scenario demonstrates, merging partitions can become a routine task performed on a regular basis, providing a progressive approach for consolidating and organizing historical data.</span></span>  
  
##  <a name="requirements"></a><a name="bkmk_prereq"></a> <span data-ttu-id="e3395-118">Requisitos</span><span class="sxs-lookup"><span data-stu-id="e3395-118">Requirements</span></span>  
 <span data-ttu-id="e3395-119">As partições podem ser mescladas somente se satisfizerem todos os critérios a seguir:</span><span class="sxs-lookup"><span data-stu-id="e3395-119">Partitions can be merged only if they meet all of the following criteria:</span></span>  
  
-   <span data-ttu-id="e3395-120">Elas têm o mesmo grupo de medidas.</span><span class="sxs-lookup"><span data-stu-id="e3395-120">They have the same measure group.</span></span>  
  
-   <span data-ttu-id="e3395-121">Elas têm a mesma estrutura.</span><span class="sxs-lookup"><span data-stu-id="e3395-121">They have the same structure.</span></span>  
  
-   <span data-ttu-id="e3395-122">Elas devem estar em um estado processado.</span><span class="sxs-lookup"><span data-stu-id="e3395-122">They must be in a processed state.</span></span>  
  
-   <span data-ttu-id="e3395-123">Elas têm os mesmos modos de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="e3395-123">They have the same storage modes.</span></span>  
  
-   <span data-ttu-id="e3395-124">Elas contêm projetos de agregação idênticos.</span><span class="sxs-lookup"><span data-stu-id="e3395-124">They contain identical aggregation designs.</span></span>  
  
-   <span data-ttu-id="e3395-125">Elas compartilham o mesmo nível de compatibilidade do repositório de cadeia de caracteres (se aplica somente aos grupos de medidas de contagem distinta particionada).</span><span class="sxs-lookup"><span data-stu-id="e3395-125">They share the same string store compatibility level (applies to partitioned distinct count measure groups only).</span></span>  
  
 <span data-ttu-id="e3395-126">Se a partição de destino estiver vazia (isto é, ela tiver um design de agregação, mas nenhuma agregação), a mesclagem descartará as agregações para as partições de origem.</span><span class="sxs-lookup"><span data-stu-id="e3395-126">If the target partition is empty (that is, it has an aggregation design but no aggregations), merge will drop the aggregations for the source partitions.</span></span> <span data-ttu-id="e3395-127">Você deve executar Processar Índice, Processar Completo ou Processar Padrão na partição para criar as agregações.</span><span class="sxs-lookup"><span data-stu-id="e3395-127">You must run Process Index, Process Full, or Process Default on the partition to build the aggregations.</span></span>  
  
 <span data-ttu-id="e3395-128">As partições remotas podem ser mescladas apenas com outras partições remotas definidas com a mesma instância remota do [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="e3395-128">Remote partitions can be merged only with other remote partitions that are defined with the same remote instance of [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)].</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="e3395-129">Se você estiver usando uma combinação de partições locais e remotas, uma abordagem alternativa é criar novas partições que incluam os dados combinados, excluindo as partições que não são mais usadas.</span><span class="sxs-lookup"><span data-stu-id="e3395-129">If you are using a combination of local and remote partitions, an alternative approach is to create new partitions that include the combined data, deleting the partitions you no longer use.</span></span>  
  
 <span data-ttu-id="e3395-130">Para criar uma partição que possa ser mesclada no futuro, durante a criação da partição no Assistente para Partições, você pode optar por copiar o projeto de agregação de outras partições do cubo.</span><span class="sxs-lookup"><span data-stu-id="e3395-130">To create a partition that is a candidate for future merging, when you create the partition in the Partition Wizard, you can choose to copy the aggregation design from another of the cube's partitions.</span></span> <span data-ttu-id="e3395-131">Isso assegura que essas partições tenham o mesmo projeto de agregação.</span><span class="sxs-lookup"><span data-stu-id="e3395-131">This ensures that these partitions have the same aggregation design.</span></span> <span data-ttu-id="e3395-132">Ao serem mescladas, as agregações da partição de origem são combinadas com as agregações da partição de destino.</span><span class="sxs-lookup"><span data-stu-id="e3395-132">When they are merged, the aggregations of the source partition are combined with the aggregations in the target partition.</span></span>  
  
##  <a name="update-the-partition-source-after-merging-partitions"></a><a name="bkmk_Where"></a><span data-ttu-id="e3395-133">Atualizar a origem da partição depois de mesclar partições</span><span class="sxs-lookup"><span data-stu-id="e3395-133">Update the Partition Source after merging partitions</span></span>  
 <span data-ttu-id="e3395-134">As partições são segmentadas por consulta, como a cláusula WHERE de uma consulta SQL usada para processar os dados, ou por uma tabela ou consulta nomeada que fornece dados à partição.</span><span class="sxs-lookup"><span data-stu-id="e3395-134">Partitions are segmented by query, such as the WHERE clause of a SQL query used to process the data, or by a table or named query that provides data to the partition.</span></span> <span data-ttu-id="e3395-135">A propriedade `Source` na partição indica se a partição está associada a uma consulta ou tabela.</span><span class="sxs-lookup"><span data-stu-id="e3395-135">The `Source` property on the partition indicates whether the partition is bound to a query or a table.</span></span>  
  
 <span data-ttu-id="e3395-136">Quando você mescla partições, o conteúdo das partições são consolidados, mas a propriedade `Source` não é atualizada para refletir o escopo adicional da partição.</span><span class="sxs-lookup"><span data-stu-id="e3395-136">When you merge partitions, the contents of the partitions are consolidated, but the `Source` property is not updated to reflect the additional scope of the partition.</span></span> <span data-ttu-id="e3395-137">Isso significa que, se você reprocessar subsequentemente uma partição que mantém o `Source`original, obterá dados incorretos dessa partição.</span><span class="sxs-lookup"><span data-stu-id="e3395-137">This means if you subsequently reprocess a partition that retains its original `Source`, you will get incorrect data from that partition.</span></span> <span data-ttu-id="e3395-138">A partição agregará erroneamente dados no nível pai.</span><span class="sxs-lookup"><span data-stu-id="e3395-138">The partition will erroneously aggregate data at the parent level.</span></span> <span data-ttu-id="e3395-139">O exemplo a seguir ilustra esse comportamento.</span><span class="sxs-lookup"><span data-stu-id="e3395-139">The following example illustrates this behavior.</span></span>  
  
 <span data-ttu-id="e3395-140">**O problema**</span><span class="sxs-lookup"><span data-stu-id="e3395-140">**The Problem**</span></span>  
  
 <span data-ttu-id="e3395-141">Suponha que você tenha um cubo que contém informações sobre três produtos de refrigerantes.</span><span class="sxs-lookup"><span data-stu-id="e3395-141">Suppose you have a cube containing information about three soft drink products.</span></span> <span data-ttu-id="e3395-142">Ele tem três partições que usam a mesma tabela de fatos.</span><span class="sxs-lookup"><span data-stu-id="e3395-142">It has three partitions that use the same fact table.</span></span> <span data-ttu-id="e3395-143">Essas partições são segmentadas por produto.</span><span class="sxs-lookup"><span data-stu-id="e3395-143">These partitions are segmented by product.</span></span> <span data-ttu-id="e3395-144">A Partição 1 contém dados sobre [ColaFull], a Partição 2 contém dados sobre [ColaDecaf] e a Partição 3 contém dados sobre [ColaDiet].</span><span class="sxs-lookup"><span data-stu-id="e3395-144">Partition 1 contains data about [ColaFull], Partition 2 contains data about [ColaDecaf], and Partition 3 contains data about [ColaDiet].</span></span> <span data-ttu-id="e3395-145">Se a Partição 3 for mesclada na Partição 2, os dados da partição resultante (Partição 2) estarão corretos e os dados do cubo serão precisos.</span><span class="sxs-lookup"><span data-stu-id="e3395-145">If Partition 3 is merged into Partition 2, the data in the resulting partition (Partition 2) is correct and the cube data is accurate.</span></span> <span data-ttu-id="e3395-146">No entanto, quando a Partição 2 é processada, seu conteúdo pode ser determinado pelo pai dos membros no nível de produto.</span><span class="sxs-lookup"><span data-stu-id="e3395-146">However, when Partition 2 is processed, its content may be determined by the parent of the members at the product level.</span></span> <span data-ttu-id="e3395-147">Esse pai, [SoftDrinks], também inclui [ColaFull], o produto da Partição 1.</span><span class="sxs-lookup"><span data-stu-id="e3395-147">This parent, [SoftDrinks], also includes [ColaFull], the product in Partition 1.</span></span> <span data-ttu-id="e3395-148">O processamento da Partição 2 carrega a partição com dados de todos os refrigerantes, incluindo [ColaFull].</span><span class="sxs-lookup"><span data-stu-id="e3395-148">Processing Partition 2 loads the partition with data for all soft drinks, including [ColaFull].</span></span> <span data-ttu-id="e3395-149">Desse modo, o cubo contém dados duplicados para [ColaFull] e retorna dados incorretos para os usuários finais.</span><span class="sxs-lookup"><span data-stu-id="e3395-149">The cube then contains duplicate data for [ColaFull] and returns incorrect data to end users.</span></span>  
  
 <span data-ttu-id="e3395-150">**A solução**</span><span class="sxs-lookup"><span data-stu-id="e3395-150">**The Solution**</span></span>  
  
 <span data-ttu-id="e3395-151">A solução é atualizar a propriedade `Source`, ajustando a cláusula WHERE ou a consulta nomeada, ou mesclando manualmente dados das tabelas de fatos subjacentes, para garantir que o processamento subsequente receba com precisão o escopo expandido da partição.</span><span class="sxs-lookup"><span data-stu-id="e3395-151">The solution is to update the `Source` property, adjusting either the WHERE clause or named query, or manually merging data from the underlying fact tables, to ensure that subsequent processing is accurate given the expanded scope of the partition.</span></span>  
  
 <span data-ttu-id="e3395-152">Nesse exemplo, após mesclar a Partição 3 na Partição 2, é possível fornecer um filtro como ("Product" = 'ColaDecaf' OR "Product" = 'ColaDiet') na Partição 2 resultante para especificar que apenas os dados sobre [ColaDecaf] e [ColaDiet] serão extraídos da tabela de fatos e que os dados que pertencem a [ColaFull] serão excluídos.</span><span class="sxs-lookup"><span data-stu-id="e3395-152">In this example, after merging Partition 3 into Partition 2, you can provide a filter such as ("Product" = 'ColaDecaf' OR "Product" = 'ColaDiet') in the resulting Partition 2 to specify that only data about [ColaDecaf] and [ColaDiet] be extracted from the fact table, and the data pertaining to [ColaFull] be excluded.</span></span> <span data-ttu-id="e3395-153">Se preferir, especifique filtros para a Partição 2 e a Partição 3 quando forem criadas; esses filtros serão combinados durante o processo de mesclagem.</span><span class="sxs-lookup"><span data-stu-id="e3395-153">Alternatively, you can specify filters for Partition 2 and Partition 3 when they are created, and these filters will be combined during the merger process.</span></span> <span data-ttu-id="e3395-154">De qualquer modo, depois que a partição for processada, o cubo não vai conter dados duplicados.</span><span class="sxs-lookup"><span data-stu-id="e3395-154">In either case, after the partition is processed the cube does not contain duplicate data.</span></span>  
  
 <span data-ttu-id="e3395-155">**A conclusão**</span><span class="sxs-lookup"><span data-stu-id="e3395-155">**The Conclusion**</span></span>  
  
 <span data-ttu-id="e3395-156">Após mesclar partições, sempre verifique `Source` para saber se o filtro está correto para os dados mesclados.</span><span class="sxs-lookup"><span data-stu-id="e3395-156">After you merge partitions, always check the `Source` to verify the filter is correct for the merged data.</span></span> <span data-ttu-id="e3395-157">Se você tiver iniciado com uma partição que incluía os dados históricos para Q1, Q2 e Q3, e agora mesclar Q4, ajuste o filtro para incluir Q4.</span><span class="sxs-lookup"><span data-stu-id="e3395-157">If you started with a partition that included historical data for Q1, Q2, and Q3, and you now merge Q4, you must adjust the filter to include Q4.</span></span> <span data-ttu-id="e3395-158">Caso contrário, o processamento subsequente da partição gerará resultados incorretos.</span><span class="sxs-lookup"><span data-stu-id="e3395-158">Otherwise, subsequent processing of the partition will yield erroneous results.</span></span> <span data-ttu-id="e3395-159">Ele não estará correto para Q4.</span><span class="sxs-lookup"><span data-stu-id="e3395-159">It will not be correct for Q4.</span></span>  
  
##  <a name="special-considerations-for-partitions-segmented-by-fact-table-or-named-query"></a><a name="bkmk_fact"></a><span data-ttu-id="e3395-160">Considerações especiais para partições segmentadas por tabela de fatos ou consulta nomeada</span><span class="sxs-lookup"><span data-stu-id="e3395-160">Special considerations for partitions segmented by fact table or named query</span></span>  
 <span data-ttu-id="e3395-161">Além das consultas, as partições também podem ser segmentadas por tabela ou consulta nomeada.</span><span class="sxs-lookup"><span data-stu-id="e3395-161">In addition to queries, partitions can also be segmented by table or named query.</span></span> <span data-ttu-id="e3395-162">Se as partições de origem e de destino usam a mesma tabela de fatos em uma fonte de dados ou exibição da fonte de dados, a propriedade `Source` é válida após mesclar partições.</span><span class="sxs-lookup"><span data-stu-id="e3395-162">If the source partition and target partition use the same fact table in a data source or data source view, the `Source` property is valid after merging partitions.</span></span> <span data-ttu-id="e3395-163">Ela especifica os dados da tabela de fatos que são apropriadas para a partição resultante.</span><span class="sxs-lookup"><span data-stu-id="e3395-163">It specifies the fact table data that is appropriate to the resulting partition.</span></span> <span data-ttu-id="e3395-164">Como os fatos necessários para a partição resultante estão presentes na tabela de fatos, não é necessário fazer modificações na propriedade `Source`.</span><span class="sxs-lookup"><span data-stu-id="e3395-164">Because the facts that are required for the resulting partition are present in the fact table, no modification to the `Source` property is necessary.</span></span>  
  
 <span data-ttu-id="e3395-165">As partições que usam dados de várias tabelas de fatos ou consultas nomeadas exigem trabalho adicional.</span><span class="sxs-lookup"><span data-stu-id="e3395-165">Partitions using data from multiple fact tables or named queries require additional work.</span></span> <span data-ttu-id="e3395-166">Você deve mesclar manualmente os fatos da tabela da partição de origem na tabela da partição de destino.</span><span class="sxs-lookup"><span data-stu-id="e3395-166">You must manually merge the facts from the fact table of the source partition into the fact table of the target partition.</span></span>  
  
 <span data-ttu-id="e3395-167">Se preferir, altere a origem da partição mesclada para uma consulta nomeada que retorna o conteúdo separado das duas tabelas de fatos.</span><span class="sxs-lookup"><span data-stu-id="e3395-167">Alternatively, you can change the source for the merged partition to a named query that returns the contents of two separate fact tables.</span></span> <span data-ttu-id="e3395-168">Se essa etapa manual não for executada, a tabela de fatos não conterá informações completas.</span><span class="sxs-lookup"><span data-stu-id="e3395-168">If this manual step is not performed, the fact table does not contain complete information.</span></span>  
  
 <span data-ttu-id="e3395-169">Pela mesma razão, as partições que obtêm dados segmentados de consultas nomeadas também exigem atualização.</span><span class="sxs-lookup"><span data-stu-id="e3395-169">For the same reason, partitions obtaining segmented data from named queries also require updating.</span></span> <span data-ttu-id="e3395-170">A partição combinada agora deve ter uma consulta nomeada que retorna o conjunto de resultados combinados que foi obtido anteriormente em consultas nomeadas separadas.</span><span class="sxs-lookup"><span data-stu-id="e3395-170">The combined partition must now have a named query that returns the combined result set that was previously obtained from the separate named queries.</span></span>  
  
## <a name="partition-storage-considerations-molap"></a><span data-ttu-id="e3395-171">Considerações de armazenamento de partição: MOLAP</span><span class="sxs-lookup"><span data-stu-id="e3395-171">Partition storage considerations: MOLAP</span></span>  
 <span data-ttu-id="e3395-172">Quando partições MOLAP são mescladas, os fatos armazenados nas estruturas multidimensionais das partições também são mesclados.</span><span class="sxs-lookup"><span data-stu-id="e3395-172">When MOLAP partitions are merged, the facts stored in the multidimensional structures of the partitions are also merged.</span></span> <span data-ttu-id="e3395-173">Isso resulta em uma partição internamente completa e consistente.</span><span class="sxs-lookup"><span data-stu-id="e3395-173">This results in an internally complete and consistent partition.</span></span> <span data-ttu-id="e3395-174">No entanto, os fatos armazenados em partições MOLAP são cópias de fatos da tabela.</span><span class="sxs-lookup"><span data-stu-id="e3395-174">However, the facts stored in MOLAP partitions are copies of facts in the fact table.</span></span> <span data-ttu-id="e3395-175">Quando a partição é processada posteriormente, os fatos da estrutura multidimensional são excluídos (somente para atualização) e os dados são copiados da tabela de fatos conforme especificado pela fonte de dados e pelo filtro da partição.</span><span class="sxs-lookup"><span data-stu-id="e3395-175">When the partition is subsequently processed, the facts in the multidimensional structure are deleted (only for full and refresh) and data is copied from the fact table as specified by the data source and filter for the partition.</span></span> <span data-ttu-id="e3395-176">Se a partição de origem usar uma tabela de fatos diferentes da partição de destino, a tabela da partição de origem deve ser mesclada manualmente com a tabela de fatos da partição de destino para garantir que um conjunto completo de dados esteja disponível para o processamento da partição resultante.</span><span class="sxs-lookup"><span data-stu-id="e3395-176">If the source partition uses a different fact table from the target partition, the fact table of the source partition must be manually merged with the fact table of the target partition to ensure that a complete set of data is available when the resulting partition is processed.</span></span> <span data-ttu-id="e3395-177">Isto também se aplica se duas partições forem baseadas em consultas nomeadas diferentes.</span><span class="sxs-lookup"><span data-stu-id="e3395-177">This applies as well if the two partitions were based on different named queries.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="e3395-178">Uma partição MOLAP mesclada com uma tabela de fatos incompleta contém uma cópia mesclada internamente dos dados da tabela de dados e é operada corretamente até ser processada.</span><span class="sxs-lookup"><span data-stu-id="e3395-178">A merged MOLAP partition with an incomplete fact table contains an internally merged copy of fact table data and operates correctly until it is processed.</span></span>  
  
## <a name="partition-storage-considerations-holap-and-rolap-partitions"></a><span data-ttu-id="e3395-179">Considerações de armazenamento de partição: partições HOLAP e ROLAP</span><span class="sxs-lookup"><span data-stu-id="e3395-179">Partition storage considerations: HOLAP and ROLAP Partitions</span></span>  
 <span data-ttu-id="e3395-180">Quando as partições HOLAP ou OLAP com tabelas de fatos diferentes são mescladas, essas tabelas não são mescladas automaticamente.</span><span class="sxs-lookup"><span data-stu-id="e3395-180">When HOLAP or ROLAP partitions that have different fact tables are merged, the fact tables are not automatically merged.</span></span> <span data-ttu-id="e3395-181">A não ser que sejam mescladas manualmente, somente a tabela de fatos associada à partição de destino estará disponível na partição resultante.</span><span class="sxs-lookup"><span data-stu-id="e3395-181">Unless the fact tables are manually merged, only the fact table associated with the target partition is available to the resulting partition.</span></span> <span data-ttu-id="e3395-182">Os fatos associados à partição de origem não estão disponíveis para extração de detalhes na partição resultante e, quando a partição é processada, as agregações não resumem os dados da tabela não disponível.</span><span class="sxs-lookup"><span data-stu-id="e3395-182">Facts associated with the source partition are not available for drilldown in the resulting partition, and when the partition is processed, aggregations do not summarize data from the unavailable table.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="e3395-183">Uma partição HOLAP ou ROLAP mesclada com uma tabela de fatos incompleta contém agregações precisas, mas fatos incompletos.</span><span class="sxs-lookup"><span data-stu-id="e3395-183">A merged HOLAP or ROLAP partition with an incomplete fact table contains accurate aggregations, but incomplete facts.</span></span> <span data-ttu-id="e3395-184">As consultas que fazem referência aos fatos ausentes retornam dados incorretos.</span><span class="sxs-lookup"><span data-stu-id="e3395-184">Queries that refer to missing facts return incorrect data.</span></span> <span data-ttu-id="e3395-185">Quando a partição é processada, somente as agregações de fatos disponíveis são calculadas.</span><span class="sxs-lookup"><span data-stu-id="e3395-185">When the partition is processed, aggregations are computed only from available facts.</span></span>  
  
 <span data-ttu-id="e3395-186">A ausência de fatos indisponíveis talvez não seja percebida, a não ser que um usuário tente extrair detalhes de um fato da tabela não disponível ou execute uma consulta que exija um fato dessa tabela.</span><span class="sxs-lookup"><span data-stu-id="e3395-186">The absence of unavailable facts might not be noticed unless a user attempts to drill down to a fact in the unavailable table or executes a query that requires a fact from the unavailable table.</span></span> <span data-ttu-id="e3395-187">Como as agregações são combinadas durante o processo de mesclagem, as consultas cujos resultados baseiam-se apenas em agregações retornam dados imprecisos, embora outras consultas também possam retornar dados imprecisos.</span><span class="sxs-lookup"><span data-stu-id="e3395-187">Because aggregations are combined during the merge process, queries whose results are based only on aggregations return accurate data, whereas other queries may return inaccurate data.</span></span> <span data-ttu-id="e3395-188">Mesmo após o processamento da partição resultante, os dados ausentes da tabela de fatos indisponível podem não ser percebidos, especialmente se representarem apenas uma pequena parte dos dados combinados.</span><span class="sxs-lookup"><span data-stu-id="e3395-188">Even after the resulting partition is processed, the missing data from the unavailable fact table may not be noticed, especially if it represents only a small portion of the combined data.</span></span>  
  
 <span data-ttu-id="e3395-189">As tabelas de fatos podem ser mescladas antes ou depois da mesclagem das partições.</span><span class="sxs-lookup"><span data-stu-id="e3395-189">Fact tables can be merged before or after merging the partitions.</span></span> <span data-ttu-id="e3395-190">No entanto, as agregações não representarão os fatos subjacentes com precisão até que as duas operações tenham sido concluídas.</span><span class="sxs-lookup"><span data-stu-id="e3395-190">However, the aggregations will not accurately represent the underlying facts until both operations have been completed.</span></span> <span data-ttu-id="e3395-191">É recomendado mesclar as partições HOLAP ou ROLAP que acessam tabelas de fatos diferentes quando os usuários não estiverem conectados ao cubo que contém essas partições.</span><span class="sxs-lookup"><span data-stu-id="e3395-191">It is recommended that you merge HOLAP or ROLAP partitions that access different fact tables when users are not connected to the cube that contains these partitions.</span></span>  
  
##  <a name="how-to-merge-partitions-using-ssms"></a><a name="bkmk_partitionSSMS"></a><span data-ttu-id="e3395-192">Como mesclar partições usando o SSMS</span><span class="sxs-lookup"><span data-stu-id="e3395-192">How to merge partitions using SSMS</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="e3395-193">Antes de mesclar partições, primeiro copie as informações de filtro de dados (normalmente, a cláusula WHERE para filtros baseados em consultas SQL).</span><span class="sxs-lookup"><span data-stu-id="e3395-193">Before merging partitions, first copy the data filter information (often, the WHERE clause for filters based on SQL queries).</span></span> <span data-ttu-id="e3395-194">Após a conclusão da mesclagem, atualize a propriedade Origem da Partição da partição que contém os dados de fatos acumulados.</span><span class="sxs-lookup"><span data-stu-id="e3395-194">Later, after the merge is completed, you should update the Partition Source property of the partition containing the accumulated fact data.</span></span>  
  
1.  <span data-ttu-id="e3395-195">No Pesquisador de Objetos, expanda o nó **Grupos de Medidas** do cubo que contém as partições que você deseja mesclar, expanda **Partições**, clique com o botão direito do mouse na partição que é o destino da operação de mesclagem.</span><span class="sxs-lookup"><span data-stu-id="e3395-195">In Object Explorer, expand the **Measure Groups** node of the cube containing the partitions that you want to merge, expand **Partitions**, right-click the partition that is the target or destination of the merge operation.</span></span> <span data-ttu-id="e3395-196">Por exemplo, se você estiver movendo dados de fatos trimestrais para uma partição que armazena dados de fatos anuais, selecione a partição que contém os dados de fatos anuais.</span><span class="sxs-lookup"><span data-stu-id="e3395-196">For example, if you are moving quarterly fact data to a partition that stores annual fact data, select the partition that contains the annual fact data.</span></span>  
  
2.  <span data-ttu-id="e3395-197">Clique em **mesclar partições** para abrir a caixa de diálogo \*\* \<partition name> partição de mesclagem\*\* .</span><span class="sxs-lookup"><span data-stu-id="e3395-197">Click **Merge Partitions** to open the **Merge Partition \<partition name>** dialog box.</span></span>  
  
3.  <span data-ttu-id="e3395-198">Em **Partições de Origem**, marque a caixa de seleção ao lado de cada partição de origem a ser mesclada com a partição de destino e clique em **OK**.</span><span class="sxs-lookup"><span data-stu-id="e3395-198">Under **Source Partitions**, select the check box next to each source partition that you want to merge with the target partition, and click **OK**.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="e3395-199">As partições de origem são excluídas assim que a origem é mesclada na partição de destino.</span><span class="sxs-lookup"><span data-stu-id="e3395-199">Source partitions are immediately deleted after the source is merged into the target partition.</span></span> <span data-ttu-id="e3395-200">A atualização da pasta Partições para atualizar seu conteúdo após a mesclagem foi concluída.</span><span class="sxs-lookup"><span data-stu-id="e3395-200">Refresh the Partitions folder to update its contents after the merge is completed.</span></span>  
  
4.  <span data-ttu-id="e3395-201">Clique com o botão direito do mouse na partição que contém os dados acumulados e selecione **Propriedades**.</span><span class="sxs-lookup"><span data-stu-id="e3395-201">Right-click the partition containing the accumulated data and select **Properties**.</span></span>  
  
5.  <span data-ttu-id="e3395-202">Abra a `Source` propriedade e modifique a cláusula WHERE para que ela inclua os dados da partição que você acabou de Mesclar.</span><span class="sxs-lookup"><span data-stu-id="e3395-202">Open the `Source` property and modify the WHERE clause so that it includes the partition data you just merged.</span></span> <span data-ttu-id="e3395-203">Lembre-se de que a `Source` propriedade não é atualizada automaticamente.</span><span class="sxs-lookup"><span data-stu-id="e3395-203">Recall that the `Source` property is not updated automatically.</span></span> <span data-ttu-id="e3395-204">Se você reprocessar sem primeiro atualizar o `Source` , talvez não obtenha todos os dados esperados.</span><span class="sxs-lookup"><span data-stu-id="e3395-204">If you reprocess without first updating the `Source`, you might not get all of the expected data.</span></span>  
  
##  <a name="how-to-merge-partitions-using-xmla"></a><a name="bkmk_partitionsXMLA"></a> <span data-ttu-id="e3395-205">Como mesclar partições usando o XMLA</span><span class="sxs-lookup"><span data-stu-id="e3395-205">How to merge partitions using XMLA</span></span>  
 <span data-ttu-id="e3395-206">Consulte este tópico para obter informações, [Mesclando partições &#40;XMLA&#41;](../multidimensional-models-scripting-language-assl-xmla/merging-partitions-xmla.md).</span><span class="sxs-lookup"><span data-stu-id="e3395-206">See this topic for information, [Merging Partitions &#40;XMLA&#41;](../multidimensional-models-scripting-language-assl-xmla/merging-partitions-xmla.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="e3395-207">Consulte Também</span><span class="sxs-lookup"><span data-stu-id="e3395-207">See Also</span></span>  
 <span data-ttu-id="e3395-208">[Processando objetos Analysis Services](processing-analysis-services-objects.md) </span><span class="sxs-lookup"><span data-stu-id="e3395-208">[Processing Analysis Services Objects](processing-analysis-services-objects.md) </span></span>  
 <span data-ttu-id="e3395-209">[Partições &#40;Analysis Services de dados multidimensionais&#41;](../multidimensional-models-olap-logical-cube-objects/partitions-analysis-services-multidimensional-data.md) </span><span class="sxs-lookup"><span data-stu-id="e3395-209">[Partitions &#40;Analysis Services - Multidimensional Data&#41;](../multidimensional-models-olap-logical-cube-objects/partitions-analysis-services-multidimensional-data.md) </span></span>  
 <span data-ttu-id="e3395-210">[Criar e gerenciar uma partição local &#40;Analysis Services&#41;](create-and-manage-a-local-partition-analysis-services.md) </span><span class="sxs-lookup"><span data-stu-id="e3395-210">[Create and Manage a Local Partition &#40;Analysis Services&#41;](create-and-manage-a-local-partition-analysis-services.md) </span></span>  
 <span data-ttu-id="e3395-211">[Criar e gerenciar uma partição remota &#40;Analysis Services&#41;](create-and-manage-a-remote-partition-analysis-services.md) </span><span class="sxs-lookup"><span data-stu-id="e3395-211">[Create and Manage a Remote Partition &#40;Analysis Services&#41;](create-and-manage-a-remote-partition-analysis-services.md) </span></span>  
 <span data-ttu-id="e3395-212">[Definir write-back de partição](set-partition-writeback.md) </span><span class="sxs-lookup"><span data-stu-id="e3395-212">[Set Partition Writeback](set-partition-writeback.md) </span></span>  
 <span data-ttu-id="e3395-213">[Partições habilitadas para gravação](../multidimensional-models-olap-logical-cube-objects/partitions-write-enabled-partitions.md) </span><span class="sxs-lookup"><span data-stu-id="e3395-213">[Write-Enabled Partitions](../multidimensional-models-olap-logical-cube-objects/partitions-write-enabled-partitions.md) </span></span>  
 [<span data-ttu-id="e3395-214">Configurar o armazenamento de cadeia de caracteres para dimensões e partições</span><span class="sxs-lookup"><span data-stu-id="e3395-214">Configure String Storage for Dimensions and Partitions</span></span>](configure-string-storage-for-dimensions-and-partitions.md)  
  
  
