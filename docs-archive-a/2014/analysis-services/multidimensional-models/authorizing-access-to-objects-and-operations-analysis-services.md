---
title: Autorizando o acesso a objetos e operações (Analysis Services) | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
f1_keywords:
- sql12.asvs.roledesignerdialog.membership.f1
- sql12.asvs.roledesignerdialog.general.f1
helpviewer_keywords:
- access rights [Analysis Services], users
- permissions [Analysis Services], users
- security [Analysis Services], user access
- user access rights [Analysis Services]
- granting permissions [Analysis Services], users
ms.assetid: af28524e-5eca-4dce-a050-da4f406ee1c7
author: minewiskan
ms.author: owend
ms.openlocfilehash: 34a91283d735730bcc5f011377b1f1e729e7e753
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87685361"
---
# <a name="authorizing-access-to-objects-and-operations-analysis-services"></a><span data-ttu-id="9e825-102">Autorizando o acesso a objetos e operações (Analysis Services)</span><span class="sxs-lookup"><span data-stu-id="9e825-102">Authorizing access to objects and operations (Analysis Services)</span></span>
  <span data-ttu-id="9e825-103">O acesso do usuário não administrativo a objetos como cubos, dimensões e modelos de mineração em um banco de dados [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] é concedido por meio de associação em uma ou mais funções de banco de dados.</span><span class="sxs-lookup"><span data-stu-id="9e825-103">Non-administrative user access to cubes, dimensions, and mining models within an [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] database is granted through membership in one or more database roles.</span></span> [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] <span data-ttu-id="9e825-104">Os administradores criam essas funções de banco de dados, concedem permissões de leitura ou leitura/gravação em objetos do [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] e atribuem usuários e grupos do Windows [!INCLUDE[msCoName](../../includes/msconame-md.md)] a cada função.</span><span class="sxs-lookup"><span data-stu-id="9e825-104">administrators create these database roles, granting Read or Read/Write permissions on [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] objects, and then assigning [!INCLUDE[msCoName](../../includes/msconame-md.md)] Windows users and groups to each role.</span></span>  
  
 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] <span data-ttu-id="9e825-105">determina as permissões efetivas para um usuário ou grupo específico do Windows combinando as permissões associadas a cada função de banco de dados à qual o usuário ou grupo pertence.</span><span class="sxs-lookup"><span data-stu-id="9e825-105">determines the effective permissions for a specific Windows user or group by combining the permissions that are associated with each database role to which the user or group belongs.</span></span> <span data-ttu-id="9e825-106">Em resultado, se uma função de banco de dados não fornecer a um usuário ou grupo permissão para exibir uma dimensão, medida ou atributo, mas uma função de banco de dados diferente conceder essa permissão, o usuário ou grupo terá permissão para exibir o objeto.</span><span class="sxs-lookup"><span data-stu-id="9e825-106">As a result, if one database role does not give a user or group permission to view a dimension, measure, or attribute, but a different database role does give that user or group permission, the user or group will have permission to view the object.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="9e825-107">Os membros da função Administrador de Servidor [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] e os membros de uma função de banco de dados que têm permissões de Controle Total (Administrador) podem acessar todos os dados e metadados no banco de dados e não precisam de nenhuma permissão adicional para exibir objetos específicos.</span><span class="sxs-lookup"><span data-stu-id="9e825-107">Members of the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] Server Administrator role and members of a database role having Full Control (Administrator) permissions can access all data and metadata in the database and need no additional permissions to view specific objects.</span></span> <span data-ttu-id="9e825-108">Além disso, os membros da função de servidor [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] não podem ter o acesso negado a nenhum objeto de nenhum banco de dados e os membros de uma função de banco de dados [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] que tem permissões de Controle Total (Administrador) em um banco de dados não podem ter o acesso negado a nenhum objeto desse banco de dados.</span><span class="sxs-lookup"><span data-stu-id="9e825-108">Moreover, members of the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] server role cannot be denied access to any object in any database, and members of an [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] database role that has Full Control (Administrator) permissions within a database cannot be denied access to any object within that database.</span></span> <span data-ttu-id="9e825-109">Operações administrativas especializadas, tais como processamento, podem ser autorizadas por meio de funções distintas com menos permissão.</span><span class="sxs-lookup"><span data-stu-id="9e825-109">Specialized administrative operations, such as processing, can be authorized through separate roles having less permission.</span></span> <span data-ttu-id="9e825-110">Consultar [Conceder permissões de processo &#40;Analysis Services&#41;](grant-process-permissions-analysis-services.md) para ver os detalhes.</span><span class="sxs-lookup"><span data-stu-id="9e825-110">See [Grant process permissions &#40;Analysis Services&#41;](grant-process-permissions-analysis-services.md) for details.</span></span>  
  
## <a name="list-roles-defined-for-your-database"></a><span data-ttu-id="9e825-111">Listar funções definidas para o banco de dados</span><span class="sxs-lookup"><span data-stu-id="9e825-111">List roles defined for your database</span></span>  
 <span data-ttu-id="9e825-112">Os administradores podem executar uma única consulta DMV no SQL Server Management Studio para obter uma lista de todas as funções definidas no servidor.</span><span class="sxs-lookup"><span data-stu-id="9e825-112">Administrators can run a simple DMV query in SQL Server Management Studio to get a list of all roles defined on the server.</span></span>  
  
1.  <span data-ttu-id="9e825-113">No SSMS, clique com o botão direito do mouse em um banco de dados e selecione **nova consulta**  |  **MDX**.</span><span class="sxs-lookup"><span data-stu-id="9e825-113">In SSMS, right-click a database and select **New Query** | **MDX**.</span></span>  
  
2.  <span data-ttu-id="9e825-114">Digite a consulta a seguir e pressione F5 para executá-la:</span><span class="sxs-lookup"><span data-stu-id="9e825-114">Type the following query and press F5 to execute:</span></span>  
  
    ```sql  
    Select * from $SYSTEM.DBSCHEMA_CATALOGS  
    ```  
  
     <span data-ttu-id="9e825-115">Os resultados incluem o nome do banco, descrição, nome da função e a data da última modificação.</span><span class="sxs-lookup"><span data-stu-id="9e825-115">Results include the database name, description, role name, and the date last modified.</span></span> <span data-ttu-id="9e825-116">Usando essas informações como ponto de partida você pode ir para bancos de dados individuais para verificar a associação e as permissões de uma função específica.</span><span class="sxs-lookup"><span data-stu-id="9e825-116">Using this information as a starting point, you can proceed to individual databases to check membership and permissions of a specific role.</span></span>  
  
## <a name="top-down-overview-of-analysis-services-authorization"></a><span data-ttu-id="9e825-117">Visão geral de cima para baixo da autorização do Analysis Services</span><span class="sxs-lookup"><span data-stu-id="9e825-117">Top-down overview of Analysis Services authorization</span></span>  
 <span data-ttu-id="9e825-118">Esta seção aborda o fluxo de trabalho básico para configurar permissões.</span><span class="sxs-lookup"><span data-stu-id="9e825-118">This section covers the basic workflow for configuring permissions.</span></span>  
  
 <span data-ttu-id="9e825-119">**Etapa 1: Administração de servidor**</span><span class="sxs-lookup"><span data-stu-id="9e825-119">**Step 1: Server Administration**</span></span>  
  
 <span data-ttu-id="9e825-120">Primeiro, decida quem terá direitos de administrador no nível do servidor.</span><span class="sxs-lookup"><span data-stu-id="9e825-120">As a first step, decide who will have administrator rights at the server level.</span></span> <span data-ttu-id="9e825-121">Durante a instalação, é preciso ter o administrador local que instala o SQL Server para especificar uma ou mais contas do Windows como administrador do servidor do Analysis Services.</span><span class="sxs-lookup"><span data-stu-id="9e825-121">During installation, the local administrator who installs SQL Server is required to specify one or more Windows accounts as the Analysis Services server administrator.</span></span> <span data-ttu-id="9e825-122">Os administradores do servidor têm todas as permissões possíveis em um servidor, inclusive a permissão para exibir, modificar e excluir qualquer objeto no servidor ou exibir os dados associados.</span><span class="sxs-lookup"><span data-stu-id="9e825-122">Server administrators have all possible permissions on a server, including the permission to view, modify, and delete any object on the server, or view associated data.</span></span> <span data-ttu-id="9e825-123">Após a instalação ser concluída, o administrador do servidor pode adicionar ou remover contas para alterar a associação da função.</span><span class="sxs-lookup"><span data-stu-id="9e825-123">After installation is complete, a server administrator can add or remove accounts to change membership of this role.</span></span> <span data-ttu-id="9e825-124">Consulte [conceder permissões de administrador do servidor &#40;Analysis Services&#41;](../instances/grant-server-admin-rights-to-an-analysis-services-instance.md) para obter detalhes sobre esse nível de permissão.</span><span class="sxs-lookup"><span data-stu-id="9e825-124">See [Grant Server Administrator Permissions &#40;Analysis Services&#41;](../instances/grant-server-admin-rights-to-an-analysis-services-instance.md) for details about this permission level.</span></span>  
  
 <span data-ttu-id="9e825-125">**Etapa 2: Administração de banco de dados**</span><span class="sxs-lookup"><span data-stu-id="9e825-125">**Step 2: Database Administration**</span></span>  
  
 <span data-ttu-id="9e825-126">Na sequência, depois que o administrador cria uma solução de tabela ou multidimensional, ele a implanta no servidor como um banco de dados.</span><span class="sxs-lookup"><span data-stu-id="9e825-126">Next, after a tabular or multidimensional solution is created, it is deployed to the server as a database.</span></span> <span data-ttu-id="9e825-127">Um administrador do servidor pode delegar tarefas de administração de banco de dados por definir uma função que tenha permissões de controle total para o banco de dados em questão.</span><span class="sxs-lookup"><span data-stu-id="9e825-127">A server administrator can delegate database administration tasks by defining a role that has Full Control permissions for the database in question.</span></span> <span data-ttu-id="9e825-128">Os membros dessa função podem processar ou consultar objetos no banco de dados, bem como criar funções adicionais para acessar cubos, dimensões e outros objetos dentro do próprio banco de dados.</span><span class="sxs-lookup"><span data-stu-id="9e825-128">Members of this role can process or query objects in the database, as well as create additional roles for accessing cubes, dimensions, and other objects within the database itself.</span></span> <span data-ttu-id="9e825-129">Consulte [Conceder permissões de banco de dados &#40;Analysis Services&#41;](grant-database-permissions-analysis-services.md) para obter mais informações.</span><span class="sxs-lookup"><span data-stu-id="9e825-129">See [Grant database permissions &#40;Analysis Services&#41;](grant-database-permissions-analysis-services.md) for more information.</span></span>  
  
 <span data-ttu-id="9e825-130">**Etapa 3: Habilitar acesso do cubo ou modelo para consulta e processamento de cargas de trabalho**</span><span class="sxs-lookup"><span data-stu-id="9e825-130">**Step 3: Enable cube or model access for query and processing workloads**</span></span>  
  
 <span data-ttu-id="9e825-131">Por padrão, somente servidores e administradores de banco de dados têm acesso a modelos de cubos e de tabela.</span><span class="sxs-lookup"><span data-stu-id="9e825-131">By default, only server and database administrators have access to cubes or tabular models.</span></span> <span data-ttu-id="9e825-132">Para tornar essas estruturas de dados disponíveis para outras pessoas na sua organização é preciso atribuir funções adicionais que mapeiem contas de usuários e grupos do Windows para cubos ou modelos, com permissões que especifiquem privilégios de `Read`.</span><span class="sxs-lookup"><span data-stu-id="9e825-132">Making these data structures available to other people in your organization requires additional role assignments that map Windows user and group accounts to cubes or models, along with permissions that specify `Read` privileges.</span></span> <span data-ttu-id="9e825-133">Consulte [Conceder permissões de cubo ou modelo &#40;Analysis Services&#41;](grant-cube-or-model-permissions-analysis-services.md) para ver os detalhes.</span><span class="sxs-lookup"><span data-stu-id="9e825-133">See [Grant cube or model permissions &#40;Analysis Services&#41;](grant-cube-or-model-permissions-analysis-services.md) for details.</span></span>  
  
 <span data-ttu-id="9e825-134">O processamento de tarefas pode ser isolado de outras funções administrativas, permitindo que administradores de servidor e de banco de dados deleguem essa tarefa a outras pessoas ou configurem o processamento autônomo, especificando contas de serviço que executam o software de agendamento.</span><span class="sxs-lookup"><span data-stu-id="9e825-134">Processing tasks can be isolated from other administrative functions, allowing server and database administrators to delegate this task to other people, or to configure unattended processing by specifying service accounts that run scheduling software.</span></span> <span data-ttu-id="9e825-135">Consultar [Conceder permissões de processo &#40;Analysis Services&#41;](grant-process-permissions-analysis-services.md) para ver os detalhes.</span><span class="sxs-lookup"><span data-stu-id="9e825-135">See [Grant process permissions &#40;Analysis Services&#41;](grant-process-permissions-analysis-services.md) for details.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="9e825-136">Os usuários não precisam de nenhuma permissão nas tabelas relacionais do banco de dados relacionais subjacentes por meio do qual o [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] carrega os dados e não precisam de nenhuma permissão no nível do arquivo no computador em que a instância do [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] está em execução.</span><span class="sxs-lookup"><span data-stu-id="9e825-136">Users do not require any permissions to the relational tables in the underlying relational database from which [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] loads its data, and do not require any file level permissions on the computer on which the instance of [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] is running.</span></span>  
  
 <span data-ttu-id="9e825-137">**Etapa 4 (opcional): Permitir ou negar acesso a objetos de cubo internos**</span><span class="sxs-lookup"><span data-stu-id="9e825-137">**Step 4 (Optional): Allow or deny access to interior cube objects**</span></span>  
  
 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] <span data-ttu-id="9e825-138">fornece configurações de segurança para definir permissões para objetos individuais, incluindo membros e células da dimensão dentro de um modelo de dados.</span><span class="sxs-lookup"><span data-stu-id="9e825-138">provides security settings for setting permissions on individual objects, including dimension members and cells within a data model.</span></span> <span data-ttu-id="9e825-139">Para ver os detalhes, consulte [Conceder acesso personalizado a dados da dimensão &#40;Analysis Services&#41;](grant-custom-access-to-dimension-data-analysis-services.md) e [Conceder acesso personalizado a dados de célula &#40;Analysis Services&#41;](grant-custom-access-to-cell-data-analysis-services.md).</span><span class="sxs-lookup"><span data-stu-id="9e825-139">For details, see [Grant custom access to dimension data &#40;Analysis Services&#41;](grant-custom-access-to-dimension-data-analysis-services.md) and [Grant custom access to cell data &#40;Analysis Services&#41;](grant-custom-access-to-cell-data-analysis-services.md).</span></span>  
  
 <span data-ttu-id="9e825-140">Você também pode variar as permissões com base na identidade do usuário.</span><span class="sxs-lookup"><span data-stu-id="9e825-140">You can also vary permissions based on user identity.</span></span> <span data-ttu-id="9e825-141">Isso é frequentemente chamado de segurança dinâmica e é implantada usando a função [UserName &#40;MDX&#41;](/sql/mdx/username-mdx)</span><span class="sxs-lookup"><span data-stu-id="9e825-141">This is often referred to as dynamic security, and is implemented using the [UserName &#40;MDX&#41;](/sql/mdx/username-mdx) function</span></span>  
  
## <a name="best-practices"></a><span data-ttu-id="9e825-142">Práticas recomendadas</span><span class="sxs-lookup"><span data-stu-id="9e825-142">Best practices</span></span>  
 <span data-ttu-id="9e825-143">Para gerenciar as permissões de uma melhor forma, sugerimos uma abordagem semelhante à seguinte:</span><span class="sxs-lookup"><span data-stu-id="9e825-143">To better manage permissions, we suggest an approach similar to the following:</span></span>  
  
1.  <span data-ttu-id="9e825-144">Crie funções por função (por exemplo, dbadmin, cubedeveloper, processadmin), de modo que o usuário quem mantém as funções possa ver rapidamente o que a função permite.</span><span class="sxs-lookup"><span data-stu-id="9e825-144">Create roles by function (for example, dbadmin, cubedeveloper, processadmin) so that whoever maintains the roles can see at glance what the role allows.</span></span> <span data-ttu-id="9e825-145">Como já observado, você pode definir as funções na definição do modelo, preservando-as, assim, em implantações posteriores da solução.</span><span class="sxs-lookup"><span data-stu-id="9e825-145">As noted elsewhere, you can define roles in the model definition, thus preserving those roles over subsequent solution deployments.</span></span>  
  
2.  <span data-ttu-id="9e825-146">Crie um grupo de segurança do Windows correspondente no Active Directory e mantenha-o no Active Directory para garantir que nele estejam incluídas as contas individuais adequadas.</span><span class="sxs-lookup"><span data-stu-id="9e825-146">Create a corresponding Windows security group in Active Directory, and then maintain the security group in Active Directory to insure it contains the appropriate individual accounts.</span></span> <span data-ttu-id="9e825-147">Isso coloca a responsabilidade da associação do grupo de segurança em especialistas de segurança, os quais já dominam as ferramentas e os processos utilizados na manutenção das contas em sua organização.</span><span class="sxs-lookup"><span data-stu-id="9e825-147">This places the responsibility of security group membership on security specialists who are already have proficiency with the tools and processes used for account maintenance in your organization.</span></span>  
  
3.  <span data-ttu-id="9e825-148">Gere scripts no [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] de modo que você possa replicar rapidamente as atribuições de função sempre que o modelo é reimplantado em um servidor a partir dos arquivos de origem.</span><span class="sxs-lookup"><span data-stu-id="9e825-148">Generate scripts in [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] so that you can quickly replicate role assignments whenever the model is redeployed from its source files to a server.</span></span> <span data-ttu-id="9e825-149">Consulte [Conceder permissões de cubo ou modelo &#40;Analysis Services&#41;](grant-cube-or-model-permissions-analysis-services.md) para ver os detalhes sobre a rapidez de criação de um script.</span><span class="sxs-lookup"><span data-stu-id="9e825-149">See [Grant cube or model permissions &#40;Analysis Services&#41;](grant-cube-or-model-permissions-analysis-services.md) for details on how to quickly generate a script.</span></span>  
  
4.  <span data-ttu-id="9e825-150">Adote uma convenção de nomenclatura que reflita o escopo e a associação da função.</span><span class="sxs-lookup"><span data-stu-id="9e825-150">Adopt a naming convention that reflects the scope and membership of the role.</span></span> <span data-ttu-id="9e825-151">Os nomes de função são visíveis apenas em ferramentas de design e de administração, portanto, use uma convenção de nomenclatura que faça sentido para os seus especialistas de segurança de cubo.</span><span class="sxs-lookup"><span data-stu-id="9e825-151">Role names are only visible in design and administration tools, so use a naming convention that makes sense to your cube security specialists.</span></span> <span data-ttu-id="9e825-152">Por exemplo, **processadmin-windowsgroup1** indica acesso de leitura e direitos de processamento para pessoas na sua organização cujas contas individuais de usuário do Windows são membros do grupo de segurança **windowsgroup1** .</span><span class="sxs-lookup"><span data-stu-id="9e825-152">For example, **processadmin-windowsgroup1** indicates read access, plus processing rights, to people in your organization whose individual Windows user accounts are members of the **windowsgroup1** security group.</span></span>  
  
     <span data-ttu-id="9e825-153">Incluir informações da conta pode ajudá-lo a manter o controle de quais contas são usadas em várias funções.</span><span class="sxs-lookup"><span data-stu-id="9e825-153">Including account information can help you keep track of which accounts are used in various roles.</span></span> <span data-ttu-id="9e825-154">Como as funções são aditivas, as funções combinadas associadas ao **windowsgroup1** formam o conjunto de permissões eficazes para as pessoas que pertencem a esse grupo de segurança.</span><span class="sxs-lookup"><span data-stu-id="9e825-154">Because roles are additive, the combined roles associated with **windowsgroup1** make up the effective permission set for people belonging to that security group.</span></span>  
  
5.  <span data-ttu-id="9e825-155">Os desenvolvedores de cubo necessitam de permissões de Controle Total para os modelos e bancos de dados em desenvolvimento, mas só precisam de permissões de Leitura após o banco de dados ser distribuído a um servidor de produção.</span><span class="sxs-lookup"><span data-stu-id="9e825-155">Cube developers will require Full Control permissions for models and databases under development, but only need Read permissions once a database is rolled out to a production server.</span></span> <span data-ttu-id="9e825-156">Lembre-se de desenvolver definições e atribuições de funções para todos os cenários, inclusive para implantações de desenvolvimento, teste e produção.</span><span class="sxs-lookup"><span data-stu-id="9e825-156">Remember to develop role definitions and assignments for all scenarios, including development, test, and production deployments.</span></span>  
  
 <span data-ttu-id="9e825-157">Usar uma abordagem como essa minimiza a variação para definições de função e associação de função no modelo, além de fornecer visibilidade das atribuições de função que tornam as permissões do cubo mais fáceis de implantar e manter.</span><span class="sxs-lookup"><span data-stu-id="9e825-157">Using an approach like this one minimizes churn to role definitions and role membership in the model, and provides visibility into role assignments that makes cube permissions easier to implement and maintain.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="9e825-158">Consulte Também</span><span class="sxs-lookup"><span data-stu-id="9e825-158">See Also</span></span>  
 <span data-ttu-id="9e825-159">[Permissões de administrador de servidor Grant &#40;Analysis Services&#41;](../instances/grant-server-admin-rights-to-an-analysis-services-instance.md) </span><span class="sxs-lookup"><span data-stu-id="9e825-159">[Grant Server Administrator Permissions &#40;Analysis Services&#41;](../instances/grant-server-admin-rights-to-an-analysis-services-instance.md) </span></span>  
 <span data-ttu-id="9e825-160">[Funções e permissões &#40;Analysis Services&#41;](roles-and-permissions-analysis-services.md) </span><span class="sxs-lookup"><span data-stu-id="9e825-160">[Roles and Permissions &#40;Analysis Services&#41;](roles-and-permissions-analysis-services.md) </span></span>  
 [<span data-ttu-id="9e825-161">Metodologias de autenticação com suporte no Analysis Services</span><span class="sxs-lookup"><span data-stu-id="9e825-161">Authentication methodologies supported by Analysis Services</span></span>](../instances/authentication-methodologies-supported-by-analysis-services.md)  
  
  
