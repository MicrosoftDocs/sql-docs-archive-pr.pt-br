---
title: Partições e modo DirectQuery (SSAS tabular) | Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
ms.assetid: 5f179ba9-6efb-46ae-90e5-945bbfddb719
author: minewiskan
ms.author: owend
ms.openlocfilehash: 5957ed919f15a5c7f39c3c78133786ae6687a2d2
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87581468"
---
# <a name="partitions-and-directquery-mode-ssas-tabular"></a><span data-ttu-id="271b2-102">Partições e modo DirectQuery (SSAS tabular)</span><span class="sxs-lookup"><span data-stu-id="271b2-102">Partitions and DirectQuery Mode (SSAS Tabular)</span></span>
  <span data-ttu-id="271b2-103">Esta seção explica como as partições são usadas em modelos DirectQuery.</span><span class="sxs-lookup"><span data-stu-id="271b2-103">This section explains how partitions are used in DirectQuery models.</span></span> <span data-ttu-id="271b2-104">Para obter mais informações gerais sobre partições em modelos de tabela, consulte [Partições &#40;SSAS de Tabela&#41;](partitions-ssas-tabular.md).</span><span class="sxs-lookup"><span data-stu-id="271b2-104">For more general information about partitions in tabular models, see [Partitions &#40;SSAS Tabular&#41;](partitions-ssas-tabular.md).</span></span>  
  
 <span data-ttu-id="271b2-105">Para obter instruções sobre como alterar a partição usada ou exibir informações sobre a partição, consulte [alterar a partição do DirectQuery &#40;&#41;de tabela do SSAS ](../change-the-directquery-partition-ssas-tabular.md).</span><span class="sxs-lookup"><span data-stu-id="271b2-105">For instructions on how to change the partition that is used, or view information about the partition, see [Change the DirectQuery Partition &#40;SSAS Tabular&#41;](../change-the-directquery-partition-ssas-tabular.md).</span></span>  
  
## <a name="using-partitions-in-directquery-mode"></a><span data-ttu-id="271b2-106">Usando partições no modo DirectQuery</span><span class="sxs-lookup"><span data-stu-id="271b2-106">Using Partitions in DirectQuery Mode</span></span>  
 <span data-ttu-id="271b2-107">Para cada tabela, você deve especificar uma única partição para usar como a fonte de dados DirectQuery.</span><span class="sxs-lookup"><span data-stu-id="271b2-107">For each table, you must specify a single partition to use as the DirectQuery data source.</span></span>  <span data-ttu-id="271b2-108">Se houver várias partições, quando você alternar o modelo para habilitar o modo DirectQuery, por padrão a primeira partição que foi criada na tabela será sinalizada como a partição DirectQuery.</span><span class="sxs-lookup"><span data-stu-id="271b2-108">If there are multiple partitions, when you switch the model to enable DirectQuery mode, by default the first partition that was created in the table is flagged as the DirectQuery partition.</span></span> <span data-ttu-id="271b2-109">Você pode alterar isso posteriormente usando o Gerenciador de Partições no [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)].</span><span class="sxs-lookup"><span data-stu-id="271b2-109">You can change this later by using the Partition Manager in [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)].</span></span>  
  
 <span data-ttu-id="271b2-110">Por que permitir apenas uma partição única no modo DirectQuery?</span><span class="sxs-lookup"><span data-stu-id="271b2-110">Why allow only a single partition in DirectQuery mode?</span></span>  
  
 <span data-ttu-id="271b2-111">Em modelos de tabela (como em modelos OLAP), as partições de uma tabela são definidas através de consultas SQL.</span><span class="sxs-lookup"><span data-stu-id="271b2-111">In tabular models (as in OLAP models), the partitions of a table are defined by SQL queries.</span></span> <span data-ttu-id="271b2-112">O desenvolvedor que cria a definição de partição é responsável por assegurar que não haja sobreposição de partições.</span><span class="sxs-lookup"><span data-stu-id="271b2-112">The developer who creates the partition definition is responsible for ensuring that partitions do not overlap.</span></span> <span data-ttu-id="271b2-113">O Analysis Services não verifica se os registros pertencem em uma ou várias partições.</span><span class="sxs-lookup"><span data-stu-id="271b2-113">Analysis Services does not check whether records belong in one or multiple partitions.</span></span>  
  
 <span data-ttu-id="271b2-114">As partições em um modelo de tabela armazenado em cache se comportam da mesma forma.</span><span class="sxs-lookup"><span data-stu-id="271b2-114">Partitions in a cached tabular model behave the same way.</span></span> <span data-ttu-id="271b2-115">Se você estiver usando um modelo na memória, enquanto o cache estiver sendo acessado, fórmulas DAX serão avaliadas para cada partição e os resultados serão combinados.</span><span class="sxs-lookup"><span data-stu-id="271b2-115">If you are using an in-memory model, while the cache is being accessed, DAX formulas are evaluated for each partition, and the results are combined.</span></span> <span data-ttu-id="271b2-116">Porém, quando um modelo de tabela usa o modo DirectQuery, é impossível avaliar várias partições, combinar os resultados e converter isso em uma instrução SQL a ser enviada ao repositório de dados relacional.</span><span class="sxs-lookup"><span data-stu-id="271b2-116">However, when a tabular model uses DirectQuery mode, it would be impossible to evaluate multiple partitions, combine the results, and convert that into a SQL statement for sending to the relational data store.</span></span> <span data-ttu-id="271b2-117">Essa ação pode causar a perda inaceitável de desempenho e imprecisões em potencial, já que os resultados são agregados.</span><span class="sxs-lookup"><span data-stu-id="271b2-117">Doing so could lead to unacceptable loss of performance, as well as potential inaccuracies as the results are aggregated.</span></span>  
  
 <span data-ttu-id="271b2-118">Portanto, para consultas respondidas no modo DirectQuery, o servidor usa uma única partição que foi marcada como a partição primária para acesso do DirectQuery, chamada de *partição DirectQuery*.</span><span class="sxs-lookup"><span data-stu-id="271b2-118">Therefore, for queries answered in DirectQuery mode, the server uses a single partition that has been marked as the primary partition for DirectQuery access, called the *DirectQuery partition*.</span></span>  <span data-ttu-id="271b2-119">A consulta SQL especificada na definição dessa partição define o conjunto completo de dados que podem ser usados para responder a consultas no modo DirectQuery.</span><span class="sxs-lookup"><span data-stu-id="271b2-119">The SQL query specified in the definition of this partition defines the complete set of data that can be used to answer queries in DirectQuery mode.</span></span>  
  
 <span data-ttu-id="271b2-120">Se você não definir a partição explicitamente, o mecanismo simplesmente emitirá uma consulta SQL à fonte de dados relacional inteira, executará qualquer operação baseada em conjunto ditada pela fórmula DAX e retornará os resultados da consulta.</span><span class="sxs-lookup"><span data-stu-id="271b2-120">If you do not explicitly define a partition, the engine simply issues a SQL query to the entire relational data source, performs any set-based operations dictated by the DAX formula, and returns the query results.</span></span>  
  
 <span data-ttu-id="271b2-121">Se você tiver várias partições em uma tabela, e selecionar uma partição como a partição DirectQuery, por padrão, todas as outras partições serão marcadas como apenas de uso na memória.</span><span class="sxs-lookup"><span data-stu-id="271b2-121">If you have multiple partitions in a table, and select one partition as the DirectQuery partition, by default all other partitions are marked as being for in-memory use only.</span></span>  
  
## <a name="partitions-in-cached-models-and-in-directquery-models"></a><span data-ttu-id="271b2-122">Partições em modelos armazenados em cache e em modelos DirectQuery</span><span class="sxs-lookup"><span data-stu-id="271b2-122">Partitions in Cached Models and in DirectQuery Models</span></span>  
 <span data-ttu-id="271b2-123">Quando você configura uma partição DirectQuery, deve especificar opções de processamento para a partição.</span><span class="sxs-lookup"><span data-stu-id="271b2-123">When you configure a DirectQuery partition, you must specify processing options for the partition.</span></span>  
  
 <span data-ttu-id="271b2-124">Há duas opções de processamento para a partição DirectQuery.</span><span class="sxs-lookup"><span data-stu-id="271b2-124">There are two processing options for the DirectQuery partition.</span></span> <span data-ttu-id="271b2-125">Para definir essa propriedade, use o **Gerenciador de Partições** no [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)]ou [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)]e selecione a propriedade **Opção de Processamento** .</span><span class="sxs-lookup"><span data-stu-id="271b2-125">To set this property, use the **Partition Manager** in [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)], or [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)], and select the **Processing Option** property.</span></span> <span data-ttu-id="271b2-126">A tabela a seguir lista os valores desta propriedade e descreve os efeitos de cada valor quando combinados com a propriedade DirectQueryUsage na cadeia de conexão:</span><span class="sxs-lookup"><span data-stu-id="271b2-126">The following table lists the values of this property, and describes the effects of each value when combined with the DirectQueryUsage property on the connection string:</span></span>  
  
|<span data-ttu-id="271b2-127">Propriedade **DirectQueryUsage**</span><span class="sxs-lookup"><span data-stu-id="271b2-127">**DirectQueryUsage** property</span></span>|<span data-ttu-id="271b2-128">Propriedade**Opção de Processamento**</span><span class="sxs-lookup"><span data-stu-id="271b2-128">**Processing Option** property</span></span>|<span data-ttu-id="271b2-129">Observações</span><span class="sxs-lookup"><span data-stu-id="271b2-129">Notes</span></span>|  
|-----------------------------------|------------------------------------|-----------|  
|<span data-ttu-id="271b2-130">DirectQuery</span><span class="sxs-lookup"><span data-stu-id="271b2-130">DirectQuery</span></span>|<span data-ttu-id="271b2-131">Nunca processar esta partição</span><span class="sxs-lookup"><span data-stu-id="271b2-131">Never process this partition</span></span>|<span data-ttu-id="271b2-132">Quando o modelo só estiver usando o DirectQuery, o processamento nunca será necessário.</span><span class="sxs-lookup"><span data-stu-id="271b2-132">When the model is using DirectQuery only, processing is never necessary.</span></span><br /><br /> <span data-ttu-id="271b2-133">Em modelos híbridos, você pode configurar a partição DirectQuery para nunca ser processada.</span><span class="sxs-lookup"><span data-stu-id="271b2-133">In hybrid models, you can configure the DirectQuery partition to never be processed.</span></span> <span data-ttu-id="271b2-134">Por exemplo, se você estiver operando em um conjunto de dados muito grande e não desejar adicionar os resultados completos ao cache, poderá especificar que a partição DirectQuery inclua a união de resultados para todas as outras partições na tabela e que nunca processe a união.</span><span class="sxs-lookup"><span data-stu-id="271b2-134">For example, if you are operating over a very large data set and do not want the full results added to the cache, you can specify that the DirectQuery partition include the union of results for all other partitions in the table, and then never process the union.</span></span> <span data-ttu-id="271b2-135">As consultas destinadas à fonte relacional não serão afetadas e as consultas em dados armazenados em cache combinarão dados das outras partições</span><span class="sxs-lookup"><span data-stu-id="271b2-135">Queries that go to the relational source will not be affected, and queries against cached data will combine data from the other partitions</span></span>|  
|<span data-ttu-id="271b2-136">Inmemory com DirectQuery</span><span class="sxs-lookup"><span data-stu-id="271b2-136">InMemory With DirectQuery</span></span>|<span data-ttu-id="271b2-137">Permitir que a partição seja processada</span><span class="sxs-lookup"><span data-stu-id="271b2-137">Allow partition to be processed</span></span>|<span data-ttu-id="271b2-138">Se o modelo estiver usando o modo híbrido, você deve usar a mesma partição para consultas na memória e consultas na fonte de dados DirectQuery.</span><span class="sxs-lookup"><span data-stu-id="271b2-138">If the model is using hybrid mode, you should use the same partition for queries against the in-memory and queries against the DirectQuery data source.</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="271b2-139">Consulte Também</span><span class="sxs-lookup"><span data-stu-id="271b2-139">See Also</span></span>  
 [<span data-ttu-id="271b2-140">Partições &#40;SSAS de Tabela&#41;</span><span class="sxs-lookup"><span data-stu-id="271b2-140">Partitions &#40;SSAS Tabular&#41;</span></span>](partitions-ssas-tabular.md)  
  
  
