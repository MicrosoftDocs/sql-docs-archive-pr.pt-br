---
title: Noções básicas sobre DAX em modelos de tabela (SSAS tabular) | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
ms.assetid: b2693985-1bea-4861-a100-cea4761ba809
author: minewiskan
ms.author: owend
ms.openlocfilehash: 4bf7dc2f41a1d42e8b565459c3b094479d937a91
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87582135"
---
# <a name="understanding-dax-in-tabular-models-ssas-tabular"></a><span data-ttu-id="c27ea-102">Entendendo DAX em modelos de tabela (SSAS tabular)</span><span class="sxs-lookup"><span data-stu-id="c27ea-102">Understanding DAX in Tabular Models (SSAS Tabular)</span></span>
  <span data-ttu-id="c27ea-103">DAX é a linguagem de fórmula usada para criar cálculos personalizados no [!INCLUDE[ssGemini](../../includes/ssgemini-md.md)] para pastas de trabalho do Microsoft Excel e projetos de modelo de tabela do [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="c27ea-103">Data Analysis Expressions (DAX) is the formula language used to create custom calculations in [!INCLUDE[ssGemini](../../includes/ssgemini-md.md)] for Microsoft Excel workbooks and [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] tabular model projects.</span></span> <span data-ttu-id="c27ea-104">As fórmulas DAX incluem funções, operadores e valores para executar cálculos avançados em dados em tabelas e colunas.</span><span class="sxs-lookup"><span data-stu-id="c27ea-104">DAX formulas include functions, operators, and values to perform advanced calculations on data in tables and columns.</span></span>  
  
 <span data-ttu-id="c27ea-105">Embora a linguagem DAX se aplique tanto a pastas de trabalho do [!INCLUDE[ssGemini](../../includes/ssgemini-md.md)] quanto a projetos de modelo de tabela, este tópico se aplica mais aos projetos de modelo de tabela criados no [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)].</span><span class="sxs-lookup"><span data-stu-id="c27ea-105">While DAX applies to both [!INCLUDE[ssGemini](../../includes/ssgemini-md.md)] workbooks and tabular model projects, this topic applies more to tabular model projects authored in [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)].</span></span> <span data-ttu-id="c27ea-106">Antes de ler este tópico, você deve ter um bom entendimento de modelos de tabela e do ambiente de criação de projeto de modelo de tabela no [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)].</span><span class="sxs-lookup"><span data-stu-id="c27ea-106">Before reading this topic, you should have a good understanding of tabular models and the tabular model project authoring environment in [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)].</span></span>  
  
 <span data-ttu-id="c27ea-107">Seções neste tópico:</span><span class="sxs-lookup"><span data-stu-id="c27ea-107">Sections in this topic:</span></span>  
  
-   [<span data-ttu-id="c27ea-108">DAX em modelos de tabela</span><span class="sxs-lookup"><span data-stu-id="c27ea-108">DAX in Tabular Models</span></span>](#bkmk_DAXintm)  
  
-   [<span data-ttu-id="c27ea-109">Fórmulas DAX em colunas calculadas, medidas e filtros de linha</span><span class="sxs-lookup"><span data-stu-id="c27ea-109">DAX Formulas in Calculated Columns, Measures, and Row Filters</span></span>](#bkmk_DAX)  
  
-   [<span data-ttu-id="c27ea-110">Tipos de dados DAX</span><span class="sxs-lookup"><span data-stu-id="c27ea-110">DAX Data Types</span></span>](#bkmk_DAX_datatypes)  
  
-   [<span data-ttu-id="c27ea-111">Operadores DAX</span><span class="sxs-lookup"><span data-stu-id="c27ea-111">DAX Operators</span></span>](#bkmk_DAX_opertors)  
  
-   [<span data-ttu-id="c27ea-112">Fórmulas DAX</span><span class="sxs-lookup"><span data-stu-id="c27ea-112">DAX Formulas</span></span>](#bkmk_DAX_Formulas)  
  
-   [<span data-ttu-id="c27ea-113">Funções DAX</span><span class="sxs-lookup"><span data-stu-id="c27ea-113">DAX Functions</span></span>](#bkmk_DAX_functions)  
  
-   [<span data-ttu-id="c27ea-114">Contexto em fórmulas DAX</span><span class="sxs-lookup"><span data-stu-id="c27ea-114">Context in DAX Formulas</span></span>](#bkmk_context)  
  
-   [<span data-ttu-id="c27ea-115">Fórmulas e o modelo de tabela</span><span class="sxs-lookup"><span data-stu-id="c27ea-115">Formulas and the Tabular Model</span></span>](#bkmk_RelModel)  
  
-   [<span data-ttu-id="c27ea-116">Trabalhando com tabelas e colunas</span><span class="sxs-lookup"><span data-stu-id="c27ea-116">Working with Tables and Columns</span></span>](#bkmk_tables)  
  
-   [<span data-ttu-id="c27ea-117">Atualizando os resultados das fórmulas (processo)</span><span class="sxs-lookup"><span data-stu-id="c27ea-117">Updating the Results of Formulas (Process)</span></span>](#bkmk_RefreshRecalc)  
  
-   [<span data-ttu-id="c27ea-118">Solucionando problemas de erros em fórmulas</span><span class="sxs-lookup"><span data-stu-id="c27ea-118">Troubleshooting Errors in Formulas</span></span>](#bkmk_troubleshoot)  
  
-   [<span data-ttu-id="c27ea-119">Recursos adicionais</span><span class="sxs-lookup"><span data-stu-id="c27ea-119">Additional Resources</span></span>](#bkmk_addional_resources)  
  
##  <a name="dax-in-tabular-models"></a><a name="bkmk_DAXintm"></a><span data-ttu-id="c27ea-120">DAX em modelos de tabela</span><span class="sxs-lookup"><span data-stu-id="c27ea-120">DAX in Tabular Models</span></span>  
 <span data-ttu-id="c27ea-121">Na funcionalidade do [!INCLUDE[ssGemini](../../includes/ssgemini-md.md)] e nos modelos de tabela não há nenhuma diferença no modo como as fórmulas DAX calculam valores de seus respectivos conjuntos de dados.</span><span class="sxs-lookup"><span data-stu-id="c27ea-121">In both [!INCLUDE[ssGemini](../../includes/ssgemini-md.md)] and tabular models, functionally, there is no difference in how DAX formulas calculate values from their respective data sets.</span></span> <span data-ttu-id="c27ea-122">No entanto, quando fórmulas DAX são criadas na pasta de trabalho, as ferramentas de criação de modelo são diferentes, bem como quando o contexto em certas medidas é avaliado.</span><span class="sxs-lookup"><span data-stu-id="c27ea-122">However, where DAX formulas are created in the workbook and model authoring tools is different, as well as where context in certain measures is evaluated.</span></span>  
  
 <span data-ttu-id="c27ea-123">No [!INCLUDE[ssGemini](../../includes/ssgemini-md.md)], as fórmulas de cálculo geralmente são criadas pelo usuário da pasta de trabalho para análise de business intelligence de autoatendimento.</span><span class="sxs-lookup"><span data-stu-id="c27ea-123">In [!INCLUDE[ssGemini](../../includes/ssgemini-md.md)], calculation formulas are typically created by the workbook user for self-service business intelligence analysis.</span></span> <span data-ttu-id="c27ea-124">Colunas calculadas são criadas para uma tabela na janela PowerPivot e medidas são criadas em Tabelas Dinâmicas ou a área de cálculo.</span><span class="sxs-lookup"><span data-stu-id="c27ea-124">Calculated columns are created for a table in the PowerPivot window, and measures are created in PivotTables or the calculation area.</span></span> <span data-ttu-id="c27ea-125">Diferentemente dos projetos de modelo de tabela, as pastas de trabalho PowerPivot não fornecem a segurança baseada em função, que pode usar fórmulas DAX para proteger dados.</span><span class="sxs-lookup"><span data-stu-id="c27ea-125">Unlike tabular model projects, PowerPivot workbooks do not provide role-based security, which can use DAX formulas to secure data.</span></span>  
  
 <span data-ttu-id="c27ea-126">Em projetos de modelo de tabela, são criadas fórmulas de cálculo no designer de modelo no [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)] por autores modelo.</span><span class="sxs-lookup"><span data-stu-id="c27ea-126">In tabular model projects, calculation formulas are created in the model designer in [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)] by model authors.</span></span> <span data-ttu-id="c27ea-127">Embora os valores para colunas calculadas, criados usando as fórmulas do DAX, apareçam imediatamente na tabela no designer de modelos, com exceção para o recurso de visualização de medida na grade de medida, as medidas não são calculadas até que um usuário especifique um filtro em um cliente de relatório como o [!INCLUDE[ssCrescent](../../includes/sscrescent-md.md)] ou em Tabelas Dinâmicas no Microsoft Excel.</span><span class="sxs-lookup"><span data-stu-id="c27ea-127">While values for calculated columns, calculated by using DAX formulas, appear immediately in the table in the model designer, with exception to the measure preview feature in the measure grid, measures are not calculated until a user specifies a filter in a reporting client such as [!INCLUDE[ssCrescent](../../includes/sscrescent-md.md)] or in PivotTables in Microsoft Excel.</span></span>  
  
 <span data-ttu-id="c27ea-128">Se você importar uma pasta de trabalho PowerPivot para um novo projeto de modelo de tabela usando o modelo de projeto Importar do PowerPivot, serão criadas fórmulas DAX para colunas calculadas automaticamente no novo modelo de tabela.</span><span class="sxs-lookup"><span data-stu-id="c27ea-128">If you import a PowerPivot workbook into a new tabular model project by using the Import from PowerPivot project template, DAX formulas for calculated columns will be automatically created in the new tabular model.</span></span> <span data-ttu-id="c27ea-129">Fórmulas DAX para medidas implícitas e explícitas na pasta de trabalho serão criadas automaticamente no novo modelo de tabela como medidas explícitas.</span><span class="sxs-lookup"><span data-stu-id="c27ea-129">DAX formulas for implicit and explicit measures in the workbook will be automatically created in the new tabular model as explicit measures.</span></span> <span data-ttu-id="c27ea-130">Como a função e a funcionalidade de filtro de linha protegida ainda não existem nas pastas de trabalho PowerPivot, será necessário criar pelo menos uma função no novo modelo de tabela para fornecer acesso de dados de modelo a membros de função.</span><span class="sxs-lookup"><span data-stu-id="c27ea-130">Because role and secure row filter functionality do not already exist in PowerPivot workbooks, you will need to create at least one role in the new tabular model to provide model data access to role members.</span></span> <span data-ttu-id="c27ea-131">Fórmulas DAX em filtros de linha só serão necessários se você desejar proteger os dados de tabela no nível de linha.</span><span class="sxs-lookup"><span data-stu-id="c27ea-131">DAX formulas in row filters are necessary only if you want to secure table data at the row-level.</span></span>  
  
##  <a name="dax-formulas-in-calculated-columns-measures-and-row-filters"></a><a name="bkmk_DAX"></a><span data-ttu-id="c27ea-132">Fórmulas DAX em colunas calculadas, medidas e filtros de linha</span><span class="sxs-lookup"><span data-stu-id="c27ea-132">DAX Formulas in Calculated Columns, Measures, and Row Filters</span></span>  
 <span data-ttu-id="c27ea-133">Para modelos de tabela criados no [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)], são usadas fórmulas DAX em colunas calculadas, medidas e filtros de linha.</span><span class="sxs-lookup"><span data-stu-id="c27ea-133">For tabular models authored in [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)], DAX formulas are used in calculated columns, measures, and row filters.</span></span>  
  
### <a name="calculated-columns"></a><span data-ttu-id="c27ea-134">Colunas calculadas</span><span class="sxs-lookup"><span data-stu-id="c27ea-134">Calculated Columns</span></span>  
 <span data-ttu-id="c27ea-135">Uma coluna calculada é aquela que você adiciona a uma tabela existente (no designer de modelo) e depois cria uma fórmula DAX que define os valores de coluna.</span><span class="sxs-lookup"><span data-stu-id="c27ea-135">A calculated column is a column that you add to an existing table (in the model designer) and then create a DAX formula that defines the column values.</span></span> <span data-ttu-id="c27ea-136">Para criar fórmulas para colunas calculadas no designer de modelos, use a barra de fórmulas.</span><span class="sxs-lookup"><span data-stu-id="c27ea-136">You create formulas for calculated columns in the model designer by using the formula bar.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="c27ea-137">As colunas calculadas não têm suporte para modelos que recuperam dados de uma fonte de dados relacional usando o modo DirectQuery.</span><span class="sxs-lookup"><span data-stu-id="c27ea-137">Calculated columns are not supported for models that retrieve data from a relational data source using DirectQuery mode.</span></span>  
  
 <span data-ttu-id="c27ea-138">Quando uma coluna calculada contém uma fórmula DAX válida, são calculados valores para cada linha assim que a fórmula é inserida.</span><span class="sxs-lookup"><span data-stu-id="c27ea-138">When a calculated column contains a valid DAX formula, values are calculated for each row as soon as the formula is entered.</span></span> <span data-ttu-id="c27ea-139">Os valores são então armazenados no banco de dados.</span><span class="sxs-lookup"><span data-stu-id="c27ea-139">Values are then stored in the database.</span></span> <span data-ttu-id="c27ea-140">Por exemplo, em uma tabela de Data, quando a fórmula `=[Calendar Year] & " Q" & [Calendar Quarter]` é inserida na barra de fórmulas, um valor para cada linha na tabela é calculado usando os valores da coluna Ano Calendário (na mesma tabela de Data), adicionando-se um espaço e o Q maiúsculo e depois os valores da coluna Trimestre Calendário (na mesma tabela Data).</span><span class="sxs-lookup"><span data-stu-id="c27ea-140">For example, in a Date table, when the formula `=[Calendar Year] & " Q" & [Calendar Quarter]` is entered into the formula bar, a value for each row in the table is calculated by taking values from the Calendar Year column (in the same Date table), adding a space and the capital letter Q, and then adding the values from the Calendar Quarter column (in the same Date table).</span></span> <span data-ttu-id="c27ea-141">O resultado de cada linha na coluna calculada é calculado imediatamente e aparece, por exemplo, como **2010 Q1**.</span><span class="sxs-lookup"><span data-stu-id="c27ea-141">The result for each row in the calculated column is calculated immediately and appears, for example, as **2010 Q1**.</span></span> <span data-ttu-id="c27ea-142">Só serão recalculados valores de coluna se os dados forem reprocessados.</span><span class="sxs-lookup"><span data-stu-id="c27ea-142">Column values are only recalculated if the data is re-processed.</span></span>  
  
 <span data-ttu-id="c27ea-143">Para obter mais informações, consulte [Colunas calculadas &#40;SSAS de Tabela&#41;](ssas-calculated-columns.md).</span><span class="sxs-lookup"><span data-stu-id="c27ea-143">For more information, see [Calculated Columns &#40;SSAS Tabular&#41;](ssas-calculated-columns.md).</span></span>  
  
### <a name="measures"></a><span data-ttu-id="c27ea-144">Medidas</span><span class="sxs-lookup"><span data-stu-id="c27ea-144">Measures</span></span>  
 <span data-ttu-id="c27ea-145">Medidas são fórmulas dinâmicas onde os resultados são alterados dependendo de contexto.</span><span class="sxs-lookup"><span data-stu-id="c27ea-145">Measures are dynamic formulas where the results change depending on context.</span></span> <span data-ttu-id="c27ea-146">As medidas são usadas em formatos de relatório que dão suporte a combinação e filtragem de dados de modelo usando vários atributos, como um relatório do [!INCLUDE[ssCrescent](../../includes/sscrescent-md.md)] ou uma Tabela Dinâmica ou um Gráfico Dinâmico do Excel.</span><span class="sxs-lookup"><span data-stu-id="c27ea-146">Measures are used in reporting formats that support combining and filtering model data by using multiple attributes such as a [!INCLUDE[ssCrescent](../../includes/sscrescent-md.md)] report or Excel PivotTable or PivotChart.</span></span> <span data-ttu-id="c27ea-147">Em projetos de modelo de tabela, as medidas são definidas pelo autor do modelo usando a grade de medida (e a barra de fórmulas) no designer de modelos no [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)].</span><span class="sxs-lookup"><span data-stu-id="c27ea-147">In tabular model projects, measures are defined by the model author by using the measure grid (and formula bar) in the model designer in [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)].</span></span>  
  
 <span data-ttu-id="c27ea-148">Uma fórmula em uma medida pode usar funções de agregação padrão automaticamente criadas pelo recurso AutoSoma, como COUNT ou SUM ou você pode definir sua própria fórmula usando o DAX.</span><span class="sxs-lookup"><span data-stu-id="c27ea-148">A formula in a measure can use standard aggregation functions automatically created by using the Autosum feature, such as COUNT or SUM, or you can define your own formula by using DAX.</span></span> <span data-ttu-id="c27ea-149">Quando você define uma fórmula para uma medida na barra de fórmulas, um recurso de Dica de ferramenta mostra uma visualização rápida do que os resultados seriam para o total no contexto atual, mas, do contrário, os resultados não são produzidos imediatamente em qualquer lugar.</span><span class="sxs-lookup"><span data-stu-id="c27ea-149">When you define a formula for a measure in the formula bar, a Tooltip feature shows a preview of what the results would be for the total in the current context, but otherwise the results are not immediately output anywhere.</span></span> <span data-ttu-id="c27ea-150">Outros detalhes de medida também aparecem no painel **Propriedades** .</span><span class="sxs-lookup"><span data-stu-id="c27ea-150">Other measure details also appear in the **Properties** pane.</span></span>  
  
 <span data-ttu-id="c27ea-151">A razão pela qual você não pode consultar os resultados filtrados do cálculo imediatamente é que o resultado de uma medida não pode ser determinado sem contexto.</span><span class="sxs-lookup"><span data-stu-id="c27ea-151">The reason you cannot see the (filtered) results of the calculation immediately is because the result of a measure cannot be determined without context.</span></span> <span data-ttu-id="c27ea-152">Para avaliar uma medida, é necessário um aplicativo cliente de relatório que pode fornecer o contexto necessário para recuperar os dados relevantes para cada célula e, em seguida, avaliar a expressão para cada célula.</span><span class="sxs-lookup"><span data-stu-id="c27ea-152">To evaluate a measure requires a reporting client application that can provide the context needed to retrieve the data relevant to each cell and then evaluate the expression for each cell.</span></span> <span data-ttu-id="c27ea-153">O cliente pode ser uma Tabela Dinâmica ou um Gráfico Dinâmico do Excel, um relatório do [!INCLUDE[ssCrescent](../../includes/sscrescent-md.md)] ou uma consulta MDX.</span><span class="sxs-lookup"><span data-stu-id="c27ea-153">That client might be an Excel PivotTable or PivotChart, a [!INCLUDE[ssCrescent](../../includes/sscrescent-md.md)] report, or an MDX query.</span></span> <span data-ttu-id="c27ea-154">Independentemente do cliente de relatório, uma consulta separada é executada para cada célula nos resultados.</span><span class="sxs-lookup"><span data-stu-id="c27ea-154">Regardless of the reporting client, a separate query is run for each cell in the results.</span></span> <span data-ttu-id="c27ea-155">Isso significa que cada combinação de cabeçalhos de linha e coluna em uma Tabela Dinâmica, ou cada seleção de segmentação de dados e filtros em um relatório do [!INCLUDE[ssCrescent](../../includes/sscrescent-md.md)] , gera um subconjunto diferente de dados sobre os quais a medida é calculada.</span><span class="sxs-lookup"><span data-stu-id="c27ea-155">That is to say, each combination of row and column headers in a PivotTable, or each selection of slicers and filters in a [!INCLUDE[ssCrescent](../../includes/sscrescent-md.md)] report, generates a different subset of data over which the measure is calculated.</span></span> <span data-ttu-id="c27ea-156">Por exemplo, em uma medida com uma fórmula `Total Sales:=SUM([Sales Amount])`, quando um usuário coloca a medida Total de Vendas na janela Valores em uma Tabela Dinâmica e depois coloca a coluna Categoria do Produto de uma tabela de Produto na janela Filtros, a soma de Valor das Vendas é calculada e exibida para cada categoria de produto.</span><span class="sxs-lookup"><span data-stu-id="c27ea-156">For example, in a measure with the formula, `Total Sales:=SUM([Sales Amount])`, when a user places the Total Sales measure in the Values window in a PivotTable, and then places the Product Category column from a Product table into the Filters window, the sum of Sales Amount is calculated and displayed for each product category.</span></span>  
  
 <span data-ttu-id="c27ea-157">Diferentemente das colunas calculadas e filtros de linha, a sintaxe de uma medida inclui o nome da medida que antecede a fórmula.</span><span class="sxs-lookup"><span data-stu-id="c27ea-157">Unlike calculated columns and row filters, the syntax for a measure includes the measure's name preceding the formula.</span></span> <span data-ttu-id="c27ea-158">No exemplo que acabamos de fornecer, o nome **Total de Vendas:** : aparece antes da fórmula.</span><span class="sxs-lookup"><span data-stu-id="c27ea-158">In the example just provided, the name **Total Sales:** appears preceding the formula.</span></span> <span data-ttu-id="c27ea-159">Depois que você criou uma medida, o nome e sua definição aparecem na Lista de Campos do aplicativo de cliente de relatório e, dependendo das perspectivas e funções, está disponível para todos os usuários do modelo dependendo das perspectivas e das funções.</span><span class="sxs-lookup"><span data-stu-id="c27ea-159">After you have created a measure, the name and its definition appear in the reporting client application Field List and depending on perspectives and roles is available to all users of the model.</span></span>  
  
 <span data-ttu-id="c27ea-160">Para obter mais informações, consulte [Medidas &#40;SSAS de Tabela&#41;](measures-ssas-tabular.md).</span><span class="sxs-lookup"><span data-stu-id="c27ea-160">For more information, see [Measures &#40;SSAS Tabular&#41;](measures-ssas-tabular.md).</span></span>  
  
### <a name="row-filters"></a><span data-ttu-id="c27ea-161">Filtros de linha</span><span class="sxs-lookup"><span data-stu-id="c27ea-161">Row Filters</span></span>  
 <span data-ttu-id="c27ea-162">Os filtros de linha definem quais linhas em uma tabela são visíveis a membros de uma função específica.</span><span class="sxs-lookup"><span data-stu-id="c27ea-162">Row filters define which rows in a table are visible to members of a particular role.</span></span> <span data-ttu-id="c27ea-163">Os filtros de linha podem ser criados para cada tabela em um modelo usando fórmulas DAX.</span><span class="sxs-lookup"><span data-stu-id="c27ea-163">Row filters can be created for each table in a model by using DAX formulas.</span></span> <span data-ttu-id="c27ea-164">São criados filtros de linha para uma função específica usando o Gerenciador de Funções no [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span><span class="sxs-lookup"><span data-stu-id="c27ea-164">Row filters are created for a particular role by using Role Manager in [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span></span> <span data-ttu-id="c27ea-165">Os filtros de linha também podem ser definidos para um modelo implantado usando as Propriedades de Função no [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span><span class="sxs-lookup"><span data-stu-id="c27ea-165">Row filters can also be defined for a deployed model by using Role Properties in [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span></span>  
  
 <span data-ttu-id="c27ea-166">Em um filtro de linha, uma fórmula DAX, que deve ser avaliada como uma condição booliana TRUE/FALSE, define quais as linhas que poderão ser retornadas pelos resultados de uma consulta por membros dessa função específica.</span><span class="sxs-lookup"><span data-stu-id="c27ea-166">In a row filter, a DAX formula, which must evaluate to a Boolean TRUE/FALSE condition, defines which rows can be returned by the results of a query by members of that particular role.</span></span> <span data-ttu-id="c27ea-167">As linhas não incluídas na fórmula DAX não poderão ser retornadas.</span><span class="sxs-lookup"><span data-stu-id="c27ea-167">Rows not included in the DAX formula cannot be returned.</span></span> <span data-ttu-id="c27ea-168">Por exemplo, para membros da função Vendas, a tabela de Clientes com a seguinte fórmula DAX: `=Customers[Country] = "USA"`somente poderá exibir dados para clientes nos EUA e agregações, como SUM, são retornadas apenas para clientes nos EUA.</span><span class="sxs-lookup"><span data-stu-id="c27ea-168">For example, for members of the Sales role, the Customers table with the following DAX formula, `=Customers[Country] = "USA"`, members of the Sales role will only be able to view data for customers in the USA, and aggregates, such as SUM are returned only for customers in the USA.</span></span>  
  
 <span data-ttu-id="c27ea-169">Quando você define um filtro de linha usando a fórmula do DAX, está criando um conjunto de linha permitido.</span><span class="sxs-lookup"><span data-stu-id="c27ea-169">When you define a row filter by using DAX formula, you are creating an allowed row set.</span></span> <span data-ttu-id="c27ea-170">Isto não nega acesso a outras linhas; em vez disso, elas simplesmente não são retornadas como parte do conjunto de linha permitido.</span><span class="sxs-lookup"><span data-stu-id="c27ea-170">This does not deny access to other rows; rather, they are simply not returned as part of the allowed row set.</span></span> <span data-ttu-id="c27ea-171">Outras funções podem permitir acesso às linhas excluídas pela fórmula do DAX.</span><span class="sxs-lookup"><span data-stu-id="c27ea-171">Other roles can allow access to the rows excluded by the DAX formula.</span></span> <span data-ttu-id="c27ea-172">Se um usuário for membro de outra função e os filtros de linha dessa função permitirem acesso a esse conjunto de linhas específico, o usuário poderá exibir os dados dessa linha.</span><span class="sxs-lookup"><span data-stu-id="c27ea-172">If a user is a member of another role, and that role's row filters allow access to that particular row set, the user can view data for that row.</span></span>  
  
 <span data-ttu-id="c27ea-173">Os filtros de linha aplicam-se às linhas especificadas e também a linhas relacionadas.</span><span class="sxs-lookup"><span data-stu-id="c27ea-173">Row filters apply to the specified rows as well as related rows.</span></span> <span data-ttu-id="c27ea-174">Quando uma tabela tiver várias relações, os filtros aplicam segurança para a relação que está ativa.</span><span class="sxs-lookup"><span data-stu-id="c27ea-174">When a table has multiple relationships, filters apply security for the relationship that is active.</span></span> <span data-ttu-id="c27ea-175">Os filtros de linha serão intersectados com outros filtros de linha definidos para tabelas relacionadas.</span><span class="sxs-lookup"><span data-stu-id="c27ea-175">Row filters will be intersected with other row filters defined for related tables.</span></span>  
  
 <span data-ttu-id="c27ea-176">Para obter mais informações, consulte [Funções &#40;SSAS de Tabela&#41;](roles-ssas-tabular.md).</span><span class="sxs-lookup"><span data-stu-id="c27ea-176">For more information, see [Roles &#40;SSAS Tabular&#41;](roles-ssas-tabular.md).</span></span>  
  
##  <a name="dax-data-types"></a><a name="bkmk_DAX_datatypes"></a> <span data-ttu-id="c27ea-177">Tipos de dados DAX</span><span class="sxs-lookup"><span data-stu-id="c27ea-177">DAX Data Types</span></span>  
 <span data-ttu-id="c27ea-178">É possível importar para um modelo de diversas fontes de dados diferentes que podem dar suporte a diferentes tipos de dados.</span><span class="sxs-lookup"><span data-stu-id="c27ea-178">You can import data into a model from many different data sources that might support different data types.</span></span> <span data-ttu-id="c27ea-179">Quando você importa os dados em um modelo, os dados são convertidos em um dos tipos de dados de modelo de tabela.</span><span class="sxs-lookup"><span data-stu-id="c27ea-179">When you import data into a model, the data is converted to one of the tabular model data types.</span></span> <span data-ttu-id="c27ea-180">Quando os dados de modelo são usados em um cálculo, os dados são convertidos em um tipo de dados DAX para a duração e a saída do cálculo.</span><span class="sxs-lookup"><span data-stu-id="c27ea-180">When the model data is used in a calculation, the data is then converted to a DAX data type for the duration and output of the calculation.</span></span> <span data-ttu-id="c27ea-181">Quando você cria uma fórmula DAX, os termos usados na fórmula determinarão o tipo de dados de valor retornado automaticamente.</span><span class="sxs-lookup"><span data-stu-id="c27ea-181">When you create a DAX formula, the terms used in the formula will automatically determine the value data type returned.</span></span>  
  
 <span data-ttu-id="c27ea-182">Modelos de tabela e DAX oferecem suporte aos seguintes tipos de dados:</span><span class="sxs-lookup"><span data-stu-id="c27ea-182">Tabular models, and DAX, support the following data types:</span></span>  
  
|<span data-ttu-id="c27ea-183">Tipo de dados em modelo</span><span class="sxs-lookup"><span data-stu-id="c27ea-183">Data type in model</span></span>|<span data-ttu-id="c27ea-184">Tipos de dados em DAX</span><span class="sxs-lookup"><span data-stu-id="c27ea-184">Data type in DAX</span></span>|<span data-ttu-id="c27ea-185">Descrição</span><span class="sxs-lookup"><span data-stu-id="c27ea-185">Description</span></span>|  
|------------------------|----------------------|-----------------|  
|<span data-ttu-id="c27ea-186">Número Inteiro</span><span class="sxs-lookup"><span data-stu-id="c27ea-186">Whole Number</span></span>|<span data-ttu-id="c27ea-187">Um valor inteiro de 64 bits (oito bytes) <sup>1, 2</sup></span><span class="sxs-lookup"><span data-stu-id="c27ea-187">A 64 bit (eight-bytes) integer value <sup>1, 2</sup></span></span>|<span data-ttu-id="c27ea-188">Números sem casas decimais.</span><span class="sxs-lookup"><span data-stu-id="c27ea-188">Numbers that have no decimal places.</span></span> <span data-ttu-id="c27ea-189">Inteiros podem ser números positivos ou negativos, mas devem ser números inteiros entre -9.223.372.036.854.775.808 (-2^63) e 9.223.372.036.854.775.807 (2^63-1).</span><span class="sxs-lookup"><span data-stu-id="c27ea-189">Integers can be positive or negative numbers, but must be whole numbers between -9,223,372,036,854,775,808 (-2^63) and 9,223,372,036,854,775,807 (2^63-1).</span></span>|  
|<span data-ttu-id="c27ea-190">Número Decimal</span><span class="sxs-lookup"><span data-stu-id="c27ea-190">Decimal Number</span></span>|<span data-ttu-id="c27ea-191">Um número real de 64 bits (oito bytes) <sup>1, 2</sup></span><span class="sxs-lookup"><span data-stu-id="c27ea-191">A 64 bit (eight-bytes) real number <sup>1, 2</sup></span></span>|<span data-ttu-id="c27ea-192">Números reais são números que podem ter casas decimais.</span><span class="sxs-lookup"><span data-stu-id="c27ea-192">Real numbers are numbers that can have decimal places.</span></span> <span data-ttu-id="c27ea-193">Os números reais abrangem uma grande variedade de valores:</span><span class="sxs-lookup"><span data-stu-id="c27ea-193">Real numbers cover a wide range of values:</span></span><br /><br /> <span data-ttu-id="c27ea-194">Valores negativos de -1,79E +308 a -2,23E -308</span><span class="sxs-lookup"><span data-stu-id="c27ea-194">Negative values from -1.79E +308 through -2.23E -308</span></span><br /><br /> <span data-ttu-id="c27ea-195">Zero</span><span class="sxs-lookup"><span data-stu-id="c27ea-195">Zero</span></span><br /><br /> <span data-ttu-id="c27ea-196">Valores positivos de 2,23E -308 a 1,79E + 308</span><span class="sxs-lookup"><span data-stu-id="c27ea-196">Positive values from 2.23E -308 through 1.79E + 308</span></span><br /><br /> <span data-ttu-id="c27ea-197">No entanto, o número de dígitos significativos está limitado a 17 dígitos decimais.</span><span class="sxs-lookup"><span data-stu-id="c27ea-197">However, the number of significant digits is limited to 17 decimal digits.</span></span>|  
|<span data-ttu-id="c27ea-198">Booliano</span><span class="sxs-lookup"><span data-stu-id="c27ea-198">Boolean</span></span>|<span data-ttu-id="c27ea-199">Booliano</span><span class="sxs-lookup"><span data-stu-id="c27ea-199">Boolean</span></span>|<span data-ttu-id="c27ea-200">Um valor True ou False.</span><span class="sxs-lookup"><span data-stu-id="c27ea-200">Either a True or False value.</span></span>|  
|<span data-ttu-id="c27ea-201">Texto</span><span class="sxs-lookup"><span data-stu-id="c27ea-201">Text</span></span>|<span data-ttu-id="c27ea-202">String</span><span class="sxs-lookup"><span data-stu-id="c27ea-202">String</span></span>|<span data-ttu-id="c27ea-203">Uma cadeia de caracteres de dados de caractere Unicode.</span><span class="sxs-lookup"><span data-stu-id="c27ea-203">A Unicode character data string.</span></span> <span data-ttu-id="c27ea-204">Podem ser cadeias de caracteres, números ou datas representados em um formato de texto.</span><span class="sxs-lookup"><span data-stu-id="c27ea-204">Can be strings, numbers or dates represented in a text format.</span></span>|  
|<span data-ttu-id="c27ea-205">Data</span><span class="sxs-lookup"><span data-stu-id="c27ea-205">Date</span></span>|<span data-ttu-id="c27ea-206">Data/hora</span><span class="sxs-lookup"><span data-stu-id="c27ea-206">Date/time</span></span>|<span data-ttu-id="c27ea-207">Datas e horas em uma representação de data-hora aceita.</span><span class="sxs-lookup"><span data-stu-id="c27ea-207">Dates and times in an accepted date-time representation.</span></span><br /><br /> <span data-ttu-id="c27ea-208">As datas válidas são todas as datas depois de 1º de março de 1900.</span><span class="sxs-lookup"><span data-stu-id="c27ea-208">Valid dates are all dates after March 1, 1900.</span></span>|  
|<span data-ttu-id="c27ea-209">Moeda</span><span class="sxs-lookup"><span data-stu-id="c27ea-209">Currency</span></span>|<span data-ttu-id="c27ea-210">Moeda</span><span class="sxs-lookup"><span data-stu-id="c27ea-210">Currency</span></span>|<span data-ttu-id="c27ea-211">O tipo de dados de moeda permite valores entre -922.337.203.685.477,5808 e 922.337.203.685.477,5807 com quatro dígitos decimais de precisão fixa.</span><span class="sxs-lookup"><span data-stu-id="c27ea-211">Currency data type allows values between -922,337,203,685,477.5808 to 922,337,203,685,477.5807 with four decimal digits of fixed precision.</span></span>|  
|<span data-ttu-id="c27ea-212">N/D</span><span class="sxs-lookup"><span data-stu-id="c27ea-212">N/A</span></span>|<span data-ttu-id="c27ea-213">Em Branco</span><span class="sxs-lookup"><span data-stu-id="c27ea-213">Blank</span></span>|<span data-ttu-id="c27ea-214">Um espaço em branco é um tipo de dados no DAX que representa e substitui nulos SQL.</span><span class="sxs-lookup"><span data-stu-id="c27ea-214">A blank is a data type in DAX that represents and replaces SQL nulls.</span></span> <span data-ttu-id="c27ea-215">É possível criar um espaço em branco usando a função BLANK e testar se há espaços em branco usando a função lógica, ISBLANK.</span><span class="sxs-lookup"><span data-stu-id="c27ea-215">You can create a blank by using the BLANK function, and test for blanks by using the logical function, ISBLANK.</span></span>|  
  
 <span data-ttu-id="c27ea-216">Os modelos de tabela também incluem o tipo de dados como a entrada ou a saída para muitas funções DAX.</span><span class="sxs-lookup"><span data-stu-id="c27ea-216">Tabular models also include the Table data type as the input or output to many DAX functions.</span></span> <span data-ttu-id="c27ea-217">Por exemplo, a função FILTER usa uma tabela como entrada e gera outra tabela que contém apenas as linhas que atendam às condições do filtro.</span><span class="sxs-lookup"><span data-stu-id="c27ea-217">For example, the FILTER function takes a table as input and outputs another table that contains only the rows that meet the filter conditions.</span></span> <span data-ttu-id="c27ea-218">Ao combinar funções de tabela com funções de agregação, você pode executar cálculos complexos em conjuntos de dados definidos de forma dinâmica.</span><span class="sxs-lookup"><span data-stu-id="c27ea-218">By combining table functions with aggregation functions, you can perform complex calculations over dynamically defined data sets.</span></span>  
  
 <span data-ttu-id="c27ea-219">Embora os tipos de dados em geral sejam definidos automaticamente, é importante entendê-los e saber como se aplicam, em particular, a fórmulas DAX.</span><span class="sxs-lookup"><span data-stu-id="c27ea-219">While data types are typically automatically set, it is important to understand data types and how they apply, in-particular, to DAX formulas.</span></span> <span data-ttu-id="c27ea-220">Erros em fórmulas ou resultados inesperados, por exemplo, são causados frequentemente pelo uso de um operador específico que não pode ser usado com um tipo de dados especificado em um argumento.</span><span class="sxs-lookup"><span data-stu-id="c27ea-220">Errors in formulas or unexpected results, for example, are often caused by using a particular operator that cannot be used with a data type specified in an argument.</span></span> <span data-ttu-id="c27ea-221">Por exemplo, a fórmula `= 1 & 2`retorna um resultado de cadeia de caracteres de 12.</span><span class="sxs-lookup"><span data-stu-id="c27ea-221">For example, the formula, `= 1 & 2`, returns a string result of 12.</span></span> <span data-ttu-id="c27ea-222">A fórmula `= "1" + "2"`, no entanto, retorna um resultado de inteiro de 3.</span><span class="sxs-lookup"><span data-stu-id="c27ea-222">The formula, `= "1" + "2"`, however, returns an integer result of 3.</span></span>  
  
 <span data-ttu-id="c27ea-223">Para obter informações detalhadas sobre tipos de dados em modelos de tabela e conversões implícitas e explícitas de tipos de dados no DAX, consulte [Tipos de dados com suporte &#40;SSAS tabular&#41;](data-types-supported-ssas-tabular.md).</span><span class="sxs-lookup"><span data-stu-id="c27ea-223">For detailed information about data types in tabular models and explicit and implicit conversions of data types in DAX, see [Data Types Supported &#40;SSAS Tabular&#41;](data-types-supported-ssas-tabular.md).</span></span>  
  
##  <a name="dax-operators"></a><a name="bkmk_DAX_opertors"></a><span data-ttu-id="c27ea-224">Operadores DAX</span><span class="sxs-lookup"><span data-stu-id="c27ea-224">DAX Operators</span></span>  
 <span data-ttu-id="c27ea-225">A linguagem DAX usa quatro tipos diferentes de operadores de cálculo em fórmulas:</span><span class="sxs-lookup"><span data-stu-id="c27ea-225">The DAX language uses four different types of calculation operators in formulas:</span></span>  
  
-   <span data-ttu-id="c27ea-226">Operadores de comparação para comparar valores e retornar um valor TRUE\FALSE lógico.</span><span class="sxs-lookup"><span data-stu-id="c27ea-226">Comparison operators to compare values and return a logical TRUE\FALSE value.</span></span>  
  
-   <span data-ttu-id="c27ea-227">Operadores aritméticos para executar cálculos aritméticos que retornam valores numéricos.</span><span class="sxs-lookup"><span data-stu-id="c27ea-227">Arithmetic operators to perform arithmetic calculations that return numeric values.</span></span>  
  
-   <span data-ttu-id="c27ea-228">Operadores de concatenação de texto para unir duas ou mais cadeias de caracteres de texto.</span><span class="sxs-lookup"><span data-stu-id="c27ea-228">Text concatenation operators to join two or more text strings.</span></span>  
  
-   <span data-ttu-id="c27ea-229">Operadores lógicos que combinam duas ou mais expressões para retornar um único resultado.</span><span class="sxs-lookup"><span data-stu-id="c27ea-229">Logical operators that combine two or more expressions to return a single result.</span></span>  
  
 <span data-ttu-id="c27ea-230">Para obter informações detalhadas sobre operadores usados em fórmulas DAX, consulte [DAX Operator Reference for PowerPivot](/dax/dax-operator-reference).</span><span class="sxs-lookup"><span data-stu-id="c27ea-230">For detailed information about operators used in DAX formulas, see [DAX Operator Reference for PowerPivot](/dax/dax-operator-reference).</span></span>  
  
##  <a name="dax-formulas"></a><a name="bkmk_DAX_Formulas"></a><span data-ttu-id="c27ea-231">Fórmulas DAX</span><span class="sxs-lookup"><span data-stu-id="c27ea-231">DAX Formulas</span></span>  
 <span data-ttu-id="c27ea-232">As fórmulas DAX são essenciais para criar cálculos em colunas calculadas e medidas e proteger seus dados usando filtros de nível de linha.</span><span class="sxs-lookup"><span data-stu-id="c27ea-232">DAX formulas are essential for creating calculations in calculated columns and measures, and securing your data by using row level filters.</span></span> <span data-ttu-id="c27ea-233">Para criar fórmulas para colunas calculadas e medidas, você usará a barra de fórmulas ao longo da parte superior da janela do designer de modelos.</span><span class="sxs-lookup"><span data-stu-id="c27ea-233">To create formulas for calculated columns and measures, you will use the formula bar along the top of the model designer window.</span></span> <span data-ttu-id="c27ea-234">Para criar fórmulas para filtros de linha, você usará a caixa de diálogo Gerenciador de Funções.</span><span class="sxs-lookup"><span data-stu-id="c27ea-234">To create formulas for row filters, you will use the Role Manager dialog box.</span></span> <span data-ttu-id="c27ea-235">As informações nesta seção têm o objetivo de proporcionar a você o entendimento dos fundamentos das fórmulas DAX.</span><span class="sxs-lookup"><span data-stu-id="c27ea-235">Information in this section is meant to get you started with understanding the basics of DAX formulas.</span></span>  
  
###  <a name="formula-basics"></a><a name="basics"></a> <span data-ttu-id="c27ea-236">Fundamentos de fórmula</span><span class="sxs-lookup"><span data-stu-id="c27ea-236">Formula Basics</span></span>  
 <span data-ttu-id="c27ea-237">O DAX permite que os autores de modelos de tabela definam cálculos personalizados em ambas as tabelas de modelo, como parte de colunas calculadas, e como medidas associadas a tabelas, mas não aparecendo diretamente nelas.</span><span class="sxs-lookup"><span data-stu-id="c27ea-237">DAX enables tabular model authors to define custom calculations in both model tables, as part of calculated columns, and as measures associated with tables, but not appearing directly in them.</span></span> <span data-ttu-id="c27ea-238">O DAX também permite que os autores de modelo protejam dados, criando cálculos que retornam um valor booliano que define quais linhas em uma tabela específica ou relacionada podem ser consultadas por usuários membros da função associada.</span><span class="sxs-lookup"><span data-stu-id="c27ea-238">DAX also enables model authors to secure data, by creating calculations that return a Boolean value defining which rows in a particular or related table can be queried by member users of the associated role.</span></span>  
  
 <span data-ttu-id="c27ea-239">As fórmulas DAX podem ser muito simples ou bastante complexas.</span><span class="sxs-lookup"><span data-stu-id="c27ea-239">DAX formulas can be very simple or quite complex.</span></span> <span data-ttu-id="c27ea-240">A tabela a seguir mostra alguns exemplos de fórmulas simples que poderiam ser usadas em uma coluna calculada.</span><span class="sxs-lookup"><span data-stu-id="c27ea-240">The following table shows some examples of simple formulas that could be used in a calculated column.</span></span>  
  
|||  
|-|-|  
|<span data-ttu-id="c27ea-241">Fórmula</span><span class="sxs-lookup"><span data-stu-id="c27ea-241">Formula</span></span>|<span data-ttu-id="c27ea-242">Descrição</span><span class="sxs-lookup"><span data-stu-id="c27ea-242">Description</span></span>|  
|`=TODAY()`|<span data-ttu-id="c27ea-243">Insere a data de hoje em cada linha da coluna.</span><span class="sxs-lookup"><span data-stu-id="c27ea-243">Inserts today's date in every row of the column.</span></span>|  
|`=3`|<span data-ttu-id="c27ea-244">Insere o valor 3 em cada linha da coluna.</span><span class="sxs-lookup"><span data-stu-id="c27ea-244">Inserts the value 3 in every row of the column.</span></span>|  
|`=[Column1] + [Column2]`|<span data-ttu-id="c27ea-245">Adiciona os valores na mesma linha de [Column1] e [Column2], além de colocar os resultados na coluna calculada da mesma linha.</span><span class="sxs-lookup"><span data-stu-id="c27ea-245">Adds the values in the same row of [Column1] and [Column2] and puts the results in the calculated column of the same row.</span></span>|  
  
 <span data-ttu-id="c27ea-246">Se a fórmula que você criar for simples ou complexa, você poderá usar as etapas seguintes ao compilar uma fórmula:</span><span class="sxs-lookup"><span data-stu-id="c27ea-246">Whether the formula you create is simple or complex, you can use the following steps when building a formula:</span></span>  
  
1.  <span data-ttu-id="c27ea-247">Cada fórmula deve começar com um sinal de igualdade.</span><span class="sxs-lookup"><span data-stu-id="c27ea-247">Each formula must begin with an equal sign.</span></span>  
  
2.  <span data-ttu-id="c27ea-248">É possível digitar ou selecionar um nome de função ou digitar uma expressão.</span><span class="sxs-lookup"><span data-stu-id="c27ea-248">You can either type or select a function name, or type an expression.</span></span>  
  
3.  <span data-ttu-id="c27ea-249">Comece digitando as primeiras letras da função ou do nome desejado; o recurso Preenchimento Automático exibirá uma lista das funções, tabelas e colunas disponíveis.</span><span class="sxs-lookup"><span data-stu-id="c27ea-249">Begin to type the first few letters of the function or name you want, and AutoComplete displays a list of available functions, tables, and columns.</span></span> <span data-ttu-id="c27ea-250">Pressione TAB para adicionar um item da lista Preenchimento Automático à fórmula.</span><span class="sxs-lookup"><span data-stu-id="c27ea-250">Press TAB to add an item from the AutoComplete list to the formula.</span></span>  
  
     <span data-ttu-id="c27ea-251">Você também pode clicar no botão **Fx** para exibir uma lista das funções disponíveis.</span><span class="sxs-lookup"><span data-stu-id="c27ea-251">You can also click the **Fx** button to display a list of available functions.</span></span> <span data-ttu-id="c27ea-252">Para selecionar uma função na lista suspensa, use as teclas de direção para realçar o item e clique em **OK** para adicionar a função à fórmula.</span><span class="sxs-lookup"><span data-stu-id="c27ea-252">To select a function from the dropdown list, use the arrow keys to highlight the item, and click **OK** to add the function to the formula.</span></span>  
  
4.  <span data-ttu-id="c27ea-253">Forneça os argumentos à função selecionando-os em uma lista suspensa de possíveis tabelas e colunas, ou digitando valores.</span><span class="sxs-lookup"><span data-stu-id="c27ea-253">Supply the arguments to the function by selecting them from a dropdown list of possible tables and columns, or by typing in values.</span></span>  
  
5.  <span data-ttu-id="c27ea-254">Verifique se há erros de sintaxe: verifique se todos os parênteses estão fechados, e se colunas, tabelas e valores estão referenciados corretamente.</span><span class="sxs-lookup"><span data-stu-id="c27ea-254">Check for syntax errors: ensure that all parentheses are closed and columns, tables and values are referenced correctly.</span></span>  
  
6.  <span data-ttu-id="c27ea-255">Pressione ENTER para aceitar a fórmula.</span><span class="sxs-lookup"><span data-stu-id="c27ea-255">Press ENTER to accept the formula.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="c27ea-256">Em uma coluna calculada, assim que você aceita a fórmula, e a fórmula é validada, a coluna é preenchida com valores.</span><span class="sxs-lookup"><span data-stu-id="c27ea-256">In a calculated column, as soon as you accept the formula and the formula is validated, the column is populated with values.</span></span> <span data-ttu-id="c27ea-257">Em uma medida, pressionar ENTER salva a definição da medida ma grade de medida com a tabela.</span><span class="sxs-lookup"><span data-stu-id="c27ea-257">In a measure, pressing ENTER saves the measure definition in the measure grid with the table.</span></span> <span data-ttu-id="c27ea-258">Se uma fórmula estiver inválida, um erro será exibido.</span><span class="sxs-lookup"><span data-stu-id="c27ea-258">If a formula is invalid, an error will be displayed.</span></span>  
  
 <span data-ttu-id="c27ea-259">Neste exemplo, nós examinaremos uma fórmula mais complexa em uma medida chamada Dias do Trimestre Atual:</span><span class="sxs-lookup"><span data-stu-id="c27ea-259">In this example, we will look at a more complex formula in a measure named Days in Current Quarter:</span></span>  
  
```  
Days in Current Quarter:=COUNTROWS( DATESBETWEEN( 'Date'[Date], STARTOFQUARTER( LASTDATE('Date'[Date])), ENDOFQUARTER('Date'[Date])))  
```  
  
 <span data-ttu-id="c27ea-260">Essa medida é usada para criar uma taxa de comparação entre um período incompleto e o período anterior.</span><span class="sxs-lookup"><span data-stu-id="c27ea-260">This measure is used to create a comparison ratio between an incomplete period and the previous period.</span></span> <span data-ttu-id="c27ea-261">A fórmula deve levar em conta a proporção do período decorrido e compará-la à mesma proporção do período anterior.</span><span class="sxs-lookup"><span data-stu-id="c27ea-261">The formula must take into account the proportion of the period that has elapsed, and compare it to the same proportion in the previous period.</span></span> <span data-ttu-id="c27ea-262">Nesse caso, [Dias – Trimestre Atual até Hoje]/[Dias do Trimestre Atual] fornece a proporção decorrida no período atual.</span><span class="sxs-lookup"><span data-stu-id="c27ea-262">In this case, [Days Current Quarter to Date]/[Days in Current Quarter] gives the proportion elapsed in the current period.</span></span>  
  
 <span data-ttu-id="c27ea-263">Essa fórmula contém os seguintes elementos:</span><span class="sxs-lookup"><span data-stu-id="c27ea-263">This formula contains the following elements:</span></span>  
  
|<span data-ttu-id="c27ea-264">Elemento Formula</span><span class="sxs-lookup"><span data-stu-id="c27ea-264">Formula element</span></span>|<span data-ttu-id="c27ea-265">Descrição</span><span class="sxs-lookup"><span data-stu-id="c27ea-265">Description</span></span>|  
|---------------------|-----------------|  
|`Days in Current Quarter:=`|<span data-ttu-id="c27ea-266">O nome da medida.</span><span class="sxs-lookup"><span data-stu-id="c27ea-266">The name of the measure.</span></span>|  
|`=`|<span data-ttu-id="c27ea-267">O sinal de igualdade (=) inicia a fórmula.</span><span class="sxs-lookup"><span data-stu-id="c27ea-267">The equals sign (=) begins the formula.</span></span>|  
|`COUNTROWS`|<span data-ttu-id="c27ea-268">A [função COUNTROWS &#40;DAX&#41;](/dax/countrows-function-dax) conta o número de linhas na tabela Date</span><span class="sxs-lookup"><span data-stu-id="c27ea-268">The [COUNTROWS Function &#40;DAX&#41;](/dax/countrows-function-dax) counts the number of rows in the Date table</span></span>|  
|`()`|<span data-ttu-id="c27ea-269">Os parênteses de abertura e fechamento especificam argumentos.</span><span class="sxs-lookup"><span data-stu-id="c27ea-269">Open and closing parenthesis specifies arguments.</span></span>|  
|`DATESBETWEEN`|<span data-ttu-id="c27ea-270">A função DATESBETWEEN retorna as datas entre a última data de cada valor na coluna Data na tabela de Data.</span><span class="sxs-lookup"><span data-stu-id="c27ea-270">The DATESBETWEEN function returns the dates between the last date for each value in the Date column in the Date table.</span></span>|  
|`'Date'`|<span data-ttu-id="c27ea-271">Especifica a tabela de Data.</span><span class="sxs-lookup"><span data-stu-id="c27ea-271">Specifies the Date table.</span></span> <span data-ttu-id="c27ea-272">As tabelas estão entre aspas simples.</span><span class="sxs-lookup"><span data-stu-id="c27ea-272">Tables are in single quotes.</span></span>|  
|`[Date]`|<span data-ttu-id="c27ea-273">Especifica a coluna Data na tabela de Data.</span><span class="sxs-lookup"><span data-stu-id="c27ea-273">Specifies the Date column in the Date table.</span></span> <span data-ttu-id="c27ea-274">As colunas estão entre colchetes.</span><span class="sxs-lookup"><span data-stu-id="c27ea-274">Columns are in brackets.</span></span>|  
|`,`||  
|`STARTOFQUARTER`|<span data-ttu-id="c27ea-275">A função STARTOFQUARTER retorna a data do início do trimestre.</span><span class="sxs-lookup"><span data-stu-id="c27ea-275">The STARTOFQUARTER function returns the date of the start of the quarter.</span></span>|  
|`LASTDATE`|<span data-ttu-id="c27ea-276">A função LASTDATE retorna a última data do trimestre.</span><span class="sxs-lookup"><span data-stu-id="c27ea-276">The LASTDATE function returns the last date of the quarter.</span></span>|  
|`'Date'`|<span data-ttu-id="c27ea-277">Especifica a tabela de Data.</span><span class="sxs-lookup"><span data-stu-id="c27ea-277">Specifies the Date table.</span></span>|  
|`[Date]`|<span data-ttu-id="c27ea-278">Especifica a coluna Data na tabela de Data.</span><span class="sxs-lookup"><span data-stu-id="c27ea-278">Specifies the Date column in the Date table.</span></span>|  
|`,`||  
|`ENDOFQUARTER`|<span data-ttu-id="c27ea-279">A função ENDOFQUARTER</span><span class="sxs-lookup"><span data-stu-id="c27ea-279">The ENDOFQUARTER function</span></span>|  
|`'Date'`|<span data-ttu-id="c27ea-280">Especifica a tabela de Data.</span><span class="sxs-lookup"><span data-stu-id="c27ea-280">Specifies the Date table.</span></span>|  
|`[Date]`|<span data-ttu-id="c27ea-281">Especifica a coluna Data na tabela de Data.</span><span class="sxs-lookup"><span data-stu-id="c27ea-281">Specifies the Date column in the Date table.</span></span>|  
  
#### <a name="using-formula-autocomplete"></a><span data-ttu-id="c27ea-282">Usando o Preenchimento Automático de fórmulas</span><span class="sxs-lookup"><span data-stu-id="c27ea-282">Using Formula AutoComplete</span></span>  
 <span data-ttu-id="c27ea-283">A barra de fórmulas no designer de modelos e a janela Filtros de Linha da fórmula na caixa de diálogo Gerenciador de Funções fornecem um recurso de Preenchimento Automático.</span><span class="sxs-lookup"><span data-stu-id="c27ea-283">Both the formula bar in the model designer and the formula Row Filters window in the Role Manager dialog box provide an AutoComplete feature.</span></span> <span data-ttu-id="c27ea-284">O Preenchimento Automático o ajuda a inserir uma sintaxe de fórmula válida fornecendo opções para cada elemento na fórmula.</span><span class="sxs-lookup"><span data-stu-id="c27ea-284">AutoComplete helps you enter a valid formula syntax by providing you with options for each element in the formula.</span></span>  
  
-   <span data-ttu-id="c27ea-285">É possível usar a opção AutoCompletar Fórmula no meio de uma fórmula existente com funções aninhadas.</span><span class="sxs-lookup"><span data-stu-id="c27ea-285">You can use Formula AutoComplete in the middle of an existing formula with nested functions.</span></span> <span data-ttu-id="c27ea-286">O texto pouco antes do ponto de inserção é usado para exibir valores na lista suspensa, e todo o texto depois do ponto de inserção permanece inalterado.</span><span class="sxs-lookup"><span data-stu-id="c27ea-286">The text immediately before the insertion point is used to display values in the drop-down list, and all of the text after the insertion point remains unchanged.</span></span>  
  
-   <span data-ttu-id="c27ea-287">O Preenchimento Automático não adiciona parênteses de fechamento das funções, nem compara parênteses automaticamente.</span><span class="sxs-lookup"><span data-stu-id="c27ea-287">AutoComplete does not add the closing parenthesis of functions or automatically match parentheses.</span></span> <span data-ttu-id="c27ea-288">Você deve verificar se cada função está sintaticamente correta; caso contrário, não poderá salvar nem usar a fórmula.</span><span class="sxs-lookup"><span data-stu-id="c27ea-288">You must make sure that each function is syntactically correct or you cannot save or use the formula.</span></span>  
  
#### <a name="using-multiple-functions-in-a-formula"></a><span data-ttu-id="c27ea-289">Usando várias funções em uma fórmula</span><span class="sxs-lookup"><span data-stu-id="c27ea-289">Using Multiple Functions in a Formula</span></span>  
 <span data-ttu-id="c27ea-290">Você pode aninhar funções, o que significa que você usa os resultados de uma função como um argumento de outra função.</span><span class="sxs-lookup"><span data-stu-id="c27ea-290">You can nest functions, meaning that you use the results from one function as an argument of another function.</span></span> <span data-ttu-id="c27ea-291">Você pode aninhar até 64 níveis de funções em colunas calculadas.</span><span class="sxs-lookup"><span data-stu-id="c27ea-291">You can nest up to 64 levels of functions in calculated columns.</span></span> <span data-ttu-id="c27ea-292">Entretanto, o aninhamento pode dificultar a criação ou a solução de problemas em fórmulas.</span><span class="sxs-lookup"><span data-stu-id="c27ea-292">However, nesting can make it difficult to create or troubleshoot formulas.</span></span>  
  
 <span data-ttu-id="c27ea-293">Muitas funções destinam-se ao uso somente como funções aninhadas.</span><span class="sxs-lookup"><span data-stu-id="c27ea-293">Many functions are designed to be used solely as nested functions.</span></span> <span data-ttu-id="c27ea-294">Essas funções retornam uma tabela, que não pode ser salva diretamente como um resultado; mas deve ser fornecida como entrada para uma função de tabela.</span><span class="sxs-lookup"><span data-stu-id="c27ea-294">These functions return a table, which cannot be directly saved as a result; it must be provided as input to a table function.</span></span> <span data-ttu-id="c27ea-295">Por exemplo, as funções SUMX, AVERAGEX e MINX requerem uma tabela como o primeiro argumento.</span><span class="sxs-lookup"><span data-stu-id="c27ea-295">For example, the functions SUMX, AVERAGEX, and MINX all require a table as the first argument.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="c27ea-296">Alguns limites são aplicados dentro de medidas no aninhamento de funções, para garantir que o desempenho não seja afetado pelos diversos cálculos necessários para as dependências entre colunas.</span><span class="sxs-lookup"><span data-stu-id="c27ea-296">Some limits are applied within measures on nesting of functions to ensure that performance is not affected by the many calculations required by dependencies among columns.</span></span>  
  
##  <a name="dax-functions"></a><a name="bkmk_DAX_functions"></a> <span data-ttu-id="c27ea-297">Funções DAX</span><span class="sxs-lookup"><span data-stu-id="c27ea-297">DAX Functions</span></span>  
 <span data-ttu-id="c27ea-298">Esta seção fornece uma visão geral dos *tipos* de funções que têm o suporte da linguagem DAX.</span><span class="sxs-lookup"><span data-stu-id="c27ea-298">This section provides an overview of the *types* of functions supported in DAX.</span></span> <span data-ttu-id="c27ea-299">Para obter mais informações, consulte [Referência de Função DAX](/dax/dax-function-reference).</span><span class="sxs-lookup"><span data-stu-id="c27ea-299">For more detailed information, see [DAX Function Reference](/dax/dax-function-reference).</span></span>  
  
 <span data-ttu-id="c27ea-300">O DAX fornece diversas funções que você pode usar para executar cálculos usando datas e horas ou criar valores condicionais, trabalhar com cadeias de caracteres, executar pesquisas com base em relacionamentos e a capacidade de iterar em uma tabela para realizar cálculos recursivos.</span><span class="sxs-lookup"><span data-stu-id="c27ea-300">DAX provides a variety of functions you can use perform calculations using dates and times, create conditional values, work with strings, perform lookups based on relationships, and the ability to iterate over a table to perform recursive calculations.</span></span> <span data-ttu-id="c27ea-301">Se você estiver familiarizado com fórmulas do Excel, muitas dessas funções parecerão muito similares; porém, as fórmulas DAX são diferentes dos seguintes modos importantes:</span><span class="sxs-lookup"><span data-stu-id="c27ea-301">If you are familiar with Excel formulas, many of these functions will appear very similar; however, DAX formulas are different in the following important ways:</span></span>  
  
-   <span data-ttu-id="c27ea-302">Uma função DAX sempre referencia uma coluna completa ou uma tabela.</span><span class="sxs-lookup"><span data-stu-id="c27ea-302">A DAX function always references a complete column or a table.</span></span> <span data-ttu-id="c27ea-303">Para usar apenas valores específicos de uma tabela ou coluna, você pode adicionar filtros à fórmula.</span><span class="sxs-lookup"><span data-stu-id="c27ea-303">If you want to use only particular values from a table or column, you can add filters to the formula.</span></span>  
  
-   <span data-ttu-id="c27ea-304">Se for necessário personalizar os cálculos linha por linha, o DAX fornecerá funções que permitem usar o valor da linha atual ou um valor relacionado como um tipo de parâmetro, para executar cálculos que variam de acordo com o contexto.</span><span class="sxs-lookup"><span data-stu-id="c27ea-304">If you need to customize calculations on a row-by-row basis, DAX provides functions that let you use the current row value or a related value as a kind of parameter, to perform calculations that vary by context.</span></span> <span data-ttu-id="c27ea-305">Para entender como funcionam essas funções, consulte Contexto em fórmulas DAX, posteriormente neste tópico.</span><span class="sxs-lookup"><span data-stu-id="c27ea-305">To understand how these functions work, see Context in DAX Formulas later in this topic.</span></span>  
  
-   <span data-ttu-id="c27ea-306">O DAX inclui muitas funções que retornam uma tabela, em vez de um valor.</span><span class="sxs-lookup"><span data-stu-id="c27ea-306">DAX includes many functions that return a table, rather than a value.</span></span> <span data-ttu-id="c27ea-307">A tabela não é exibida em um cliente de relatório, mas é usada para fornecer entrada para outras funções.</span><span class="sxs-lookup"><span data-stu-id="c27ea-307">The table is not displayed in a reporting client, but is used to provide input to other functions.</span></span> <span data-ttu-id="c27ea-308">Por exemplo, você pode recuperar uma tabela e contar os valores distintos nele ou calcular somas dinâmicas em tabelas filtradas ou colunas.</span><span class="sxs-lookup"><span data-stu-id="c27ea-308">For example, you can retrieve a table and then count the distinct values in it, or calculate dynamic sums across filtered tables or columns.</span></span>  
  
-   <span data-ttu-id="c27ea-309">As funções do DAX incluem uma variedade de funções de *inteligência de tempo* .</span><span class="sxs-lookup"><span data-stu-id="c27ea-309">DAX functions include a variety of *time intelligence* functions.</span></span> <span data-ttu-id="c27ea-310">Estas funções permitem definir ou selecionar intervalos de datas e executar cálculos dinâmicos com base nestas datas ou intervalos.</span><span class="sxs-lookup"><span data-stu-id="c27ea-310">These functions let you define or select date ranges, and perform dynamic calculations based on these dates or range.</span></span> <span data-ttu-id="c27ea-311">Por exemplo, você pode comparar somas em períodos paralelos.</span><span class="sxs-lookup"><span data-stu-id="c27ea-311">For example, you can compare sums across parallel periods.</span></span>  
  
### <a name="date-and-time-functions"></a><span data-ttu-id="c27ea-312">Funções de Data e Hora</span><span class="sxs-lookup"><span data-stu-id="c27ea-312">Date and Time Functions</span></span>  
 <span data-ttu-id="c27ea-313">As funções de data e hora na DAX são semelhantes às funções de data e hora do Microsoft Excel.</span><span class="sxs-lookup"><span data-stu-id="c27ea-313">The date and time functions in DAX are similar to date and time functions in Microsoft Excel.</span></span> <span data-ttu-id="c27ea-314">No entanto, as funções DAX se baseiam nos tipos de dados `datetime` usados pelo Microsoft SQL Server.</span><span class="sxs-lookup"><span data-stu-id="c27ea-314">However, DAX functions are based on the `datetime` data types used by Microsoft SQL Server.</span></span> <span data-ttu-id="c27ea-315">Para obter mais informações, consulte [funções de data e hora &#40;DAX&#41;](/dax/date-and-time-functions-dax).</span><span class="sxs-lookup"><span data-stu-id="c27ea-315">For more information, see [Date and Time Functions &#40;DAX&#41;](/dax/date-and-time-functions-dax).</span></span>  
  
### <a name="filter-functions"></a><span data-ttu-id="c27ea-316">Funções de filtro</span><span class="sxs-lookup"><span data-stu-id="c27ea-316">Filter Functions</span></span>  
 <span data-ttu-id="c27ea-317">As funções de filtro em DAX retornam tipos de dados específicos, pesquisar valores em tabelas relacionadas e filtrar pelos valores relacionados.</span><span class="sxs-lookup"><span data-stu-id="c27ea-317">The filter functions in DAX return specific data types, look up values in related tales, and filter by related values.</span></span> <span data-ttu-id="c27ea-318">As funções de pesquisa funcionam com tabelas e relações, assim como um banco de dados.</span><span class="sxs-lookup"><span data-stu-id="c27ea-318">The lookup functions work by using tables and relationships, like a database.</span></span> <span data-ttu-id="c27ea-319">As funções de filtragem permitem manipular o contexto de dados para criar cálculos dinâmicos.</span><span class="sxs-lookup"><span data-stu-id="c27ea-319">The filtering functions let you manipulate data context to create dynamic calculations.</span></span> <span data-ttu-id="c27ea-320">Para obter mais informações, consulte [funções de filtro &#40;DAX&#41;](/dax/filter-functions-dax).</span><span class="sxs-lookup"><span data-stu-id="c27ea-320">For more information, see [Filter Functions &#40;DAX&#41;](/dax/filter-functions-dax).</span></span>  
  
### <a name="information-functions"></a><span data-ttu-id="c27ea-321">Funções informativas</span><span class="sxs-lookup"><span data-stu-id="c27ea-321">Information Functions</span></span>  
 <span data-ttu-id="c27ea-322">Uma função informativa verifica a célula ou linha fornecida como um argumento e indica se o valor corresponde ao tipo esperado.</span><span class="sxs-lookup"><span data-stu-id="c27ea-322">An information function looks at the cell or row that is provided as an argument and tells you whether the value matches the expected type.</span></span> <span data-ttu-id="c27ea-323">Por exemplo, a função ISERROR retorna TRUE quando o valor referenciado contém um erro.</span><span class="sxs-lookup"><span data-stu-id="c27ea-323">For example, the ISERROR function returns TRUE if the value that you reference contains an error.</span></span> <span data-ttu-id="c27ea-324">Para obter mais informações, consulte [funções de informações &#40;&#41;Dax ](/dax/information-functions-dax).</span><span class="sxs-lookup"><span data-stu-id="c27ea-324">For more information, see [Information Functions &#40;DAX&#41;](/dax/information-functions-dax).</span></span>  
  
### <a name="logical-functions"></a><span data-ttu-id="c27ea-325">Funções lógicas</span><span class="sxs-lookup"><span data-stu-id="c27ea-325">Logical Functions</span></span>  
 <span data-ttu-id="c27ea-326">As funções lógicas agem sobre uma expressão para retornar informações sobre os valores da expressão.</span><span class="sxs-lookup"><span data-stu-id="c27ea-326">Logical functions act upon an expression to return information about the values in the expression.</span></span> <span data-ttu-id="c27ea-327">Por exemplo, a função TRUE permite que você saiba se uma expressão que está sendo avaliada retorna um valor TRUE.</span><span class="sxs-lookup"><span data-stu-id="c27ea-327">For example, the TRUE function lets you know whether an expression that you are evaluating returns a TRUE value.</span></span> <span data-ttu-id="c27ea-328">Para obter mais informações, consulte [funções lógicas &#40;&#41;Dax ](/dax/logical-functions-dax).</span><span class="sxs-lookup"><span data-stu-id="c27ea-328">For more information, see [Logical Functions &#40;DAX&#41;](/dax/logical-functions-dax).</span></span>  
  
### <a name="mathematical-and-trigonometric-functions"></a><span data-ttu-id="c27ea-329">Funções matemáticas e trigonométricas</span><span class="sxs-lookup"><span data-stu-id="c27ea-329">Mathematical and Trigonometric Functions</span></span>  
 <span data-ttu-id="c27ea-330">As funções matemáticas em DAX são muito semelhantes às funções matemáticas e trigonométricas do Excel.</span><span class="sxs-lookup"><span data-stu-id="c27ea-330">The mathematical functions in DAX are very similar to the Excel mathematical and trigonometric functions.</span></span> <span data-ttu-id="c27ea-331">Existem algumas pequenas diferenças nos tipos de dados numéricos usados por funções DAX.</span><span class="sxs-lookup"><span data-stu-id="c27ea-331">Some minor differences exist in the numeric data types used by DAX functions.</span></span> <span data-ttu-id="c27ea-332">Para obter mais informações, consulte [funções matemáticas e trigonométricas &#40;&#41;Dax ](/dax/math-and-trig-functions-dax).</span><span class="sxs-lookup"><span data-stu-id="c27ea-332">For more information, see [Math and Trig Functions &#40;DAX&#41;](/dax/math-and-trig-functions-dax).</span></span>  
  
### <a name="statistical-functions"></a><span data-ttu-id="c27ea-333">Funções estatísticas</span><span class="sxs-lookup"><span data-stu-id="c27ea-333">Statistical Functions</span></span>  
 <span data-ttu-id="c27ea-334">O DAX fornece funções estatísticas que executam agregações.</span><span class="sxs-lookup"><span data-stu-id="c27ea-334">DAX provides statistical functions that perform aggregations.</span></span> <span data-ttu-id="c27ea-335">Além de criar somas e médias, ou localizar os valores mínimo e máximo, na DAX também é possível filtrar uma coluna antes de agregar ou criar agregações com base em tabelas relacionadas.</span><span class="sxs-lookup"><span data-stu-id="c27ea-335">In addition to creating sums and averages, or finding the minimum and maximum values, in DAX you can also filter a column before aggregating or create aggregations based on related tables.</span></span> <span data-ttu-id="c27ea-336">Para obter mais informações, consulte [funções estatísticas &#40;&#41;Dax ](/dax/statistical-functions-dax).</span><span class="sxs-lookup"><span data-stu-id="c27ea-336">For more information, see [Statistical Functions &#40;DAX&#41;](/dax/statistical-functions-dax).</span></span>  
  
### <a name="text-functions"></a><span data-ttu-id="c27ea-337">Funções de texto</span><span class="sxs-lookup"><span data-stu-id="c27ea-337">Text Functions</span></span>  
 <span data-ttu-id="c27ea-338">As funções de texto na DAX são bem semelhantes às suas correspondentes no Excel.</span><span class="sxs-lookup"><span data-stu-id="c27ea-338">The text functions in DAX are very similar to their counterparts in Excel.</span></span> <span data-ttu-id="c27ea-339">Você pode retornar parte de uma cadeia de caracteres, pesquisar texto em uma cadeia de caracteres ou concatenar valores de cadeia de caracteres.</span><span class="sxs-lookup"><span data-stu-id="c27ea-339">You can return part of a string, search for text within a string, or concatenate string values.</span></span> <span data-ttu-id="c27ea-340">A DAX também fornece funções para controlar os formatos de datas, horas e números.</span><span class="sxs-lookup"><span data-stu-id="c27ea-340">DAX also provides functions for controlling the formats for dates, times, and numbers.</span></span> <span data-ttu-id="c27ea-341">Para obter mais informações, consulte [funções de texto &#40;DAX&#41;](/dax/text-functions-dax).</span><span class="sxs-lookup"><span data-stu-id="c27ea-341">For more information, see [Text Functions &#40;DAX&#41;](/dax/text-functions-dax).</span></span>  
  
### <a name="time-intelligence-functions"></a><span data-ttu-id="c27ea-342">Funções de inteligência de tempo</span><span class="sxs-lookup"><span data-stu-id="c27ea-342">Time Intelligence Functions</span></span>  
 <span data-ttu-id="c27ea-343">As funções de inteligência de tempo fornecidas na DAX permitem criar cálculos que usam o conhecimento interno sobre calendários e datas.</span><span class="sxs-lookup"><span data-stu-id="c27ea-343">The time intelligence functions provided in DAX let you create calculations that use built-in knowledge about calendars and dates.</span></span> <span data-ttu-id="c27ea-344">Usando intervalos de data e hora em combinação com agregações ou cálculos, você pode criar comparações significativas em períodos de tempo comparáveis para vendas, estoque etc.</span><span class="sxs-lookup"><span data-stu-id="c27ea-344">By using time and date ranges in combination with aggregations or calculations, you can build meaningful comparisons across comparable time periods for sales, inventory, and so on.</span></span> <span data-ttu-id="c27ea-345">Para obter mais informações, consulte [funções de inteligência de tempo &#40;&#41;Dax ](/dax/time-intelligence-functions-dax).</span><span class="sxs-lookup"><span data-stu-id="c27ea-345">For more information, see [Time Intelligence Functions &#40;DAX&#41;](/dax/time-intelligence-functions-dax).</span></span>  
  
###  <a name="table-valued-functions"></a><a name="bkmk_TableFunc"></a><span data-ttu-id="c27ea-346">Funções com valor de tabela</span><span class="sxs-lookup"><span data-stu-id="c27ea-346">Table-Valued Functions</span></span>  
 <span data-ttu-id="c27ea-347">Existem funções DAX que produzem tabelas, aceitam tabelas como entrada ou ambas as opções.</span><span class="sxs-lookup"><span data-stu-id="c27ea-347">There are DAX functions that output tables, take tables as input, or do both.</span></span> <span data-ttu-id="c27ea-348">Como uma tabela pode ter uma única coluna, as funções com valor de tabela também aceitam colunas únicas como entradas.</span><span class="sxs-lookup"><span data-stu-id="c27ea-348">Because a table can have a single column, table-valued functions also take single columns as inputs.</span></span> <span data-ttu-id="c27ea-349">É importante compreender como usar essas funções com valor de tabela para usar completamente as fórmulas DAX.</span><span class="sxs-lookup"><span data-stu-id="c27ea-349">Understanding how to use these table-valued functions is important for fully utilizing DAX formulas.</span></span> <span data-ttu-id="c27ea-350">O DAX inclui os seguintes tipos de funções com valor de tabela:</span><span class="sxs-lookup"><span data-stu-id="c27ea-350">DAX includes the following types of table-valued functions:</span></span>  
  
 <span data-ttu-id="c27ea-351">**Funções de filtro** Retornam uma coluna, tabela ou valores relacionados à linha atual.</span><span class="sxs-lookup"><span data-stu-id="c27ea-351">**Filter functions** Return a column, table, or values related to the current row.</span></span>  
  
 <span data-ttu-id="c27ea-352">**Funções de agregação** Agregam qualquer expressão às linhas de uma tabela.</span><span class="sxs-lookup"><span data-stu-id="c27ea-352">**Aggregation functions** Aggregate any expression over the rows of a table.</span></span>  
  
 <span data-ttu-id="c27ea-353">**Funções de inteligência de tempo** Retornam uma tabela de datas ou usam uma tabela de datas para calcular uma agregação.</span><span class="sxs-lookup"><span data-stu-id="c27ea-353">**Time intelligence functions** Return a table of dates, or use a table of dates to calculate an aggregation.</span></span>  
  
##  <a name="context-in-dax-formulas"></a><a name="bkmk_context"></a> <span data-ttu-id="c27ea-354">Contexto em fórmulas DAX</span><span class="sxs-lookup"><span data-stu-id="c27ea-354">Context in DAX Formulas</span></span>  
 <span data-ttu-id="c27ea-355">*Contexto* é um conceito importante para entender quando criar fórmulas que usam DAX.</span><span class="sxs-lookup"><span data-stu-id="c27ea-355">*Context* is an important concept to understand when creating formulas using DAX.</span></span> <span data-ttu-id="c27ea-356">O contexto é o que permite executar análise dinâmica, como os resultados de uma fórmula são alterados para refletir a seleção atual de linha ou célula, além de qualquer dado relacionado.</span><span class="sxs-lookup"><span data-stu-id="c27ea-356">Context is what enables you to perform dynamic analysis, as the results of a formula change to reflect the current row or cell selection and also any related data.</span></span> <span data-ttu-id="c27ea-357">Entender o que é contexto e seu uso eficiente é vital para compilar análises dinâmicas de alto desempenho e para solucionar problemas em fórmulas.</span><span class="sxs-lookup"><span data-stu-id="c27ea-357">Understanding context and using context effectively are critical for building high-performing, dynamic analyses, and for troubleshooting problems in formulas.</span></span>  
  
 <span data-ttu-id="c27ea-358">As fórmulas em modelos de tabela podem ser avaliadas em um contexto diferente, dependendo de outros elementos de design:</span><span class="sxs-lookup"><span data-stu-id="c27ea-358">Formulas in tabular models can be evaluated in a different context, depending on other design elements:</span></span>  
  
-   <span data-ttu-id="c27ea-359">Filtros aplicados em uma Tabela Dinâmica ou relatório</span><span class="sxs-lookup"><span data-stu-id="c27ea-359">Filters applied in a PivotTable or report</span></span>  
  
-   <span data-ttu-id="c27ea-360">Filtros definidos dentro de uma fórmula</span><span class="sxs-lookup"><span data-stu-id="c27ea-360">Filters defined within a formula</span></span>  
  
-   <span data-ttu-id="c27ea-361">Relações especificadas usando funções especiais dentro de uma fórmula</span><span class="sxs-lookup"><span data-stu-id="c27ea-361">Relationships specified by using special functions within a formula</span></span>  
  
 <span data-ttu-id="c27ea-362">Há tipos diferentes de contexto: *contexto de linha*, *contexto de consulta*e *contexto de filtro*.</span><span class="sxs-lookup"><span data-stu-id="c27ea-362">There are different types of context: *row context*, *query context*, and *filter context*.</span></span>  
  
###  <a name="row-context"></a><a name="bkmk_row_context"></a><span data-ttu-id="c27ea-363">Contexto de linha</span><span class="sxs-lookup"><span data-stu-id="c27ea-363">Row Context</span></span>  
 <span data-ttu-id="c27ea-364">O *contexto de linha* pode ser considerado como "a linha atual".</span><span class="sxs-lookup"><span data-stu-id="c27ea-364">*Row context* can be thought of as "the current row".</span></span> <span data-ttu-id="c27ea-365">Se você criar uma fórmula em uma coluna calculada, o contexto de linha dessa fórmula incluirá os valores de todas as colunas na linha atual.</span><span class="sxs-lookup"><span data-stu-id="c27ea-365">If you create a formula in a calculated column, the row context for that formula includes the values from all columns in the current row.</span></span> <span data-ttu-id="c27ea-366">Se a tabela estiver relacionada a outra tabela, o conteúdo também incluirá todos os valores dessa outra tabela que estão relacionados à linha atual.</span><span class="sxs-lookup"><span data-stu-id="c27ea-366">If the table is related to another table, the content also includes all the values from the other table that are related to the current row.</span></span>  
  
 <span data-ttu-id="c27ea-367">Por exemplo, suponha que você crie uma coluna calculada, `=[Freight] + [Tax]`, que soma os valores de duas colunas, Freight e Tax, da mesma tabela.</span><span class="sxs-lookup"><span data-stu-id="c27ea-367">For example, suppose you create a calculated column, `=[Freight] + [Tax]`, that adds together values from two columns, Freight and Tax, from the same table.</span></span> <span data-ttu-id="c27ea-368">Esta fórmula automaticamente obtém somente os valores da linha atual nas colunas especificadas.</span><span class="sxs-lookup"><span data-stu-id="c27ea-368">This formula automatically gets only the values from the current row in the specified columns.</span></span>  
  
 <span data-ttu-id="c27ea-369">Contexto de linha também segue os relacionamentos que foram definidos entre tabelas, incluindo relacionamentos definidos dentro de uma coluna calculada usando fórmulas DAX, para determinar quais linhas nas tabelas relacionadas estão associadas à linha atual.</span><span class="sxs-lookup"><span data-stu-id="c27ea-369">Row context also follows any relationships that have been defined between tables, including relationships defined within a calculated column by using DAX formulas, to determine which rows in related tables are associated with the current row.</span></span>  
  
 <span data-ttu-id="c27ea-370">Por exemplo, a fórmula a seguir usa a função RELATED para buscar um valor de imposto de uma tabela relacionada, com base na região para a qual o pedido foi enviado.</span><span class="sxs-lookup"><span data-stu-id="c27ea-370">For example, the following formula uses the RELATED function to fetch a tax value from a related table, based on the region that the order was shipped to.</span></span> <span data-ttu-id="c27ea-371">O valor do imposto é determinado com o uso do valor para a região na tabela atual, pesquisando-se a região na tabela relacionada e obtendo-se o valor do imposto para essa região na tabela relacionada.</span><span class="sxs-lookup"><span data-stu-id="c27ea-371">The tax value is determined by using the value for region in the current table, looking up the region in the related table, and then getting the tax rate for that region from the related table.</span></span>  
  
```  
= [Freight] + RELATED('Region'[TaxRate])  
```  
  
 <span data-ttu-id="c27ea-372">Esta fórmula obtém a taxa de imposto para a região atual da tabela de Região e adiciona-a ao valor da coluna Freight.</span><span class="sxs-lookup"><span data-stu-id="c27ea-372">This formula gets the tax rate for the current region from the Region table and adds it to the value of the Freight column.</span></span> <span data-ttu-id="c27ea-373">Nas fórmulas DAX, você não precisa saber ou especificar a relação específica que conecta as tabelas.</span><span class="sxs-lookup"><span data-stu-id="c27ea-373">In DAX formulas, you do not need to know or specify the specific relationship that connects the tables.</span></span>  
  
#### <a name="multiple-row-context"></a><span data-ttu-id="c27ea-374">Contexto de várias linhas</span><span class="sxs-lookup"><span data-stu-id="c27ea-374">Multiple Row Context</span></span>  
 <span data-ttu-id="c27ea-375">A DAX inclui várias funções que iteram cálculos em uma tabela.</span><span class="sxs-lookup"><span data-stu-id="c27ea-375">DAX includes functions that iterate calculations over a table.</span></span> <span data-ttu-id="c27ea-376">Essas funções podem ter várias linhas atuais, cada uma com seu próprio contexto de linha.</span><span class="sxs-lookup"><span data-stu-id="c27ea-376">These functions can have multiple current rows, each with its own row context.</span></span>  <span data-ttu-id="c27ea-377">Em essência, estas funções permitem criar fórmulas que executam operações recursivamente em um loop interno e exterior.</span><span class="sxs-lookup"><span data-stu-id="c27ea-377">In essence, these functions let you create formulas that perform operations recursively over an inner and outer loop.</span></span>  
  
 <span data-ttu-id="c27ea-378">Por exemplo, vamos supor que o modelo contenha uma tabela **Products** e uma tabela **Sales** .</span><span class="sxs-lookup"><span data-stu-id="c27ea-378">For example, suppose your model contains a **Products** table and a **Sales** table.</span></span> <span data-ttu-id="c27ea-379">Talvez os usuários queiram percorrer toda a tabela de vendas, que contém várias transações que envolvem vários produtos, e encontrar a maior quantidade solicitada de cada produto em qualquer transação.</span><span class="sxs-lookup"><span data-stu-id="c27ea-379">Users might want to go through the entire sales table, which is full of transactions involving multiple products, and find the largest quantity ordered for each product in any one transaction.</span></span>  
  
 <span data-ttu-id="c27ea-380">Com a DAX você pode criar uma única fórmula que retorna o valor correto e os resultados são atualizados automaticamente a qualquer momento em que um usuário adicionar dados às tabelas.</span><span class="sxs-lookup"><span data-stu-id="c27ea-380">With DAX you can build a single formula that returns the correct value, and the results are automatically updated any time a user adds data to the tables.</span></span>  
  
```  
=MAXX(FILTER(Sales,[ProdKey]=EARLIER([ProdKey])),Sales[OrderQty])  
```  
  
 <span data-ttu-id="c27ea-381">Para obter uma explicação detalhada desta fórmula, consulte a [função anterior](/dax/earlier-function-dax).</span><span class="sxs-lookup"><span data-stu-id="c27ea-381">For a detailed walkthrough of this formula, see the [EARLIER Function](/dax/earlier-function-dax).</span></span>  
  
 <span data-ttu-id="c27ea-382">Em resumo, a função EARLIER armazena o contexto de linha da operação que precedeu a operação atual.</span><span class="sxs-lookup"><span data-stu-id="c27ea-382">To summarize, the EARLIER function stores the row context from the operation that preceded the current operation.</span></span> <span data-ttu-id="c27ea-383">O tempo todo, a função armazena na memória dois conjuntos de contexto: um deles representa a linha atual do loop interno da fórmula, e o outro representa a linha atual do loop externo da fórmula.</span><span class="sxs-lookup"><span data-stu-id="c27ea-383">At all times, the function stores in memory two sets of context: one set of context represents the current row for the inner loop of the formula, and another set of context represents the current row for the outer loop of the formula.</span></span> <span data-ttu-id="c27ea-384">A DAX alimenta automaticamente valores entre os dois loops para que você possa criar agregações complexas.</span><span class="sxs-lookup"><span data-stu-id="c27ea-384">DAX automatically feeds values between the two loops so that you can create complex aggregates.</span></span>  
  
####  <a name="query-context"></a><a name="bkmk_query_context"></a><span data-ttu-id="c27ea-385">Contexto da consulta</span><span class="sxs-lookup"><span data-stu-id="c27ea-385">Query Context</span></span>  
 <span data-ttu-id="c27ea-386">*Contexto de consulta* se refere ao subconjunto de dados recuperados implicitamente para uma fórmula.</span><span class="sxs-lookup"><span data-stu-id="c27ea-386">*Query context* refers to the subset of data that is implicitly retrieved for a formula.</span></span> <span data-ttu-id="c27ea-387">Quando um usuário coloca uma medida ou outro campo de valor em uma Tabela Dinâmica ou um relatório baseado em um modelo de tabela, o mecanismo examina os cabeçalhos de linha e coluna, Segmentações de Dados e filtros de relatório para determinar o contexto.</span><span class="sxs-lookup"><span data-stu-id="c27ea-387">When a user places a measure or other value field into a PivotTable or into a report based on a tabular model, the engine examines the row and column headers, Slicers, and report filters to determine the context.</span></span> <span data-ttu-id="c27ea-388">Em seguida, as consultas necessárias são executadas em uma fonte de dados para obter o subconjunto correto de dados, fazer os cálculos definidos pela fórmula e popular cada célula na Tabela Dinâmica ou no relatório.</span><span class="sxs-lookup"><span data-stu-id="c27ea-388">Then, the necessary queries are run against the data source to get the correct subset of data, make the calculations defined by the formula, and then populate each cell in the PivotTable or report.</span></span> <span data-ttu-id="c27ea-389">O conjunto de dados recuperado é o contexto de consulta para cada célula.</span><span class="sxs-lookup"><span data-stu-id="c27ea-389">The set of data that is retrieved is the query context for each cell.</span></span>  
  
> [!WARNING]  
>  <span data-ttu-id="c27ea-390">Para um modelo no DirectQuery, o contexto é avaliado e em seguida as operações de conjunto para recuperar o subconjunto correto de dados e calcular os resultados são traduzidas para instruções SQL.</span><span class="sxs-lookup"><span data-stu-id="c27ea-390">For a model in DirectQuery mode, the context is evaluated, and then the set operations to retrieve the correct subset of data and calculate the results are translated to SQL statements.</span></span> <span data-ttu-id="c27ea-391">Essas instruções são então executadas diretamente no repositório de dados relacional.</span><span class="sxs-lookup"><span data-stu-id="c27ea-391">Those statements are then directly run against the relational data store.</span></span> <span data-ttu-id="c27ea-392">Portanto, embora o método de obter os dados e calcular os resultados seja diferente, o próprio contexto não é alterado.</span><span class="sxs-lookup"><span data-stu-id="c27ea-392">Therefore, although the method of getting the data and calculating the results is different, the context itself does not change.</span></span>  
  
 <span data-ttu-id="c27ea-393">Como o contexto altera dependendo de onde você coloca a fórmula, os resultados da fórmula também podem ser alterados.</span><span class="sxs-lookup"><span data-stu-id="c27ea-393">Because context changes depending on where you place the formula, the results of the formula can also change.</span></span>  
  
 <span data-ttu-id="c27ea-394">Por exemplo, suponhamos que você crie uma fórmula simples que soma os valores na coluna **Profit** da tabela **Sales** : `=SUM('Sales'[Profit])`.</span><span class="sxs-lookup"><span data-stu-id="c27ea-394">For example, suppose you create a formula that sums the values in the **Profit** column of the **Sales** table: `=SUM('Sales'[Profit])`.</span></span>  <span data-ttu-id="c27ea-395">Se você usar essa fórmula em uma coluna calculada na tabela **Vendas** , os resultados da fórmula serão os mesmos para toda a tabela, porque o contexto da consulta da fórmula sempre será todo o conjunto de dados da tabela **Vendas** .</span><span class="sxs-lookup"><span data-stu-id="c27ea-395">If you use this formula in a calculated column within the **Sales** table, the results for the formula will be the same for the entire table, because the query context for the formula is always the entire data set of the **Sales** table.</span></span> <span data-ttu-id="c27ea-396">Os resultados terão lucro para todas as regiões, todos os produtos, todos os anos etc.</span><span class="sxs-lookup"><span data-stu-id="c27ea-396">Results will have profit for all regions, all products, all years, and so on.</span></span>  
  
 <span data-ttu-id="c27ea-397">No entanto, em geral os usuários não desejam ver o mesmo resultado centenas de vezes, mas desejam obter o lucro de um determinado ano, um país específico, um certo produto ou uma combinação desses itens e depois obter um total geral.</span><span class="sxs-lookup"><span data-stu-id="c27ea-397">However, users typically don't want to see the same result hundreds of times, but instead want to get the profit for a particular year, a particular country, a particular product, or some combination of these, and then get a grand total.</span></span>  
  
 <span data-ttu-id="c27ea-398">Em uma Tabela Dinâmica, o contexto pode ser alterado com a adição ou remoção de cabeçalhos de coluna e linha, e adição ou remoção de Segmentações de Dados.</span><span class="sxs-lookup"><span data-stu-id="c27ea-398">In a PivotTable, context can be changed by adding or removing column and row headers and by adding or removing Slicers.</span></span> <span data-ttu-id="c27ea-399">Sempre que os usuários adicionam cabeçalhos de coluna ou linha à Tabela Dinâmica, eles alteram o contexto de consulta no qual a medida é avaliada.</span><span class="sxs-lookup"><span data-stu-id="c27ea-399">Whenever users add column or row headings to the PivotTable, they change the query context in which the measure is evaluated.</span></span> <span data-ttu-id="c27ea-400">As operações de divisão e filtragem também afetam o contexto.</span><span class="sxs-lookup"><span data-stu-id="c27ea-400">Slicing and filtering operations also affect context.</span></span> <span data-ttu-id="c27ea-401">Portanto, a mesma fórmula, usada em uma medida, é avaliada em um *contexto de consulta* diferente para cada célula.</span><span class="sxs-lookup"><span data-stu-id="c27ea-401">Therefore, the same formula, used in a measure, is evaluated in a different *query context* for each cell.</span></span>  
  
####  <a name="filter-context"></a><a name="bkmk_filter_context"></a><span data-ttu-id="c27ea-402">Contexto de filtro</span><span class="sxs-lookup"><span data-stu-id="c27ea-402">Filter Context</span></span>  
 <span data-ttu-id="c27ea-403">*Contexto de filtro* é o conjunto de valores permitido em cada coluna, ou nos valores recuperados de uma tabela relacionada.</span><span class="sxs-lookup"><span data-stu-id="c27ea-403">*Filter context* is the set of values allowed in each column, or in the values retrieved from a related table.</span></span> <span data-ttu-id="c27ea-404">Os filtros podem ser aplicados à coluna no designer ou na camada de apresentação (relatórios e Tabelas Dinâmicas).</span><span class="sxs-lookup"><span data-stu-id="c27ea-404">Filters can be applied to the column in the designer, or in the presentation layer (reports and PivotTables).</span></span> <span data-ttu-id="c27ea-405">Filtros também podem ser definidos explicitamente por expressões de filtro dentro da fórmula.</span><span class="sxs-lookup"><span data-stu-id="c27ea-405">Filters can also be defined explicitly by filter expressions within the formula.</span></span>  
  
 <span data-ttu-id="c27ea-406">O contexto de filtro é adicionado quando você especifica restrições de filtro no conjunto de valores permitido em uma coluna ou tabela, usando argumentos de uma fórmula.</span><span class="sxs-lookup"><span data-stu-id="c27ea-406">Filter context is added when you specify filter constraints on the set of values allowed in a column or table, by using arguments to a formula.</span></span> <span data-ttu-id="c27ea-407">O contexto de filtro é aplicado sobre outros contextos, como o contexto de linha ou o contexto de consulta.</span><span class="sxs-lookup"><span data-stu-id="c27ea-407">Filter context applies on top of other contexts, such as row context or query context.</span></span>  
  
 <span data-ttu-id="c27ea-408">Em modelos de tabela, há muitos modos de criar contexto de filtro.</span><span class="sxs-lookup"><span data-stu-id="c27ea-408">In tabular models, there are many ways to create filter context.</span></span> <span data-ttu-id="c27ea-409">Dentro do contexto de clientes que podem consumir o modelo, como relatórios do [!INCLUDE[ssCrescent](../../includes/sscrescent-md.md)] , os usuários podem criar filtros dinamicamente adicionando segmentações de dados ou filtros de relatório nos cabeçalhos de linha e coluna.</span><span class="sxs-lookup"><span data-stu-id="c27ea-409">Within the context of clients that can consume the model, such as [!INCLUDE[ssCrescent](../../includes/sscrescent-md.md)] reports, users can create filters on the fly by adding slicers or report filters on the row and column headings.</span></span> <span data-ttu-id="c27ea-410">Você também pode especificar expressões de filtro diretamente dentro da fórmula, para especificar valores relacionados, para filtrar tabelas que são usadas como entradas ou para obter contexto dinamicamente para os valores que são usados em cálculos.</span><span class="sxs-lookup"><span data-stu-id="c27ea-410">You can also specify filter expressions directly within the formula, to specify related values, to filter tables that are used as inputs, or to dynamically get context for the values that are used in calculations.</span></span> <span data-ttu-id="c27ea-411">Você também pode desmarcar completa ou seletivamente os filtros em colunas específicas.</span><span class="sxs-lookup"><span data-stu-id="c27ea-411">You can also completely clear or selectively clear the filters on particular columns.</span></span> <span data-ttu-id="c27ea-412">Isto é muito útil ao criar fórmulas que calculam totais principais.</span><span class="sxs-lookup"><span data-stu-id="c27ea-412">This is very useful when creating formulas that calculate grand totals.</span></span>  
  
 <span data-ttu-id="c27ea-413">Para obter mais informações sobre como criar filtros dentro de fórmulas, consulte a [função de filtro](/dax/filter-function-dax).</span><span class="sxs-lookup"><span data-stu-id="c27ea-413">For more information about how to create filters within formulas, see the [FILTER Function](/dax/filter-function-dax).</span></span>  
  
 <span data-ttu-id="c27ea-414">Para obter um exemplo de como os filtros podem ser limpos para criar totais gerais, consulte a [função All](/dax/all-function-dax).</span><span class="sxs-lookup"><span data-stu-id="c27ea-414">For an example of how filters can be cleared to create grand totals, see the [ALL Function](/dax/all-function-dax).</span></span>  
  
 <span data-ttu-id="c27ea-415">Para obter exemplos de como limpar e aplicar filtros seletivamente dentro de fórmulas, consulte a [função alexcept](/dax/allexcept-function-dax).</span><span class="sxs-lookup"><span data-stu-id="c27ea-415">For examples of how to selectively clear and apply filters within formulas, see the [ALLEXCEPT Function](/dax/allexcept-function-dax).</span></span>  
  
####  <a name="determining-context-in-formulas"></a><a name="bkmk_determine_context"></a> <span data-ttu-id="c27ea-416">Determinando o contexto em fórmulas</span><span class="sxs-lookup"><span data-stu-id="c27ea-416">Determining Context in Formulas</span></span>  
 <span data-ttu-id="c27ea-417">Quando você cria uma fórmula do DAX, a fórmula é testada primeiro para sintaxe válida e para ter certeza de que os nomes das colunas e tabelas incluídos na fórmula podem ser localizados no contexto atual.</span><span class="sxs-lookup"><span data-stu-id="c27ea-417">When you create a DAX formula, the formula is first tested for valid syntax, and then tested to make sure the names of the columns and tables included in the formula can be found in the current context.</span></span> <span data-ttu-id="c27ea-418">Se qualquer coluna ou tabela especificada pela fórmula não puder ser localizada, um erro será retornado.</span><span class="sxs-lookup"><span data-stu-id="c27ea-418">If any column or table specified by the formula cannot be found, an error is returned.</span></span>  
  
 <span data-ttu-id="c27ea-419">O contexto durante a validação (e operações de recálculo) é determinado conforme descrito nas seções anteriores, usando as tabelas disponíveis no modelo, qualquer relacionamento entre tabela e qualquer filtro que tenha sido aplicado.</span><span class="sxs-lookup"><span data-stu-id="c27ea-419">Context during validation (and recalculation operations) is determined as described in the preceding sections, by using the available tables in the model, any relationships between the tables, and any filters that have been applied.</span></span>  
  
 <span data-ttu-id="c27ea-420">Por exemplo, se você tiver importado alguns dados em uma nova tabela e não tiver relacionado a nenhuma outra tabela (e não tiver aplicado filtros), o *contexto atual* será o conjunto inteiro de colunas da tabela.</span><span class="sxs-lookup"><span data-stu-id="c27ea-420">For example, if you have just imported some data into a new table and it is not related to any other tables (and you have not applied any filters), the *current context* is the entire set of columns in the table.</span></span> <span data-ttu-id="c27ea-421">Se a tabela estiver vinculada por relações com outras tabelas, o contexto atual incluirá as tabelas relacionadas.</span><span class="sxs-lookup"><span data-stu-id="c27ea-421">If the table is linked by relationships to other tables, the current context includes the related tables.</span></span> <span data-ttu-id="c27ea-422">Se você adicionar uma coluna da tabela a um relatório que tem segmentação de dados e talvez algum filtros de relatório, o contexto para a fórmula será o subconjunto de dados em cada célula do relatório.</span><span class="sxs-lookup"><span data-stu-id="c27ea-422">If you add a column from the table to a report that has Slicers and maybe some report filters, the context for the formula is the subset of data in each cell of the report.</span></span>  
  
 <span data-ttu-id="c27ea-423">O contexto é um conceito avançado que também pode dificultar a solução de erros de fórmulas.</span><span class="sxs-lookup"><span data-stu-id="c27ea-423">Context is a powerful concept that can also make it difficult to troubleshoot formulas.</span></span> <span data-ttu-id="c27ea-424">Nós recomendamos que você comece com fórmulas simples e relacionamentos para verificar como o contexto funciona.</span><span class="sxs-lookup"><span data-stu-id="c27ea-424">We recommend that you begin with simple formulas and relationships to see how context works.</span></span> <span data-ttu-id="c27ea-425">A seção a seguir fornece alguns exemplos de como as fórmulas usam tipos diferentes de contexto para retornar resultados dinamicamente.</span><span class="sxs-lookup"><span data-stu-id="c27ea-425">The following section provides some examples of how formulas use different types of context to dynamically return results.</span></span>  
  
##### <a name="examples-of-context-in-formulas"></a><span data-ttu-id="c27ea-426">Exemplos de contexto em fórmulas</span><span class="sxs-lookup"><span data-stu-id="c27ea-426">Examples of Context in Formulas</span></span>  
  
1.  <span data-ttu-id="c27ea-427">A função [RELATED Function](/dax/related-function-dax) expande o contexto da linha atual para incluir valores em uma coluna relacionada.</span><span class="sxs-lookup"><span data-stu-id="c27ea-427">The [RELATED Function](/dax/related-function-dax) function expands the context of the current row to include values in a related column.</span></span> <span data-ttu-id="c27ea-428">Isso permite a execução de pesquisas.</span><span class="sxs-lookup"><span data-stu-id="c27ea-428">This lets you perform lookups.</span></span> <span data-ttu-id="c27ea-429">O exemplo neste tópico ilustra a interação entre a filtragem e o contexto de linha.</span><span class="sxs-lookup"><span data-stu-id="c27ea-429">The example in this topic illustrates the interaction of filtering and row context.</span></span>  
  
2.  <span data-ttu-id="c27ea-430">A função de [filtro](/dax/filter-function-dax) permite especificar as linhas a serem incluídas no contexto atual.</span><span class="sxs-lookup"><span data-stu-id="c27ea-430">The [FILTER Function](/dax/filter-function-dax) function lets you specify the rows to include in the current context.</span></span> <span data-ttu-id="c27ea-431">Os exemplos neste tópico também ilustram como inserir filtros em outras funções que executam agregações.</span><span class="sxs-lookup"><span data-stu-id="c27ea-431">The examples in this topic also illustrate how to embed filters within other functions that perform aggregates.</span></span>  
  
3.  <span data-ttu-id="c27ea-432">A função [todos](/dax/all-function-dax) define o contexto dentro de uma fórmula.</span><span class="sxs-lookup"><span data-stu-id="c27ea-432">The [ALL Function](/dax/all-function-dax) function sets context within a formula.</span></span> <span data-ttu-id="c27ea-433">Você pode usá-la para anular filtros aplicados como resultado do contexto de consulta.</span><span class="sxs-lookup"><span data-stu-id="c27ea-433">You can use it to override filters that are applied as result of query context.</span></span>  
  
4.  <span data-ttu-id="c27ea-434">A função de [função by Except](/dax/allexcept-function-dax) permite remover todos os filtros, exceto um que você especificar.</span><span class="sxs-lookup"><span data-stu-id="c27ea-434">The [ALLEXCEPT Function](/dax/allexcept-function-dax) function lets you remove all filters except one that you specify.</span></span> <span data-ttu-id="c27ea-435">Os dois tópicos incluem exemplos que orientam você durante a criação de fórmulas e a compreensão dos contextos complexos.</span><span class="sxs-lookup"><span data-stu-id="c27ea-435">Both topics include examples that walk you through building formulas and understanding complex contexts.</span></span>  
  
5.  <span data-ttu-id="c27ea-436">A [função anterior](/dax/earlier-function-dax) e as funções de [função mais antigas](/dax/earliest-function-dax) permitem executar um loop por meio de tabelas, executando cálculos, ao fazer referência a um valor de um loop interno.</span><span class="sxs-lookup"><span data-stu-id="c27ea-436">The [EARLIER Function](/dax/earlier-function-dax) and [EARLIEST Function](/dax/earliest-function-dax) functions let you loop through tables by performing calculations, while referencing a value from an inner loop.</span></span> <span data-ttu-id="c27ea-437">Se você estiver familiarizado com o conceito de recursão e com loops internos e externos, apreciará o poder proporcionado pelas funções EARLIER e EARLIEST.</span><span class="sxs-lookup"><span data-stu-id="c27ea-437">If you are familiar with the concept of recursion and with inner and outer loops, you will appreciate the power that the EARLIER and EARLIEST functions provide.</span></span> <span data-ttu-id="c27ea-438">Se você não for experiente com esses conceitos, siga as etapas no exemplo atentamente para ver como os contextos internos e externos são usados ao fazer cálculos.</span><span class="sxs-lookup"><span data-stu-id="c27ea-438">If you are new to these concepts, you should follow the steps in the example carefully to see how the inner and outer contexts are used in calculations.</span></span>  
  
##  <a name="formulas-and-the-tabular-model"></a><a name="bkmk_RelModel"></a><span data-ttu-id="c27ea-439">Fórmulas e o modelo de tabela</span><span class="sxs-lookup"><span data-stu-id="c27ea-439">Formulas and the Tabular Model</span></span>  
 <span data-ttu-id="c27ea-440">O designer de modelo, no [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)], é uma área na qual é possível trabalhar com várias tabelas de dados e conectar as tabelas em um modelo de tabela.</span><span class="sxs-lookup"><span data-stu-id="c27ea-440">The model designer, in [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)], is an area where you can work with multiple tables of data and connect the tables in a tabular model.</span></span> <span data-ttu-id="c27ea-441">Dentro deste modelo, as tabelas são unidas por relações em colunas com valores comuns (chaves).</span><span class="sxs-lookup"><span data-stu-id="c27ea-441">Within this model, tables are joined by relationships on columns with common values (keys).</span></span> <span data-ttu-id="c27ea-442">O modelo de tabela permite vincular valores a colunas em outras tabelas e cria mais cálculos interessantes.</span><span class="sxs-lookup"><span data-stu-id="c27ea-442">The tabular model lets you link values to columns in other tables and create more interesting calculations.</span></span> <span data-ttu-id="c27ea-443">Da mesma maneira que em um banco de dados relacional, você pode conectar muitos níveis de tabelas relacionadas e usar colunas de qualquer tabela nos resultados.</span><span class="sxs-lookup"><span data-stu-id="c27ea-443">Just as in a relational database, you can connect many levels of related tables and use columns from any of the tables in the results.</span></span>  
  
 <span data-ttu-id="c27ea-444">Por exemplo, você pode vincular uma tabela de vendas, uma tabela de produtos e uma tabela de categorias de produto e os usuários podem utilizar várias combinações das colunas nas Tabelas Dinâmicas e em relatórios.</span><span class="sxs-lookup"><span data-stu-id="c27ea-444">For example, you can link a sales table, a products table, and a product categories table, and users can use various combinations of the columns in PivotTables and reports.</span></span> <span data-ttu-id="c27ea-445">Os campos relacionados podem ser usados para filtrar tabelas conectadas ou criar cálculos sobre subconjuntos.</span><span class="sxs-lookup"><span data-stu-id="c27ea-445">Related fields can be used to filter connected tables, or to create calculations over subsets.</span></span> <span data-ttu-id="c27ea-446">(Se você não estiver familiarizado com banco de dados relacional e com o trabalhar com tabelas e junções, consulte [Relações &#40;SSAS Tabular&#41;](relationships-ssas-tabular.md).)</span><span class="sxs-lookup"><span data-stu-id="c27ea-446">(If you are not familiar with relational database and working with tables and joins, see [Relationships &#40;SSAS Tabular&#41;](relationships-ssas-tabular.md).)</span></span>  
  
 <span data-ttu-id="c27ea-447">Os modelos de tabela dão suporte a várias relações entre tabelas.</span><span class="sxs-lookup"><span data-stu-id="c27ea-447">Tabular models support multiple relationships among tables.</span></span> <span data-ttu-id="c27ea-448">Para evitar confusão ou resultados errados, somente uma relação é designada de cada vez como a relação ativa, mas você pode alterar a relação ativa como for necessário para atravessar conexões diferentes nos dados nos cálculos.</span><span class="sxs-lookup"><span data-stu-id="c27ea-448">To avoid confusion or wrong results, only one relationship at a time is designated as the active relationship, but you can change the active relationship as necessary to traverse different connections in the data in calculations.</span></span> <span data-ttu-id="c27ea-449">A [função USERELATIONSHIP &#40;DAX&#41;](/dax/userelationship-function-dax) pode ser usada para especificar uma ou mais relações a serem usadas em um cálculo específico.</span><span class="sxs-lookup"><span data-stu-id="c27ea-449">The [USERELATIONSHIP Function &#40;DAX&#41;](/dax/userelationship-function-dax) can be used to specify one or more relationships to be used in a specific calculation.</span></span>  
  
 <span data-ttu-id="c27ea-450">Em um modelo de tabela, você deve observar estas regras de design de fórmula:</span><span class="sxs-lookup"><span data-stu-id="c27ea-450">In a tabular model, you should observe these formula design rules:</span></span>  
  
-   <span data-ttu-id="c27ea-451">Quando as tabelas estão conectadas por uma relação, você deve verificar se essas duas colunas usadas como chaves têm valores correspondentes.</span><span class="sxs-lookup"><span data-stu-id="c27ea-451">When tables are connected by a relationship, you must ensure that the two columns used as keys have values that match.</span></span> <span data-ttu-id="c27ea-452">No entanto, a integridade referencial não é imposta e, portanto, é possível ter valores não correspondentes em uma coluna de chave e, ainda assim, criar uma relação.</span><span class="sxs-lookup"><span data-stu-id="c27ea-452">Referential integrity is not enforced, however; therefore it is possible to have non-matching values in a key column and still create a relationship.</span></span> <span data-ttu-id="c27ea-453">Se isso ocorrer, você deve estar ciente de que valores em branco ou não correspondentes pode afetar os resultados das fórmulas.</span><span class="sxs-lookup"><span data-stu-id="c27ea-453">If this happens, you should be aware that blank values or non-matching values might affect the results of formulas.</span></span>  
  
-   <span data-ttu-id="c27ea-454">Ao vincular tabelas em seu modelo usando relações, você amplia o escopo, ou *contexto*, no qual as fórmulas são avaliadas.</span><span class="sxs-lookup"><span data-stu-id="c27ea-454">When you link tables in your model by using relationships, you enlarge the scope, or *context*, in which your formulas are evaluated.</span></span> <span data-ttu-id="c27ea-455">As alterações no contexto resultantes da adição de novas tabelas, novas relações, ou de alterações na relação ativa podem fazer seus resultados serem alterados de maneira imprevista.</span><span class="sxs-lookup"><span data-stu-id="c27ea-455">Changes in context resulting from the addition of new tables, new relationships, or from changes in the active relationship can cause your results to change in ways that you might not anticipate.</span></span> <span data-ttu-id="c27ea-456">Para obter mais informações, consulte [Contexto em fórmulas DAX](#bkmk_context) anteriormente neste tópico.</span><span class="sxs-lookup"><span data-stu-id="c27ea-456">For more information, see [Context in DAX Formulas](#bkmk_context) earlier in this topic.</span></span>  
  
##  <a name="working-with-tables-and-columns"></a><a name="bkmk_tables"></a><span data-ttu-id="c27ea-457">Trabalhando com tabelas e colunas</span><span class="sxs-lookup"><span data-stu-id="c27ea-457">Working with Tables and Columns</span></span>  
 <span data-ttu-id="c27ea-458">As tabelas em modelos de tabela são semelhantes às tabelas do Excel, mas diferentes quanto à forma como funcionam com dados e fórmulas:</span><span class="sxs-lookup"><span data-stu-id="c27ea-458">Tables in tabular models look like Excel tables, but are different in the way they work with data and with formulas:</span></span>  
  
-   <span data-ttu-id="c27ea-459">As fórmulas só funcionam com tabelas e colunas, e não com células individuais, referências de intervalos ou matrizes.</span><span class="sxs-lookup"><span data-stu-id="c27ea-459">Formulas work only with tables and columns, not with individual cells, range references, or arrays.</span></span>  
  
-   <span data-ttu-id="c27ea-460">As fórmulas podem usar relações para obter valores de tabelas relacionadas.</span><span class="sxs-lookup"><span data-stu-id="c27ea-460">Formulas can use relationships to get values from related tables.</span></span> <span data-ttu-id="c27ea-461">Os valores recuperados sempre são relacionados ao valor da linha atual.</span><span class="sxs-lookup"><span data-stu-id="c27ea-461">The values that are retrieved are always related to the current row value.</span></span>  
  
-   <span data-ttu-id="c27ea-462">Não pode haver dados irregulares, como ocorre em uma planilha do Excel.</span><span class="sxs-lookup"><span data-stu-id="c27ea-462">You cannot have irregular or "ragged" data like you can in an Excel worksheet.</span></span> <span data-ttu-id="c27ea-463">Cada linha de uma tabela deve conter o mesmo número de colunas.</span><span class="sxs-lookup"><span data-stu-id="c27ea-463">Each row in a table must contain the same number of columns.</span></span> <span data-ttu-id="c27ea-464">No entanto, pode haver valores vazios em algumas colunas.</span><span class="sxs-lookup"><span data-stu-id="c27ea-464">However, you can have empty values in some columns.</span></span> <span data-ttu-id="c27ea-465">As tabelas de dados do Excel e as tabelas de dados do modelo tabular não são intercambiáveis.</span><span class="sxs-lookup"><span data-stu-id="c27ea-465">Excel data tables and tabular model data tables are not interchangeable.</span></span>  
  
-   <span data-ttu-id="c27ea-466">Como um tipo de dados é definido para cada coluna, cada valor nessa coluna deve ser do mesmo tipo.</span><span class="sxs-lookup"><span data-stu-id="c27ea-466">Because a data type is set for each column, each value in that column must be of the same type.</span></span>  
  
### <a name="referring-to-tables-and-columns-in-formulas"></a><span data-ttu-id="c27ea-467">Referenciando tabelas e colunas em fórmulas</span><span class="sxs-lookup"><span data-stu-id="c27ea-467">Referring to Tables and Columns in Formulas</span></span>  
 <span data-ttu-id="c27ea-468">É possível referenciar qualquer tabela e coluna usando seu nome.</span><span class="sxs-lookup"><span data-stu-id="c27ea-468">You can refer to any table and column by using its name.</span></span> <span data-ttu-id="c27ea-469">Por exemplo, a seguinte fórmula ilustra como referenciar colunas de duas tabelas usando o nome *totalmente qualificado* :</span><span class="sxs-lookup"><span data-stu-id="c27ea-469">For example, the following formula illustrates how to refer to columns from two tables by using the *fully qualified* name:</span></span>  
  
```  
=SUM('New Sales'[Amount]) + SUM('Past Sales'[Amount])  
```  
  
 <span data-ttu-id="c27ea-470">Quando uma fórmula é avaliada, o designer do modelo primeiro verifica a sintaxe geral e, em seguida, os nomes das colunas e tabelas que você fornece em relação a possíveis colunas e tabelas no contexto atual.</span><span class="sxs-lookup"><span data-stu-id="c27ea-470">When a formula is evaluated, the model designer first checks for general syntax, and then checks the names of columns and tables that you provide against possible columns and tables in the current context.</span></span> <span data-ttu-id="c27ea-471">Se o nome for ambíguo ou se a coluna ou tabela não puder ser encontrada, você obterá um erro na fórmula (uma cadeia de caracteres #ERROR em lugar de um valor de dados em células nas quais o erro ocorre).</span><span class="sxs-lookup"><span data-stu-id="c27ea-471">If the name is ambiguous or if the column or table cannot be found, you will get an error on your formula (an #ERROR string instead of a data value in cells where the error occurs).</span></span> <span data-ttu-id="c27ea-472">Para obter mais informações sobre requisitos de nomenclatura para tabelas, colunas e outros objetos, consulte "requisitos de nomenclatura" na [especificação de sintaxe Dax para PowerPivot](/dax/dax-syntax-reference).</span><span class="sxs-lookup"><span data-stu-id="c27ea-472">For more information about naming requirements for tables, columns, and other objects, see "Naming Requirements" in [DAX Syntax Specification for PowerPivot](/dax/dax-syntax-reference).</span></span>  
  
### <a name="table-relationships"></a><span data-ttu-id="c27ea-473">Relações de tabela</span><span class="sxs-lookup"><span data-stu-id="c27ea-473">Table Relationships</span></span>  
 <span data-ttu-id="c27ea-474">Ao criar relações entre tabelas, você ganha a capacidade de procurar dados em outra tabela e usar valores relacionados para executar cálculos complexos.</span><span class="sxs-lookup"><span data-stu-id="c27ea-474">By creating relationships between tables, you gain the ability to look up data in another table and use related values to perform complex calculations.</span></span> <span data-ttu-id="c27ea-475">Por exemplo, é possível usar uma coluna calculada para procurar todos os registros de envio relacionados ao revendedor atual e, em seguida, à soma dos custos de envio de cada.</span><span class="sxs-lookup"><span data-stu-id="c27ea-475">For example, you can use a calculated column to look up all the shipping records related to the current reseller, and then sum the shipping costs for each.</span></span> <span data-ttu-id="c27ea-476">Em muitos casos, porém, uma relação talvez não seja necessária.</span><span class="sxs-lookup"><span data-stu-id="c27ea-476">In many cases, however, a relationship might not be necessary.</span></span> <span data-ttu-id="c27ea-477">Você pode usar a função LOOKUPVALUE em uma fórmula para retornar o valor no *result_columnName* para a linha que atende aos critérios especificados nos parâmetros *search_column* e *search_value* .</span><span class="sxs-lookup"><span data-stu-id="c27ea-477">You can use the LOOKUPVALUE function in a formula to return the value in *result_columnName* for the row that meets criteria specified in the *search_column* and *search_value* parameters.</span></span>  
  
 <span data-ttu-id="c27ea-478">Muitas funções DAX exigem uma relação existente entre as tabelas, ou entre várias tabelas, para localizar as colunas que você referenciou e retornar resultados que tenham sentido.</span><span class="sxs-lookup"><span data-stu-id="c27ea-478">Many DAX functions require that a relationship exist between the tables, or among multiple tables, in order to locate the columns that you have referenced and return results that make sense.</span></span> <span data-ttu-id="c27ea-479">Outras funções tentarão identificar a relação; no entanto, tendo em vista melhores resultados, você deverá criar sempre uma relação onde for possível.</span><span class="sxs-lookup"><span data-stu-id="c27ea-479">Other functions will attempt to identify the relationship; however, for best results you should always create a relationship where possible.</span></span> <span data-ttu-id="c27ea-480">Para obter mais informações, consulte [Fórmulas e o modelo de tabela](#bkmk_RelModel) anteriormente neste tópico.</span><span class="sxs-lookup"><span data-stu-id="c27ea-480">For more information, see [Formulas and the Tabular Model](#bkmk_RelModel) earlier in this topic.</span></span>  
  
##  <a name="updating-the-results-of-formulas-process"></a><a name="bkmk_RefreshRecalc"></a> <span data-ttu-id="c27ea-481">Atualizando os resultados de fórmulas (Processo)</span><span class="sxs-lookup"><span data-stu-id="c27ea-481">Updating the Results of Formulas (Process)</span></span>  
 <span data-ttu-id="c27ea-482">*Processamento de dados* e *recálculo* são duas operações separadas, mas relacionadas.</span><span class="sxs-lookup"><span data-stu-id="c27ea-482">*Data process* and *recalculation* are two separate but related operations.</span></span> <span data-ttu-id="c27ea-483">Você deve compreender totalmente esses conceitos ao criar um modelo que contenha fórmulas complexas, grandes volumes de dados ou dados obtidos de fontes de dados externas.</span><span class="sxs-lookup"><span data-stu-id="c27ea-483">You should thoroughly understand these concepts when designing a model that contains complex formulas, large amounts of data, or data that is obtained from external data sources.</span></span>  
  
 <span data-ttu-id="c27ea-484">*Processamento de dados* é o processo de atualizar os dados em um modelo com novos dados de uma fonte de dados externa.</span><span class="sxs-lookup"><span data-stu-id="c27ea-484">*Processing data* is the process of updating the data in a model with new data from an external data source.</span></span>  
  
 <span data-ttu-id="c27ea-485">*Recálculo* é o processo de atualizar os resultados das fórmulas para refletir todas as alterações feitas nas próprias fórmulas e nos dados subjacentes.</span><span class="sxs-lookup"><span data-stu-id="c27ea-485">*Recalculation* is the process of updating the results of formulas to reflect any changes to the formulas themselves and to reflect changes in the underlying data.</span></span> <span data-ttu-id="c27ea-486">O recálculo pode afetar o desempenho das seguintes formas:</span><span class="sxs-lookup"><span data-stu-id="c27ea-486">Recalculation can affect performance in the following ways:</span></span>  
  
-   <span data-ttu-id="c27ea-487">O valores em uma coluna calculada são computados e armazenados no modelo.</span><span class="sxs-lookup"><span data-stu-id="c27ea-487">The values in a calculated column are computed and stored in the model.</span></span> <span data-ttu-id="c27ea-488">Para atualizar os valores na coluna calculada, você deve processar o modelo usando um dos três comandos de processamento-processar completo, processar dados ou processar Recalc.</span><span class="sxs-lookup"><span data-stu-id="c27ea-488">To update the values in the calculated column, you must process the model using one of three processing commands - Process Full, Process Data, or Process Recalc.</span></span> <span data-ttu-id="c27ea-489">O resultado da fórmula sempre deve ser recalculado para a coluna inteira, todas as vezes que você alterar a fórmula.</span><span class="sxs-lookup"><span data-stu-id="c27ea-489">The result of the formula must always be recalculated for the entire column, whenever you change the formula.</span></span>  
  
-   <span data-ttu-id="c27ea-490">Os valores calculados por medidas são avaliados dinamicamente sempre que um usuário adiciona a medida a uma tabela dinâmica ou abre um relatório; à medida que o usuário modifica o contexto, os valores retornados pela medida são alterados.</span><span class="sxs-lookup"><span data-stu-id="c27ea-490">The values calculated by measures are dynamically evaluated whenever a user adds the measure to a pivot table or open a report; as the user modifies the context, values returned by the measure change.</span></span> <span data-ttu-id="c27ea-491">Os resultados da medida sempre refletem o mais recente no cache na memória.</span><span class="sxs-lookup"><span data-stu-id="c27ea-491">The results of the measure always reflect the latest in the in-memory cache.</span></span>  
  
 <span data-ttu-id="c27ea-492">O processamento e o recálculo não têm efeito nas fórmulas de filtro de linha, a menos que o resultado de um recálculo retorne um valor diferente, tornando a linha consultável ou não consultável pelos membros da função.</span><span class="sxs-lookup"><span data-stu-id="c27ea-492">Processing and recalculation have no effect on row filter formulas unless the result of a recalculation returns a different value, thus making the row queryable or not queryable by role members.</span></span>  
  
 <span data-ttu-id="c27ea-493">Para obter mais informações, consulte [Processar dados &#40;SSAS de Tabela&#41;](../process-data-ssas-tabular.md).</span><span class="sxs-lookup"><span data-stu-id="c27ea-493">For more information, see [Process Data &#40;SSAS Tabular&#41;](../process-data-ssas-tabular.md).</span></span>  
  
##  <a name="troubleshooting-errors-in-formulas"></a><a name="bkmk_troubleshoot"></a><span data-ttu-id="c27ea-494">Solucionando problemas de erros em fórmulas</span><span class="sxs-lookup"><span data-stu-id="c27ea-494">Troubleshooting Errors in Formulas</span></span>  
 <span data-ttu-id="c27ea-495">Se você receber um erro ao definir uma fórmula, talvez a fórmula contenha um *erro sintático*, um *erro semântico*ou *erro de cálculo*.</span><span class="sxs-lookup"><span data-stu-id="c27ea-495">If you get an error when defining a formula, the formula might contain either a *syntactic error*, *semantic error*, or *calculation error*.</span></span>  
  
 <span data-ttu-id="c27ea-496">Erros sintáticos são os mais fáceis de resolver.</span><span class="sxs-lookup"><span data-stu-id="c27ea-496">Syntactic errors are the easiest to resolve.</span></span> <span data-ttu-id="c27ea-497">Em geral, eles envolvem a falta de um parêntese ou de uma vírgula.</span><span class="sxs-lookup"><span data-stu-id="c27ea-497">They typically involve a missing parenthesis or comma.</span></span> <span data-ttu-id="c27ea-498">Para obter ajuda com a sintaxe de funções individuais, consulte [Referência de Função DAX](/dax/dax-function-reference).</span><span class="sxs-lookup"><span data-stu-id="c27ea-498">For help with the syntax of individual functions, see [DAX Function Reference](/dax/dax-function-reference).</span></span>  
  
 <span data-ttu-id="c27ea-499">O outro tipo de erro ocorre quando a sintaxe está correta, mas o valor ou a coluna referenciada não faz sentido no contexto da fórmula.</span><span class="sxs-lookup"><span data-stu-id="c27ea-499">The other type of error occurs when the syntax is correct, but the value or the column referenced does not make sense in the context of the formula.</span></span> <span data-ttu-id="c27ea-500">Esses erros semânticos e de cálculo podem ser causados por um dos seguintes problemas:</span><span class="sxs-lookup"><span data-stu-id="c27ea-500">Such semantic and calculation errors might be caused by any of the following problems:</span></span>  
  
-   <span data-ttu-id="c27ea-501">A fórmula se refere a uma coluna, tabela ou função não existente.</span><span class="sxs-lookup"><span data-stu-id="c27ea-501">The formula refers to a non-existing column, table, or function.</span></span>  
  
-   <span data-ttu-id="c27ea-502">A fórmula parece estar correta, mas quando o mecanismo de dados busca os dados, encontra uma incompatibilidade de tipos e gera um erro.</span><span class="sxs-lookup"><span data-stu-id="c27ea-502">The formula appears to be correct, but when the data engine fetches the data it finds a type mismatch, and raises an error.</span></span>  
  
-   <span data-ttu-id="c27ea-503">A fórmula passa um número incorreto ou um tipo de parâmetros a uma função.</span><span class="sxs-lookup"><span data-stu-id="c27ea-503">The formula passes an incorrect number or type of parameters to a function.</span></span>  
  
-   <span data-ttu-id="c27ea-504">A fórmula referencia uma coluna diferente que tem o erro e, por isso, os valores são inválidos.</span><span class="sxs-lookup"><span data-stu-id="c27ea-504">The formula refers to a different column that has an error, and therefore its values are invalid.</span></span>  
  
-   <span data-ttu-id="c27ea-505">A fórmula refere-se a uma coluna que não foi processada, significando que tem metadados mas nenhum dado real para usar para cálculos.</span><span class="sxs-lookup"><span data-stu-id="c27ea-505">The formula refers to a column that has not been processed, meaning it has metadata but no actual data to use for calculations.</span></span>  
  
 <span data-ttu-id="c27ea-506">Nos quatro primeiros casos, o DAX sinaliza a coluna inteira que contém a fórmula inválida.</span><span class="sxs-lookup"><span data-stu-id="c27ea-506">In the first four cases, DAX flags the entire column that contains the invalid formula.</span></span> <span data-ttu-id="c27ea-507">No último caso, a DAX torna a coluna indisponível para indicar que ela está em um estado não processado.</span><span class="sxs-lookup"><span data-stu-id="c27ea-507">In the last case, DAX grays out the column to indicate that the column is in an unprocessed state.</span></span>  
  
##  <a name="additional-resources"></a><a name="bkmk_addional_resources"></a> <span data-ttu-id="c27ea-508">Recursos adicionais</span><span class="sxs-lookup"><span data-stu-id="c27ea-508">Additional Resources</span></span>  
 <span data-ttu-id="c27ea-509">A [Modelagem Tabular &#40;Tutorial do Adventure Works&#41;](../tabular-modeling-adventure-works-tutorial.md) fornece instruções passo a passo sobre como criar um modelo de tabela que inclui muitos cálculos nas colunas calculadas, medidas e filtros de linha.</span><span class="sxs-lookup"><span data-stu-id="c27ea-509">The [Tabular Modeling &#40;Adventure Works Tutorial&#41;](../tabular-modeling-adventure-works-tutorial.md) provides step-by-step instructions on how to create a tabular model that includes many calculations in calculated columns, measures, and row filters.</span></span> <span data-ttu-id="c27ea-510">Para a maioria das fórmulas, uma descrição sobre o que a fórmula deve fazer é fornecida.</span><span class="sxs-lookup"><span data-stu-id="c27ea-510">For most formulas, a description about what the formula is meant to do is provided.</span></span>  
  
 <span data-ttu-id="c27ea-511">O [Blog da equipe do Analysis Services e PowerPivot](https://go.microsoft.com/fwlink/?LinkID=220949&clcid=0x409) fornece informações, dicas, notícias e anúncios sobre o [!INCLUDE[ssASCurrent](../../includes/ssascurrent-md.md)] e o PowerPivot.</span><span class="sxs-lookup"><span data-stu-id="c27ea-511">The [Analysis Services and PowerPivot Team Blog](https://go.microsoft.com/fwlink/?LinkID=220949&clcid=0x409) provides information, tips, news and announcements about [!INCLUDE[ssASCurrent](../../includes/ssascurrent-md.md)] and PowerPivot.</span></span>  
  
 <span data-ttu-id="c27ea-512">O [Central de Recursos do DAX](https://go.microsoft.com/fwlink/?LinkID=220966&clcid=0x409) fornece informações internas e externas sobre o DAX, incluindo várias soluções DAX enviadas por profissionais de Business Intelligence líderes.</span><span class="sxs-lookup"><span data-stu-id="c27ea-512">The [DAX Resource Center](https://go.microsoft.com/fwlink/?LinkID=220966&clcid=0x409) provides both internal and external information on DAX, including numerous DAX solutions submitted by leading Business Intelligence professionals.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="c27ea-513">Consulte Também</span><span class="sxs-lookup"><span data-stu-id="c27ea-513">See Also</span></span>  
 <span data-ttu-id="c27ea-514">[Expressões de análise de dados &#40;referência de&#41; DAX](/dax/data-analysis-expressions-dax-reference) </span><span class="sxs-lookup"><span data-stu-id="c27ea-514">[Data Analysis Expressions &#40;DAX&#41; Reference](/dax/data-analysis-expressions-dax-reference) </span></span>  
 <span data-ttu-id="c27ea-515">[Medidas &#40;&#41;de tabela do SSAS](measures-ssas-tabular.md) </span><span class="sxs-lookup"><span data-stu-id="c27ea-515">[Measures &#40;SSAS Tabular&#41;](measures-ssas-tabular.md) </span></span>  
 <span data-ttu-id="c27ea-516">[Colunas calculadas &#40;SSAS de tabela&#41;](ssas-calculated-columns.md) </span><span class="sxs-lookup"><span data-stu-id="c27ea-516">[Calculated Columns &#40;SSAS Tabular&#41;](ssas-calculated-columns.md) </span></span>  
 <span data-ttu-id="c27ea-517">[Funções &#40;SSAS de tabela&#41;](roles-ssas-tabular.md) </span><span class="sxs-lookup"><span data-stu-id="c27ea-517">[Roles &#40;SSAS Tabular&#41;](roles-ssas-tabular.md) </span></span>  
 <span data-ttu-id="c27ea-518">[KPIs &#40;SSAS de tabela&#41;](kpis-ssas-tabular.md) </span><span class="sxs-lookup"><span data-stu-id="c27ea-518">[KPIs &#40;SSAS Tabular&#41;](kpis-ssas-tabular.md) </span></span>  
 [<span data-ttu-id="c27ea-519">Fontes de dados com suporte &#40;SSAS de Tabela&#41;</span><span class="sxs-lookup"><span data-stu-id="c27ea-519">Data Sources Supported &#40;SSAS Tabular&#41;</span></span>](data-sources-supported-ssas-tabular.md)  
  
  
