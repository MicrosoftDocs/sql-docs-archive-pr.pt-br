---
title: Relações (SSAS tabular) | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
ms.assetid: 21e0144a-3cfd-4bc7-87ff-bb7d1800ed2f
author: minewiskan
ms.author: owend
ms.openlocfilehash: eac90102e4595bf19cbeb7eefc22e975ecf53610
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87684361"
---
# <a name="relationships-ssas-tabular"></a><span data-ttu-id="07fe1-102">Relações (SSAS tabular)</span><span class="sxs-lookup"><span data-stu-id="07fe1-102">Relationships (SSAS Tabular)</span></span>
  <span data-ttu-id="07fe1-103">Em modelos tabulares, uma relação é uma conexão entre duas tabelas de dados.</span><span class="sxs-lookup"><span data-stu-id="07fe1-103">In tabular models, a relationship is a connection between two tables of data.</span></span> <span data-ttu-id="07fe1-104">A relação estabelece como os dados nas duas tabelas devem ser correlacionados.</span><span class="sxs-lookup"><span data-stu-id="07fe1-104">The relationship establishes how the data in the two tables should be correlated.</span></span> <span data-ttu-id="07fe1-105">Por exemplo, podem ser relacionadas às tabelas Customers e Orders para mostrar o nome do cliente associado a cada ordem.</span><span class="sxs-lookup"><span data-stu-id="07fe1-105">For example, a Customers table and an Orders table can be related in order to show the customer name that is associated with each order.</span></span>  
  
 <span data-ttu-id="07fe1-106">Ao usar o Assistente de Importação de Tabela para importar da mesma fonte de dados, as relações que já existem nas tabelas (na fonte de dados) que você escolhe importar serão recriadas no modelo.</span><span class="sxs-lookup"><span data-stu-id="07fe1-106">When using the Table Import Wizard to import from the same data source, relationships that already exist in tables (at the data source) that you choose to import will be re-created in the model.</span></span> <span data-ttu-id="07fe1-107">Você pode exibir relações que foram detectadas e recriadas automaticamente usando o designer de modelos na Exibição de Diagrama ou usando a caixa de diálogo Gerenciar Relações.</span><span class="sxs-lookup"><span data-stu-id="07fe1-107">You can view relationships that were detected and re-created automatically by using the model designer in Diagram View or by using the Manage Relationships dialog box.</span></span> <span data-ttu-id="07fe1-108">Você também pode criar manualmente novas relações entre tabelas usando o designer de modelos na Exibição de Diagrama ou usando a caixa de diálogo Criar Relação ou Gerenciar Relações.</span><span class="sxs-lookup"><span data-stu-id="07fe1-108">You can also create new relationships between tables manually by using the model designer in Diagram View or by using the Create Relationship or Manage Relationships dialog box.</span></span>  
  
 <span data-ttu-id="07fe1-109">Após a definição de relações entre tabelas, automaticamente durante a importação ou manualmente, você poderá filtrar dados usando colunas relacionadas e pesquisar valores em tabelas relacionadas.</span><span class="sxs-lookup"><span data-stu-id="07fe1-109">After relationships between tables have been defined, either automatically during import or created manually, you will be able to filter data by using related columns and look up values in related tables.</span></span>  
  
> [!TIP]  
>  <span data-ttu-id="07fe1-110">Se seu modelo contiver muitas relações, a Exibição de Diagrama poderá ajudá-lo a visualizar melhor e criar novas relações entre tabelas.</span><span class="sxs-lookup"><span data-stu-id="07fe1-110">If your model contains many relationships, Diagram View can better help you better visualize and create new relationships between tables.</span></span>  
  
 <span data-ttu-id="07fe1-111">Seções neste tópico:</span><span class="sxs-lookup"><span data-stu-id="07fe1-111">Sections in this topic:</span></span>  
  
-   [<span data-ttu-id="07fe1-112">Benefícios</span><span class="sxs-lookup"><span data-stu-id="07fe1-112">Benefits</span></span>](#what)  
  
-   [<span data-ttu-id="07fe1-113">Requisitos para relações</span><span class="sxs-lookup"><span data-stu-id="07fe1-113">Requirements for Relationships</span></span>](#requirements)  
  
-   [<span data-ttu-id="07fe1-114">Inferência de relações</span><span class="sxs-lookup"><span data-stu-id="07fe1-114">Inference of Relationships</span></span>](#detection)  
  
-   [<span data-ttu-id="07fe1-115">Detecção de relações ao importar dados</span><span class="sxs-lookup"><span data-stu-id="07fe1-115">Detection of Relationships When Importing Data</span></span>](#bkmk_detection)  
  
-   [<span data-ttu-id="07fe1-116">Criar relações manualmente</span><span class="sxs-lookup"><span data-stu-id="07fe1-116">Manually Create Relationships</span></span>](#bkmk_manually_create)  
  
-   [<span data-ttu-id="07fe1-117">Valores duplicados e outros erros</span><span class="sxs-lookup"><span data-stu-id="07fe1-117">Duplicate Values and Other Errors</span></span>](#bkmk_dupl_errors)  
  
-   [<span data-ttu-id="07fe1-118">Tarefas relacionadas</span><span class="sxs-lookup"><span data-stu-id="07fe1-118">Related Tasks</span></span>](#bkmk_related_tasks)  
  
##  <a name="benefits"></a><a name="what"></a> <span data-ttu-id="07fe1-119">Benefícios</span><span class="sxs-lookup"><span data-stu-id="07fe1-119">Benefits</span></span>  
 <span data-ttu-id="07fe1-120">Relação é uma conexão entre duas tabelas de dados, baseada em uma ou mais colunas em cada tabela.</span><span class="sxs-lookup"><span data-stu-id="07fe1-120">A relationship is a connection between two tables of data, based on one or more columns in each table.</span></span> <span data-ttu-id="07fe1-121">Para saber por que as relações são úteis, imagine que você acompanhe dados para pedidos de clientes na empresa.</span><span class="sxs-lookup"><span data-stu-id="07fe1-121">To see why relationships are useful, imagine that you track data for customer orders in your business.</span></span> <span data-ttu-id="07fe1-122">Você poderia acompanhar todos os dados em uma única tabela com uma estrutura semelhante à seguinte:</span><span class="sxs-lookup"><span data-stu-id="07fe1-122">You could track all the data in a single table that has a structure like the following:</span></span>  
  
|<span data-ttu-id="07fe1-123">CustomerID</span><span class="sxs-lookup"><span data-stu-id="07fe1-123">CustomerID</span></span>|<span data-ttu-id="07fe1-124">Nome</span><span class="sxs-lookup"><span data-stu-id="07fe1-124">Name</span></span>|<span data-ttu-id="07fe1-125">EMail</span><span class="sxs-lookup"><span data-stu-id="07fe1-125">EMail</span></span>|<span data-ttu-id="07fe1-126">DiscountRate</span><span class="sxs-lookup"><span data-stu-id="07fe1-126">DiscountRate</span></span>|<span data-ttu-id="07fe1-127">OrderID</span><span class="sxs-lookup"><span data-stu-id="07fe1-127">OrderID</span></span>|<span data-ttu-id="07fe1-128">OrderDate</span><span class="sxs-lookup"><span data-stu-id="07fe1-128">OrderDate</span></span>|<span data-ttu-id="07fe1-129">Produto</span><span class="sxs-lookup"><span data-stu-id="07fe1-129">Product</span></span>|<span data-ttu-id="07fe1-130">Quantidade</span><span class="sxs-lookup"><span data-stu-id="07fe1-130">Quantity</span></span>|  
|----------------|----------|-----------|------------------|-------------|---------------|-------------|--------------|  
|<span data-ttu-id="07fe1-131">1</span><span class="sxs-lookup"><span data-stu-id="07fe1-131">1</span></span>|<span data-ttu-id="07fe1-132">Ashton</span><span class="sxs-lookup"><span data-stu-id="07fe1-132">Ashton</span></span>|chris.ashton@contoso.com|<span data-ttu-id="07fe1-133">0,05</span><span class="sxs-lookup"><span data-stu-id="07fe1-133">.05</span></span>|<span data-ttu-id="07fe1-134">256</span><span class="sxs-lookup"><span data-stu-id="07fe1-134">256</span></span>|<span data-ttu-id="07fe1-135">2010-01-07</span><span class="sxs-lookup"><span data-stu-id="07fe1-135">2010-01-07</span></span>|<span data-ttu-id="07fe1-136">Compact Digital</span><span class="sxs-lookup"><span data-stu-id="07fe1-136">Compact Digital</span></span>|<span data-ttu-id="07fe1-137">11</span><span class="sxs-lookup"><span data-stu-id="07fe1-137">11</span></span>|  
|<span data-ttu-id="07fe1-138">1</span><span class="sxs-lookup"><span data-stu-id="07fe1-138">1</span></span>|<span data-ttu-id="07fe1-139">Ashton</span><span class="sxs-lookup"><span data-stu-id="07fe1-139">Ashton</span></span>|chris.ashton@contoso.com|<span data-ttu-id="07fe1-140">0,05</span><span class="sxs-lookup"><span data-stu-id="07fe1-140">.05</span></span>|<span data-ttu-id="07fe1-141">255</span><span class="sxs-lookup"><span data-stu-id="07fe1-141">255</span></span>|<span data-ttu-id="07fe1-142">2010-01-03</span><span class="sxs-lookup"><span data-stu-id="07fe1-142">2010-01-03</span></span>|<span data-ttu-id="07fe1-143">SLR Camera</span><span class="sxs-lookup"><span data-stu-id="07fe1-143">SLR Camera</span></span>|<span data-ttu-id="07fe1-144">15</span><span class="sxs-lookup"><span data-stu-id="07fe1-144">15</span></span>|  
|<span data-ttu-id="07fe1-145">2</span><span class="sxs-lookup"><span data-stu-id="07fe1-145">2</span></span>|<span data-ttu-id="07fe1-146">Jaworski</span><span class="sxs-lookup"><span data-stu-id="07fe1-146">Jaworski</span></span>|michal.jaworski@contoso.com|<span data-ttu-id="07fe1-147">0,10</span><span class="sxs-lookup"><span data-stu-id="07fe1-147">.10</span></span>|<span data-ttu-id="07fe1-148">254</span><span class="sxs-lookup"><span data-stu-id="07fe1-148">254</span></span>|<span data-ttu-id="07fe1-149">2010-01-03</span><span class="sxs-lookup"><span data-stu-id="07fe1-149">2010-01-03</span></span>|<span data-ttu-id="07fe1-150">Budget Movie-Maker</span><span class="sxs-lookup"><span data-stu-id="07fe1-150">Budget Movie-Maker</span></span>|<span data-ttu-id="07fe1-151">27</span><span class="sxs-lookup"><span data-stu-id="07fe1-151">27</span></span>|  
  
 <span data-ttu-id="07fe1-152">Esta abordagem pode funcionar, mas envolve o armazenamento de muitos dados redundantes, como o endereço de email do cliente para todos os pedidos.</span><span class="sxs-lookup"><span data-stu-id="07fe1-152">This approach can work, but it involves storing a lot of redundant data, such as the customer e-mail address for every order.</span></span> <span data-ttu-id="07fe1-153">Embora o armazenamento seja barato, você deverá ter certeza de que atualizou todas as linhas desse cliente se o endereço de email for alterado.</span><span class="sxs-lookup"><span data-stu-id="07fe1-153">Storage is cheap, but you have to make sure you update every row for that customer if the e-mail address changes.</span></span> <span data-ttu-id="07fe1-154">Uma solução para esse problema é dividir os dados em várias tabelas e definir relações entre essas tabelas.</span><span class="sxs-lookup"><span data-stu-id="07fe1-154">One solution to this problem is to split the data into multiple tables and define relationships between those tables.</span></span> <span data-ttu-id="07fe1-155">Essa é a abordagem usada em *bancos de dados relacionais* como o [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="07fe1-155">This is the approach used in *relational databases* like [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="07fe1-156">Por exemplo, um banco de dados importado para um modelo pode representar dados de pedidos usando três tabelas relacionadas:</span><span class="sxs-lookup"><span data-stu-id="07fe1-156">For example, a database that you import into a model might represent order data by using three related tables:</span></span>  
  
### <a name="customers"></a><span data-ttu-id="07fe1-157">Clientes</span><span class="sxs-lookup"><span data-stu-id="07fe1-157">Customers</span></span>  
  
|<span data-ttu-id="07fe1-158">[CustomerID]</span><span class="sxs-lookup"><span data-stu-id="07fe1-158">[CustomerID]</span></span>|<span data-ttu-id="07fe1-159">Nome</span><span class="sxs-lookup"><span data-stu-id="07fe1-159">Name</span></span>|<span data-ttu-id="07fe1-160">Email</span><span class="sxs-lookup"><span data-stu-id="07fe1-160">Email</span></span>|  
|--------------------|----------|-----------|  
|<span data-ttu-id="07fe1-161">1</span><span class="sxs-lookup"><span data-stu-id="07fe1-161">1</span></span>|<span data-ttu-id="07fe1-162">Ashton</span><span class="sxs-lookup"><span data-stu-id="07fe1-162">Ashton</span></span>|chris.ashton@contoso.com|  
|<span data-ttu-id="07fe1-163">2</span><span class="sxs-lookup"><span data-stu-id="07fe1-163">2</span></span>|<span data-ttu-id="07fe1-164">Jaworski</span><span class="sxs-lookup"><span data-stu-id="07fe1-164">Jaworski</span></span>|michal.jaworski@contoso.com|  
  
### <a name="customerdiscounts"></a><span data-ttu-id="07fe1-165">CustomerDiscounts</span><span class="sxs-lookup"><span data-stu-id="07fe1-165">CustomerDiscounts</span></span>  
  
|<span data-ttu-id="07fe1-166">[CustomerID]</span><span class="sxs-lookup"><span data-stu-id="07fe1-166">[CustomerID]</span></span>|<span data-ttu-id="07fe1-167">DiscountRate</span><span class="sxs-lookup"><span data-stu-id="07fe1-167">DiscountRate</span></span>|  
|--------------------|------------------|  
|<span data-ttu-id="07fe1-168">1</span><span class="sxs-lookup"><span data-stu-id="07fe1-168">1</span></span>|<span data-ttu-id="07fe1-169">0,05</span><span class="sxs-lookup"><span data-stu-id="07fe1-169">.05</span></span>|  
|<span data-ttu-id="07fe1-170">2</span><span class="sxs-lookup"><span data-stu-id="07fe1-170">2</span></span>|<span data-ttu-id="07fe1-171">0,10</span><span class="sxs-lookup"><span data-stu-id="07fe1-171">.10</span></span>|  
  
### <a name="orders"></a><span data-ttu-id="07fe1-172">Pedidos</span><span class="sxs-lookup"><span data-stu-id="07fe1-172">Orders</span></span>  
  
|<span data-ttu-id="07fe1-173">[CustomerID]</span><span class="sxs-lookup"><span data-stu-id="07fe1-173">[CustomerID]</span></span>|<span data-ttu-id="07fe1-174">OrderID</span><span class="sxs-lookup"><span data-stu-id="07fe1-174">OrderID</span></span>|<span data-ttu-id="07fe1-175">OrderDate</span><span class="sxs-lookup"><span data-stu-id="07fe1-175">OrderDate</span></span>|<span data-ttu-id="07fe1-176">Produto</span><span class="sxs-lookup"><span data-stu-id="07fe1-176">Product</span></span>|<span data-ttu-id="07fe1-177">Quantidade</span><span class="sxs-lookup"><span data-stu-id="07fe1-177">Quantity</span></span>|  
|--------------------|-------------|---------------|-------------|--------------|  
|<span data-ttu-id="07fe1-178">1</span><span class="sxs-lookup"><span data-stu-id="07fe1-178">1</span></span>|<span data-ttu-id="07fe1-179">256</span><span class="sxs-lookup"><span data-stu-id="07fe1-179">256</span></span>|<span data-ttu-id="07fe1-180">2010-01-07</span><span class="sxs-lookup"><span data-stu-id="07fe1-180">2010-01-07</span></span>|<span data-ttu-id="07fe1-181">Compact Digital</span><span class="sxs-lookup"><span data-stu-id="07fe1-181">Compact Digital</span></span>|<span data-ttu-id="07fe1-182">11</span><span class="sxs-lookup"><span data-stu-id="07fe1-182">11</span></span>|  
|<span data-ttu-id="07fe1-183">1</span><span class="sxs-lookup"><span data-stu-id="07fe1-183">1</span></span>|<span data-ttu-id="07fe1-184">255</span><span class="sxs-lookup"><span data-stu-id="07fe1-184">255</span></span>|<span data-ttu-id="07fe1-185">2010-01-03</span><span class="sxs-lookup"><span data-stu-id="07fe1-185">2010-01-03</span></span>|<span data-ttu-id="07fe1-186">SLR Camera</span><span class="sxs-lookup"><span data-stu-id="07fe1-186">SLR Camera</span></span>|<span data-ttu-id="07fe1-187">15</span><span class="sxs-lookup"><span data-stu-id="07fe1-187">15</span></span>|  
|<span data-ttu-id="07fe1-188">2</span><span class="sxs-lookup"><span data-stu-id="07fe1-188">2</span></span>|<span data-ttu-id="07fe1-189">254</span><span class="sxs-lookup"><span data-stu-id="07fe1-189">254</span></span>|<span data-ttu-id="07fe1-190">2010-01-03</span><span class="sxs-lookup"><span data-stu-id="07fe1-190">2010-01-03</span></span>|<span data-ttu-id="07fe1-191">Budget Movie-Maker</span><span class="sxs-lookup"><span data-stu-id="07fe1-191">Budget Movie-Maker</span></span>|<span data-ttu-id="07fe1-192">27</span><span class="sxs-lookup"><span data-stu-id="07fe1-192">27</span></span>|  
  
 <span data-ttu-id="07fe1-193">Se você importar essas tabelas do mesmo banco de dados, o Assistente de Importação de Tabela poderá detectar as relações entre as tabelas com base nas colunas que estão entre [colchetes] e poderá reproduzir essas relações na janela do designer de modelo.</span><span class="sxs-lookup"><span data-stu-id="07fe1-193">If you import these tables from the same database, the Table Import Wizard can detect the relationships between the tables based on the columns that are in [brackets], and can reproduce these relationships in the model designer.</span></span> <span data-ttu-id="07fe1-194">Para obter mais informações, consulte [Detecção automática e inferência de relações](#detection) neste tópico.</span><span class="sxs-lookup"><span data-stu-id="07fe1-194">For more information, see [Automatic Detection and Inference of Relationships](#detection) in this topic.</span></span> <span data-ttu-id="07fe1-195">Se você importar tabelas de várias fontes, poderá criar relações manualmente, conforme descrito em [Criar uma relação entre duas tabelas &#40;SSAS de Tabela&#41;](create-a-relationship-between-two-tables-ssas-tabular.md).</span><span class="sxs-lookup"><span data-stu-id="07fe1-195">If you import tables from multiple sources, you can manually create relationships as described in [Create a Relationship Between Two Tables &#40;SSAS Tabular&#41;](create-a-relationship-between-two-tables-ssas-tabular.md).</span></span>  
  
### <a name="columns-and-keys"></a><span data-ttu-id="07fe1-196">Colunas e chaves</span><span class="sxs-lookup"><span data-stu-id="07fe1-196">Columns and Keys</span></span>  
 <span data-ttu-id="07fe1-197">As relações se baseiam em colunas de cada tabela que contenham os mesmos dados.</span><span class="sxs-lookup"><span data-stu-id="07fe1-197">Relationships are based on columns in each table that contain the same data.</span></span> <span data-ttu-id="07fe1-198">Por exemplo, as tabelas Customers e Orders podem estar relacionadas porque ambas contêm uma coluna que armazena uma ID do cliente.</span><span class="sxs-lookup"><span data-stu-id="07fe1-198">For example, the Customers and Orders tables can be related to each other because they both contain a column that stores a customer ID.</span></span> <span data-ttu-id="07fe1-199">No exemplo, os nomes de coluna são os mesmos, mas isso não é um requisito.</span><span class="sxs-lookup"><span data-stu-id="07fe1-199">In the example, the column names are the same, but this is not a requirement.</span></span> <span data-ttu-id="07fe1-200">Uma pessoa poderia ser CustomerID e outra, CustomerNumber, desde que todas as linhas na tabela Orders contivessem uma ID que também é armazenada na tabela Customers.</span><span class="sxs-lookup"><span data-stu-id="07fe1-200">One could be CustomerID and another CustomerNumber, as long as all of the rows in the Orders table contain an ID that is also stored in the Customers table.</span></span>  
  
 <span data-ttu-id="07fe1-201">Em um banco de dados relacional, há vários tipos de *chaves*que normalmente são apenas colunas com propriedades especiais.</span><span class="sxs-lookup"><span data-stu-id="07fe1-201">In a relational database, there are several types of *keys*, which are typically just columns with special properties.</span></span> <span data-ttu-id="07fe1-202">Os seguintes quatro tipos de chaves podem ser usados em bancos de dados relacionais:</span><span class="sxs-lookup"><span data-stu-id="07fe1-202">The following four types of keys can be used in relational databases:</span></span>  
  
-   <span data-ttu-id="07fe1-203">*Chave primária*: identifica exclusivamente uma linha de uma tabela, como CustomerID na tabela Customers.</span><span class="sxs-lookup"><span data-stu-id="07fe1-203">*Primary key*: uniquely identifies a row in a table, such as CustomerID in the Customers table.</span></span>  
  
-   <span data-ttu-id="07fe1-204">*Chave alternativa* (ou *chave candidata*): uma coluna diferente da chave primária que é exclusiva.</span><span class="sxs-lookup"><span data-stu-id="07fe1-204">*Alternate key* (or *candidate key*): a column other than the primary key that is unique.</span></span> <span data-ttu-id="07fe1-205">Por exemplo, uma tabela Employees pode armazenar uma ID de funcionário e um cadastro de pessoas físicas, ambos sendo exclusivos.</span><span class="sxs-lookup"><span data-stu-id="07fe1-205">For example, an Employees table might store an employee ID and a social security number, both of which are unique.</span></span>  
  
-   <span data-ttu-id="07fe1-206">*Chave estrangeira*: uma coluna que se refere a uma coluna exclusiva de outra tabela, como CustomerID na tabela Orders, que se refere a CustomerID na tabela Customers.</span><span class="sxs-lookup"><span data-stu-id="07fe1-206">*Foreign key*: a column that refers to a unique column in another table, such as CustomerID in the Orders table, which refers to CustomerID in the Customers table.</span></span>  
  
-   <span data-ttu-id="07fe1-207">*Chave composta*: uma chave composta de mais de uma coluna.</span><span class="sxs-lookup"><span data-stu-id="07fe1-207">*Composite key*: a key that is composed of more than one column.</span></span> <span data-ttu-id="07fe1-208">Não há suporte para chaves compostas em modelos de tabela.</span><span class="sxs-lookup"><span data-stu-id="07fe1-208">Composite keys are not supported in tabular models.</span></span> <span data-ttu-id="07fe1-209">Para obter mais informações, consulte "Chaves compostas e colunas de pesquisa" neste tópico.</span><span class="sxs-lookup"><span data-stu-id="07fe1-209">For more information, see "Composite Keys and Lookup Columns" in this topic.</span></span>  
  
 <span data-ttu-id="07fe1-210">Em modelos de tabela, a chave primária ou a chave alternativa é referenciada como a *coluna de pesquisa relacionada*ou apenas *coluna de pesquisa*.</span><span class="sxs-lookup"><span data-stu-id="07fe1-210">In tabular models, the primary key or alternate key is referred to as the *related lookup column*, or just *lookup column*.</span></span> <span data-ttu-id="07fe1-211">Se uma tabela tiver uma chave primária e uma chave alternativa, será possível usar qualquer uma delas como a coluna de pesquisa.</span><span class="sxs-lookup"><span data-stu-id="07fe1-211">If a table has both a primary and alternate key, you can use either as the lookup column.</span></span> <span data-ttu-id="07fe1-212">A chave estrangeira é chamada de *coluna de origem* ou apenas *coluna*.</span><span class="sxs-lookup"><span data-stu-id="07fe1-212">The foreign key is referred to as the *source column* or just *column*.</span></span> <span data-ttu-id="07fe1-213">Em nosso exemplo, uma relação seria definida entre CustomerID na tabela Orders (a coluna) e CustomerID (a coluna de pesquisa) na tabela Customers.</span><span class="sxs-lookup"><span data-stu-id="07fe1-213">In our example, a relationship would be defined between CustomerID in the Orders table (the column) and CustomerID (the lookup column) in the Customers table.</span></span> <span data-ttu-id="07fe1-214">Se você importar dados de um banco de dados relacional, o designer de modelos escolhe por padrão a chave estrangeira em uma tabela e a chave primária correspondente em outra.</span><span class="sxs-lookup"><span data-stu-id="07fe1-214">If you import data from a relational database, by default the model designer chooses the foreign key from one table and the corresponding primary key from the other table.</span></span> <span data-ttu-id="07fe1-215">No entanto, é possível usar qualquer coluna com valores exclusivos para a coluna de pesquisa.</span><span class="sxs-lookup"><span data-stu-id="07fe1-215">However, you can use any column that has unique values for the lookup column.</span></span>  
  
### <a name="types-of-relationships"></a><span data-ttu-id="07fe1-216">Tipos de relações</span><span class="sxs-lookup"><span data-stu-id="07fe1-216">Types of Relationships</span></span>  
 <span data-ttu-id="07fe1-217">A relação entre Customers e Orders é uma *relação um-para-muitos*.</span><span class="sxs-lookup"><span data-stu-id="07fe1-217">The relationship between Customers and Orders is a *one-to-many relationship*.</span></span> <span data-ttu-id="07fe1-218">Todo cliente pode ter várias ordens, mas uma ordem não pode ter vários clientes.</span><span class="sxs-lookup"><span data-stu-id="07fe1-218">Every customer can have multiple orders, but an order cannot have multiple customers.</span></span> <span data-ttu-id="07fe1-219">Os outros tipos de relação são *um-para-um* e *muitos-para-muitos*.</span><span class="sxs-lookup"><span data-stu-id="07fe1-219">The other types of relationships are *one-to-one* and *many-to-many*.</span></span> <span data-ttu-id="07fe1-220">A tabela CustomerDiscounts, que define uma única taxa de desconto para cada cliente, está em uma relação um-para-um com a tabela Customers.</span><span class="sxs-lookup"><span data-stu-id="07fe1-220">The CustomerDiscounts table, which defines a single discount rate for each customer, is in a one-to-one relationship with the Customers table.</span></span> <span data-ttu-id="07fe1-221">Um exemplo de uma relação muitos-para-muitos é uma relação direta entre Products e Customers, na qual um cliente pode comprar muitos produtos e o mesmo produto pode ser comprado por vários clientes.</span><span class="sxs-lookup"><span data-stu-id="07fe1-221">An example of a many-to-many relationship is a direct relationship between Products and Customers, in which a customer can buy many products and the same product can be bought by many customers.</span></span> <span data-ttu-id="07fe1-222">O designer de modelo não oferece suporte a relações muitos para muitos na interface do usuário.</span><span class="sxs-lookup"><span data-stu-id="07fe1-222">The model designer does not support many-to-many relationships in the user interface.</span></span> <span data-ttu-id="07fe1-223">Para obter mais informações, consulte "[Relações muitos para muitos](#bkmk_many_to_many)" neste tópico.</span><span class="sxs-lookup"><span data-stu-id="07fe1-223">For more information, see "[Many-to-Many Relationships](#bkmk_many_to_many)" in this topic.</span></span>  
  
 <span data-ttu-id="07fe1-224">A tabela a seguir mostra as relações entre as três tabelas:</span><span class="sxs-lookup"><span data-stu-id="07fe1-224">The following table shows the relationships between the three tables:</span></span>  
  
|<span data-ttu-id="07fe1-225">Relação</span><span class="sxs-lookup"><span data-stu-id="07fe1-225">Relationship</span></span>|<span data-ttu-id="07fe1-226">Tipo</span><span class="sxs-lookup"><span data-stu-id="07fe1-226">Type</span></span>|<span data-ttu-id="07fe1-227">coluna de pesquisa</span><span class="sxs-lookup"><span data-stu-id="07fe1-227">Lookup Column</span></span>|<span data-ttu-id="07fe1-228">Column</span><span class="sxs-lookup"><span data-stu-id="07fe1-228">Column</span></span>|  
|------------------|----------|-------------------|------------|  
|<span data-ttu-id="07fe1-229">Customers-CustomerDiscounts</span><span class="sxs-lookup"><span data-stu-id="07fe1-229">Customers-CustomerDiscounts</span></span>|<span data-ttu-id="07fe1-230">um-para-um</span><span class="sxs-lookup"><span data-stu-id="07fe1-230">one-to-one</span></span>|<span data-ttu-id="07fe1-231">Customers.CustomerID</span><span class="sxs-lookup"><span data-stu-id="07fe1-231">Customers.CustomerID</span></span>|<span data-ttu-id="07fe1-232">CustomerDiscounts.CustomerID</span><span class="sxs-lookup"><span data-stu-id="07fe1-232">CustomerDiscounts.CustomerID</span></span>|  
|<span data-ttu-id="07fe1-233">Customers-Orders</span><span class="sxs-lookup"><span data-stu-id="07fe1-233">Customers-Orders</span></span>|<span data-ttu-id="07fe1-234">um-para-muitos</span><span class="sxs-lookup"><span data-stu-id="07fe1-234">one-to-many</span></span>|<span data-ttu-id="07fe1-235">Customers.CustomerID</span><span class="sxs-lookup"><span data-stu-id="07fe1-235">Customers.CustomerID</span></span>|<span data-ttu-id="07fe1-236">Orders.CustomerID</span><span class="sxs-lookup"><span data-stu-id="07fe1-236">Orders.CustomerID</span></span>|  
  
### <a name="relationships-and-performance"></a><span data-ttu-id="07fe1-237">Relações e desempenho</span><span class="sxs-lookup"><span data-stu-id="07fe1-237">Relationships and Performance</span></span>  
 <span data-ttu-id="07fe1-238">Após a criação de uma relação, o designer de modelo normalmente deve recalcular todas as fórmulas que usam colunas de tabelas na relação recém-criada.</span><span class="sxs-lookup"><span data-stu-id="07fe1-238">After any relationship has been created, the model designer typically must recalculate any formulas that use columns from tables in the newly created relationship.</span></span> <span data-ttu-id="07fe1-239">O processamento pode ser demorado, dependendo do volume de dados e da complexidade das relações.</span><span class="sxs-lookup"><span data-stu-id="07fe1-239">Processing can take some time depending on the amount of data and the complexity of the relationships.</span></span>  
  
##  <a name="requirements-for-relationships"></a><a name="requirements"></a><span data-ttu-id="07fe1-240">Requisitos para relações</span><span class="sxs-lookup"><span data-stu-id="07fe1-240">Requirements for Relationships</span></span>  
 <span data-ttu-id="07fe1-241">O designer de modelo tem vários requisitos que devem ser seguidos durante a criação de relações:</span><span class="sxs-lookup"><span data-stu-id="07fe1-241">The model designer has several requirements that must be followed when creating relationships:</span></span>  
  
### <a name="single-active-relationship-between-tables"></a><span data-ttu-id="07fe1-242">Relação ativa única entre tabelas</span><span class="sxs-lookup"><span data-stu-id="07fe1-242">Single Active Relationship between Tables</span></span>  
 <span data-ttu-id="07fe1-243">Várias relações podem resultar em dependências ambíguas entre as tabelas.</span><span class="sxs-lookup"><span data-stu-id="07fe1-243">Multiple relationships could result in ambiguous dependencies between tables.</span></span> <span data-ttu-id="07fe1-244">Para criar cálculos exatos, você precisa de um único caminho de uma tabela para a próxima.</span><span class="sxs-lookup"><span data-stu-id="07fe1-244">To create accurate calculations, you need a single path from one table to the next.</span></span> <span data-ttu-id="07fe1-245">Por isso, pode haver apenas uma relação ativa entre cada par de tabelas.</span><span class="sxs-lookup"><span data-stu-id="07fe1-245">Therefore, there can be only one active relationship between each pair of tables.</span></span> <span data-ttu-id="07fe1-246">Por exemplo, no AdventureWorks DW 2012, a tabela, DimDate, contém uma coluna, DateKey, que está relacionada a três colunas diferentes da tabela FactInternetSales: OrderDate, DueDate e ShipDate.</span><span class="sxs-lookup"><span data-stu-id="07fe1-246">For example, in AdventureWorks DW 2012, the table, DimDate, contains a column, DateKey, that is related to three different columns in the table, FactInternetSales: OrderDate, DueDate, and ShipDate.</span></span> <span data-ttu-id="07fe1-247">Se você tentar importar essas tabelas, a primeira relação será criada com êxito, mas você receberá o seguinte erro em relações sucessivas que envolvam a mesma coluna:</span><span class="sxs-lookup"><span data-stu-id="07fe1-247">If you attempt to import these tables, the first relationship is created successfully, but you will receive the following error on successive relationships that involve the same column:</span></span>  
  
 <span data-ttu-id="07fe1-248">\*Relação: tabela [coluna 1]-tabela de > [coluna 2]-status: erro-motivo: não é possível criar uma relação entre tabelas \<table 1> e \<table 2> .</span><span class="sxs-lookup"><span data-stu-id="07fe1-248">\* Relationship: table[column 1]-> table[column 2]   - Status: error   - Reason: A relationship cannot be created between tables \<table 1> and \<table 2>.</span></span> <span data-ttu-id="07fe1-249">Só pode existir uma relação direta ou indireta entre duas tabelas.</span><span class="sxs-lookup"><span data-stu-id="07fe1-249">Only one direct or indirect relationship can exist between two tables.</span></span>  
  
 <span data-ttu-id="07fe1-250">Se tiver duas tabelas e várias relações entre elas, você precisará importar várias cópias da tabela que contém a coluna de pesquisa e criar uma relação entre cada par de tabelas.</span><span class="sxs-lookup"><span data-stu-id="07fe1-250">If you have two tables and multiple relationships between them, then you will need to import multiple copies of the table that contains the lookup column, and create one relationship between each pair of tables.</span></span>  
  
 <span data-ttu-id="07fe1-251">Pode haver muitas relações inativas entre tabelas.</span><span class="sxs-lookup"><span data-stu-id="07fe1-251">There can be many inactive relationships between tables.</span></span> <span data-ttu-id="07fe1-252">O caminho para usar entre tabelas é especificado pelo cliente de relatório na hora da consulta.</span><span class="sxs-lookup"><span data-stu-id="07fe1-252">The path to use between tables is specified by the reporting client at query time.</span></span>  
  
### <a name="one-relationship-for-each-source-column"></a><span data-ttu-id="07fe1-253">Uma relação para cada coluna de origem</span><span class="sxs-lookup"><span data-stu-id="07fe1-253">One Relationship for Each Source Column</span></span>  
 <span data-ttu-id="07fe1-254">Uma coluna de origem não pode participar de várias relações.</span><span class="sxs-lookup"><span data-stu-id="07fe1-254">A source column cannot participate in multiple relationships.</span></span> <span data-ttu-id="07fe1-255">Se você já usou uma coluna como coluna de origem em uma relação, mas deseja usar essa coluna para conectar a outra coluna de pesquisa relacionada em uma tabela diferente, você poderá criar uma cópia da coluna e usá-la para a nova relação.</span><span class="sxs-lookup"><span data-stu-id="07fe1-255">If you have used a column as a source column in one relationship already, but want to use that column to connect to another related lookup column in a different table, you can create a copy of the column, and use that column for the new relationship.</span></span>  
  
 <span data-ttu-id="07fe1-256">É fácil criar uma cópia de uma coluna que tenha exatamente os mesmos valores usando uma fórmula DAX em uma coluna calculada.</span><span class="sxs-lookup"><span data-stu-id="07fe1-256">It is easy to create a copy of a column that has the exact same values, by using a DAX formula in a calculated column.</span></span> <span data-ttu-id="07fe1-257">Para obter mais informações, consulte [Criar uma coluna calculada &#40;SSAS de Tabela&#41;](ssas-calculated-columns-create-a-calculated-column.md).</span><span class="sxs-lookup"><span data-stu-id="07fe1-257">For more information, see [Create a Calculated Column &#40;SSAS Tabular&#41;](ssas-calculated-columns-create-a-calculated-column.md).</span></span>  
  
### <a name="unique-identifier-for-each-table"></a><span data-ttu-id="07fe1-258">Identificador exclusivo para cada tabela</span><span class="sxs-lookup"><span data-stu-id="07fe1-258">Unique Identifier for Each Table</span></span>  
 <span data-ttu-id="07fe1-259">Cada tabela deve ter uma única coluna que identifica exclusivamente cada linha nessa tabela.</span><span class="sxs-lookup"><span data-stu-id="07fe1-259">Each table must have a single column that uniquely identifies each row in that table.</span></span> <span data-ttu-id="07fe1-260">Essa coluna geralmente é chamada de chave primária.</span><span class="sxs-lookup"><span data-stu-id="07fe1-260">This column is often referred to as the primary key.</span></span>  
  
### <a name="unique-lookup-columns"></a><span data-ttu-id="07fe1-261">Colunas de pesquisa exclusivas</span><span class="sxs-lookup"><span data-stu-id="07fe1-261">Unique Lookup Columns</span></span>  
 <span data-ttu-id="07fe1-262">Os valores de dados na coluna de pesquisa devem ser exclusivos.</span><span class="sxs-lookup"><span data-stu-id="07fe1-262">The data values in the lookup column must be unique.</span></span> <span data-ttu-id="07fe1-263">Em outras palavras, a coluna não pode conter duplicatas.</span><span class="sxs-lookup"><span data-stu-id="07fe1-263">In other words, the column cannot contain duplicates.</span></span> <span data-ttu-id="07fe1-264">Em modelos tabulares, as cadeias de caracteres nulas e vazias equivalem a um espaço em branco, que é um valor de dados distinto.</span><span class="sxs-lookup"><span data-stu-id="07fe1-264">In Tabular models, nulls and empty strings are equivalent to a blank, which is a distinct data value.</span></span> <span data-ttu-id="07fe1-265">Isso significa que não pode haver vários nulos na coluna de pesquisa.</span><span class="sxs-lookup"><span data-stu-id="07fe1-265">This means that you cannot have multiple nulls in the lookup column.</span></span>  
  
### <a name="compatible-data-types"></a><span data-ttu-id="07fe1-266">Tipos de dados compatíveis</span><span class="sxs-lookup"><span data-stu-id="07fe1-266">Compatible Data Types</span></span>  
 <span data-ttu-id="07fe1-267">Os tipos de dados da coluna de origem e da coluna de pesquisa devem ser compatíveis.</span><span class="sxs-lookup"><span data-stu-id="07fe1-267">The data types in the source column and lookup column must be compatible.</span></span> <span data-ttu-id="07fe1-268">Para obter mais informações sobre tipos de dados, consulte [Tipos de dados com suporte &#40;SSAS de Tabela&#41;](data-types-supported-ssas-tabular.md).</span><span class="sxs-lookup"><span data-stu-id="07fe1-268">For more information about data types, see [Data Types Supported &#40;SSAS Tabular&#41;](data-types-supported-ssas-tabular.md).</span></span>  
  
### <a name="composite-keys-and-lookup-columns"></a><span data-ttu-id="07fe1-269">Chaves compostas e colunas de pesquisa</span><span class="sxs-lookup"><span data-stu-id="07fe1-269">Composite Keys and Lookup Columns</span></span>  
 <span data-ttu-id="07fe1-270">Não é possível usar chaves compostas em um modelo de tabela; você deve sempre ter uma coluna que identifique exclusivamente cada linha da tabela.</span><span class="sxs-lookup"><span data-stu-id="07fe1-270">You cannot use composite keys in a tabular model; you must always have one column that uniquely identifies each row in the table.</span></span> <span data-ttu-id="07fe1-271">Se você tentar importar tabelas que tenham uma relação existente com base em uma chave composta, o Assistente de Importação de Tabela ignorará essa relação porque ela não pode ser criada no modelo de tabela.</span><span class="sxs-lookup"><span data-stu-id="07fe1-271">If you try to import tables that have an existing relationship based on a composite key, the Table Import Wizard will ignore that relationship because it cannot be created in the tabular model.</span></span>  
  
 <span data-ttu-id="07fe1-272">Se quiser criar uma relação entre duas tabelas no designer de modelo e houver várias colunas que definam as chaves primária e estrangeira, você deverá combinar os valores para criar uma coluna de chave única antes de criar a relação.</span><span class="sxs-lookup"><span data-stu-id="07fe1-272">If you want to create a relationship between two tables in the model designer, and there are multiple columns defining the primary and foreign keys, you must combine the values to create a single key column before creating the relationship.</span></span> <span data-ttu-id="07fe1-273">Isso pode ser feito antes de você importar os dados, ou no designer de modelo com a criação de uma coluna calculada.</span><span class="sxs-lookup"><span data-stu-id="07fe1-273">You can do this before you import the data, or you can do this in the model designer by creating a calculated column.</span></span>  
  
###  <a name="many-to-many-relationships"></a><a name="bkmk_many_to_many"></a><span data-ttu-id="07fe1-274">Relações muitos para muitos</span><span class="sxs-lookup"><span data-stu-id="07fe1-274">Many-to-Many Relationships</span></span>  
 <span data-ttu-id="07fe1-275">Os modelos de tabela não dão suporte a relações muitos-para-muitos, e não é possível simplesmente adicionar *tabelas de junção* no designer de modelo.</span><span class="sxs-lookup"><span data-stu-id="07fe1-275">Tabular models do not support many-to-many relationships, and you cannot add *junction tables* in the model designer.</span></span> <span data-ttu-id="07fe1-276">No entanto, você pode usar funções DAX para modelar relações muitos para muitos.</span><span class="sxs-lookup"><span data-stu-id="07fe1-276">However, you can use DAX functions to model many-to-many relationships.</span></span>  
  
### <a name="self-joins-and-loops"></a><span data-ttu-id="07fe1-277">Autojunções e loops</span><span class="sxs-lookup"><span data-stu-id="07fe1-277">Self-Joins and Loops</span></span>  
 <span data-ttu-id="07fe1-278">Não são permitidas autojunções em tabelas do modelo de tabela.</span><span class="sxs-lookup"><span data-stu-id="07fe1-278">Self-joins are not permitted in tabular model tables.</span></span> <span data-ttu-id="07fe1-279">Uma autojunção é uma relação recursiva entre uma tabela e ela mesma.</span><span class="sxs-lookup"><span data-stu-id="07fe1-279">A self-join is a recursive relationship between a table and itself.</span></span> <span data-ttu-id="07fe1-280">Autojunções costumam ser usadas para definir hierarquias pai-filho.</span><span class="sxs-lookup"><span data-stu-id="07fe1-280">Self-joins are often used to define parent-child hierarchies.</span></span> <span data-ttu-id="07fe1-281">Por exemplo, você poderá unir uma tabela Employees a ela própria para produzir uma hierarquia que mostra a cadeia de gerenciamento em uma empresa.</span><span class="sxs-lookup"><span data-stu-id="07fe1-281">For example, you could join an Employees table to itself to produce a hierarchy that shows the management chain at a business.</span></span>  
  
 <span data-ttu-id="07fe1-282">O designer de modelo não permite criar loops entre relações em um modelo.</span><span class="sxs-lookup"><span data-stu-id="07fe1-282">The model designer does not allow loops to be created among relationships in a model.</span></span> <span data-ttu-id="07fe1-283">Em outras palavras, o conjunto de relações a seguir é proibido.</span><span class="sxs-lookup"><span data-stu-id="07fe1-283">In other words, the following set of relationships is prohibited.</span></span>  
  
 <span data-ttu-id="07fe1-284">Tabela 1, coluna a   a   Tabela 2, coluna f</span><span class="sxs-lookup"><span data-stu-id="07fe1-284">Table 1, column a   to   Table 2, column f</span></span>  
  
 <span data-ttu-id="07fe1-285">Tabela 2, coluna f   a   Tabela 3, coluna n</span><span class="sxs-lookup"><span data-stu-id="07fe1-285">Table 2, column f   to   Table 3, column n</span></span>  
  
 <span data-ttu-id="07fe1-286">Tabela 3, coluna n   a   Tabela 1, coluna a</span><span class="sxs-lookup"><span data-stu-id="07fe1-286">Table 3, column n   to   Table 1, column a</span></span>  
  
 <span data-ttu-id="07fe1-287">Se você tentar criar uma relação que resulte na criação de um loop, será gerado um erro.</span><span class="sxs-lookup"><span data-stu-id="07fe1-287">If you try to create a relationship that would result in a loop being created, an error is generated.</span></span>  
  
##  <a name="inference-of-relationships"></a><a name="detection"></a><span data-ttu-id="07fe1-288">Inferência de relações</span><span class="sxs-lookup"><span data-stu-id="07fe1-288">Inference of Relationships</span></span>  
 <span data-ttu-id="07fe1-289">Em alguns casos, as relações entre as tabelas são encadeadas automaticamente.</span><span class="sxs-lookup"><span data-stu-id="07fe1-289">In some cases, relationships between tables are automatically chained.</span></span> <span data-ttu-id="07fe1-290">Por exemplo, se você criar uma relação entre os dois primeiros conjuntos de tabelas abaixo, uma relação será inferida como existente entre as outras duas tabelas, e uma relação será estabelecida automaticamente.</span><span class="sxs-lookup"><span data-stu-id="07fe1-290">For example, if you create a relationship between the first two sets of tables below, a relationship is inferred to exist between the other two tables, and a relationship is automatically established.</span></span>  
  
 <span data-ttu-id="07fe1-291">Products e Category -- criada manualmente</span><span class="sxs-lookup"><span data-stu-id="07fe1-291">Products and Category -- created manually</span></span>  
  
 <span data-ttu-id="07fe1-292">Category e SubCategory -- criada manualmente</span><span class="sxs-lookup"><span data-stu-id="07fe1-292">Category and SubCategory -- created manually</span></span>  
  
 <span data-ttu-id="07fe1-293">Products e SubCategory -- a relação é inferida</span><span class="sxs-lookup"><span data-stu-id="07fe1-293">Products and SubCategory -- relationship is inferred</span></span>  
  
 <span data-ttu-id="07fe1-294">Para que sejam encadeadas automaticamente, as relações devem seguir em uma direção, conforme mostrado acima.</span><span class="sxs-lookup"><span data-stu-id="07fe1-294">In order for relationships to be automatically chained, the relationships must go in one direction, as shown above.</span></span> <span data-ttu-id="07fe1-295">Se as relações iniciais fossem entre, por exemplo, Sales e Products e Sales e Customers, uma relação não seria inferida.</span><span class="sxs-lookup"><span data-stu-id="07fe1-295">If the initial relationships were between, for example, Sales and Products, and Sales and Customers, a relationship is not inferred.</span></span> <span data-ttu-id="07fe1-296">Isso ocorre porque a relação entre Products e Customers é uma relação muitos para muitos.</span><span class="sxs-lookup"><span data-stu-id="07fe1-296">This is because the relationship between Products and Customers is a many-to-many relationship.</span></span>  
  
##  <a name="detection-of-relationships-when-importing-data"></a><a name="bkmk_detection"></a><span data-ttu-id="07fe1-297">Detecção de relações ao importar dados</span><span class="sxs-lookup"><span data-stu-id="07fe1-297">Detection of Relationships When Importing Data</span></span>  
 <span data-ttu-id="07fe1-298">Quando você importa de uma tabela de fonte de dados relacional, o Assistente de Importação de Tabela detecta relações existentes nessas tabelas de origem com base nos dados do esquema de origem.</span><span class="sxs-lookup"><span data-stu-id="07fe1-298">When you import from a relational data source table, the Table Import Wizard detects existing relationships in those source tables based on the source schema data.</span></span> <span data-ttu-id="07fe1-299">Se as tabelas relacionadas forem importadas, essas relações serão duplicadas no modelo.</span><span class="sxs-lookup"><span data-stu-id="07fe1-299">If related tables are imported, those relationships will be duplicated in the model.</span></span>  
  
##  <a name="manually-create-relationships"></a><a name="bkmk_manually_create"></a><span data-ttu-id="07fe1-300">Criar relações manualmente</span><span class="sxs-lookup"><span data-stu-id="07fe1-300">Manually Create Relationships</span></span>  
 <span data-ttu-id="07fe1-301">Apesar de a maioria das relações entre tabelas em uma única fonte de dados relacional serem detectadas automaticamente, e criadas no modelo de tabela, também há muitas instâncias onde você deve criar relações manualmente entre tabelas modelo.</span><span class="sxs-lookup"><span data-stu-id="07fe1-301">While most relationships between tables in a single relational data source will be detected automatically, and created in the tabular model, there are also many instances where you must manually create relationships between model tables.</span></span>  
  
 <span data-ttu-id="07fe1-302">Se seu modelo contiver dados de várias origens, provavelmente você precisará criar relações manualmente.</span><span class="sxs-lookup"><span data-stu-id="07fe1-302">If your model contains data from multiple sources, you will likely have to manually create relationships.</span></span> <span data-ttu-id="07fe1-303">Por exemplo, você pode importar as tabelas Customers, CustomerDiscounts e Orders de uma fonte de dados relacional.</span><span class="sxs-lookup"><span data-stu-id="07fe1-303">For example, you may import Customers, CustomerDiscounts, and Orders tables from a relational data source.</span></span> <span data-ttu-id="07fe1-304">As relações existentes entre essas tabelas na origem são criadas automaticamente no modelo.</span><span class="sxs-lookup"><span data-stu-id="07fe1-304">Relationships existing between those tables at the source are automatically created in the model.</span></span> <span data-ttu-id="07fe1-305">Você pode adicionar outra tabela de uma origem diferente; por exemplo, você importa dados de região de uma tabela Geography em uma pasta de trabalho do Microsoft Excel.</span><span class="sxs-lookup"><span data-stu-id="07fe1-305">You may then add another table from a different source, for example, you import region data from a Geography table in a Microsoft Excel workbook.</span></span> <span data-ttu-id="07fe1-306">Você pode criar manualmente uma relação entre uma coluna na tabela Customers e uma coluna na tabela Geography.</span><span class="sxs-lookup"><span data-stu-id="07fe1-306">You can then manually create a relationship between a column in the Customers table and a column in the Geography table.</span></span>  
  
 <span data-ttu-id="07fe1-307">Para criar manualmente relações em um modelo de tabela, você pode usar o designer de modelos na Exibição de Diagrama ou usar a caixa de diálogo Gerenciar Relações.</span><span class="sxs-lookup"><span data-stu-id="07fe1-307">To manually create relationships in a tabular model, you can use the model designer in Diagram View or by using the Manage Relationships dialog box.</span></span> <span data-ttu-id="07fe1-308">A exibição de diagrama exibe tabelas, com relações entre elas, em um formato gráfico.</span><span class="sxs-lookup"><span data-stu-id="07fe1-308">The diagram view displays tables, with relationships between them, in a graphical format.</span></span> <span data-ttu-id="07fe1-309">Você pode clicar em uma coluna em uma tabela e arrastar o cursor até outra tabela para criar facilmente uma relação, na ordem correta, entre as tabelas.</span><span class="sxs-lookup"><span data-stu-id="07fe1-309">You can click a column in one table and drag the cursor to another table to easily create a relationship, in the correct order, between the tables.</span></span> <span data-ttu-id="07fe1-310">A caixa de diálogo Gerenciar Relações exibe relações entre tabelas em um formato de tabela simples.</span><span class="sxs-lookup"><span data-stu-id="07fe1-310">The Manage Relationships dialog box displays relationships between tables in a simple table format.</span></span> <span data-ttu-id="07fe1-311">Para saber como criar relações manualmente, consulte [Criar uma relação entre duas tabelas &#40;SSAS de Tabela&#41;](create-a-relationship-between-two-tables-ssas-tabular.md).</span><span class="sxs-lookup"><span data-stu-id="07fe1-311">To learn how to manually create relationships, see [Create a Relationship Between Two Tables &#40;SSAS Tabular&#41;](create-a-relationship-between-two-tables-ssas-tabular.md).</span></span>  
  
##  <a name="duplicate-values-and-other-errors"></a><a name="bkmk_dupl_errors"></a><span data-ttu-id="07fe1-312">Valores duplicados e outros erros</span><span class="sxs-lookup"><span data-stu-id="07fe1-312">Duplicate Values and Other Errors</span></span>  
 <span data-ttu-id="07fe1-313">Se você escolher uma coluna que não possa ser usada na relação, um X vermelho aparecerá ao lado da coluna.</span><span class="sxs-lookup"><span data-stu-id="07fe1-313">If you choose a column that cannot be used in the relationship, a red X appears next to the column.</span></span> <span data-ttu-id="07fe1-314">Você pode pausar o cursor sobre o ícone de erro para visualizar uma mensagem que fornece mais informações sobre o problema.</span><span class="sxs-lookup"><span data-stu-id="07fe1-314">You can pause the cursor over the error icon to view a message that provides more information about the problem.</span></span> <span data-ttu-id="07fe1-315">Os problemas que podem tornar impossível a criação de uma relação entre as colunas selecionadas incluem os seguintes:</span><span class="sxs-lookup"><span data-stu-id="07fe1-315">Problems that can make it impossible to create a relationship between the selected columns include the following:</span></span>  
  
|<span data-ttu-id="07fe1-316">Problema ou mensagem</span><span class="sxs-lookup"><span data-stu-id="07fe1-316">Problem or message</span></span>|<span data-ttu-id="07fe1-317">Resolução</span><span class="sxs-lookup"><span data-stu-id="07fe1-317">Resolution</span></span>|  
|------------------------|----------------|  
|<span data-ttu-id="07fe1-318">Não é possível criar a relação porque as duas colunas selecionadas contêm valores duplicados.</span><span class="sxs-lookup"><span data-stu-id="07fe1-318">The relationship cannot be created because both columns selected contain duplicate values.</span></span>|<span data-ttu-id="07fe1-319">Para criar uma relação válida, pelo menos uma coluna do par selecionado deve conter somente valores exclusivos.</span><span class="sxs-lookup"><span data-stu-id="07fe1-319">To create a valid relationship, at least one column of the pair that you select must contain only unique values.</span></span><br /><br /> <span data-ttu-id="07fe1-320">É possível editar as colunas para remover as duplicatas ou inverter a ordem das colunas de modo que a coluna que contenha os valores exclusivos seja usada como a **Tabela de Pesquisa Relacionada**.</span><span class="sxs-lookup"><span data-stu-id="07fe1-320">You can either edit the columns to remove duplicates, or you can reverse the order of the columns so that the column that contains the unique values is used as the **Related Lookup Column**.</span></span>|  
|<span data-ttu-id="07fe1-321">A coluna contém um valor nulo ou vazio.</span><span class="sxs-lookup"><span data-stu-id="07fe1-321">The column contains a null or empty value.</span></span>|<span data-ttu-id="07fe1-322">Colunas de dados não podem ser unidas em um valor nulo.</span><span class="sxs-lookup"><span data-stu-id="07fe1-322">Data columns cannot be joined to each other on a null value.</span></span> <span data-ttu-id="07fe1-323">Para todas as linhas, deve haver um valor em ambas as colunas usadas em uma relação.</span><span class="sxs-lookup"><span data-stu-id="07fe1-323">For every row, there must be a value in both of the columns that are used in a relationship.</span></span>|  
  
##  <a name="related-tasks"></a><a name="bkmk_related_tasks"></a> <span data-ttu-id="07fe1-324">Tarefas relacionadas</span><span class="sxs-lookup"><span data-stu-id="07fe1-324">Related Tasks</span></span>  
  
|<span data-ttu-id="07fe1-325">Tópico</span><span class="sxs-lookup"><span data-stu-id="07fe1-325">Topic</span></span>|<span data-ttu-id="07fe1-326">Descrição</span><span class="sxs-lookup"><span data-stu-id="07fe1-326">Description</span></span>|  
|-----------|-----------------|  
|[<span data-ttu-id="07fe1-327">Criar uma relação entre duas tabelas &#40;SSAS de Tabela&#41;</span><span class="sxs-lookup"><span data-stu-id="07fe1-327">Create a Relationship Between Two Tables &#40;SSAS Tabular&#41;</span></span>](create-a-relationship-between-two-tables-ssas-tabular.md)|<span data-ttu-id="07fe1-328">Descreve como criar uma relação manualmente entre duas tabelas.</span><span class="sxs-lookup"><span data-stu-id="07fe1-328">Describes how to manually create a relationship between two tables.</span></span>|  
|[<span data-ttu-id="07fe1-329">Excluir relações &#40;SSAS de Tabela&#41;</span><span class="sxs-lookup"><span data-stu-id="07fe1-329">Delete Relationships &#40;SSAS Tabular&#41;</span></span>](relationships-ssas-tabular.md)|<span data-ttu-id="07fe1-330">Descreve como excluir uma relação e as ramificações de excluir relações.</span><span class="sxs-lookup"><span data-stu-id="07fe1-330">Describes how to delete a relationship and the ramifications of deleting relationships.</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="07fe1-331">Consulte Também</span><span class="sxs-lookup"><span data-stu-id="07fe1-331">See Also</span></span>  
 <span data-ttu-id="07fe1-332">[Tabelas e colunas &#40;SSAS de tabela&#41;](tables-and-columns-ssas-tabular.md) </span><span class="sxs-lookup"><span data-stu-id="07fe1-332">[Tables and Columns &#40;SSAS Tabular&#41;](tables-and-columns-ssas-tabular.md) </span></span>  
 [<span data-ttu-id="07fe1-333">Importar dados &#40;SSAS de Tabela&#41;</span><span class="sxs-lookup"><span data-stu-id="07fe1-333">Import Data &#40;SSAS Tabular&#41;</span></span>](../import-data-ssas-tabular.md)  
  
  
