---
title: Funções (SSAS tabular) | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
ms.assetid: e547382a-c064-4bc6-818c-5127890af334
author: minewiskan
ms.author: owend
ms.openlocfilehash: 0293bf6d9ac4ee71df34ece92672311ca9f90436
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87678300"
---
# <a name="roles-ssas-tabular"></a><span data-ttu-id="bd751-102">Funções (SSAS tabular)</span><span class="sxs-lookup"><span data-stu-id="bd751-102">Roles (SSAS Tabular)</span></span>
  <span data-ttu-id="bd751-103">Funções, em modelos tabulares, definem permissões de membro para um modelo.</span><span class="sxs-lookup"><span data-stu-id="bd751-103">Roles, in tabular models, define member permissions for a model.</span></span> <span data-ttu-id="bd751-104">Cada função contém membros, por nome de usuário do Windows ou grupo do Windows, e permissões (leitura, processo, administrador).</span><span class="sxs-lookup"><span data-stu-id="bd751-104">Each role contains members, by Windows username or by Windows group, and permissions (read, process, administrator).</span></span> <span data-ttu-id="bd751-105">Membros da função podem executar ações no modelo conforme definido pela permissão de função.</span><span class="sxs-lookup"><span data-stu-id="bd751-105">Members of the role can perform actions on the model as defined by the role permission.</span></span> <span data-ttu-id="bd751-106">As funções definidas com permissões de leitura também podem fornecer segurança adicional no nível de linha usando filtros no nível de linha.</span><span class="sxs-lookup"><span data-stu-id="bd751-106">Roles defined with read permissions can also provide additional security at the row-level by using row-level filters.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="bd751-107">Para que os usuários conectem-se a um modelo implantado usando uma relação ou aplicativo cliente de análise de dados, você deve criar pelo menos uma função com pelo menos permissão de leitura da qual esses usuários são os membros.</span><span class="sxs-lookup"><span data-stu-id="bd751-107">In-order for users to connect to a deployed model by using a reporting or data analysis client application, you must create at least one role with at least Read permission to which those users are members.</span></span>  
  
 <span data-ttu-id="bd751-108">As informações neste tópico são destinadas a autores de modelos tabulares que definem funções usando a caixa de diálogo Gerenciador de Funções no [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)].</span><span class="sxs-lookup"><span data-stu-id="bd751-108">Information in this topic is meant for tabular model authors who define roles by using the Role Manager dialog box in [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)].</span></span> <span data-ttu-id="bd751-109">As funções definidas durante a criação do modelo aplicam-se ao banco de dados de workspace do modelo.</span><span class="sxs-lookup"><span data-stu-id="bd751-109">Roles defined during model authoring apply to the model workspace database.</span></span> <span data-ttu-id="bd751-110">Depois que um modelo de banco de dados foi implantado, os administradores de modelo de banco de dados podem gerenciar (adicionar, editar, excluir) membros de função usando o [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span><span class="sxs-lookup"><span data-stu-id="bd751-110">After a model database has been deployed, model database administrators can manage (add, edit, delete) role members using [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span></span> <span data-ttu-id="bd751-111">Para saber sobre como gerenciar os membros de funções em um banco de dados implantado, consulte [Funções de modelo tabular &#40;SSAS Tabular&#41;](tabular-model-roles-ssas-tabular.md).</span><span class="sxs-lookup"><span data-stu-id="bd751-111">To learn about managing members of roles in a deployed database, see [Tabular Model Roles &#40;SSAS Tabular&#41;](tabular-model-roles-ssas-tabular.md).</span></span>  
  
 <span data-ttu-id="bd751-112">O [Modelagem Tabular &#40;Tutorial do Adventure Works&#41;](../tabular-modeling-adventure-works-tutorial.md) inclui informações adicionais e lições sobre como usar esse recurso.</span><span class="sxs-lookup"><span data-stu-id="bd751-112">The [Tabular Modeling &#40;Adventure Works Tutorial&#41;](../tabular-modeling-adventure-works-tutorial.md) includes additional information and lessons on how to use this feature.</span></span>  
  
 <span data-ttu-id="bd751-113">Seções neste tópico:</span><span class="sxs-lookup"><span data-stu-id="bd751-113">Sections in this topic:</span></span>  
  
-   [<span data-ttu-id="bd751-114">Compreendendo funções</span><span class="sxs-lookup"><span data-stu-id="bd751-114">Understanding Roles</span></span>](#bkmk_underst)  
  
-   [<span data-ttu-id="bd751-115">Permissões</span><span class="sxs-lookup"><span data-stu-id="bd751-115">Permissions</span></span>](#bkmk_permissions)  
  
-   [<span data-ttu-id="bd751-116">Filtros de linha</span><span class="sxs-lookup"><span data-stu-id="bd751-116">Row Filters</span></span>](#bkmk_rowfliters)  
  
-   [<span data-ttu-id="bd751-117">Testando funções</span><span class="sxs-lookup"><span data-stu-id="bd751-117">Testing Roles</span></span>](#bkmk_testroles)  
  
-   [<span data-ttu-id="bd751-118">Tarefas relacionadas</span><span class="sxs-lookup"><span data-stu-id="bd751-118">Related Tasks</span></span>](#bkmk_rt)  
  
##  <a name="understanding-roles"></a><a name="bkmk_underst"></a><span data-ttu-id="bd751-119">Noções básicas sobre funções</span><span class="sxs-lookup"><span data-stu-id="bd751-119">Understanding Roles</span></span>  
 <span data-ttu-id="bd751-120">As funções são usadas no [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] para gerenciar a segurança dos [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] dados do e do.</span><span class="sxs-lookup"><span data-stu-id="bd751-120">Roles are used in [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] to manage security for [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] and data.</span></span> <span data-ttu-id="bd751-121">Existem dois tipos de funções no [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)]:</span><span class="sxs-lookup"><span data-stu-id="bd751-121">There are two types of roles in [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)]:</span></span>  
  
-   <span data-ttu-id="bd751-122">A função do servidor, uma função fixa que fornece acesso de administrador a uma instância do [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="bd751-122">The server role, a fixed role that provides administrator access to an instance of [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)].</span></span>  
  
-   <span data-ttu-id="bd751-123">As funções de banco de dados, funções definidas por autores e administradores do modelo para controlar o acesso a banco de dados modelo e dados para usuários não administradores.</span><span class="sxs-lookup"><span data-stu-id="bd751-123">Database roles, roles defined by model authors and administrators to control access to a model database and data for non-administrator users.</span></span>  
  
 <span data-ttu-id="bd751-124">As funções, definidas para um modelo de tabela, são funções de banco de dados.</span><span class="sxs-lookup"><span data-stu-id="bd751-124">Roles defined for a tabular model are database roles.</span></span> <span data-ttu-id="bd751-125">Ou seja, as funções contêm membros que consistem em usuários ou grupos do Windows que têm permissões específicas que definem a ação que esses membros podem realizar no banco de dados modelo.</span><span class="sxs-lookup"><span data-stu-id="bd751-125">That is, the roles contain members consisting of Windows users or groups that have specific permissions that define the action those members can take on the model database.</span></span> <span data-ttu-id="bd751-126">Uma função de banco de dados é criada como um objeto separado no banco de dados e se aplica somente ao banco de dados no qual a função foi criada.</span><span class="sxs-lookup"><span data-stu-id="bd751-126">A database role is created as a separate object in the database, and applies only to the database in which that role is created.</span></span> <span data-ttu-id="bd751-127">Os usuários do Windows e/ou grupos do Windows são incluídos na função pelo autor modelo, que, por padrão, tem permissões de Administrador no servidor de banco de dados de workspace; para um modelo implantado, por um administrador.</span><span class="sxs-lookup"><span data-stu-id="bd751-127">Windows users and/or Windows groups are included in the role by the model author, which, by default, has Administrator permissions on the workspace database server; for a deployed model, by an administrator.</span></span>  
  
 <span data-ttu-id="bd751-128">As funções em modelos tabulares podem ser definidas posteriormente com filtros de linha.</span><span class="sxs-lookup"><span data-stu-id="bd751-128">Roles in tabular models can be further defined with row filters.</span></span> <span data-ttu-id="bd751-129">Os filtros de linha usam expressões DAX para definir as linhas em uma tabela, e as linhas relacionadas nas muitas direções, que um usuário pode consultar.</span><span class="sxs-lookup"><span data-stu-id="bd751-129">Row filters use DAX expressions to define the rows in a table, and any related rows in the many direction, that a user can query.</span></span> <span data-ttu-id="bd751-130">Os filtros de linha que usam expressões DAX somente podem ser definidos para as permissões de Leitura e Leitura e Processo.</span><span class="sxs-lookup"><span data-stu-id="bd751-130">Row filters using DAX expressions can only be defined for the Read and Read and Process permissions.</span></span> <span data-ttu-id="bd751-131">Para obter mais informações, consulte [Row Filters](#bkmk_rowfliters) mais adiante neste tópico.</span><span class="sxs-lookup"><span data-stu-id="bd751-131">For more information, see [Row Filters](#bkmk_rowfliters) later in this topic.</span></span>  
  
 <span data-ttu-id="bd751-132">Por padrão, quando você cria um novo projeto de modelo de tabela, o projeto de modelo não tem nenhuma função.</span><span class="sxs-lookup"><span data-stu-id="bd751-132">By default, when you create a new tabular model project, the model project does not have any roles.</span></span> <span data-ttu-id="bd751-133">As funções podem ser definidas usando a caixa de diálogo Gerenciador de Funções no [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)].</span><span class="sxs-lookup"><span data-stu-id="bd751-133">Roles can be defined by using the Role Manager dialog box in [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)].</span></span> <span data-ttu-id="bd751-134">Quando as funções são definidas durante a criação do modelo, elas são se aplicadas ao banco de dados de workspace do modelo.</span><span class="sxs-lookup"><span data-stu-id="bd751-134">When roles are defined during model authoring, they are applied to the model workspace database.</span></span> <span data-ttu-id="bd751-135">Quando o modelo é implantado, as mesmas funções são aplicadas ao modelo implantado.</span><span class="sxs-lookup"><span data-stu-id="bd751-135">When the model is deployed, the same roles are applied to the deployed model.</span></span> <span data-ttu-id="bd751-136">Depois que um modelo foi implantado, os membros da função de servidor (Administrador do[!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] ) e administradores de banco de dados podem gerenciar as funções associadas ao modelo e os membros associados a cada função usando o [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span><span class="sxs-lookup"><span data-stu-id="bd751-136">After a model has been deployed, members of the server role ([!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] Administrator) and database administrators can manage the roles associated with the model and the members associated with each role by using [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="bd751-137">As funções definidas para um modelo configurado para o modo DirectQuery não podem usar filtros de linha, porém, as permissões definidas para cada função serão aplicadas.</span><span class="sxs-lookup"><span data-stu-id="bd751-137">Roles defined for a model configured for DirectQuery mode cannot use row filters, however, permissions defined for each role will apply.</span></span>  
  
##  <a name="permissions"></a><a name="bkmk_permissions"></a> <span data-ttu-id="bd751-138">Permissões</span><span class="sxs-lookup"><span data-stu-id="bd751-138">Permissions</span></span>  
 <span data-ttu-id="bd751-139">Cada função tem uma única permissão de banco de dados definida (exceto para a permissão de Ler e Processar combinada).</span><span class="sxs-lookup"><span data-stu-id="bd751-139">Each role has a single defined database permission (except for the combined Read and Process permission).</span></span> <span data-ttu-id="bd751-140">Por padrão, uma nova função terá a permissão Nenhum.</span><span class="sxs-lookup"><span data-stu-id="bd751-140">By default, a new role will have the None permission.</span></span> <span data-ttu-id="bd751-141">Ou seja, quando os membros são adicionados à função com a permissão Nenhum, eles não podem modificar o banco de dados, executar uma operação de processo, consultar dados ou ver o banco de dados a menos que uma permissão diferente seja concedida.</span><span class="sxs-lookup"><span data-stu-id="bd751-141">That is, once members are added to the role with the None permission, they cannot modify the database, run a process operation, query data, or see the database unless a different permission is granted.</span></span>  
  
 <span data-ttu-id="bd751-142">Um grupo ou usuário do Windows pode ser um membro de qualquer número de funções, cada função com uma permissão diferente.</span><span class="sxs-lookup"><span data-stu-id="bd751-142">A Windows group or user can be a member of any number of roles, each role with a different permission.</span></span> <span data-ttu-id="bd751-143">Quando um usuário for um membro de várias funções, as permissões definidas para cada função serão cumulativas.</span><span class="sxs-lookup"><span data-stu-id="bd751-143">When a user is a member of multiple roles, the permissions defined for each role are cumulative.</span></span> <span data-ttu-id="bd751-144">Por exemplo, se um usuário for membro de uma função com permissão de leitura e também um membro de uma função com permissão Nenhum, ele terá permissão de leitura.</span><span class="sxs-lookup"><span data-stu-id="bd751-144">For example, if a user is a member of a role with the Read permission, and also a member of a role with None permission, that user will have Read permissions.</span></span>  
  
 <span data-ttu-id="bd751-145">Cada função pode ter uma das seguintes permissões definidas:</span><span class="sxs-lookup"><span data-stu-id="bd751-145">Each role can have one the following permissions defined:</span></span>  
  
|<span data-ttu-id="bd751-146">Permissões</span><span class="sxs-lookup"><span data-stu-id="bd751-146">Permissions</span></span>|<span data-ttu-id="bd751-147">Descrição</span><span class="sxs-lookup"><span data-stu-id="bd751-147">Description</span></span>|<span data-ttu-id="bd751-148">Filtros de linha usando DAX</span><span class="sxs-lookup"><span data-stu-id="bd751-148">Row  filters using DAX</span></span>|  
|-----------------|-----------------|----------------------------|  
|<span data-ttu-id="bd751-149">Nenhum</span><span class="sxs-lookup"><span data-stu-id="bd751-149">None</span></span>|<span data-ttu-id="bd751-150">Os membros não podem fazer modificações ao esquema de banco de dados modelo e não podem consultar dados.</span><span class="sxs-lookup"><span data-stu-id="bd751-150">Members cannot make any modifications to the model database schema and cannot query data.</span></span>|<span data-ttu-id="bd751-151">Filtros de linha não são aplicáveis.</span><span class="sxs-lookup"><span data-stu-id="bd751-151">Row filters do not apply.</span></span> <span data-ttu-id="bd751-152">Os dados não são visíveis a usuários nesta função</span><span class="sxs-lookup"><span data-stu-id="bd751-152">No data is visible to users in this role</span></span>|  
|<span data-ttu-id="bd751-153">Ler</span><span class="sxs-lookup"><span data-stu-id="bd751-153">Read</span></span>|<span data-ttu-id="bd751-154">Os membros têm permissão de consultar dados (com base em filtros de linha), mas não podem ver o banco de dados modelo no SSMS, não podem fazer nenhuma alteração ao esquema de banco de dados modelo e o usuário não pode processar o modelo.</span><span class="sxs-lookup"><span data-stu-id="bd751-154">Members are allowed to query data (based on row filters) but cannot see the model database in SSMS, cannot make any changes to the model database schema, and the user cannot process the model.</span></span>|<span data-ttu-id="bd751-155">Os filtros de linha podem ser aplicados.</span><span class="sxs-lookup"><span data-stu-id="bd751-155">Row filters can be applied.</span></span> <span data-ttu-id="bd751-156">Somente os dados especificados na fórmula DAX de filtro de linha são visíveis a usuários.</span><span class="sxs-lookup"><span data-stu-id="bd751-156">Only data specified in the row filter DAX formula is visible to users.</span></span>|  
|<span data-ttu-id="bd751-157">Leitura e processo</span><span class="sxs-lookup"><span data-stu-id="bd751-157">Read and Process</span></span>|<span data-ttu-id="bd751-158">Os membros têm permissão de consultar dados (com base em filtros em nível de linha) e executar operações de processo por meio de um script ou pacote que contém um comando de processo, mas não pode fazer nenhuma alteração ao banco de dados.</span><span class="sxs-lookup"><span data-stu-id="bd751-158">Members are allowed to query data (based on row-level filters) and run process operations by running a script or package that contains a process command, but cannot make any changes to the database.</span></span> <span data-ttu-id="bd751-159">Não pode exibir o banco de dados modelo no [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span><span class="sxs-lookup"><span data-stu-id="bd751-159">Cannot view the model database in [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span></span>|<span data-ttu-id="bd751-160">Os filtros de linha podem ser aplicados.</span><span class="sxs-lookup"><span data-stu-id="bd751-160">Row filters can be applied.</span></span> <span data-ttu-id="bd751-161">Somente os dados especificados na fórmula DAX de filtro de linha possam ser consultados.</span><span class="sxs-lookup"><span data-stu-id="bd751-161">Only data specified in the row filter DAX formula can be queried.</span></span>|  
|<span data-ttu-id="bd751-162">Processo</span><span class="sxs-lookup"><span data-stu-id="bd751-162">Process</span></span>|<span data-ttu-id="bd751-163">Os membros podem executar operações de processo por meio de um script ou pacote que contém um comando de processo.</span><span class="sxs-lookup"><span data-stu-id="bd751-163">Members can run process operations by running a script or package that contains a process command.</span></span> <span data-ttu-id="bd751-164">Não pode modificar o esquema de banco de dados modelo.</span><span class="sxs-lookup"><span data-stu-id="bd751-164">Cannot modify the model database schema.</span></span> <span data-ttu-id="bd751-165">Não é possível consultar dados.</span><span class="sxs-lookup"><span data-stu-id="bd751-165">Cannot query data.</span></span> <span data-ttu-id="bd751-166">Não pode consultar o banco de dados modelo no [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span><span class="sxs-lookup"><span data-stu-id="bd751-166">Cannot query the model database in [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span></span>|<span data-ttu-id="bd751-167">Filtros de linha não são aplicáveis.</span><span class="sxs-lookup"><span data-stu-id="bd751-167">Row filters do not apply.</span></span> <span data-ttu-id="bd751-168">Nenhum dado pode ser consultado nesta função</span><span class="sxs-lookup"><span data-stu-id="bd751-168">No data can be queried in this role</span></span>|  
|<span data-ttu-id="bd751-169">Administrador</span><span class="sxs-lookup"><span data-stu-id="bd751-169">Administrator</span></span>|<span data-ttu-id="bd751-170">Os membros podem fazer modificações ao esquema modelo e consultar todos os dados no designer de modelo, no cliente de relatório e no [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span><span class="sxs-lookup"><span data-stu-id="bd751-170">Members can make modifications to the model schema and can query all data in the model designer, reporting client, and [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span></span>|<span data-ttu-id="bd751-171">Filtros de linha não são aplicáveis.</span><span class="sxs-lookup"><span data-stu-id="bd751-171">Row filters do not apply.</span></span> <span data-ttu-id="bd751-172">Todos os dados podem ser consultados nesta função.</span><span class="sxs-lookup"><span data-stu-id="bd751-172">All data can be queried in this role.</span></span>|  
  
##  <a name="row-filters"></a><a name="bkmk_rowfliters"></a><span data-ttu-id="bd751-173">Filtros de linha</span><span class="sxs-lookup"><span data-stu-id="bd751-173">Row Filters</span></span>  
 <span data-ttu-id="bd751-174">Os filtros de linha definem quais linhas em uma tabela podem ser consultadas por membros de uma função específica.</span><span class="sxs-lookup"><span data-stu-id="bd751-174">Row filters define which rows in a table can be queried by members of a particular role.</span></span> <span data-ttu-id="bd751-175">Os filtros de linha são definidos para cada tabela em um modelo usando fórmulas DAX.</span><span class="sxs-lookup"><span data-stu-id="bd751-175">Row filters are defined for each table in a model by using DAX formulas.</span></span>  
  
 <span data-ttu-id="bd751-176">Os filtros de linha podem ser definidos somente para funções com as permissões Ler e Ler e Processar.</span><span class="sxs-lookup"><span data-stu-id="bd751-176">Row filters can be defined only for roles with Read and Read and Process permissions.</span></span> <span data-ttu-id="bd751-177">Por padrão, se um filtro de linha não for definido para uma tabela específica, os membros de uma função que têm permissão de Leitura ou Leitura e Processo poderão consultar todas as linhas na tabela a menos que a filtragem cruzada seja aplicada de outra tabela.</span><span class="sxs-lookup"><span data-stu-id="bd751-177">By default, if a row filter is not defined for a particular table, members of a role that has Read or Read and Process permission can query all rows in the table unless cross-filtering applies from another table.</span></span>  
  
 <span data-ttu-id="bd751-178">Quando um filtro de linha é definido para uma tabela específica, uma fórmula DAX, que deve ser avaliada como um valor TRUE/FALSE, define as linhas que poderão ser consultadas por membros daquela função específica.</span><span class="sxs-lookup"><span data-stu-id="bd751-178">Once a row filter is defined for a particular table, a DAX formula, which must evaluate to a TRUE/FALSE value, defines the rows that can be queried by members of that particular role.</span></span> <span data-ttu-id="bd751-179">As linhas não incluídas na fórmula DAX não poderão ser consultadas.</span><span class="sxs-lookup"><span data-stu-id="bd751-179">Rows not included in the DAX formula will cannot be queried.</span></span> <span data-ttu-id="bd751-180">Por exemplo, para membros da função Sales, a tabela Customers com a seguinte expressão de filtros de linha, *= Customers [Country] = "usa"*, os membros da função Sales só poderão ver os clientes nos EUA.</span><span class="sxs-lookup"><span data-stu-id="bd751-180">For example, for members of the Sales role, the Customers table with the following row filters expression, *=Customers [Country] = "USA"*, members of the Sales role, will only be able to see customers in the USA.</span></span>  
  
 <span data-ttu-id="bd751-181">Os filtros de linha aplicam-se às linhas especificadas e também a linhas relacionadas.</span><span class="sxs-lookup"><span data-stu-id="bd751-181">Row filters apply to the specified rows as well as related rows.</span></span> <span data-ttu-id="bd751-182">Quando uma tabela tiver várias relações, os filtros aplicam segurança para a relação que está ativa.</span><span class="sxs-lookup"><span data-stu-id="bd751-182">When a table has multiple relationships, filters apply security for the relationship that is active.</span></span> <span data-ttu-id="bd751-183">Os filtros de linha serão intersectados com outros filtros de linha definidos para tabelas relacionadas, por exemplo:</span><span class="sxs-lookup"><span data-stu-id="bd751-183">Row filters will be intersected with other row filers defined for related tables, for example:</span></span>  
  
|<span data-ttu-id="bd751-184">Table</span><span class="sxs-lookup"><span data-stu-id="bd751-184">Table</span></span>|<span data-ttu-id="bd751-185">Expressão DAX</span><span class="sxs-lookup"><span data-stu-id="bd751-185">DAX expression</span></span>|  
|-----------|--------------------|  
|<span data-ttu-id="bd751-186">Região</span><span class="sxs-lookup"><span data-stu-id="bd751-186">Region</span></span>|<span data-ttu-id="bd751-187">= Região [País] = "USA"</span><span class="sxs-lookup"><span data-stu-id="bd751-187">=Region[Country]="USA"</span></span>|  
|<span data-ttu-id="bd751-188">ProductCategory</span><span class="sxs-lookup"><span data-stu-id="bd751-188">ProductCategory</span></span>|<span data-ttu-id="bd751-189">= ProductCategory [Name] = "Bicicletas"</span><span class="sxs-lookup"><span data-stu-id="bd751-189">=ProductCategory[Name]="Bicycles"</span></span>|  
|<span data-ttu-id="bd751-190">Transações</span><span class="sxs-lookup"><span data-stu-id="bd751-190">Transactions</span></span>|<span data-ttu-id="bd751-191">=Transactions[Year]=2008</span><span class="sxs-lookup"><span data-stu-id="bd751-191">=Transactions[Year]=2008</span></span>|  
  
 <span data-ttu-id="bd751-192">O efeito líquido destas permissões na tabela de Transações é que os membros terão permissão de consultar as linhas de dados quando o cliente estiver nos EUA, e a categoria de produto for bicicletas e o ano for 2008.</span><span class="sxs-lookup"><span data-stu-id="bd751-192">The net effect of these permissions on the Transactions table is that members will be allowed to query rows of data where the customer is in the USA, and the product category is bicycles, and the year is 2008.</span></span> <span data-ttu-id="bd751-193">Os usuários não poderiam consultar nenhuma transação fora dos EUA ou nenhuma transação que não fosse bicicletas nem em 2008, a menos que fossem membros de outra função que concede estas permissões.</span><span class="sxs-lookup"><span data-stu-id="bd751-193">Users would not be able to query any transactions outside of the USA, or any transactions that are not bicycles, or any transactions not in 2008 unless they are a member of another role that grants these permissions.</span></span>  
  
 <span data-ttu-id="bd751-194">Você pode usar o filtro, *=FALSE()*, para negar o acesso a todas as linhas de uma tabela inteira.</span><span class="sxs-lookup"><span data-stu-id="bd751-194">You can use the filter, *=FALSE()*, to deny access to all rows for an entire table.</span></span>  
  
### <a name="dynamic-security"></a><span data-ttu-id="bd751-195">Segurança dinâmica</span><span class="sxs-lookup"><span data-stu-id="bd751-195">Dynamic Security</span></span>  
 <span data-ttu-id="bd751-196">A segurança dinâmica é um modo de definir a segurança de nível de linha com base no nome de usuário do usuário conectado no momento ou a propriedade CustomData retornada de uma cadeia de conexão.</span><span class="sxs-lookup"><span data-stu-id="bd751-196">Dynamic security provides a way to define row level security based on the user name of the user currently logged on or the CustomData property returned from a connection string.</span></span> <span data-ttu-id="bd751-197">A fim de implementar uma segurança dinâmica, você deve incluir em seu modelo uma tabela com valores de logon (nome de usuário do Windows) para usuários, assim como um campo que pode ser usado para definir uma permissão específica; por exemplo, uma tabela dimEmployees com uma ID de logon (domínio\nome de usuário) e também um valor de departamento para cada funcionário.</span><span class="sxs-lookup"><span data-stu-id="bd751-197">In order to implement dynamic security, you must include in your model a table with login (Windows user name) values for users as well as a field that can be used to define a particular permission; for example, a dimEmployees table with a login ID (domain\username) as well as a department value for each employee.</span></span>  
  
 <span data-ttu-id="bd751-198">Para implementar uma segurança dinâmica, você pode usar as funções a seguir como parte de uma fórmula DAX para retornar o nome de usuário do usuário conectado atualmente ou a propriedade CustomData em uma cadeia de conexão:</span><span class="sxs-lookup"><span data-stu-id="bd751-198">To implement dynamic security, you can use the following functions as part of a DAX formula to return the user name of the user currently logged on, or the CustomData property in a connection string:</span></span>  
  
|<span data-ttu-id="bd751-199">Função</span><span class="sxs-lookup"><span data-stu-id="bd751-199">Function</span></span>|<span data-ttu-id="bd751-200">Descrição</span><span class="sxs-lookup"><span data-stu-id="bd751-200">Description</span></span>|  
|--------------|-----------------|  
|[<span data-ttu-id="bd751-201">Função de nome de usuário &#40;DAX&#41;</span><span class="sxs-lookup"><span data-stu-id="bd751-201">USERNAME Function &#40;DAX&#41;</span></span>](/dax/username-function-dax)|<span data-ttu-id="bd751-202">Retorna o domínio\ nome de usuário do usuário conectado atualmente.</span><span class="sxs-lookup"><span data-stu-id="bd751-202">Returns the domain\ username of the user currently logged on.</span></span>|  
|[<span data-ttu-id="bd751-203">Função CUSTOMDATA &#40;DAX&#41;</span><span class="sxs-lookup"><span data-stu-id="bd751-203">CUSTOMDATA Function &#40;DAX&#41;</span></span>](/dax/customdata-function-dax)|<span data-ttu-id="bd751-204">Retorna a propriedade CustomData em uma cadeia de conexão.</span><span class="sxs-lookup"><span data-stu-id="bd751-204">Returns the CustomData property in a connection string.</span></span>|  
  
 <span data-ttu-id="bd751-205">Você pode usar a função LOOKUPVALUE para retornar valores para uma coluna na qual o nome de usuário do Windows seja igual ao nome de usuário retornado pela função USERNAME ou uma cadeia de caracteres retornada pela função CustomData.</span><span class="sxs-lookup"><span data-stu-id="bd751-205">You can use the LOOKUPVALUE function to return values for a column in which the Windows user name is the same as the user name returned by the USERNAME function or a string returned by the CustomData function.</span></span> <span data-ttu-id="bd751-206">As consultas podem ser então restritas onde os valores retornados por LOOKUPVALUE correspondem a valores na mesma tabela ou na tabela relacionada.</span><span class="sxs-lookup"><span data-stu-id="bd751-206">Queries can then be restricted where the values returned by LOOKUPVALUE match values in the same or related table.</span></span>  
  
 <span data-ttu-id="bd751-207">Por exemplo, usando esta fórmula:</span><span class="sxs-lookup"><span data-stu-id="bd751-207">For example, using this formula:</span></span>  
  
 `='dimDepartmentGroup'[DepartmentGroupId]=LOOKUPVALUE('dimEmployees'[DepartmentGroupId], 'dimEmployees'[LoginId], USERNAME(), 'dimEmployees'[LoginId], 'dimDepartmentGroup'[DepartmentGroupId])`  
  
 <span data-ttu-id="bd751-208">A função LOOKUPVALUE retorna valores para a coluna dimEmployees[DepartmentId] onde dimEmployees[LoginId] é igual ao LoginID do usuário conectado no momento, retornado por USERNAME, e os valores para dimEmployees[DepartmentId] são iguais aos valores para dimDepartmentGroup[DepartmentId].</span><span class="sxs-lookup"><span data-stu-id="bd751-208">The LOOKUPVALUE function returns values for the dimEmployees[DepartmentId] column where the dimEmployees[LoginId] is the same as the LoginID of the user currently logged on, returned by USERNAME, and values for dimEmployees[DepartmentId] are the same as values for dimDepartmentGroup[DepartmentId].</span></span> <span data-ttu-id="bd751-209">Os valores em DepartmentId retornados por LOOKUPVALUE são usados para restringir as linhas consultadas na tabela dimDepartment, e as tabelas relacionadas por DepartmentId.</span><span class="sxs-lookup"><span data-stu-id="bd751-209">The values in DepartmentId returned by LOOKUPVALUE are then used to restrict the rows queried in the dimDepartment table, and any tables related by DepartmentId.</span></span> <span data-ttu-id="bd751-210">Somente são retornadas as linhas onde DepartmentId também esteja nos valores para o DepartmentId retornados pela função LOOKUPVALUE.</span><span class="sxs-lookup"><span data-stu-id="bd751-210">Only rows where DepartmentId are also in the values for the DepartmentId returned by LOOKUPVALUE function are returned.</span></span>  
  
 <span data-ttu-id="bd751-211">**dimEmployees**</span><span class="sxs-lookup"><span data-stu-id="bd751-211">**dimEmployees**</span></span>  
  
|<span data-ttu-id="bd751-212">LastName</span><span class="sxs-lookup"><span data-stu-id="bd751-212">LastName</span></span>|<span data-ttu-id="bd751-213">Nome</span><span class="sxs-lookup"><span data-stu-id="bd751-213">FirstName</span></span>|<span data-ttu-id="bd751-214">LoginID</span><span class="sxs-lookup"><span data-stu-id="bd751-214">LoginID</span></span>|<span data-ttu-id="bd751-215">DepartmentName</span><span class="sxs-lookup"><span data-stu-id="bd751-215">DepartmentName</span></span>|<span data-ttu-id="bd751-216">DepartmentId</span><span class="sxs-lookup"><span data-stu-id="bd751-216">DepartmentId</span></span>|  
|--------------|---------------|-------------|--------------------|------------------|  
|<span data-ttu-id="bd751-217">Brown</span><span class="sxs-lookup"><span data-stu-id="bd751-217">Brown</span></span>|<span data-ttu-id="bd751-218">Kevin</span><span class="sxs-lookup"><span data-stu-id="bd751-218">Kevin</span></span>|<span data-ttu-id="bd751-219">Adventure-works\kevin0</span><span class="sxs-lookup"><span data-stu-id="bd751-219">Adventure-works\kevin0</span></span>|<span data-ttu-id="bd751-220">Marketing</span><span class="sxs-lookup"><span data-stu-id="bd751-220">Marketing</span></span>|<span data-ttu-id="bd751-221">7</span><span class="sxs-lookup"><span data-stu-id="bd751-221">7</span></span>|  
|<span data-ttu-id="bd751-222">Bradley</span><span class="sxs-lookup"><span data-stu-id="bd751-222">Bradley</span></span>|<span data-ttu-id="bd751-223">Davi</span><span class="sxs-lookup"><span data-stu-id="bd751-223">David</span></span>|<span data-ttu-id="bd751-224">Adventure-works\david0</span><span class="sxs-lookup"><span data-stu-id="bd751-224">Adventure-works\david0</span></span>|<span data-ttu-id="bd751-225">Marketing</span><span class="sxs-lookup"><span data-stu-id="bd751-225">Marketing</span></span>|<span data-ttu-id="bd751-226">7</span><span class="sxs-lookup"><span data-stu-id="bd751-226">7</span></span>|  
|<span data-ttu-id="bd751-227">Dobney</span><span class="sxs-lookup"><span data-stu-id="bd751-227">Dobney</span></span>|<span data-ttu-id="bd751-228">JoLynn</span><span class="sxs-lookup"><span data-stu-id="bd751-228">JoLynn</span></span>|<span data-ttu-id="bd751-229">Adventure-works\JoLynn0</span><span class="sxs-lookup"><span data-stu-id="bd751-229">Adventure-works\JoLynn0</span></span>|<span data-ttu-id="bd751-230">Produção</span><span class="sxs-lookup"><span data-stu-id="bd751-230">Production</span></span>|<span data-ttu-id="bd751-231">4</span><span class="sxs-lookup"><span data-stu-id="bd751-231">4</span></span>|  
|<span data-ttu-id="bd751-232">Baretto DeMattos</span><span class="sxs-lookup"><span data-stu-id="bd751-232">Baretto DeMattos</span></span>|<span data-ttu-id="bd751-233">Paula</span><span class="sxs-lookup"><span data-stu-id="bd751-233">Paula</span></span>|<span data-ttu-id="bd751-234">Adventure-works\Paula0</span><span class="sxs-lookup"><span data-stu-id="bd751-234">Adventure-works\Paula0</span></span>|<span data-ttu-id="bd751-235">Human Resources</span><span class="sxs-lookup"><span data-stu-id="bd751-235">Human Resources</span></span>|<span data-ttu-id="bd751-236">2</span><span class="sxs-lookup"><span data-stu-id="bd751-236">2</span></span>|  
  
 <span data-ttu-id="bd751-237">**dimDepartment**</span><span class="sxs-lookup"><span data-stu-id="bd751-237">**dimDepartment**</span></span>  
  
|<span data-ttu-id="bd751-238">DepartmentId</span><span class="sxs-lookup"><span data-stu-id="bd751-238">DepartmentId</span></span>|<span data-ttu-id="bd751-239">DepartmentName</span><span class="sxs-lookup"><span data-stu-id="bd751-239">DepartmentName</span></span>|  
|------------------|--------------------|  
|<span data-ttu-id="bd751-240">1</span><span class="sxs-lookup"><span data-stu-id="bd751-240">1</span></span>|<span data-ttu-id="bd751-241">Corporativo</span><span class="sxs-lookup"><span data-stu-id="bd751-241">Corporate</span></span>|  
|<span data-ttu-id="bd751-242">2</span><span class="sxs-lookup"><span data-stu-id="bd751-242">2</span></span>|<span data-ttu-id="bd751-243">Executive General and Administration</span><span class="sxs-lookup"><span data-stu-id="bd751-243">Executive General and Administration</span></span>|  
|<span data-ttu-id="bd751-244">3</span><span class="sxs-lookup"><span data-stu-id="bd751-244">3</span></span>|<span data-ttu-id="bd751-245">Inventory Management</span><span class="sxs-lookup"><span data-stu-id="bd751-245">Inventory Management</span></span>|  
|<span data-ttu-id="bd751-246">4</span><span class="sxs-lookup"><span data-stu-id="bd751-246">4</span></span>|<span data-ttu-id="bd751-247">Produção</span><span class="sxs-lookup"><span data-stu-id="bd751-247">Manufacturing</span></span>|  
|<span data-ttu-id="bd751-248">5</span><span class="sxs-lookup"><span data-stu-id="bd751-248">5</span></span>|<span data-ttu-id="bd751-249">Garantia de qualidade</span><span class="sxs-lookup"><span data-stu-id="bd751-249">Quality Assurance</span></span>|  
|<span data-ttu-id="bd751-250">6</span><span class="sxs-lookup"><span data-stu-id="bd751-250">6</span></span>|<span data-ttu-id="bd751-251">Pesquisa e desenvolvimento</span><span class="sxs-lookup"><span data-stu-id="bd751-251">Research and Development</span></span>|  
|<span data-ttu-id="bd751-252">7</span><span class="sxs-lookup"><span data-stu-id="bd751-252">7</span></span>|<span data-ttu-id="bd751-253">Vendas e marketing</span><span class="sxs-lookup"><span data-stu-id="bd751-253">Sales and Marketing</span></span>|  
  
##  <a name="testing-roles"></a><a name="bkmk_testroles"></a><span data-ttu-id="bd751-254">Testando funções</span><span class="sxs-lookup"><span data-stu-id="bd751-254">Testing Roles</span></span>  
 <span data-ttu-id="bd751-255">Ao criar um projeto de modelo, você pode usar o recurso Analisar no Excel para testar a eficácia das funções que você definiu.</span><span class="sxs-lookup"><span data-stu-id="bd751-255">When authoring a model project, you can use the Analyze in Excel feature to test the efficacy of the roles you have defined.</span></span> <span data-ttu-id="bd751-256">No menu **Modelo** no designer de modelo, quando você clica em **Analisar no Excel**, antes de o Excel abrir, a caixa de diálogo **Escolher Credenciais e Perspectiva** é aberta.</span><span class="sxs-lookup"><span data-stu-id="bd751-256">From the **Model** menu in the model designer, when you click **Analyze in Excel**, before Excel opens, the **Choose Credentials and Perspective** dialog box appears.</span></span> <span data-ttu-id="bd751-257">Nesta caixa de diálogo, você pode especificar o nome de usuário atual, um nome de usuário diferente, uma função e uma perspectiva que você usará para se conectar ao modelo de workspace como uma fonte de dados.</span><span class="sxs-lookup"><span data-stu-id="bd751-257">In this dialog, you can specify the current username, a different username, a role, and a perspective with which you will use to connect to the workspace model as a data source.</span></span> <span data-ttu-id="bd751-258">Para obter mais informações, consulte [Analisar no Excel &#40;SSAS de Tabela&#41;](analyze-in-excel-ssas-tabular.md).</span><span class="sxs-lookup"><span data-stu-id="bd751-258">For more information, see [Analyze in Excel &#40;SSAS Tabular&#41;](analyze-in-excel-ssas-tabular.md).</span></span>  
  
##  <a name="related-tasks"></a><a name="bkmk_rt"></a> <span data-ttu-id="bd751-259">Tarefas relacionadas</span><span class="sxs-lookup"><span data-stu-id="bd751-259">Related Tasks</span></span>  
  
|<span data-ttu-id="bd751-260">Tópico</span><span class="sxs-lookup"><span data-stu-id="bd751-260">Topic</span></span>|<span data-ttu-id="bd751-261">Descrição</span><span class="sxs-lookup"><span data-stu-id="bd751-261">Description</span></span>|  
|-----------|-----------------|  
|[<span data-ttu-id="bd751-262">Criar e Gerenciar Funções &#40;SSAS Tabular&#41;</span><span class="sxs-lookup"><span data-stu-id="bd751-262">Create and Manage Roles &#40;SSAS Tabular&#41;</span></span>](create-and-manage-roles-ssas-tabular.md)|<span data-ttu-id="bd751-263">As tarefas neste tópico descrevem como criar e gerenciar funções usando a caixa de diálogo **Gerenciador de Funções** .</span><span class="sxs-lookup"><span data-stu-id="bd751-263">Tasks in this topic describe how to create and manage roles by using the **Role Manager** dialog box.</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="bd751-264">Consulte Também</span><span class="sxs-lookup"><span data-stu-id="bd751-264">See Also</span></span>  
 <span data-ttu-id="bd751-265">[Perspectivas &#40;SSAS de tabela&#41;](perspectives-ssas-tabular.md) </span><span class="sxs-lookup"><span data-stu-id="bd751-265">[Perspectives &#40;SSAS Tabular&#41;](perspectives-ssas-tabular.md) </span></span>  
 <span data-ttu-id="bd751-266">[Analisar no Excel &#40;SSAS de tabela&#41;](analyze-in-excel-ssas-tabular.md) </span><span class="sxs-lookup"><span data-stu-id="bd751-266">[Analyze in Excel &#40;SSAS Tabular&#41;](analyze-in-excel-ssas-tabular.md) </span></span>  
 <span data-ttu-id="bd751-267">[Função de nome de usuário &#40;DAX&#41;](/dax/username-function-dax) </span><span class="sxs-lookup"><span data-stu-id="bd751-267">[USERNAME Function &#40;DAX&#41;](/dax/username-function-dax) </span></span>  
 <span data-ttu-id="bd751-268">[Função LOOKUPvalue &#40;DAX&#41;](/dax/lookupvalue-function-dax) </span><span class="sxs-lookup"><span data-stu-id="bd751-268">[LOOKUPVALUE Function &#40;DAX&#41;](/dax/lookupvalue-function-dax) </span></span>  
 [<span data-ttu-id="bd751-269">Função CUSTOMDATA &#40;DAX&#41;</span><span class="sxs-lookup"><span data-stu-id="bd751-269">CUSTOMDATA Function &#40;DAX&#41;</span></span>](/dax/customdata-function-dax)  
  
  
