---
title: Exemplos de consulta de modelo de regressão logística | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
helpviewer_keywords:
- logistic regression [Analysis Services]
- content queries [DMX]
ms.assetid: 7c8e13a3-5c67-46c2-abfa-4881e6ef9c62
author: minewiskan
ms.author: owend
ms.openlocfilehash: d432d38794e65e8b8bea69608479e330649ee395
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87568907"
---
# <a name="logistic-regression-model-query-examples"></a><span data-ttu-id="69300-102">Exemplos de consulta de modelo de regressão logística</span><span class="sxs-lookup"><span data-stu-id="69300-102">Logistic Regression Model Query Examples</span></span>
  <span data-ttu-id="69300-103">Ao criar uma consulta para um modelo de mineração de dados, você pode criar uma consulta de conteúdo que fornece detalhes de padrões encontrados em análises ou uma consulta de previsão que usa os padrões no modelo para fazer previsões com os novos dados.</span><span class="sxs-lookup"><span data-stu-id="69300-103">When you create a query against a data mining model, you can create a content query, which provides details about the patterns discovered in analysis, or you can create a prediction query, which uses the patterns in the model to make predictions using new data.</span></span>  
  
 <span data-ttu-id="69300-104">Esta seção explica como criar consultas para modelos baseados no algoritmo Regressão Logística da Microsoft.</span><span class="sxs-lookup"><span data-stu-id="69300-104">This section explains how to create queries for models that are based on the Microsoft Logistic Regression algorithm.</span></span>  
  
 <span data-ttu-id="69300-105">**Consultas de conteúdo**</span><span class="sxs-lookup"><span data-stu-id="69300-105">**Content Queries**</span></span>  
  
 [<span data-ttu-id="69300-106">Recuperando parâmetros de modelo usando o conjunto de linhas do esquema de mineração de dados</span><span class="sxs-lookup"><span data-stu-id="69300-106">Retrieving Model Parameters by Using the Data Mining Schema Rowset</span></span>](#bkmk_Query1)  
  
 [<span data-ttu-id="69300-107">Localizando detalhes adicionais sobre o modelo usando DMX</span><span class="sxs-lookup"><span data-stu-id="69300-107">Finding Additional Detail about the Model by Using DMX</span></span>](#bkmk_Query2)  
  
 <span data-ttu-id="69300-108">**Consultas de previsão**</span><span class="sxs-lookup"><span data-stu-id="69300-108">**Prediction Queries**</span></span>  
  
 [<span data-ttu-id="69300-109">Fazendo previsões para um valor contínuo</span><span class="sxs-lookup"><span data-stu-id="69300-109">Making Predictions for a Continuous Value</span></span>](#bkmk_Query3)  
  
 [<span data-ttu-id="69300-110">Fazendo previsões para um valor discreto</span><span class="sxs-lookup"><span data-stu-id="69300-110">Making Predictions for a Discrete Value</span></span>](#bkmk_Query4)  
  
##  <a name="getting-information-about-the-logistic-regression-model"></a><a name="bkmk_top"></a><span data-ttu-id="69300-111">Obtendo informações sobre o modelo de regressão logística</span><span class="sxs-lookup"><span data-stu-id="69300-111">Getting Information about the Logistic Regression Model</span></span>  
 <span data-ttu-id="69300-112">Os modelos de regressão logística são criados com o uso do algoritmo Rede Neural da Microsoft com um conjunto especial de parâmetros; portanto, um modelo de regressão logística tem algumas das mesmas informações que um modelo de redes neurais, só que é mais complexo.</span><span class="sxs-lookup"><span data-stu-id="69300-112">Logistic regression models are created by using the Microsoft Neural Network algorithm with a special set of parameters; therefore, a logistic regression model has some of the same information as a neural networks model, but is less complex.</span></span> <span data-ttu-id="69300-113">Para entender a estrutura do conteúdo do modelo e quais tipos de nós armazenam quais tipos de informações, consulte [Conteúdo do modelo de mineração para modelos de regressão logística &#40;Analysis Services – Data Mining&#41;](mining-model-content-for-logistic-regression-models.md).</span><span class="sxs-lookup"><span data-stu-id="69300-113">To understand the structure of the model content, and which node types store what kind of information, see [Mining Model Content for Logistic Regression Models &#40;Analysis Services - Data Mining&#41;](mining-model-content-for-logistic-regression-models.md).</span></span>  
  
 <span data-ttu-id="69300-114">Para acompanhar os cenários de consulta, você pode criar um modelo de regressão logística conforme descrito na seção seguinte do Tutorial Intermediário de Mineração de Dados: [Lição 5: Criando modelos de rede neural e de regressão logística &#40;Tutorial intermediário de Data Mining&#41;](../../tutorials/lesson-5-build-models-intermediate-data-mining-tutorial.md).</span><span class="sxs-lookup"><span data-stu-id="69300-114">To follow along in the query scenarios, you can create a logistic regression model as described in the following section of the Intermediate Data Mining Tutorial: [Lesson 5: Building Neural Network and Logistic Regression Models &#40;Intermediate Data Mining Tutorial&#41;](../../tutorials/lesson-5-build-models-intermediate-data-mining-tutorial.md).</span></span>  
  
 <span data-ttu-id="69300-115">Você também pode usar a estrutura de mineração, Correspondência destinada, do [Tutorial básico de mineração de dados](../../tutorials/basic-data-mining-tutorial.md).</span><span class="sxs-lookup"><span data-stu-id="69300-115">You can also use the mining structure, Targeted Mailing, from the [Basic Data Mining Tutorial](../../tutorials/basic-data-mining-tutorial.md).</span></span>  
  
```  
ALTER MINING STRUCTURE [Targeted Mailing]  
ADD MINING MODEL [TM_Logistic Regression]  
([Customer Key],  
[Age],  
[Bike Buyer] PREDICT,  
[Yearly Income] PREDICT,  
[Commute Distance],  
[English Education],  
Gender,  
[House Owner Flag],  
[Marital Status],  
[Number Cars Owned],  
[Number Children At Home],  
[Region],  
[Total Children]  
)  
USING Microsoft_Logistic_Regression  
```  
  
###  <a name="sample-query-1-retrieving-model-parameters-by-using-the-data-mining-schema-rowset"></a><a name="bkmk_Query1"></a><span data-ttu-id="69300-116">Exemplo de consulta 1: Recuperando parâmetros de modelo usando o conjunto de linhas de esquema de mineração de dados</span><span class="sxs-lookup"><span data-stu-id="69300-116">Sample Query 1: Retrieving Model Parameters by Using the Data Mining Schema Rowset</span></span>  
 <span data-ttu-id="69300-117">Ao consultar um conjunto de linhas de esquema de mineração de dados, você pode encontrar metadados sobre o modelo, tais como quando ele foi criado, última vez em que foi processado, o nome da estrutura de mineração na qual o modelo é baseado e o nome da coluna usada como atributo previsível.</span><span class="sxs-lookup"><span data-stu-id="69300-117">By querying the data mining schema rowset, you can find metadata about the model, such as when it was created, when the model was last processed, the name of the mining structure that the model is based on, and the name of the column used as the predictable attribute.</span></span> <span data-ttu-id="69300-118">O exemplo a seguir retorna os parâmetros usados quando o modelo foi criado, junto com o nome e o tipo de modelo, além da data de criação.</span><span class="sxs-lookup"><span data-stu-id="69300-118">The following example returns the parameters that were used when the model was first created, together with the name and type of the model, and the date that it was created.</span></span>  
  
```  
SELECT MODEL_NAME, SERVICE_NAME, DATE_CREATED, MINING_PARAMETERS   
FROM $system.DMSCHEMA_MINING_MODELS  
WHERE MODEL_NAME = 'Call Center_LR'  
```  
  
 <span data-ttu-id="69300-119">Resultados do exemplo:</span><span class="sxs-lookup"><span data-stu-id="69300-119">Sample results:</span></span>  
  
|<span data-ttu-id="69300-120">MODEL_NAME</span><span class="sxs-lookup"><span data-stu-id="69300-120">MODEL_NAME</span></span>|<span data-ttu-id="69300-121">SERVICE_NAME</span><span class="sxs-lookup"><span data-stu-id="69300-121">SERVICE_NAME</span></span>|<span data-ttu-id="69300-122">DATE_CREATED</span><span class="sxs-lookup"><span data-stu-id="69300-122">DATE_CREATED</span></span>|<span data-ttu-id="69300-123">MINING_PARAMETERS</span><span class="sxs-lookup"><span data-stu-id="69300-123">MINING_PARAMETERS</span></span>|  
|-----------------|-------------------|-------------------|------------------------|  
|<span data-ttu-id="69300-124">Call Center_LR</span><span class="sxs-lookup"><span data-stu-id="69300-124">Call Center_LR</span></span>|<span data-ttu-id="69300-125">Microsoft_Logistic_Regression</span><span class="sxs-lookup"><span data-stu-id="69300-125">Microsoft_Logistic_Regression</span></span>|<span data-ttu-id="69300-126">04/07/2009 20:38:33</span><span class="sxs-lookup"><span data-stu-id="69300-126">04/07/2009 20:38:33</span></span>|<span data-ttu-id="69300-127">HOLDOUT_PERCENTAGE=30, HOLDOUT_SEED=1, MAXIMUM_INPUT_ATTRIBUTES=255, MAXIMUM_OUTPUT_ATTRIBUTES=255, MAXIMUM_STATES=100, SAMPLE_SIZE=10000</span><span class="sxs-lookup"><span data-stu-id="69300-127">HOLDOUT_PERCENTAGE=30, HOLDOUT_SEED=1, MAXIMUM_INPUT_ATTRIBUTES=255, MAXIMUM_OUTPUT_ATTRIBUTES=255, MAXIMUM_STATES=100, SAMPLE_SIZE=10000</span></span>|  
  
###  <a name="sample-query-2-finding-additional-detail-about-the-model-by-using-dmx"></a><a name="bkmk_Query2"></a><span data-ttu-id="69300-128">Exemplo de consulta 2: Localizando detalhes adicionais sobre o modelo usando DMX</span><span class="sxs-lookup"><span data-stu-id="69300-128">Sample Query 2: Finding Additional Detail about the Model by Using DMX</span></span>  
 <span data-ttu-id="69300-129">A consulta a seguir retorna algumas informações básicas sobre o modelo de regressão logística.</span><span class="sxs-lookup"><span data-stu-id="69300-129">The following query returns some basic information about the logistic regression model.</span></span> <span data-ttu-id="69300-130">Um modelo de regressão logística é semelhante a um modelo de rede neural em muitos aspectos, inclusive a presença de um nó de estatísticas marginais (NODE_TYPE = 24) que descreve os valores usados como entradas.</span><span class="sxs-lookup"><span data-stu-id="69300-130">A logistic regression model is similar to a neural network model in many ways, including the presence of a marginal statistic node (NODE_TYPE = 24) that describes the values used as inputs.</span></span> <span data-ttu-id="69300-131">Esta consulta de exemplo usa o modelo Endereçamento de Destino e obtém os valores de todas as entradas recuperando-as da tabela aninhada, NODE_DISTRIBUTION.</span><span class="sxs-lookup"><span data-stu-id="69300-131">This example query uses the Targeted Mailing model, and gets the values of all the inputs by retrieving them from the nested table, NODE_DISTRIBUTION.</span></span>  
  
```  
SELECT FLATTENED NODE_DISTRIBUTION AS t  
FROM [TM_Logistic Regression].CONTENT   
```  
  
 <span data-ttu-id="69300-132">Resultados parciais:</span><span class="sxs-lookup"><span data-stu-id="69300-132">Partial results:</span></span>  
  
|<span data-ttu-id="69300-133">T.ATTRIBUTE_NAME</span><span class="sxs-lookup"><span data-stu-id="69300-133">t.ATTRIBUTE_NAME</span></span>|<span data-ttu-id="69300-134">t.ATTRIBUTE_VALUE</span><span class="sxs-lookup"><span data-stu-id="69300-134">t.ATTRIBUTE_VALUE</span></span>|<span data-ttu-id="69300-135">t.SUPPORT</span><span class="sxs-lookup"><span data-stu-id="69300-135">t.SUPPORT</span></span>|<span data-ttu-id="69300-136">t.PROBABILITY</span><span class="sxs-lookup"><span data-stu-id="69300-136">t.PROBABILITY</span></span>|<span data-ttu-id="69300-137">t.VARIANCE</span><span class="sxs-lookup"><span data-stu-id="69300-137">t.VARIANCE</span></span>|<span data-ttu-id="69300-138">t.VALUETYPE</span><span class="sxs-lookup"><span data-stu-id="69300-138">t.VALUETYPE</span></span>|  
|-----------------------|------------------------|---------------|-------------------|----------------|-----------------|  
|<span data-ttu-id="69300-139">Idade</span><span class="sxs-lookup"><span data-stu-id="69300-139">Age</span></span>|<span data-ttu-id="69300-140">Ausente</span><span class="sxs-lookup"><span data-stu-id="69300-140">Missing</span></span>|<span data-ttu-id="69300-141">0</span><span class="sxs-lookup"><span data-stu-id="69300-141">0</span></span>|<span data-ttu-id="69300-142">0</span><span class="sxs-lookup"><span data-stu-id="69300-142">0</span></span>|<span data-ttu-id="69300-143">0</span><span class="sxs-lookup"><span data-stu-id="69300-143">0</span></span>|<span data-ttu-id="69300-144">1</span><span class="sxs-lookup"><span data-stu-id="69300-144">1</span></span>|  
|<span data-ttu-id="69300-145">Idade</span><span class="sxs-lookup"><span data-stu-id="69300-145">Age</span></span>|<span data-ttu-id="69300-146">45.43491192</span><span class="sxs-lookup"><span data-stu-id="69300-146">45.43491192</span></span>|<span data-ttu-id="69300-147">17484</span><span class="sxs-lookup"><span data-stu-id="69300-147">17484</span></span>|<span data-ttu-id="69300-148">1</span><span class="sxs-lookup"><span data-stu-id="69300-148">1</span></span>|<span data-ttu-id="69300-149">126.9544114</span><span class="sxs-lookup"><span data-stu-id="69300-149">126.9544114</span></span>|<span data-ttu-id="69300-150">3</span><span class="sxs-lookup"><span data-stu-id="69300-150">3</span></span>|  
|<span data-ttu-id="69300-151">Bike Buyer</span><span class="sxs-lookup"><span data-stu-id="69300-151">Bike Buyer</span></span>|<span data-ttu-id="69300-152">Ausente</span><span class="sxs-lookup"><span data-stu-id="69300-152">Missing</span></span>|<span data-ttu-id="69300-153">0</span><span class="sxs-lookup"><span data-stu-id="69300-153">0</span></span>|<span data-ttu-id="69300-154">0</span><span class="sxs-lookup"><span data-stu-id="69300-154">0</span></span>|<span data-ttu-id="69300-155">0</span><span class="sxs-lookup"><span data-stu-id="69300-155">0</span></span>|<span data-ttu-id="69300-156">1</span><span class="sxs-lookup"><span data-stu-id="69300-156">1</span></span>|  
|<span data-ttu-id="69300-157">Bike Buyer</span><span class="sxs-lookup"><span data-stu-id="69300-157">Bike Buyer</span></span>|<span data-ttu-id="69300-158">0</span><span class="sxs-lookup"><span data-stu-id="69300-158">0</span></span>|<span data-ttu-id="69300-159">8869</span><span class="sxs-lookup"><span data-stu-id="69300-159">8869</span></span>|<span data-ttu-id="69300-160">0.507263784</span><span class="sxs-lookup"><span data-stu-id="69300-160">0.507263784</span></span>|<span data-ttu-id="69300-161">0</span><span class="sxs-lookup"><span data-stu-id="69300-161">0</span></span>|<span data-ttu-id="69300-162">4</span><span class="sxs-lookup"><span data-stu-id="69300-162">4</span></span>|  
|<span data-ttu-id="69300-163">Bike Buyer</span><span class="sxs-lookup"><span data-stu-id="69300-163">Bike Buyer</span></span>|<span data-ttu-id="69300-164">1</span><span class="sxs-lookup"><span data-stu-id="69300-164">1</span></span>|<span data-ttu-id="69300-165">8615</span><span class="sxs-lookup"><span data-stu-id="69300-165">8615</span></span>|<span data-ttu-id="69300-166">0.492736216</span><span class="sxs-lookup"><span data-stu-id="69300-166">0.492736216</span></span>|<span data-ttu-id="69300-167">0</span><span class="sxs-lookup"><span data-stu-id="69300-167">0</span></span>|<span data-ttu-id="69300-168">4</span><span class="sxs-lookup"><span data-stu-id="69300-168">4</span></span>|  
|<span data-ttu-id="69300-169">Distância do Trabalho</span><span class="sxs-lookup"><span data-stu-id="69300-169">Commute Distance</span></span>|<span data-ttu-id="69300-170">Ausente</span><span class="sxs-lookup"><span data-stu-id="69300-170">Missing</span></span>|<span data-ttu-id="69300-171">0</span><span class="sxs-lookup"><span data-stu-id="69300-171">0</span></span>|<span data-ttu-id="69300-172">0</span><span class="sxs-lookup"><span data-stu-id="69300-172">0</span></span>|<span data-ttu-id="69300-173">0</span><span class="sxs-lookup"><span data-stu-id="69300-173">0</span></span>|<span data-ttu-id="69300-174">1</span><span class="sxs-lookup"><span data-stu-id="69300-174">1</span></span>|  
|<span data-ttu-id="69300-175">Distância do Trabalho</span><span class="sxs-lookup"><span data-stu-id="69300-175">Commute Distance</span></span>|<span data-ttu-id="69300-176">8-16 quilômetros</span><span class="sxs-lookup"><span data-stu-id="69300-176">5-10 Miles</span></span>|<span data-ttu-id="69300-177">3033</span><span class="sxs-lookup"><span data-stu-id="69300-177">3033</span></span>|<span data-ttu-id="69300-178">0.173472889</span><span class="sxs-lookup"><span data-stu-id="69300-178">0.173472889</span></span>|<span data-ttu-id="69300-179">0</span><span class="sxs-lookup"><span data-stu-id="69300-179">0</span></span>|<span data-ttu-id="69300-180">4</span><span class="sxs-lookup"><span data-stu-id="69300-180">4</span></span>|  
  
 <span data-ttu-id="69300-181">A consulta real retorna muito mais linhas; no entanto, este exemplo demonstra o tipo de informações fornecidas sobre as entradas.</span><span class="sxs-lookup"><span data-stu-id="69300-181">The actual query returns many more rows; however, this sample illustrates the type of information that is provided about the inputs.</span></span> <span data-ttu-id="69300-182">Para entradas discretas, cada valor possível é listado na tabela.</span><span class="sxs-lookup"><span data-stu-id="69300-182">For discrete inputs, each possible value is listed in the table.</span></span> <span data-ttu-id="69300-183">Para entradas de valor contínuo, como Idade, uma listagem completa é impossível, portanto a entrada é de dados discretos como uma média.</span><span class="sxs-lookup"><span data-stu-id="69300-183">For continuous-value inputs such as Age, a complete listing is impossible, so the input is discretized as a mean.</span></span> <span data-ttu-id="69300-184">Para obter mais informações sobre como usar as informações no nó de estatísticas marginais, consulte [Conteúdo do modelo de mineração para modelos de regressão logística &#40;Analysis Services – Data Mining&#41;](mining-model-content-for-logistic-regression-models.md).</span><span class="sxs-lookup"><span data-stu-id="69300-184">For more information about how to use the information in the marginal statistics node, see [Mining Model Content for Logistic Regression Models &#40;Analysis Services - Data Mining&#41;](mining-model-content-for-logistic-regression-models.md).</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="69300-185">Os resultados foram simplificados para facilitar a visualização, mas você poderá retornar a tabela aninhada em uma única coluna se seu provedor oferecer suporte a conjuntos de linhas hierárquicos.</span><span class="sxs-lookup"><span data-stu-id="69300-185">The results have been flattened for easier viewing, but you can return the nested table in a single column if your provider supports hierarchical rowsets.</span></span>  
  
## <a name="prediction-queries-on-a-logistic-regression-model"></a><span data-ttu-id="69300-186">Consultas de previsão em um modelo de regressão logística</span><span class="sxs-lookup"><span data-stu-id="69300-186">Prediction Queries on a Logistic Regression Model</span></span>  
 <span data-ttu-id="69300-187">Você pode usar a função [Predict &#40;DMX&#41;](/sql/dmx/predict-dmx) com todo tipo de modelo de mineração para fornecer dados novos ao modelo e para fazer previsões com base nos novos valores.</span><span class="sxs-lookup"><span data-stu-id="69300-187">You can use the [Predict &#40;DMX&#41;](/sql/dmx/predict-dmx) function with every kind of mining model to provide new data to the model and make predictions based on the new values.</span></span> <span data-ttu-id="69300-188">Também é possível usar funções para retornar mais informações sobre a previsão, como a probabilidade de uma previsão estar correta.</span><span class="sxs-lookup"><span data-stu-id="69300-188">You can also use functions to return additional information about the prediction, such as the probability that a prediction is correct.</span></span> <span data-ttu-id="69300-189">Esta seção fornece alguns exemplos de consultas de previsão em um modelo de regressão logística.</span><span class="sxs-lookup"><span data-stu-id="69300-189">This section provides some examples of prediction queries on a logistic regression model.</span></span>  
  
###  <a name="sample-query-3-making-predictions-for-a-continuous-value"></a><a name="bkmk_Query3"></a><span data-ttu-id="69300-190">Exemplo de consulta 3: fazendo previsões para um valor contínuo</span><span class="sxs-lookup"><span data-stu-id="69300-190">Sample Query 3: Making Predictions for a Continuous Value</span></span>  
 <span data-ttu-id="69300-191">Como a regressão logística também dá suporte ao uso de atributos contínuos para entrada e previsão, é fácil criar modelos que correlacionam vários fatores em seus dados.</span><span class="sxs-lookup"><span data-stu-id="69300-191">Because logistic regression supports the use of continuous attributes for both input and prediction, it is easy to create models that correlate various factors in your data.</span></span> <span data-ttu-id="69300-192">Você pode usar consultas de previsão para explorar a relação entre esses fatores.</span><span class="sxs-lookup"><span data-stu-id="69300-192">You can use prediction queries to explore the relationship among these factors.</span></span>  
  
 <span data-ttu-id="69300-193">O exemplo de consulta a seguir é baseado no modelo de Call Center, do Tutorial Intermediário, e cria uma consulta singleton que prevê o nível de serviço do turno matutino da sexta-feira.</span><span class="sxs-lookup"><span data-stu-id="69300-193">The following query sample is based on the Call Center model, from the Intermediate Tutorial, and creates a singleton query that predicts service grade for the Friday AM shift.</span></span> <span data-ttu-id="69300-194">A função [PredictHistogram (DMX)](/sql/dmx/predicthistogram-dmx) retorna uma tabela aninhada que fornece estatísticas relevantes para entender a validade do valor previsto.</span><span class="sxs-lookup"><span data-stu-id="69300-194">The [PredictHistogram (DMX)](/sql/dmx/predicthistogram-dmx) function returns a nested table that provides statistics relevant to understanding the validity of the predicted value.</span></span>  
  
```  
SELECT  
  Predict([Call Center_LR].[Service Grade]) as Predicted ServiceGrade,  
  PredictHistogram([Call Center_LR].[Service Grade]) as [Results],  
FROM  
  [Call Center_LR]  
NATURAL PREDICTION JOIN  
(SELECT 'Friday' AS [Day Of Week],  
  'AM' AS [Shift]) AS t  
```  
  
 <span data-ttu-id="69300-195">Resultados do exemplo:</span><span class="sxs-lookup"><span data-stu-id="69300-195">Sample results:</span></span>  
  
 <span data-ttu-id="69300-196">**Nível de serviço previsto**: 0.102601830123659</span><span class="sxs-lookup"><span data-stu-id="69300-196">**Predicted Service Grade**: 0.102601830123659</span></span>  
  
 <span data-ttu-id="69300-197">**Resultados**</span><span class="sxs-lookup"><span data-stu-id="69300-197">**Results**</span></span>  
  
|<span data-ttu-id="69300-198">Nível de serviço</span><span class="sxs-lookup"><span data-stu-id="69300-198">Service Grade</span></span>|<span data-ttu-id="69300-199">$SUPPORT</span><span class="sxs-lookup"><span data-stu-id="69300-199">$SUPPORT</span></span>|<span data-ttu-id="69300-200">$PROBABILITY</span><span class="sxs-lookup"><span data-stu-id="69300-200">$PROBABILITY</span></span>|<span data-ttu-id="69300-201">$ADJUSTEDPROBABILITY</span><span class="sxs-lookup"><span data-stu-id="69300-201">$ADJUSTEDPROBABILITY</span></span>|<span data-ttu-id="69300-202">$VARIANCE</span><span class="sxs-lookup"><span data-stu-id="69300-202">$VARIANCE</span></span>|<span data-ttu-id="69300-203">$STDEV</span><span class="sxs-lookup"><span data-stu-id="69300-203">$STDEV</span></span>|  
|-------------------|--------------|------------------|--------------------------|---------------|------------|  
|<span data-ttu-id="69300-204">0.102601830123659</span><span class="sxs-lookup"><span data-stu-id="69300-204">0.102601830123659</span></span>|<span data-ttu-id="69300-205">83.0232558139535</span><span class="sxs-lookup"><span data-stu-id="69300-205">83.0232558139535</span></span>|<span data-ttu-id="69300-206">0.988372093023256</span><span class="sxs-lookup"><span data-stu-id="69300-206">0.988372093023256</span></span>|<span data-ttu-id="69300-207">0</span><span class="sxs-lookup"><span data-stu-id="69300-207">0</span></span>|<span data-ttu-id="69300-208">0.00120552660600087</span><span class="sxs-lookup"><span data-stu-id="69300-208">0.00120552660600087</span></span>|<span data-ttu-id="69300-209">0.034720694203902</span><span class="sxs-lookup"><span data-stu-id="69300-209">0.034720694203902</span></span>|  
||<span data-ttu-id="69300-210">0.976744186046512</span><span class="sxs-lookup"><span data-stu-id="69300-210">0.976744186046512</span></span>|<span data-ttu-id="69300-211">0.0116279069767442</span><span class="sxs-lookup"><span data-stu-id="69300-211">0.0116279069767442</span></span>|<span data-ttu-id="69300-212">0.0116279069767442</span><span class="sxs-lookup"><span data-stu-id="69300-212">0.0116279069767442</span></span>|<span data-ttu-id="69300-213">0</span><span class="sxs-lookup"><span data-stu-id="69300-213">0</span></span>|<span data-ttu-id="69300-214">0</span><span class="sxs-lookup"><span data-stu-id="69300-214">0</span></span>|  
  
 <span data-ttu-id="69300-215">Para obter mais informações sobre a probabilidade, suporte e valores de desvio padrão na tabela aninhada NODE_DISTRIBUTION, consulte [Conteúdo do modelo de mineração para modelos de regressão logística &#40;Analysis Services – Data Mining&#41;](mining-model-content-for-logistic-regression-models.md).</span><span class="sxs-lookup"><span data-stu-id="69300-215">For more information about the probability, support, and standard deviation values in the nested NODE_DISTRIBUTION table, see [Mining Model Content for Logistic Regression Models &#40;Analysis Services - Data Mining&#41;](mining-model-content-for-logistic-regression-models.md).</span></span>  
  
###  <a name="sample-query-4-making-predictions-for-a-discrete-value"></a><a name="bkmk_Query4"></a><span data-ttu-id="69300-216">Exemplo de consulta 4: fazendo previsões para um valor discreto</span><span class="sxs-lookup"><span data-stu-id="69300-216">Sample Query 4: Making Predictions for a Discrete Value</span></span>  
 <span data-ttu-id="69300-217">A regressão logística normalmente é usada em cenários onde você deseja analisar os fatores que contribuem para um resultado binário.</span><span class="sxs-lookup"><span data-stu-id="69300-217">Logistic regression is typically used in scenarios where you want to analyze the factors that contribute to a binary outcome.</span></span> <span data-ttu-id="69300-218">Embora o modelo usado no tutorial preveja um valor contínuo, **ServiceGrade**, em um cenário de vida real, você pode desejar configurar o modelo para prever se o nível de serviço atendeu a algum valor de destino de dados discretos.</span><span class="sxs-lookup"><span data-stu-id="69300-218">Although the model used in the tutorial predicts a continuous value, **ServiceGrade**, in a real-life scenario you might want to set up the model to predict whether service grade met some discretized target value.</span></span> <span data-ttu-id="69300-219">Como alternativa, você pode produzir as previsões usando um valor contínuo, mas posteriormente agrupar os resultados previstos em **Bom**, **Razoável**ou **Fraco**.</span><span class="sxs-lookup"><span data-stu-id="69300-219">Alternatively, you could output the predictions using a continuous value but later group the predicted outcomes into **Good**, **Fair**, or **Poor**.</span></span>  
  
 <span data-ttu-id="69300-220">O exemplo a seguir ilustra como alterar a maneira como o atributo previsível é agrupado.</span><span class="sxs-lookup"><span data-stu-id="69300-220">The following sample illustrates how to change the way that the predictable attribute is grouped.</span></span> <span data-ttu-id="69300-221">Para isso, você cria uma cópia da estrutura de mineração e, em seguida, altera o método de dados discretos da coluna de destino de forma que os valores sejam agrupados em vez de contínuos.</span><span class="sxs-lookup"><span data-stu-id="69300-221">To do this, you create a copy of the mining structure and then change the discretization method of the target column so that the values are grouped rather than continuous.</span></span>  
  
 <span data-ttu-id="69300-222">O procedimento a seguir descreve como alterar o agrupamento de valores de Nível de Serviço nos dados do Call Center.</span><span class="sxs-lookup"><span data-stu-id="69300-222">The following procedure describes how to change the grouping of Service Grade values in the Call Center data.</span></span>  
  
##### <a name="to-create-a-discretized-version-of-the-call-center-mining-structure-and-models"></a><span data-ttu-id="69300-223">Para criar uma versão diferenciada da estrutura de mineração e modelos de Call Center</span><span class="sxs-lookup"><span data-stu-id="69300-223">To create a discretized version of the Call Center mining structure and models</span></span>  
  
1.  <span data-ttu-id="69300-224">No [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)] , em Gerenciador de soluções, expanda **estruturas de mineração**.</span><span class="sxs-lookup"><span data-stu-id="69300-224">In [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)], in Solution Explorer, expand **Mining Structures**.</span></span>  
  
2.  <span data-ttu-id="69300-225">Clique com o botão direito do mouse em Call Center.dmm e selecione **Copiar**.</span><span class="sxs-lookup"><span data-stu-id="69300-225">Right-click Call Center.dmm and select **Copy**.</span></span>  
  
3.  <span data-ttu-id="69300-226">Clique com o botão direito em **Estruturas de Mineração** e selecione **Pasta**.</span><span class="sxs-lookup"><span data-stu-id="69300-226">Right click **Mining Structures** and select **Paste**.</span></span> <span data-ttu-id="69300-227">Uma nova estrutura de mineração é adicionada, nomeada como Call Center 1.</span><span class="sxs-lookup"><span data-stu-id="69300-227">A new mining structure iss added, named Call Center 1.</span></span>  
  
4.  <span data-ttu-id="69300-228">Clique com o botão direito do mouse na nova estrutura de mineração e selecione **Renomear**.</span><span class="sxs-lookup"><span data-stu-id="69300-228">Right-click the new mining structure and select **Rename**.</span></span> <span data-ttu-id="69300-229">Digite o novo nome, **Dados Discretos do Call Center**.</span><span class="sxs-lookup"><span data-stu-id="69300-229">Type the new name, **Call Center Discretized**.</span></span>  
  
5.  <span data-ttu-id="69300-230">Clique duas vezes na nova estrutura de mineração para abri-la no designer.</span><span class="sxs-lookup"><span data-stu-id="69300-230">Double-click the new mining structure to open it in the designer.</span></span> <span data-ttu-id="69300-231">Observe que todos os modelos de mineração também foram copiados e que todos têm a extensão 1.</span><span class="sxs-lookup"><span data-stu-id="69300-231">Notice that the mining models have all been copied as well, and all have the extension 1.</span></span> <span data-ttu-id="69300-232">Deixe os nomes como estão por enquanto.</span><span class="sxs-lookup"><span data-stu-id="69300-232">Leave the names as is for now.</span></span>  
  
6.  <span data-ttu-id="69300-233">Na guia **Estrutura de Mineração** , clique com o botão direito do mouse na coluna Nível de Serviço e selecione **Propriedades**.</span><span class="sxs-lookup"><span data-stu-id="69300-233">In the **Mining Structure** tab, right-click the column for Service Grade, and select **Properties**.</span></span>  
  
7.  <span data-ttu-id="69300-234">Altere a `Content` propriedade de **continuou** para **discretizado**.</span><span class="sxs-lookup"><span data-stu-id="69300-234">Change the `Content` property from **Continuous** to **Discretized**.</span></span> <span data-ttu-id="69300-235">Altere a `DiscretizationMethod` propriedade para **clusters**.</span><span class="sxs-lookup"><span data-stu-id="69300-235">Change the `DiscretizationMethod` property to **Clusters**.</span></span> <span data-ttu-id="69300-236">Para BucketCount de Dados Discretos, digite **3**.</span><span class="sxs-lookup"><span data-stu-id="69300-236">For Discretization BucketCount, type **3**.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="69300-237">Esses parâmetros são usados apenas para ilustrar o processo e não geram necessariamente um modelo válido.</span><span class="sxs-lookup"><span data-stu-id="69300-237">These parameters are just used for illustrating the process, and do not necessarily produce a valid model,</span></span>  
  
8.  <span data-ttu-id="69300-238">No menu **Modelo de Mineração** , selecione **Processar estrutura todos os modelos**.</span><span class="sxs-lookup"><span data-stu-id="69300-238">From the **Mining Model** menu, select **Process structure and all models**.</span></span>  
  
 <span data-ttu-id="69300-239">A consulta de exemplo a seguir é baseada nesse modelo de dados discretos e prevê o nível de serviço durante o dia da semana especificado, junto com as probabilidades de cada resultado previsto.</span><span class="sxs-lookup"><span data-stu-id="69300-239">The following sample query is based on this discretized model, and predicts the service grade for the specified day of the week, together with the probabilities for each predicted outcome.</span></span>  
  
```  
SELECT  
  (PredictHistogram([Call Center_LR 1].[Service Grade])) as [Predictions]  
FROM  
  [Call Center_LR 1]  
NATURAL PREDICTION JOIN  
(SELECT 'Saturday' AS [Day Of Week]) AS t    
```  
  
 <span data-ttu-id="69300-240">Resultados esperados:</span><span class="sxs-lookup"><span data-stu-id="69300-240">Expected results:</span></span>  
  
 <span data-ttu-id="69300-241">**Previsões**</span><span class="sxs-lookup"><span data-stu-id="69300-241">**Predictions**</span></span>  
  
|<span data-ttu-id="69300-242">Nível de serviço</span><span class="sxs-lookup"><span data-stu-id="69300-242">Service Grade</span></span>|<span data-ttu-id="69300-243">$SUPPORT</span><span class="sxs-lookup"><span data-stu-id="69300-243">$SUPPORT</span></span>|<span data-ttu-id="69300-244">$PROBABILITY</span><span class="sxs-lookup"><span data-stu-id="69300-244">$PROBABILITY</span></span>|<span data-ttu-id="69300-245">$ADJUSTEDPROBABILITY</span><span class="sxs-lookup"><span data-stu-id="69300-245">$ADJUSTEDPROBABILITY</span></span>|<span data-ttu-id="69300-246">$VARIANCE</span><span class="sxs-lookup"><span data-stu-id="69300-246">$VARIANCE</span></span>|<span data-ttu-id="69300-247">$STDEV</span><span class="sxs-lookup"><span data-stu-id="69300-247">$STDEV</span></span>|  
|-------------------|--------------|------------------|--------------------------|---------------|------------|  
|<span data-ttu-id="69300-248">0.10872718383125</span><span class="sxs-lookup"><span data-stu-id="69300-248">0.10872718383125</span></span>|<span data-ttu-id="69300-249">35.7246504770641</span><span class="sxs-lookup"><span data-stu-id="69300-249">35.7246504770641</span></span>|<span data-ttu-id="69300-250">0.425293458060287</span><span class="sxs-lookup"><span data-stu-id="69300-250">0.425293458060287</span></span>|<span data-ttu-id="69300-251">0.0170168360030293</span><span class="sxs-lookup"><span data-stu-id="69300-251">0.0170168360030293</span></span>|<span data-ttu-id="69300-252">0</span><span class="sxs-lookup"><span data-stu-id="69300-252">0</span></span>|<span data-ttu-id="69300-253">0</span><span class="sxs-lookup"><span data-stu-id="69300-253">0</span></span>|  
|<span data-ttu-id="69300-254">0.05855769230625</span><span class="sxs-lookup"><span data-stu-id="69300-254">0.05855769230625</span></span>|<span data-ttu-id="69300-255">31.7098880800703</span><span class="sxs-lookup"><span data-stu-id="69300-255">31.7098880800703</span></span>|<span data-ttu-id="69300-256">0.377498667619885</span><span class="sxs-lookup"><span data-stu-id="69300-256">0.377498667619885</span></span>|<span data-ttu-id="69300-257">0.020882020060454</span><span class="sxs-lookup"><span data-stu-id="69300-257">0.020882020060454</span></span>|<span data-ttu-id="69300-258">0</span><span class="sxs-lookup"><span data-stu-id="69300-258">0</span></span>|<span data-ttu-id="69300-259">0</span><span class="sxs-lookup"><span data-stu-id="69300-259">0</span></span>|  
|<span data-ttu-id="69300-260">0.170169491525</span><span class="sxs-lookup"><span data-stu-id="69300-260">0.170169491525</span></span>|<span data-ttu-id="69300-261">15.6109159883202</span><span class="sxs-lookup"><span data-stu-id="69300-261">15.6109159883202</span></span>|<span data-ttu-id="69300-262">0.185844237956192</span><span class="sxs-lookup"><span data-stu-id="69300-262">0.185844237956192</span></span>|<span data-ttu-id="69300-263">0.0661386571386049</span><span class="sxs-lookup"><span data-stu-id="69300-263">0.0661386571386049</span></span>|<span data-ttu-id="69300-264">0</span><span class="sxs-lookup"><span data-stu-id="69300-264">0</span></span>|<span data-ttu-id="69300-265">0</span><span class="sxs-lookup"><span data-stu-id="69300-265">0</span></span>|  
||<span data-ttu-id="69300-266">0.954545454545455</span><span class="sxs-lookup"><span data-stu-id="69300-266">0.954545454545455</span></span>|<span data-ttu-id="69300-267">0.0113636363636364</span><span class="sxs-lookup"><span data-stu-id="69300-267">0.0113636363636364</span></span>|<span data-ttu-id="69300-268">0.0113636363636364</span><span class="sxs-lookup"><span data-stu-id="69300-268">0.0113636363636364</span></span>|<span data-ttu-id="69300-269">0</span><span class="sxs-lookup"><span data-stu-id="69300-269">0</span></span>|<span data-ttu-id="69300-270">0</span><span class="sxs-lookup"><span data-stu-id="69300-270">0</span></span>|  
  
 <span data-ttu-id="69300-271">Observe que os resultados previstos foram agrupados em três categorias conforme especificado. No entanto, esses agrupamentos são baseados no clustering de valores reais nos dados, não valores arbitrários que você pode definir como metas comerciais.</span><span class="sxs-lookup"><span data-stu-id="69300-271">Note that the predicted outcomes have been grouped into three categories as specified; however, these groupings are based on the clustering of actual values in the data, not arbitrary values that you might set as business goals.</span></span>  
  
## <a name="list-of-prediction-functions"></a><span data-ttu-id="69300-272">Lista de funções de previsão</span><span class="sxs-lookup"><span data-stu-id="69300-272">List of Prediction Functions</span></span>  
 <span data-ttu-id="69300-273">Todos os algoritmos do [!INCLUDE[msCoName](../../includes/msconame-md.md)] dão suporte a um conjunto comum de funções.</span><span class="sxs-lookup"><span data-stu-id="69300-273">All [!INCLUDE[msCoName](../../includes/msconame-md.md)] algorithms support a common set of functions.</span></span> <span data-ttu-id="69300-274">Entretanto, o algoritmo Regressão Logística da [!INCLUDE[msCoName](../../includes/msconame-md.md)] oferece suporte às funções adicionais relacionadas na tabela a seguir.</span><span class="sxs-lookup"><span data-stu-id="69300-274">However, the [!INCLUDE[msCoName](../../includes/msconame-md.md)] Logistic Regression algorithm supports the additional functions listed in the following table.</span></span>  
  
|||  
|-|-|  
|<span data-ttu-id="69300-275">Função de previsão</span><span class="sxs-lookup"><span data-stu-id="69300-275">Prediction Function</span></span>|<span data-ttu-id="69300-276">Uso</span><span class="sxs-lookup"><span data-stu-id="69300-276">Usage</span></span>|  
|[<span data-ttu-id="69300-277">IsDescendant &#40;DMX&#41;</span><span class="sxs-lookup"><span data-stu-id="69300-277">IsDescendant &#40;DMX&#41;</span></span>](/sql/dmx/isdescendant-dmx)|<span data-ttu-id="69300-278">Determina se um nó é um filho de outro nó no modelo.</span><span class="sxs-lookup"><span data-stu-id="69300-278">Determines whether one node is a child of another node in the model.</span></span>|  
|[<span data-ttu-id="69300-279">PredictAdjustedProbability &#40;DMX&#41;</span><span class="sxs-lookup"><span data-stu-id="69300-279">PredictAdjustedProbability &#40;DMX&#41;</span></span>](/sql/dmx/predictadjustedprobability-dmx)|<span data-ttu-id="69300-280">Retorna a probabilidade ajustada de um estado especificado.</span><span class="sxs-lookup"><span data-stu-id="69300-280">Returns the adjusted probability of a specified state.</span></span>|  
|[<span data-ttu-id="69300-281">PredictHistogram &#40;DMX&#41;</span><span class="sxs-lookup"><span data-stu-id="69300-281">PredictHistogram &#40;DMX&#41;</span></span>](/sql/dmx/predicthistogram-dmx)|<span data-ttu-id="69300-282">Retorna um valor previsto ou conjunto de valores de uma coluna especificada.</span><span class="sxs-lookup"><span data-stu-id="69300-282">Returns a predicted value, or set of values, for a specified column.</span></span>|  
|[<span data-ttu-id="69300-283">PredictProbability &#40;DMX&#41;</span><span class="sxs-lookup"><span data-stu-id="69300-283">PredictProbability &#40;DMX&#41;</span></span>](/sql/dmx/predictprobability-dmx)|<span data-ttu-id="69300-284">Retorna a probabilidade para um estado especificado.</span><span class="sxs-lookup"><span data-stu-id="69300-284">Returns the probability for a specified state.</span></span>|  
|[<span data-ttu-id="69300-285">PredictStdev &#40;DMX&#41;</span><span class="sxs-lookup"><span data-stu-id="69300-285">PredictStdev &#40;DMX&#41;</span></span>](/sql/dmx/predictstdev-dmx)|<span data-ttu-id="69300-286">Retorna o desvio padrão previsto para o valor previsto.</span><span class="sxs-lookup"><span data-stu-id="69300-286">Returns standard deviation for the predicted value.</span></span>|  
|[<span data-ttu-id="69300-287">PredictSupport &#40;DMX&#41;</span><span class="sxs-lookup"><span data-stu-id="69300-287">PredictSupport &#40;DMX&#41;</span></span>](/sql/dmx/predictsupport-dmx)|<span data-ttu-id="69300-288">Retorna o valor de suporte para um estado especificado.</span><span class="sxs-lookup"><span data-stu-id="69300-288">Returns the support value for a specified state.</span></span>|  
|[<span data-ttu-id="69300-289">PredictVariance &#40;DMX&#41;</span><span class="sxs-lookup"><span data-stu-id="69300-289">PredictVariance &#40;DMX&#41;</span></span>](/sql/dmx/predictvariance-dmx)|<span data-ttu-id="69300-290">Retorna a variação de uma coluna especificada.</span><span class="sxs-lookup"><span data-stu-id="69300-290">Returns the variance of a specified column.</span></span>|  
  
 <span data-ttu-id="69300-291">Para obter uma lista das funções comuns a todos os algoritmos [!INCLUDE[msCoName](../../includes/msconame-md.md)], consulte [Funções de previsão gerais &#40;DMX&#41;](/sql/dmx/general-prediction-functions-dmx).</span><span class="sxs-lookup"><span data-stu-id="69300-291">For a list of the functions that are common to all [!INCLUDE[msCoName](../../includes/msconame-md.md)] algorithms, see [General Prediction Functions &#40;DMX&#41;](/sql/dmx/general-prediction-functions-dmx).</span></span> <span data-ttu-id="69300-292">Para obter a sintaxe de funções específicas, consulte [Referência de função de DMX &#40;extensões DMX&#41;](/sql/dmx/data-mining-extensions-dmx-function-reference).</span><span class="sxs-lookup"><span data-stu-id="69300-292">For the syntax of specific functions, see [Data Mining Extensions &#40;DMX&#41; Function Reference](/sql/dmx/data-mining-extensions-dmx-function-reference).</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="69300-293">Para modelos de rede neural e regressão logística, a função [PredictSupport &#40;DMX&#41;](/sql/dmx/predictsupport-dmx) retorna um único valor que representa o tamanho do conjunto de treinamento de todo o modelo.</span><span class="sxs-lookup"><span data-stu-id="69300-293">For neural network and logistic regression models, the [PredictSupport &#40;DMX&#41;](/sql/dmx/predictsupport-dmx) function returns a single value that represents the size of the training set for the entire model.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="69300-294">Consulte Também</span><span class="sxs-lookup"><span data-stu-id="69300-294">See Also</span></span>  
 <span data-ttu-id="69300-295">[Consultas de mineração de dados](data-mining-queries.md) </span><span class="sxs-lookup"><span data-stu-id="69300-295">[Data Mining Queries](data-mining-queries.md) </span></span>  
 <span data-ttu-id="69300-296">[Algoritmo de regressão logística da Microsoft](microsoft-logistic-regression-algorithm.md) </span><span class="sxs-lookup"><span data-stu-id="69300-296">[Microsoft Logistic Regression Algorithm](microsoft-logistic-regression-algorithm.md) </span></span>  
 <span data-ttu-id="69300-297">[Referência técnica do algoritmo regressão logística da Microsoft](microsoft-logistic-regression-algorithm-technical-reference.md) </span><span class="sxs-lookup"><span data-stu-id="69300-297">[Microsoft Logistic Regression Algorithm Technical Reference](microsoft-logistic-regression-algorithm-technical-reference.md) </span></span>  
 <span data-ttu-id="69300-298">[Conteúdo do modelo de mineração para modelos de regressão logística &#40;Analysis Services&#41;de mineração de dados](mining-model-content-for-logistic-regression-models.md) </span><span class="sxs-lookup"><span data-stu-id="69300-298">[Mining Model Content for Logistic Regression Models &#40;Analysis Services - Data Mining&#41;](mining-model-content-for-logistic-regression-models.md) </span></span>  
 [<span data-ttu-id="69300-299">Lição 5: Criando modelos de rede neural e de regressão logística &#40;Tutorial intermediário de Data Mining&#41;</span><span class="sxs-lookup"><span data-stu-id="69300-299">Lesson 5: Building Neural Network and Logistic Regression Models &#40;Intermediate Data Mining Tutorial&#41;</span></span>](../../tutorials/lesson-5-build-models-intermediate-data-mining-tutorial.md)  
  
  
