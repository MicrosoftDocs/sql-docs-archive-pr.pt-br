---
title: Exemplos de consulta de modelo de clustering | Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
helpviewer_keywords:
- clustering [Data Mining]
- content queries [DMX]
- clustering algorithms [Analysis Services]
ms.assetid: bf2ba332-9bc6-411a-a3af-b919c52432c8
author: minewiskan
ms.author: owend
ms.openlocfilehash: fe12b82ce2d237acd060b1e387e7a6dfbf958851
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87583921"
---
# <a name="clustering-model-query-examples"></a><span data-ttu-id="027c9-102">Exemplos de consulta de modelo de clustering</span><span class="sxs-lookup"><span data-stu-id="027c9-102">Clustering Model Query Examples</span></span>
  <span data-ttu-id="027c9-103">Ao criar uma consulta em um modelo de mineração de dados, é possível recuperar metadados sobre o modelo ou criar uma consulta de conteúdo que forneça detalhes sobre os padrões descobertos na análise.</span><span class="sxs-lookup"><span data-stu-id="027c9-103">When you create a query against a data mining model, you can retrieve metadata about the model, or create a content query that provides details about the patterns discovered in analysis.</span></span> <span data-ttu-id="027c9-104">Se preferir, crie uma consulta de previsão, que usa os padrões do modelo para fazer previsões para os novos dados.</span><span class="sxs-lookup"><span data-stu-id="027c9-104">Alternatively, you can create a prediction query, which uses the patterns in the model to make predictions for new data.</span></span> <span data-ttu-id="027c9-105">Cada tipo de consulta fornece informações diferentes.</span><span class="sxs-lookup"><span data-stu-id="027c9-105">Each type of query will provide different information.</span></span> <span data-ttu-id="027c9-106">Por exemplo, uma consulta de conteúdo pode fornecer detalhes adicionais sobre os clusters encontrados, enquanto uma consulta de previsão pode informar a qual cluster um novo ponto de dados provavelmente pertence.</span><span class="sxs-lookup"><span data-stu-id="027c9-106">For example, a content query might provide additional details about the clusters that were found, whereas a prediction query might tell you in which cluster a new data point is most likely to belong.</span></span>  
  
 <span data-ttu-id="027c9-107">Esta seção explica como criar consultas para modelos baseados no algoritmo [!INCLUDE[msCoName](../../includes/msconame-md.md)] Clustering.</span><span class="sxs-lookup"><span data-stu-id="027c9-107">This section explains how to create queries for models that are based on the [!INCLUDE[msCoName](../../includes/msconame-md.md)] Clustering algorithm.</span></span>  
  
 <span data-ttu-id="027c9-108">**Consultas de conteúdo**</span><span class="sxs-lookup"><span data-stu-id="027c9-108">**Content Queries**</span></span>  
  
 [<span data-ttu-id="027c9-109">Obtendo metadados do modelo usando DMX</span><span class="sxs-lookup"><span data-stu-id="027c9-109">Getting Model Metadata by Using DMX</span></span>](#bkmk_Query1)  
  
 [<span data-ttu-id="027c9-110">Recuperando metadados do modelo do conjunto de linhas de esquema</span><span class="sxs-lookup"><span data-stu-id="027c9-110">Retrieving Model Metadata from the Schema Rowset</span></span>](#bkmk_Query2)  
  
 [<span data-ttu-id="027c9-111">Retornando um cluster ou uma lista de clusters</span><span class="sxs-lookup"><span data-stu-id="027c9-111">Returning a Cluster or a List of Clusters</span></span>](#bkmk_Query3)  
  
 [<span data-ttu-id="027c9-112">Retornando atributos para um cluster</span><span class="sxs-lookup"><span data-stu-id="027c9-112">Returning Attributes for a Cluster</span></span>](#bkmk_Query4)  
  
 [<span data-ttu-id="027c9-113">Retornando um perfil de cluster por meio de procedimentos armazenados do sistema</span><span class="sxs-lookup"><span data-stu-id="027c9-113">Returning a Cluster Profile Using System Stored Procedures</span></span>](#bkmk_Query5)  
  
 [<span data-ttu-id="027c9-114">Localizando fatores de distinção para um cluster</span><span class="sxs-lookup"><span data-stu-id="027c9-114">Finding Discriminating Factors for a Cluster</span></span>](#bkmk_Query6)  
  
 [<span data-ttu-id="027c9-115">Retornando casos que pertencem a um cluster</span><span class="sxs-lookup"><span data-stu-id="027c9-115">Returning Cases that Belong to a Cluster</span></span>](#bkmk_Query7)  
  
 <span data-ttu-id="027c9-116">**Consultas de previsão**</span><span class="sxs-lookup"><span data-stu-id="027c9-116">**Prediction Queries**</span></span>  
  
 [<span data-ttu-id="027c9-117">Prevendo resultados de um modelo de clustering</span><span class="sxs-lookup"><span data-stu-id="027c9-117">Predicting Outcomes from a Clustering Model</span></span>](#bkmk_Query8)  
  
 [<span data-ttu-id="027c9-118">Determinando a associação do cluster</span><span class="sxs-lookup"><span data-stu-id="027c9-118">Determining Cluster Membership</span></span>](#bkmk_Query9)  
  
 [<span data-ttu-id="027c9-119">Retornando todos os possíveis clusters com probabilidade e distância</span><span class="sxs-lookup"><span data-stu-id="027c9-119">Returning All Possible Clusters with Probability and Distance</span></span>](#bkmk_Query10)  
  
##  <a name="finding-information-about-the-model"></a><a name="bkmk_top2"></a> <span data-ttu-id="027c9-120">Localizando informações sobre o modelo</span><span class="sxs-lookup"><span data-stu-id="027c9-120">Finding Information about the Model</span></span>  
 <span data-ttu-id="027c9-121">Todos os modelos de mineração expõem o conteúdo captado pelo algoritmo de acordo com um esquema padronizado, o conjunto de linhas do esquema do modelo de mineração.</span><span class="sxs-lookup"><span data-stu-id="027c9-121">All mining models expose the content learned by the algorithm according to a standardized schema, the mining model schema rowset.</span></span> <span data-ttu-id="027c9-122">Você pode criar consultas para o conjunto de linhas de esquema de modelo de mineração usando instruções DMX.</span><span class="sxs-lookup"><span data-stu-id="027c9-122">You can create queries against the mining model schema rowset by using Data Mining Extension (DMX) statements.</span></span> <span data-ttu-id="027c9-123">No [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)], você também pode consultar os conjuntos de linhas de esquema diretamente como tabelas do sistema.</span><span class="sxs-lookup"><span data-stu-id="027c9-123">In [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)], you can also query the schema rowsets directly as system tables.</span></span>  
  
 [<span data-ttu-id="027c9-124">Retornar ao início</span><span class="sxs-lookup"><span data-stu-id="027c9-124">Return to Top</span></span>](#bkmk_top2)  
  
###  <a name="sample-query-1-getting-model-metadata-by-using-dmx"></a><a name="bkmk_Query1"></a><span data-ttu-id="027c9-125">Exemplo de consulta 1: obtendo metadados de modelo usando DMX</span><span class="sxs-lookup"><span data-stu-id="027c9-125">Sample Query 1: Getting Model Metadata by Using DMX</span></span>  
 <span data-ttu-id="027c9-126">A consulta a seguir retorna os metadados básicos do modelo de clustering, `TM_Clustering`, que você criou no Tutorial de mineração de dados básico.</span><span class="sxs-lookup"><span data-stu-id="027c9-126">The following query returns basic metadata about the clustering model, `TM_Clustering`, that you created in the Basic Data Mining Tutorial.</span></span> <span data-ttu-id="027c9-127">Os metadados disponíveis no nó pai de um modelo de clustering incluem o nome do modelo, o banco de dados onde o modelo é armazenado e o número de nós filho do modelo.</span><span class="sxs-lookup"><span data-stu-id="027c9-127">The metadata available in the parent node of a clustering model includes the name of the model, the database where the model is stored, and the number of child nodes in the model.</span></span> <span data-ttu-id="027c9-128">Esta consulta usa uma consulta de conteúdo DMX para recuperar os metadados do nó pai do modelo:</span><span class="sxs-lookup"><span data-stu-id="027c9-128">This query uses a DMX content query to retrieve the metadata from the parent node of the model:</span></span>  
  
```  
SELECT MODEL_CATALOG, MODEL_NAME, NODE_CAPTION,   
NODE_SUPPORT, [CHILDREN_CARDINALITY], NODE_DESCRIPTION  
FROM TM_Clustering.CONTENT  
WHERE NODE_TYPE = 1  
```  
  
> [!NOTE]  
>  <span data-ttu-id="027c9-129">É necessário colocar o nome na coluna, CHILDREN_CARDINALITY, entre colchetes para diferenciá-lo da palavra-chave reservada MDX do mesmo nome.</span><span class="sxs-lookup"><span data-stu-id="027c9-129">You must enclose the name of the column, CHILDREN_CARDINALITY, in brackets to distinguish it from the Multidimensional Expressions (MDX) reserved keyword of the same name.</span></span>  
  
 <span data-ttu-id="027c9-130">Resultados do exemplo:</span><span class="sxs-lookup"><span data-stu-id="027c9-130">Example results:</span></span>  
  
|||  
|-|-|  
|<span data-ttu-id="027c9-131">MODEL_CATALOG</span><span class="sxs-lookup"><span data-stu-id="027c9-131">MODEL_CATALOG</span></span>|<span data-ttu-id="027c9-132">TM_Clustering</span><span class="sxs-lookup"><span data-stu-id="027c9-132">TM_Clustering</span></span>|  
|<span data-ttu-id="027c9-133">MODEL_NAME</span><span class="sxs-lookup"><span data-stu-id="027c9-133">MODEL_NAME</span></span>|<span data-ttu-id="027c9-134">Adventure Works DW</span><span class="sxs-lookup"><span data-stu-id="027c9-134">Adventure Works DW</span></span>|  
|<span data-ttu-id="027c9-135">NODE_CAPTION</span><span class="sxs-lookup"><span data-stu-id="027c9-135">NODE_CAPTION</span></span>|<span data-ttu-id="027c9-136">Cluster Model</span><span class="sxs-lookup"><span data-stu-id="027c9-136">Cluster Model</span></span>|  
|<span data-ttu-id="027c9-137">NODE_SUPPORT</span><span class="sxs-lookup"><span data-stu-id="027c9-137">NODE_SUPPORT</span></span>|<span data-ttu-id="027c9-138">12939</span><span class="sxs-lookup"><span data-stu-id="027c9-138">12939</span></span>|  
|<span data-ttu-id="027c9-139">CHILDREN_CARDINALITY</span><span class="sxs-lookup"><span data-stu-id="027c9-139">CHILDREN_CARDINALITY</span></span>|<span data-ttu-id="027c9-140">10</span><span class="sxs-lookup"><span data-stu-id="027c9-140">10</span></span>|  
|<span data-ttu-id="027c9-141">NODE_DESCRIPTION</span><span class="sxs-lookup"><span data-stu-id="027c9-141">NODE_DESCRIPTION</span></span>|<span data-ttu-id="027c9-142">Todos</span><span class="sxs-lookup"><span data-stu-id="027c9-142">All</span></span>|  
  
 <span data-ttu-id="027c9-143">Para obter uma definição do que essas colunas significam em um modelo de clustering, consulte [Conteúdo do modelo de mineração para modelos de clustering &#40;Analysis Services – Data Mining&#41;](mining-model-content-for-clustering-models-analysis-services-data-mining.md).</span><span class="sxs-lookup"><span data-stu-id="027c9-143">For a definition of what these columns mean in a clustering model, see [Mining Model Content for Clustering Models &#40;Analysis Services - Data Mining&#41;](mining-model-content-for-clustering-models-analysis-services-data-mining.md).</span></span>  
  
 [<span data-ttu-id="027c9-144">Retornar ao início</span><span class="sxs-lookup"><span data-stu-id="027c9-144">Return to Top</span></span>](#bkmk_top2)  
  
###  <a name="sample-query-2-retrieving-model-metadata-from-the-schema-rowset"></a><a name="bkmk_Query2"></a><span data-ttu-id="027c9-145">Exemplo de consulta 2: Recuperando metadados de modelo do conjunto de linhas de esquema</span><span class="sxs-lookup"><span data-stu-id="027c9-145">Sample Query 2: Retrieving Model Metadata from the Schema Rowset</span></span>  
 <span data-ttu-id="027c9-146">É possível consultar o conjunto de linhas de esquema de mineração de dados para encontrar as mesmas informações retornadas em uma consulta de conteúdo DMX.</span><span class="sxs-lookup"><span data-stu-id="027c9-146">By querying the data mining schema rowset, you can find the same information that is returned in a DMX content query.</span></span> <span data-ttu-id="027c9-147">No entanto, o conjunto de linhas de esquema fornece algumas colunas adicionais.</span><span class="sxs-lookup"><span data-stu-id="027c9-147">However, the schema rowset provides some additional columns.</span></span> <span data-ttu-id="027c9-148">Essas colunas incluem os parâmetros usados quando o modelo foi criado, a data e a hora em que o modelo foi processado pela última vez e o proprietário do modelo.</span><span class="sxs-lookup"><span data-stu-id="027c9-148">These include the parameters that were used when the model was created, the date and time that the model was last processed, and the owner of the model.</span></span>  
  
 <span data-ttu-id="027c9-149">O exemplo a seguir retorna a data em que o modelo foi criado, modificado e processado pela última vez, além dos parâmetros de cluster usados para criar o modelo e o tamanho do conjunto de treinamento.</span><span class="sxs-lookup"><span data-stu-id="027c9-149">The following example returns the date the model was created, modified, and last processed, together with the clustering parameters that were used to build the model, and the size of the training set.</span></span> <span data-ttu-id="027c9-150">Essas informações podem ser úteis para documentar o modelo ou para determinar quais opções de clustering foram usadas para criar um modelo existente.</span><span class="sxs-lookup"><span data-stu-id="027c9-150">This information can be useful for documenting the model, or for determining which of the clustering options were used to create an existing model.</span></span>  
  
```  
SELECT MODEL_NAME, DATE_CREATED, LAST_PROCESSED, PREDICTION_ENTITY, MINING_PARAMETERS   
from $system.DMSCHEMA_MINING_MODELS  
WHERE MODEL_NAME = 'TM_Clustering'  
```  
  
 <span data-ttu-id="027c9-151">Resultados do exemplo:</span><span class="sxs-lookup"><span data-stu-id="027c9-151">Example results:</span></span>  
  
|||  
|-|-|  
|<span data-ttu-id="027c9-152">MODEL_NAME</span><span class="sxs-lookup"><span data-stu-id="027c9-152">MODEL_NAME</span></span>|<span data-ttu-id="027c9-153">TM_Clustering</span><span class="sxs-lookup"><span data-stu-id="027c9-153">TM_Clustering</span></span>|  
|<span data-ttu-id="027c9-154">DATE_CREATED</span><span class="sxs-lookup"><span data-stu-id="027c9-154">DATE_CREATED</span></span>|<span data-ttu-id="027c9-155">10/12/2007 7:42:51 PM</span><span class="sxs-lookup"><span data-stu-id="027c9-155">10/12/2007 7:42:51 PM</span></span>|  
|<span data-ttu-id="027c9-156">LAST_PROCESSED</span><span class="sxs-lookup"><span data-stu-id="027c9-156">LAST_PROCESSED</span></span>|<span data-ttu-id="027c9-157">10/12/2007 8:09:54 PM</span><span class="sxs-lookup"><span data-stu-id="027c9-157">10/12/2007 8:09:54 PM</span></span>|  
|<span data-ttu-id="027c9-158">PREDICTION_ENTITY</span><span class="sxs-lookup"><span data-stu-id="027c9-158">PREDICTION_ENTITY</span></span>|<span data-ttu-id="027c9-159">Bike Buyer</span><span class="sxs-lookup"><span data-stu-id="027c9-159">Bike Buyer</span></span>|  
|<span data-ttu-id="027c9-160">MINING_PARAMETERS</span><span class="sxs-lookup"><span data-stu-id="027c9-160">MINING_PARAMETERS</span></span>|<span data-ttu-id="027c9-161">CLUSTER_COUNT = 10</span><span class="sxs-lookup"><span data-stu-id="027c9-161">CLUSTER_COUNT=10,</span></span><br /><br /> <span data-ttu-id="027c9-162">CLUSTER_SEED = 0</span><span class="sxs-lookup"><span data-stu-id="027c9-162">CLUSTER_SEED=0,</span></span><br /><br /> <span data-ttu-id="027c9-163">CLUSTERING_METHOD = 1</span><span class="sxs-lookup"><span data-stu-id="027c9-163">CLUSTERING_METHOD=1,</span></span><br /><br /> <span data-ttu-id="027c9-164">MAXIMUM_INPUT_ATTRIBUTES = 255</span><span class="sxs-lookup"><span data-stu-id="027c9-164">MAXIMUM_INPUT_ATTRIBUTES=255,</span></span><br /><br /> <span data-ttu-id="027c9-165">MAXIMUM_STATES = 100</span><span class="sxs-lookup"><span data-stu-id="027c9-165">MAXIMUM_STATES=100,</span></span><br /><br /> <span data-ttu-id="027c9-166">MINIMUM_SUPPORT = 1</span><span class="sxs-lookup"><span data-stu-id="027c9-166">MINIMUM_SUPPORT=1,</span></span><br /><br /> <span data-ttu-id="027c9-167">MODELLING_CARDINALITY = 10,</span><span class="sxs-lookup"><span data-stu-id="027c9-167">MODELLING_CARDINALITY=10,</span></span><br /><br /> <span data-ttu-id="027c9-168">SAMPLE_SIZE = 50000,</span><span class="sxs-lookup"><span data-stu-id="027c9-168">SAMPLE_SIZE=50000,</span></span><br /><br /> <span data-ttu-id="027c9-169">STOPPING_TOLERANCE = 10</span><span class="sxs-lookup"><span data-stu-id="027c9-169">STOPPING_TOLERANCE=10</span></span>|  
  
 [<span data-ttu-id="027c9-170">Retornar ao início</span><span class="sxs-lookup"><span data-stu-id="027c9-170">Return to Top</span></span>](#bkmk_top2)  
  
## <a name="finding-information-about-clusters"></a><span data-ttu-id="027c9-171">Localizando informações sobre clusters</span><span class="sxs-lookup"><span data-stu-id="027c9-171">Finding Information about Clusters</span></span>  
 <span data-ttu-id="027c9-172">As consultas de conteúdo mais úteis sobre modelos de clustering geralmente retornam o mesmo tipo de informação que você pode procurar por meio do **Visualizador de Cluster**.</span><span class="sxs-lookup"><span data-stu-id="027c9-172">The most useful content queries on clustering models generally return the same type of information that you can browse by using the **Cluster Viewer**.</span></span> <span data-ttu-id="027c9-173">Isto inclui perfis de cluster, características de cluster e distinção de cluster.</span><span class="sxs-lookup"><span data-stu-id="027c9-173">This includes cluster profiles, cluster characteristics, and cluster discrimination.</span></span> <span data-ttu-id="027c9-174">Esta seção fornece exemplos de consultas que recuperam essas informações.</span><span class="sxs-lookup"><span data-stu-id="027c9-174">This section provides examples of queries that retrieve this information.</span></span>  
  
###  <a name="sample-query-3-returning-a-cluster-or-list-of-clusters"></a><a name="bkmk_Query3"></a> <span data-ttu-id="027c9-175">Exemplo de consulta 3: Retornando um cluster ou lista de clusters</span><span class="sxs-lookup"><span data-stu-id="027c9-175">Sample Query 3: Returning a Cluster or List of Clusters</span></span>  
 <span data-ttu-id="027c9-176">Como todos os clusters têm um tipo de nó 5, é possível recuperar facilmente uma lista de clusters consultando o conteúdo do modelo apenas para os nós desse tipo.</span><span class="sxs-lookup"><span data-stu-id="027c9-176">Because all clusters have a node type of 5, you can easily retrieve a list of the clusters by querying the model content for only the nodes of that type.</span></span> <span data-ttu-id="027c9-177">Você também pode filtrar os nós que são retornados pela probabilidade ou pelo suporte, como mostra este exemplo.</span><span class="sxs-lookup"><span data-stu-id="027c9-177">You can also filter the nodes that are returned by probability or by support, as shown in this example.</span></span>  
  
```  
SELECT NODE_NAME, NODE_CAPTION ,NODE_SUPPORT, NODE_DESCRIPTION  
FROM TM_Clustering.CONTENT  
WHERE NODE_TYPE = 5 AND NODE_SUPPORT > 1000  
```  
  
 <span data-ttu-id="027c9-178">Resultados do exemplo:</span><span class="sxs-lookup"><span data-stu-id="027c9-178">Example results:</span></span>  
  
|||  
|-|-|  
|<span data-ttu-id="027c9-179">NODE_NAME</span><span class="sxs-lookup"><span data-stu-id="027c9-179">NODE_NAME</span></span>|<span data-ttu-id="027c9-180">002</span><span class="sxs-lookup"><span data-stu-id="027c9-180">002</span></span>|  
|<span data-ttu-id="027c9-181">NODE_CAPTION</span><span class="sxs-lookup"><span data-stu-id="027c9-181">NODE_CAPTION</span></span>|<span data-ttu-id="027c9-182">Cluster 2</span><span class="sxs-lookup"><span data-stu-id="027c9-182">Cluster 2</span></span>|  
|<span data-ttu-id="027c9-183">NODE_SUPPORT</span><span class="sxs-lookup"><span data-stu-id="027c9-183">NODE_SUPPORT</span></span>|<span data-ttu-id="027c9-184">1649</span><span class="sxs-lookup"><span data-stu-id="027c9-184">1649</span></span>|  
|<span data-ttu-id="027c9-185">NODE_DESCRIPTION</span><span class="sxs-lookup"><span data-stu-id="027c9-185">NODE_DESCRIPTION</span></span>|<span data-ttu-id="027c9-186">English Education=Graduate Degree , 32 <=Age <=48 , Number Cars Owned=0 , 35964.0771121808 <=Yearly Income <=97407.7163393957 , English Occupation=Professional , Commute Distance=2-5 Miles , Region=North America , Bike Buyer=1 , Number Children At Home=0 , Number Cars Owned=1 , Commute Distance=0-1 Miles , English Education=Bachelors , Total Children=1 , Number Children At Home=2 , English Occupation=Skilled Manual , Marital Status=S , Total Children=0 , House Owner Flag=0 , Gender=F , Total Children=2 , Region=Pacific</span><span class="sxs-lookup"><span data-stu-id="027c9-186">English Education=Graduate Degree , 32 <=Age <=48 , Number Cars Owned=0 , 35964.0771121808 <=Yearly Income <=97407.7163393957 , English Occupation=Professional , Commute Distance=2-5 Miles , Region=North America , Bike Buyer=1 , Number Children At Home=0 , Number Cars Owned=1 , Commute Distance=0-1 Miles , English Education=Bachelors , Total Children=1 , Number Children At Home=2 , English Occupation=Skilled Manual , Marital Status=S , Total Children=0 , House Owner Flag=0 , Gender=F , Total Children=2 , Region=Pacific</span></span>|  
  
 <span data-ttu-id="027c9-187">Os atributos que definem o cluster podem ser encontrados em duas colunas no conjunto de linhas de esquema de mineração de dados.</span><span class="sxs-lookup"><span data-stu-id="027c9-187">The attributes that define the cluster can be found in two columns in the data mining schema rowset.</span></span>  
  
-   <span data-ttu-id="027c9-188">A coluna NODE_DESCRIPTION contém uma lista de atributos separados por vírgula.</span><span class="sxs-lookup"><span data-stu-id="027c9-188">The NODE_DESCRIPTION column contains a comma-separated list of attributes.</span></span> <span data-ttu-id="027c9-189">Observe que a lista de atributos pode ser abreviada para fins de exibição.</span><span class="sxs-lookup"><span data-stu-id="027c9-189">Note that the list of attributes might be abbreviated for display purposes.</span></span>  
  
-   <span data-ttu-id="027c9-190">A tabela aninhada na coluna NODE_DISTRIBUTION contém a lista completa de atributos do cluster.</span><span class="sxs-lookup"><span data-stu-id="027c9-190">The nested table in the NODE_DISTRIBUTION column contains the full list of attributes for the cluster.</span></span> <span data-ttu-id="027c9-191">Se o cliente não suportar conjuntos de linhas hierárquicos, é possível retornar a tabela aninhada adicionando a palavra-chave FLATTENED antes da lista da coluna SELECT.</span><span class="sxs-lookup"><span data-stu-id="027c9-191">If your client does not support hierarchical rowsets, you can return the nested table by adding the FLATTENED keyword before the SELECT column list.</span></span> <span data-ttu-id="027c9-192">Para obter mais informações sobre o uso da palavra-chave FLATTENED, consulte [SELECT FROM &#60;modelo&#62; CONTENT &#40;DMX&#41;](/sql/dmx/select-from-model-dimension-content-dmx).</span><span class="sxs-lookup"><span data-stu-id="027c9-192">For more information about the use of the FLATTENED keyword, see [SELECT FROM &#60;model&#62;.CONTENT &#40;DMX&#41;](/sql/dmx/select-from-model-dimension-content-dmx).</span></span>  
  
 [<span data-ttu-id="027c9-193">Retornar ao início</span><span class="sxs-lookup"><span data-stu-id="027c9-193">Return to Top</span></span>](#bkmk_top2)  
  
###  <a name="sample-query-4-returning-attributes-for-a-cluster"></a><a name="bkmk_Query4"></a> <span data-ttu-id="027c9-194">Exemplo de consulta 4: Retornando atributos para um cluster</span><span class="sxs-lookup"><span data-stu-id="027c9-194">Sample Query 4: Returning Attributes for a Cluster</span></span>  
 <span data-ttu-id="027c9-195">Para cada cluster, o **Visualizador de Cluster** exibe um perfil que lista os atributos e seus valores.</span><span class="sxs-lookup"><span data-stu-id="027c9-195">For every cluster, the **Cluster Viewer** displays a profile that lists the attributes and their values.</span></span> <span data-ttu-id="027c9-196">O visualizador também exibe um histograma que mostra a distribuição de valores para toda a população de casos do modelo.</span><span class="sxs-lookup"><span data-stu-id="027c9-196">The viewer also displays a histogram that shows the distribution of values for the whole population of cases in the model.</span></span> <span data-ttu-id="027c9-197">Se estiver procurando o modelo no visualizador, copie o histograma da Legenda de Mineração e cole-o no Excel ou em um documento do Word.</span><span class="sxs-lookup"><span data-stu-id="027c9-197">If you are browsing the model in the viewer, you can easily copy the histogram from the Mining Legend and then paste it to Excel or a Word document.</span></span> <span data-ttu-id="027c9-198">Você também pode usar o painel Características do Cluster do visualizador para comparar graficamente os atributos de clusters diferentes.</span><span class="sxs-lookup"><span data-stu-id="027c9-198">You can also use the Cluster Characteristics pane of the viewer to graphically compare the attributes of different clusters.</span></span>  
  
 <span data-ttu-id="027c9-199">No entanto, se for necessário obter valores para mais de um cluster de uma vez, é mais fácil consultar o modelo.</span><span class="sxs-lookup"><span data-stu-id="027c9-199">However, if you must obtain values for more than one cluster at a time, it is easier to query the model.</span></span> <span data-ttu-id="027c9-200">Por exemplo, ao consultar o modelo, você pode perceber que os dois primeiros clusters diferem em um atributo, `Number Cars Owned`.</span><span class="sxs-lookup"><span data-stu-id="027c9-200">For example, when you browse the model, you might notice that the top two clusters differ with regard to one attribute, `Number Cars Owned`.</span></span> <span data-ttu-id="027c9-201">Desse modo, você deve extrair os valores de cada cluster.</span><span class="sxs-lookup"><span data-stu-id="027c9-201">Therefore, you want to extract the values for each cluster.</span></span>  
  
```  
SELECT TOP 2 NODE_NAME,   
(SELECT ATTRIBUTE_VALUE, [PROBABILITY] FROM NODE_DISTRIBUTION WHERE ATTRIBUTE_NAME = 'Number Cars Owned')  
AS t  
FROM [TM_Clustering].CONTENT  
WHERE NODE_TYPE = 5  
```  
  
 <span data-ttu-id="027c9-202">A primeira linha do código especifica que você quer somente dois primeiros clusters.</span><span class="sxs-lookup"><span data-stu-id="027c9-202">The first line of the code specifies that you want only the top two clusters.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="027c9-203">Por padrão, os clusters são ordenados por suporte.</span><span class="sxs-lookup"><span data-stu-id="027c9-203">By default, the clusters are ordered by support.</span></span> <span data-ttu-id="027c9-204">Desse modo, a coluna NODE_SUPPORT pode ser omitida.</span><span class="sxs-lookup"><span data-stu-id="027c9-204">Therefore, the NODE_SUPPORT column can be omitted.</span></span>  
  
 <span data-ttu-id="027c9-205">A segunda linha do código adiciona uma instrução de subseleção que retorna somente algumas colunas da coluna da tabela aninhada.</span><span class="sxs-lookup"><span data-stu-id="027c9-205">The second line of the code adds a sub-select statement that returns only certain columns from the nested table column.</span></span> <span data-ttu-id="027c9-206">Além disso, ela restringe as linhas da tabela aninhada às linhas relacionadas ao atributo de destino, `Number Cars Owned`.</span><span class="sxs-lookup"><span data-stu-id="027c9-206">Furthermore, it restricts the rows from the nested table to those related to the target attribute, `Number Cars Owned`.</span></span> <span data-ttu-id="027c9-207">Para simplificar a exibição, a tabela aninhada possui alias.</span><span class="sxs-lookup"><span data-stu-id="027c9-207">To simplify the display, the nested table is aliased.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="027c9-208">A coluna da tabela aninhada, `PROBABILITY`, deve ficar entre colchetes porque ela também é o nome de uma palavra-chave MDX reservada.</span><span class="sxs-lookup"><span data-stu-id="027c9-208">The nested table column, `PROBABILITY`, must be enclosed in brackets because it is also the name of a reserved MDX keyword.</span></span>  
>   
>  <span data-ttu-id="027c9-209">Resultados do exemplo:</span><span class="sxs-lookup"><span data-stu-id="027c9-209">Example results:</span></span>  
  
|<span data-ttu-id="027c9-210">NODE_NAME</span><span class="sxs-lookup"><span data-stu-id="027c9-210">NODE_NAME</span></span>|<span data-ttu-id="027c9-211">T.ATTRIBUTE_VALUE</span><span class="sxs-lookup"><span data-stu-id="027c9-211">T.ATTRIBUTE_VALUE</span></span>|<span data-ttu-id="027c9-212">T.PROBABILITY</span><span class="sxs-lookup"><span data-stu-id="027c9-212">T.PROBABILITY</span></span>|  
|----------------|------------------------|-------------------|  
|<span data-ttu-id="027c9-213">001</span><span class="sxs-lookup"><span data-stu-id="027c9-213">001</span></span>|<span data-ttu-id="027c9-214">2</span><span class="sxs-lookup"><span data-stu-id="027c9-214">2</span></span>|<span data-ttu-id="027c9-215">0.829207754</span><span class="sxs-lookup"><span data-stu-id="027c9-215">0.829207754</span></span>|  
|<span data-ttu-id="027c9-216">001</span><span class="sxs-lookup"><span data-stu-id="027c9-216">001</span></span>|<span data-ttu-id="027c9-217">1</span><span class="sxs-lookup"><span data-stu-id="027c9-217">1</span></span>|<span data-ttu-id="027c9-218">0.109354156</span><span class="sxs-lookup"><span data-stu-id="027c9-218">0.109354156</span></span>|  
|<span data-ttu-id="027c9-219">001</span><span class="sxs-lookup"><span data-stu-id="027c9-219">001</span></span>|<span data-ttu-id="027c9-220">3</span><span class="sxs-lookup"><span data-stu-id="027c9-220">3</span></span>|<span data-ttu-id="027c9-221">0.034481552</span><span class="sxs-lookup"><span data-stu-id="027c9-221">0.034481552</span></span>|  
|<span data-ttu-id="027c9-222">001</span><span class="sxs-lookup"><span data-stu-id="027c9-222">001</span></span>|<span data-ttu-id="027c9-223">4</span><span class="sxs-lookup"><span data-stu-id="027c9-223">4</span></span>|<span data-ttu-id="027c9-224">0.013503302</span><span class="sxs-lookup"><span data-stu-id="027c9-224">0.013503302</span></span>|  
|<span data-ttu-id="027c9-225">001</span><span class="sxs-lookup"><span data-stu-id="027c9-225">001</span></span>|<span data-ttu-id="027c9-226">0</span><span class="sxs-lookup"><span data-stu-id="027c9-226">0</span></span>|<span data-ttu-id="027c9-227">0.013453236</span><span class="sxs-lookup"><span data-stu-id="027c9-227">0.013453236</span></span>|  
|<span data-ttu-id="027c9-228">001</span><span class="sxs-lookup"><span data-stu-id="027c9-228">001</span></span>|<span data-ttu-id="027c9-229">Ausente</span><span class="sxs-lookup"><span data-stu-id="027c9-229">Missing</span></span>|<span data-ttu-id="027c9-230">0</span><span class="sxs-lookup"><span data-stu-id="027c9-230">0</span></span>|  
|<span data-ttu-id="027c9-231">002</span><span class="sxs-lookup"><span data-stu-id="027c9-231">002</span></span>|<span data-ttu-id="027c9-232">0</span><span class="sxs-lookup"><span data-stu-id="027c9-232">0</span></span>|<span data-ttu-id="027c9-233">0.576980023</span><span class="sxs-lookup"><span data-stu-id="027c9-233">0.576980023</span></span>|  
|<span data-ttu-id="027c9-234">002</span><span class="sxs-lookup"><span data-stu-id="027c9-234">002</span></span>|<span data-ttu-id="027c9-235">1</span><span class="sxs-lookup"><span data-stu-id="027c9-235">1</span></span>|<span data-ttu-id="027c9-236">0.406623939</span><span class="sxs-lookup"><span data-stu-id="027c9-236">0.406623939</span></span>|  
|<span data-ttu-id="027c9-237">002</span><span class="sxs-lookup"><span data-stu-id="027c9-237">002</span></span>|<span data-ttu-id="027c9-238">2</span><span class="sxs-lookup"><span data-stu-id="027c9-238">2</span></span>|<span data-ttu-id="027c9-239">0.016380082</span><span class="sxs-lookup"><span data-stu-id="027c9-239">0.016380082</span></span>|  
|<span data-ttu-id="027c9-240">002</span><span class="sxs-lookup"><span data-stu-id="027c9-240">002</span></span>|<span data-ttu-id="027c9-241">3</span><span class="sxs-lookup"><span data-stu-id="027c9-241">3</span></span>|<span data-ttu-id="027c9-242">1,60E-05</span><span class="sxs-lookup"><span data-stu-id="027c9-242">1.60E-05</span></span>|  
|<span data-ttu-id="027c9-243">002</span><span class="sxs-lookup"><span data-stu-id="027c9-243">002</span></span>|<span data-ttu-id="027c9-244">4</span><span class="sxs-lookup"><span data-stu-id="027c9-244">4</span></span>|<span data-ttu-id="027c9-245">0</span><span class="sxs-lookup"><span data-stu-id="027c9-245">0</span></span>|  
|<span data-ttu-id="027c9-246">002</span><span class="sxs-lookup"><span data-stu-id="027c9-246">002</span></span>|<span data-ttu-id="027c9-247">Ausente</span><span class="sxs-lookup"><span data-stu-id="027c9-247">Missing</span></span>|<span data-ttu-id="027c9-248">0</span><span class="sxs-lookup"><span data-stu-id="027c9-248">0</span></span>|  
  
 [<span data-ttu-id="027c9-249">Retornar ao início</span><span class="sxs-lookup"><span data-stu-id="027c9-249">Return to Top</span></span>](#bkmk_top2)  
  
###  <a name="sample-query-5-return-a-cluster-profile-using-system-stored-procedures"></a><a name="bkmk_Query5"></a> <span data-ttu-id="027c9-250">Exemplo de consulta 5: Retornar um perfil de cluster usando procedimentos armazenados do sistema</span><span class="sxs-lookup"><span data-stu-id="027c9-250">Sample Query 5: Return a Cluster Profile Using System Stored Procedures</span></span>  
 <span data-ttu-id="027c9-251">Para simplificar, em vez de gravar suas próprias consultas usando DMX, você também pode chamar os procedimentos armazenados de sistema que o [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] usa para trabalhar com clusters.</span><span class="sxs-lookup"><span data-stu-id="027c9-251">As a shortcut, rather than writing your own queries by using DMX, you can also call the system stored procedures that [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] uses to work with clusters.</span></span> <span data-ttu-id="027c9-252">O exemplo a seguir ilustra como é possível usar os procedimentos armazenados internos para retornar o perfil de um cluster com ID 002.</span><span class="sxs-lookup"><span data-stu-id="027c9-252">The following example illustrates how to use the internal stored procedures to return the profile for a cluster with the ID of 002.</span></span>  
  
```  
CALL System.Microsoft.AnalysisServices.System.DataMining.Clustering.GetClusterProfiles('TM_Clustering", '002',0.0005  
```  
  
 <span data-ttu-id="027c9-253">Similarmente, é possível usar um procedimento armazenado de sistema para retornar as características de um cluster específico, como mostra o exemplo a seguir:</span><span class="sxs-lookup"><span data-stu-id="027c9-253">Similarly, you can use a system stored procedure to return the characteristics of a specific cluster, as shown in the following example:</span></span>  
  
```  
CALL System.Microsoft.AnalysisServices.System.DataMining.Clustering.GetClusterCharacteristics('TM_Clustering", '009',0.0005  
```  
  
 <span data-ttu-id="027c9-254">Resultados do exemplo:</span><span class="sxs-lookup"><span data-stu-id="027c9-254">Example results:</span></span>  
  
|<span data-ttu-id="027c9-255">Atributos</span><span class="sxs-lookup"><span data-stu-id="027c9-255">Attributes</span></span>|<span data-ttu-id="027c9-256">Valores</span><span class="sxs-lookup"><span data-stu-id="027c9-256">Values</span></span>|<span data-ttu-id="027c9-257">Frequência</span><span class="sxs-lookup"><span data-stu-id="027c9-257">Frequency</span></span>|<span data-ttu-id="027c9-258">Suporte</span><span class="sxs-lookup"><span data-stu-id="027c9-258">Support</span></span>|  
|----------------|------------|---------------|-------------|  
|<span data-ttu-id="027c9-259">Number Children at Home</span><span class="sxs-lookup"><span data-stu-id="027c9-259">Number Children at Home</span></span>|<span data-ttu-id="027c9-260">0</span><span class="sxs-lookup"><span data-stu-id="027c9-260">0</span></span>|<span data-ttu-id="027c9-261">0.999999829076798</span><span class="sxs-lookup"><span data-stu-id="027c9-261">0.999999829076798</span></span>|<span data-ttu-id="027c9-262">899</span><span class="sxs-lookup"><span data-stu-id="027c9-262">899</span></span>|  
|<span data-ttu-id="027c9-263">Região</span><span class="sxs-lookup"><span data-stu-id="027c9-263">Region</span></span>|<span data-ttu-id="027c9-264">América do Norte</span><span class="sxs-lookup"><span data-stu-id="027c9-264">North America</span></span>|<span data-ttu-id="027c9-265">0.999852875241508</span><span class="sxs-lookup"><span data-stu-id="027c9-265">0.999852875241508</span></span>|<span data-ttu-id="027c9-266">899</span><span class="sxs-lookup"><span data-stu-id="027c9-266">899</span></span>|  
|<span data-ttu-id="027c9-267">Total de Filhos</span><span class="sxs-lookup"><span data-stu-id="027c9-267">Total Children</span></span>|<span data-ttu-id="027c9-268">0</span><span class="sxs-lookup"><span data-stu-id="027c9-268">0</span></span>|<span data-ttu-id="027c9-269">0.993860958572323</span><span class="sxs-lookup"><span data-stu-id="027c9-269">0.993860958572323</span></span>|<span data-ttu-id="027c9-270">893</span><span class="sxs-lookup"><span data-stu-id="027c9-270">893</span></span>|  
  
> [!NOTE]  
>  <span data-ttu-id="027c9-271">Os procedimentos armazenados do sistema de mineração de dados são para uso interno e a [!INCLUDE[msCoName](../../includes/msconame-md.md)] reserva-se o direito de alterá-los conforme necessário.</span><span class="sxs-lookup"><span data-stu-id="027c9-271">The data mining system stored procedures are for internal use and [!INCLUDE[msCoName](../../includes/msconame-md.md)] reserves the right to change them as needed.</span></span> <span data-ttu-id="027c9-272">Para uso em produção, é recomendável criar consultas por meio de DMX, AMO ou XMLA.</span><span class="sxs-lookup"><span data-stu-id="027c9-272">For production use, we recommend that you create queries by using DMX, AMO, or XMLA.</span></span>  
  
 [<span data-ttu-id="027c9-273">Retornar ao início</span><span class="sxs-lookup"><span data-stu-id="027c9-273">Return to Top</span></span>](#bkmk_top2)  
  
###  <a name="sample-query-6-find-discriminating-factors-for-a-cluster"></a><a name="bkmk_Query6"></a> <span data-ttu-id="027c9-274">Exemplo de consulta 6: Localizar fatores de distinção para um cluster</span><span class="sxs-lookup"><span data-stu-id="027c9-274">Sample Query 6: Find Discriminating Factors for a Cluster</span></span>  
 <span data-ttu-id="027c9-275">A guia **Distinção de Cluster** do **Visualizador de Cluster** permite que você compare com facilidade um cluster com outro ou um cluster com todos os casos restantes (o complemento do cluster).</span><span class="sxs-lookup"><span data-stu-id="027c9-275">The **Cluster Discrimination** tab of the **Cluster Viewer** enables you to easily compare a cluster with another cluster, or compare a cluster with all remaining cases (the complement of the cluster).</span></span>  
  
 <span data-ttu-id="027c9-276">No entanto, criar consultas para retornar essas informações pode ser complexo e talvez seja necessário algum processamento adicional no cliente para armazenar os resultados temporários e comparar os resultados de duas ou mais consultas.</span><span class="sxs-lookup"><span data-stu-id="027c9-276">However, creating queries to return this information can be complex, and you might need some additional processing on the client to store the temporary results and compare the results of two or more queries.</span></span> <span data-ttu-id="027c9-277">Para simplificar, você pode usar os procedimentos armazenados de sistema.</span><span class="sxs-lookup"><span data-stu-id="027c9-277">As a shortcut, you can use the system stored procedures.</span></span>  
  
 <span data-ttu-id="027c9-278">A consulta a seguir retorna uma única tabela que indica os principais fatores de distinção entre os dois clusters que têm IDs de nó 009 e 007.</span><span class="sxs-lookup"><span data-stu-id="027c9-278">The following query returns a single table that indicates the primary discriminating factors between the two clusters that have the node IDs of 009 and 007.</span></span> <span data-ttu-id="027c9-279">Os atributos com valores positivos favorecem o cluster 009, enquanto os atributos com valores negativos favorecem o cluster 007.</span><span class="sxs-lookup"><span data-stu-id="027c9-279">Attributes with positive values favor cluster 009, whereas attributes with negative values favor cluster 007.</span></span>  
  
```  
CALL System.Microsoft.AnalysisServices.System.DataMining.Clustering.GetClusterDiscrimination('TM_Clustering','009','007',0.0005,true)  
```  
  
 <span data-ttu-id="027c9-280">Resultados do exemplo:</span><span class="sxs-lookup"><span data-stu-id="027c9-280">Example results:</span></span>  
  
|<span data-ttu-id="027c9-281">Atributos</span><span class="sxs-lookup"><span data-stu-id="027c9-281">Attributes</span></span>|<span data-ttu-id="027c9-282">Valores</span><span class="sxs-lookup"><span data-stu-id="027c9-282">Values</span></span>|<span data-ttu-id="027c9-283">Pontuação</span><span class="sxs-lookup"><span data-stu-id="027c9-283">Score</span></span>|  
|----------------|------------|-----------|  
|<span data-ttu-id="027c9-284">Região</span><span class="sxs-lookup"><span data-stu-id="027c9-284">Region</span></span>|<span data-ttu-id="027c9-285">América do Norte</span><span class="sxs-lookup"><span data-stu-id="027c9-285">North America</span></span>|<span data-ttu-id="027c9-286">100</span><span class="sxs-lookup"><span data-stu-id="027c9-286">100</span></span>|  
|<span data-ttu-id="027c9-287">Ocupação em Inglês</span><span class="sxs-lookup"><span data-stu-id="027c9-287">English Occupation</span></span>|<span data-ttu-id="027c9-288">Skilled Manual</span><span class="sxs-lookup"><span data-stu-id="027c9-288">Skilled Manual</span></span>|<span data-ttu-id="027c9-289">94.9003803898654</span><span class="sxs-lookup"><span data-stu-id="027c9-289">94.9003803898654</span></span>|  
|<span data-ttu-id="027c9-290">Região</span><span class="sxs-lookup"><span data-stu-id="027c9-290">Region</span></span>|<span data-ttu-id="027c9-291">Europa</span><span class="sxs-lookup"><span data-stu-id="027c9-291">Europe</span></span>|<span data-ttu-id="027c9-292">-72.5041051379789</span><span class="sxs-lookup"><span data-stu-id="027c9-292">-72.5041051379789</span></span>|  
|<span data-ttu-id="027c9-293">Ocupação em Inglês</span><span class="sxs-lookup"><span data-stu-id="027c9-293">English Occupation</span></span>|<span data-ttu-id="027c9-294">Manual</span><span class="sxs-lookup"><span data-stu-id="027c9-294">Manual</span></span>|<span data-ttu-id="027c9-295">-69.6503163202722</span><span class="sxs-lookup"><span data-stu-id="027c9-295">-69.6503163202722</span></span>|  
  
 <span data-ttu-id="027c9-296">Estas são as mesmas informações apresentadas no gráfico do visualizador de **Distinção de Cluster** se você selecionar Cluster 9 na primeira lista suspensa e Cluster 7 na segunda lista suspensa.</span><span class="sxs-lookup"><span data-stu-id="027c9-296">This is the same information that is presented in the chart of the **Cluster Discrimination** viewer if you select Cluster 9 from the first drop-down list and Cluster 7 from the second drop-down list.</span></span> <span data-ttu-id="027c9-297">Para comparar o cluster 9 com seu complemento, use a cadeia de caracteres vazia no segundo parâmetro, como mostra o exemplo a seguir:</span><span class="sxs-lookup"><span data-stu-id="027c9-297">To compare cluster 9 with its complement, you use the empty string in the second parameter, as shown in the following example:</span></span>  
  
```  
CALL System.Microsoft.AnalysisServices.System.DataMining.Clustering.GetClusterDiscrimination('TM_Clustering','009','',0.0005,true)  
```  
  
> [!NOTE]  
>  <span data-ttu-id="027c9-298">Os procedimentos armazenados do sistema de mineração de dados são para uso interno e a [!INCLUDE[msCoName](../../includes/msconame-md.md)] reserva-se o direito de alterá-los conforme necessário.</span><span class="sxs-lookup"><span data-stu-id="027c9-298">The data mining system stored procedures are for internal use and [!INCLUDE[msCoName](../../includes/msconame-md.md)] reserves the right to change them as needed.</span></span> <span data-ttu-id="027c9-299">Para uso em produção, é recomendável criar consultas por meio de DMX, AMO ou XMLA.</span><span class="sxs-lookup"><span data-stu-id="027c9-299">For production use, we recommend that you create queries by using DMX, AMO, or XMLA.</span></span>  
  
 [<span data-ttu-id="027c9-300">Retornar ao início</span><span class="sxs-lookup"><span data-stu-id="027c9-300">Return to Top</span></span>](#bkmk_top2)  
  
###  <a name="sample-query-7-returning-cases-that-belong-to-a-cluster"></a><a name="bkmk_Query7"></a> <span data-ttu-id="027c9-301">Exemplo de consulta 7: Retornando casos que pertencem a um cluster</span><span class="sxs-lookup"><span data-stu-id="027c9-301">Sample Query 7: Returning Cases that Belong to a Cluster</span></span>  
 <span data-ttu-id="027c9-302">Se o detalhamento estiver habilitado no modelo de mineração, você pode criar consultas que retornam informações detalhadas sobre os casos usados no modelo.</span><span class="sxs-lookup"><span data-stu-id="027c9-302">If drillthrough has been enabled on the mining model, you can create queries that return detailed information about the cases used in the model.</span></span> <span data-ttu-id="027c9-303">Além disso, se o drillthrough tiver sido habilitado na estrutura de mineração, será possível incluir colunas da estrutura subjacente usando a função [StructureColumn &#40;DMX&#41;](/sql/dmx/structurecolumn-dmx).</span><span class="sxs-lookup"><span data-stu-id="027c9-303">Moreover, if drillthrough has been enabled on the mining structure, you can include columns from the underlying structure by using the [StructureColumn &#40;DMX&#41;](/sql/dmx/structurecolumn-dmx) function.</span></span>  
  
 <span data-ttu-id="027c9-304">O exemplo a seguir retorna duas colunas que foram usadas no modelo (Idade e Região) e mais uma coluna (Nome) que não foi usada no modelo.</span><span class="sxs-lookup"><span data-stu-id="027c9-304">The following example returns two columns that were used in the model, Age and Region, and one more column, First Name, that was not used in the model.</span></span> <span data-ttu-id="027c9-305">A consulta só retorna casos que foram classificados no Cluster 1.</span><span class="sxs-lookup"><span data-stu-id="027c9-305">The query returns only cases that were classified into Cluster 1.</span></span>  
  
```  
SELECT [Age], [Region], StructureColumn('First Name')  
FROM [TM_Clustering].CASES  
WHERE IsInNode('001')  
```  
  
 <span data-ttu-id="027c9-306">Para retornar os casos que pertencem a um cluster, é necessário conhecer a ID do cluster.</span><span class="sxs-lookup"><span data-stu-id="027c9-306">To return the cases that belong to a cluster, you must know the ID of the cluster.</span></span> <span data-ttu-id="027c9-307">Você pode obter a ID do cluster navegando no modelo em um dos visualizadores.</span><span class="sxs-lookup"><span data-stu-id="027c9-307">You can obtain the ID of the cluster by browsing the model in one of the viewers.</span></span> <span data-ttu-id="027c9-308">Se preferir, renomeie um cluster para facilitar a referência e, em seguida, use o nome em vez de um número de ID.</span><span class="sxs-lookup"><span data-stu-id="027c9-308">Or, you can rename a cluster for easier reference, after which you could use the name in place of an ID number.</span></span> <span data-ttu-id="027c9-309">No entanto, lembre-se de que os nomes atribuídos a um cluster serão perdidos se o modelo for reprocessado.</span><span class="sxs-lookup"><span data-stu-id="027c9-309">However, know that the names that you assign to a cluster will be lost if the model is reprocessed.</span></span>  
  
 [<span data-ttu-id="027c9-310">Retornar ao início</span><span class="sxs-lookup"><span data-stu-id="027c9-310">Return to Top</span></span>](#bkmk_top2)  
  
## <a name="making-predictions-using-the-model"></a><span data-ttu-id="027c9-311">Fazendo predições com o modelo</span><span class="sxs-lookup"><span data-stu-id="027c9-311">Making Predictions using the Model</span></span>  
 <span data-ttu-id="027c9-312">Embora o clustering normalmente seja usado para descrever e entender dados, a implementação do [!INCLUDE[msCoName](../../includes/msconame-md.md)] também permite que você faça previsões sobre associação do cluster e retorne probabilidades associadas à previsão.</span><span class="sxs-lookup"><span data-stu-id="027c9-312">Although clustering is typically used for describing and understanding data, the [!INCLUDE[msCoName](../../includes/msconame-md.md)] implementation also lets you make prediction about cluster membership, and return probabilities associated with the prediction.</span></span> <span data-ttu-id="027c9-313">Esta seção fornece exemplos de como criar consultas de previsão em modelos de clustering.</span><span class="sxs-lookup"><span data-stu-id="027c9-313">This section provides examples of how to create prediction queries on clustering models.</span></span> <span data-ttu-id="027c9-314">Você pode fazer previsões para vários casos, especificando uma fonte de dados tabular, ou fornecer novos valores de uma vez criando uma consulta singleton.</span><span class="sxs-lookup"><span data-stu-id="027c9-314">You can make predictions for multiple cases, by specifying a tabular data source, or you can provide new values on at a time by creating a singleton query.</span></span> <span data-ttu-id="027c9-315">Para deixar claros os exemplos, todas as consultas desta seção são singleton.</span><span class="sxs-lookup"><span data-stu-id="027c9-315">For clarity the examples in this section are all singleton queries.</span></span>  
  
 <span data-ttu-id="027c9-316">Para obter mais informações sobre como criar consultas de previsão usando DMX, consulte [interfaces de consulta de mineração de dados](data-mining-query-tools.md).</span><span class="sxs-lookup"><span data-stu-id="027c9-316">For more information about how to create prediction queries using DMX, see [Data Mining Query Interfaces](data-mining-query-tools.md).</span></span>  
  
 [<span data-ttu-id="027c9-317">Retornar ao início</span><span class="sxs-lookup"><span data-stu-id="027c9-317">Return to Top</span></span>](#bkmk_top2)  
  
###  <a name="sample-query-8-predicting-outcomes-from-a-clustering-model"></a><a name="bkmk_Query8"></a> <span data-ttu-id="027c9-318">Exemplo de consulta 8: Prevendo resultados de um modelo de clustering</span><span class="sxs-lookup"><span data-stu-id="027c9-318">Sample Query 8: Predicting Outcomes from a Clustering Model</span></span>  
 <span data-ttu-id="027c9-319">Se o modelo de clustering criado tiver um atributo previsível, use-o para fazer previsões sobre os resultados.</span><span class="sxs-lookup"><span data-stu-id="027c9-319">If the clustering model you create contains a predictable attribute, you can use the model to make predictions about outcomes.</span></span> <span data-ttu-id="027c9-320">No entanto, o modelo manipula o atributo previsível de modo diferente, dependendo da definição da coluna previsível com `Predict` ou `PredictOnly`.</span><span class="sxs-lookup"><span data-stu-id="027c9-320">However, the model handles the predictable attribute differently depending on whether you set the predictable column to `Predict` or `PredictOnly`.</span></span> <span data-ttu-id="027c9-321">Se você definir o uso da coluna como `Predict`, os valores desse atributo serão adicionados ao modelo de clustering e aparecerão como atributos no modelo acabado.</span><span class="sxs-lookup"><span data-stu-id="027c9-321">If you set the usage of the column to `Predict`, the values for that attribute are added to the clustering model and appear as attributes in the finished model.</span></span> <span data-ttu-id="027c9-322">Porém, se você definir o uso da coluna como `PredictOnly`, os valores não serão usados para criar clusters.</span><span class="sxs-lookup"><span data-stu-id="027c9-322">However, if you set the usage of the column to `PredictOnly`, the values are not used to create clusters.</span></span> <span data-ttu-id="027c9-323">Em vez disso, quando o modo for concluído, o algoritmo de cluster criará novos valores para o atributo `PredictOnly` com base nos clusters aos quais cada caso pertence.</span><span class="sxs-lookup"><span data-stu-id="027c9-323">Instead, after the mode is completed, the clustering algorithm creates new values for the `PredictOnly` attribute based on the clusters to which each case belongs.</span></span>  
  
 <span data-ttu-id="027c9-324">A consulta a seguir fornece um único caso novo para o modelo, onde as únicas informações sobre o caso são a idade e o sexo.</span><span class="sxs-lookup"><span data-stu-id="027c9-324">The following query provides a single new case to the model, where the only information about the case is the age and gender.</span></span> <span data-ttu-id="027c9-325">A instrução SELECT especifica o par atributo/valor previsível de seu interesse e a função [PredictProbability &#40;DMX&#41;](/sql/dmx/predictprobability-dmx) informa a probabilidade de um caso com esses atributos ter o resultado planejado.</span><span class="sxs-lookup"><span data-stu-id="027c9-325">The SELECT statement specifies the predictable attribute/value pair that you are interested in, and the [PredictProbability &#40;DMX&#41;](/sql/dmx/predictprobability-dmx) function tells you the probability that a case with those attributes will have the targeted outcome.</span></span>  
  
```  
SELECT  
  [TM_Clustering].[Bike Buyer], PredictProbability([Bike Buyer],1)  
FROM  
  [TM_Clustering]  
NATURAL PREDICTION JOIN  
(SELECT 40 AS [Age],  
  'F' AS [Gender]) AS t  
```  
  
 <span data-ttu-id="027c9-326">Exemplo dos resultados quando o uso é definido como `Predict`:</span><span class="sxs-lookup"><span data-stu-id="027c9-326">Example of results when usage is set to `Predict`:</span></span>  
  
|<span data-ttu-id="027c9-327">Bike Buyer</span><span class="sxs-lookup"><span data-stu-id="027c9-327">Bike Buyer</span></span>|<span data-ttu-id="027c9-328">Expression</span><span class="sxs-lookup"><span data-stu-id="027c9-328">Expression</span></span>|  
|----------------|----------------|  
|<span data-ttu-id="027c9-329">1</span><span class="sxs-lookup"><span data-stu-id="027c9-329">1</span></span>|<span data-ttu-id="027c9-330">0.592924735740338</span><span class="sxs-lookup"><span data-stu-id="027c9-330">0.592924735740338</span></span>|  
  
 <span data-ttu-id="027c9-331">Exemplo dos resultados quando o uso é definido como `PredictOnly` e o modelo é reprocessado:</span><span class="sxs-lookup"><span data-stu-id="027c9-331">Example of results when the usage is set to `PredictOnly` and the model is reprocessed:</span></span>  
  
|<span data-ttu-id="027c9-332">Bike Buyer</span><span class="sxs-lookup"><span data-stu-id="027c9-332">Bike Buyer</span></span>|<span data-ttu-id="027c9-333">Expression</span><span class="sxs-lookup"><span data-stu-id="027c9-333">Expression</span></span>|  
|----------------|----------------|  
|<span data-ttu-id="027c9-334">1</span><span class="sxs-lookup"><span data-stu-id="027c9-334">1</span></span>|<span data-ttu-id="027c9-335">0.55843544003102</span><span class="sxs-lookup"><span data-stu-id="027c9-335">0.55843544003102</span></span>|  
  
 <span data-ttu-id="027c9-336">Neste exemplo, a diferença no modelo não é significante.</span><span class="sxs-lookup"><span data-stu-id="027c9-336">In this example, the difference in the model is not significant.</span></span> <span data-ttu-id="027c9-337">No entanto, às vezes pode ser importante detectar diferenças a distribuição real dos valores e o que é previsto pelo modelo.</span><span class="sxs-lookup"><span data-stu-id="027c9-337">However, sometimes it can be important to detect differences between the actual distribution of values and what the model predicts.</span></span> <span data-ttu-id="027c9-338">A guia [PredictCaseLikelihood &#40;DMX&#41;](/sql/dmx/predictcaselikelihood-dmx) é útil neste cenário porque informa a probabilidade de um caso no modelo em questão.</span><span class="sxs-lookup"><span data-stu-id="027c9-338">The [PredictCaseLikelihood &#40;DMX&#41;](/sql/dmx/predictcaselikelihood-dmx) function is useful in this scenario, because it tells you how likely a case is, given the model.</span></span>  
  
 <span data-ttu-id="027c9-339">O número que é retornado pela função PredictCaseLikelihood é uma probabilidade e, portanto, sempre está entre 0 e 1, com o valor 0,5 representando um resultado aleatório.</span><span class="sxs-lookup"><span data-stu-id="027c9-339">The number that is returned by the PredictCaseLikelihood function is a probability, and therefore is always between 0 and 1, with a value of .5 representing random outcome.</span></span> <span data-ttu-id="027c9-340">Desse modo, uma pontuação inferior a 0,5 indica que o caso previsto é improvável para o modelo e uma pontuação superior a 0,5 indica que o caso previsto é mais provável para se ajustar ao modelo.</span><span class="sxs-lookup"><span data-stu-id="027c9-340">Therefore, a score less than .5 means that the predicted case is unlikely, given the model, and a score over.5 indicates that the predicted case is more likely than not to fit the model.</span></span>  
  
 <span data-ttu-id="027c9-341">Por exemplo, a consulta a seguir retorna dois valores que caracterizam a probabilidade de um novo caso de exemplo.</span><span class="sxs-lookup"><span data-stu-id="027c9-341">For example, the following query returns two values that characterize the likelihood of a new sample case.</span></span> <span data-ttu-id="027c9-342">O valor não normalizado representa a probabilidade para o modelo atual.</span><span class="sxs-lookup"><span data-stu-id="027c9-342">The non-normalized value represents the probability given the current model.</span></span> <span data-ttu-id="027c9-343">Quando a palavra-chave NORMALIZED é usada, a pontuação de probabilidade retornada pela função é ajustada dividindo-se a “probabilidade com o modelo” pela “probabilidade sem o modelo”.</span><span class="sxs-lookup"><span data-stu-id="027c9-343">When you use the NORMALIZED keyword, the likelihood score that is returned by the function is adjusted by dividing "probability with the model" by "probability without the model".</span></span>  
  
```  
SELECT  
PredictCaseLikelihood(NORMALIZED) AS [NormalizedValue], PredictCaseLikelihood(NONNORMALIZED) AS [NonNormalizedValue]  
FROM  
  [TM_Clustering_PredictOnly]  
NATURAL PREDICTION JOIN  
(SELECT 40 AS [Age],  
  'F' AS [Gender]) AS t  
```  
  
 <span data-ttu-id="027c9-344">Resultados do exemplo:</span><span class="sxs-lookup"><span data-stu-id="027c9-344">Example results:</span></span>  
  
|<span data-ttu-id="027c9-345">NormalizedValue</span><span class="sxs-lookup"><span data-stu-id="027c9-345">NormalizedValue</span></span>|<span data-ttu-id="027c9-346">NonNormalizedValue</span><span class="sxs-lookup"><span data-stu-id="027c9-346">NonNormalizedValue</span></span>|  
|---------------------|------------------------|  
|<span data-ttu-id="027c9-347">5,56438372679893E-11</span><span class="sxs-lookup"><span data-stu-id="027c9-347">5.56438372679893E-11</span></span>|<span data-ttu-id="027c9-348">8,65459953145182E-68</span><span class="sxs-lookup"><span data-stu-id="027c9-348">8.65459953145182E-68</span></span>|  
  
 <span data-ttu-id="027c9-349">Observe que os números nesses resultados são expressos em notação científica.</span><span class="sxs-lookup"><span data-stu-id="027c9-349">Note that the numbers in these results are expressed in scientific notation.</span></span>  
  
 [<span data-ttu-id="027c9-350">Retornar ao início</span><span class="sxs-lookup"><span data-stu-id="027c9-350">Return to Top</span></span>](#bkmk_top2)  
  
###  <a name="sample-query-9-determining-cluster-membership"></a><a name="bkmk_Query9"></a> <span data-ttu-id="027c9-351">Exemplo de consulta 9: Determinando a associação do cluster</span><span class="sxs-lookup"><span data-stu-id="027c9-351">Sample Query 9: Determining Cluster Membership</span></span>  
 <span data-ttu-id="027c9-352">Este exemplo usa a função [Cluster &#40;DMX&#41;](/sql/dmx/cluster-dmx) para retornar o cluster ao qual o novo caso provavelmente pertence e usa a função [ClusterProbability &#40;DMX&#41;](/sql/dmx/clusterprobability-dmx) para retornar a probabilidade de associação nesse cluster.</span><span class="sxs-lookup"><span data-stu-id="027c9-352">This example uses the [Cluster &#40;DMX&#41;](/sql/dmx/cluster-dmx) function to return the cluster to which the new case is most likely to belong, and uses the [ClusterProbability &#40;DMX&#41;](/sql/dmx/clusterprobability-dmx) function to return the probability for membership in that cluster.</span></span>  
  
```  
SELECT Cluster(), ClusterProbability()  
FROM  
  [TM_Clustering]  
NATURAL PREDICTION JOIN  
(SELECT 40 AS [Age],  
  'F' AS [Gender],  
  'S' AS [Marital Status]) AS t  
```  
  
 <span data-ttu-id="027c9-353">Resultados do exemplo:</span><span class="sxs-lookup"><span data-stu-id="027c9-353">Example results:</span></span>  
  
|<span data-ttu-id="027c9-354">$CLUSTER</span><span class="sxs-lookup"><span data-stu-id="027c9-354">$CLUSTER</span></span>|<span data-ttu-id="027c9-355">Expression</span><span class="sxs-lookup"><span data-stu-id="027c9-355">Expression</span></span>|  
|--------------|----------------|  
|<span data-ttu-id="027c9-356">Cluster 2</span><span class="sxs-lookup"><span data-stu-id="027c9-356">Cluster 2</span></span>|<span data-ttu-id="027c9-357">0.397918596951617</span><span class="sxs-lookup"><span data-stu-id="027c9-357">0.397918596951617</span></span>|  
  
 <span data-ttu-id="027c9-358">**Observação** Por padrão, a `ClusterProbability` função retorna a probabilidade do cluster mais provável.</span><span class="sxs-lookup"><span data-stu-id="027c9-358">**Note** By default, the `ClusterProbability` function returns the probability of the most likely cluster.</span></span> <span data-ttu-id="027c9-359">No entanto, é possível especificar um cluster diferente usando a sintaxe `ClusterProbability('cluster name')`.</span><span class="sxs-lookup"><span data-stu-id="027c9-359">However, you can specify a different cluster by using the syntax `ClusterProbability('cluster name')`.</span></span> <span data-ttu-id="027c9-360">Se você fizer isto, saiba que os resultados de cada função de previsão são independentes dos outros resultados.</span><span class="sxs-lookup"><span data-stu-id="027c9-360">If you do this, be aware that the results from each prediction function are independent of the other results.</span></span> <span data-ttu-id="027c9-361">Portanto, a pontuação de probabilidade da segunda coluna pode fazer referência a um cluster diferente do nomeado na primeira coluna.</span><span class="sxs-lookup"><span data-stu-id="027c9-361">Therefore, the probability score in the second column could refer to a different cluster than the cluster named in the first column.</span></span>  
  
 [<span data-ttu-id="027c9-362">Retornar ao início</span><span class="sxs-lookup"><span data-stu-id="027c9-362">Return to Top</span></span>](#bkmk_top2)  
  
###  <a name="sample-query-10-returning-all-possible-clusters-with-probability-and-distance"></a><a name="bkmk_Query10"></a> <span data-ttu-id="027c9-363">Exemplo de consulta 10: Retornando todos os possíveis clusters com probabilidade e distância</span><span class="sxs-lookup"><span data-stu-id="027c9-363">Sample Query 10: Returning All Possible Clusters with Probability and Distance</span></span>  
 <span data-ttu-id="027c9-364">No exemplo anterior, a pontuação de probabilidade não foi muito alta.</span><span class="sxs-lookup"><span data-stu-id="027c9-364">In the previous example, the probability score was not very high.</span></span> <span data-ttu-id="027c9-365">Para determinar se existe um cluster melhor, use a função [PredictHistogram &#40;DMX&#41;](/sql/dmx/predicthistogram-dmx) junto com a função [Cluster &#40;DMX&#41;](/sql/dmx/cluster-dmx) para retornar uma tabela aninhada que inclui todos os clusters possíveis, junto à probabilidade de o novo caso pertencer a cada cluster.</span><span class="sxs-lookup"><span data-stu-id="027c9-365">To determine if there is a better cluster, you can use the [PredictHistogram &#40;DMX&#41;](/sql/dmx/predicthistogram-dmx) function together with the [Cluster &#40;DMX&#41;](/sql/dmx/cluster-dmx) function to return a nested table that includes all possible clusters, together with the probability that the new case that belongs to each cluster.</span></span> <span data-ttu-id="027c9-366">A palavra-chave FLATTENED é usada para alterar o conjunto de linhas hierárquico em uma tabela simples para facilitar a visualização.</span><span class="sxs-lookup"><span data-stu-id="027c9-366">The FLATTENED keyword is used to change the hierarchical rowset into a flat table for easier viewing.</span></span>  
  
```  
SELECT FLATTENED PredictHistogram(Cluster())  
From  
  [TM_Clustering]  
NATURAL PREDICTION JOIN  
(SELECT 40 AS [Age],  
  'F' AS [Gender],  
  'S' AS [Marital Status])  
```  
  
|<span data-ttu-id="027c9-367">Expression.$CLUSTER</span><span class="sxs-lookup"><span data-stu-id="027c9-367">Expression.$CLUSTER</span></span>|<span data-ttu-id="027c9-368">Expression.$DISTANCE</span><span class="sxs-lookup"><span data-stu-id="027c9-368">Expression.$DISTANCE</span></span>|<span data-ttu-id="027c9-369">Expression.$PROBABILITY</span><span class="sxs-lookup"><span data-stu-id="027c9-369">Expression.$PROBABILITY</span></span>|  
|-------------------------|--------------------------|-----------------------------|  
|<span data-ttu-id="027c9-370">Cluster 2</span><span class="sxs-lookup"><span data-stu-id="027c9-370">Cluster 2</span></span>|<span data-ttu-id="027c9-371">0.602081403048383</span><span class="sxs-lookup"><span data-stu-id="027c9-371">0.602081403048383</span></span>|<span data-ttu-id="027c9-372">0.397918596951617</span><span class="sxs-lookup"><span data-stu-id="027c9-372">0.397918596951617</span></span>|  
|<span data-ttu-id="027c9-373">Cluster 10</span><span class="sxs-lookup"><span data-stu-id="027c9-373">Cluster 10</span></span>|<span data-ttu-id="027c9-374">0.719691686785675</span><span class="sxs-lookup"><span data-stu-id="027c9-374">0.719691686785675</span></span>|<span data-ttu-id="027c9-375">0.280308313214325</span><span class="sxs-lookup"><span data-stu-id="027c9-375">0.280308313214325</span></span>|  
|<span data-ttu-id="027c9-376">Cluster 4</span><span class="sxs-lookup"><span data-stu-id="027c9-376">Cluster 4</span></span>|<span data-ttu-id="027c9-377">0.867772590378791</span><span class="sxs-lookup"><span data-stu-id="027c9-377">0.867772590378791</span></span>|<span data-ttu-id="027c9-378">0.132227409621209</span><span class="sxs-lookup"><span data-stu-id="027c9-378">0.132227409621209</span></span>|  
|<span data-ttu-id="027c9-379">Cluster 5</span><span class="sxs-lookup"><span data-stu-id="027c9-379">Cluster 5</span></span>|<span data-ttu-id="027c9-380">0.931039872200985</span><span class="sxs-lookup"><span data-stu-id="027c9-380">0.931039872200985</span></span>|<span data-ttu-id="027c9-381">0.0689601277990149</span><span class="sxs-lookup"><span data-stu-id="027c9-381">0.0689601277990149</span></span>|  
|<span data-ttu-id="027c9-382">Cluster 3</span><span class="sxs-lookup"><span data-stu-id="027c9-382">Cluster 3</span></span>|<span data-ttu-id="027c9-383">0.942359230072167</span><span class="sxs-lookup"><span data-stu-id="027c9-383">0.942359230072167</span></span>|<span data-ttu-id="027c9-384">0.0576407699278328</span><span class="sxs-lookup"><span data-stu-id="027c9-384">0.0576407699278328</span></span>|  
|<span data-ttu-id="027c9-385">Cluster 6</span><span class="sxs-lookup"><span data-stu-id="027c9-385">Cluster 6</span></span>|<span data-ttu-id="027c9-386">0.958973668972756</span><span class="sxs-lookup"><span data-stu-id="027c9-386">0.958973668972756</span></span>|<span data-ttu-id="027c9-387">0.0410263310272437</span><span class="sxs-lookup"><span data-stu-id="027c9-387">0.0410263310272437</span></span>|  
|<span data-ttu-id="027c9-388">Cluster 7</span><span class="sxs-lookup"><span data-stu-id="027c9-388">Cluster 7</span></span>|<span data-ttu-id="027c9-389">0.979081275926724</span><span class="sxs-lookup"><span data-stu-id="027c9-389">0.979081275926724</span></span>|<span data-ttu-id="027c9-390">0.0209187240732763</span><span class="sxs-lookup"><span data-stu-id="027c9-390">0.0209187240732763</span></span>|  
|<span data-ttu-id="027c9-391">Cluster 1</span><span class="sxs-lookup"><span data-stu-id="027c9-391">Cluster 1</span></span>|<span data-ttu-id="027c9-392">0.999169044818624</span><span class="sxs-lookup"><span data-stu-id="027c9-392">0.999169044818624</span></span>|<span data-ttu-id="027c9-393">0.000830955181376364</span><span class="sxs-lookup"><span data-stu-id="027c9-393">0.000830955181376364</span></span>|  
|<span data-ttu-id="027c9-394">Cluster 9</span><span class="sxs-lookup"><span data-stu-id="027c9-394">Cluster 9</span></span>|<span data-ttu-id="027c9-395">0.999831227795894</span><span class="sxs-lookup"><span data-stu-id="027c9-395">0.999831227795894</span></span>|<span data-ttu-id="027c9-396">0.000168772204105754</span><span class="sxs-lookup"><span data-stu-id="027c9-396">0.000168772204105754</span></span>|  
|<span data-ttu-id="027c9-397">Cluster 8</span><span class="sxs-lookup"><span data-stu-id="027c9-397">Cluster 8</span></span>|<span data-ttu-id="027c9-398">1</span><span class="sxs-lookup"><span data-stu-id="027c9-398">1</span></span>|<span data-ttu-id="027c9-399">0</span><span class="sxs-lookup"><span data-stu-id="027c9-399">0</span></span>|  
  
 <span data-ttu-id="027c9-400">Por padrão, os resultados são classificados por probabilidade.</span><span class="sxs-lookup"><span data-stu-id="027c9-400">By default, the results are ranked by probability.</span></span> <span data-ttu-id="027c9-401">Os resultados informam que, apesar da probabilidade ser baixa, o Cluster 2 ainda é o melhor para o novo ponto de dados.</span><span class="sxs-lookup"><span data-stu-id="027c9-401">The results tell you that, even though the probability for Cluster 2 is fairly low, Cluster 2 is still the best fit for the new data point.</span></span>  
  
 <span data-ttu-id="027c9-402">**Observação** A coluna adicional, `$DISTANCE`, representa a distância do ponto de dados ao cluster.</span><span class="sxs-lookup"><span data-stu-id="027c9-402">**Note** The additional column, `$DISTANCE`, represents the distance from the data point to the cluster.</span></span> <span data-ttu-id="027c9-403">Por padrão, o algoritmo do [!INCLUDE[msCoName](../../includes/msconame-md.md)] Clustering usa o cluster EM evolutivo, que atribui vários clusters a cada ponto de dados e classifica os possíveis clusters.</span><span class="sxs-lookup"><span data-stu-id="027c9-403">By default, the [!INCLUDE[msCoName](../../includes/msconame-md.md)] Clustering Algorithm uses scalable EM clustering, which assigns multiple clusters to each data point and ranks the possible clusters.</span></span>  <span data-ttu-id="027c9-404">No entanto, se você criar o modelo de clustering usando o algoritmo K-means, somente um cluster poderá ser atribuído a cada ponto de dados e esta consulta retornará somente uma linha.</span><span class="sxs-lookup"><span data-stu-id="027c9-404">However, if you create your clustering model using the K-means algorithm, only one cluster can be assigned to each data point, and this query would return only one row.</span></span> <span data-ttu-id="027c9-405">É necessário entender essas diferenças para interpretar os resultados da função [PredictCaseLikelihood &#40;DMX&#41;](/sql/dmx/predictcaselikelihood-dmx) .</span><span class="sxs-lookup"><span data-stu-id="027c9-405">Understanding these differences is necessary to interpret the results of the [PredictCaseLikelihood &#40;DMX&#41;](/sql/dmx/predictcaselikelihood-dmx) function.</span></span> <span data-ttu-id="027c9-406">Para obter mais informações sobre as diferenças entre clustering EM e K-means, consulte [Referência técnica do algoritmo Microsoft Clustering](microsoft-clustering-algorithm-technical-reference.md).</span><span class="sxs-lookup"><span data-stu-id="027c9-406">For more information about the differences between EM and K-means clustering, see [Microsoft Clustering Algorithm Technical Reference](microsoft-clustering-algorithm-technical-reference.md).</span></span>  
  
 [<span data-ttu-id="027c9-407">Retornar ao início</span><span class="sxs-lookup"><span data-stu-id="027c9-407">Return to Top</span></span>](#bkmk_top2)  
  
## <a name="function-list"></a><span data-ttu-id="027c9-408">Lista de funções</span><span class="sxs-lookup"><span data-stu-id="027c9-408">Function List</span></span>  
 <span data-ttu-id="027c9-409">Todos os algoritmos do [!INCLUDE[msCoName](../../includes/msconame-md.md)] dão suporte a um conjunto comum de funções.</span><span class="sxs-lookup"><span data-stu-id="027c9-409">All [!INCLUDE[msCoName](../../includes/msconame-md.md)] algorithms support a common set of functions.</span></span> <span data-ttu-id="027c9-410">No entanto, os modelos criados com o algoritmo do [!INCLUDE[msCoName](../../includes/msconame-md.md)] Clustering dão suporte para as funções adicionais listadas na tabela a seguir.</span><span class="sxs-lookup"><span data-stu-id="027c9-410">However, models that are built by using the [!INCLUDE[msCoName](../../includes/msconame-md.md)] Clustering algorithm support the additional functions that are listed in the following table.</span></span>  
  
|||  
|-|-|  
|<span data-ttu-id="027c9-411">Função de previsão</span><span class="sxs-lookup"><span data-stu-id="027c9-411">Prediction Function</span></span>|<span data-ttu-id="027c9-412">Uso</span><span class="sxs-lookup"><span data-stu-id="027c9-412">Usage</span></span>|  
|[<span data-ttu-id="027c9-413">Cluster &#40;DMX&#41;</span><span class="sxs-lookup"><span data-stu-id="027c9-413">Cluster &#40;DMX&#41;</span></span>](/sql/dmx/cluster-dmx)|<span data-ttu-id="027c9-414">Retorna o cluster com maior probabilidade de conter o caso de entrada.</span><span class="sxs-lookup"><span data-stu-id="027c9-414">Returns the cluster that is most likely to contain the input case.</span></span>|  
|[<span data-ttu-id="027c9-415">ClusterDistance &#40;DMX&#41;</span><span class="sxs-lookup"><span data-stu-id="027c9-415">ClusterDistance &#40;DMX&#41;</span></span>](/sql/dmx/clusterdistance-dmx)|<span data-ttu-id="027c9-416">Retorna a distância do caso de entrada do cluster especificado ou, caso nenhum cluster tenha sido especificado, a distância do caso de entrada do cluster mais provável.</span><span class="sxs-lookup"><span data-stu-id="027c9-416">Returns the distance of the input case from the specified cluster, or if no cluster is specified, the distance of the input case from the most likely cluster.</span></span><br /><br /> <span data-ttu-id="027c9-417">Retorna a probabilidade de que o caso de entrada pertença ao cluster especificado.</span><span class="sxs-lookup"><span data-stu-id="027c9-417">Returns the probability that the input case belongs to the specified cluster.</span></span>|  
|[<span data-ttu-id="027c9-418">ClusterProbability &#40;DMX&#41;</span><span class="sxs-lookup"><span data-stu-id="027c9-418">ClusterProbability &#40;DMX&#41;</span></span>](/sql/dmx/clusterprobability-dmx)|<span data-ttu-id="027c9-419">Retorna a probabilidade de que o caso de entrada pertença ao cluster especificado.</span><span class="sxs-lookup"><span data-stu-id="027c9-419">Returns the probability that the input case belongs to the specified cluster.</span></span>|  
|[<span data-ttu-id="027c9-420">IsDescendant &#40;DMX&#41;</span><span class="sxs-lookup"><span data-stu-id="027c9-420">IsDescendant &#40;DMX&#41;</span></span>](/sql/dmx/isdescendant-dmx)|<span data-ttu-id="027c9-421">Determina se um nó é um filho de outro nó no modelo.</span><span class="sxs-lookup"><span data-stu-id="027c9-421">Determines whether one node is a child of another node in the model.</span></span>|  
|[<span data-ttu-id="027c9-422">IsInNode &#40;DMX&#41;</span><span class="sxs-lookup"><span data-stu-id="027c9-422">IsInNode &#40;DMX&#41;</span></span>](/sql/dmx/isinnode-dmx)|<span data-ttu-id="027c9-423">Indica se o nó especificado contém o caso atual.</span><span class="sxs-lookup"><span data-stu-id="027c9-423">Indicates whether the specified node contains the current case.</span></span>|  
|[<span data-ttu-id="027c9-424">PredictAdjustedProbability &#40;DMX&#41;</span><span class="sxs-lookup"><span data-stu-id="027c9-424">PredictAdjustedProbability &#40;DMX&#41;</span></span>](/sql/dmx/predictadjustedprobability-dmx)|<span data-ttu-id="027c9-425">Retorna a probabilidade ponderada.</span><span class="sxs-lookup"><span data-stu-id="027c9-425">Returns the weighted probability.</span></span>|  
|[<span data-ttu-id="027c9-426">PredictAssociation &#40;DMX&#41;</span><span class="sxs-lookup"><span data-stu-id="027c9-426">PredictAssociation &#40;DMX&#41;</span></span>](/sql/dmx/predictassociation-dmx)|<span data-ttu-id="027c9-427">Prevê associação de membro em um conjunto de dados associativo.</span><span class="sxs-lookup"><span data-stu-id="027c9-427">Predicts membership in an associative dataset.</span></span>|  
|[<span data-ttu-id="027c9-428">PredictCaseLikelihood &#40;DMX&#41;</span><span class="sxs-lookup"><span data-stu-id="027c9-428">PredictCaseLikelihood &#40;DMX&#41;</span></span>](/sql/dmx/predictcaselikelihood-dmx)|<span data-ttu-id="027c9-429">Retorna a probabilidade de que um caso de entrada se ajuste ao modelo existente.</span><span class="sxs-lookup"><span data-stu-id="027c9-429">Returns the likelihood that an input case will fit in the existing model.</span></span>|  
|[<span data-ttu-id="027c9-430">PredictHistogram &#40;DMX&#41;</span><span class="sxs-lookup"><span data-stu-id="027c9-430">PredictHistogram &#40;DMX&#41;</span></span>](/sql/dmx/predicthistogram-dmx)|<span data-ttu-id="027c9-431">Retorna uma tabela de valores relacionados ao valor previsto atual.</span><span class="sxs-lookup"><span data-stu-id="027c9-431">Returns a table of values related to the current predicted value.</span></span>|  
|[<span data-ttu-id="027c9-432">PredictNodeId &#40;DMX&#41;</span><span class="sxs-lookup"><span data-stu-id="027c9-432">PredictNodeId &#40;DMX&#41;</span></span>](/sql/dmx/predictnodeid-dmx)|<span data-ttu-id="027c9-433">Retorna Node_ID para cada caso.</span><span class="sxs-lookup"><span data-stu-id="027c9-433">Returns the Node_ID for each case.</span></span>|  
|[<span data-ttu-id="027c9-434">PredictProbability &#40;DMX&#41;</span><span class="sxs-lookup"><span data-stu-id="027c9-434">PredictProbability &#40;DMX&#41;</span></span>](/sql/dmx/predictprobability-dmx)|<span data-ttu-id="027c9-435">Retorna a probabilidade para o valor previsto.</span><span class="sxs-lookup"><span data-stu-id="027c9-435">Returns probability for the predicted value.</span></span>|  
|[<span data-ttu-id="027c9-436">PredictStdev &#40;DMX&#41;</span><span class="sxs-lookup"><span data-stu-id="027c9-436">PredictStdev &#40;DMX&#41;</span></span>](/sql/dmx/predictstdev-dmx)|<span data-ttu-id="027c9-437">Retorna o desvio padrão previsto para a coluna especificada.</span><span class="sxs-lookup"><span data-stu-id="027c9-437">Returns the predicted standard deviation for the specified column.</span></span>|  
|[<span data-ttu-id="027c9-438">PredictSupport &#40;DMX&#41;</span><span class="sxs-lookup"><span data-stu-id="027c9-438">PredictSupport &#40;DMX&#41;</span></span>](/sql/dmx/predictsupport-dmx)|<span data-ttu-id="027c9-439">Retorna o valor de suporte para um estado especificado.</span><span class="sxs-lookup"><span data-stu-id="027c9-439">Returns the support value for a specified state.</span></span>|  
|[<span data-ttu-id="027c9-440">PredictVariance &#40;DMX&#41;</span><span class="sxs-lookup"><span data-stu-id="027c9-440">PredictVariance &#40;DMX&#41;</span></span>](/sql/dmx/predictvariance-dmx)|<span data-ttu-id="027c9-441">Retorna a variação de uma coluna especificada.</span><span class="sxs-lookup"><span data-stu-id="027c9-441">Returns the variance of a specified column.</span></span>|  
  
 <span data-ttu-id="027c9-442">Para obter a sintaxe de funções específicas, consulte [Referência de função de DMX &#40;extensões DMX&#41;](/sql/dmx/data-mining-extensions-dmx-function-reference).</span><span class="sxs-lookup"><span data-stu-id="027c9-442">For the syntax of specific functions, see [Data Mining Extensions &#40;DMX&#41; Function Reference](/sql/dmx/data-mining-extensions-dmx-function-reference).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="027c9-443">Consulte Também</span><span class="sxs-lookup"><span data-stu-id="027c9-443">See Also</span></span>  
 <span data-ttu-id="027c9-444">[Consultas de mineração de dados](data-mining-queries.md) </span><span class="sxs-lookup"><span data-stu-id="027c9-444">[Data Mining Queries](data-mining-queries.md) </span></span>  
 <span data-ttu-id="027c9-445">[Referência técnica do algoritmo Microsoft Clustering](microsoft-clustering-algorithm-technical-reference.md) </span><span class="sxs-lookup"><span data-stu-id="027c9-445">[Microsoft Clustering Algorithm Technical Reference](microsoft-clustering-algorithm-technical-reference.md) </span></span>  
 [<span data-ttu-id="027c9-446">Algoritmo Microsoft Clustering</span><span class="sxs-lookup"><span data-stu-id="027c9-446">Microsoft Clustering Algorithm</span></span>](microsoft-clustering-algorithm.md)  
  
  
