---
title: Exemplos de consulta de modelo de clustering de sequência | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
helpviewer_keywords:
- sequence clustering algorithms [Analysis Services]
- content queries [DMX]
- sequence [Analysis Services]
ms.assetid: 64bebcdc-70ab-43fb-8d40-57672a126602
author: minewiskan
ms.author: owend
ms.openlocfilehash: d56924f27f7986861895cf4fff21fa758cc47070
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87568893"
---
# <a name="sequence-clustering-model-query-examples"></a><span data-ttu-id="c6eb9-102">Sequence Clustering Model Query Examples</span><span class="sxs-lookup"><span data-stu-id="c6eb9-102">Sequence Clustering Model Query Examples</span></span>
  <span data-ttu-id="c6eb9-103">Quando você cria uma consulta referente a um modelo de mineração de dados, pode criar uma consulta de conteúdo, que fornece detalhes sobre as informações armazenadas no modelo ou pode criar uma consulta de previsão, que usa os padrões no modelo para fazer previsões com base nos novos dados fornecidos.</span><span class="sxs-lookup"><span data-stu-id="c6eb9-103">When you create a query against a data mining model, you can create either a content query, which provides details about the information stored in the model, or you can create a prediction query, which uses the patterns in the model to make predictions based on new data that you provide.</span></span> <span data-ttu-id="c6eb9-104">Para um modelo de clusterização de sequência, as consultas de conteúdo geralmente fornecem mais detalhes sobre os clusters encontrados ou as transições dentro desses clusters.</span><span class="sxs-lookup"><span data-stu-id="c6eb9-104">For a sequence clustering model, content queries typically provide additional details about the clusters that were found, or the transitions within those clusters.</span></span> <span data-ttu-id="c6eb9-105">Você também pode recuperar metadados sobre o modelo usando uma consulta.</span><span class="sxs-lookup"><span data-stu-id="c6eb9-105">You can also retrieve metadata about the model by using a query.</span></span>  
  
 <span data-ttu-id="c6eb9-106">As consultas de previsão em um modelo de clusterização de sequência geralmente fazem recomendações com base nas sequências e transições, em atributos não sequenciais incluídos no modelo ou em uma combinação de atributos sequenciais e não sequenciais.</span><span class="sxs-lookup"><span data-stu-id="c6eb9-106">Prediction queries on a sequence clustering model typically make recommendations based either on the sequences and transitions, on non-sequence attributes that were included in the model, or on a combination of sequence and non-sequence attributes.</span></span>  
  
 <span data-ttu-id="c6eb9-107">Esta seção explica como criar consultas para modelos baseados no algoritmo MSC.</span><span class="sxs-lookup"><span data-stu-id="c6eb9-107">This section explains how to create queries for models that are based on the Microsoft Sequence Clustering algorithm.</span></span> <span data-ttu-id="c6eb9-108">Para obter informações gerais sobre como criar consultas, consulte [Consultas de mineração de dados](data-mining-queries.md).</span><span class="sxs-lookup"><span data-stu-id="c6eb9-108">For general information about creating queries, see [Data Mining Queries](data-mining-queries.md).</span></span>  
  
 <span data-ttu-id="c6eb9-109">**Consultas de conteúdo**</span><span class="sxs-lookup"><span data-stu-id="c6eb9-109">**Content Queries**</span></span>  
  
 [<span data-ttu-id="c6eb9-110">Usando o conjunto de linhas do esquema de mineração de dados para retornar parâmetros do modelo</span><span class="sxs-lookup"><span data-stu-id="c6eb9-110">Using the Data Mining Schema Rowset to return model parameters</span></span>](#bkmk_Query1)  
  
 [<span data-ttu-id="c6eb9-111">Obtendo uma lista de sequências para um estado</span><span class="sxs-lookup"><span data-stu-id="c6eb9-111">Getting a list of sequences for a state</span></span>](#bkmk_Query2)  
  
 [<span data-ttu-id="c6eb9-112">Usando procedimentos armazenados do sistema</span><span class="sxs-lookup"><span data-stu-id="c6eb9-112">Using system stored procedures</span></span>](#bkmk_Query3)  
  
 <span data-ttu-id="c6eb9-113">**Consultas de previsão**</span><span class="sxs-lookup"><span data-stu-id="c6eb9-113">**Prediction Queries**</span></span>  
  
 [<span data-ttu-id="c6eb9-114">Prever o(s) próximo(s) estado(s)</span><span class="sxs-lookup"><span data-stu-id="c6eb9-114">Predict next state or states</span></span>](#bkmk_Query4)  
  
##  <a name="finding-information-about-the-sequence-clustering-model"></a><a name="bkmk_ContentQueries"></a><span data-ttu-id="c6eb9-115">Localizando informações sobre o modelo de clustering de sequências</span><span class="sxs-lookup"><span data-stu-id="c6eb9-115">Finding Information about the Sequence Clustering Model</span></span>  
 <span data-ttu-id="c6eb9-116">Para criar consultas significativas sobre o conteúdo de um modelo de mineração, você deve entender a estrutura do conteúdo do modelo e quais tipos de nós armazenam quais tipos de informações.</span><span class="sxs-lookup"><span data-stu-id="c6eb9-116">To create meaningful queries on the content of a mining model, you must understand the structure of the model content, and which node types store what kind of information.</span></span> <span data-ttu-id="c6eb9-117">Para obter mais informações, consulte [Conteúdo do modelo de mineração para modelos de clustering de sequência &#40;Analysis Services – Data Mining&#41;](mining-model-content-for-sequence-clustering-models.md).</span><span class="sxs-lookup"><span data-stu-id="c6eb9-117">For more information, see [Mining Model Content for Sequence Clustering Models &#40;Analysis Services - Data Mining&#41;](mining-model-content-for-sequence-clustering-models.md).</span></span>  
  
###  <a name="sample-query-1-using-the-data-mining-schema-rowset-to-return-model-parameters"></a><a name="bkmk_Query1"></a><span data-ttu-id="c6eb9-118">Exemplo de consulta 1: usando o conjunto de linhas de esquema de mineração de dados para retornar parâmetros de modelo</span><span class="sxs-lookup"><span data-stu-id="c6eb9-118">Sample Query 1: Using the Data Mining Schema Rowset to Return Model Parameters</span></span>  
 <span data-ttu-id="c6eb9-119">Ao consultar o conjunto de linhas do esquema de mineração de dados, você pode encontrar vários tipos de informações sobre o modelo, inclusive metadados básicos, a data e a hora de criação e do último processamento do modelo, o nome da estrutura de mineração na qual o modelo se baseia e a coluna usada como o atributo previsível.</span><span class="sxs-lookup"><span data-stu-id="c6eb9-119">By querying the data mining schema rowset, you can find various kinds of information about the model, including basic metadata, the date and time that the model was created and last processed, the name of the mining structure that the model is based on, and the column used as the predictable attribute.</span></span>  
  
 <span data-ttu-id="c6eb9-120">A consulta a seguir retorna os parâmetros que foram usados para criar e treinar o modelo, `[Sequence Clustering]`.</span><span class="sxs-lookup"><span data-stu-id="c6eb9-120">The following query returns the parameters that were used to build and train the model, `[Sequence Clustering]`.</span></span> <span data-ttu-id="c6eb9-121">Você pode criar este modelo na Lição 5 do [Basic Data Mining Tutorial](../../tutorials/basic-data-mining-tutorial.md).</span><span class="sxs-lookup"><span data-stu-id="c6eb9-121">You can create this model in Lesson 5 of the [Basic Data Mining Tutorial](../../tutorials/basic-data-mining-tutorial.md).</span></span>  
  
```  
SELECT MINING_PARAMETERS   
from $system.DMSCHEMA_MINING_MODELS  
WHERE MODEL_NAME = 'Sequence Clustering'  
```  
  
 <span data-ttu-id="c6eb9-122">Resultados do exemplo:</span><span class="sxs-lookup"><span data-stu-id="c6eb9-122">Example results:</span></span>  
  
|<span data-ttu-id="c6eb9-123">MINING_PARAMETERS</span><span class="sxs-lookup"><span data-stu-id="c6eb9-123">MINING_PARAMETERS</span></span>|  
|------------------------|  
|<span data-ttu-id="c6eb9-124">CLUSTER_COUNT=15,MINIMUM_SUPPORT=10,MAXIMUM_STATES=100,MAXIMUM_SEQUENCE_STATES=64</span><span class="sxs-lookup"><span data-stu-id="c6eb9-124">CLUSTER_COUNT=15,MINIMUM_SUPPORT=10,MAXIMUM_STATES=100,MAXIMUM_SEQUENCE_STATES=64</span></span>|  
  
 <span data-ttu-id="c6eb9-125">Observe que este modelo foi criado usando-se o valor padrão de 10 para CLUSTER_COUNT.</span><span class="sxs-lookup"><span data-stu-id="c6eb9-125">Note that this model was built by using the default value of 10 for CLUSTER_COUNT.</span></span> <span data-ttu-id="c6eb9-126">Quando você especifica um número de clusters diferente de zero para CLUSTER_COUNT, o algoritmo trata esse número como uma dica para o número aproximado de clusters a serem encontrados.</span><span class="sxs-lookup"><span data-stu-id="c6eb9-126">When you specify a non-zero number of clusters for CLUSTER_COUNT, the algorithm treats this number as a hint for the approximate number of clusters to find.</span></span> <span data-ttu-id="c6eb9-127">No entanto, no processo de análise, o algoritmo pode encontrar mais ou menos clusters.</span><span class="sxs-lookup"><span data-stu-id="c6eb9-127">However, in the process of analysis, the algorithm may find more or fewer clusters.</span></span> <span data-ttu-id="c6eb9-128">Nesse caso, o algoritmo descobriu que 15 clusters se ajustam melhor aos dados de treinamento.</span><span class="sxs-lookup"><span data-stu-id="c6eb9-128">In this case, the algorithm found that 15 clusters best fit the training data.</span></span> <span data-ttu-id="c6eb9-129">Assim, a lista de valores de parâmetro do modelo completo reporta a contagem de clusters conforme determinado pelo algoritmo, não o valor passado durante a criação do modelo.</span><span class="sxs-lookup"><span data-stu-id="c6eb9-129">Therefore, the list of parameter values for the completed model reports the count of clusters as determined by the algorithm, not the value passed in when creating the model.</span></span>  
  
 <span data-ttu-id="c6eb9-130">Como esse comportamento difere de deixar o algoritmo determinar o melhor número de clusters?</span><span class="sxs-lookup"><span data-stu-id="c6eb9-130">How does this behavior differ from letting the algorithm determine the best number of clusters?</span></span> <span data-ttu-id="c6eb9-131">Como uma experiência, você pode criar outro modelo de clusterização que usa os mesmos dados, mas definir CLUSTER_COUNT como 0.</span><span class="sxs-lookup"><span data-stu-id="c6eb9-131">As an experiment, you can create another clustering model that uses this same data, but set CLUSTER_COUNT to 0.</span></span> <span data-ttu-id="c6eb9-132">Quando você fizer isso, o algoritmo detectará 32 clusters.</span><span class="sxs-lookup"><span data-stu-id="c6eb9-132">When you do this, the algorithm detects 32 clusters.</span></span> <span data-ttu-id="c6eb9-133">Portanto, usando o valor padrão de 10 para CLUSTER_COUNT, você restringe o número de resultados.</span><span class="sxs-lookup"><span data-stu-id="c6eb9-133">Therefore, by using the default value of 10 for CLUSTER_COUNT, you constrain the number of results.</span></span>  
  
 <span data-ttu-id="c6eb9-134">O valor de 10 é usado por padrão porque reduzir o número de clusters torna mais fácil para a maioria das pessoas procurar e entender os agrupamentos nos dados.</span><span class="sxs-lookup"><span data-stu-id="c6eb9-134">The value of 10 is used by default because reducing the number of clusters makes it easier for most people to browse and understand groupings in the data.</span></span> <span data-ttu-id="c6eb9-135">Entretanto, cada modelo e conjunto de dados é diferente.</span><span class="sxs-lookup"><span data-stu-id="c6eb9-135">However, each model and set of data is different.</span></span> <span data-ttu-id="c6eb9-136">Talvez você queira fazer experiências com números de clusters diferentes para verificar qual valor de parâmetro gera o modelo mais preciso.</span><span class="sxs-lookup"><span data-stu-id="c6eb9-136">You may wish to experiment with different numbers of clusters to see which parameter value yields the most accurate model.</span></span>  
  
###  <a name="sample-query-2-getting-a-list-of-sequences-for-a-state"></a><a name="bkmk_Query2"></a><span data-ttu-id="c6eb9-137">Exemplo de consulta 2: obtendo uma lista de sequências para um estado</span><span class="sxs-lookup"><span data-stu-id="c6eb9-137">Sample Query 2: Getting a List of Sequences for a State</span></span>  
 <span data-ttu-id="c6eb9-138">O conteúdo do modelo de mineração armazena as sequências encontradas nos dados de treinamento como um primeiro estado associado a uma lista de todos os segundos estados relacionados.</span><span class="sxs-lookup"><span data-stu-id="c6eb9-138">The mining model content stores the sequences that are found in the training data as a first state coupled with a list of all related second states.</span></span> <span data-ttu-id="c6eb9-139">O primeiro estado é usado como o rótulo da sequência e os segundos estados relacionados são denominados transições.</span><span class="sxs-lookup"><span data-stu-id="c6eb9-139">The first state is used as the label for the sequence, and the related second states are called transitions.</span></span>  
  
 <span data-ttu-id="c6eb9-140">Por exemplo, a consulta a seguir retorna a lista completa de primeiros estados no modelo, antes do agrupamento de sequências em clusters.</span><span class="sxs-lookup"><span data-stu-id="c6eb9-140">For example, the following query returns the complete list of first states in the model, before the sequences are grouped into clusters.</span></span>  <span data-ttu-id="c6eb9-141">Você pode obter essa lista retornando a lista de sequências (NODE_TYPE = 13) que têm o nó raiz do modelo como pai (PARENT_UNIQUE_NAME = 0).</span><span class="sxs-lookup"><span data-stu-id="c6eb9-141">You can get this list by returning the list of sequences (NODE_TYPE = 13) that have the model root node as parent (PARENT_UNIQUE_NAME = 0).</span></span> <span data-ttu-id="c6eb9-142">A palavra-chave FLATTENED torna os resultados mais fáceis de ler.</span><span class="sxs-lookup"><span data-stu-id="c6eb9-142">The FLATTENED keyword makes the results easier to read.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="c6eb9-143">O nome das colunas, PARENT_UNIQUE_NAME, Suporte e Probabilidade deve ser colocado entre colchetes para distingui-los das palavras-chave reservadas de mesmo nome.</span><span class="sxs-lookup"><span data-stu-id="c6eb9-143">The name of the columns, PARENT_UNIQUE_NAME, Support, and Probability must be enclosed in brackets to distinguish them from the reserved keywords of the same name.</span></span>  
  
```  
SELECT FLATTENED NODE_UNIQUE_NAME,  
(SELECT ATTRIBUTE_VALUE AS [Product 1],  
[Support] AS [Sequence Support],   
[Probability] AS [Sequence Probability]  
FROM NODE_DISTRIBUTION) AS t  
FROM [Sequence Clustering].CONTENT  
WHERE NODE_TYPE = 13  
AND [PARENT_UNIQUE_NAME] = 0  
```  
  
 <span data-ttu-id="c6eb9-144">Resultados parciais:</span><span class="sxs-lookup"><span data-stu-id="c6eb9-144">Partial results:</span></span>  
  
|<span data-ttu-id="c6eb9-145">NODE_UNIQUE_NAME</span><span class="sxs-lookup"><span data-stu-id="c6eb9-145">NODE_UNIQUE_NAME</span></span>|<span data-ttu-id="c6eb9-146">Produto 1</span><span class="sxs-lookup"><span data-stu-id="c6eb9-146">Product 1</span></span>|<span data-ttu-id="c6eb9-147">Suporte de sequência</span><span class="sxs-lookup"><span data-stu-id="c6eb9-147">Sequence Support</span></span>|<span data-ttu-id="c6eb9-148">Probabilidade de sequência</span><span class="sxs-lookup"><span data-stu-id="c6eb9-148">Sequence Probability</span></span>|  
|------------------------|---------------|----------------------|--------------------------|  
|<span data-ttu-id="c6eb9-149">1081327</span><span class="sxs-lookup"><span data-stu-id="c6eb9-149">1081327</span></span>|<span data-ttu-id="c6eb9-150">Ausente</span><span class="sxs-lookup"><span data-stu-id="c6eb9-150">Missing</span></span>|<span data-ttu-id="c6eb9-151">0</span><span class="sxs-lookup"><span data-stu-id="c6eb9-151">0</span></span>|#######|  
|<span data-ttu-id="c6eb9-152">1081327</span><span class="sxs-lookup"><span data-stu-id="c6eb9-152">1081327</span></span>|<span data-ttu-id="c6eb9-153">Suporte de bicicleta multifuncional</span><span class="sxs-lookup"><span data-stu-id="c6eb9-153">All-Purpose Bike Stand</span></span>|<span data-ttu-id="c6eb9-154">17</span><span class="sxs-lookup"><span data-stu-id="c6eb9-154">17</span></span>|<span data-ttu-id="c6eb9-155">0.00111</span><span class="sxs-lookup"><span data-stu-id="c6eb9-155">0.00111</span></span>|  
|<span data-ttu-id="c6eb9-156">1081327</span><span class="sxs-lookup"><span data-stu-id="c6eb9-156">1081327</span></span>|<span data-ttu-id="c6eb9-157">Lavagem de bicicleta</span><span class="sxs-lookup"><span data-stu-id="c6eb9-157">Bike Wash</span></span>|<span data-ttu-id="c6eb9-158">64</span><span class="sxs-lookup"><span data-stu-id="c6eb9-158">64</span></span>|<span data-ttu-id="c6eb9-159">0.00418</span><span class="sxs-lookup"><span data-stu-id="c6eb9-159">0.00418</span></span>|  
|<span data-ttu-id="c6eb9-160">1081327</span><span class="sxs-lookup"><span data-stu-id="c6eb9-160">1081327</span></span>|<span data-ttu-id="c6eb9-161">(linhas 4 a 36 omitidas)</span><span class="sxs-lookup"><span data-stu-id="c6eb9-161">(rows 4-36 omitted)</span></span>|||  
|<span data-ttu-id="c6eb9-162">1081327</span><span class="sxs-lookup"><span data-stu-id="c6eb9-162">1081327</span></span>|<span data-ttu-id="c6eb9-163">Women's Mountain Shorts</span><span class="sxs-lookup"><span data-stu-id="c6eb9-163">Women's Mountain Shorts</span></span>|<span data-ttu-id="c6eb9-164">506</span><span class="sxs-lookup"><span data-stu-id="c6eb9-164">506</span></span>|<span data-ttu-id="c6eb9-165">0.03307</span><span class="sxs-lookup"><span data-stu-id="c6eb9-165">0.03307</span></span>|  
  
 <span data-ttu-id="c6eb9-166">A lista de sequências no modelo sempre é classificada alfabeticamente em ordem crescente.</span><span class="sxs-lookup"><span data-stu-id="c6eb9-166">The list of sequences in the model is always sorted alphabetically in ascending order.</span></span> <span data-ttu-id="c6eb9-167">A ordem das sequências é importante porque você pode encontrar as transições relacionadas examinando o número de ordem de sequência.</span><span class="sxs-lookup"><span data-stu-id="c6eb9-167">The ordering of the sequences is important because you can find the related transitions by looking at the order number of the sequence.</span></span> <span data-ttu-id="c6eb9-168">O valor `Missing` sempre é a transição 0.</span><span class="sxs-lookup"><span data-stu-id="c6eb9-168">The `Missing` value is always transition 0.</span></span>  
  
 <span data-ttu-id="c6eb9-169">Por exemplo, nos resultados anteriores, o produto "Women Mountain Shorts" é a sequência número 37 no modelo.</span><span class="sxs-lookup"><span data-stu-id="c6eb9-169">For example, in the previous results, the product "Women's Mountain Shorts" is the sequence number 37 in the model.</span></span> <span data-ttu-id="c6eb9-170">Você pode usar essa informação para exibir todos os produtos que já foram comprados depois de "Women Mountain Shorts".</span><span class="sxs-lookup"><span data-stu-id="c6eb9-170">You can use that information to view all of the products that were ever purchased after "Women's Mountain Shorts."</span></span>  
  
 <span data-ttu-id="c6eb9-171">Para fazer isso, primeiro referencie o valor retornado para NODE_UNIQUE_NAME na consulta anterior, para obter a ID do nó que contém todas as sequências do modelo.</span><span class="sxs-lookup"><span data-stu-id="c6eb9-171">To do this, first, you reference the value returned for NODE_UNIQUE_NAME in the previous query, to get the ID of the node that contains all sequences for the model.</span></span> <span data-ttu-id="c6eb9-172">Passe esse valor à consulta como a ID do nó pai, para obter apenas as transições incluídas no nó, o que ocorre para conter uma lista de todas as sequências do modelo.</span><span class="sxs-lookup"><span data-stu-id="c6eb9-172">You pass this value to the query as the ID of the parent node, to get only the transitions included in this node, which happens to contain a list of al sequences for the model.</span></span> <span data-ttu-id="c6eb9-173">No entanto, se queria visualizar a lista de transições de um determinado cluster, você poderia passar a ID do nó do cluster e visualizar apenas as sequências associadas a esse cluster.</span><span class="sxs-lookup"><span data-stu-id="c6eb9-173">However, if you wanted to see the list of transitions for a specific cluster, you could pass in the ID of the cluster node, and see only the sequences associated with that cluster.</span></span>  
  
```  
SELECT NODE_UNIQUE_NAME  
FROM [Sequence Clustering].CONTENT  
WHERE NODE_DESCRIPTION = 'Transition row for sequence state 37'  
AND [PARENT_UNIQUE_NAME] = '1081327'  
```  
  
 <span data-ttu-id="c6eb9-174">Resultados do exemplo:</span><span class="sxs-lookup"><span data-stu-id="c6eb9-174">Example results:</span></span>  
  
|<span data-ttu-id="c6eb9-175">NODE_UNIQUE_NAME</span><span class="sxs-lookup"><span data-stu-id="c6eb9-175">NODE_UNIQUE_NAME</span></span>|  
|------------------------|  
|<span data-ttu-id="c6eb9-176">1081365</span><span class="sxs-lookup"><span data-stu-id="c6eb9-176">1081365</span></span>|  
  
 <span data-ttu-id="c6eb9-177">O nó representado por esta ID contém uma lista das sequências após o produto "Women's Mountain Shorts", junto com os valores de suporte e probabilidade.</span><span class="sxs-lookup"><span data-stu-id="c6eb9-177">The node represented by this ID contains a list of the sequences that follow the "Women's Mountain Shorts" product, together with the support and probability values.</span></span>  
  
```  
SELECT FLATTENED  
(SELECT ATTRIBUTE_VALUE AS Product2,  
[Support] AS [P2 Support],  
[Probability] AS [P2 Probability]  
FROM NODE_DISTRIBUTION) AS t  
FROM [Sequence Clustering].CONTENT  
WHERE NODE_UNIQUE_NAME = '1081365'  
```  
  
 <span data-ttu-id="c6eb9-178">Resultados do exemplo:</span><span class="sxs-lookup"><span data-stu-id="c6eb9-178">Example results:</span></span>  
  
|<span data-ttu-id="c6eb9-179">t.Product2</span><span class="sxs-lookup"><span data-stu-id="c6eb9-179">t.Product2</span></span>|<span data-ttu-id="c6eb9-180">Suporte de t.P2</span><span class="sxs-lookup"><span data-stu-id="c6eb9-180">t.P2 Support</span></span>|<span data-ttu-id="c6eb9-181">Probabilidade de t.P2</span><span class="sxs-lookup"><span data-stu-id="c6eb9-181">t.P2 Probability</span></span>|  
|----------------|------------------|----------------------|  
|<span data-ttu-id="c6eb9-182">Ausente</span><span class="sxs-lookup"><span data-stu-id="c6eb9-182">Missing</span></span>|<span data-ttu-id="c6eb9-183">230.7419</span><span class="sxs-lookup"><span data-stu-id="c6eb9-183">230.7419</span></span>|<span data-ttu-id="c6eb9-184">0.456012</span><span class="sxs-lookup"><span data-stu-id="c6eb9-184">0.456012</span></span>|  
|<span data-ttu-id="c6eb9-185">Colete clássico</span><span class="sxs-lookup"><span data-stu-id="c6eb9-185">Classic Vest</span></span>|<span data-ttu-id="c6eb9-186">8.16129</span><span class="sxs-lookup"><span data-stu-id="c6eb9-186">8.16129</span></span>|<span data-ttu-id="c6eb9-187">0.016129</span><span class="sxs-lookup"><span data-stu-id="c6eb9-187">0.016129</span></span>|  
|<span data-ttu-id="c6eb9-188">Capacete para Ciclismo</span><span class="sxs-lookup"><span data-stu-id="c6eb9-188">Cycling Cap</span></span>|<span data-ttu-id="c6eb9-189">60.83871</span><span class="sxs-lookup"><span data-stu-id="c6eb9-189">60.83871</span></span>|<span data-ttu-id="c6eb9-190">0.120235</span><span class="sxs-lookup"><span data-stu-id="c6eb9-190">0.120235</span></span>|  
|<span data-ttu-id="c6eb9-191">Luvas de meio dedo</span><span class="sxs-lookup"><span data-stu-id="c6eb9-191">Half-Finger Gloves</span></span>|<span data-ttu-id="c6eb9-192">30.41935</span><span class="sxs-lookup"><span data-stu-id="c6eb9-192">30.41935</span></span>|<span data-ttu-id="c6eb9-193">0.060117</span><span class="sxs-lookup"><span data-stu-id="c6eb9-193">0.060117</span></span>|  
|<span data-ttu-id="c6eb9-194">Jersey Logo de manga longa</span><span class="sxs-lookup"><span data-stu-id="c6eb9-194">Long-Sleeve Logo Jersey</span></span>|<span data-ttu-id="c6eb9-195">86.80645</span><span class="sxs-lookup"><span data-stu-id="c6eb9-195">86.80645</span></span>|<span data-ttu-id="c6eb9-196">0.171554</span><span class="sxs-lookup"><span data-stu-id="c6eb9-196">0.171554</span></span>|  
|<span data-ttu-id="c6eb9-197">Meias para corrida</span><span class="sxs-lookup"><span data-stu-id="c6eb9-197">Racing Socks</span></span>|<span data-ttu-id="c6eb9-198">28.93548</span><span class="sxs-lookup"><span data-stu-id="c6eb9-198">28.93548</span></span>|<span data-ttu-id="c6eb9-199">0.057185</span><span class="sxs-lookup"><span data-stu-id="c6eb9-199">0.057185</span></span>|  
|<span data-ttu-id="c6eb9-200">Camisa esportiva clássica de manga curta</span><span class="sxs-lookup"><span data-stu-id="c6eb9-200">Short-Sleeve Classic Jersey</span></span>|<span data-ttu-id="c6eb9-201">60.09677</span><span class="sxs-lookup"><span data-stu-id="c6eb9-201">60.09677</span></span>|<span data-ttu-id="c6eb9-202">0.118768</span><span class="sxs-lookup"><span data-stu-id="c6eb9-202">0.118768</span></span>|  
  
 <span data-ttu-id="c6eb9-203">Observe que o suporte para as várias sequências relacionadas a Women's Mountain Shorts é 506 no modelo.</span><span class="sxs-lookup"><span data-stu-id="c6eb9-203">Note that support for the various sequences related to Women's Mountain Shorts is 506 in the model.</span></span> <span data-ttu-id="c6eb9-204">Os valores de suporte para as transições também somam 506.</span><span class="sxs-lookup"><span data-stu-id="c6eb9-204">The support values for the transitions also add up to 506.</span></span> <span data-ttu-id="c6eb9-205">No entanto, os números não são inteiros, o que parecerá um pouco estranho se você esperar que o suporte represente simplesmente uma contagem de casos que contêm cada transição.</span><span class="sxs-lookup"><span data-stu-id="c6eb9-205">However, the numbers are not whole numbers, which seems a bit odd if you expect support to simply represent a count of cases that contain each transition.</span></span> <span data-ttu-id="c6eb9-206">No entanto, como o método para criar clusters calcula a associação parcial, a probabilidade de qualquer transição em um cluster deve ser avaliada por sua probabilidade de pertencer a esse cluster em particular.</span><span class="sxs-lookup"><span data-stu-id="c6eb9-206">However, because the method for creating clusters calculates partial membership, the probability of any transition within a cluster must be weighted by its probability of belonging to that particular cluster.</span></span>  
  
 <span data-ttu-id="c6eb9-207">Por exemplo, se houver quatro clusters, uma determinada sequência pode ter uma possibilidade de 40% de pertencer ao cluster 1, 30% de pertencer ao cluster 2, 20% de pertencer ao cluster 3 e 10% de pertencer ao cluster 4.</span><span class="sxs-lookup"><span data-stu-id="c6eb9-207">For example, if there are four clusters, a particular sequence might have a 40% chance of belonging to cluster 1, a 30% chance of belonging to cluster 2, a 20% chance of belonging to cluster 3, and a 10% chance of belonging to cluster 4.</span></span> <span data-ttu-id="c6eb9-208">Depois que o algoritmo determinar a qual cluster a transição tem maior probabilidade de pertencer, ele avaliará as probabilidades dentro do cluster pela probabilidade de precedência de cluster.</span><span class="sxs-lookup"><span data-stu-id="c6eb9-208">After the algorithm determines the cluster that the transition is mostly likely to belong to, it weights the probabilities within the cluster by the cluster prior probability.</span></span>  
  
###  <a name="sample-query-3-using-system-stored-procedures"></a><a name="bkmk_Query3"></a><span data-ttu-id="c6eb9-209">Exemplo de consulta 3: usando procedimentos armazenados do sistema</span><span class="sxs-lookup"><span data-stu-id="c6eb9-209">Sample Query 3: Using System Stored Procedures</span></span>  
 <span data-ttu-id="c6eb9-210">Com esses exemplos de consulta, você pode observar que as informações armazenadas no modelo são complexas e que talvez seja preciso criar várias consultas para obter os dados necessários.</span><span class="sxs-lookup"><span data-stu-id="c6eb9-210">You can see from these query samples that the information stored in the model is complex, and that you might need to create multiple queries to get the information that you need.</span></span> <span data-ttu-id="c6eb9-211">No entanto, o visualizador MSC fornece um conjunto avançado de ferramentas para navegação gráfica pelas informações contidas em um modelo de clusterização de sequência e você ainda pode usar esse visualizador para consultar e detalhar o modelo.</span><span class="sxs-lookup"><span data-stu-id="c6eb9-211">However, the Microsoft Sequence Clustering viewer provides a powerful set of tools for graphically browsing the information contained in a sequence clustering model, and you can also use the viewer to query and drill down into the model.</span></span>  
  
 <span data-ttu-id="c6eb9-212">Na maioria dos casos, as informações apresentadas no visualizador MSC são criadas com o uso de procedimentos armazenados de sistema do Analysis Services para consultar o modelo.</span><span class="sxs-lookup"><span data-stu-id="c6eb9-212">In most cases, the information that is presented in the Microsoft Sequence Clustering viewer is created by using Analysis Services system stored procedures to query the model.</span></span> <span data-ttu-id="c6eb9-213">Você pode escrever consultas DMX referentes ao conteúdo do modelo para recuperar as mesmas informações, mas os procedimentos armazenados de sistema do Analysis Services fornecem um atalho prático para explorar ou testar modelos.</span><span class="sxs-lookup"><span data-stu-id="c6eb9-213">You can write Data Mining Extensions (DMX) queries against the model content to retrieve the same information, but the Analysis Services system stored procedures provide a convenient shortcut when for exploration or for testing models.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="c6eb9-214">Os procedimentos armazenados de sistema são usados para processamento interno pelo servidor e pelos clientes que a Microsoft fornece para interação com o servidor Analysis Services.</span><span class="sxs-lookup"><span data-stu-id="c6eb9-214">System stored procedures are used for internal processing by the server and by the clients that Microsoft provides for interacting with the Analysis Services server.</span></span> <span data-ttu-id="c6eb9-215">Assim, a Microsoft se reserva o direito de alterá-los a qualquer momento.</span><span class="sxs-lookup"><span data-stu-id="c6eb9-215">Therefore, Microsoft reserves the right to change them at any time.</span></span> <span data-ttu-id="c6eb9-216">Embora eles sejam descritos aqui para sua conveniência, não há suporte para seu uso em um ambiente de produção.</span><span class="sxs-lookup"><span data-stu-id="c6eb9-216">Although they are described here for your convenience, we do not support their use in a production environment.</span></span> <span data-ttu-id="c6eb9-217">Para assegurar a estabilidade e a compatibilidade em um ambiente de produção, você sempre deve escrever suas próprias consultas usando DMX.</span><span class="sxs-lookup"><span data-stu-id="c6eb9-217">To ensure stability and compatibility in a production environment, you should always write your own queries by using DMX.</span></span>  
  
 <span data-ttu-id="c6eb9-218">Esta seção fornece alguns exemplos de como usar os procedimentos armazenados de sistema para criar consultas referentes a um modelo de clusterização de sequência:</span><span class="sxs-lookup"><span data-stu-id="c6eb9-218">This section provides some samples of how to use the system stored procedures to create queries against a sequence clustering model:</span></span>  
  
#### <a name="cluster-profiles-and-sample-cases"></a><span data-ttu-id="c6eb9-219">Perfis de cluster e casos de exemplo</span><span class="sxs-lookup"><span data-stu-id="c6eb9-219">Cluster Profiles and Sample Cases</span></span>  
 <span data-ttu-id="c6eb9-220">A guia Perfis de cluster mostra uma lista de clusters no modelo, o tamanho de cada cluster e um histograma que indica os estados inclusos no cluster.</span><span class="sxs-lookup"><span data-stu-id="c6eb9-220">The Cluster Profiles tab shows you a list of the clusters in the model, the size of each cluster, and a histogram that indicates the states included in the cluster.</span></span> <span data-ttu-id="c6eb9-221">Há dois procedimentos armazenados de sistema que você pode usar em consultas para recuperar informações semelhantes:</span><span class="sxs-lookup"><span data-stu-id="c6eb9-221">There are two system stored procedures that you can use in queries to retrieve similar information:</span></span>  
  
-   <span data-ttu-id="c6eb9-222">`GetClusterProfile` retorna as características do cluster, com todas as informações encontradas na tabela NODE_DISTRIBUTION do cluster.</span><span class="sxs-lookup"><span data-stu-id="c6eb9-222">`GetClusterProfile` returns the characteristics of the cluster, with all the information that is found in the NODE_DISTRIBUTION table for the cluster.</span></span>  
  
-   <span data-ttu-id="c6eb9-223">`GetNodeGraph` retorna os nós e as margens que podem ser usadas para construir uma representação matemática gráfica dos clusters, correspondente ao que você visualiza na primeira guia de Clusterização de Sequência.</span><span class="sxs-lookup"><span data-stu-id="c6eb9-223">`GetNodeGraph` returns nodes and edges that can be used to construct a mathematical graph representation of the clusters, corresponding to what you see on the first tab of the Sequence Clustering view.</span></span> <span data-ttu-id="c6eb9-224">Os nós são clusters e as margens representam pesos ou força.</span><span class="sxs-lookup"><span data-stu-id="c6eb9-224">The nodes are clusters, and the edges represent weights or strength.</span></span>  
  
 <span data-ttu-id="c6eb9-225">O exemplo a seguir demonstra como usar o procedimento armazenado de sistema, `GetClusterProfiles`, para retornar todos os clusters no modelo, com os respectivos perfis.</span><span class="sxs-lookup"><span data-stu-id="c6eb9-225">The following example illustrates how to use the system stored procedure, `GetClusterProfiles`, to return all of the clusters in the model, with their respective profiles.</span></span> <span data-ttu-id="c6eb9-226">Este procedimento armazenado executa uma série de instruções DMX que retornam o conjunto completo de perfis no modelo.</span><span class="sxs-lookup"><span data-stu-id="c6eb9-226">This stored procedure executes a series of DMX statements that return the complete set of profiles in the model.</span></span> <span data-ttu-id="c6eb9-227">Entretanto, para usar esse procedimento armazenado, você deve saber o endereço do modelo.</span><span class="sxs-lookup"><span data-stu-id="c6eb9-227">However, to use this stored procedure you must know the address of the model.</span></span>  
  
 `CALL System.Microsoft.AnalysisServices.System.DataMining.Clustering.GetClusterProfiles('Sequence Clustering', 2147483647, 0)`  
  
 <span data-ttu-id="c6eb9-228">O exemplo a seguir demonstra como recuperar o perfil de um determinado cluster, Cluster 12, usando o procedimento armazenado de sistema `GetNodeGraph`e especificando a ID do cluster, que geralmente é igual ao número no nome do cluster.</span><span class="sxs-lookup"><span data-stu-id="c6eb9-228">The following example illustrates how to retrieve the profile for a specific cluster, Cluster 12, by using the system stored procedure `GetNodeGraph`, and specifying the cluster ID, which is usually the same as the number in the cluster name.</span></span>  
  
```  
CALL System.Microsoft.AnalysisServices.System.DataMining.Clustering.GetNodeGraph('Sequence Clustering','12',0)  
```  
  
 <span data-ttu-id="c6eb9-229">Se você omitir a ID do cluster, conforme mostrado na consulta a seguir, `GetNodeGraph` retornará uma lista simples ordenada de todos os perfis de cluster:</span><span class="sxs-lookup"><span data-stu-id="c6eb9-229">If you omit the cluster ID, as shown in the following query, `GetNodeGraph` returns an ordered, flattened list of all cluster profiles:</span></span>  
  
```  
CALL System.Microsoft.AnalysisServices.System.DataMining.Clustering.GetNodeGraph('Sequence Clustering','',0)  
```  
  
 <span data-ttu-id="c6eb9-230">A guia **Perfil de Cluster** também exibe um histograma de casos de exemplo do modelo.</span><span class="sxs-lookup"><span data-stu-id="c6eb9-230">The **Cluster Profile** tab also displays a histogram of model sample cases.</span></span> <span data-ttu-id="c6eb9-231">Esses casos de exemplo representam os casos idealizados do modelo.</span><span class="sxs-lookup"><span data-stu-id="c6eb9-231">These sample cases represent the idealized cases for the model.</span></span> <span data-ttu-id="c6eb9-232">Esses casos não são armazenados no modelo da mesma forma que os dados de treinamento; você deve usar uma sintaxe especial para recuperar os casos de exemplo do modelo.</span><span class="sxs-lookup"><span data-stu-id="c6eb9-232">These cases are not stored in the model the same way that the training data is; you must use a special syntax to retrieve the sample cases for the model.</span></span>  
  
```  
SELECT * FROM [Sequence Clustering].SAMPLE_CASES WHERE IsInNode('12')  
```  
  
 <span data-ttu-id="c6eb9-233">Para obter mais informações, consulte [SELECT FROM &#60;model&#62;.SAMPLE CASES &#40;DMX&#41;](/sql/dmx/select-from-model-dmx).</span><span class="sxs-lookup"><span data-stu-id="c6eb9-233">For more information, see [SELECT FROM &#60;model&#62;.SAMPLE_CASES &#40;DMX&#41;](/sql/dmx/select-from-model-dmx).</span></span>  
  
#### <a name="cluster-characteristics-and-cluster-discrimination"></a><span data-ttu-id="c6eb9-234">Características e discriminação do cluster</span><span class="sxs-lookup"><span data-stu-id="c6eb9-234">Cluster Characteristics and Cluster Discrimination</span></span>  
 <span data-ttu-id="c6eb9-235">A guia **Características do Cluster** resume os atributos principais de cada cluster, classificados por probabilidade.</span><span class="sxs-lookup"><span data-stu-id="c6eb9-235">The **Cluster Characteristics** tab summarizes the main attributes of each cluster, ranked by probability.</span></span> <span data-ttu-id="c6eb9-236">Você pode descobrir quantos casos pertencem a um cluster e como é a distribuição de casos no cluster: cada característica tem um certo suporte.</span><span class="sxs-lookup"><span data-stu-id="c6eb9-236">You can find out how many cases belong to a cluster, and what the distribution of cases is like in the cluster: Each characteristic has certain support.</span></span> <span data-ttu-id="c6eb9-237">Para visualizar as características de um cluster específico, você deve saber a ID do cluster.</span><span class="sxs-lookup"><span data-stu-id="c6eb9-237">To see the characteristics of a particular cluster, you must know the ID of the cluster.</span></span>  
  
 <span data-ttu-id="c6eb9-238">Os exemplos a seguir usam o procedimento armazenado de sistema `GetClusterCharacteristics`para retornar todas as características de Cluster 12 que têm uma pontuação de probabilidade acima do limite especificado de 0,0005.</span><span class="sxs-lookup"><span data-stu-id="c6eb9-238">The following examples uses the system stored procedure, `GetClusterCharacteristics`, to return all the characteristics of Cluster 12 that have a probability score over the specified threshold of 0.0005.</span></span>  
  
```  
CALL System.Microsoft.AnalysisServices.System.DataMining.Clustering.GetClusterCharacteristics('Sequence Clustering','12',0.0005)  
```  
  
 <span data-ttu-id="c6eb9-239">Para retornar as características de todos os clusters, deixe a ID de cluster vazia.</span><span class="sxs-lookup"><span data-stu-id="c6eb9-239">To return the characteristics of all clusters, you can leave the cluster ID empty.</span></span>  
  
```  
CALL System.Microsoft.AnalysisServices.System.DataMining.Clustering.GetClusterCharacteristics('Sequence Clustering','',0.0005)  
```  
  
 <span data-ttu-id="c6eb9-240">O exemplo a seguir chama o procedimento armazenado de sistema `GetClusterDiscrimination` para comparar as características de Cluster 1 e Cluster 12.</span><span class="sxs-lookup"><span data-stu-id="c6eb9-240">The following example calls the system stored procedure `GetClusterDiscrimination` to compare the characteristics of Cluster 1 and Cluster 12.</span></span>  
  
```  
CALL System.Microsoft.AnalysisServices.System.DataMining.Clustering.GetClusterDiscrimination('Sequence Clustering','1','12',0.0005,true)  
```  
  
 <span data-ttu-id="c6eb9-241">Se você quiser escrever sua própria consulta em DMX para comparar dois clusters ou comparar um cluster com seu complemento, primeiro será necessário recuperar um conjunto de características e depois recuperar as características do cluster específico no qual há interesse e comparar os dois conjuntos.</span><span class="sxs-lookup"><span data-stu-id="c6eb9-241">If you want to write your own query in DMX to compare two clusters, or compare a cluster with its complement, you must first retrieve one set of characteristics, and then retrieve the characteristics for the specific cluster that you are interested in, and compare the two sets.</span></span> <span data-ttu-id="c6eb9-242">Este cenário é mais complicado e normalmente requer algum processamento de cliente.</span><span class="sxs-lookup"><span data-stu-id="c6eb9-242">This scenario is more complicated and typically requires some client processing.</span></span>  
  
#### <a name="states-and-transitions"></a><span data-ttu-id="c6eb9-243">Estados e transições</span><span class="sxs-lookup"><span data-stu-id="c6eb9-243">States and Transitions</span></span>  
 <span data-ttu-id="c6eb9-244">A guia **Transições de Estado** de MSC executa consultas complicadas no back-end para recuperar e comparar as estatísticas para clusters diferentes.</span><span class="sxs-lookup"><span data-stu-id="c6eb9-244">The **State Transitions** tab of the Microsoft Sequence Clustering performs complicated queries on the back end to retrieve and compare the statistics for different clusters.</span></span> <span data-ttu-id="c6eb9-245">Reproduzir esses resultados requer uma consulta mais complexa e algum processamento de cliente.</span><span class="sxs-lookup"><span data-stu-id="c6eb9-245">To reproduce these results requires a more complex query and some client processing.</span></span>  
  
 <span data-ttu-id="c6eb9-246">No entanto, você pode usar as consultas DMX descritas no Exemplo 2 da seção [Consultas de conteúdo](#bkmk_ContentQueries)para recuperar probabilidades e estados para sequências ou para transições individuais.</span><span class="sxs-lookup"><span data-stu-id="c6eb9-246">However, you can use the DMX queries described in Example 2 of the section, [Content Queries](#bkmk_ContentQueries), to retrieve probabilities and states for sequences or for individual transitions.</span></span>  
  
## <a name="using-the-model-to-make-predictions"></a><span data-ttu-id="c6eb9-247">Usando o modelo para fazer previsões</span><span class="sxs-lookup"><span data-stu-id="c6eb9-247">Using the Model to Make Predictions</span></span>  
 <span data-ttu-id="c6eb9-248">As consultas de previsão em um modelo de clusterização de sequência podem usar muitas das funções de previsão utilizadas com outros modelos de clusterização.</span><span class="sxs-lookup"><span data-stu-id="c6eb9-248">Prediction queries on a sequence clustering model can use many of the prediction functions that are used with other clustering models.</span></span> <span data-ttu-id="c6eb9-249">Além disso, é possível usar a função de previsão especial, [PredictSequence &#40;DMX&#41;](/sql/dmx/predictsequence-dmx), para fazer recomendações ou para prever os próximos estados.</span><span class="sxs-lookup"><span data-stu-id="c6eb9-249">In addition, you can use the special prediction function, [PredictSequence &#40;DMX&#41;](/sql/dmx/predictsequence-dmx), to make recommendations or to predict next states.</span></span>  
  
###  <a name="sample-query-4-predict-next-state-or-states"></a><a name="bkmk_Query4"></a><span data-ttu-id="c6eb9-250">Exemplo de consulta 4: prever o próximo estado ou Estados</span><span class="sxs-lookup"><span data-stu-id="c6eb9-250">Sample Query 4: Predict Next State or States</span></span>  
 <span data-ttu-id="c6eb9-251">Você pode usar a função [PredictSequence &#40;DMX&#41;](/sql/dmx/predictsequence-dmx) para prever o próximo estado mais provável, dado um valor.</span><span class="sxs-lookup"><span data-stu-id="c6eb9-251">You can use the [PredictSequence &#40;DMX&#41;](/sql/dmx/predictsequence-dmx) function to predict the next most likely state, given a value.</span></span> <span data-ttu-id="c6eb9-252">Também é possível prever vários estados seguintes: por exemplo, você pode retornar uma lista dos três principais produtos que um cliente provavelmente compra, para apresentar uma lista de recomendações.</span><span class="sxs-lookup"><span data-stu-id="c6eb9-252">You can also predict multiple next states: for example, you can return a list of the top three products that a customer is likely to purchase, to present a list of recommendations.</span></span>  
  
 <span data-ttu-id="c6eb9-253">O exemplo de consulta a seguir é uma consulta de previsão singleton que retorna as cinco previsões principais, junto com sua probabilidade.</span><span class="sxs-lookup"><span data-stu-id="c6eb9-253">The following sample query is a singleton prediction query that returns the top five predictions, together with their probability.</span></span> <span data-ttu-id="c6eb9-254">Como o modelo inclui uma tabela aninhada, você deve usar a tabela aninhada `[v Assoc Seq Line Items]`como a referência de coluna ao fazer previsões.</span><span class="sxs-lookup"><span data-stu-id="c6eb9-254">Because the model includes a nested table, you must use the nested table, `[v Assoc Seq Line Items]`, as the column reference when making predictions.</span></span> <span data-ttu-id="c6eb9-255">Além disso, quando você fornece valores como entrada, é necessário juntar as colunas da tabela de caixa e da tabela aninhada, conforme mostrado pelas instruções SELECT aninhadas.</span><span class="sxs-lookup"><span data-stu-id="c6eb9-255">Also, when you supply values as input, you must join both the case table and the nested table columns, as shown by the nested SELECT statements.</span></span>  
  
```  
SELECT FLATTENED PredictSequence([v Assoc Seq Line Items], 7)  
FROM [Sequence Clustering]  
NATURAL PREDICTION JOIN  
(SELECT  (SELECT 1 as [Line Number],  
   'All-Purpose Bike Stand' as [Model]) AS [v Assoc Seq Line Items])   
AS t  
```  
  
 <span data-ttu-id="c6eb9-256">Resultados do exemplo:</span><span class="sxs-lookup"><span data-stu-id="c6eb9-256">Example results:</span></span>  
  
|<span data-ttu-id="c6eb9-257">Expression.$Sequence</span><span class="sxs-lookup"><span data-stu-id="c6eb9-257">Expression.$Sequence</span></span>|<span data-ttu-id="c6eb9-258">Expression.Line Number</span><span class="sxs-lookup"><span data-stu-id="c6eb9-258">Expression.Line Number</span></span>|<span data-ttu-id="c6eb9-259">Expression.Model</span><span class="sxs-lookup"><span data-stu-id="c6eb9-259">Expression.Model</span></span>|  
|--------------------------|----------------------------|----------------------|  
|<span data-ttu-id="c6eb9-260">1</span><span class="sxs-lookup"><span data-stu-id="c6eb9-260">1</span></span>||<span data-ttu-id="c6eb9-261">Capacete para Ciclismo</span><span class="sxs-lookup"><span data-stu-id="c6eb9-261">Cycling Cap</span></span>|  
|<span data-ttu-id="c6eb9-262">2</span><span class="sxs-lookup"><span data-stu-id="c6eb9-262">2</span></span>||<span data-ttu-id="c6eb9-263">Capacete para Ciclismo</span><span class="sxs-lookup"><span data-stu-id="c6eb9-263">Cycling Cap</span></span>|  
|<span data-ttu-id="c6eb9-264">3</span><span class="sxs-lookup"><span data-stu-id="c6eb9-264">3</span></span>||<span data-ttu-id="c6eb9-265">Sport-100</span><span class="sxs-lookup"><span data-stu-id="c6eb9-265">Sport-100</span></span>|  
|<span data-ttu-id="c6eb9-266">4</span><span class="sxs-lookup"><span data-stu-id="c6eb9-266">4</span></span>||<span data-ttu-id="c6eb9-267">Jersey Logo de manga longa</span><span class="sxs-lookup"><span data-stu-id="c6eb9-267">Long-Sleeve logo Jersey</span></span>|  
|<span data-ttu-id="c6eb9-268">5</span><span class="sxs-lookup"><span data-stu-id="c6eb9-268">5</span></span>||<span data-ttu-id="c6eb9-269">Luvas de meio dedo</span><span class="sxs-lookup"><span data-stu-id="c6eb9-269">Half-Finger Gloves</span></span>|  
|<span data-ttu-id="c6eb9-270">6</span><span class="sxs-lookup"><span data-stu-id="c6eb9-270">6</span></span>||<span data-ttu-id="c6eb9-271">Suporte de bicicleta multifuncional</span><span class="sxs-lookup"><span data-stu-id="c6eb9-271">All-Purpose Bike Stand</span></span>|  
|<span data-ttu-id="c6eb9-272">7</span><span class="sxs-lookup"><span data-stu-id="c6eb9-272">7</span></span>||<span data-ttu-id="c6eb9-273">Suporte de bicicleta multifuncional</span><span class="sxs-lookup"><span data-stu-id="c6eb9-273">All-Purpose Bike Stand</span></span>|  
  
 <span data-ttu-id="c6eb9-274">Há três colunas nos resultados, mesmo que você talvez esteja esperando apenas uma coluna, porque consulta sempre retorna uma coluna para a tabela de caixa.</span><span class="sxs-lookup"><span data-stu-id="c6eb9-274">There are three columns in the results, even though you might only expect one column, because the query always returns a column for the case table.</span></span> <span data-ttu-id="c6eb9-275">Aqui os resultados são simples; caso contrário, a consulta retornaria uma única coluna que contém duas colunas de tabela aninhada.</span><span class="sxs-lookup"><span data-stu-id="c6eb9-275">Here the results are flattened; otherwise, the query would return a single column that contains two nested table columns.</span></span>  
  
 <span data-ttu-id="c6eb9-276">A coluna $sequence é retornada por padrão pela função `PredictSequence` para ordenar os resultados da previsão.</span><span class="sxs-lookup"><span data-stu-id="c6eb9-276">The column $sequence is a column returned by default by the `PredictSequence` function to order the prediction results.</span></span> <span data-ttu-id="c6eb9-277">A coluna `[Line Number]`é necessária para corresponder às chaves de sequência no modelo, mas as chaves não são geradas.</span><span class="sxs-lookup"><span data-stu-id="c6eb9-277">The column, `[Line Number]`, is required to match the sequence keys in the model, but the keys are not output.</span></span>  
  
 <span data-ttu-id="c6eb9-278">De forma interessante, as principais sequências previstas depois de Suporte de bicicleta multifuncional são Capacete para ciclismo e Capacete para ciclismo.</span><span class="sxs-lookup"><span data-stu-id="c6eb9-278">Interestingly, the top predicted sequences after All-Purpose Bike Stand are Cycling Cap and Cycling Cap.</span></span> <span data-ttu-id="c6eb9-279">Isso não é um erro.</span><span class="sxs-lookup"><span data-stu-id="c6eb9-279">This is not an error.</span></span> <span data-ttu-id="c6eb9-280">Dependendo do modo como os dados são apresentados ao cliente e como são agrupados durante o treinamento do modelo, é bem possível ter sequências desse tipo.</span><span class="sxs-lookup"><span data-stu-id="c6eb9-280">Depending on how the data is presented to the customer, and how it is grouped when training the model, it is very possible to have sequences of this kind.</span></span> <span data-ttu-id="c6eb9-281">Por exemplo, um cliente pode adquirir um capacete para ciclismo (vermelho) e depois outro capacete para ciclismo (azul), ou comprar dois seguidos se não havia nenhum modo de especificar a quantidade.</span><span class="sxs-lookup"><span data-stu-id="c6eb9-281">For example, a customer might purchase a cycling cap (red) and then another cycling cap (blue), or purchase two in a row if there were no way to specify quantity.</span></span>  
  
 <span data-ttu-id="c6eb9-282">Os valores nas linhas 6 e 7 são espaços reservados.</span><span class="sxs-lookup"><span data-stu-id="c6eb9-282">The values in rows 6 and 7 are placeholders.</span></span> <span data-ttu-id="c6eb9-283">Quando você chega ao fim da cadeia de transições possíveis, em vez de encerrar os resultados da previsão, o valor que foi passado como entrada é adicionado aos resultados.</span><span class="sxs-lookup"><span data-stu-id="c6eb9-283">When you reach the end of the chain of possible transitions, rather than terminating the prediction results, the value that was passed as an input is added to the results.</span></span> <span data-ttu-id="c6eb9-284">Por exemplo, se você aumentou o número de previsões para 20, os valores das linhas 6 a 20 serão iguais, Suporte de bicicleta multifuncional.</span><span class="sxs-lookup"><span data-stu-id="c6eb9-284">For example, if you increased the number of predictions to 20, the values for rows 6-20 would all be the same, All-Purpose Bike Stand.</span></span>  
  
## <a name="function-list"></a><span data-ttu-id="c6eb9-285">Lista de funções</span><span class="sxs-lookup"><span data-stu-id="c6eb9-285">Function List</span></span>  
 <span data-ttu-id="c6eb9-286">Todos os algoritmos do [!INCLUDE[msCoName](../../includes/msconame-md.md)] dão suporte a um conjunto comum de funções.</span><span class="sxs-lookup"><span data-stu-id="c6eb9-286">All [!INCLUDE[msCoName](../../includes/msconame-md.md)] algorithms support a common set of functions.</span></span> <span data-ttu-id="c6eb9-287">No entanto, o algoritmo [!INCLUDE[msCoName](../../includes/msconame-md.md)] Sequence Clustering dá suporte às funções adicionais relacionadas na tabela a seguir.</span><span class="sxs-lookup"><span data-stu-id="c6eb9-287">However, the [!INCLUDE[msCoName](../../includes/msconame-md.md)] Sequence Clustering algorithm supports the additional functions that are listed in the following table.</span></span>  
  
|||  
|-|-|  
|<span data-ttu-id="c6eb9-288">Função de previsão</span><span class="sxs-lookup"><span data-stu-id="c6eb9-288">Prediction Function</span></span>|<span data-ttu-id="c6eb9-289">Uso</span><span class="sxs-lookup"><span data-stu-id="c6eb9-289">Usage</span></span>|  
|[<span data-ttu-id="c6eb9-290">Cluster &#40;DMX&#41;</span><span class="sxs-lookup"><span data-stu-id="c6eb9-290">Cluster &#40;DMX&#41;</span></span>](/sql/dmx/cluster-dmx)|<span data-ttu-id="c6eb9-291">Retorna o cluster com maior probabilidade de conter o caso de entrada</span><span class="sxs-lookup"><span data-stu-id="c6eb9-291">Returns the cluster that is most likely to contain the input case</span></span>|  
|[<span data-ttu-id="c6eb9-292">ClusterDistance &#40;DMX&#41;</span><span class="sxs-lookup"><span data-stu-id="c6eb9-292">ClusterDistance &#40;DMX&#41;</span></span>](/sql/dmx/clusterdistance-dmx)|<span data-ttu-id="c6eb9-293">Retorna a distância do caso de entrada do cluster especificado ou, caso nenhum cluster tenha sido especificado, a distância do caso de entrada do cluster mais provável.</span><span class="sxs-lookup"><span data-stu-id="c6eb9-293">Returns the distance of the input case from the specified cluster, or if no cluster is specified, the distance of the input case from the most likely cluster.</span></span><br /><br /> <span data-ttu-id="c6eb9-294">Essa função pode ser usada com qualquer tipo de modelo de clustering (EM, K-Means etc.), mas o resultado será diferente de acordo com o algoritmo.</span><span class="sxs-lookup"><span data-stu-id="c6eb9-294">This function can be used with any kind of clustering model (EM, K-Means, etc.), but the results differ depending on the algorithm.</span></span>|  
|[<span data-ttu-id="c6eb9-295">ClusterProbability &#40;DMX&#41;</span><span class="sxs-lookup"><span data-stu-id="c6eb9-295">ClusterProbability &#40;DMX&#41;</span></span>](/sql/dmx/clusterprobability-dmx)|<span data-ttu-id="c6eb9-296">Retorna a probabilidade de que o caso de entrada pertença ao cluster especificado.</span><span class="sxs-lookup"><span data-stu-id="c6eb9-296">Returns the probability that the input case belongs to the specified cluster.</span></span>|  
|[<span data-ttu-id="c6eb9-297">IsInNode &#40;DMX&#41;</span><span class="sxs-lookup"><span data-stu-id="c6eb9-297">IsInNode &#40;DMX&#41;</span></span>](/sql/dmx/isinnode-dmx)|<span data-ttu-id="c6eb9-298">Indica se o nó especificado contém o caso atual.</span><span class="sxs-lookup"><span data-stu-id="c6eb9-298">Indicates whether the specified node contains the current case.</span></span>|  
|[<span data-ttu-id="c6eb9-299">PredictAdjustedProbability &#40;DMX&#41;</span><span class="sxs-lookup"><span data-stu-id="c6eb9-299">PredictAdjustedProbability &#40;DMX&#41;</span></span>](/sql/dmx/predictadjustedprobability-dmx)|<span data-ttu-id="c6eb9-300">Retorna a probabilidade ajustada de um estado especificado.</span><span class="sxs-lookup"><span data-stu-id="c6eb9-300">Returns the adjusted probability of a specified state.</span></span>|  
|[<span data-ttu-id="c6eb9-301">PredictAssociation &#40;DMX&#41;</span><span class="sxs-lookup"><span data-stu-id="c6eb9-301">PredictAssociation &#40;DMX&#41;</span></span>](/sql/dmx/predictassociation-dmx)|<span data-ttu-id="c6eb9-302">Prevê associação de membro.</span><span class="sxs-lookup"><span data-stu-id="c6eb9-302">Predicts associative membership.</span></span>|  
|[<span data-ttu-id="c6eb9-303">PredictCaseLikelihood &#40;DMX&#41;</span><span class="sxs-lookup"><span data-stu-id="c6eb9-303">PredictCaseLikelihood &#40;DMX&#41;</span></span>](/sql/dmx/predictcaselikelihood-dmx)|<span data-ttu-id="c6eb9-304">Retorna a probabilidade de que um caso de entrada se ajuste ao modelo existente.</span><span class="sxs-lookup"><span data-stu-id="c6eb9-304">Returns the likelihood that an input case will fit in the existing model.</span></span>|  
|[<span data-ttu-id="c6eb9-305">PredictHistogram &#40;DMX&#41;</span><span class="sxs-lookup"><span data-stu-id="c6eb9-305">PredictHistogram &#40;DMX&#41;</span></span>](/sql/dmx/predicthistogram-dmx)|<span data-ttu-id="c6eb9-306">Retorna uma tabela que representa um histograma para a previsão de uma determinada coluna.</span><span class="sxs-lookup"><span data-stu-id="c6eb9-306">Returns a table that represents a histogram for the prediction of a given column.</span></span>|  
|[<span data-ttu-id="c6eb9-307">PredictNodeId &#40;DMX&#41;</span><span class="sxs-lookup"><span data-stu-id="c6eb9-307">PredictNodeId &#40;DMX&#41;</span></span>](/sql/dmx/predictnodeid-dmx)|<span data-ttu-id="c6eb9-308">Retorna o Node_ID do nó no qual o caso é classificado.</span><span class="sxs-lookup"><span data-stu-id="c6eb9-308">Returns the Node_ID of the node to which the case is classified.</span></span>|  
|[<span data-ttu-id="c6eb9-309">PredictProbability &#40;DMX&#41;</span><span class="sxs-lookup"><span data-stu-id="c6eb9-309">PredictProbability &#40;DMX&#41;</span></span>](/sql/dmx/predictprobability-dmx)|<span data-ttu-id="c6eb9-310">Retorna a probabilidade para um estado especificado.</span><span class="sxs-lookup"><span data-stu-id="c6eb9-310">Returns the probability for a specified state.</span></span>|  
|[<span data-ttu-id="c6eb9-311">PredictSequence &#40;DMX&#41;</span><span class="sxs-lookup"><span data-stu-id="c6eb9-311">PredictSequence &#40;DMX&#41;</span></span>](/sql/dmx/predictsequence-dmx)|<span data-ttu-id="c6eb9-312">Prediz valores de sequência futuros para um conjunto especificado de dados de sequência.</span><span class="sxs-lookup"><span data-stu-id="c6eb9-312">Predicts future sequence values for a specified set of sequence data.</span></span>|  
|[<span data-ttu-id="c6eb9-313">PredictStdev &#40;DMX&#41;</span><span class="sxs-lookup"><span data-stu-id="c6eb9-313">PredictStdev &#40;DMX&#41;</span></span>](/sql/dmx/predictstdev-dmx)|<span data-ttu-id="c6eb9-314">Retorna o desvio padrão previsto para a coluna especificada.</span><span class="sxs-lookup"><span data-stu-id="c6eb9-314">Returns the predicted standard deviation for the specified column.</span></span>|  
|[<span data-ttu-id="c6eb9-315">PredictSupport &#40;DMX&#41;</span><span class="sxs-lookup"><span data-stu-id="c6eb9-315">PredictSupport &#40;DMX&#41;</span></span>](/sql/dmx/predictsupport-dmx)|<span data-ttu-id="c6eb9-316">Retorna o valor de suporte para um estado especificado.</span><span class="sxs-lookup"><span data-stu-id="c6eb9-316">Returns the support value for a specified state.</span></span>|  
|[<span data-ttu-id="c6eb9-317">PredictVariance &#40;DMX&#41;</span><span class="sxs-lookup"><span data-stu-id="c6eb9-317">PredictVariance &#40;DMX&#41;</span></span>](/sql/dmx/predictvariance-dmx)|<span data-ttu-id="c6eb9-318">Retorna a variação de uma coluna especificada.</span><span class="sxs-lookup"><span data-stu-id="c6eb9-318">Returns the variance of a specified column.</span></span>|  
  
 <span data-ttu-id="c6eb9-319">Para obter uma lista das funções comuns a todos os algoritmos [!INCLUDE[msCoName](../../includes/msconame-md.md)], consulte [Funções de previsão gerais &#40;DMX&#41;](/sql/dmx/general-prediction-functions-dmx).</span><span class="sxs-lookup"><span data-stu-id="c6eb9-319">For a list of the functions that are common to all [!INCLUDE[msCoName](../../includes/msconame-md.md)] algorithms, see [General Prediction Functions &#40;DMX&#41;](/sql/dmx/general-prediction-functions-dmx).</span></span> <span data-ttu-id="c6eb9-320">Para obter a sintaxe de funções específicas, consulte [Referência de função de DMX &#40;extensões DMX&#41;](/sql/dmx/data-mining-extensions-dmx-function-reference).</span><span class="sxs-lookup"><span data-stu-id="c6eb9-320">For the syntax of specific functions, see [Data Mining Extensions &#40;DMX&#41; Function Reference](/sql/dmx/data-mining-extensions-dmx-function-reference).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="c6eb9-321">Consulte Também</span><span class="sxs-lookup"><span data-stu-id="c6eb9-321">See Also</span></span>  
 <span data-ttu-id="c6eb9-322">[Consultas de mineração de dados](data-mining-queries.md) </span><span class="sxs-lookup"><span data-stu-id="c6eb9-322">[Data Mining Queries](data-mining-queries.md) </span></span>  
 <span data-ttu-id="c6eb9-323">[Referência técnica do algoritmo Microsoft Sequence clustering](microsoft-sequence-clustering-algorithm-technical-reference.md) </span><span class="sxs-lookup"><span data-stu-id="c6eb9-323">[Microsoft Sequence Clustering Algorithm Technical Reference](microsoft-sequence-clustering-algorithm-technical-reference.md) </span></span>  
 <span data-ttu-id="c6eb9-324">[Algoritmo de clustering de sequência da Microsoft](microsoft-sequence-clustering-algorithm.md) </span><span class="sxs-lookup"><span data-stu-id="c6eb9-324">[Microsoft Sequence Clustering Algorithm](microsoft-sequence-clustering-algorithm.md) </span></span>  
 [<span data-ttu-id="c6eb9-325">Conteúdo do modelo de mineração para modelos de clustering de sequência &#40;Analysis Services – Data Mining&#41;</span><span class="sxs-lookup"><span data-stu-id="c6eb9-325">Mining Model Content for Sequence Clustering Models &#40;Analysis Services - Data Mining&#41;</span></span>](mining-model-content-for-sequence-clustering-models.md)  
  
  
