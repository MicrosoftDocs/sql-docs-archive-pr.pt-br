---
title: Criar um ambiente multisservidor | Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: ssms
ms.topic: conceptual
helpviewer_keywords:
- SQL Server Agent, multiserver environments
- master servers [SQL Server], about master servers
- target servers [SQL Server], about target servers
- multiserver environments [SQL Server]
ms.assetid: edc2b60d-15da-40a1-8ba3-f1d473366ee6
author: stevestein
ms.author: sstein
ms.openlocfilehash: a6920920aa603c615cdc5f84a34a93204842052d
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87683915"
---
# <a name="create-a-multiserver-environment"></a><span data-ttu-id="4ffda-102">Criar um ambiente multisservidor</span><span class="sxs-lookup"><span data-stu-id="4ffda-102">Create a Multiserver Environment</span></span>
  <span data-ttu-id="4ffda-103">A administração multisservidor requer a configuração de um servidor mestre (MSX) e de um ou mais servidores de destino (TSX).</span><span class="sxs-lookup"><span data-stu-id="4ffda-103">Multiserver administration requires that you set up a master server (MSX) and one or more target servers (TSX).</span></span> <span data-ttu-id="4ffda-104">Os trabalhos a serem processados em todos os servidores de destino são definidos primeiramente no servidor mestre e depois são baixados nos servidores de destino.</span><span class="sxs-lookup"><span data-stu-id="4ffda-104">Jobs that will be processed on all the target servers are first defined on the master server and then downloaded to the target servers.</span></span>  
  
 <span data-ttu-id="4ffda-105">Por padrão, a criptografia SSL completa e a validação de certificado são habilitadas para conexões entre servidores mestres e servidores de destino.</span><span class="sxs-lookup"><span data-stu-id="4ffda-105">By default, full Secure Sockets Layer (SSL) encryption and certificate validation are enabled for connections between master servers and target servers.</span></span> <span data-ttu-id="4ffda-106">Para obter mais informações, veja [Definir opções de criptografia em servidores de destino](set-encryption-options-on-target-servers.md).</span><span class="sxs-lookup"><span data-stu-id="4ffda-106">For more information, see [Set Encryption Options on Target Servers](set-encryption-options-on-target-servers.md).</span></span>  
  
 <span data-ttu-id="4ffda-107">Se você tiver um número grande de servidores de destino, evite definir seu servidor mestre em um servidor de produção que tenha requisitos de desempenho significantes de outra funcionalidade do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , porque o tráfego do servidor de destino pode reduzir o desempenho em seu servidor de produção.</span><span class="sxs-lookup"><span data-stu-id="4ffda-107">If you have a large number of target servers, avoid defining your master server on a production server that has significant performance requirements from other [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] functionality, because target server traffic can slow performance on your production server.</span></span> <span data-ttu-id="4ffda-108">Se também encaminhar eventos a um servidor mestre dedicado, você poderá centralizar a administração em um servidor.</span><span class="sxs-lookup"><span data-stu-id="4ffda-108">If you also forward events to a dedicated master server, you can centralize administration on one server.</span></span> <span data-ttu-id="4ffda-109">Para obter mais informações, consulte [Gerenciar eventos](manage-events.md).</span><span class="sxs-lookup"><span data-stu-id="4ffda-109">For more information, see [Manage Events](manage-events.md).</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="4ffda-110">Para usar processamento de trabalhos multisservidor, a conta de serviço do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent deve ser membro da função **TargetServersRole** do banco de dados **msdb** no servidor mestre.</span><span class="sxs-lookup"><span data-stu-id="4ffda-110">To use multiserver job processing, the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent service account must be a member of the **msdb** database role **TargetServersRole** on the master server.</span></span> <span data-ttu-id="4ffda-111">O Assistente de Servidor Mestre adiciona automaticamente a conta de serviço a essa função como parte do processo de inscrição</span><span class="sxs-lookup"><span data-stu-id="4ffda-111">The Master Server Wizard automatically adds the service account to this role as part of the enlistment process</span></span>  
  
## <a name="considerations-for-multiserver-environments"></a><span data-ttu-id="4ffda-112">Considerações para ambientes multisservidor</span><span class="sxs-lookup"><span data-stu-id="4ffda-112">Considerations for Multiserver Environments</span></span>  
 <span data-ttu-id="4ffda-113">Consulte a tabela abaixo para verificar as configurações de MSX/TSX suportadas.</span><span class="sxs-lookup"><span data-stu-id="4ffda-113">See the table below for supported MSX/TSX configurations.</span></span>  
  
||<span data-ttu-id="4ffda-114">**TSX = 7.0**</span><span class="sxs-lookup"><span data-stu-id="4ffda-114">**TSX = 7.0**</span></span>|<span data-ttu-id="4ffda-115">**TSX = 8,0 < SP3**</span><span class="sxs-lookup"><span data-stu-id="4ffda-115">**TSX = 8.0 < SP3**</span></span>|<span data-ttu-id="4ffda-116">**TSX = 8.0 SP3 ou posterior**</span><span class="sxs-lookup"><span data-stu-id="4ffda-116">**TSX = 8.0 SP3 or higher**</span></span>|<span data-ttu-id="4ffda-117">**TSX = 9.0**</span><span class="sxs-lookup"><span data-stu-id="4ffda-117">**TSX = 9.0**</span></span>|<span data-ttu-id="4ffda-118">**TSX = 10.0**</span><span class="sxs-lookup"><span data-stu-id="4ffda-118">**TSX= 10.0**</span></span>|<span data-ttu-id="4ffda-119">**TSX = 10.5**</span><span class="sxs-lookup"><span data-stu-id="4ffda-119">**TSX = 10.5**</span></span>|<span data-ttu-id="4ffda-120">**TSX = 11.0**</span><span class="sxs-lookup"><span data-stu-id="4ffda-120">**TSX = 11.0**</span></span>|  
|-|--------------------|---------------------------|----------------------------------|--------------------|--------------------|---------------------|---------------------|  
|<span data-ttu-id="4ffda-121">**MSX = 7.0**</span><span class="sxs-lookup"><span data-stu-id="4ffda-121">**MSX = 7.0**</span></span>|<span data-ttu-id="4ffda-122">Sim</span><span class="sxs-lookup"><span data-stu-id="4ffda-122">Yes</span></span>|<span data-ttu-id="4ffda-123">Sim</span><span class="sxs-lookup"><span data-stu-id="4ffda-123">Yes</span></span>|<span data-ttu-id="4ffda-124">Não</span><span class="sxs-lookup"><span data-stu-id="4ffda-124">No</span></span>|<span data-ttu-id="4ffda-125">Não</span><span class="sxs-lookup"><span data-stu-id="4ffda-125">No</span></span>|<span data-ttu-id="4ffda-126">Não</span><span class="sxs-lookup"><span data-stu-id="4ffda-126">No</span></span>|<span data-ttu-id="4ffda-127">Não</span><span class="sxs-lookup"><span data-stu-id="4ffda-127">No</span></span>|<span data-ttu-id="4ffda-128">Não</span><span class="sxs-lookup"><span data-stu-id="4ffda-128">No</span></span>|  
|<span data-ttu-id="4ffda-129">**MSX = 8,0 < SP3**</span><span class="sxs-lookup"><span data-stu-id="4ffda-129">**MSX = 8.0 < SP3**</span></span>|<span data-ttu-id="4ffda-130">Sim</span><span class="sxs-lookup"><span data-stu-id="4ffda-130">Yes</span></span>|<span data-ttu-id="4ffda-131">Sim</span><span class="sxs-lookup"><span data-stu-id="4ffda-131">Yes</span></span>|<span data-ttu-id="4ffda-132">Não</span><span class="sxs-lookup"><span data-stu-id="4ffda-132">No</span></span>|<span data-ttu-id="4ffda-133">Não</span><span class="sxs-lookup"><span data-stu-id="4ffda-133">No</span></span>|<span data-ttu-id="4ffda-134">Não</span><span class="sxs-lookup"><span data-stu-id="4ffda-134">No</span></span>|<span data-ttu-id="4ffda-135">Não</span><span class="sxs-lookup"><span data-stu-id="4ffda-135">No</span></span>|<span data-ttu-id="4ffda-136">Não</span><span class="sxs-lookup"><span data-stu-id="4ffda-136">No</span></span>|  
|<span data-ttu-id="4ffda-137">**MSX = 8.0 SP3 ou posterior**</span><span class="sxs-lookup"><span data-stu-id="4ffda-137">**MSX = 8.0 SP3 or higher**</span></span>|<span data-ttu-id="4ffda-138">Não</span><span class="sxs-lookup"><span data-stu-id="4ffda-138">No</span></span>|<span data-ttu-id="4ffda-139">Não</span><span class="sxs-lookup"><span data-stu-id="4ffda-139">No</span></span>|<span data-ttu-id="4ffda-140">Sim</span><span class="sxs-lookup"><span data-stu-id="4ffda-140">Yes</span></span>|<span data-ttu-id="4ffda-141">Sim</span><span class="sxs-lookup"><span data-stu-id="4ffda-141">Yes</span></span>|<span data-ttu-id="4ffda-142">Sim</span><span class="sxs-lookup"><span data-stu-id="4ffda-142">Yes</span></span>|<span data-ttu-id="4ffda-143">Sim</span><span class="sxs-lookup"><span data-stu-id="4ffda-143">Yes</span></span>|<span data-ttu-id="4ffda-144">Sim</span><span class="sxs-lookup"><span data-stu-id="4ffda-144">Yes</span></span>|  
|<span data-ttu-id="4ffda-145">**MSX = 9.0**</span><span class="sxs-lookup"><span data-stu-id="4ffda-145">**MSX = 9.0**</span></span>|<span data-ttu-id="4ffda-146">Não</span><span class="sxs-lookup"><span data-stu-id="4ffda-146">No</span></span>|<span data-ttu-id="4ffda-147">Não</span><span class="sxs-lookup"><span data-stu-id="4ffda-147">No</span></span>|<span data-ttu-id="4ffda-148">Não</span><span class="sxs-lookup"><span data-stu-id="4ffda-148">No</span></span>|<span data-ttu-id="4ffda-149">Sim</span><span class="sxs-lookup"><span data-stu-id="4ffda-149">Yes</span></span>|<span data-ttu-id="4ffda-150">Sim</span><span class="sxs-lookup"><span data-stu-id="4ffda-150">Yes</span></span>|<span data-ttu-id="4ffda-151">Sim</span><span class="sxs-lookup"><span data-stu-id="4ffda-151">Yes</span></span>|<span data-ttu-id="4ffda-152">Sim</span><span class="sxs-lookup"><span data-stu-id="4ffda-152">Yes</span></span>|  
|<span data-ttu-id="4ffda-153">**MSX = 10.0**</span><span class="sxs-lookup"><span data-stu-id="4ffda-153">**MSX = 10.0**</span></span>|<span data-ttu-id="4ffda-154">Não</span><span class="sxs-lookup"><span data-stu-id="4ffda-154">No</span></span>|<span data-ttu-id="4ffda-155">Não</span><span class="sxs-lookup"><span data-stu-id="4ffda-155">No</span></span>|<span data-ttu-id="4ffda-156">Não</span><span class="sxs-lookup"><span data-stu-id="4ffda-156">No</span></span>|<span data-ttu-id="4ffda-157">Não</span><span class="sxs-lookup"><span data-stu-id="4ffda-157">No</span></span>|<span data-ttu-id="4ffda-158">Sim</span><span class="sxs-lookup"><span data-stu-id="4ffda-158">Yes</span></span>|<span data-ttu-id="4ffda-159">Sim</span><span class="sxs-lookup"><span data-stu-id="4ffda-159">Yes</span></span>|<span data-ttu-id="4ffda-160">Sim</span><span class="sxs-lookup"><span data-stu-id="4ffda-160">Yes</span></span>|  
|<span data-ttu-id="4ffda-161">**MSX = 10.5**</span><span class="sxs-lookup"><span data-stu-id="4ffda-161">**MSX = 10.5**</span></span>|<span data-ttu-id="4ffda-162">Não</span><span class="sxs-lookup"><span data-stu-id="4ffda-162">No</span></span>|<span data-ttu-id="4ffda-163">Não</span><span class="sxs-lookup"><span data-stu-id="4ffda-163">No</span></span>|<span data-ttu-id="4ffda-164">Não</span><span class="sxs-lookup"><span data-stu-id="4ffda-164">No</span></span>|<span data-ttu-id="4ffda-165">Não</span><span class="sxs-lookup"><span data-stu-id="4ffda-165">No</span></span>|<span data-ttu-id="4ffda-166">Não</span><span class="sxs-lookup"><span data-stu-id="4ffda-166">No</span></span>|<span data-ttu-id="4ffda-167">Sim</span><span class="sxs-lookup"><span data-stu-id="4ffda-167">Yes</span></span>|<span data-ttu-id="4ffda-168">Sim</span><span class="sxs-lookup"><span data-stu-id="4ffda-168">Yes</span></span>|  
|<span data-ttu-id="4ffda-169">**MSX = 11.0**</span><span class="sxs-lookup"><span data-stu-id="4ffda-169">**MSX = 11.0**</span></span>|<span data-ttu-id="4ffda-170">Não</span><span class="sxs-lookup"><span data-stu-id="4ffda-170">No</span></span>|<span data-ttu-id="4ffda-171">Não</span><span class="sxs-lookup"><span data-stu-id="4ffda-171">No</span></span>|<span data-ttu-id="4ffda-172">Não</span><span class="sxs-lookup"><span data-stu-id="4ffda-172">No</span></span>|<span data-ttu-id="4ffda-173">Não</span><span class="sxs-lookup"><span data-stu-id="4ffda-173">No</span></span>|<span data-ttu-id="4ffda-174">Não</span><span class="sxs-lookup"><span data-stu-id="4ffda-174">No</span></span>|<span data-ttu-id="4ffda-175">Não</span><span class="sxs-lookup"><span data-stu-id="4ffda-175">No</span></span>|<span data-ttu-id="4ffda-176">Sim</span><span class="sxs-lookup"><span data-stu-id="4ffda-176">Yes</span></span>|  
  
 <span data-ttu-id="4ffda-177">Considere as seguintes questões ao criar um ambiente multisservidor:</span><span class="sxs-lookup"><span data-stu-id="4ffda-177">Consider the following issues when creating a multiserver environment:</span></span>  
  
-   <span data-ttu-id="4ffda-178">Cada servidor de destino se reporta a apenas um servidor mestre.</span><span class="sxs-lookup"><span data-stu-id="4ffda-178">Each target server reports to only one master server.</span></span> <span data-ttu-id="4ffda-179">Você deve remover um servidor de destino de um servidor mestre para poder inscrevê-lo em outro.</span><span class="sxs-lookup"><span data-stu-id="4ffda-179">You must defect a target server from one master server before you can enlist it into a different one.</span></span>  
  
-   <span data-ttu-id="4ffda-180">Para alterar o nome de um servidor de destino, primeiro você deve removê-lo antes de alterar o nome e reinscrevê-lo após a alteração.</span><span class="sxs-lookup"><span data-stu-id="4ffda-180">When changing the name of a target server, you must defect it before changing the name and re-enlist it after the change.</span></span>  
  
-   <span data-ttu-id="4ffda-181">Se desejar desmontar uma configuração multisservidor, você deve remover todos os servidores de destino do servidor mestre.</span><span class="sxs-lookup"><span data-stu-id="4ffda-181">If you want to dismantle a multiserver configuration, you must defect all the target servers from the master server.</span></span>  
  
-   <span data-ttu-id="4ffda-182">O SQL Server Integration Services oferece suporte apenas aos servidores de destino que têm a mesma versão ou maior que a versão do servidor mestre.</span><span class="sxs-lookup"><span data-stu-id="4ffda-182">SQL Server Integration Services only supports target servers that are the same version or higher than the master server version.</span></span>  
  
## <a name="related-tasks"></a><span data-ttu-id="4ffda-183">Related Tasks</span><span class="sxs-lookup"><span data-stu-id="4ffda-183">Related Tasks</span></span>  
 <span data-ttu-id="4ffda-184">Os tópicos a seguir documentam tarefas comuns de criação de um ambiente multisservidor.</span><span class="sxs-lookup"><span data-stu-id="4ffda-184">The following topics document common tasks for creating a multiserver environment.</span></span>  
  
|<span data-ttu-id="4ffda-185">Descrição</span><span class="sxs-lookup"><span data-stu-id="4ffda-185">Description</span></span>|<span data-ttu-id="4ffda-186">Tópico</span><span class="sxs-lookup"><span data-stu-id="4ffda-186">Topic</span></span>|  
|-----------------|-----------|  
|<span data-ttu-id="4ffda-187">Descreve como criar um servidor mestre.</span><span class="sxs-lookup"><span data-stu-id="4ffda-187">Describes how to create a master server.</span></span>|[<span data-ttu-id="4ffda-188">Criar um servidor mestre</span><span class="sxs-lookup"><span data-stu-id="4ffda-188">Make a Master Server</span></span>](make-a-master-server.md)|  
|<span data-ttu-id="4ffda-189">Descreve como criar um servidor de destino.</span><span class="sxs-lookup"><span data-stu-id="4ffda-189">Describes how to create a target server.</span></span>|[<span data-ttu-id="4ffda-190">Criar um servidor de destino</span><span class="sxs-lookup"><span data-stu-id="4ffda-190">Make a Target Server</span></span>](make-a-target-server.md)|  
|<span data-ttu-id="4ffda-191">Descreve como inscrever um servidor de destino em um servidor mestre.</span><span class="sxs-lookup"><span data-stu-id="4ffda-191">Describes how to enlist a target server into a master server.</span></span>|[<span data-ttu-id="4ffda-192">Inscrever um servidor de destino em um servidor mestre</span><span class="sxs-lookup"><span data-stu-id="4ffda-192">Enlist a Target Server to a Master Server</span></span>](enlist-a-target-server-to-a-master-server.md)|  
|<span data-ttu-id="4ffda-193">Descreve como cancelar a inscrição de um servidor de destino de um servidor mestre.</span><span class="sxs-lookup"><span data-stu-id="4ffda-193">Describes how to defect a target server from a master server.</span></span>|[<span data-ttu-id="4ffda-194">Defect a Target Server from a Master Server</span><span class="sxs-lookup"><span data-stu-id="4ffda-194">Defect a Target Server from a Master Server</span></span>](defect-a-target-server-from-a-master-server.md)|  
|<span data-ttu-id="4ffda-195">Descreve como cancelar a inscrição de vários servidores de destino de um servidor mestre.</span><span class="sxs-lookup"><span data-stu-id="4ffda-195">Describes how to defect multiple target servers from a master server.</span></span>|[<span data-ttu-id="4ffda-196">Remover vários servidores de destino de um servidor mestre</span><span class="sxs-lookup"><span data-stu-id="4ffda-196">Defect Multiple Target Servers from a Master Server</span></span>](defect-multiple-target-servers-from-a-master-server.md)|  
|<span data-ttu-id="4ffda-197">Descreve como verificar o status de um servidor de destino.</span><span class="sxs-lookup"><span data-stu-id="4ffda-197">Describes how to check the status of a target server.</span></span>|[<span data-ttu-id="4ffda-198">&#41;&#40;Transact-SQL de sp_help_targetserver</span><span class="sxs-lookup"><span data-stu-id="4ffda-198">sp_help_targetserver &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-stored-procedures/sp-help-targetserver-transact-sql)<br /><br /> [<span data-ttu-id="4ffda-199">&#41;&#40;Transact-SQL de sp_help_targetservergroup</span><span class="sxs-lookup"><span data-stu-id="4ffda-199">sp_help_targetservergroup &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-stored-procedures/sp-help-targetservergroup-transact-sql)|  
  
## <a name="see-also"></a><span data-ttu-id="4ffda-200">Consulte Também</span><span class="sxs-lookup"><span data-stu-id="4ffda-200">See Also</span></span>  
 [<span data-ttu-id="4ffda-201">Solucionar problemas de trabalhos com multisservidor que usam proxies</span><span class="sxs-lookup"><span data-stu-id="4ffda-201">Troubleshoot Multiserver Jobs That Use Proxies</span></span>](troubleshoot-multiserver-jobs-that-use-proxies.md)  
  
  
