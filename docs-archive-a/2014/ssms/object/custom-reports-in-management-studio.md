---
title: Relatórios personalizados no Management Studio | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: ssms
ms.topic: conceptual
f1_keywords:
- sql12.swb.summary.new.custom.report.f1
helpviewer_keywords:
- SQL Server Management Studio [SQL Server], custom reports
ms.assetid: 1ba3f758-f39b-4f5f-91ca-516cedc78979
author: stevestein
ms.author: sstein
ms.openlocfilehash: bc93157100738610c8576f0af40e75613c3cff62
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87568317"
---
# <a name="custom-reports-in-management-studio"></a><span data-ttu-id="d9307-102">Relatórios personalizados no Management Studio</span><span class="sxs-lookup"><span data-stu-id="d9307-102">Custom Reports in Management Studio</span></span>
  <span data-ttu-id="d9307-103">No [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)], muitos nós do Pesquisador de Objetos exibem um conjunto de relatórios padrão criados pela [!INCLUDE[msCoName](../../includes/msconame-md.md)].</span><span class="sxs-lookup"><span data-stu-id="d9307-103">In [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)], many Object Explorer nodes display a set of standard reports that are created by [!INCLUDE[msCoName](../../includes/msconame-md.md)].</span></span> <span data-ttu-id="d9307-104">Esses relatórios resumem as informações de servidor que costumam ser solicitadas.</span><span class="sxs-lookup"><span data-stu-id="d9307-104">These reports summarize typically requested server information.</span></span> <span data-ttu-id="d9307-105">Começando com o [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] Service Pack 2, os administradores podem executar relatórios personalizados que foram criados no [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)] do [!INCLUDE[ssManStudio](../../includes/ssmanstudio-md.md)].</span><span class="sxs-lookup"><span data-stu-id="d9307-105">Starting with [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] Service Pack 2, administrators can run custom reports that were created in [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)] from [!INCLUDE[ssManStudio](../../includes/ssmanstudio-md.md)].</span></span>  
  
## <a name="implementation"></a><span data-ttu-id="d9307-106">Implementação</span><span class="sxs-lookup"><span data-stu-id="d9307-106">Implementation</span></span>  
 <span data-ttu-id="d9307-107">Relatórios personalizados são armazenados como arquivos de definição de relatório (.rdl) e criados na linguagem RDL (Report Definition Language).</span><span class="sxs-lookup"><span data-stu-id="d9307-107">Custom reports are stored as report definition (.rdl) files and are created by using Report Definition Language (RDL).</span></span> <span data-ttu-id="d9307-108">A RDL contém informações de layout e recuperação de dados de um relatório no formato XML.</span><span class="sxs-lookup"><span data-stu-id="d9307-108">RDL contains data retrieval and layout information for a report in an XML format.</span></span> <span data-ttu-id="d9307-109">Ela consiste em um esquema aberto.</span><span class="sxs-lookup"><span data-stu-id="d9307-109">RDL is an open schema.</span></span> <span data-ttu-id="d9307-110">Os desenvolvedores podem estender a RDL com atributos e elementos adicionais.</span><span class="sxs-lookup"><span data-stu-id="d9307-110">Developers can extend RDL with additional attributes and elements.</span></span> <span data-ttu-id="d9307-111">Os relatórios podem executar qualquer instrução [!INCLUDE[tsql](../../includes/tsql-md.md)] válida dentro do relatório.</span><span class="sxs-lookup"><span data-stu-id="d9307-111">Reports can execute any valid [!INCLUDE[tsql](../../includes/tsql-md.md)] statement within the report.</span></span>  
  
 <span data-ttu-id="d9307-112">Se o Pesquisador de Objetos estiver conectado a um servidor, os relatórios personalizados poderão ser executados no contexto da seleção atual do Pesquisador de Objetos se fizerem referência a parâmetros de relatório desse nó.</span><span class="sxs-lookup"><span data-stu-id="d9307-112">If Object Explorer is connected to a server, custom reports can execute in the context of the current Object Explorer selection if the reports reference report parameters of that node.</span></span> <span data-ttu-id="d9307-113">Desse modo, um relatório pode usar o contexto atual (como o banco de dados atual) ou um contexto consistente (especificando, por exemplo, um banco de dados designado como parte da instrução [!INCLUDE[tsql](../../includes/tsql-md.md)] contida no relatório personalizado).</span><span class="sxs-lookup"><span data-stu-id="d9307-113">This enables a report to use the current context, such as the current database; or a consistent context, such as specifying a designated database as part of the [!INCLUDE[tsql](../../includes/tsql-md.md)] statement that is contained in the custom report.</span></span>  
  
## <a name="running-a-custom-report"></a><span data-ttu-id="d9307-114">Executando um relatório personalizado</span><span class="sxs-lookup"><span data-stu-id="d9307-114">Running a Custom Report</span></span>  
 <span data-ttu-id="d9307-115">É possível executar um relatório personalizado no [!INCLUDE[ssManStudio](../../includes/ssmanstudio-md.md)] das seguintes maneiras:</span><span class="sxs-lookup"><span data-stu-id="d9307-115">You can run a custom report in [!INCLUDE[ssManStudio](../../includes/ssmanstudio-md.md)] in the following ways:</span></span>  
  
-   <span data-ttu-id="d9307-116">Clique com o botão direito do mouse em um nó do Pesquisador de Objetos, aponte para **Relatórios** e clique em **Relatórios Personalizados**.</span><span class="sxs-lookup"><span data-stu-id="d9307-116">Right-click a node in Object Explorer, point to **Reports** and left-click **Custom Reports**.</span></span> <span data-ttu-id="d9307-117">Na caixa de diálogo **Abrir Arquivo** , localize uma pasta contendo arquivos .rdl e abra o arquivo de relatório apropriado.</span><span class="sxs-lookup"><span data-stu-id="d9307-117">In the **Open File** dialog box, locate a folder that contains .rdl files, and then open the appropriate report file.</span></span>  
  
-   <span data-ttu-id="d9307-118">Clique com o botão direito do mouse em um nó do Pesquisador de Objetos, aponte para **Relatórios**, aponte para **Relatórios Personalizados**e selecione um relatório personalizado na lista de arquivos usados mais recentemente.</span><span class="sxs-lookup"><span data-stu-id="d9307-118">Right-click a node in Object Explorer, point to **Reports**, point to **Custom Reports**, and then select a custom report from the most recently used file list.</span></span>  
  
## <a name="limitations"></a><span data-ttu-id="d9307-119">Limitações</span><span class="sxs-lookup"><span data-stu-id="d9307-119">Limitations</span></span>  
 <span data-ttu-id="d9307-120">Quando trabalhar com relatórios personalizados, leve em consideração estas limitações:</span><span class="sxs-lookup"><span data-stu-id="d9307-120">When you work with custom reports, consider the following limitations:</span></span>  
  
-   <span data-ttu-id="d9307-121">Para evitar a execução não intencional de código mal-intencionado, não é possível configurar o [!INCLUDE[ssManStudio](../../includes/ssmanstudio-md.md)] para executar um relatório automaticamente, mesmo que o sistema de arquivos esteja configurado para associar arquivos .rdl ao [!INCLUDE[ssManStudio](../../includes/ssmanstudio-md.md)].</span><span class="sxs-lookup"><span data-stu-id="d9307-121">To prevent the unintended execution of malicious code, [!INCLUDE[ssManStudio](../../includes/ssmanstudio-md.md)] cannot be configured to automatically run a report, even if the file system is configured to associate .rdl files with [!INCLUDE[ssManStudio](../../includes/ssmanstudio-md.md)].</span></span> <span data-ttu-id="d9307-122">Relatórios não podem ser executados programaticamente no [!INCLUDE[ssManStudio](../../includes/ssmanstudio-md.md)] e não podem ser executados da linha de comando através do [!INCLUDE[ssManStudio](../../includes/ssmanstudio-md.md)].</span><span class="sxs-lookup"><span data-stu-id="d9307-122">Reports cannot be programmatically executed in [!INCLUDE[ssManStudio](../../includes/ssmanstudio-md.md)] and cannot run from the command line through [!INCLUDE[ssManStudio](../../includes/ssmanstudio-md.md)].</span></span>  
  
-   <span data-ttu-id="d9307-123">Você pode executar relatórios personalizados em um contexto que não produza os valores esperados.</span><span class="sxs-lookup"><span data-stu-id="d9307-123">You can run custom reports in a context that does not produce the expected values.</span></span> <span data-ttu-id="d9307-124">Por exemplo, você pode executar um relatório sobre replicação no contexto de um banco de dados que não está envolvido na replicação ou pode executar um relatório como um usuário que não tem permissão para acessar as informações necessárias para gerar um relatório preciso.</span><span class="sxs-lookup"><span data-stu-id="d9307-124">For example, you can run a report about replication in the context of a database that is not involved in replication, or run a report as a user who does not have permission to access information that is required to generate an accurate report.</span></span> <span data-ttu-id="d9307-125">O criador do relatório personalizado é responsável pela validade da estrutura do relatório e seu contexto.</span><span class="sxs-lookup"><span data-stu-id="d9307-125">The creator of the custom report is responsible for the validity of the report structure and its context.</span></span>  
  
-   <span data-ttu-id="d9307-126">Não é possível adicionar um relatório personalizado à lista de relatórios padrão.</span><span class="sxs-lookup"><span data-stu-id="d9307-126">You cannot add a custom report to the list of standard reports.</span></span>  
  
-   <span data-ttu-id="d9307-127">O código processado pelo relatório pode afetar o desempenho do servidor.</span><span class="sxs-lookup"><span data-stu-id="d9307-127">The code processed by the report might affect server performance.</span></span>  
  
-   <span data-ttu-id="d9307-128">Relatórios personalizados não darão suporte a sub-relatórios.</span><span class="sxs-lookup"><span data-stu-id="d9307-128">Custom reports will not support subreports.</span></span>  
  
-   <span data-ttu-id="d9307-129">O texto de comando de cada consulta no relatório não deve ser definido por meio de uma expressão.</span><span class="sxs-lookup"><span data-stu-id="d9307-129">The command text for each query within the report must not be defined through an expression.</span></span>  
  
-   <span data-ttu-id="d9307-130">Todos os parâmetros de consulta usados em um comando (consulta) só podem fazer referência a um único parâmetro de relatório e não podem usar operadores de expressão.</span><span class="sxs-lookup"><span data-stu-id="d9307-130">Any query parameter that is used in a command (query) can only reference a single report parameter and cannot use any expression operators.</span></span>  
  
-   <span data-ttu-id="d9307-131">Só existe suporte para tipos de comandos de relatório (consultas) Texto e Procedimento Armazenado.</span><span class="sxs-lookup"><span data-stu-id="d9307-131">Only Text and Stored Procedure command types are supported for report commands (queries).</span></span>  
  
-   <span data-ttu-id="d9307-132">A estrutura de relatório não oferece nenhum escape de parâmetros para consultas.</span><span class="sxs-lookup"><span data-stu-id="d9307-132">The report framework does not provide any parameter escaping for the queries.</span></span> <span data-ttu-id="d9307-133">Os autores das consultas devem ter certeza de que suas consultas estão livres de ataques de injeção SQL.</span><span class="sxs-lookup"><span data-stu-id="d9307-133">Query authors must make sure that their queries are free from SQL injection attacks.</span></span>  
  
## <a name="managing-custom-reports"></a><span data-ttu-id="d9307-134">Gerenciando relatórios personalizados</span><span class="sxs-lookup"><span data-stu-id="d9307-134">Managing Custom Reports</span></span>  
 <span data-ttu-id="d9307-135">Os usuários que têm muitos relatórios personalizados devem organizá-los utilizando pastas do sistema de arquivos com permissões adequadas no sistema de arquivos NTFS.</span><span class="sxs-lookup"><span data-stu-id="d9307-135">We recommend that users who have many custom reports organize them by using file system folders that have appropriate NTFS file system permissions.</span></span>  
  
## <a name="permissions"></a><span data-ttu-id="d9307-136">Permissões</span><span class="sxs-lookup"><span data-stu-id="d9307-136">Permissions</span></span>  
 <span data-ttu-id="d9307-137">Relatórios personalizados executados usando as permissões do usuário atual.</span><span class="sxs-lookup"><span data-stu-id="d9307-137">Custom reports run by using the permissions of the current user.</span></span> <span data-ttu-id="d9307-138">Para impedir que um usuário mal-intencionado altere as consultas executadas pelo relatório, as permissões na pasta do sistema de arquivos que contém os arquivos de relatório devem ser definidas com acesso restrito.</span><span class="sxs-lookup"><span data-stu-id="d9307-138">To prevent a malicious user from changing the queries run by the report, permissions on the file system folder that contains the report files should be set to restrict access.</span></span>  
  
 <span data-ttu-id="d9307-139">O usuário e a conta utilizada pelo serviço [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] exigem acesso de leitura na pasta do sistema de arquivos que contém os arquivos de relatório.</span><span class="sxs-lookup"><span data-stu-id="d9307-139">Both the user and the account that is used by the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] service require read access to the file system folder that contains the report files.</span></span>  
  
 <span data-ttu-id="d9307-140">Qualquer comando [!INCLUDE[dnprdnshort](../../includes/dnprdnshort-md.md)] válido pode ser inserido em um relatório, mas o comando não será executado.</span><span class="sxs-lookup"><span data-stu-id="d9307-140">Any valid [!INCLUDE[dnprdnshort](../../includes/dnprdnshort-md.md)] command can be embedded in a report, but the command will not be executed.</span></span>  
  
> [!CAUTION]  
>  <span data-ttu-id="d9307-141">Qualquer instrução [!INCLUDE[tsql](../../includes/tsql-md.md)] válida pode ser inserida em um relatório e executada dele.</span><span class="sxs-lookup"><span data-stu-id="d9307-141">Any valid [!INCLUDE[tsql](../../includes/tsql-md.md)] statement can be embedded in and executed from a report.</span></span> <span data-ttu-id="d9307-142">Quando um relatório é executado utilizando-se uma conta de usuário com altos privilégios, qualquer uma dessas instruções inseridas pode ser executada sem desafio.</span><span class="sxs-lookup"><span data-stu-id="d9307-142">Running a report under a high-privileged user account makes it possible for any of these embedded instructions to execute without challenge.</span></span>  
  

  
## <a name="see-also"></a><span data-ttu-id="d9307-143">Consulte Também</span><span class="sxs-lookup"><span data-stu-id="d9307-143">See Also</span></span>  
 <span data-ttu-id="d9307-144">[Adicionar um relatório personalizado a Management Studio](add-a-custom-report-to-management-studio.md) </span><span class="sxs-lookup"><span data-stu-id="d9307-144">[Add a Custom Report to Management Studio](add-a-custom-report-to-management-studio.md) </span></span>  
 <span data-ttu-id="d9307-145">[Cancelar supressão de executar avisos de relatório personalizado](unsuppress-run-custom-report-warnings.md) </span><span class="sxs-lookup"><span data-stu-id="d9307-145">[Unsuppress Run Custom Report Warnings](unsuppress-run-custom-report-warnings.md) </span></span>  
 [<span data-ttu-id="d9307-146">Usar relatórios personalizados com propriedades de nó do Pesquisador de Objetos</span><span class="sxs-lookup"><span data-stu-id="d9307-146">Use Custom Reports with Object Explorer Node Properties</span></span>](use-custom-reports-with-object-explorer-node-properties.md)  
  
  
