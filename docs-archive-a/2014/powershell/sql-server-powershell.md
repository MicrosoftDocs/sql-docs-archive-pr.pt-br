---
title: SQL Server PowerShell | Microsoft Docs
ms.custom: ''
ms.date: 01/19/2019
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: scripting
ms.topic: conceptual
ms.assetid: 89b70725-bbe7-4ffe-a27d-2a40005a97e7
author: stevestein
ms.author: sstein
ms.openlocfilehash: 87b4a21bf46bb27fba604c81af633576da6342c9
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87680510"
---
# <a name="sql-server-powershell"></a><span data-ttu-id="bc50d-102">SQL Server PowerShell</span><span class="sxs-lookup"><span data-stu-id="bc50d-102">SQL Server PowerShell</span></span>
  [!INCLUDE[ssCurrent](../includes/sscurrent-md.md)] <span data-ttu-id="bc50d-103">oferece suporte ao Windows PowerShell, que é um shell de geração de script avançado que permite aos administradores e desenvolvedores automatizarem a administração de servidor e a implantação de aplicativo.</span><span class="sxs-lookup"><span data-stu-id="bc50d-103">supports Windows PowerShell, which is a powerful scripting shell that lets administrators and developers automate server administration and application deployment.</span></span> <span data-ttu-id="bc50d-104">A linguagem do Windows PowerShell suporta uma lógica mais complexa que os scripts [!INCLUDE[tsql](../includes/tsql-md.md)] , fornecendo aos administradores do [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] a capacidade de criar scripts de administração avançados.</span><span class="sxs-lookup"><span data-stu-id="bc50d-104">The Windows PowerShell language supports more complex logic than [!INCLUDE[tsql](../includes/tsql-md.md)] scripts, giving [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] administrators the ability to build robust administration scripts.</span></span> <span data-ttu-id="bc50d-105">Os scripts do Windows PowerShell também podem ser usados para administrar outros produtos de servidor do [!INCLUDE[msCoName](../includes/msconame-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="bc50d-105">Windows PowerShell scripts can also be used to administer other [!INCLUDE[msCoName](../includes/msconame-md.md)] server products.</span></span> <span data-ttu-id="bc50d-106">Isso fornece aos administradores uma linguagem de criação de scripts comum aos servidores.</span><span class="sxs-lookup"><span data-stu-id="bc50d-106">This gives administrators a common scripting language across servers.</span></span>  
  
## <a name="sql-server-powershell-components"></a><span data-ttu-id="bc50d-107">Componentes do SQL Server PowerShell</span><span class="sxs-lookup"><span data-stu-id="bc50d-107">SQL Server PowerShell Components</span></span>  
 <span data-ttu-id="bc50d-108">O [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] fornece um módulo de Windows PowerShell nomeado `sqlps` que é usado para importar os componentes [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] em um ambiente de Windows PowerShell 2.0 ou script.</span><span class="sxs-lookup"><span data-stu-id="bc50d-108">[!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] provides a Windows PowerShell module named `sqlps` that is used to import the [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] components into a Windows PowerShell 2.0 environment or script.</span></span> <span data-ttu-id="bc50d-109">O módulo `sqlps` carrega dois snap-ins do Windows PowerShell que implementam:</span><span class="sxs-lookup"><span data-stu-id="bc50d-109">The `sqlps` module loads two Windows PowerShell snap-ins that implement:</span></span>  
  
-   <span data-ttu-id="bc50d-110">Um provedor do [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] , que ativa um mecanismo de navegação simples semelhante aos caminhos de sistema de arquivos.</span><span class="sxs-lookup"><span data-stu-id="bc50d-110">A [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] provider, which enables a simple navigation mechanism similar to file system paths.</span></span> <span data-ttu-id="bc50d-111">É possível criar caminhos semelhantes aos caminhos de sistema de arquivos, onde a unidade é associada ao modelo de objeto de gerenciamento do [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] e os nós baseiam-se nas classes de modelo do objeto.</span><span class="sxs-lookup"><span data-stu-id="bc50d-111">You can build paths similar to file system paths, where the drive is associated with a [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] management object model, and the nodes are based on the object model classes.</span></span> <span data-ttu-id="bc50d-112">Você pode usar os comandos conhecidos, como **cd** e **dir** , para navegar pelos caminhos de maneira semelhante à forma como navega pelas pastas em uma janela do prompt de comando.</span><span class="sxs-lookup"><span data-stu-id="bc50d-112">You can then use familiar commands such as **cd** and **dir** to navigate the paths similar to the way you navigate folders in a command prompt window.</span></span> <span data-ttu-id="bc50d-113">Também pode usar outros comandos, como **ren** ou **del**, para executar ações nos nós no caminho.</span><span class="sxs-lookup"><span data-stu-id="bc50d-113">You can use other commands, such as **ren** or **del**, to perform actions on the nodes in the path.</span></span>  
  
-   <span data-ttu-id="bc50d-114">Um conjunto de cmdlets, que são comandos usados em scripts do Windows PowerShell para especificar uma ação do [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="bc50d-114">A set of cmdlets, which are commands used in Windows PowerShell scripts to specify a [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] action.</span></span> <span data-ttu-id="bc50d-115">Os cmdlets do [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] dão suporte a ações, como a execução de um script **sqlcmd** que contém instruções [!INCLUDE[tsql](../includes/tsql-md.md)] ou XQuery.</span><span class="sxs-lookup"><span data-stu-id="bc50d-115">The [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] cmdlets support actions such as running a **sqlcmd** script containing [!INCLUDE[tsql](../includes/tsql-md.md)] or XQuery statements.</span></span>  
  
 <span data-ttu-id="bc50d-116">Para saber mais sobre o Windows PowerShell, consulte o [Guia de Introdução do Windows PowerShell](https://msdn.microsoft.com/library/hh857337.aspx).</span><span class="sxs-lookup"><span data-stu-id="bc50d-116">To learn about Windows PowerShell, see the [Windows PowerShell Getting Started Guide](https://msdn.microsoft.com/library/hh857337.aspx).</span></span>  
  
## <a name="sql-server-versions"></a><span data-ttu-id="bc50d-117">Versões do SQL Server</span><span class="sxs-lookup"><span data-stu-id="bc50d-117">SQL Server Versions</span></span>  
 <span data-ttu-id="bc50d-118">Os componentes do [!INCLUDE[ssCurrent](../includes/sscurrent-md.md)] PowerShell podem ser usados para gerenciar instâncias do [!INCLUDE[ssVersion2000](../includes/ssversion2000-md.md)] ou posterior.</span><span class="sxs-lookup"><span data-stu-id="bc50d-118">The [!INCLUDE[ssCurrent](../includes/sscurrent-md.md)] PowerShell components can be used to manage instances of [!INCLUDE[ssVersion2000](../includes/ssversion2000-md.md)] or later.</span></span> <span data-ttu-id="bc50d-119">Instâncias do [!INCLUDE[ssVersion2005](../includes/ssversion2005-md.md)] devem estar executando o SP2 ou posterior.</span><span class="sxs-lookup"><span data-stu-id="bc50d-119">Instances of [!INCLUDE[ssVersion2005](../includes/ssversion2005-md.md)] must be running SP2 or later.</span></span> <span data-ttu-id="bc50d-120">Instâncias do [!INCLUDE[ssVersion2000](../includes/ssversion2000-md.md)] devem estar executando o SP4 ou posterior.</span><span class="sxs-lookup"><span data-stu-id="bc50d-120">Instances of [!INCLUDE[ssVersion2000](../includes/ssversion2000-md.md)] must be running SP4 or later.</span></span> <span data-ttu-id="bc50d-121">Quando os componentes do [!INCLUDE[ssCurrent](../includes/sscurrent-md.md)] PowerShell são usados com versões anteriores do [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)], eles ficam limitados à funcionalidade disponível nessas versões.</span><span class="sxs-lookup"><span data-stu-id="bc50d-121">When the [!INCLUDE[ssCurrent](../includes/sscurrent-md.md)] PowerShell components are used with earlier versions of [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)], they are limited to the functionality available in those versions.</span></span>  
  
## <a name="sql-server-powershell-tasks"></a><span data-ttu-id="bc50d-122">Tarefas do SQL Server PowerShell</span><span class="sxs-lookup"><span data-stu-id="bc50d-122">SQL Server PowerShell Tasks</span></span>  
  
|<span data-ttu-id="bc50d-123">Descrição da tarefa</span><span class="sxs-lookup"><span data-stu-id="bc50d-123">Task Description</span></span>|<span data-ttu-id="bc50d-124">Tópico</span><span class="sxs-lookup"><span data-stu-id="bc50d-124">Topic</span></span>|  
|----------------------|-----------|  
|<span data-ttu-id="bc50d-125">Descreve o mecanismo preferido para executar componentes do [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] PowerShell; para abrir uma sessão do PowerShell e carregar o módulo `sqlps`.</span><span class="sxs-lookup"><span data-stu-id="bc50d-125">Describes the preferred mechanism for running the [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] PowerShell components; to open a PowerShell session and load the `sqlps` module.</span></span> <span data-ttu-id="bc50d-126">O módulo `sqlps` carrega o provedor e os cmdlets do [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] PowerShell, e os assemblies SMO (SQL Server Management Object) usados pelo provedor e cmdlets.</span><span class="sxs-lookup"><span data-stu-id="bc50d-126">The `sqlps` module loads in the [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] PowerShell provider and cmdlets, and the SQL Server Management Object (SMO) assemblies used by the provider and cmdlets.</span></span>|[<span data-ttu-id="bc50d-127">Importar o módulo SQLPS</span><span class="sxs-lookup"><span data-stu-id="bc50d-127">Import the SQLPS Module</span></span>](../database-engine/import-the-sqlps-module.md)|  
|<span data-ttu-id="bc50d-128">Descreve como carregar apenas os assemblies SMO sem o provedor ou cmdlets.</span><span class="sxs-lookup"><span data-stu-id="bc50d-128">Describes how to load only the SMO assemblies without the provider or cmdlets.</span></span>|[<span data-ttu-id="bc50d-129">Carregar os assemblies SMO no Windows PowerShell</span><span class="sxs-lookup"><span data-stu-id="bc50d-129">Load the SMO Assemblies in Windows PowerShell</span></span>](load-the-smo-assemblies-in-windows-powershell.md)|  
|<span data-ttu-id="bc50d-130">Descreve como executar uma sessão do Windows PowerShell clicando com o botão direito do mouse em um nó no **Pesquisador de Objeto**.</span><span class="sxs-lookup"><span data-stu-id="bc50d-130">Describes how to run a Windows PowerShell session by right-clicking a node in **Object Explorer**.</span></span> [!INCLUDE[ssManStudio](../includes/ssmanstudio-md.md)]<span data-ttu-id="bc50d-131">inicia uma sessão do Windows PowerShell, carrega o `sqlps` módulo e define o caminho do provedor de SQL Server para o objeto selecionado.</span><span class="sxs-lookup"><span data-stu-id="bc50d-131">launches a Windows PowerShell session, loads the `sqlps` module, and sets the SQL Server provider path to the object selected.</span></span>|[<span data-ttu-id="bc50d-132">Executar o Windows PowerShell no SQL Server Management Studio</span><span class="sxs-lookup"><span data-stu-id="bc50d-132">Run Windows PowerShell from SQL Server Management Studio</span></span>](run-windows-powershell-from-sql-server-management-studio.md)|  
|<span data-ttu-id="bc50d-133">Descreve como criar as etapas de trabalho do SQL Server Agent que executam um script do Windows PowerShell.</span><span class="sxs-lookup"><span data-stu-id="bc50d-133">Describes how to create SQL Server Agent job steps that run a Windows PowerShell script.</span></span> <span data-ttu-id="bc50d-134">Os trabalhos podem ser agendados para execução em horários específicos ou em resposta a eventos.</span><span class="sxs-lookup"><span data-stu-id="bc50d-134">The jobs can then be scheduled to run at specific times or in response to events.</span></span>|[<span data-ttu-id="bc50d-135">Executar etapas do Windows PowerShell no SQL Server Agent</span><span class="sxs-lookup"><span data-stu-id="bc50d-135">Run Windows PowerShell Steps in SQL Server Agent</span></span>](run-windows-powershell-steps-in-sql-server-agent.md)|  
|<span data-ttu-id="bc50d-136">Descreve como usar o provedor do [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] para navegar por uma hierarquia de objetos do [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="bc50d-136">Describes how to use the [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] provider to navigate a hierarchy of [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] objects.</span></span>|[<span data-ttu-id="bc50d-137">Provedor do SQL Server PowerShell</span><span class="sxs-lookup"><span data-stu-id="bc50d-137">SQL Server PowerShell Provider</span></span>](sql-server-powershell-provider.md)|  
|<span data-ttu-id="bc50d-138">Descreve como usar o cmdlets [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] que especifica ações [!INCLUDE[ssDE](../includes/ssde-md.md)] como executar um script [!INCLUDE[tsql](../includes/tsql-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="bc50d-138">Describes how to use the [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] cmdlets that specify [!INCLUDE[ssDE](../includes/ssde-md.md)] actions such as running a [!INCLUDE[tsql](../includes/tsql-md.md)] script.</span></span>|[<span data-ttu-id="bc50d-139">Usar cmdlets do Mecanismo de Banco de Dados</span><span class="sxs-lookup"><span data-stu-id="bc50d-139">Use the Database Engine cmdlets</span></span>](../database-engine/use-the-database-engine-cmdlets.md)|  
|<span data-ttu-id="bc50d-140">Descreve como especificar identificadores delimitados do [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] que contêm caracteres sem suporte do Windows PowerShell.</span><span class="sxs-lookup"><span data-stu-id="bc50d-140">Describes how to specify [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] delimited identifiers that contain characters not supported by Windows PowerShell.</span></span>|[<span data-ttu-id="bc50d-141">Identificadores do SQL Server no PowerShell</span><span class="sxs-lookup"><span data-stu-id="bc50d-141">SQL Server Identifiers in PowerShell</span></span>](sql-server-identifiers-in-powershell.md)|  
|<span data-ttu-id="bc50d-142">Descreve como fazer conexões para Autenticação do SQL Server.</span><span class="sxs-lookup"><span data-stu-id="bc50d-142">Describes how to make SQL Server Authentication connections.</span></span> <span data-ttu-id="bc50d-143">Por padrão, os componentes do SQL Server PowerShell usam conexões de Autenticação do Windows que usam as credenciais do Windows do processo que executa o Windows PowerShell.</span><span class="sxs-lookup"><span data-stu-id="bc50d-143">By default, the SQL Server PowerShell components use Windows Authentication connections using the Windows credentials of the process running Windows PowerShell.</span></span>|[<span data-ttu-id="bc50d-144">Gerenciar a autenticação no Mecanismo de Banco de Dados com o PowerShell</span><span class="sxs-lookup"><span data-stu-id="bc50d-144">Manage Authentication in Database Engine PowerShell</span></span>](manage-authentication-in-database-engine-powershell.md)|  
|<span data-ttu-id="bc50d-145">Descreve como usar variáveis implementadas pelo provedor do SQL Server PowerShell para controlar quantos objetos são listados ao usar a conclusão de guia do Windows PowerShell.</span><span class="sxs-lookup"><span data-stu-id="bc50d-145">Describes how to use variables implemented by the SQL Server PowerShell provider to control how many objects are listed when using Windows PowerShell tab completion.</span></span> <span data-ttu-id="bc50d-146">Isso é particularmente útil ao trabalhar em bancos de dados que contêm um grande número de objetos.</span><span class="sxs-lookup"><span data-stu-id="bc50d-146">This is particularly useful when working on databases that contain large numbers of objects.</span></span>|[<span data-ttu-id="bc50d-147">Gerenciar preenchimento com Tab &#40;SQL Server PowerShell&#41;</span><span class="sxs-lookup"><span data-stu-id="bc50d-147">Manage Tab Completion &#40;SQL Server PowerShell&#41;</span></span>](manage-tab-completion-sql-server-powershell.md)|  
|<span data-ttu-id="bc50d-148">Descreve como usar o Get-Help para obter informações sobre componentes do [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] no ambiente Windows PowerShell.</span><span class="sxs-lookup"><span data-stu-id="bc50d-148">Describes how to use Get-Help to get information about the [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] components in the Windows PowerShell environment.</span></span>|[<span data-ttu-id="bc50d-149">Get Help SQL Server PowerShell</span><span class="sxs-lookup"><span data-stu-id="bc50d-149">Get Help SQL Server PowerShell</span></span>](../database-engine/get-help-sql-server-powershell.md)|  
  
  
