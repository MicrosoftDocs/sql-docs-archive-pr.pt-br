---
title: SQL Server, objeto Espelhamento de Banco de Dados | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: performance
ms.topic: conceptual
helpviewer_keywords:
- SQLServer:Database Mirroring
- database mirroring [SQL Server], performance counters
- performance counters [SQL Server], database mirroring
- Database Mirroring object
ms.assetid: a27b51ee-7637-4525-9424-bcc16947dc13
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: 4d4b1b9af5bced6933745d4214d3abcc15af4a60
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87576301"
---
# <a name="sql-server-database-mirroring-object"></a><span data-ttu-id="66ba5-102">SQL Server, objeto Database Mirroring</span><span class="sxs-lookup"><span data-stu-id="66ba5-102">SQL Server, Database Mirroring Object</span></span>
  <span data-ttu-id="66ba5-103">O objeto de desempenho **SQLServer:Database Mirroring** contém contadores de desempenho que relatam informações sobre o espelhamento de banco de dados do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="66ba5-103">The **SQLServer:Database Mirroring** performance object contains performance counters that report information about [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] database mirroring.</span></span> <span data-ttu-id="66ba5-104">A tabela a seguir lista os contadores contidos nesse objeto.</span><span class="sxs-lookup"><span data-stu-id="66ba5-104">The table below lists the counters that this object contains.</span></span>  
  
|<span data-ttu-id="66ba5-105">Nome</span><span class="sxs-lookup"><span data-stu-id="66ba5-105">Name</span></span>|<span data-ttu-id="66ba5-106">Descrição</span><span class="sxs-lookup"><span data-stu-id="66ba5-106">Description</span></span>|  
|----------|-----------------|  
|<span data-ttu-id="66ba5-107">**Bytes Recebidos/s**</span><span class="sxs-lookup"><span data-stu-id="66ba5-107">**Bytes Received/sec**</span></span>|<span data-ttu-id="66ba5-108">Número de bytes recebidos por segundo.</span><span class="sxs-lookup"><span data-stu-id="66ba5-108">Number of bytes received per second.</span></span>|  
|<span data-ttu-id="66ba5-109">**Bytes Enviados/s**</span><span class="sxs-lookup"><span data-stu-id="66ba5-109">**Bytes Sent/sec**</span></span>|<span data-ttu-id="66ba5-110">Número de bytes enviados por segundo.</span><span class="sxs-lookup"><span data-stu-id="66ba5-110">Number of bytes sent per second.</span></span>|  
|<span data-ttu-id="66ba5-111">**Bytes de Log Recebidos/s**</span><span class="sxs-lookup"><span data-stu-id="66ba5-111">**Log Bytes Received/sec**</span></span>|<span data-ttu-id="66ba5-112">Número de bytes de log recebidos por segundo.</span><span class="sxs-lookup"><span data-stu-id="66ba5-112">Number of bytes of log received per second.</span></span>|  
|<span data-ttu-id="66ba5-113">**Bytes de Log Refeitos do Cache/s**</span><span class="sxs-lookup"><span data-stu-id="66ba5-113">**Log Bytes Redone from Cache/sec**</span></span>|<span data-ttu-id="66ba5-114">Número de bytes de log refeitos, obtidos do cache de log de espelhamento, no último segundo.</span><span class="sxs-lookup"><span data-stu-id="66ba5-114">Number of redone log bytes that were obtained from the mirroring log cache, in the last second.</span></span><br /><br /> <span data-ttu-id="66ba5-115">Este contador é usado somente no servidor espelho.</span><span class="sxs-lookup"><span data-stu-id="66ba5-115">This counter is used on only the mirror server.</span></span> <span data-ttu-id="66ba5-116">No servidor principal o valor é sempre 0.</span><span class="sxs-lookup"><span data-stu-id="66ba5-116">On the principal server the value is always 0.</span></span>|  
|<span data-ttu-id="66ba5-117">**Bytes de Log Enviados do Cache/s**</span><span class="sxs-lookup"><span data-stu-id="66ba5-117">**Log Bytes Sent from Cache/sec**</span></span>|<span data-ttu-id="66ba5-118">Número de bytes de log enviados obtidos do cache de log de espelhamento, no último segundo.</span><span class="sxs-lookup"><span data-stu-id="66ba5-118">Number of sent log bytes that were obtained from the mirroring log cache, in the last second.</span></span><br /><br /> <span data-ttu-id="66ba5-119">Este contador é usado somente no servidor de principal.</span><span class="sxs-lookup"><span data-stu-id="66ba5-119">This counter is used on only the principal server.</span></span> <span data-ttu-id="66ba5-120">No servidor espelho o valor é sempre 0.</span><span class="sxs-lookup"><span data-stu-id="66ba5-120">On the mirror server the value is always 0.</span></span>|  
|<span data-ttu-id="66ba5-121">**Bytes de Log Enviados/s**</span><span class="sxs-lookup"><span data-stu-id="66ba5-121">**Log Bytes Sent/sec**</span></span>|<span data-ttu-id="66ba5-122">Número de bytes de log enviados por segundo.</span><span class="sxs-lookup"><span data-stu-id="66ba5-122">Number of bytes of log sent per second.</span></span>|  
|<span data-ttu-id="66ba5-123">**Bytes Compactados de Log Recebidos/s**</span><span class="sxs-lookup"><span data-stu-id="66ba5-123">**Log Compressed Bytes Rcvd/sec**</span></span>|<span data-ttu-id="66ba5-124">Número de bytes de log compactados recebidos, no último segundo.</span><span class="sxs-lookup"><span data-stu-id="66ba5-124">Number of compressed bytes of log received, in the last second.</span></span>|  
|<span data-ttu-id="66ba5-125">**Bytes Compactados de Log Enviados/s**</span><span class="sxs-lookup"><span data-stu-id="66ba5-125">**Log Compressed Bytes Sent/sec**</span></span>|<span data-ttu-id="66ba5-126">Número de bytes de log compactados enviados, no último segundo.</span><span class="sxs-lookup"><span data-stu-id="66ba5-126">Number of compressed bytes of log sent, in the last second.</span></span>|  
|<span data-ttu-id="66ba5-127">**Tempo de Intensificação do Log (ms)**</span><span class="sxs-lookup"><span data-stu-id="66ba5-127">**Log Harden Time (ms)**</span></span>|<span data-ttu-id="66ba5-128">Milissegundos que os blocos de log aguardaram para serem intensificados no disco, no último segundo.</span><span class="sxs-lookup"><span data-stu-id="66ba5-128">Milliseconds that log blocks waited to be hardened to disk, in the last second.</span></span>|  
|<span data-ttu-id="66ba5-129">**KB de Log Restante para Desfazer**</span><span class="sxs-lookup"><span data-stu-id="66ba5-129">**Log Remaining for Undo KB**</span></span>|<span data-ttu-id="66ba5-130">Total de quilobytes de log que permanecem para serem verificados pelo novo servidor espelho após failover.</span><span class="sxs-lookup"><span data-stu-id="66ba5-130">Total kilobytes of log that remain to be scanned by the new mirror server after failover.</span></span><br /><br /> <span data-ttu-id="66ba5-131">Este contador é usado somente no servidor espelho durante a fase de desfazer.</span><span class="sxs-lookup"><span data-stu-id="66ba5-131">This counter is used on only the mirror server during the undo phase.</span></span> <span data-ttu-id="66ba5-132">Após a conclusão da fase de desfazer, o contador é redefinido para  0.</span><span class="sxs-lookup"><span data-stu-id="66ba5-132">After the undo phase completes, the counter is reset to 0.</span></span> <span data-ttu-id="66ba5-133">No servidor principal o valor é sempre 0.</span><span class="sxs-lookup"><span data-stu-id="66ba5-133">On the principal server the value is always 0.</span></span>|  
|<span data-ttu-id="66ba5-134">**KB de Log Verificado para Desfazer**</span><span class="sxs-lookup"><span data-stu-id="66ba5-134">**Log Scanned for Undo KB**</span></span>|<span data-ttu-id="66ba5-135">Total de quilobytes de log que foram verificados pelo novo servidor espelho desde a failover.</span><span class="sxs-lookup"><span data-stu-id="66ba5-135">Total kilobytes of log that have been scanned by the new mirror server since failover.</span></span><br /><br /> <span data-ttu-id="66ba5-136">Este contador é usado somente no servidor espelho durante a fase de desfazer.</span><span class="sxs-lookup"><span data-stu-id="66ba5-136">This counter is used on only the mirror server during the undo phase.</span></span> <span data-ttu-id="66ba5-137">Após a conclusão da fase de desfazer, o contador é redefinido para  0.</span><span class="sxs-lookup"><span data-stu-id="66ba5-137">After the undo phase completes, the counter is reset to 0.</span></span> <span data-ttu-id="66ba5-138">No servidor principal o valor é sempre 0.</span><span class="sxs-lookup"><span data-stu-id="66ba5-138">On the principal server the value is always 0.</span></span>|  
|<span data-ttu-id="66ba5-139">**Tempo de Controle de Fluxo de Envio do Log**</span><span class="sxs-lookup"><span data-stu-id="66ba5-139">**Log Send Flow Control Time (ms)**</span></span>|<span data-ttu-id="66ba5-140">Milissegundos que as mensagens do fluxo de log aguardaram para envio de controle de fluxo, no último segundo.</span><span class="sxs-lookup"><span data-stu-id="66ba5-140">Milliseconds that log stream messages waited for send flow control, in the last second.</span></span><br /><br /> <span data-ttu-id="66ba5-141">O envio de dados de log e metadados ao parceiro de espelhamento é a operação mais intensiva de dados em um espelhamento de banco de dados e pode monopolizar os buffers de envio do espelhamento de banco de dados e do Service Broker.</span><span class="sxs-lookup"><span data-stu-id="66ba5-141">Sending log data and metadata to the mirroring partner is the most data-intensive operation in database mirroring and might monopolize the database mirroring and Service Broker send buffers.</span></span> <span data-ttu-id="66ba5-142">Use este contador para monitorar o uso deste buffer por meio da sessão de espelhamento de banco de dados.</span><span class="sxs-lookup"><span data-stu-id="66ba5-142">Use this counter to monitor the use of this buffer by the database mirroring session.</span></span>|  
|<span data-ttu-id="66ba5-143">**KB da Fila de Envio de Log**</span><span class="sxs-lookup"><span data-stu-id="66ba5-143">**Log Send Queue KB**</span></span>|<span data-ttu-id="66ba5-144">Número total de quilobytes de log que ainda não foram enviados ao servidor espelho.</span><span class="sxs-lookup"><span data-stu-id="66ba5-144">Total number of kilobytes of log that have not yet been sent to the mirror server.</span></span>|  
|<span data-ttu-id="66ba5-145">**Transações de Gravação Espelhadas/s**</span><span class="sxs-lookup"><span data-stu-id="66ba5-145">**Mirrored Write Transactions/sec**</span></span>|<span data-ttu-id="66ba5-146">Número de transações que foram gravadas no banco de dados espelho e aguardaram que o espelho enviasse o log para confirmar, no último segundo.</span><span class="sxs-lookup"><span data-stu-id="66ba5-146">Number of transactions that wrote to the mirrored database and waited for the log to be sent to the mirror in order to commit, in the last second.</span></span><br /><br /> <span data-ttu-id="66ba5-147">Este contador só é incrementado quando o servidor principal estiver enviando ativamente registros de log ao servidor espelho.</span><span class="sxs-lookup"><span data-stu-id="66ba5-147">This counter is incremented only when the principal server is actively sending log records to the mirror server.</span></span>|  
|<span data-ttu-id="66ba5-148">**Páginas Enviadas/s**</span><span class="sxs-lookup"><span data-stu-id="66ba5-148">**Pages Sent/sec**</span></span>|<span data-ttu-id="66ba5-149">Número de páginas enviadas por segundo.</span><span class="sxs-lookup"><span data-stu-id="66ba5-149">Number of pages sent per second.</span></span>|  
|<span data-ttu-id="66ba5-150">**Recebimentos/s**</span><span class="sxs-lookup"><span data-stu-id="66ba5-150">**Receives/sec**</span></span>|<span data-ttu-id="66ba5-151">Número de mensagens espelhadas recebidas por segundo.</span><span class="sxs-lookup"><span data-stu-id="66ba5-151">Number of mirroring messages received per second.</span></span>|  
|<span data-ttu-id="66ba5-152">**Refazer Bytes/s**</span><span class="sxs-lookup"><span data-stu-id="66ba5-152">**Redo Bytes/sec**</span></span>|<span data-ttu-id="66ba5-153">Número de bytes de log no qual foi efetuado roll forward no banco de dados espelho por segundo.</span><span class="sxs-lookup"><span data-stu-id="66ba5-153">Number of bytes of log rolled forward on the mirror database per second.</span></span>|  
|<span data-ttu-id="66ba5-154">**Refazer KB da Fila**</span><span class="sxs-lookup"><span data-stu-id="66ba5-154">**Redo Queue KB**</span></span>|<span data-ttu-id="66ba5-155">Número total de quilobytes de log intensificados que permanecem atualmente para serem aplicados para que o banco de dados espelho possa ser avançado.</span><span class="sxs-lookup"><span data-stu-id="66ba5-155">Total number of kilobytes of hardened log that currently remain to be applied to the mirror database to roll it forward.</span></span> <span data-ttu-id="66ba5-156">Isto é enviado ao principal a partir do espelho.</span><span class="sxs-lookup"><span data-stu-id="66ba5-156">This is sent to the Principal from the Mirror.</span></span>|  
|<span data-ttu-id="66ba5-157">**Enviar/Receber Tempo de Confirmação**</span><span class="sxs-lookup"><span data-stu-id="66ba5-157">**Send/Receive Ack Time**</span></span>|<span data-ttu-id="66ba5-158">Milissegundos que as mensagens aguardaram pela confirmação do parceiro, no último segundo.</span><span class="sxs-lookup"><span data-stu-id="66ba5-158">Milliseconds that messages waited for acknowledgement from the partner, in the last second.</span></span><br /><br /> <span data-ttu-id="66ba5-159">Este contador é útil para solucionar um problema que pode ser causado por um gargalo na rede, como failovers inexplicáveis, grandes filas de envio ou alta latência de transação.</span><span class="sxs-lookup"><span data-stu-id="66ba5-159">This counter is helpful in troubleshooting a problem that might be caused by a network bottleneck, such as unexplained failovers, a large send queue, or high transaction latency.</span></span> <span data-ttu-id="66ba5-160">Nestes casos, você pode analisar o valor deste contador para determinar se a rede está causando o problema.</span><span class="sxs-lookup"><span data-stu-id="66ba5-160">In such cases, you can analyze the value of this counter to determine whether the network is causing the problem.</span></span>|  
|<span data-ttu-id="66ba5-161">**Envios/s**</span><span class="sxs-lookup"><span data-stu-id="66ba5-161">**Sends/sec**</span></span>|<span data-ttu-id="66ba5-162">Número de mensagens espelhadas enviadas por segundo.</span><span class="sxs-lookup"><span data-stu-id="66ba5-162">Number of mirroring messages sent per second.</span></span>|  
|<span data-ttu-id="66ba5-163">**Atraso na Transação**</span><span class="sxs-lookup"><span data-stu-id="66ba5-163">**Transaction Delay**</span></span>|<span data-ttu-id="66ba5-164">Atraso na espera por reconhecimento de confirmação não terminado.</span><span class="sxs-lookup"><span data-stu-id="66ba5-164">Delay in waiting for unterminated commit acknowledgement.</span></span>|  
  
> [!NOTE]  
>  <span data-ttu-id="66ba5-165">Em cada parceiro, alguns dos contadores mostram um valor zero dependendo de qual função o parceiro desempenha atualmente.</span><span class="sxs-lookup"><span data-stu-id="66ba5-165">On each partner, some of the counters show a zero value depending on what role the partner is currently performing.</span></span>  
  
## <a name="remarks"></a><span data-ttu-id="66ba5-166">Comentários</span><span class="sxs-lookup"><span data-stu-id="66ba5-166">Remarks</span></span>  
 <span data-ttu-id="66ba5-167">Os contadores de desempenho permitem que você monitore o desempenho de espelhamento de banco de dados.</span><span class="sxs-lookup"><span data-stu-id="66ba5-167">The performance counters let you monitor database mirroring performance.</span></span> <span data-ttu-id="66ba5-168">Por exemplo, você pode examinar o contador **Atraso na Transação** para verificar se o espelhamento de banco de dados está afetando o desempenho do servidor principal, você pode examinar os contadores **Fila de Restauração** e **Fila de Envio de Log** para verificar como o banco de dados espelho está se comportando em relação ao banco de dados principal.</span><span class="sxs-lookup"><span data-stu-id="66ba5-168">For example, you can examine the **Transaction Delay** counter to see if database mirroring is impacting performance on the principal server, you can examine the **Redo Queue** and **Log Send Queue** counters to see how well the mirror database is keeping up with the principal database.</span></span> <span data-ttu-id="66ba5-169">Você pode examinar o contador **Bytes de Log Enviados/s** para monitorar a quantidade de logs enviados por segundo.</span><span class="sxs-lookup"><span data-stu-id="66ba5-169">You can examine the **Log Bytes Sent/sec** counter to monitor the amount of log sent per second.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="66ba5-170">Consulte Também</span><span class="sxs-lookup"><span data-stu-id="66ba5-170">See Also</span></span>  
 [<span data-ttu-id="66ba5-171">Monitorar o uso de recursos &#40;Monitor do Sistema&#41;</span><span class="sxs-lookup"><span data-stu-id="66ba5-171">Monitor Resource Usage &#40;System Monitor&#41;</span></span>](monitor-resource-usage-system-monitor.md)  
  
  
