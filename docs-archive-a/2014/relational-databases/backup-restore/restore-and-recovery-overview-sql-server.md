---
title: Visão geral da restauração e recuperação (SQL Server) | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: backup-restore
ms.topic: conceptual
helpviewer_keywords:
- restoring tables [SQL Server]
- backups [SQL Server], restore scenarios
- database backups [SQL Server], restore scenarios
- database restores [SQL Server]
- restoring [SQL Server]
- restores [SQL Server]
- table restores [SQL Server]
- restoring databases [SQL Server], about restoring databases
- database restores [SQL Server], scenarios
ms.assetid: e985c9a6-4230-4087-9fdb-de8571ba5a5f
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: 2b8f032dce4f2eb09ef80cfa8c6333de2d563a81
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87683565"
---
# <a name="restore-and-recovery-overview-sql-server"></a><span data-ttu-id="26ad9-102">Visão geral da restauração e recuperação (SQL Server)</span><span class="sxs-lookup"><span data-stu-id="26ad9-102">Restore and Recovery Overview (SQL Server)</span></span>
  <span data-ttu-id="26ad9-103">Para recuperar um banco de dados do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] de uma falha, um administrador de banco de dados precisa restaurar um conjunto de backups do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] em uma sequência de restauração logicamente correta e significativa.</span><span class="sxs-lookup"><span data-stu-id="26ad9-103">To recover a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] database from a failure, a database administrator has to restore a set of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] backups in a logically correct and meaningful restore sequence.</span></span> [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="26ad9-104">dá suporte à restauração de dados de backups de um banco de dados inteiro, um arquivo de dados ou uma página de dados, como segue:</span><span class="sxs-lookup"><span data-stu-id="26ad9-104">restore and recovery supports restoring data from backups of a whole database, a data file, or a data page, as follows:</span></span>  
  
-   <span data-ttu-id="26ad9-105">O banco de dados (uma *restauração completa do banco de dados*)</span><span class="sxs-lookup"><span data-stu-id="26ad9-105">The database (a *complete database restore*)</span></span>  
  
     <span data-ttu-id="26ad9-106">Todo o banco de dados é restaurado e recuperado e o banco de dados fica offline durante as operações de restauração e recuperação.</span><span class="sxs-lookup"><span data-stu-id="26ad9-106">The whole database is restored and recovered, and the database is offline for the duration of the restore and recovery operations.</span></span>  
  
-   <span data-ttu-id="26ad9-107">O arquivo de dados (uma *restauração de arquivo*)</span><span class="sxs-lookup"><span data-stu-id="26ad9-107">The data file (a *file restore*)</span></span>  
  
     <span data-ttu-id="26ad9-108">Um arquivo de dados ou um conjunto de arquivos é restaurado e recuperado.</span><span class="sxs-lookup"><span data-stu-id="26ad9-108">A data file or a set of files is restored and recovered.</span></span> <span data-ttu-id="26ad9-109">Durante uma operação de restauração de arquivo, os grupos de arquivos que contêm os arquivos ficam automaticamente offline.</span><span class="sxs-lookup"><span data-stu-id="26ad9-109">During a file restore, the filegroups that contain the files are automatically offline for the duration of the restore.</span></span> <span data-ttu-id="26ad9-110">Qualquer tentativa de acessar um grupo de arquivos offline gera um erro.</span><span class="sxs-lookup"><span data-stu-id="26ad9-110">Any attempt to access an offline filegroup causes an error.</span></span>  
  
-   <span data-ttu-id="26ad9-111">A página de dados (uma *restauração de página*)</span><span class="sxs-lookup"><span data-stu-id="26ad9-111">The data page (a *page restore*)</span></span>  
  
     <span data-ttu-id="26ad9-112">Você pode restaurar bancos de dados específicos por meio do modelo de recuperação completa ou do modelo de recuperação bulk-logged.</span><span class="sxs-lookup"><span data-stu-id="26ad9-112">Under the full recovery model or bulk-logged recovery model, you can restore individual databases.</span></span> <span data-ttu-id="26ad9-113">As restaurações de página podem ser executadas em qualquer banco de dados, seja qual for o número de grupos de arquivos.</span><span class="sxs-lookup"><span data-stu-id="26ad9-113">Page restores can be performed on any database, regardless of the number of filegroups.</span></span>  
  
 <span data-ttu-id="26ad9-114">O backup e a restauração do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] funcionam em todos os sistemas operacionais com suporte, sejam eles sistemas de 64 ou 32 bits.</span><span class="sxs-lookup"><span data-stu-id="26ad9-114">[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] backup and restore work across all supported operating systems, whether they are 64-bit or 32-bit systems.</span></span> <span data-ttu-id="26ad9-115">Para obter informações sobre os sistemas operacionais com suporte, consulte [requisitos de hardware e software para a instalação do SQL Server 2014](../../sql-server/install/hardware-and-software-requirements-for-installing-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="26ad9-115">For information about the supported operating systems, see [Hardware and Software Requirements for Installing SQL Server 2014](../../sql-server/install/hardware-and-software-requirements-for-installing-sql-server.md).</span></span> <span data-ttu-id="26ad9-116">Para obter informações sobre suporte para backups de versões anteriores do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], veja a seção “Suporte de compatibilidade” de [RESTORE &#40;Transact-SQL&#41;](/sql/t-sql/statements/restore-statements-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="26ad9-116">For information about support for backups from earlier versions of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], see the "Compatibility Support" section of [RESTORE &#40;Transact-SQL&#41;](/sql/t-sql/statements/restore-statements-transact-sql).</span></span>  
  
 <span data-ttu-id="26ad9-117">**Neste tópico:**</span><span class="sxs-lookup"><span data-stu-id="26ad9-117">**In this Topic:**</span></span>  
  
-   [<span data-ttu-id="26ad9-118">Visão geral dos cenários de restauração</span><span class="sxs-lookup"><span data-stu-id="26ad9-118">Overview of Restore Scenarios</span></span>](#RestoreScenariosOv)  
  
-   [<span data-ttu-id="26ad9-119">Modelos de recuperação e operações de restauração com suporte</span><span class="sxs-lookup"><span data-stu-id="26ad9-119">Recovery Models and Supported Restore Operations</span></span>](#RMsAndSupportedRestoreOps)  
  
-   [<span data-ttu-id="26ad9-120">Restrições de restauração no modelo de recuperação simples</span><span class="sxs-lookup"><span data-stu-id="26ad9-120">Restore Restrictions Under the Simple Recovery Model</span></span>](#RMsimpleScenarios)  
  
-   [<span data-ttu-id="26ad9-121">Restaurar no modelo de recuperação bulk-logged</span><span class="sxs-lookup"><span data-stu-id="26ad9-121">Restore Under the Bulk-Logged Recovery Model</span></span>](#RMblogRestore)  
  
-   [<span data-ttu-id="26ad9-122">Orientador de recuperação de banco de dados (SQL Server Management Studio)</span><span class="sxs-lookup"><span data-stu-id="26ad9-122">Database Recovery Advisor (SQL Server Management Studio)</span></span>](#DRA)  
  
-   [<span data-ttu-id="26ad9-123">Conteúdo relacionado</span><span class="sxs-lookup"><span data-stu-id="26ad9-123">Related Content</span></span>](#RelatedContent)  
  
##  <a name="overview-of-restore-scenarios"></a><a name="RestoreScenariosOv"></a> <span data-ttu-id="26ad9-124">Visão geral de cenários de restauração</span><span class="sxs-lookup"><span data-stu-id="26ad9-124">Overview of Restore Scenarios</span></span>  
 <span data-ttu-id="26ad9-125">Um *cenário de restauração* no [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] é o processo de restauração de dados de um ou mais backups seguida da recuperação do banco de dados.</span><span class="sxs-lookup"><span data-stu-id="26ad9-125">A *restore scenario* in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] is the process of restoring data from one or more backups and then recovering the database.</span></span> <span data-ttu-id="26ad9-126">Os cenários de restauração com suporte dependem do modelo de recuperação do banco de dados e da versão do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="26ad9-126">The supported restore scenarios depend on the recovery model of the database and the edition of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span>  
  
 <span data-ttu-id="26ad9-127">A tabela abaixo descreve os possíveis cenários de restauração que têm suporte para diversos modelos de recuperação.</span><span class="sxs-lookup"><span data-stu-id="26ad9-127">The following table introduces the possible restore scenarios that are supported for different recovery models.</span></span>  
  
|<span data-ttu-id="26ad9-128">cenário de restauração</span><span class="sxs-lookup"><span data-stu-id="26ad9-128">Restore scenario</span></span>|<span data-ttu-id="26ad9-129">Modelo de recuperação simples</span><span class="sxs-lookup"><span data-stu-id="26ad9-129">Under simple recovery model</span></span>|<span data-ttu-id="26ad9-130">Modelos de recuperação completa e com log de operações em massa</span><span class="sxs-lookup"><span data-stu-id="26ad9-130">Under full/bulk-logged recovery models</span></span>|  
|----------------------|---------------------------------|----------------------------------------------|  
|<span data-ttu-id="26ad9-131">restauração completa do banco de dados</span><span class="sxs-lookup"><span data-stu-id="26ad9-131">Complete database restore</span></span>|<span data-ttu-id="26ad9-132">Esta é a estratégia básica de restauração.</span><span class="sxs-lookup"><span data-stu-id="26ad9-132">This is the basic restore strategy.</span></span> <span data-ttu-id="26ad9-133">Uma restauração completa do banco de dados pode envolver simplesmente a restauração e recuperação do backup completo do banco de dados.</span><span class="sxs-lookup"><span data-stu-id="26ad9-133">A complete database restore might involve simply restoring and recovering a full database backup.</span></span> <span data-ttu-id="26ad9-134">Alternativamente, uma restauração completa do banco de dados pode envolver a restauração do banco de dados completo seguida pela restauração e recuperação de um backup diferencial.</span><span class="sxs-lookup"><span data-stu-id="26ad9-134">Alternatively, a complete database restore might involve restoring a full database backup followed by restoring and recovering a differential backup.</span></span><br /><br /> <span data-ttu-id="26ad9-135">Para obter mais informações, veja [Restaurações completas de banco de dados &#40;Modelo de recuperação simples&#41;](complete-database-restores-simple-recovery-model.md).</span><span class="sxs-lookup"><span data-stu-id="26ad9-135">For more information, see [Complete Database Restores &#40;Simple Recovery Model&#41;](complete-database-restores-simple-recovery-model.md).</span></span>|<span data-ttu-id="26ad9-136">Esta é a estratégia básica de restauração.</span><span class="sxs-lookup"><span data-stu-id="26ad9-136">This is the basic restore strategy.</span></span> <span data-ttu-id="26ad9-137">Uma restauração completa do banco de dados envolve a restauração de um backup completo do banco e, opcionalmente, de um backup diferencial (se houver), seguida da restauração de todos os backups de logs subsequentes (em sequência).</span><span class="sxs-lookup"><span data-stu-id="26ad9-137">A complete database restore involve restoring a full database backup and, optionally, a differential backup (if any), followed by restoring all subsequent log backups (in sequence).</span></span> <span data-ttu-id="26ad9-138">A restauração completa do banco de dados termina com a recuperação do último backup de log e também com sua restauração (RESTORE WITH RECOVERY).</span><span class="sxs-lookup"><span data-stu-id="26ad9-138">The complete database restore is finished by recovering the last log backup and also restoring it (RESTORE WITH RECOVERY).</span></span><br /><br /> <span data-ttu-id="26ad9-139">Para obter mais informações, veja [Restaurações completas de banco de dados &#40;Modelo de recuperação completa&#41;](complete-database-restores-full-recovery-model.md).</span><span class="sxs-lookup"><span data-stu-id="26ad9-139">For more information, see [Complete Database Restores &#40;Full Recovery Model&#41;](complete-database-restores-full-recovery-model.md)</span></span>|  
|<span data-ttu-id="26ad9-140">File restore **\***</span><span class="sxs-lookup"><span data-stu-id="26ad9-140">File restore **\***</span></span>|<span data-ttu-id="26ad9-141">Restaura um ou mais arquivos somente leitura danificados, sem restaurar todo o banco de dados.</span><span class="sxs-lookup"><span data-stu-id="26ad9-141">Restore one or more damaged read-only files, without restoring the entire database.</span></span> <span data-ttu-id="26ad9-142">A restauração de arquivo só estará disponível se o banco de dados tiver pelo menos um grupo de arquivos somente leitura.</span><span class="sxs-lookup"><span data-stu-id="26ad9-142">File restore is available only if the database has at least one read-only filegroup.</span></span>|<span data-ttu-id="26ad9-143">Restaura um ou mais arquivos, sem restaurar todo o banco de dados.</span><span class="sxs-lookup"><span data-stu-id="26ad9-143">Restores one or more files, without restoring the entire database.</span></span> <span data-ttu-id="26ad9-144">A restauração de arquivo pode ser executada enquanto o banco de dados estiver offline ou, em algumas edições do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], enquanto o banco de dados permanece online.</span><span class="sxs-lookup"><span data-stu-id="26ad9-144">File restore can be performed while the database is offline or, for some editions of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], while the database remains online.</span></span> <span data-ttu-id="26ad9-145">Durante uma restauração de arquivo, os grupos de arquivos que contêm os arquivos que estão sendo restaurados sempre estão offline.</span><span class="sxs-lookup"><span data-stu-id="26ad9-145">During a file restore, the filegroups that contain the files that are being restored are always offline.</span></span>|  
|<span data-ttu-id="26ad9-146">Restauração de página</span><span class="sxs-lookup"><span data-stu-id="26ad9-146">Page restore</span></span>|<span data-ttu-id="26ad9-147">Não aplicável</span><span class="sxs-lookup"><span data-stu-id="26ad9-147">Not applicable</span></span>|<span data-ttu-id="26ad9-148">Restaura uma ou mais páginas danificadas.</span><span class="sxs-lookup"><span data-stu-id="26ad9-148">Restores one or more damaged pages.</span></span> <span data-ttu-id="26ad9-149">A restauração de página pode ser executada enquanto o banco de dados estiver offline ou, em algumas edições do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], enquanto o banco de dados permanece online.</span><span class="sxs-lookup"><span data-stu-id="26ad9-149">Page restore can be performed while the database is offline or, for some editions of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], while the database remains online.</span></span> <span data-ttu-id="26ad9-150">Durante uma restauração de página, as páginas que estão sendo restauradas sempre estão offline.</span><span class="sxs-lookup"><span data-stu-id="26ad9-150">During a page restore, the pages that are being restored are always offline.</span></span><br /><br /> <span data-ttu-id="26ad9-151">Uma cadeia ininterrupta de backups de log deve estar disponível, até o arquivo de log atual, e todos eles devem ser aplicados para tornar a página atualizada com o arquivo de log atual.</span><span class="sxs-lookup"><span data-stu-id="26ad9-151">An unbroken chain of log backups must be available, up to the current log file, and they must all be applied to bring the page up to date with the current log file.</span></span><br /><br /> <span data-ttu-id="26ad9-152">Para obter mais informações, veja [Restaurar páginas &#40;SQL Server&#41;](restore-pages-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="26ad9-152">For more information, see [Restore Pages &#40;SQL Server&#41;](restore-pages-sql-server.md).</span></span>|  
|<span data-ttu-id="26ad9-153">Restauração por etapas **\***</span><span class="sxs-lookup"><span data-stu-id="26ad9-153">Piecemeal restore **\***</span></span>|<span data-ttu-id="26ad9-154">Restaura e recupera o banco de dados em fases no nível do grupo de arquivos, iniciando com o grupo de arquivos primário e todos os grupos de arquivos de gravação/leitura secundários.</span><span class="sxs-lookup"><span data-stu-id="26ad9-154">Restore and recover the database in stages at the filegroup level, starting with the primary and all read/write, secondary filegroups.</span></span>|<span data-ttu-id="26ad9-155">Restaura e recupera o banco de dados em fases no nível do grupo de arquivos, iniciando com o grupo de arquivos primário.</span><span class="sxs-lookup"><span data-stu-id="26ad9-155">Restore and recover the database in stages at the filegroup level, starting with the primary filegroup.</span></span>|  
  
 <span data-ttu-id="26ad9-156">**\*** Há suporte para a restauração online somente na edição Enterprise.</span><span class="sxs-lookup"><span data-stu-id="26ad9-156">**\*** Online restore is supported only in the Enterprise edition.</span></span>  
  
 <span data-ttu-id="26ad9-157">Independentemente de como os dados são restaurados, antes que um banco de dados possa ser recuperado, o [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)] garante que todo o banco de dados é logicamente consistente.</span><span class="sxs-lookup"><span data-stu-id="26ad9-157">Regardless of how data is restored, before a database can be recovered, the [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)] guarantees that the whole database is logically consistent.</span></span> <span data-ttu-id="26ad9-158">Por exemplo, se você restaurar um arquivo, não poderá recuperá-lo e colocá-lo online enquanto ele não for rolado para frente o suficiente para estar consistente com o banco de dados.</span><span class="sxs-lookup"><span data-stu-id="26ad9-158">For example, if you restore a file, you cannot recover it and bring it online until it has been rolled far enough forward to be consistent with the database.</span></span>  
  
### <a name="advantages-of-a-file-or-page-restore"></a><span data-ttu-id="26ad9-159">Vantagens de uma restauração de arquivo ou página</span><span class="sxs-lookup"><span data-stu-id="26ad9-159">Advantages of a File or Page Restore</span></span>  
 <span data-ttu-id="26ad9-160">A restauração e recuperação de arquivos ou páginas, ao invés de todo o banco de dados, oferece as seguintes vantagens:</span><span class="sxs-lookup"><span data-stu-id="26ad9-160">Restoring and recovering files or pages, instead of the whole database, provides the following advantages:</span></span>  
  
-   <span data-ttu-id="26ad9-161">Restaurar menos dados diminui o tempo necessário para copiar e recuperar o banco de dados.</span><span class="sxs-lookup"><span data-stu-id="26ad9-161">Restoring less data reduces the time required to copy and recover it.</span></span>  
  
-   <span data-ttu-id="26ad9-162">No [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , a restauração de arquivos ou páginas pode permitir que outros dados no banco de dados permaneçam online durante a operação de restauração.</span><span class="sxs-lookup"><span data-stu-id="26ad9-162">On [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] restoring files or pages might allow other data in the database to remain online during the restore operation.</span></span>  
  
##  <a name="recovery-models-and-supported-restore-operations"></a><a name="RMsAndSupportedRestoreOps"></a><span data-ttu-id="26ad9-163">Modelos de recuperação e operações de restauração com suporte</span><span class="sxs-lookup"><span data-stu-id="26ad9-163">Recovery Models and Supported Restore Operations</span></span>  
 <span data-ttu-id="26ad9-164">As operações de restauração disponíveis para um banco de dados dependem de seu modelo de recuperação.</span><span class="sxs-lookup"><span data-stu-id="26ad9-164">The restore operations that are available for a database depend on its recovery model.</span></span> <span data-ttu-id="26ad9-165">A tabela abaixo resume se e qual extensão cada um dos modelos de recuperação suporta um determinado cenário de restauração.</span><span class="sxs-lookup"><span data-stu-id="26ad9-165">The following table summarizes whether and to what extent each of the recovery models supports a given restore scenario.</span></span>  
  
|<span data-ttu-id="26ad9-166">Operação de restauração</span><span class="sxs-lookup"><span data-stu-id="26ad9-166">Restore operation</span></span>|<span data-ttu-id="26ad9-167">Modelo de recuperação completa</span><span class="sxs-lookup"><span data-stu-id="26ad9-167">Full recovery model</span></span>|<span data-ttu-id="26ad9-168">Modelo de recuperação bulk-logged</span><span class="sxs-lookup"><span data-stu-id="26ad9-168">Bulk-logged recovery model</span></span>|<span data-ttu-id="26ad9-169">Modelo de recuperação simples</span><span class="sxs-lookup"><span data-stu-id="26ad9-169">Simple recovery model</span></span>|  
|-----------------------|-------------------------|---------------------------------|---------------------------|  
|<span data-ttu-id="26ad9-170">Recuperação de dados</span><span class="sxs-lookup"><span data-stu-id="26ad9-170">Data recovery</span></span>|<span data-ttu-id="26ad9-171">Recuperação completa (se o log estiver disponível).</span><span class="sxs-lookup"><span data-stu-id="26ad9-171">Complete recovery (if the log is available).</span></span>|<span data-ttu-id="26ad9-172">Exposição a alguma perda de dados.</span><span class="sxs-lookup"><span data-stu-id="26ad9-172">Some data-loss exposure.</span></span>|<span data-ttu-id="26ad9-173">Quaisquer dados desde o último backup completo ou diferencial serão perdidos.</span><span class="sxs-lookup"><span data-stu-id="26ad9-173">Any data since last full or differential backup is lost.</span></span>|  
|<span data-ttu-id="26ad9-174">Restauração em um momento determinado</span><span class="sxs-lookup"><span data-stu-id="26ad9-174">Point-in-time restore</span></span>|<span data-ttu-id="26ad9-175">Qualquer período coberto pelos backups de log.</span><span class="sxs-lookup"><span data-stu-id="26ad9-175">Any time covered by the log backups.</span></span>|<span data-ttu-id="26ad9-176">Não permitido se o backup de log contiver quaisquer alterações com log de alteração em massa.</span><span class="sxs-lookup"><span data-stu-id="26ad9-176">Disallowed if the log backup contains any bulk-logged changes.</span></span>|<span data-ttu-id="26ad9-177">Sem suporte.</span><span class="sxs-lookup"><span data-stu-id="26ad9-177">Not supported.</span></span>|  
|<span data-ttu-id="26ad9-178">File restore **\***</span><span class="sxs-lookup"><span data-stu-id="26ad9-178">File restore **\***</span></span>|<span data-ttu-id="26ad9-179">Suporte completo.</span><span class="sxs-lookup"><span data-stu-id="26ad9-179">Full support.</span></span>|<span data-ttu-id="26ad9-180">Às vezes. **\*\***</span><span class="sxs-lookup"><span data-stu-id="26ad9-180">Sometimes.**\*\***</span></span>|<span data-ttu-id="26ad9-181">Disponível só para arquivos secundários somente leitura.</span><span class="sxs-lookup"><span data-stu-id="26ad9-181">Available only for read-only secondary files.</span></span>|  
|<span data-ttu-id="26ad9-182">Page restore **\***</span><span class="sxs-lookup"><span data-stu-id="26ad9-182">Page restore **\***</span></span>|<span data-ttu-id="26ad9-183">Suporte completo.</span><span class="sxs-lookup"><span data-stu-id="26ad9-183">Full support.</span></span>|<span data-ttu-id="26ad9-184">Às vezes. **\*\***</span><span class="sxs-lookup"><span data-stu-id="26ad9-184">Sometimes.**\*\***</span></span>|<span data-ttu-id="26ad9-185">Nenhum.</span><span class="sxs-lookup"><span data-stu-id="26ad9-185">None.</span></span>|  
|<span data-ttu-id="26ad9-186">Restauração por etapas (nível de grupo de arquivos) **\***</span><span class="sxs-lookup"><span data-stu-id="26ad9-186">Piecemeal (filegroup-level) restore **\***</span></span>|<span data-ttu-id="26ad9-187">Suporte completo.</span><span class="sxs-lookup"><span data-stu-id="26ad9-187">Full support.</span></span>|<span data-ttu-id="26ad9-188">Às vezes. **\*\***</span><span class="sxs-lookup"><span data-stu-id="26ad9-188">Sometimes.**\*\***</span></span>|<span data-ttu-id="26ad9-189">Disponível só para arquivos secundários somente leitura.</span><span class="sxs-lookup"><span data-stu-id="26ad9-189">Available only for read-only secondary files.</span></span>|  
  
 <span data-ttu-id="26ad9-190">**\*** Disponível somente na edição Enterprise do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]</span><span class="sxs-lookup"><span data-stu-id="26ad9-190">**\*** Available only in the Enterprise edition of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]</span></span>  
  
 <span data-ttu-id="26ad9-191">**\*\*** Para saber as condições exigidas, consulte [Restrições de restauração no modelo de recuperação simples](#RMsimpleScenarios), posteriormente neste tópico.</span><span class="sxs-lookup"><span data-stu-id="26ad9-191">**\*\*** For the required conditions, see [Restore Restrictions Under the Simple Recovery Model](#RMsimpleScenarios), later in this topic.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="26ad9-192">Independentemente do modelo de recuperação de um banco de dados, um backup do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] não pode ser restaurado por uma versão do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] que seja mais antiga do que a versão que criou o backup.</span><span class="sxs-lookup"><span data-stu-id="26ad9-192">Regardless of the recovery model of a database, a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] backup cannot be restored by a version of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] that is older than the version that created the backup.</span></span>  
  
##  <a name="restore-scenarios-under-the-simple-recovery-model"></a><a name="RMsimpleScenarios"></a><span data-ttu-id="26ad9-193">Cenários de restauração no modelo de recuperação simples</span><span class="sxs-lookup"><span data-stu-id="26ad9-193">Restore Scenarios Under the Simple Recovery Model</span></span>  
 <span data-ttu-id="26ad9-194">O modelo de recuperação simples impõe as seguintes restrições em operações de restauração:</span><span class="sxs-lookup"><span data-stu-id="26ad9-194">The simple recovery model imposes the following restrictions on restore operations:</span></span>  
  
-   <span data-ttu-id="26ad9-195">Restauração de arquivo e restauração por etapas estão disponíveis apenas para grupos de arquivos secundários somente leitura.</span><span class="sxs-lookup"><span data-stu-id="26ad9-195">File restore and piecemeal restore are available only for read-only secondary filegroups.</span></span> <span data-ttu-id="26ad9-196">Para obter informações sobre esses cenários de restauração, veja [Restaurações de arquivos &#40;Modelo de recuperação simples&#41;](file-restores-simple-recovery-model.md) e [Restaurações por etapas &#40;SQL Server&#41;](piecemeal-restores-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="26ad9-196">For information about these restore scenarios, see [File Restores &#40;Simple Recovery Model&#41;](file-restores-simple-recovery-model.md) and [Piecemeal Restores &#40;SQL Server&#41;](piecemeal-restores-sql-server.md).</span></span>  
  
-   <span data-ttu-id="26ad9-197">A restauração de página não é permitida.</span><span class="sxs-lookup"><span data-stu-id="26ad9-197">Page restore is not allowed.</span></span>  
  
-   <span data-ttu-id="26ad9-198">A restauração point-in-time não é permitida.</span><span class="sxs-lookup"><span data-stu-id="26ad9-198">Point-in-time restore is not allowed.</span></span>  
  
 <span data-ttu-id="26ad9-199">Se quaisquer dessas restrições forem impróprias para suas necessidades de recuperação, recomendamos que você considere o uso do modelo de recuperação completa.</span><span class="sxs-lookup"><span data-stu-id="26ad9-199">If any of these restrictions are inappropriate for your recovery needs, we recommend that you consider using the full recovery model.</span></span> <span data-ttu-id="26ad9-200">Para obter mais informações, veja [Visão geral do backup &#40;SQL Server&#41;](backup-overview-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="26ad9-200">For more information, see [Backup Overview &#40;SQL Server&#41;](backup-overview-sql-server.md).</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="26ad9-201">Independentemente do modelo de recuperação de um banco de dados, um backup do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] não pode ser restaurado por uma versão do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] que seja mais antiga do que a versão que criou o backup.</span><span class="sxs-lookup"><span data-stu-id="26ad9-201">Regardless of the recovery model of a database, a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] backup cannot be restored by a version of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] that is older than the version that created the backup.</span></span>  
  
##  <a name="restore-under-the-bulk-logged-recovery-model"></a><a name="RMblogRestore"></a> <span data-ttu-id="26ad9-202">Restauração no modelo de recuperação bulk-logged</span><span class="sxs-lookup"><span data-stu-id="26ad9-202">Restore Under the Bulk-Logged Recovery Model</span></span>  
 <span data-ttu-id="26ad9-203">Esta seção aborda as considerações de restauração que são específicas do modelo de recuperação bulk-logged, que deve ser usado exclusivamente como complemento para o modelo de recuperação completa.</span><span class="sxs-lookup"><span data-stu-id="26ad9-203">This section discusses restore considerations that are unique to bulk-logged recovery model, which is intended exclusively as a supplement to the full recovery model.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="26ad9-204">Para obter uma introdução ao modelo de recuperação bulk-logged, veja [O log de transações &#40;SQL Server&#41;](../logs/the-transaction-log-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="26ad9-204">For an introduction to the bulk-logged recovery model, see [The Transaction Log &#40;SQL Server&#41;](../logs/the-transaction-log-sql-server.md).</span></span>  
  
 <span data-ttu-id="26ad9-205">Geralmente, o modelo de recuperação bulk-logged é semelhante ao modelo de recuperação completa e as informações descritas para o modelo de recuperação completa também se aplicam a ambos.</span><span class="sxs-lookup"><span data-stu-id="26ad9-205">Generally, the bulk-logged recovery model is similar to the full recovery model, and the information described for the full recovery model also applies to both.</span></span> <span data-ttu-id="26ad9-206">Porém, a recuperação pontual e a restauração online são afetadas pelo modelo de recuperação bulk-logged.</span><span class="sxs-lookup"><span data-stu-id="26ad9-206">However, point-in-time recovery and online restore are affected by the bulk-logged recovery model.</span></span>  
  
### <a name="restrictions-for-point-in-time-recovery"></a><span data-ttu-id="26ad9-207">Restrições para recuperação pontual</span><span class="sxs-lookup"><span data-stu-id="26ad9-207">Restrictions for Point-in-time Recovery</span></span>  
 <span data-ttu-id="26ad9-208">Se um backup de log feito no modelo de recuperação bulk-logged contiver alterações, a recuperação pontual não será permitida.</span><span class="sxs-lookup"><span data-stu-id="26ad9-208">If a log backup taken under the bulk-logged recovery model contains bulk-logged changes, point-in-time recovery is not allowed.</span></span> <span data-ttu-id="26ad9-209">Tentar executar a recuperação pontual em um backup de log que contenha alterações em massa leva à falha na operação de restauração.</span><span class="sxs-lookup"><span data-stu-id="26ad9-209">Trying to perform point-in-time recovery on a log backup that contains bulk changes will cause the restore operation to fail.</span></span>  
  
### <a name="restrictions-for-online-restore"></a><span data-ttu-id="26ad9-210">Restrições para restauração online</span><span class="sxs-lookup"><span data-stu-id="26ad9-210">Restrictions for Online Restore</span></span>  
 <span data-ttu-id="26ad9-211">Uma sequência de restauração online funciona apenas se as seguintes condições forem atendidas:</span><span class="sxs-lookup"><span data-stu-id="26ad9-211">An online restore sequence works only if the following conditions are met:</span></span>  
  
-   <span data-ttu-id="26ad9-212">Todos os backups de log exigidos devem ter sido feitos antes do início da sequência de restauração.</span><span class="sxs-lookup"><span data-stu-id="26ad9-212">All required log backups must have been taken before the restore sequence starts.</span></span>  
  
-   <span data-ttu-id="26ad9-213">Os backups de alterações em massa devem ser feitos antes do início da sequência de restauração online.</span><span class="sxs-lookup"><span data-stu-id="26ad9-213">Bulk changes must be backed before starting the online restore sequence.</span></span>  
  
-   <span data-ttu-id="26ad9-214">Se houver alterações em massa no banco de dados, todos os arquivos deverão estar online ou[extintos](remove-defunct-filegroups-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="26ad9-214">If bulk changes exist in the database, all files must be either online or[defunct](remove-defunct-filegroups-sql-server.md).</span></span> <span data-ttu-id="26ad9-215">(Isso significa que já não faz parte do banco de dados.)</span><span class="sxs-lookup"><span data-stu-id="26ad9-215">(This means that it is no longer part of the database.)</span></span>  
  
 <span data-ttu-id="26ad9-216">Se essas condições não forem atendidas, haverá falha na sequência de restaurações online.</span><span class="sxs-lookup"><span data-stu-id="26ad9-216">If these conditions are not met, the online restore sequence fails.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="26ad9-217">Recomenda-se passar para o modelo de recuperação completa antes de iniciar uma restauração online.</span><span class="sxs-lookup"><span data-stu-id="26ad9-217">We recommend switching to the full recovery model before starting an online restore.</span></span> <span data-ttu-id="26ad9-218">Para obter mais informações, veja [Modelos de recuperação &#40;SQL Server&#41;](recovery-models-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="26ad9-218">For more information, see [Recovery Models &#40;SQL Server&#41;](recovery-models-sql-server.md).</span></span>  
  
 <span data-ttu-id="26ad9-219">Para obter informações sobre como executar uma restauração online, veja [Restauração online &#40;SQL Server&#41;](online-restore-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="26ad9-219">For information about how to perform an online restore, see [Online Restore &#40;SQL Server&#41;](online-restore-sql-server.md).</span></span>  
  
##  <a name="database-recovery-advisor-sql-server-management-studio"></a><a name="DRA"></a> <span data-ttu-id="26ad9-220">Orientador de recuperação de banco de dados (SQL Server Management Studio)</span><span class="sxs-lookup"><span data-stu-id="26ad9-220">Database Recovery Advisor (SQL Server Management Studio)</span></span>  
 <span data-ttu-id="26ad9-221">O orientador de recuperação de banco de dados facilita a criação de planos de restauração que implementam sequências de restauração corretas.</span><span class="sxs-lookup"><span data-stu-id="26ad9-221">The Database Recovery Advisor facilitates constructing restore plans that implement optimal correct restore sequences.</span></span> <span data-ttu-id="26ad9-222">Muitos problemas conhecidos e aperfeiçoamentos de restauração de banco de dados solicitados pelos clientes foram resolvidos.</span><span class="sxs-lookup"><span data-stu-id="26ad9-222">Many known database restore issues and enhancements requested by customers have been addressed.</span></span> <span data-ttu-id="26ad9-223">Estes são os principais aperfeiçoamentos incorporados pelo orientador de recuperação de banco de dados:</span><span class="sxs-lookup"><span data-stu-id="26ad9-223">Major enhancements introduced by the Database Recovery Advisor include the following:</span></span>  
  
-   <span data-ttu-id="26ad9-224">**Algoritmo do plano de restauração:**  o algoritmo usado para criar planos de restauração melhorou significativamente, particularmente em cenários de restauração complexos.</span><span class="sxs-lookup"><span data-stu-id="26ad9-224">**Restore-plan algorithm:**  The algorithm used to construct restore plans has improved significantly, particularly for complex restore scenarios.</span></span> <span data-ttu-id="26ad9-225">Muitos casos extremos, inclusive cenários de bifurcação em restaurações pontuais, são tratados de forma mais eficiente do que nas versões anteriores do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="26ad9-225">Many edge cases, including forking scenarios in point-in-time restores, are handled more efficiently than in previous versions of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span>  
  
-   <span data-ttu-id="26ad9-226">**Restaurações pontuais:**  o Assistente de Recuperação de Banco de Dados simplifica consideravelmente a restauração de um banco de dados em um determinado momento.</span><span class="sxs-lookup"><span data-stu-id="26ad9-226">**Point-in-time restores:**  The Database Recovery Advisor greatly simplifies restoring a database to a given point in time.</span></span> <span data-ttu-id="26ad9-227">Uma linha de tempo de backup visual aprimora significativamente o suporte a restaurações pontuais.</span><span class="sxs-lookup"><span data-stu-id="26ad9-227">A visual backup timeline significantly enhances support for point-in-time restores.</span></span> <span data-ttu-id="26ad9-228">Essa linha de tempo visual permite que você identifique um momento viável como ponto de recuperação de destino para a restauração de um banco de dados.</span><span class="sxs-lookup"><span data-stu-id="26ad9-228">This visual timeline allows you to identify a feasible point in time as the target recovery point for restoring a database.</span></span> <span data-ttu-id="26ad9-229">A linha do tempo facilita a transposição de um caminho de recuperação bifurcado (um caminho que abrange bifurcações de recuperação).</span><span class="sxs-lookup"><span data-stu-id="26ad9-229">The timeline facilitates traversing a forked recovery path (a path that spans recovery forks).</span></span> <span data-ttu-id="26ad9-230">Um plano de restauração pontual inclui automaticamente os backups relevantes para a restauração do momento desejado (data e hora).</span><span class="sxs-lookup"><span data-stu-id="26ad9-230">A given point-in-time restore plan automatically includes the backups that are relevant to the restoring to your target point in time (date and time).</span></span> <span data-ttu-id="26ad9-231">Para obter mais informações, veja [Restaurar um banco de dados do SQL Server em um ponto específico &#40;Modelo de recuperação completa&#41;](restore-a-sql-server-database-to-a-point-in-time-full-recovery-model.md).</span><span class="sxs-lookup"><span data-stu-id="26ad9-231">For more information, see [Restore a SQL Server Database to a Point in Time &#40;Full Recovery Model&#41;](restore-a-sql-server-database-to-a-point-in-time-full-recovery-model.md).</span></span>  
  
 <span data-ttu-id="26ad9-232">Para obter mais informações, obtenha informações sobre o orientador de recuperação de banco de dados consultando os seguintes blogs sobre capacidade de gerenciamento do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] :</span><span class="sxs-lookup"><span data-stu-id="26ad9-232">For more information, see about the Database Recovery Advisor, see the following [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Manageability blogs:</span></span>  
  
-   [<span data-ttu-id="26ad9-233">Assistente de Recuperação: Uma introdução</span><span class="sxs-lookup"><span data-stu-id="26ad9-233">Recovery Advisor: An Introduction</span></span>](https://blogs.msdn.com/b/managingsql/archive/2011/07/13/recovery-advisor-an-introduction.aspx)  
  
-   [<span data-ttu-id="26ad9-234">Assistente de Recuperação: Usando o SSMS para criar/restaurar backups divididos</span><span class="sxs-lookup"><span data-stu-id="26ad9-234">Recovery Advisor: Using SSMS to create/restore split backups</span></span>](https://docs.microsoft.com/archive/blogs/managingsql/recovery-advisor-using-ssms-to-createrestore-split-backups)  
  
##  <a name="related-content"></a><a name="RelatedContent"></a> <span data-ttu-id="26ad9-235">Conteúdo relacionado</span><span class="sxs-lookup"><span data-stu-id="26ad9-235">Related Content</span></span>  
 <span data-ttu-id="26ad9-236">Nenhum.</span><span class="sxs-lookup"><span data-stu-id="26ad9-236">None.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="26ad9-237">Consulte Também</span><span class="sxs-lookup"><span data-stu-id="26ad9-237">See Also</span></span>  
 [<span data-ttu-id="26ad9-238">Visão geral do backup &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="26ad9-238">Backup Overview &#40;SQL Server&#41;</span></span>](backup-overview-sql-server.md)  
  
  
