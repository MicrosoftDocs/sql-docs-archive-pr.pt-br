---
title: Restaurar páginas (SQL Server) | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: backup-restore
ms.topic: conceptual
f1_keywords:
- sql12.swb.restorepage.general.f1
helpviewer_keywords:
- restoring pages [SQL Server]
- pages [SQL Server], restoring
- databases [SQL Server], damaged
- page restores [SQL Server]
- pages [SQL Server], damaged
- restoring [SQL Server], pages
ms.assetid: 07e40950-384e-4d84-9ac5-84da6dd27a91
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: 6fb008314b9cb156f1cc575bda71b6364eca6e3a
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87679993"
---
# <a name="restore-pages-sql-server"></a><span data-ttu-id="6167a-102">Restaurar páginas (SQL Server)</span><span class="sxs-lookup"><span data-stu-id="6167a-102">Restore Pages (SQL Server)</span></span>
  <span data-ttu-id="6167a-103">Este tópico descreve como restaurar páginas no [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] usando o [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] ou o [!INCLUDE[tsql](../../includes/tsql-md.md)].</span><span class="sxs-lookup"><span data-stu-id="6167a-103">This topic describes how to restore pages in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] by using [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] or [!INCLUDE[tsql](../../includes/tsql-md.md)].</span></span> <span data-ttu-id="6167a-104">A meta da restauração de uma página é restaurar uma ou mais páginas danificadas sem restaurar todo o banco de dados.</span><span class="sxs-lookup"><span data-stu-id="6167a-104">The goal of a page restore is to restore one or more damaged pages without restoring the whole database.</span></span> <span data-ttu-id="6167a-105">Geralmente, as páginas candidatas à restauração foram marcadas como "suspeitas" por causa de um erro encontrado durante seu acesso.</span><span class="sxs-lookup"><span data-stu-id="6167a-105">Typically, pages that are candidates for restore have been marked as "suspect" because of an error that is encountered when accessing the page.</span></span> <span data-ttu-id="6167a-106">Páginas suspeitas são identificadas na tabela [suspect_pages](/sql/relational-databases/system-tables/suspect-pages-transact-sql) do banco de dados **msdb** .</span><span class="sxs-lookup"><span data-stu-id="6167a-106">Suspect pages are identified in the [suspect_pages](/sql/relational-databases/system-tables/suspect-pages-transact-sql) table in the **msdb** database.</span></span>  
  
 <span data-ttu-id="6167a-107">**Neste tópico**</span><span class="sxs-lookup"><span data-stu-id="6167a-107">**In This Topic**</span></span>  
  
-   <span data-ttu-id="6167a-108">**Antes de começar:**</span><span class="sxs-lookup"><span data-stu-id="6167a-108">**Before you begin:**</span></span>  
  
     [<span data-ttu-id="6167a-109">Quando uma restauração de página é útil?</span><span class="sxs-lookup"><span data-stu-id="6167a-109">When is a Page Restore Useful?</span></span>](#WhenUseful)  
  
     [<span data-ttu-id="6167a-110">Limitações e restrições</span><span class="sxs-lookup"><span data-stu-id="6167a-110">Limitations and Restrictions</span></span>](#Restrictions)  
  
     [<span data-ttu-id="6167a-111">Recomendações</span><span class="sxs-lookup"><span data-stu-id="6167a-111">Recommendations</span></span>](#Recommendations)  
  
     [<span data-ttu-id="6167a-112">Segurança</span><span class="sxs-lookup"><span data-stu-id="6167a-112">Security</span></span>](#Security)  
  
-   <span data-ttu-id="6167a-113">**Para restaurar páginas usando:**</span><span class="sxs-lookup"><span data-stu-id="6167a-113">**To restore pages, using:**</span></span>  
  
     [<span data-ttu-id="6167a-114">SQL Server Management Studio</span><span class="sxs-lookup"><span data-stu-id="6167a-114">SQL Server Management Studio</span></span>](#SSMSProcedure)  
  
     [<span data-ttu-id="6167a-115">Transact-SQL</span><span class="sxs-lookup"><span data-stu-id="6167a-115">Transact-SQL</span></span>](#TsqlProcedure)  
  
##  <a name="before-you-begin"></a><a name="BeforeYouBegin"></a> <span data-ttu-id="6167a-116">Antes de começar</span><span class="sxs-lookup"><span data-stu-id="6167a-116">Before You Begin</span></span>  
  
###  <a name="when-is-a-page-restore-useful"></a><a name="WhenUseful"></a> <span data-ttu-id="6167a-117">Quando uma restauração de página é útil?</span><span class="sxs-lookup"><span data-stu-id="6167a-117">When is a Page Restore Useful?</span></span>  
 <span data-ttu-id="6167a-118">A restauração de página é usada para restaurar páginas danificadas isoladas.</span><span class="sxs-lookup"><span data-stu-id="6167a-118">A page restore is intended for repairing isolated damaged pages.</span></span> <span data-ttu-id="6167a-119">A restauração e recuperação de algumas páginas individuais pode ocorrer mais rapidamente do que a restauração de arquivo, reduzindo a quantidade de dados offline durante a operação de restauração.</span><span class="sxs-lookup"><span data-stu-id="6167a-119">Restoring and recovering a few individual pages might be faster than a file restore, reducing the amount of data that is offline during a restore operation.</span></span> <span data-ttu-id="6167a-120">No entanto, se for necessário restaurar mais do que algumas páginas em um arquivo, será geralmente mais eficaz restaurar todo o arquivo.</span><span class="sxs-lookup"><span data-stu-id="6167a-120">However, if you have to restore more than a few pages in a file, it is generally more efficient to restore the whole file.</span></span> <span data-ttu-id="6167a-121">Por exemplo, se várias páginas em um dispositivo indicarem uma falha de dispositivo pendente, é recomendável a restauração do arquivo, possivelmente em outro local, e a reparação do dispositivo.</span><span class="sxs-lookup"><span data-stu-id="6167a-121">For example, if lots of pages on a device indicate a pending device failure, consider restoring the file, possibly to another location, and repairing the device.</span></span>  
  
 <span data-ttu-id="6167a-122">Além disso, nem todos os erros de página precisam de restauração.</span><span class="sxs-lookup"><span data-stu-id="6167a-122">Furthermore, not all page errors require a restore.</span></span> <span data-ttu-id="6167a-123">Pode ocorrer um problema nos dados armazenados em cache, como um índice secundário, que pode ser resolvido pelo recálculo dos dados.</span><span class="sxs-lookup"><span data-stu-id="6167a-123">A problem can occur in cached data, such as a secondary index, that can be resolved by recalculating the data.</span></span> <span data-ttu-id="6167a-124">Por exemplo, se o administrador de banco de dados cancela um índice secundário e o recria, os dados corrompidos, embora fixos, não são indicados como tal na tabela [suspect_pages](/sql/relational-databases/system-tables/suspect-pages-transact-sql) .</span><span class="sxs-lookup"><span data-stu-id="6167a-124">For example, if the database administrator drops a secondary index and rebuilds it, the corrupted data, although fixed, is not indicated as such in the [suspect_pages](/sql/relational-databases/system-tables/suspect-pages-transact-sql) table.</span></span>  
  
###  <a name="limitations-and-restrictions"></a><a name="Restrictions"></a> <span data-ttu-id="6167a-125">Limitações e restrições</span><span class="sxs-lookup"><span data-stu-id="6167a-125">Limitations and Restrictions</span></span>  
  
-   <span data-ttu-id="6167a-126">A restauração de página se aplica a bancos de dados do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] que usam os modelos de recuperação completa ou bulk-logged.</span><span class="sxs-lookup"><span data-stu-id="6167a-126">Page restore applies to [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] databases that are using the full or bulk-logged recovery models.</span></span> <span data-ttu-id="6167a-127">Só há suporte para restauração de página para grupos de arquivos de leitura/gravação.</span><span class="sxs-lookup"><span data-stu-id="6167a-127">Page restore is supported only for read/write filegroups.</span></span>  
  
-   <span data-ttu-id="6167a-128">Somente páginas de banco de dados podem ser restauradas.</span><span class="sxs-lookup"><span data-stu-id="6167a-128">Only database pages can be restored.</span></span> <span data-ttu-id="6167a-129">A restauração de página não pode ser usada para restaurar o seguinte:</span><span class="sxs-lookup"><span data-stu-id="6167a-129">Page restore cannot be used to restore the following:</span></span>  
  
    -   <span data-ttu-id="6167a-130">Log de transações</span><span class="sxs-lookup"><span data-stu-id="6167a-130">Transaction log</span></span>  
  
    -   <span data-ttu-id="6167a-131">Páginas de alocação: páginas GAM (Global Allocation Map), páginas SGAM (Shared Global Allocation Map) e páginas PFS (Page Free Space).</span><span class="sxs-lookup"><span data-stu-id="6167a-131">Allocation pages: Global Allocation Map (GAM) pages, Shared Global Allocation Map (SGAM) pages, and Page Free Space (PFS) pages.</span></span>  
  
    -   <span data-ttu-id="6167a-132">Página 0 de todos os arquivos de dados (a página de inicialização de arquivo)</span><span class="sxs-lookup"><span data-stu-id="6167a-132">Page 0 of all data files (the file boot page)</span></span>  
  
    -   <span data-ttu-id="6167a-133">Página 1:9 (a página de inicialização do banco de dados)</span><span class="sxs-lookup"><span data-stu-id="6167a-133">Page 1:9 (the database boot page)</span></span>  
  
    -   <span data-ttu-id="6167a-134">Catálogo de texto completo</span><span class="sxs-lookup"><span data-stu-id="6167a-134">Full-text catalog</span></span>  
  
-   <span data-ttu-id="6167a-135">Para um banco de dados que usa o modelo de recuperação bulk-logged, a restauração de página tem as seguintes condições adicionais:</span><span class="sxs-lookup"><span data-stu-id="6167a-135">For a database that uses the bulk-logged recovery model, page restore has the following additional conditions:</span></span>  
  
    -   <span data-ttu-id="6167a-136">Fazer um backup enquanto um grupo de arquivos ou dados de página estão offline é problemático para dados com log de operações em massa porque os dados offline não são registrados no log.</span><span class="sxs-lookup"><span data-stu-id="6167a-136">Backing up while filegroup or page data is offline is problematic for bulk-logged data, because the offline data is not recorded in the log.</span></span> <span data-ttu-id="6167a-137">Qualquer página offline pode impedir o backup do log.</span><span class="sxs-lookup"><span data-stu-id="6167a-137">Any offline page can prevent backing up the log.</span></span> <span data-ttu-id="6167a-138">Nesses casos, considere usar DBCC REPAIR, pois isso pode causar menos perda de dados do que a restauração do backup mais recente.</span><span class="sxs-lookup"><span data-stu-id="6167a-138">In this cases, consider using DBCC REPAIR, because this might cause less data loss than restoring to the most recent backup.</span></span>  
  
    -   <span data-ttu-id="6167a-139">Se um backup de log de um banco de dados com log de operações em massa encontrar uma página danificada, falhará a menos que WITH CONTINUE_AFTER_ERROR esteja especificado.</span><span class="sxs-lookup"><span data-stu-id="6167a-139">If a log backup of a bulk-logged database encounters a bad page, it fails unless WITH CONTINUE_AFTER_ERROR is specified.</span></span>  
  
    -   <span data-ttu-id="6167a-140">A restauração de página geralmente não funciona em recuperação bulk-logged.</span><span class="sxs-lookup"><span data-stu-id="6167a-140">Page restore generally does not work with bulk-logged recovery.</span></span>  
  
         <span data-ttu-id="6167a-141">Uma prática recomendada para executar restauração de página é definir o banco de dados como modelo de recuperação completa e tentar um backup de log.</span><span class="sxs-lookup"><span data-stu-id="6167a-141">A best practice for performing page restore is to set the database to the full recovery model, and try a log backup.</span></span> <span data-ttu-id="6167a-142">Se o backup de log funcionar, você poderá continuar com a restauração da página.</span><span class="sxs-lookup"><span data-stu-id="6167a-142">If the log backup works, you can continue with the page restore.</span></span> <span data-ttu-id="6167a-143">Se o backup de log falhar, você perderá trabalho desde o backup de log anterior ou terá de tentar executar DBCC com a opção REPAIR_ALLOW_DATA_LOSS.</span><span class="sxs-lookup"><span data-stu-id="6167a-143">If the log backup fails, you either have to lose work since the previous log backup or you have to try running DBCC must be run with the REPAIR_ALLOW_DATA_LOSS option.</span></span>  
  
###  <a name="recommendations"></a><a name="Recommendations"></a> <span data-ttu-id="6167a-144">Recomendações</span><span class="sxs-lookup"><span data-stu-id="6167a-144">Recommendations</span></span>  
  
-   <span data-ttu-id="6167a-145">Cenários de restauração de página:</span><span class="sxs-lookup"><span data-stu-id="6167a-145">Page restore scenarios:</span></span>  
  
     <span data-ttu-id="6167a-146">Restauração de página offline</span><span class="sxs-lookup"><span data-stu-id="6167a-146">Offline page restore</span></span>  
     <span data-ttu-id="6167a-147">Todas as edições do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] oferecem suporte à restauração de páginas quando o banco de dados está offline.</span><span class="sxs-lookup"><span data-stu-id="6167a-147">All editions of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] support restoring pages when the database is offline.</span></span> <span data-ttu-id="6167a-148">Em uma restauração de página offline, o banco de dados fica offline enquanto as páginas danificadas são restauradas.</span><span class="sxs-lookup"><span data-stu-id="6167a-148">In an offline page restore, the database is offline while damaged pages are restored.</span></span> <span data-ttu-id="6167a-149">Ao término da sequência de restauração, o banco de dados fica online.</span><span class="sxs-lookup"><span data-stu-id="6167a-149">At the end of the restore sequence, the database comes online.</span></span>  
  
     <span data-ttu-id="6167a-150">Restauração de página online</span><span class="sxs-lookup"><span data-stu-id="6167a-150">Online page restore</span></span>  
     [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="6167a-151">A Enterprise edition dá suporte à restaurações de página online, mesmo que use a restauração offline quando o banco de dados está offline.</span><span class="sxs-lookup"><span data-stu-id="6167a-151">Enterprise edition supports online page restores, though they use offline restore if the database is currently offline.</span></span> <span data-ttu-id="6167a-152">Na maioria dos casos, uma página danificada pode ser restaurada enquanto o banco de dados permanece online, inclusive o grupo de arquivos para o qual uma página está sendo restaurada.</span><span class="sxs-lookup"><span data-stu-id="6167a-152">In most cases, a damaged page can be restored while the database remains online, including the filegroup to which a page is being restored.</span></span> <span data-ttu-id="6167a-153">Quando o grupo de arquivos primário estiver online, até mesmo se um ou mais de seus grupos de arquivos secundários estiverem offline, as restaurações de página serão geralmente executadas online.</span><span class="sxs-lookup"><span data-stu-id="6167a-153">When the primary filegroup is online, even if one or more of its secondary filegroups are offline, page restores are usually performed online.</span></span> <span data-ttu-id="6167a-154">No entanto, ocasionalmente uma página danificada pode precisar de uma restauração offline.</span><span class="sxs-lookup"><span data-stu-id="6167a-154">Occasionally, however, a damaged page can require an offline restore.</span></span> <span data-ttu-id="6167a-155">Por exemplo, os danos a certas páginas importantes podem impedir a inicialização do banco de dados.</span><span class="sxs-lookup"><span data-stu-id="6167a-155">For example, damage to certain critical pages might prevent the database from starting.</span></span>  
  
    > [!WARNING]  
    >  <span data-ttu-id="6167a-156">Se páginas danificadas estiverem armazenando metadados de bancos de dados importantes, atualizações necessárias nos metadados poderão apresentar falha durante uma tentativa de restauração de página online.</span><span class="sxs-lookup"><span data-stu-id="6167a-156">If damaged pages are storing critical database metadata, required updates to metadata might fail during an online page restore attempt.</span></span> <span data-ttu-id="6167a-157">Nesse caso, você pode executar uma restauração de página offline, mas primeiro deve criar um [backup da parte final do log](tail-log-backups-sql-server.md) (fazendo backup do log de transações por meio de RESTORE WITH NORECOVERY).</span><span class="sxs-lookup"><span data-stu-id="6167a-157">In this case, you can perform an offline page restore, but first you must create a [tail log backup](tail-log-backups-sql-server.md) (by backing up the transaction log using RESTORE WITH NORECOVERY).</span></span>  
  
-   <span data-ttu-id="6167a-158">A restauração de página beneficia-se do relatório aprimorado de erro no nível da página (incluindo somas de verificação de página) e do rastreamento.</span><span class="sxs-lookup"><span data-stu-id="6167a-158">Page restore takes advantage of the improved page-level error reporting (including page checksums) and tracking.</span></span> <span data-ttu-id="6167a-159">As páginas detectadas como corrompidas por soma de verificação ou gravação interrompida, as *páginas danificadas*, podem ser restauradas por uma operação de restauração de página.</span><span class="sxs-lookup"><span data-stu-id="6167a-159">Pages that are detected as corrupted by check-summing or a torn write, *damaged pages*, can be restored by a page restore operation.</span></span> <span data-ttu-id="6167a-160">Somente páginas explicitamente especificadas são restauradas.</span><span class="sxs-lookup"><span data-stu-id="6167a-160">Only explicitly specified pages are restored.</span></span> <span data-ttu-id="6167a-161">Cada página especificada é substituída pela cópia dessa página no backup de dados especificado.</span><span class="sxs-lookup"><span data-stu-id="6167a-161">Each specified page is replaced by the copy of that page from the specified data backup.</span></span>  
  
     <span data-ttu-id="6167a-162">Quando você restaurar os backups de log subsequentes, eles só serão aplicados a arquivos de banco de dados que contêm pelo menos uma página que está sendo recuperada.</span><span class="sxs-lookup"><span data-stu-id="6167a-162">When you restore the subsequent log backups, they are applied only to database files that contain at least one page that is being recovered.</span></span> <span data-ttu-id="6167a-163">Uma cadeia uniforme de backups de log deve ser aplicada à última restauração completa ou diferencial para trazer o grupo de arquivos que contém a página até o arquivo de log atual.</span><span class="sxs-lookup"><span data-stu-id="6167a-163">An unbroken chain of log backups must be applied to the last full or differential restore to bring the filegroup that contains the page forward to the current log file.</span></span> <span data-ttu-id="6167a-164">Assim como em uma restauração de arquivo, o conjunto de roll forward é avançado com uma única passagem de restauração de log.</span><span class="sxs-lookup"><span data-stu-id="6167a-164">As in a file restore, the roll forward set is advanced with a single log redo pass.</span></span> <span data-ttu-id="6167a-165">Para que a restauração da página tenha êxito, as páginas restauradas devem ser recuperadas para um estado consistente com o banco de dados.</span><span class="sxs-lookup"><span data-stu-id="6167a-165">For a page restore to succeed, the restored pages must be recovered to a state consistent with the database.</span></span>  
  
###  <a name="security"></a><a name="Security"></a> <span data-ttu-id="6167a-166">Segurança</span><span class="sxs-lookup"><span data-stu-id="6167a-166">Security</span></span>  
  
####  <a name="permissions"></a><a name="Permissions"></a> <span data-ttu-id="6167a-167">Permissões</span><span class="sxs-lookup"><span data-stu-id="6167a-167">Permissions</span></span>  
 <span data-ttu-id="6167a-168">Se o banco de dados que está sendo restaurado não existir, o usuário deverá ter permissões CREATE DATABASE para poder executar o comando RESTORE.</span><span class="sxs-lookup"><span data-stu-id="6167a-168">If the database being restored does not exist, the user must have CREATE DATABASE permissions to be able to execute RESTORE.</span></span> <span data-ttu-id="6167a-169">Se o banco de dados existir, as permissões RESTORE usarão como padrão os membros das funções de servidor fixas **sysadmin** e **dbcreator** e o proprietário (**dbo**) do banco de dados (para a opção FROM DATABASE_SNAPSHOT, o banco de dados sempre existe).</span><span class="sxs-lookup"><span data-stu-id="6167a-169">If the database exists, RESTORE permissions default to members of the **sysadmin** and **dbcreator** fixed server roles and the owner (**dbo**) of the database (for the FROM DATABASE_SNAPSHOT option, the database always exists).</span></span>  
  
 <span data-ttu-id="6167a-170">As permissões RESTORE são concedidas a funções nas quais as informações de associação estão sempre disponíveis para o servidor.</span><span class="sxs-lookup"><span data-stu-id="6167a-170">RESTORE permissions are given to roles in which membership information is always readily available to the server.</span></span> <span data-ttu-id="6167a-171">Como a associação da função de banco de dados fixa pode ser verificada apenas quando o banco de dados está acessível e não danificado, o que nem sempre é o caso quando RESTORE é executado, os membros da função de banco de dados fixa **db_owner** não têm permissões RESTORE.</span><span class="sxs-lookup"><span data-stu-id="6167a-171">Because fixed database role membership can be checked only when the database is accessible and undamaged, which is not always the case when RESTORE is executed, members of the **db_owner** fixed database role do not have RESTORE permissions.</span></span>  
  
##  <a name="using-sql-server-management-studio"></a><a name="SSMSProcedure"></a> <span data-ttu-id="6167a-172">Usando o SQL Server Management Studio</span><span class="sxs-lookup"><span data-stu-id="6167a-172">Using SQL Server Management Studio</span></span>  
 <span data-ttu-id="6167a-173">Começando pelo [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)], o [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] oferece suporte a restaurações de página.</span><span class="sxs-lookup"><span data-stu-id="6167a-173">Starting in [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)], [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] supports page restores.</span></span>  
  
#### <a name="to-restore-pages"></a><span data-ttu-id="6167a-174">Para restaurar páginas</span><span class="sxs-lookup"><span data-stu-id="6167a-174">To restore pages</span></span>  
  
1.  <span data-ttu-id="6167a-175">Conecte-se à instância adequada do [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)], no Pesquisador de Objetos, e clique no nome do servidor para expandir a árvore de servidores.</span><span class="sxs-lookup"><span data-stu-id="6167a-175">Connect to the appropriate instance of the [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)], in Object Explorer, click the server name to expand the server tree.</span></span>  
  
2.  <span data-ttu-id="6167a-176">Expanda os **Bancos de dados**.</span><span class="sxs-lookup"><span data-stu-id="6167a-176">Expand **Databases**.</span></span> <span data-ttu-id="6167a-177">Dependendo do banco de dados, selecione um banco de dados de usuário ou expanda os **Bancos de dados do sistema**e selecione um banco de dados do sistema.</span><span class="sxs-lookup"><span data-stu-id="6167a-177">Depending on the database, either select a user database or expand **System Databases**, and then select a system database.</span></span>  
  
3.  <span data-ttu-id="6167a-178">Clique com o botão direito do mouse no banco de dados, aponte para **Tarefas**, **Restaurar**e clique em **Página**, o que abre a caixa de diálogo **Restaurar Página** .</span><span class="sxs-lookup"><span data-stu-id="6167a-178">Right-click the database, point to **Tasks**, point to **Restore**, and then click **Page**, which opens the **Restore Page** dialog box.</span></span>  
  
     <span data-ttu-id="6167a-179">**Restaurar**</span><span class="sxs-lookup"><span data-stu-id="6167a-179">**Restore**</span></span>  
     <span data-ttu-id="6167a-180">Esta seção executa a mesma função de **Restaurar em** em [Restaurar Banco de Dados (Página Geral)](../../integration-services/general-page-of-integration-services-designers-options.md).</span><span class="sxs-lookup"><span data-stu-id="6167a-180">This section performs the same function as that of **Restore to** on the [Restore Database (General Page)](../../integration-services/general-page-of-integration-services-designers-options.md).</span></span>  
  
     <span data-ttu-id="6167a-181">**Backup de banco de dados**</span><span class="sxs-lookup"><span data-stu-id="6167a-181">**Database**</span></span>  
     <span data-ttu-id="6167a-182">Especifica o banco de dados a ser restaurado.</span><span class="sxs-lookup"><span data-stu-id="6167a-182">Specifies the database to restore.</span></span> <span data-ttu-id="6167a-183">Você pode digitar um novo banco de dados ou selecionar um banco de dados existente na lista suspensa.</span><span class="sxs-lookup"><span data-stu-id="6167a-183">You can enter a new database or select an existing database from the drop-down list.</span></span> <span data-ttu-id="6167a-184">A lista inclui todos os bancos de dados do servidor, exceto os bancos de dados do sistema **mestre** e **tempdb**.</span><span class="sxs-lookup"><span data-stu-id="6167a-184">The list includes all databases on the server, except the system databases **master** and **tempdb**.</span></span>  
  
    > [!WARNING]  
    >  <span data-ttu-id="6167a-185">Para restaurar um backup protegido por senha, você deve usar a instrução [RESTORE](/sql/t-sql/statements/restore-statements-transact-sql) .</span><span class="sxs-lookup"><span data-stu-id="6167a-185">To restore a password-protected backup, you must use the [RESTORE](/sql/t-sql/statements/restore-statements-transact-sql) statement.</span></span>  
  
     <span data-ttu-id="6167a-186">**Backup do final do log**</span><span class="sxs-lookup"><span data-stu-id="6167a-186">**Tail-Log backup**</span></span>  
     <span data-ttu-id="6167a-187">Digite ou selecione um nome de arquivo em **Dispositivo de backup** em que o backup da parte final do log será armazenado para o banco de dados.</span><span class="sxs-lookup"><span data-stu-id="6167a-187">Enter or select a file name in **Backup device** where there tail-log backup will be stored for the database.</span></span>  
  
     <span data-ttu-id="6167a-188">**Conjuntos de backup**</span><span class="sxs-lookup"><span data-stu-id="6167a-188">**Backup Sets**</span></span>  
     <span data-ttu-id="6167a-189">Esta seção exibe os conjuntos de backup envolvidos na restauração.</span><span class="sxs-lookup"><span data-stu-id="6167a-189">This section displays the backup sets involved in the restoration.</span></span>  
  
    |<span data-ttu-id="6167a-190">Cabeçalho</span><span class="sxs-lookup"><span data-stu-id="6167a-190">Header</span></span>|<span data-ttu-id="6167a-191">Valores</span><span class="sxs-lookup"><span data-stu-id="6167a-191">Values</span></span>|  
    |------------|------------|  
    |<span data-ttu-id="6167a-192">**Nome**</span><span class="sxs-lookup"><span data-stu-id="6167a-192">**Name**</span></span>|<span data-ttu-id="6167a-193">O nome do conjunto de backup.</span><span class="sxs-lookup"><span data-stu-id="6167a-193">The name of the backup set.</span></span>|  
    |<span data-ttu-id="6167a-194">**Componente**</span><span class="sxs-lookup"><span data-stu-id="6167a-194">**Component**</span></span>|<span data-ttu-id="6167a-195">o componente de backup: **Banco de dados**, **Arquivo** ou **\<blank>** (para logs de transações).</span><span class="sxs-lookup"><span data-stu-id="6167a-195">The backed-up component: **Database**, **File**, or **\<blank>** (for transaction logs).</span></span>|  
    |<span data-ttu-id="6167a-196">**Tipo**</span><span class="sxs-lookup"><span data-stu-id="6167a-196">**Type**</span></span>|<span data-ttu-id="6167a-197">O tipo de backup realizado: **Total**, **Diferencial** ou **Log de Transações**.</span><span class="sxs-lookup"><span data-stu-id="6167a-197">The type of backup performed: **Full**, **Differential**, or **Transaction Log**.</span></span>|  
    |<span data-ttu-id="6167a-198">**Servidor**</span><span class="sxs-lookup"><span data-stu-id="6167a-198">**Server**</span></span>|<span data-ttu-id="6167a-199">O nome da instância [!INCLUDE[ssDE](../../includes/ssde-md.md)] que executou a operação de backup.</span><span class="sxs-lookup"><span data-stu-id="6167a-199">The name of the [!INCLUDE[ssDE](../../includes/ssde-md.md)] instance that performed the backup operation.</span></span>|  
    |<span data-ttu-id="6167a-200">**Backup de banco de dados**</span><span class="sxs-lookup"><span data-stu-id="6167a-200">**Database**</span></span>|<span data-ttu-id="6167a-201">Nome do banco de dados envolvido na operação de backup.</span><span class="sxs-lookup"><span data-stu-id="6167a-201">The name of the database involved in the backup operation.</span></span>|  
    |<span data-ttu-id="6167a-202">**Posição**</span><span class="sxs-lookup"><span data-stu-id="6167a-202">**Position**</span></span>|<span data-ttu-id="6167a-203">A posição do conjunto de backup no volume.</span><span class="sxs-lookup"><span data-stu-id="6167a-203">The position of the backup set in the volume.</span></span>|  
    |<span data-ttu-id="6167a-204">**Primeiro LSN**</span><span class="sxs-lookup"><span data-stu-id="6167a-204">**First LSN**</span></span>|<span data-ttu-id="6167a-205">Número de sequência de log (LSN) da primeira transação do conjunto de backup.</span><span class="sxs-lookup"><span data-stu-id="6167a-205">The log sequence number (LSN) of the first transaction in the backup set.</span></span> <span data-ttu-id="6167a-206">Em branco para backups de arquivo.</span><span class="sxs-lookup"><span data-stu-id="6167a-206">Blank for file backups.</span></span>|  
    |<span data-ttu-id="6167a-207">**Último LSN**</span><span class="sxs-lookup"><span data-stu-id="6167a-207">**Last LSN**</span></span>|<span data-ttu-id="6167a-208">O número de sequência de log (LSN) da última transação do conjunto de backup.</span><span class="sxs-lookup"><span data-stu-id="6167a-208">The log sequence number (LSN) of the last transaction in the backup set.</span></span> <span data-ttu-id="6167a-209">Em branco para backups de arquivo.</span><span class="sxs-lookup"><span data-stu-id="6167a-209">Blank for file backups.</span></span>|  
    |<span data-ttu-id="6167a-210">**LSN do Ponto de Verificação**</span><span class="sxs-lookup"><span data-stu-id="6167a-210">**Checkpoint LSN**</span></span>|<span data-ttu-id="6167a-211">O número de sequência de log (LSN) do ponto de verificação mais recente no momento da criação do backup.</span><span class="sxs-lookup"><span data-stu-id="6167a-211">The log sequence number (LSN) of the most recent checkpoint at the time the backup was created.</span></span>|  
    |<span data-ttu-id="6167a-212">**LSN Completo**</span><span class="sxs-lookup"><span data-stu-id="6167a-212">**Full LSN**</span></span>|<span data-ttu-id="6167a-213">Número de sequência de log (LSN) do backup de banco de dados completo mais recente.</span><span class="sxs-lookup"><span data-stu-id="6167a-213">The log sequence number (LSN) of the most recent full database backup.</span></span>|  
    |<span data-ttu-id="6167a-214">**Data de Início**</span><span class="sxs-lookup"><span data-stu-id="6167a-214">**Start Date**</span></span>|<span data-ttu-id="6167a-215">A data e hora de início da operação de backup, apresentadas na configuração regional do cliente.</span><span class="sxs-lookup"><span data-stu-id="6167a-215">The date and time when the backup operation began, presented in the regional setting of the client.</span></span>|  
    |<span data-ttu-id="6167a-216">**Data de Conclusão**</span><span class="sxs-lookup"><span data-stu-id="6167a-216">**Finish Date**</span></span>|<span data-ttu-id="6167a-217">A data e hora da conclusão da operação de backup, apresentadas na configuração regional do cliente.</span><span class="sxs-lookup"><span data-stu-id="6167a-217">The date and time when the backup operation finished, presented in the regional setting of the client.</span></span>|  
    |<span data-ttu-id="6167a-218">**Tamanho**</span><span class="sxs-lookup"><span data-stu-id="6167a-218">**Size**</span></span>|<span data-ttu-id="6167a-219">O tamanho do conjunto de backup em bytes.</span><span class="sxs-lookup"><span data-stu-id="6167a-219">The size of the backup set in bytes.</span></span>|  
    |<span data-ttu-id="6167a-220">**Nome de usuário**</span><span class="sxs-lookup"><span data-stu-id="6167a-220">**User Name**</span></span>|<span data-ttu-id="6167a-221">O nome do usuário que realizou a operação de backup.</span><span class="sxs-lookup"><span data-stu-id="6167a-221">The name of the user who performed the backup operation.</span></span>|  
    |<span data-ttu-id="6167a-222">**Validade**</span><span class="sxs-lookup"><span data-stu-id="6167a-222">**Expiration**</span></span>|<span data-ttu-id="6167a-223">A data e hora de validade do conjunto de backup.</span><span class="sxs-lookup"><span data-stu-id="6167a-223">The date and time the backup set expires.</span></span>|  
  
     <span data-ttu-id="6167a-224">Clique em **Verificar** para verificar a integridade dos arquivos de backup necessários para executar a operação de restauração de página.</span><span class="sxs-lookup"><span data-stu-id="6167a-224">Click **Verify** to check the integrity of the backup files needed to perform the page restore operation.</span></span>  
  
4.  <span data-ttu-id="6167a-225">Para identificar páginas corrompidas, com o banco de dados correto selecionado na caixa **Banco de Dados** , clique em **Verificar Páginas de Banco de Dados**.</span><span class="sxs-lookup"><span data-stu-id="6167a-225">To identify corrupted pages, with the correct database selected in the **Database** box, click **Check Database Pages**.</span></span> <span data-ttu-id="6167a-226">Essa é uma operação em execução longa.</span><span class="sxs-lookup"><span data-stu-id="6167a-226">This is a long running operation.</span></span>  
  
    > [!WARNING]  
    >  <span data-ttu-id="6167a-227">Para restaurar páginas específicas que não estão danificadas, clique em **Adicionar** e digite a **ID do Arquivo** e a **ID da Página** referentes às páginas que serão restauradas.</span><span class="sxs-lookup"><span data-stu-id="6167a-227">To restore specific pages that are not corrupted, click **Add** and enter the **File ID** and **Page ID** of the pages to be restored.</span></span>  
  
5.  <span data-ttu-id="6167a-228">A grade de páginas é usada para identificar as páginas a serem restauradas.</span><span class="sxs-lookup"><span data-stu-id="6167a-228">The pages grid is used to identify the pages to be restored.</span></span> <span data-ttu-id="6167a-229">Inicialmente, essa grade é preenchida por meio da tabela de sistema [suspect_pages](/sql/relational-databases/system-tables/suspect-pages-transact-sql) .</span><span class="sxs-lookup"><span data-stu-id="6167a-229">Initially, this grid is populated from the [suspect_pages](/sql/relational-databases/system-tables/suspect-pages-transact-sql) system table.</span></span> <span data-ttu-id="6167a-230">Para adicionar ou remover páginas da grade, clique em **Adicionar** ou **Remover**.</span><span class="sxs-lookup"><span data-stu-id="6167a-230">To add or remove pages from the grid, click **Add** or **Remove**.</span></span> <span data-ttu-id="6167a-231">Para obter mais informações, veja [Gerenciar a tabela suspect_pages &#40;SQL Server&#41;](manage-the-suspect-pages-table-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="6167a-231">For more information, see [Manage the suspect_pages Table &#40;SQL Server&#41;](manage-the-suspect-pages-table-sql-server.md).</span></span>  
  
6.  <span data-ttu-id="6167a-232">A grade **Conjuntos de backup** lista os conjuntos de backup no plano de restauração padrão.</span><span class="sxs-lookup"><span data-stu-id="6167a-232">The **Backup sets** grid lists the backup sets in the default restore plan.</span></span> <span data-ttu-id="6167a-233">Se desejar, clique em **Verificar** para verificar se os backups são legíveis e se os conjuntos de backup são completos, sem restaurá-los.</span><span class="sxs-lookup"><span data-stu-id="6167a-233">Optionally, click **Verify** to verify that the backups are readable and that the backup sets are complete, without restoring them.</span></span> <span data-ttu-id="6167a-234">Para obter mais informações, consulte [RESTORE VERIFYONLY &#40;Transact-SQL&#41;](/sql/t-sql/statements/restore-statements-verifyonly-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="6167a-234">For more information, see [RESTORE VERIFYONLY &#40;Transact-SQL&#41;](/sql/t-sql/statements/restore-statements-verifyonly-transact-sql).</span></span>  
  
     <span data-ttu-id="6167a-235">**Páginas**</span><span class="sxs-lookup"><span data-stu-id="6167a-235">**Pages**</span></span>  
  
7.  <span data-ttu-id="6167a-236">Para restaurar as páginas listadas na grade de páginas, clique em **OK**.</span><span class="sxs-lookup"><span data-stu-id="6167a-236">To restore the pages listed in the pages grid, click **OK**.</span></span>  
  
##  <a name="using-transact-sql"></a><a name="TsqlProcedure"></a> <span data-ttu-id="6167a-237">Usando o Transact-SQL</span><span class="sxs-lookup"><span data-stu-id="6167a-237">Using Transact-SQL</span></span>  
 <span data-ttu-id="6167a-238">Para especificar uma página em uma instrução RESTORE DATABASE, você precisará da ID do arquivo que contém a página e da ID da página.</span><span class="sxs-lookup"><span data-stu-id="6167a-238">To specify a page in a RESTORE DATABASE statement, you need the file ID of the file containing the page and the page ID of the page.</span></span> <span data-ttu-id="6167a-239">A sintaxe necessária é a seguinte:</span><span class="sxs-lookup"><span data-stu-id="6167a-239">The required syntax is as follows:</span></span>  
  
 `RESTORE DATABASE <database_name>`  
  
 `PAGE = '<file: page> [ ,... n ] ' [ ,... n ]`  
  
 `FROM <backup_device> [ ,... n ]`  
  
 `WITH NORECOVERY`  
  
 <span data-ttu-id="6167a-240">Para obter mais informações sobre os parâmetros da opção PAGE, consulte [Argumentos RESTORE &#40;Transact-SQL&#41;](/sql/t-sql/statements/restore-statements-arguments-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="6167a-240">For more information about the parameters of the PAGE option, see [RESTORE Arguments &#40;Transact-SQL&#41;](/sql/t-sql/statements/restore-statements-arguments-transact-sql).</span></span> <span data-ttu-id="6167a-241">Para obter mais informações sobre a sintaxe RESTORE DATABASE, consulte [RESTORE &#40;Transact-SQL&#41;](/sql/t-sql/statements/restore-statements-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="6167a-241">For more information about the RESTORE DATABASE syntax, see [RESTORE &#40;Transact-SQL&#41;](/sql/t-sql/statements/restore-statements-transact-sql).</span></span>  
  
#### <a name="to-restore-pages"></a><span data-ttu-id="6167a-242">Para restaurar páginas</span><span class="sxs-lookup"><span data-stu-id="6167a-242">To restore pages</span></span>  
  
1.  <span data-ttu-id="6167a-243">Obtenha a ID das páginas a serem restauradas.</span><span class="sxs-lookup"><span data-stu-id="6167a-243">Obtain the page IDs of the damaged pages to be restored.</span></span> <span data-ttu-id="6167a-244">Uma soma de verificação ou um erro de gravação interrompida retorna a ID da página, fornecendo as informações necessárias para especificar as páginas.</span><span class="sxs-lookup"><span data-stu-id="6167a-244">A checksum or torn write error returns page ID, providing the information required for specifying the pages.</span></span> <span data-ttu-id="6167a-245">Para consultar a ID de uma página danificada, use qualquer uma das origens a seguir.</span><span class="sxs-lookup"><span data-stu-id="6167a-245">To look up page ID of a damaged page, use any of the following sources.</span></span>  
  
    |<span data-ttu-id="6167a-246">Fonte de ID de página</span><span class="sxs-lookup"><span data-stu-id="6167a-246">Source of page ID</span></span>|<span data-ttu-id="6167a-247">Tópico</span><span class="sxs-lookup"><span data-stu-id="6167a-247">Topic</span></span>|  
    |-----------------------|-----------|  
    |<span data-ttu-id="6167a-248">**msdb..suspect_pages**</span><span class="sxs-lookup"><span data-stu-id="6167a-248">**msdb..suspect_pages**</span></span>|[<span data-ttu-id="6167a-249">Gerenciar a tabela suspect_pages &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="6167a-249">Manage the suspect_pages Table &#40;SQL Server&#41;</span></span>](manage-the-suspect-pages-table-sql-server.md)|  
    |<span data-ttu-id="6167a-250">Log de erros</span><span class="sxs-lookup"><span data-stu-id="6167a-250">Error log</span></span>|[<span data-ttu-id="6167a-251">Exibir o log de erros do SQL Server &#40;SQL Server Management Studio&#41;</span><span class="sxs-lookup"><span data-stu-id="6167a-251">View the SQL Server Error Log &#40;SQL Server Management Studio&#41;</span></span>](../../ssms/sql-server-management-studio-ssms.md)|  
    |<span data-ttu-id="6167a-252">Rastreamento de evento</span><span class="sxs-lookup"><span data-stu-id="6167a-252">Event traces</span></span>|[<span data-ttu-id="6167a-253">Monitorar e responder a eventos</span><span class="sxs-lookup"><span data-stu-id="6167a-253">Monitor and Respond to Events</span></span>](../../ssms/agent/monitor-and-respond-to-events.md)|  
    |<span data-ttu-id="6167a-254">DBCC</span><span class="sxs-lookup"><span data-stu-id="6167a-254">DBCC</span></span>|[<span data-ttu-id="6167a-255">DBCC &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="6167a-255">DBCC &#40;Transact-SQL&#41;</span></span>](/sql/t-sql/database-console-commands/dbcc-transact-sql)|  
    |<span data-ttu-id="6167a-256">Provedor WMI</span><span class="sxs-lookup"><span data-stu-id="6167a-256">WMI provider</span></span>|[<span data-ttu-id="6167a-257">Provedor WMI para conceitos de eventos de servidor</span><span class="sxs-lookup"><span data-stu-id="6167a-257">WMI Provider for Server Events Concepts</span></span>](../wmi-provider-server-events/wmi-provider-for-server-events-concepts.md)|  
  
2.  <span data-ttu-id="6167a-258">Inicie uma restauração de página com um backup completo do banco de dados, do arquivo ou do grupo de arquivos que contém a página.</span><span class="sxs-lookup"><span data-stu-id="6167a-258">Start a page restore with a full database, file, or filegroup backup that contains the page.</span></span> <span data-ttu-id="6167a-259">Na instrução RESTORE DATABASE, use a cláusula PAGE para listar as IDs de página de todas as páginas a serem restauradas.</span><span class="sxs-lookup"><span data-stu-id="6167a-259">In the RESTORE DATABASE statement, use the PAGE clause to list the page IDs of all of the pages to be restored.</span></span>  
  
3.  <span data-ttu-id="6167a-260">Aplique os diferenciais mais recentes.</span><span class="sxs-lookup"><span data-stu-id="6167a-260">Apply the most recent differentials .</span></span>  
  
4.  <span data-ttu-id="6167a-261">Aplique os backups de log subsequentes.</span><span class="sxs-lookup"><span data-stu-id="6167a-261">Apply the subsequent log backups.</span></span>  
  
5.  <span data-ttu-id="6167a-262">Crie um novo backup de log do banco de dados que inclui o LSN final das páginas restauradas, ou seja, o ponto no qual a última página restaurada foi colocada offline.</span><span class="sxs-lookup"><span data-stu-id="6167a-262">Create a new log backup of the database that includes the final LSN of the restored pages, that is, the point at which the last restored page is taken offline.</span></span> <span data-ttu-id="6167a-263">O LSN final, que é definido como parte da primeira restauração na sequência, é o LSN refeito de destino.</span><span class="sxs-lookup"><span data-stu-id="6167a-263">The final LSN, which is set as part of the first restore in the sequence, is the redo target LSN.</span></span> <span data-ttu-id="6167a-264">O roll forward Online do arquivo que contém a página pode parar no LSN refeito de destino.</span><span class="sxs-lookup"><span data-stu-id="6167a-264">Online roll forward of the file containing the page is able to stop at the redo target LSN.</span></span> <span data-ttu-id="6167a-265">Para saber qual é o LSN refeito de destino de um arquivo, consulte a coluna **redo_target_lsn** de **sys.master_files**.</span><span class="sxs-lookup"><span data-stu-id="6167a-265">To learn the current redo target LSN of a file, see the **redo_target_lsn** column of **sys.master_files**.</span></span> <span data-ttu-id="6167a-266">Para obter mais informações, consulte [sys.master_files &#40;Transact-SQL&#41;](/sql/relational-databases/system-catalog-views/sys-master-files-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="6167a-266">For more information, see [sys.master_files &#40;Transact-SQL&#41;](/sql/relational-databases/system-catalog-views/sys-master-files-transact-sql).</span></span>  
  
6.  <span data-ttu-id="6167a-267">Restaure o novo backup de log.</span><span class="sxs-lookup"><span data-stu-id="6167a-267">Restore the new log backup.</span></span> <span data-ttu-id="6167a-268">Depois que o novo backup de log é aplicado, a restauração da página está concluída e as páginas podem ser usadas.</span><span class="sxs-lookup"><span data-stu-id="6167a-268">After this new log backup is applied, the page restore is completed and the pages are now usable.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="6167a-269">Essa sequência é análoga à sequência de restauração de um arquivo.</span><span class="sxs-lookup"><span data-stu-id="6167a-269">This sequence is analogous to a file restore sequence.</span></span> <span data-ttu-id="6167a-270">Na realidade, restaurações de página e arquivo podem ser executadas como parte da mesma sequência.</span><span class="sxs-lookup"><span data-stu-id="6167a-270">In fact, page restore and file restores can both be performed as part of the same sequence.</span></span>  
  
###  <a name="example-transact-sql"></a><a name="TsqlExample"></a> <span data-ttu-id="6167a-271">Exemplo (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="6167a-271">Example (Transact-SQL)</span></span>  
 <span data-ttu-id="6167a-272">O exemplo a seguir restaura quatro páginas danificadas do arquivo `B` com `NORECOVERY`.</span><span class="sxs-lookup"><span data-stu-id="6167a-272">The following example restores four damaged pages of file `B` with `NORECOVERY`.</span></span> <span data-ttu-id="6167a-273">Em seguida, dois backups de log são aplicados com `NORECOVERY`, seguido pelo backup do final do log que é restaurado com `RECOVERY`.</span><span class="sxs-lookup"><span data-stu-id="6167a-273">Next, two log backups are applied with `NORECOVERY`, followed with the tail-log backup, which is restored with `RECOVERY`.</span></span> <span data-ttu-id="6167a-274">Este exemplo executa uma restauração online.</span><span class="sxs-lookup"><span data-stu-id="6167a-274">This example performs an online restore.</span></span> <span data-ttu-id="6167a-275">No exemplo, a ID de arquivo de `B` é `1`, e as IDs de página das páginas danificadas são `57`, `202`, `916`e `1016`.</span><span class="sxs-lookup"><span data-stu-id="6167a-275">In the example, the file ID of file `B` is `1`, and the page IDs of the damaged pages are `57`, `202`, `916`, and `1016`.</span></span>  
  
```sql  
RESTORE DATABASE <database> PAGE='1:57, 1:202, 1:916, 1:1016'  
   FROM <file_backup_of_file_B>   
   WITH NORECOVERY;  
RESTORE LOG <database> FROM <log_backup>   
   WITH NORECOVERY;  
RESTORE LOG <database> FROM <log_backup>   
   WITH NORECOVERY;   
BACKUP LOG <database> TO <new_log_backup>;   
RESTORE LOG <database> FROM <new_log_backup> WITH RECOVERY;  
GO  
```  
  
## <a name="see-also"></a><span data-ttu-id="6167a-276">Consulte Também</span><span class="sxs-lookup"><span data-stu-id="6167a-276">See Also</span></span>  
 <span data-ttu-id="6167a-277">[RESTORE &#40;Transact-SQL&#41;](/sql/t-sql/statements/restore-statements-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="6167a-277">[RESTORE &#40;Transact-SQL&#41;](/sql/t-sql/statements/restore-statements-transact-sql) </span></span>  
 <span data-ttu-id="6167a-278">[Aplicar backups de log de transações &#40;SQL Server&#41;](transaction-log-backups-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="6167a-278">[Apply Transaction Log Backups &#40;SQL Server&#41;](transaction-log-backups-sql-server.md) </span></span>  
 <span data-ttu-id="6167a-279">[Gerenciar a tabela suspect_pages &#40;SQL Server&#41;](manage-the-suspect-pages-table-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="6167a-279">[Manage the suspect_pages Table &#40;SQL Server&#41;](manage-the-suspect-pages-table-sql-server.md) </span></span>  
 [<span data-ttu-id="6167a-280">Fazer backup e restaurar bancos de dados do SQL Server</span><span class="sxs-lookup"><span data-stu-id="6167a-280">Back Up and Restore of SQL Server Databases</span></span>](back-up-and-restore-of-sql-server-databases.md)  
  
  
