---
title: SQL Server Backup gerenciado para o Azure | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: backup-restore
ms.topic: conceptual
ms.assetid: afa01165-39e0-4efe-ac0e-664edb8599fd
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: 8fbe94eace1244b4e5f37b60848d47b69ecc8144
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87581977"
---
# <a name="sql-server-managed--backup-to-azure"></a><span data-ttu-id="689c3-102">SQL Server Backup gerenciado para o Azure</span><span class="sxs-lookup"><span data-stu-id="689c3-102">SQL Server Managed  Backup to Azure</span></span>
  [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)]<span data-ttu-id="689c3-103">gerencia e automatiza backups de SQL Server para o serviço de armazenamento de BLOBs do Azure.</span><span class="sxs-lookup"><span data-stu-id="689c3-103">manages and automates SQL Server backups to the Azure Blob storage service.</span></span> <span data-ttu-id="689c3-104">A estratégia de backup usada pelo [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] baseia-se no período de retenção e na carga de trabalho da transação no banco de dados.</span><span class="sxs-lookup"><span data-stu-id="689c3-104">The backup strategy used by [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] is based on the retention period and the transaction workload on the database.</span></span> [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] <span data-ttu-id="689c3-105">oferece suporte para restauração pontual durante o período de retenção especificado.</span><span class="sxs-lookup"><span data-stu-id="689c3-105">supports point in time restore for the retention time period specified.</span></span>   
<span data-ttu-id="689c3-106">O [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] pode ser habilitado no nível do banco de dados ou da instância para gerenciar todos os bancos de dados na instância do SQL Server.</span><span class="sxs-lookup"><span data-stu-id="689c3-106">[!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] can be enabled at the database level or at the instance level to manage all the databases on the instance of SQL Server.</span></span> <span data-ttu-id="689c3-107">O SQL Server pode ser executado localmente ou em ambientes hospedados como a máquina virtual do Azure.</span><span class="sxs-lookup"><span data-stu-id="689c3-107">The SQL Server can be running on-premises or in hosted environments like the Azure virtual machine.</span></span> [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)]<span data-ttu-id="689c3-108">é recomendado para SQL Server em execução em máquinas virtuais do Azure.</span><span class="sxs-lookup"><span data-stu-id="689c3-108">is recommended for SQL Server running on Azure Virtual Machines.</span></span>  
  
## <a name="benefits-of-automating-sql-server-backup-using-ss_smartbackup"></a><span data-ttu-id="689c3-109">Benefícios da automatização do Backup do SQL Server usando o [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)]</span><span class="sxs-lookup"><span data-stu-id="689c3-109">Benefits of Automating SQL Server Backup Using [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)]</span></span>  
  
-   <span data-ttu-id="689c3-110">Atualmente, a automatização de backups para vários bancos de dados requer o desenvolvimento de uma estratégia de backup, a gravação de código personalizado e o agendamento de backups.</span><span class="sxs-lookup"><span data-stu-id="689c3-110">Currently automating backups for multiple databases requires developing a backup strategy, writing custom code, and scheduling backups.</span></span> <span data-ttu-id="689c3-111">Usando o [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)], você será solicitado a fornecer somente as configurações de período de retenção e o local do armazenamento.</span><span class="sxs-lookup"><span data-stu-id="689c3-111">Using [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)], you only are required provide the retention period settings and the storage location.</span></span> [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)]<span data-ttu-id="689c3-112">agenda, executa e mantém os backups.</span><span class="sxs-lookup"><span data-stu-id="689c3-112">schedules, performs and maintains the backups.</span></span>  
  
     <span data-ttu-id="689c3-113">O [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] pode ser configurado no nível do banco de dados ou definido com as configurações padrão para uma instância do SQL Server.</span><span class="sxs-lookup"><span data-stu-id="689c3-113">[!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] can be configured at the database level or at configured with default settings for an instance of SQL Server.</span></span> <span data-ttu-id="689c3-114">Automatizar o backup usando [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] o tem os seguintes benefícios:</span><span class="sxs-lookup"><span data-stu-id="689c3-114">Automating backup using [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] has the following benefits:</span></span>  
  
    -   <span data-ttu-id="689c3-115">Ao definir os padrões no nível da instância, você pode aplicar essas configurações a qualquer banco de dados criado depois disso, removendo assim o risco de novos bancos de dados não serem submetidos a backup e de perda de dados.</span><span class="sxs-lookup"><span data-stu-id="689c3-115">By setting the defaults at the instance level, you can apply these settings to any database created thereafter, thus removing the risk of new databases not being backed up and data loss.</span></span>  
  
    -   <span data-ttu-id="689c3-116">A opção de habilitar o [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] e definir o período de retenção no nível do banco de dados permite que você substitua as configurações padrão definidas no nível da instância.</span><span class="sxs-lookup"><span data-stu-id="689c3-116">The option of enabling [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] and setting the retention period at the database level, allows you to override the default settings set at the instance level.</span></span> <span data-ttu-id="689c3-117">Isso permite que você tenha um controle mais granular da capacidade de recuperação de um banco de dados específico.</span><span class="sxs-lookup"><span data-stu-id="689c3-117">This allows you to have more granular control on the recoverability for a specific database.</span></span>  
  
-   <span data-ttu-id="689c3-118">Com o [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)], você não precisa especificar o tipo ou a frequência dos backups de um banco de dados.</span><span class="sxs-lookup"><span data-stu-id="689c3-118">With [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)], you do not have to specify the type or frequency of the backups for a database.</span></span>  <span data-ttu-id="689c3-119">Você especifica o período de retenção e [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] determina o tipo e a frequência dos backups de um banco de dados que armazena os backups no serviço de armazenamento de BLOBs do Azure.</span><span class="sxs-lookup"><span data-stu-id="689c3-119">You specify the retention period, and [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] determines the type and frequency of backups for a database stores the backups on Azure Blob storage service.</span></span> <span data-ttu-id="689c3-120">Para obter mais detalhes sobre o conjunto de critérios que o [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] usa para criar a estratégia de backup, consulte a seção [componentes e conceitos](#Concepts) neste tópico.</span><span class="sxs-lookup"><span data-stu-id="689c3-120">For more details on the set of criteria that [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] uses to create the backup strategy,, see the [Components and Concepts](#Concepts) section in this topic.</span></span>  
  
-   <span data-ttu-id="689c3-121">Quando configurado para usar a criptografia, você tem a segurança adicional dos dados do backup.</span><span class="sxs-lookup"><span data-stu-id="689c3-121">When configured to use encryption, you have additional security for the backup data.</span></span> <span data-ttu-id="689c3-122">Para obter mais informações, consulte [criptografia de backup](backup-encryption.md)</span><span class="sxs-lookup"><span data-stu-id="689c3-122">For more information, see [Backup Encryption](backup-encryption.md)</span></span>  
  
 <span data-ttu-id="689c3-123">Para obter mais detalhes sobre os benefícios de usar o armazenamento de BLOBs do Azure para [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] backups, consulte [SQL Server Backup e restauração com o serviço de armazenamento de BLOBs do Azure](sql-server-backup-and-restore-with-microsoft-azure-blob-storage-service.md)</span><span class="sxs-lookup"><span data-stu-id="689c3-123">For more details on the benefits of using Azure Blob storage for [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] backups, see [SQL Server Backup and Restore with Azure Blob Storage Service](sql-server-backup-and-restore-with-microsoft-azure-blob-storage-service.md)</span></span>  
  
## <a name="terms-and-definitions"></a><span data-ttu-id="689c3-124">Termos e definições</span><span class="sxs-lookup"><span data-stu-id="689c3-124">Terms and Definitions</span></span>  
 [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)]  
 <span data-ttu-id="689c3-125">Um recurso do SQL Server que automatiza o backup do banco de dados e mantém os backups com base no período de retenção.</span><span class="sxs-lookup"><span data-stu-id="689c3-125">A SQL Server feature that automates database backup and maintains the backups based on the retention period.</span></span>  
  
 <span data-ttu-id="689c3-126">Período de retenção</span><span class="sxs-lookup"><span data-stu-id="689c3-126">Retention Period</span></span>  
 <span data-ttu-id="689c3-127">O período de retenção é usado pelo [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] para determinar quais arquivos de backup devem ser mantidos no armazenamento para recuperar um banco de dados pontual dentro do período especificado.</span><span class="sxs-lookup"><span data-stu-id="689c3-127">The retention period is used by [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] to determine what backup files should be retained in the storage in order to recover a database to a point in time within the time frame specified.</span></span>  <span data-ttu-id="689c3-128">Os valores com suporte estão no intervalo de 1-30 dias.</span><span class="sxs-lookup"><span data-stu-id="689c3-128">The supported values are in the range of 1-30 days.</span></span>  
  
 <span data-ttu-id="689c3-129">Cadeia de logs</span><span class="sxs-lookup"><span data-stu-id="689c3-129">Log Chain</span></span>  
 <span data-ttu-id="689c3-130">Uma sequência contínua de backups de log é denominada cadeia de logs.</span><span class="sxs-lookup"><span data-stu-id="689c3-130">A continuous sequence of log backups is called a log chain.</span></span> <span data-ttu-id="689c3-131">Uma cadeia de logs começa com um backup completo do banco de dados.</span><span class="sxs-lookup"><span data-stu-id="689c3-131">A log chain starts with a full backup of the database.</span></span>  
  
##  <a name="requirements-concepts-and-components"></a><a name="Concepts"></a><span data-ttu-id="689c3-132">Requisitos, conceitos e componentes</span><span class="sxs-lookup"><span data-stu-id="689c3-132">Requirements, Concepts, and Components</span></span>  
  
  
###  <a name="permissions"></a><a name="Security"></a> <span data-ttu-id="689c3-133">Permissões</span><span class="sxs-lookup"><span data-stu-id="689c3-133">Permissions</span></span>  
 <span data-ttu-id="689c3-134">O Transact-SQL é a principal interface usada para configurar e monitorar o [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)].</span><span class="sxs-lookup"><span data-stu-id="689c3-134">Transact-SQL is the main interface used to configure and monitor [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)].</span></span> <span data-ttu-id="689c3-135">Em geral, para executar os procedimentos armazenados de configuração, **db_backupoperator** função de banco de dados com permissões para **alterar qualquer credencial** e `EXECUTE` permissões no procedimento armazenado **sp_delete_backuphistory** é necessária.</span><span class="sxs-lookup"><span data-stu-id="689c3-135">In general, to run the configuration stored procedures, **db_backupoperator** database role with **ALTER ANY CREDENTIAL** permissions, and `EXECUTE` permissions on **sp_delete_backuphistory** stored procedure is required.</span></span>  <span data-ttu-id="689c3-136">Os procedimentos armazenados e as funções usadas para examinar informações normalmente requerem permissões `Execute` no procedimento armazenado e `Select` na função respectivamente.</span><span class="sxs-lookup"><span data-stu-id="689c3-136">Stored procedures and functions used to review information typically require `Execute` permissions on the stored procedure and `Select` on the function respectively.</span></span>  
  
###  <a name="prerequisites"></a><a name="Prereqs"></a> <span data-ttu-id="689c3-137">Pré-requisitos</span><span class="sxs-lookup"><span data-stu-id="689c3-137">Prerequisites</span></span>  
 <span data-ttu-id="689c3-138">**Pré-requisitos:**</span><span class="sxs-lookup"><span data-stu-id="689c3-138">**Prerequisites:**</span></span>  
  
 <span data-ttu-id="689c3-139">O **serviço de armazenamento do Azure** é usado pelo [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] para armazenar os arquivos de backup.</span><span class="sxs-lookup"><span data-stu-id="689c3-139">**Azure Storage service** is used by [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] to store the backup files.</span></span>    <span data-ttu-id="689c3-140">Os conceitos, a estrutura e os requisitos para a criação de uma conta de armazenamento do Azure são explicados em detalhes na seção [introdução aos principais componentes e conceitos](sql-server-backup-to-url.md#intorkeyconcepts) do tópico **SQL Server Backup to URL** .</span><span class="sxs-lookup"><span data-stu-id="689c3-140">The concepts, structure, and requirements for creating an Azure storage account is explained in detail in the [Introduction to Key Components and Concepts](sql-server-backup-to-url.md#intorkeyconcepts) section of the **SQL Server Backup to URL** topic.</span></span>  
  
 <span data-ttu-id="689c3-141">A **credencial do SQL** é usada para armazenar as informações necessárias para autenticar a conta de armazenamento do Azure.</span><span class="sxs-lookup"><span data-stu-id="689c3-141">**SQL Credential** is used to store the information required to authenticate to the Azure storage account.</span></span> <span data-ttu-id="689c3-142">O objeto de Credencial do SQL armazena o nome da conta e as informações de chave de acesso.</span><span class="sxs-lookup"><span data-stu-id="689c3-142">The SQL Credential object stores the account name and the access key information.</span></span> <span data-ttu-id="689c3-143">Para obter mais informações, consulte a seção [Introduction to Key Components and Concepts](sql-server-backup-and-restore-with-microsoft-azure-blob-storage-service.md) no tópico **SQL Server Backup to URL** .</span><span class="sxs-lookup"><span data-stu-id="689c3-143">For more information, see the [Introduction to Key Components and Concepts](sql-server-backup-and-restore-with-microsoft-azure-blob-storage-service.md) section in the **SQL Server Backup to URL** topic.</span></span> <span data-ttu-id="689c3-144">Para obter instruções sobre como criar uma credencial do SQL para armazenar informações de autenticação do armazenamento do Azure, consulte [lição 2: criar uma credencial de SQL Server](../../tutorials/lesson-2-create-a-sql-server-credential.md).</span><span class="sxs-lookup"><span data-stu-id="689c3-144">For a walkthrough on how to create a SQL Credential to store Azure Storage authentication information, see [Lesson 2: Create a SQL Server Credential](../../tutorials/lesson-2-create-a-sql-server-credential.md).</span></span>  
  
###  <a name="concepts-and-key-components"></a><a name="Concepts_Components"></a><span data-ttu-id="689c3-145">Conceitos e componentes principais</span><span class="sxs-lookup"><span data-stu-id="689c3-145">Concepts and Key Components</span></span>  
 <span data-ttu-id="689c3-146">O [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] é um recurso que gerencia as operações de backup.</span><span class="sxs-lookup"><span data-stu-id="689c3-146">The [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] is a feature that manages the backup operations.</span></span> <span data-ttu-id="689c3-147">Ele armazena os metadados no banco de dados **msdb** e usa trabalhos do sistema para gravar backups completos de log de transações e bancos de dados.</span><span class="sxs-lookup"><span data-stu-id="689c3-147">It stores the metadata in the **msdb** database and uses system jobs to write full database and transaction log backups.</span></span>  
  
#### <a name="components"></a><span data-ttu-id="689c3-148">Componentes</span><span class="sxs-lookup"><span data-stu-id="689c3-148">Components</span></span>  
 <span data-ttu-id="689c3-149">Transact-SQL é a principal interface para interagir com o [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)].</span><span class="sxs-lookup"><span data-stu-id="689c3-149">Transact-SQL is the main interface to interact with [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)].</span></span> <span data-ttu-id="689c3-150">Os procedimentos armazenados do sistema são usados para habilitar, configurar e monitorar o [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)].</span><span class="sxs-lookup"><span data-stu-id="689c3-150">System stored procedures are used for enabling, configuring, and monitoring [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)].</span></span> <span data-ttu-id="689c3-151">As funções do sistema são usadas para recuperar parâmetros de configuração existentes, valores de parâmetro e informações do arquivo de backup.</span><span class="sxs-lookup"><span data-stu-id="689c3-151">System functions are used to retrieve existing configuration settings, parameter values, and backup file information.</span></span> <span data-ttu-id="689c3-152">Os eventos estendidos são usados navegar por erros e avisos.</span><span class="sxs-lookup"><span data-stu-id="689c3-152">Extended events are used to surface errors and warnings.</span></span> <span data-ttu-id="689c3-153">Os mecanismos do alerta são habilitados por meio de trabalhos do SQL Agent e do Gerenciamento Baseado em Política do SQL Server.</span><span class="sxs-lookup"><span data-stu-id="689c3-153">Alert mechanisms are enabled through SQL Agent jobs and SQL Server Policy Based Management.</span></span> <span data-ttu-id="689c3-154">A seguir é mostrada uma lista dos objetos e uma descrição dessa funcionalidade em relação ao [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)].</span><span class="sxs-lookup"><span data-stu-id="689c3-154">The following is a list of the objects and a description of its functionality in relation to [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)].</span></span>  
  
 <span data-ttu-id="689c3-155">Os cmdlets do PowerShell também estão disponíveis para configurar o [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)].</span><span class="sxs-lookup"><span data-stu-id="689c3-155">PowerShell cmdlets are also available to configure [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)].</span></span> <span data-ttu-id="689c3-156">O SQL Server Management Studio oferece suporte à restauração de backups criados pelo [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] usando a tarefa **Restaurar Banco de Dados**</span><span class="sxs-lookup"><span data-stu-id="689c3-156">SQL Server Management Studio supports restoring backups created by [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] by using the **Restore Database** task</span></span>  
  
|||  
|-|-|  
|<span data-ttu-id="689c3-157">Objeto do Sistema</span><span class="sxs-lookup"><span data-stu-id="689c3-157">System Object</span></span>|<span data-ttu-id="689c3-158">Descrição</span><span class="sxs-lookup"><span data-stu-id="689c3-158">Description</span></span>|  
|<span data-ttu-id="689c3-159">**MSDB**</span><span class="sxs-lookup"><span data-stu-id="689c3-159">**MSDB**</span></span>|<span data-ttu-id="689c3-160">Armazena os metadados, o histórico de backup de todos os backups criados pelo [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)].</span><span class="sxs-lookup"><span data-stu-id="689c3-160">Stores the metadata, backup history for all the backups created by [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)].</span></span>|  
|<span data-ttu-id="689c3-161">[smart_admin. set_db_backup &#40;&#41;do Transact-SQL](https://msdn.microsoft.com/library/dn451013(v=sql.120).aspx)</span><span class="sxs-lookup"><span data-stu-id="689c3-161">[smart_admin.set_db_backup &#40;Transact-SQL&#41;](https://msdn.microsoft.com/library/dn451013(v=sql.120).aspx)</span></span>|<span data-ttu-id="689c3-162">Procedimento armazenado do sistema para habilitar e configurar o [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] para um banco de dados.</span><span class="sxs-lookup"><span data-stu-id="689c3-162">System stored procedure for enabling and configuring [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] for a database.</span></span>|  
|<span data-ttu-id="689c3-163">[smart_admin. set_instance_backup &#40;&#41;do Transact-SQL](https://msdn.microsoft.com/library/dn451009(v=sql.120).aspx)</span><span class="sxs-lookup"><span data-stu-id="689c3-163">[smart_admin.set_instance_backup &#40;Transact-SQL&#41;](https://msdn.microsoft.com/library/dn451009(v=sql.120).aspx)</span></span>|<span data-ttu-id="689c3-164">Procedimento armazenado do sistema para habilitar e definir configurações padrão [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] para a instância de SQL Server.</span><span class="sxs-lookup"><span data-stu-id="689c3-164">System stored procedure for enabling and configuring default settings [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] for the SQL Server instance.</span></span>|  
|[<span data-ttu-id="689c3-165">smart_admin. sp_ backup_master_switch &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="689c3-165">smart_admin.sp_ backup_master_switch &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-stored-procedures/managed-backup-sp-backup-master-switch-transact-sql)|<span data-ttu-id="689c3-166">Procedimento armazenado do sistema para pausar e retomar o [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)].</span><span class="sxs-lookup"><span data-stu-id="689c3-166">System stored procedure to pause and resume [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)].</span></span>|  
|[<span data-ttu-id="689c3-167">smart_admin. sp_set_parameter &#40;&#41;do Transact-SQL</span><span class="sxs-lookup"><span data-stu-id="689c3-167">smart_admin.sp_set_parameter &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-stored-procedures/managed-backup-sp-set-parameter-transact-sql)|<span data-ttu-id="689c3-168">Procedimento armazenado do sistema para habilitar e configurar o monitoramento para o [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)].</span><span class="sxs-lookup"><span data-stu-id="689c3-168">System stored procedure to enable and configure monitoring for [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)].</span></span> <span data-ttu-id="689c3-169">Exemplos: habilitação de eventos estendidos, configurações de email para notificações.</span><span class="sxs-lookup"><span data-stu-id="689c3-169">Examples: enabling extended events, mail settings for notifications.</span></span>|  
|[<span data-ttu-id="689c3-170">smart_admin. sp_backup_on_demand &#40;&#41;do Transact-SQL</span><span class="sxs-lookup"><span data-stu-id="689c3-170">smart_admin.sp_backup_on_demand &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-stored-procedures/managed-backup-sp-backup-on-demand-transact-sql)|<span data-ttu-id="689c3-171">Procedimento armazenado do sistema que é usado para executar um backup ad hoc para um banco de dados que está habilitado para uso [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] sem interromper a cadeia de logs.</span><span class="sxs-lookup"><span data-stu-id="689c3-171">System stored procedure that is used to perform an ad-hoc backup for a database that is enabled to use [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] without breaking the log chain.</span></span>|  
|[<span data-ttu-id="689c3-172">smart_admin. fn_backup_db_config &#40;&#41;do Transact-SQL</span><span class="sxs-lookup"><span data-stu-id="689c3-172">smart_admin.fn_backup_db_config &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-functions/managed-backup-fn-backup-db-config-transact-sql)|<span data-ttu-id="689c3-173">Função do sistema que retorna o [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] status atual e os valores de configuração para um banco de dados ou para todos os bancos de dados na instância.</span><span class="sxs-lookup"><span data-stu-id="689c3-173">System function that returns the current [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] status and configuration values for a database, or for all the databases on the instance.</span></span>|  
|[<span data-ttu-id="689c3-174">smart_admin. fn_is_master_switch_on &#40;&#41;do Transact-SQL</span><span class="sxs-lookup"><span data-stu-id="689c3-174">smart_admin.fn_is_master_switch_on &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-functions/managed-backup-fn-is-master-switch-on-transact-sql)|<span data-ttu-id="689c3-175">Função do sistema que retorna o status da opção mestra.</span><span class="sxs-lookup"><span data-stu-id="689c3-175">System function that returns the status of the master switch.</span></span>|  
|[<span data-ttu-id="689c3-176">smart_admin. sp_get_backup_diagnostics &#40;&#41;do Transact-SQL</span><span class="sxs-lookup"><span data-stu-id="689c3-176">smart_admin.sp_get_backup_diagnostics &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-stored-procedures/managed-backup-sp-get-backup-diagnostics-transact-sql)|<span data-ttu-id="689c3-177">Procedimento armazenado do sistema usado para retornar os eventos registrados pelos Eventos Estendidos.</span><span class="sxs-lookup"><span data-stu-id="689c3-177">System stored procedure used to return the events logged by Extended Events.</span></span>|  
|[<span data-ttu-id="689c3-178">smart_admin. fn_get_parameter &#40;&#41;do Transact-SQL</span><span class="sxs-lookup"><span data-stu-id="689c3-178">smart_admin.fn_get_parameter &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-functions/managed-backup-fn-get-parameter-transact-sql)|<span data-ttu-id="689c3-179">Função do sistema que retorna os valores atuais de configurações do sistema de backup como configurações de monitoramento e de email para alertas.</span><span class="sxs-lookup"><span data-stu-id="689c3-179">System function that returns the current values for backup system settings such as monitoring and mail settings for alerts.</span></span>|  
|[<span data-ttu-id="689c3-180">smart_admin. fn_available_backups &#40;&#41;do Transact-SQL</span><span class="sxs-lookup"><span data-stu-id="689c3-180">smart_admin.fn_available_backups &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-functions/managed-backup-fn-available-backups-transact-sql)|<span data-ttu-id="689c3-181">Procedimento armazenado usado para recuperar backups disponíveis para um banco de dados especificado ou para todos os bancos de dados em uma instância.</span><span class="sxs-lookup"><span data-stu-id="689c3-181">Stored Procedure used to retrieve available backups for a specified database or for all the databases in an instance.</span></span>|  
|[<span data-ttu-id="689c3-182">smart_admin. fn_get_current_xevent_settings &#40;&#41;do Transact-SQL</span><span class="sxs-lookup"><span data-stu-id="689c3-182">smart_admin.fn_get_current_xevent_settings &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-functions/managed-backup-fn-get-current-xevent-settings-transact-sql)|<span data-ttu-id="689c3-183">Função do sistema que retorna as configurações atuais do evento estendido.</span><span class="sxs-lookup"><span data-stu-id="689c3-183">System function that returns the current extended event settings.</span></span>|  
|[<span data-ttu-id="689c3-184">smart_admin. fn_get_health_status &#40;&#41;do Transact-SQL</span><span class="sxs-lookup"><span data-stu-id="689c3-184">smart_admin.fn_get_health_status &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-functions/managed-backup-fn-get-health-status-transact-sql)|<span data-ttu-id="689c3-185">A função do sistema que retorna as contagens agregadas dos erros registrados pelos Eventos Estendidos por um período especificado.</span><span class="sxs-lookup"><span data-stu-id="689c3-185">System function that returns the aggregated counts of errors logged by Extended Events for a specified period.</span></span>|  
|[<span data-ttu-id="689c3-186">Monitorar o backup gerenciado do SQL Server para Azure</span><span class="sxs-lookup"><span data-stu-id="689c3-186">Monitor SQL Server Managed Backup to Azure</span></span>](sql-server-managed-backup-to-microsoft-azure.md)|<span data-ttu-id="689c3-187">Eventos Estendidos para monitoramento, notificação por email dos erros e avisos, gerenciamento baseado em políticas do SQL Server para [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)].</span><span class="sxs-lookup"><span data-stu-id="689c3-187">Extended Events for monitoring, email notification of errors and warnings, SQL Server Policy Based Management for [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] .</span></span>|  
  
#### <a name="backup-strategy"></a><span data-ttu-id="689c3-188">Estratégia de backup</span><span class="sxs-lookup"><span data-stu-id="689c3-188">Backup Strategy</span></span>  
 <span data-ttu-id="689c3-189">**Estratégia de backup usada por [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] :**</span><span class="sxs-lookup"><span data-stu-id="689c3-189">**Backup Strategy used by [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)]:**</span></span>  
  
 <span data-ttu-id="689c3-190">O tipo de backups agendados e a frequência de backup são determinados com base na carga de trabalho do banco de dados.</span><span class="sxs-lookup"><span data-stu-id="689c3-190">The type of backups scheduled and the backup frequency is determined based on the workload of the database.</span></span> <span data-ttu-id="689c3-191">As configurações de período de retenção são usadas para determinar o tempo durante o qual o arquivo de backup deverá ser mantido no armazenamento e a capacidade de recuperar o banco de dados para um determinado momento no período de retenção.</span><span class="sxs-lookup"><span data-stu-id="689c3-191">The retention period settings are used to determine the length of time a backup file should be retained in the storage and the ability to recover the database to a point-in-time within the retention period.</span></span>  
  
 <span data-ttu-id="689c3-192">**Contêiner de backup e convenções de nomenclatura de arquivo:**</span><span class="sxs-lookup"><span data-stu-id="689c3-192">**Backup Container and File Naming Conventions:**</span></span>  
  
 [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)]<span data-ttu-id="689c3-193">nomeia o contêiner de armazenamento do Azure usando o SQL Server nome da instância para todos os bancos de dados, exceto bancos de dados de disponibilidade.</span><span class="sxs-lookup"><span data-stu-id="689c3-193">names the Azure storage container using the SQL Server Instance Name for all databases except availability databases.</span></span>  <span data-ttu-id="689c3-194">Para bancos de dados de disponibilidade, o GUID do grupo de disponibilidade é usado para nomear o contêiner de armazenamento do Azure.</span><span class="sxs-lookup"><span data-stu-id="689c3-194">For availability databases, the Availability Group GUID is used to name the Azure storage container.</span></span>  
  
 <span data-ttu-id="689c3-195">O arquivo de backup para bancos de dados que não estão em disponibilidade é nomeado usando a seguinte convenção: o nome é criado usando os primeiros 40 caracteres do nome do banco de dados, o GUID do Database sem o '-' e o carimbo de data/hora.</span><span class="sxs-lookup"><span data-stu-id="689c3-195">The backup file for non availability databases are named using the following convention: The name is created using the first 40 characters of the database name, the database GUID without the '-', and the timestamp.</span></span> <span data-ttu-id="689c3-196">O caractere de sublinhado é inserido entre segmentos como separadores.</span><span class="sxs-lookup"><span data-stu-id="689c3-196">The underscore character is inserted between segments as separators.</span></span> <span data-ttu-id="689c3-197">A extensão de arquivo **.bak** é usada no backup completo e a extensão de arquivo **.log** é usada nos backups de log.</span><span class="sxs-lookup"><span data-stu-id="689c3-197">The **.bak** file extension is used for full backup and **.log** for log backups.</span></span> <span data-ttu-id="689c3-198">Para bancos de dados do Grupo de Disponibilidade, além da convenção de nomenclatura de arquivo descrita acima, o GUID do banco de dados do Grupo de Disponibilidade é adicionado após os 40 caracteres do nome do banco de dados.</span><span class="sxs-lookup"><span data-stu-id="689c3-198">For Avaialbility Group databases, in addition to the file naming convention described above, the Availability Group database GUID is added after the 40 characters of the database name.</span></span> <span data-ttu-id="689c3-199">O valor de GUID do banco de dados do Grupo de Disponibilidade é o valor para o group_database_id em sys.databases.</span><span class="sxs-lookup"><span data-stu-id="689c3-199">The Availability Group database GUID value is the value for group_database_id in sys.databases.</span></span>  
  
 <span data-ttu-id="689c3-200">**Backup completo do banco de dados:** [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] o Agent agendará um backup de banco de dados completo se qualquer uma das seguintes opções for verdadeira.</span><span class="sxs-lookup"><span data-stu-id="689c3-200">**Full Database Backup:** [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] agent schedules a full database backup if any of the following is true.</span></span>  
  
-   <span data-ttu-id="689c3-201">Um banco de dados é habilitado para o [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] pela primeira vez ou quando o [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] é habilitado com as configurações padrão no nível da instância.</span><span class="sxs-lookup"><span data-stu-id="689c3-201">A database is [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] enabled for the first time, or when [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] is enabled with default settings at the instance level.</span></span>  
  
-   <span data-ttu-id="689c3-202">O crescimento do log desde o backup completo do banco de dados mais recente é igual a ou maior que 1 GB.</span><span class="sxs-lookup"><span data-stu-id="689c3-202">The log growth since last full database backup is equal to or larger than 1 GB.</span></span>  
  
-   <span data-ttu-id="689c3-203">O intervalo de tempo máximo de uma semana passou desde o último backup completo do banco de dados.</span><span class="sxs-lookup"><span data-stu-id="689c3-203">The maximum time interval of one week has passed since the last full database backup.</span></span>  
  
-   <span data-ttu-id="689c3-204">A cadeia de log foi interrompida.</span><span class="sxs-lookup"><span data-stu-id="689c3-204">The log chain is broken.</span></span> [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] <span data-ttu-id="689c3-205">verifica periodicamente se a cadeia de logs está intacta comparando o primeiro e o último LSNs dos arquivos de backup.</span><span class="sxs-lookup"><span data-stu-id="689c3-205">periodically checks to see whether the log chain is intact by comparing the first and last LSNs of the backup files.</span></span> <span data-ttu-id="689c3-206">Se houver uma quebra na cadeia de logs por qualquer motivo, o [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] agendará um backup completo do banco de dados.</span><span class="sxs-lookup"><span data-stu-id="689c3-206">If there is break in the log chain for any reason, [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] schedules a full database backup.</span></span> <span data-ttu-id="689c3-207">O motivo mais comum para quebras da cadeia de log provavelmente é a emissão de um comando de backup com o uso de Transact-SQL ou por meio da tarefa Backup no SQL Server Management Studio.</span><span class="sxs-lookup"><span data-stu-id="689c3-207">The most common reason for log chain breaks is probably a backup command issued using Transact-SQL or through the Backup task in SQL Server Management Studio.</span></span>  <span data-ttu-id="689c3-208">Outros cenários comuns incluem a exclusão acidental dos arquivos de log de backup ou substituições acidentais de backup.</span><span class="sxs-lookup"><span data-stu-id="689c3-208">Other common scenarios include accidental deletion of the backup log files, or accidental overwrites of backups.</span></span>  
  
 <span data-ttu-id="689c3-209">**Backup do log de transações:** [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] agenda um backup de log se qualquer uma das seguintes opções for verdadeira:</span><span class="sxs-lookup"><span data-stu-id="689c3-209">**Transaction Log Backup:** [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] schedules a log backup if any of the following is true:</span></span>  
  
-   <span data-ttu-id="689c3-210">Não há nenhum histórico de backup de log que possa ser encontrado.</span><span class="sxs-lookup"><span data-stu-id="689c3-210">There is no log backup history that can be found.</span></span> <span data-ttu-id="689c3-211">Isso geralmente é verdadeiro quando o [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] é habilitado pela primeira vez.</span><span class="sxs-lookup"><span data-stu-id="689c3-211">This is usually true when [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] is enabled for the first time.</span></span>  
  
-   <span data-ttu-id="689c3-212">O espaço de log de transações usado é 5 MB ou mais.</span><span class="sxs-lookup"><span data-stu-id="689c3-212">The transaction log space used is 5 MB or larger.</span></span>  
  
-   <span data-ttu-id="689c3-213">O intervalo de tempo máximo de 2 horas desde que o último backup de log foi atingido.</span><span class="sxs-lookup"><span data-stu-id="689c3-213">The maximum time interval of 2 hours since the last log backup is reached.</span></span>  
  
-   <span data-ttu-id="689c3-214">Quando o backup de log de transações está atrás de um backup completo de banco de dados.</span><span class="sxs-lookup"><span data-stu-id="689c3-214">Any time the transaction log backup is lagging behind a full database backup.</span></span> <span data-ttu-id="689c3-215">A meta é manter a cadeia de logs à frente do backup completo.</span><span class="sxs-lookup"><span data-stu-id="689c3-215">The goal is to keep the log chain ahead of full backup.</span></span>  
  
#### <a name="retention-period-settings"></a><span data-ttu-id="689c3-216">Configurações de período de retenção</span><span class="sxs-lookup"><span data-stu-id="689c3-216">Retention Period Settings</span></span>  
 <span data-ttu-id="689c3-217">Ao habilitar o backup, você deve definir o período de retenção em dias: O valor mínimo é 1 dia e o máximo, 30 dias.</span><span class="sxs-lookup"><span data-stu-id="689c3-217">When enabling backup you must set the retention period in days: The minimum is 1 day, and maximum is 30 days.</span></span>  
  
 [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] <span data-ttu-id="689c3-218">, com base nas configurações de período de retenção, avalia a capacidade de recuperação para um momento específico, a fim de determinar quais arquivos de backup serão mantidos e identificar os arquivos de backup a serem excluídos.</span><span class="sxs-lookup"><span data-stu-id="689c3-218">based on the retention period settings, assesses the ability to recover to a point in time in the specified time, to determine what backup files to keep and identifying the backup files to delete.</span></span> <span data-ttu-id="689c3-219">A backup_finish_date do backup é usada para determinar e associar o tempo especificado pelas configurações de período de retenção.</span><span class="sxs-lookup"><span data-stu-id="689c3-219">The backup_finish_date of the backup is used to determine and match the time specified by the retention period settings.</span></span>  
  
#### <a name="important-considerations"></a><span data-ttu-id="689c3-220">Considerações importantes</span><span class="sxs-lookup"><span data-stu-id="689c3-220">Important Considerations</span></span>  
 <span data-ttu-id="689c3-221">Algumas considerações são importantes para compreender o impacto delas nas operações do [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)].</span><span class="sxs-lookup"><span data-stu-id="689c3-221">There are some considerations that are important to understand their impact on [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] operations.</span></span> <span data-ttu-id="689c3-222">As situações estão listadas abaixo:</span><span class="sxs-lookup"><span data-stu-id="689c3-222">They are listed below:</span></span>  
  
-   <span data-ttu-id="689c3-223">No caso de um banco de dados, se houver um trabalho de backup de banco de dados completo existente, o [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] aguardará a conclusão do trabalho atual antes da realização de um backup de banco de dados completo no mesmo banco de dados.</span><span class="sxs-lookup"><span data-stu-id="689c3-223">For a database, if there is an existing full database backup job running, then [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] waits for the current job to be completed before doing another full database backup for the same database.</span></span> <span data-ttu-id="689c3-224">Da mesma forma, somente um backup de log de transações pode ser executado em um determinado momento.</span><span class="sxs-lookup"><span data-stu-id="689c3-224">Similarly, only one transaction log backup can be running at a given time.</span></span> <span data-ttu-id="689c3-225">No entanto, um backup completo de banco de dados e um backup de log de transações podem ser executados simultaneamente.</span><span class="sxs-lookup"><span data-stu-id="689c3-225">However, a full database backup and a transaction log backup can run concurrently.</span></span> <span data-ttu-id="689c3-226">As falhas são registradas como Eventos Estendidos.</span><span class="sxs-lookup"><span data-stu-id="689c3-226">Failures are logged as Extended Events.</span></span>  
  
-   <span data-ttu-id="689c3-227">Se mais de 10 backups de bancos de dados completos simultâneos estiverem agendados, um aviso será emitido por meio do canal de depuração de Eventos Estendidos.</span><span class="sxs-lookup"><span data-stu-id="689c3-227">If more than 10 concurrent full database backups are scheduled, a warning is issued through the debug channel of Extended Events.</span></span> [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] <span data-ttu-id="689c3-228">mantém uma fila de prioridade para os bancos de dados restantes que precisam de backup até que todos os backups sejam agendados e concluídos.</span><span class="sxs-lookup"><span data-stu-id="689c3-228">then maintains a priority queue for the remaining databases that require a backup until the all backups are scheduled and completed.</span></span>  
  
###  <a name="support-limitations"></a><a name="support_limits"></a> <span data-ttu-id="689c3-229">Limitações de suporte</span><span class="sxs-lookup"><span data-stu-id="689c3-229">Support Limitations</span></span>  
 <span data-ttu-id="689c3-230">As limitações a seguir são específicas para o [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)]:</span><span class="sxs-lookup"><span data-stu-id="689c3-230">The following are some limitations specific to [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)]:</span></span>  
  
-   <span data-ttu-id="689c3-231">O agente [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] oferece suporte para backups de banco de dados somente: Completos e Backups de Log.</span><span class="sxs-lookup"><span data-stu-id="689c3-231">[!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] agent supports database backups only: Full and Log Backups.</span></span>  <span data-ttu-id="689c3-232">Não há suporte para a automação de backups de arquivo.</span><span class="sxs-lookup"><span data-stu-id="689c3-232">File backup automation is not supported.</span></span>  
  
-   <span data-ttu-id="689c3-233">No momento, as operações do [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] têm suporte por meio do Transact-SQL.</span><span class="sxs-lookup"><span data-stu-id="689c3-233">[!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] operations are currently supported using Transact-SQL.</span></span> <span data-ttu-id="689c3-234">O monitoramento e a solução de problemas podem ser feitos com o uso de Eventos Estendidos.</span><span class="sxs-lookup"><span data-stu-id="689c3-234">Monitoring and troubleshooting can be done by using Extended Events.</span></span> <span data-ttu-id="689c3-235">O suporte ao PowerShell e ao SMO está limitado à definição das configurações padrão de período de retenção e armazenamento de uma instância do SQL Server, e ao monitoramento do status de backup e da integridade geral com base nas políticas de Gerenciamento Baseado em Políticas do SQL Server.</span><span class="sxs-lookup"><span data-stu-id="689c3-235">PowerShell and SMO support is limited to configuring storage and retention period default settings for an instance of SQL Server, and monitoring the backup status and overall health based on SQL Server Policy Based Management policies.</span></span>  
  
-   <span data-ttu-id="689c3-236">Não há suporte para os bancos de dados do sistema.</span><span class="sxs-lookup"><span data-stu-id="689c3-236">System Databases are not supported.</span></span>  
  
-   <span data-ttu-id="689c3-237">O serviço de armazenamento de BLOBs do Azure é a única opção de armazenamento de backup com suporte.</span><span class="sxs-lookup"><span data-stu-id="689c3-237">Azure Blob Storage service is the only supported backup storage option.</span></span> <span data-ttu-id="689c3-238">Não há suporte para backups em disco ou fita.</span><span class="sxs-lookup"><span data-stu-id="689c3-238">Backups to disk or tape are not supported.</span></span>  
  
-   <span data-ttu-id="689c3-239">Atualmente, o tamanho máximo de arquivo permitido para um blob de página no armazenamento do Azure é de 1 TB.</span><span class="sxs-lookup"><span data-stu-id="689c3-239">Currently, the maximum file size allowed for a Page Blob in Azure Storage is 1 TB.</span></span> <span data-ttu-id="689c3-240">Os arquivos de backup superiores a 1 TB apresentarão falha.</span><span class="sxs-lookup"><span data-stu-id="689c3-240">Backup files larger than 1 TB will fail.</span></span> <span data-ttu-id="689c3-241">Para evitar essa situação, é recomendável que, para bancos de dados grandes, você use a compactação e teste o tamanho do arquivo de backup antes de configurar o [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)].</span><span class="sxs-lookup"><span data-stu-id="689c3-241">In order to avoid this situation, we recommend that for large databases, use compression and test the backup file size prior to setting up [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)].</span></span> <span data-ttu-id="689c3-242">Você pode fazer o teste fazendo backup em um disco local ou fazendo backup manualmente no armazenamento do Azure usando a `BACKUP TO URL` instrução Transact-SQL.</span><span class="sxs-lookup"><span data-stu-id="689c3-242">You can either test by backing up to a local disk or manually backing up to Azure storage using `BACKUP TO URL` Transact-SQL statement.</span></span> <span data-ttu-id="689c3-243">Para saber mais, confira [SQL Server Backup to URL](sql-server-backup-to-url.md).</span><span class="sxs-lookup"><span data-stu-id="689c3-243">For more information, see [SQL Server Backup to URL](sql-server-backup-to-url.md).</span></span>  
  
-   <span data-ttu-id="689c3-244">Modelos de recuperação: somente os bancos de dados definidos como modelo Completo ou Bulk-logged têm suporte.</span><span class="sxs-lookup"><span data-stu-id="689c3-244">Recovery Models: Only databases set to Full or Bulk-logged model are supported.</span></span>  <span data-ttu-id="689c3-245">Os bancos de dados definidos como modelo de recuperação simples não têm suporte.</span><span class="sxs-lookup"><span data-stu-id="689c3-245">Databases set to simple recovery model are not supported.</span></span>  
  
-   [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] <span data-ttu-id="689c3-246">pode ter algumas limitações quando configurado com outras tecnologias com suporte para backup, alta disponibilidade ou recuperação de desastres.</span><span class="sxs-lookup"><span data-stu-id="689c3-246">may have some limitations when it is configured with other technologies supporting backup, high availability, or disaster recovery.</span></span> <span data-ttu-id="689c3-247">Para obter mais informações, consulte [SQL Server Backup gerenciado para o Azure: interoperabilidade e coexistência](../../database-engine/sql-server-managed-backup-to-windows-azure-interoperability-and-coexistence.md).</span><span class="sxs-lookup"><span data-stu-id="689c3-247">For more information, see [SQL Server Managed Backup to Azure: Interoperability and Coexistence](../../database-engine/sql-server-managed-backup-to-windows-azure-interoperability-and-coexistence.md).</span></span>  
  
##  <a name="related-tasks"></a><a name="RelatedTasks"></a> <span data-ttu-id="689c3-248">Tarefas relacionadas</span><span class="sxs-lookup"><span data-stu-id="689c3-248">Related Tasks</span></span>  
  
|||  
|-|-|  
|<span data-ttu-id="689c3-249">**Descrições de tarefas**</span><span class="sxs-lookup"><span data-stu-id="689c3-249">**Task descriptions**</span></span>|<span data-ttu-id="689c3-250">**Tópico**</span><span class="sxs-lookup"><span data-stu-id="689c3-250">**Topic**</span></span>|  
|<span data-ttu-id="689c3-251">As tarefas básicas, como configurar o [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] para um banco de dados ou definir as configurações padrão no nível da instância, desabilitando o [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] no nível da instância ou do banco de dados, pausando e reiniciando o [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)].</span><span class="sxs-lookup"><span data-stu-id="689c3-251">Basic tasks like configuring [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] for a database, or configuring default settings at the instance level, disabling [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] at instance or database level, pausing and restarting [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)].</span></span>|[<span data-ttu-id="689c3-252">Backup gerenciado do SQL Server para Azure – Configurações de retenção e armazenamento</span><span class="sxs-lookup"><span data-stu-id="689c3-252">SQL Server Managed Backup to Azure - Retention and Storage Settings</span></span>](../../database-engine/sql-server-managed-backup-to-windows-azure-retention-and-storage-settings.md)|  
|<span data-ttu-id="689c3-253">**Tutorial:** Instruções passo a passo para configurar e monitorar o [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="689c3-253">**Tutorial:** Step by Step instructions to configuring and monitoring [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)].</span></span>|[<span data-ttu-id="689c3-254">Configurar o backup gerenciado do SQL Server para Azure</span><span class="sxs-lookup"><span data-stu-id="689c3-254">Setting up SQL Server Managed Backup to Azure</span></span>](enable-sql-server-managed-backup-to-microsoft-azure.md)|  
|<span data-ttu-id="689c3-255">**Tutorial:** Instruções passo a passo para configurar e monitorar [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] bancos de dados no grupo de disponibilidade.</span><span class="sxs-lookup"><span data-stu-id="689c3-255">**Tutorial:** Step by Step instructions to configuring and monitoring [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] for databases in Availability Group.</span></span>|[<span data-ttu-id="689c3-256">Configurar o backup gerenciado do SQL Server para Azure para grupos de disponibilidade</span><span class="sxs-lookup"><span data-stu-id="689c3-256">Setting up SQL Server Managed Backup to Azure for Availability Groups</span></span>](../../database-engine/setting-up-sql-server-managed-backup-to-windows-azure-for-availability-groups.md)|  
|<span data-ttu-id="689c3-257">Ferramentas e conceitos, e tarefas relacionadas ao monitoramento do [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)].</span><span class="sxs-lookup"><span data-stu-id="689c3-257">Tools and Concepts and tasks related to monitoring [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] .</span></span>|[<span data-ttu-id="689c3-258">Monitorar o backup gerenciado do SQL Server para Azure</span><span class="sxs-lookup"><span data-stu-id="689c3-258">Monitor SQL Server Managed Backup to Azure</span></span>](sql-server-managed-backup-to-microsoft-azure.md)|  
|<span data-ttu-id="689c3-259">Ferramentas e etapas para a solução de problemas do [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)].</span><span class="sxs-lookup"><span data-stu-id="689c3-259">Tools and steps to troubleshooting [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)].</span></span>|[<span data-ttu-id="689c3-260">Solução de problemas SQL Server Backup gerenciado para o Azure</span><span class="sxs-lookup"><span data-stu-id="689c3-260">Troubleshooting SQL Server Managed  Backup to Azure</span></span>](../../database-engine/troubleshooting-sql-server-managed-backup-to-windows-azure.md)|  
  
## <a name="see-also"></a><span data-ttu-id="689c3-261">Consulte Também</span><span class="sxs-lookup"><span data-stu-id="689c3-261">See Also</span></span>  
 <span data-ttu-id="689c3-262">[SQL Server Backup e restauração com o serviço de armazenamento de BLOBs do Azure](sql-server-backup-and-restore-with-microsoft-azure-blob-storage-service.md) </span><span class="sxs-lookup"><span data-stu-id="689c3-262">[SQL Server Backup and Restore with Azure Blob Storage Service](sql-server-backup-and-restore-with-microsoft-azure-blob-storage-service.md) </span></span>  
 <span data-ttu-id="689c3-263">[SQL Server Backup para URL](sql-server-backup-to-url.md) </span><span class="sxs-lookup"><span data-stu-id="689c3-263">[SQL Server Backup to URL](sql-server-backup-to-url.md) </span></span>  
 <span data-ttu-id="689c3-264">[SQL Server Backup gerenciado para o Azure: interoperabilidade e coexistência](../../database-engine/sql-server-managed-backup-to-windows-azure-interoperability-and-coexistence.md) </span><span class="sxs-lookup"><span data-stu-id="689c3-264">[SQL Server Managed Backup to Azure: Interoperability and Coexistence](../../database-engine/sql-server-managed-backup-to-windows-azure-interoperability-and-coexistence.md) </span></span>  
 [<span data-ttu-id="689c3-265">Solução de problemas SQL Server Backup gerenciado para o Azure</span><span class="sxs-lookup"><span data-stu-id="689c3-265">Troubleshooting SQL Server Managed  Backup to Azure</span></span>](../../database-engine/troubleshooting-sql-server-managed-backup-to-windows-azure.md)  
  
  
