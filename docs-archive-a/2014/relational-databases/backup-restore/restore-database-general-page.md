---
title: Restaurar banco de dados (página Geral) | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: backup-restore
ms.topic: conceptual
f1_keywords:
- sql12.swb.restoredb.general.f1
ms.assetid: 160cf58c-b06a-475f-9a69-2b051e5767ab
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: 2a497e6a6e4584aa064783eba2076b7e50b36e8f
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87581405"
---
# <a name="restore-database-general-page"></a><span data-ttu-id="66a26-102">Restaurar banco de dados (página Geral)</span><span class="sxs-lookup"><span data-stu-id="66a26-102">Restore Database (General Page)</span></span>
  <span data-ttu-id="66a26-103">Use a página **Geral** para especificar informações sobre os bancos de dados de origem e destino para uma operação de restauração de banco de dados.</span><span class="sxs-lookup"><span data-stu-id="66a26-103">Use the **General** page to specify information about the target and source databases for a database-restore operation.</span></span>  
  
 <span data-ttu-id="66a26-104">**Para usar o SQL Server Management Studio para restaurar o backup de um banco de dados**</span><span class="sxs-lookup"><span data-stu-id="66a26-104">**To use SQL Server Management Studio to restore a database backup**</span></span>  
  
-   [<span data-ttu-id="66a26-105">Restaurar um backup de banco de dados &#40;SQL Server Management Studio&#41;</span><span class="sxs-lookup"><span data-stu-id="66a26-105">Restore a Database Backup &#40;SQL Server Management Studio&#41;</span></span>](restore-a-database-backup-using-ssms.md)  
  
-   [<span data-ttu-id="66a26-106">Definir um dispositivo de backup lógico para uma unidade de fita &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="66a26-106">Define a Logical Backup Device for a Tape Drive &#40;SQL Server&#41;</span></span>](define-a-logical-backup-device-for-a-tape-drive-sql-server.md)  
  
> [!NOTE]  
>  <span data-ttu-id="66a26-107">Ao especificar uma tarefa de restauração usando [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] o, você pode gerar o script de [!INCLUDE[tsql](../../includes/tsql-md.md)] [restauração](/sql/t-sql/statements/restore-statements-transact-sql) correspondente clicando em **script** e, em seguida, selecionando um destino para o script.</span><span class="sxs-lookup"><span data-stu-id="66a26-107">When you specify a restore task by using [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)], you can generate the corresponding [!INCLUDE[tsql](../../includes/tsql-md.md)][RESTORE](/sql/t-sql/statements/restore-statements-transact-sql) script by clicking **Script** and then selecting a destination for the script.</span></span>  
  
## <a name="permissions"></a><span data-ttu-id="66a26-108">Permissões</span><span class="sxs-lookup"><span data-stu-id="66a26-108">Permissions</span></span>  
 <span data-ttu-id="66a26-109">Se o banco de dados que está sendo restaurado não existir, o usuário deverá ter permissões CREATE DATABASE para poder executar o comando RESTORE.</span><span class="sxs-lookup"><span data-stu-id="66a26-109">If the database being restored does not exist, the user must have CREATE DATABASE permissions to be able to execute RESTORE.</span></span> <span data-ttu-id="66a26-110">Se o banco de dados existir, as permissões RESTORE assumirão como padrão os membros das funções de servidor fixas **sysadmin** e **dbcreator** , e o proprietário (**dbo**) do banco de dados.</span><span class="sxs-lookup"><span data-stu-id="66a26-110">If the database exists, RESTORE permissions default to members of the **sysadmin** and **dbcreator** fixed server roles and the owner (**dbo**) of the database.</span></span>  
  
 <span data-ttu-id="66a26-111">As permissões RESTORE são concedidas a funções nas quais as informações de associação estão sempre disponíveis para o servidor.</span><span class="sxs-lookup"><span data-stu-id="66a26-111">RESTORE permissions are given to roles in which membership information is always readily available to the server.</span></span> <span data-ttu-id="66a26-112">Como a associação da função de banco de dados fixa pode ser verificada apenas quando o banco de dados está acessível e não danificado, o que nem sempre é o caso quando RESTORE é executado, os membros da função de banco de dados fixa **db_owner** não têm permissões RESTORE.</span><span class="sxs-lookup"><span data-stu-id="66a26-112">Because fixed database role membership can be checked only when the database is accessible and undamaged, which is not always the case when RESTORE is executed, members of the **db_owner** fixed database role do not have RESTORE permissions.</span></span>  
  
 <span data-ttu-id="66a26-113">A restauração a partir de um backup criptografado requer que as permissões `VIEW DEFINITION` no certificado ou na chave assimétrica sejam usadas na criptografia durante o backup.</span><span class="sxs-lookup"><span data-stu-id="66a26-113">Restoring from an encrypted backup requires `VIEW DEFINITION` permissions to the certificate or asymmetric key used to encrypt during backup.</span></span>  
  
## <a name="options"></a><span data-ttu-id="66a26-114">Opções</span><span class="sxs-lookup"><span data-stu-id="66a26-114">Options</span></span>  
  
### <a name="source"></a><span data-ttu-id="66a26-115">Fonte</span><span class="sxs-lookup"><span data-stu-id="66a26-115">Source</span></span>  
 <span data-ttu-id="66a26-116">As opções do painel **Restaurar de**identificam o local dos conjuntos de backup no banco de dados e os conjuntos de backups que você deseja restaurar.</span><span class="sxs-lookup"><span data-stu-id="66a26-116">The options of the **Restore from**panel identify the location of the backup sets for the database and which backup sets you want to restore.</span></span>  
  
|<span data-ttu-id="66a26-117">Termo</span><span class="sxs-lookup"><span data-stu-id="66a26-117">Term</span></span>|<span data-ttu-id="66a26-118">Definição</span><span class="sxs-lookup"><span data-stu-id="66a26-118">Definition</span></span>|  
|----------|----------------|  
|<span data-ttu-id="66a26-119">**Backup de banco de dados**</span><span class="sxs-lookup"><span data-stu-id="66a26-119">**Database**</span></span>|<span data-ttu-id="66a26-120">Selecione o banco de dados a ser restaurado na lista suspensa.</span><span class="sxs-lookup"><span data-stu-id="66a26-120">Select the database to restore from the drop-down list.</span></span> <span data-ttu-id="66a26-121">A lista contém apenas os bancos de dados dos quais foi feito um backup de acordo com o histórico de backup do **msdb** .</span><span class="sxs-lookup"><span data-stu-id="66a26-121">The list contains only databases that have been backed up according to the **msdb** backup history.</span></span>|  
|<span data-ttu-id="66a26-122">**Dispositivo**</span><span class="sxs-lookup"><span data-stu-id="66a26-122">**Device**</span></span>|<span data-ttu-id="66a26-123">Selecione os dispositivos lógicos ou físicos de backup (fitas, URLs ou arquivos) que contêm o backup ou os backups a serem restaurados.</span><span class="sxs-lookup"><span data-stu-id="66a26-123">Select the logical or physical backup devices (tapes, URL or files) that contain the backup or backups you want to restore.</span></span> <span data-ttu-id="66a26-124">Isso será necessário se o backup de banco de dados foi feito em uma instância diferente do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="66a26-124">This is required if the database backup was taken on a different instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span><br /><br /> <span data-ttu-id="66a26-125">Para selecionar um ou mais dispositivos de backup lógicos ou físicos, clique no botão Procurar que abre a caixa de diálogo **Selecione dispositivos de backup** .</span><span class="sxs-lookup"><span data-stu-id="66a26-125">To select one or more logical or physical backup devices, click the browse button which opens the **Select backup devices** dialog box.</span></span> <span data-ttu-id="66a26-126">Nessa caixa de diálogo você poderá selecionar até 64 dispositivos que pertencem a um único conjunto de mídias.</span><span class="sxs-lookup"><span data-stu-id="66a26-126">There, you can select up to 64 devices that belong to a single media set.</span></span> <span data-ttu-id="66a26-127">Os dispositivos de fita devem ser conectados fisicamente ao computador que executa a instância de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="66a26-127">Tape devices must be physically connected to the computer that is running the instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="66a26-128">Um arquivo de backup pode estar em um dispositivo de disco local ou remoto.</span><span class="sxs-lookup"><span data-stu-id="66a26-128">A backup file can be on a local or remove disk device.</span></span> <span data-ttu-id="66a26-129">Para obter mais informações, consulte [Dispositivos de backup &#40;SQL Server&#41;](backup-devices-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="66a26-129">For more information, see [Backup Devices &#40;SQL Server&#41;](backup-devices-sql-server.md).</span></span> <span data-ttu-id="66a26-130">Você também pode selecionar **URL** como o tipo de dispositivo para os arquivos de backup incluídos no armazenamento do Azure.</span><span class="sxs-lookup"><span data-stu-id="66a26-130">You can also select **URL** as the  device type for backup files stored in Azure storage.</span></span><br /><br /> <span data-ttu-id="66a26-131">Quando você fechar a caixa de diálogo **Selecione dispositivos de backup** , o dispositivo selecionado aparecerá como valores somente leitura na lista **Dispositivo** .</span><span class="sxs-lookup"><span data-stu-id="66a26-131">When you exit the **Select backup devices** dialog box, the selected device will appear as read-only values in the **Device** list.</span></span>|  
|<span data-ttu-id="66a26-132">**Backup de banco de dados**</span><span class="sxs-lookup"><span data-stu-id="66a26-132">**Database**</span></span>|<span data-ttu-id="66a26-133">Selecione o nome do banco de dados a partir do qual os backups deverão ser restaurados na lista suspensa.</span><span class="sxs-lookup"><span data-stu-id="66a26-133">Select the database name from which the backups should be restored from the dropdown list.</span></span><br /><br /> <span data-ttu-id="66a26-134">Observação: Essa lista estará disponível apenas quando **Dispositivo** for selecionado.</span><span class="sxs-lookup"><span data-stu-id="66a26-134">Note: This list is only available when **Device** is selected.</span></span> <span data-ttu-id="66a26-135">Apenas os bancos de dados que têm backups nos dispositivos selecionados estarão disponíveis.</span><span class="sxs-lookup"><span data-stu-id="66a26-135">Only databases that have backups on the selected devices will be available.</span></span>|  
  
### <a name="destination"></a><span data-ttu-id="66a26-136">Destino</span><span class="sxs-lookup"><span data-stu-id="66a26-136">Destination</span></span>  
 <span data-ttu-id="66a26-137">As opções do painel **Restaurar para** identificam o banco de dados e o ponto de restauração.</span><span class="sxs-lookup"><span data-stu-id="66a26-137">The options of the **Restore to** panel identify the database and restore point.</span></span>  
  
|<span data-ttu-id="66a26-138">Termo</span><span class="sxs-lookup"><span data-stu-id="66a26-138">Term</span></span>|<span data-ttu-id="66a26-139">Definição</span><span class="sxs-lookup"><span data-stu-id="66a26-139">Definition</span></span>|  
|----------|----------------|  
|<span data-ttu-id="66a26-140">**Backup de banco de dados**</span><span class="sxs-lookup"><span data-stu-id="66a26-140">**Database**</span></span>|<span data-ttu-id="66a26-141">Insira o banco de dados a ser restaurado na lista.</span><span class="sxs-lookup"><span data-stu-id="66a26-141">Enter the database to restore in the list.</span></span> <span data-ttu-id="66a26-142">Você pode digitar um novo banco de dados ou escolher um banco de dados existente na lista suspensa.</span><span class="sxs-lookup"><span data-stu-id="66a26-142">You can enter a new database or choose an existing database from the drop-down list.</span></span> <span data-ttu-id="66a26-143">A lista inclui todos os bancos de dados do servidor, excluindo os bancos de dados do sistema **mestre** e **tempdb**.</span><span class="sxs-lookup"><span data-stu-id="66a26-143">The list includes all databases on the server, excluding the system databases **master** and **tempdb**.</span></span><br /><br /> <span data-ttu-id="66a26-144">Observação: Para restaurar um backup protegido por senha, você deve usar a instrução [RESTORE](/sql/t-sql/statements/restore-statements-transact-sql) .</span><span class="sxs-lookup"><span data-stu-id="66a26-144">Note: To restore a password-protected backup, you must use the [RESTORE](/sql/t-sql/statements/restore-statements-transact-sql) statement.</span></span>|  
|<span data-ttu-id="66a26-145">**Restaurar para**</span><span class="sxs-lookup"><span data-stu-id="66a26-145">**Restore to**</span></span>|<span data-ttu-id="66a26-146">A caixa **Restaurar para** será definida, por padrão, como "Para o último backup obtido".</span><span class="sxs-lookup"><span data-stu-id="66a26-146">The **Restore to** box will be set "To the last backup taken" by default.</span></span> <span data-ttu-id="66a26-147">Você também pode clicar em **Linha do Tempo** para mostrar a caixa de diálogo **Linha do Tempo do Backup** que exibe o histórico de backup de banco de dados no formato de uma linha do tempo.</span><span class="sxs-lookup"><span data-stu-id="66a26-147">You can also click **Timeline** to show the **Backup Timeline** dialog box, which displays the database backup history in the form of a timeline.</span></span> <span data-ttu-id="66a26-148">Clique em **linha do tempo** para designar um específico `datetime` para o qual você deseja restaurar o banco de dados.</span><span class="sxs-lookup"><span data-stu-id="66a26-148">Click **Timeline** to designate a specific `datetime` to which you want to restore the database.</span></span> <span data-ttu-id="66a26-149">O banco de dados será restaurado então no estado em que estava naquele momento determinado especificado.</span><span class="sxs-lookup"><span data-stu-id="66a26-149">The database will then be restored to the state it was in at this specified point in time.</span></span> <span data-ttu-id="66a26-150">Consulte [Backup Timeline](backup-timeline.md).</span><span class="sxs-lookup"><span data-stu-id="66a26-150">See [Backup Timeline](backup-timeline.md).</span></span>|  
  
### <a name="restore-plan"></a><span data-ttu-id="66a26-151">Plano de restauração</span><span class="sxs-lookup"><span data-stu-id="66a26-151">Restore Plan</span></span>  
  
|<span data-ttu-id="66a26-152">Termo</span><span class="sxs-lookup"><span data-stu-id="66a26-152">Term</span></span>|<span data-ttu-id="66a26-153">Definição</span><span class="sxs-lookup"><span data-stu-id="66a26-153">Definition</span></span>|  
|----------|----------------|  
|<span data-ttu-id="66a26-154">**Conjuntos de backup a serem restaurados**</span><span class="sxs-lookup"><span data-stu-id="66a26-154">**Backup sets to restore**</span></span>|<span data-ttu-id="66a26-155">Exibe os conjuntos de backup disponíveis para o local especificado.</span><span class="sxs-lookup"><span data-stu-id="66a26-155">Displays the backup sets available for the specified location.</span></span> <span data-ttu-id="66a26-156">Cada conjunto de backup, o resultado de uma operação de backup única, é distribuído por todos os dispositivos do conjunto de mídias.</span><span class="sxs-lookup"><span data-stu-id="66a26-156">Each backup set, the result of a single backup operation, is distributed across all of the devices in the media set.</span></span> <span data-ttu-id="66a26-157">Por padrão, um plano de recuperação é sugerido para atingir a meta da operação de restauração que baseia-se na seleção dos conjuntos de backup necessários.</span><span class="sxs-lookup"><span data-stu-id="66a26-157">By default, a recovery plan is suggested to achieve the goal of the restore operation that is based on the selection of the required backup sets.</span></span> [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] <span data-ttu-id="66a26-158">usa o histórico de backup no **msdb** para identificar quais backups são necessários para restaurar um banco de dados, e cria um plano de restauração.</span><span class="sxs-lookup"><span data-stu-id="66a26-158">uses the backup history in **msdb** to identify which backups are required to restore a database, and creates a restore plan.</span></span> <span data-ttu-id="66a26-159">Por exemplo, para a restauração de um banco de dados, o plano de restauração seleciona o backup completo de banco de dados mais recente, seguido do backup de banco de dados mais recente, subsequente e diferencial, se houver.</span><span class="sxs-lookup"><span data-stu-id="66a26-159">For example, for a database restore, the restore plan selects the most recent full database backup followed by the most recent subsequent differential database backup, if any.</span></span> <span data-ttu-id="66a26-160">No modelo de recuperação completa, o plano de restauração, em seguida, seleciona todos os backups de log subsequentes.</span><span class="sxs-lookup"><span data-stu-id="66a26-160">Under the full recovery model, the restore plan then selects all subsequent log backups.</span></span><br /><br /> <span data-ttu-id="66a26-161">Para substituir o plano de recuperação sugerido, você pode alterar as seleções a seguir na grade.</span><span class="sxs-lookup"><span data-stu-id="66a26-161">To override the suggested recovery plan, you can change the following selections in the grid.</span></span> <span data-ttu-id="66a26-162">Todos os backups que dependem de um backup não selecionado serão desmarcados automaticamente.</span><span class="sxs-lookup"><span data-stu-id="66a26-162">Any backups that depend on a deselected backup are deselected automatically.</span></span><br /><br /> <span data-ttu-id="66a26-163">**Restaurar**:</span><span class="sxs-lookup"><span data-stu-id="66a26-163">**Restore**:</span></span><br />                          <span data-ttu-id="66a26-164">As caixas de seleção selecionadas indicam os conjuntos de backup a serem restaurados.</span><span class="sxs-lookup"><span data-stu-id="66a26-164">The selected check boxes indicate the backup sets to be restored.</span></span><br /><span data-ttu-id="66a26-165">**Nome**: o nome do conjunto de backup.</span><span class="sxs-lookup"><span data-stu-id="66a26-165">**Name**: The name of the backup set.</span></span><br /><span data-ttu-id="66a26-166">**Componente**: o componente de backup: banco de **dados**, **arquivo**ou **\<blank>** (para logs de transações).</span><span class="sxs-lookup"><span data-stu-id="66a26-166">**Component**: The backed-up component: **Database**, **File**, or **\<blank>** (for transaction logs).</span></span><br /><span data-ttu-id="66a26-167">**Digitar**: O tipo de backup realizado: **Total**, **Diferencial** ou **Log de Transações**.</span><span class="sxs-lookup"><span data-stu-id="66a26-167">**Type**: The type of backup performed: **Full**, **Differential**, or **Transaction Log**.</span></span><br /><span data-ttu-id="66a26-168">**Servidor**: O nome da instância [!INCLUDE[ssDE](../../includes/ssde-md.md)] que executou a operação de backup.</span><span class="sxs-lookup"><span data-stu-id="66a26-168">**Server**: The name of the [!INCLUDE[ssDE](../../includes/ssde-md.md)] instance that performed the backup operation.</span></span><br /><span data-ttu-id="66a26-169">**Banco de dados**: o nome do banco de dados envolvido na operação de backup.</span><span class="sxs-lookup"><span data-stu-id="66a26-169">**Database**: The name of the database involved in the backup operation.</span></span><br /><span data-ttu-id="66a26-170">**Posição**: A posição do conjunto de backup no volume.</span><span class="sxs-lookup"><span data-stu-id="66a26-170">**Position**: The position of the backup set in the volume.</span></span><br /><span data-ttu-id="66a26-171">**Primeiro LSN**: o número de sequência de log da primeira transação no conjunto de backup.</span><span class="sxs-lookup"><span data-stu-id="66a26-171">**First LSN**: The log sequence number of the first transaction in the backup set.</span></span> <span data-ttu-id="66a26-172">Em branco para backups de arquivo.</span><span class="sxs-lookup"><span data-stu-id="66a26-172">Blank for file backups.</span></span><br /><span data-ttu-id="66a26-173">**Último LSN**: o número de sequência de log da última transação no conjunto de backup.</span><span class="sxs-lookup"><span data-stu-id="66a26-173">**Last LSN**: The log sequence number of the last transaction in the backup set.</span></span> <span data-ttu-id="66a26-174">Em branco para backups de arquivo.</span><span class="sxs-lookup"><span data-stu-id="66a26-174">Blank for file backups.</span></span><br /><span data-ttu-id="66a26-175">**LSN do ponto de verificação**: o LSN (número de sequência de log) do ponto de verificação mais recente no momento em que o backup foi criado.</span><span class="sxs-lookup"><span data-stu-id="66a26-175">**Checkpoint LSN**: The log sequence number (LSN) of the most recent checkpoint at the time the backup was created.</span></span><br /><span data-ttu-id="66a26-176">**LSN completo**: o número de sequência de log do backup de banco de dados completo mais recente.</span><span class="sxs-lookup"><span data-stu-id="66a26-176">**Full LSN**: The log sequence number of the most recent full database backup.</span></span><br /><span data-ttu-id="66a26-177">**Data de início**: a data e a hora em que a operação de backup começou, apresentada na configuração regional do cliente.</span><span class="sxs-lookup"><span data-stu-id="66a26-177">**Start Date**: The date and time when the backup operation began, presented in the regional setting of the client.</span></span><br /><span data-ttu-id="66a26-178">**Data de término**: a data e a hora em que a operação de backup foi concluída, apresentada na configuração regional do cliente.</span><span class="sxs-lookup"><span data-stu-id="66a26-178">**Finish Date**: The date and time when the backup operation finished, presented in the regional setting of the client.</span></span><br /><span data-ttu-id="66a26-179">**Tamanho**: o tamanho do conjunto de backup em bytes.</span><span class="sxs-lookup"><span data-stu-id="66a26-179">**Size**: The size of the backup set in bytes.</span></span><br /><span data-ttu-id="66a26-180">**Nome de usuário**: o nome do usuário que realizou a operação de backup.</span><span class="sxs-lookup"><span data-stu-id="66a26-180">**User Name**: The name of the user who performed the backup operation.</span></span><br /><br /> <span data-ttu-id="66a26-181">**Expiração**: a data e a hora em que o conjunto de backup expira.</span><span class="sxs-lookup"><span data-stu-id="66a26-181">**Expiration**: The date and time the backup set expires.</span></span><br /><br /> <span data-ttu-id="66a26-182">As caixas de seleção serão habilitadas apenas quando a caixa de **Seleção Manual** estiver marcada.</span><span class="sxs-lookup"><span data-stu-id="66a26-182">The checkboxes are only enabled when the **Manual Selection** box is checked.</span></span> <span data-ttu-id="66a26-183">Isso permite selecionar os conjuntos de backup a serem restaurados.</span><span class="sxs-lookup"><span data-stu-id="66a26-183">This allows you to select which backup-sets are to be restored.</span></span><br /><br /> <span data-ttu-id="66a26-184">Quando a caixa **Seleção Manual** estiver marcada, a exatidão da opção Restaurar Plano será verificada a cada vez que for modificada.</span><span class="sxs-lookup"><span data-stu-id="66a26-184">When the **Manual Selection** box is checked, the accuracy of the Restore Plan is checked each time it is modified.</span></span> <span data-ttu-id="66a26-185">Se a sequência de backups estiver incorreta, será exibida uma mensagem de erro.</span><span class="sxs-lookup"><span data-stu-id="66a26-185">If the sequence of backups is incorrect, an error message will appear.</span></span>|  
|<span data-ttu-id="66a26-186">**Verificar mídia de backup**</span><span class="sxs-lookup"><span data-stu-id="66a26-186">**Verify Backup Media**</span></span>|<span data-ttu-id="66a26-187">Chama uma instrução RESTORE VERIFY_ONLY nos conjuntos de backup selecionados.</span><span class="sxs-lookup"><span data-stu-id="66a26-187">Calls a RESTORE VERIFY_ONLY statement on the selected backup-sets.</span></span><br /><br /> <span data-ttu-id="66a26-188">Observação: essa é uma operação de execução longa e seu progresso pode ser acompanhado e cancelado por meio do Monitor de Progresso na Estrutura da Caixa de Diálogo.</span><span class="sxs-lookup"><span data-stu-id="66a26-188">Note: This is a long-running operation, and its progress can be tracked and cancelled by using the Progress Monitor on the Dialog Framework.</span></span><br /><br /> <span data-ttu-id="66a26-189">Esse botão permite verificar a integridade dos arquivos de backup selecionados antes da restauração.</span><span class="sxs-lookup"><span data-stu-id="66a26-189">This button allows you to check the integrity of the selected backup files prior to restoring them.</span></span><br /><br /> <span data-ttu-id="66a26-190">Ao verificar a integridade de conjuntos de backup, o status do progresso na parte inferior esquerda da caixa de diálogo dirá "Verificando" em vez de "Executando".</span><span class="sxs-lookup"><span data-stu-id="66a26-190">When checking the integrity of backup sets, the progress status at the bottom left of the dialog box will read "Verifying" rather than "Executing."</span></span>|  
  
## <a name="compatibility-support"></a><span data-ttu-id="66a26-191">Suporte de compatibilidade</span><span class="sxs-lookup"><span data-stu-id="66a26-191">Compatibility Support</span></span>  
 <span data-ttu-id="66a26-192">No [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)], é possível restaurar um banco de dados de usuário de um backup de banco de dados criado por meio do [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] ou de uma versão posterior.</span><span class="sxs-lookup"><span data-stu-id="66a26-192">In [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)], you can restore a user database from a database backup that was created by using [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] or a later version.</span></span> <span data-ttu-id="66a26-193">No entanto, os backups do **mestre**, **modelo** e **msdb** que foram criados no [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] por meio do [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] não poderão ser restaurados pelo [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)].</span><span class="sxs-lookup"><span data-stu-id="66a26-193">However, backups of **master**, **model** and **msdb** that were created by using [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] through [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] cannot be restored by [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)].</span></span> <span data-ttu-id="66a26-194">Além disso, backups criados no [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] não podem ser restaurados por nenhuma versão anterior do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="66a26-194">Also, backups created in [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] cannot be restored by any earlier version of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span>  
  
 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] <span data-ttu-id="66a26-195">usa um caminho padrão diferente das versões anteriores.</span><span class="sxs-lookup"><span data-stu-id="66a26-195">uses a different default path than earlier versions.</span></span> <span data-ttu-id="66a26-196">Assim, para restaurar um banco de dados que foi criado no local padrão de uma versão anterior do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], você deve usar a opção MOVE.</span><span class="sxs-lookup"><span data-stu-id="66a26-196">Therefore, to restore a database that was created in the default location of an earlier version of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], you must use the MOVE option.</span></span>  
  
 <span data-ttu-id="66a26-197">Depois de você restaurar um banco de dados da versão anterior para o [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)], o banco de dados será atualizado automaticamente.</span><span class="sxs-lookup"><span data-stu-id="66a26-197">After you restore an earlier version database to [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)], the database is automatically upgraded.</span></span> <span data-ttu-id="66a26-198">Normalmente, o banco de dados se torna disponível imediatamente.</span><span class="sxs-lookup"><span data-stu-id="66a26-198">Typically, the database becomes available immediately.</span></span> <span data-ttu-id="66a26-199">No entanto, se o banco de dados do [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] tiver índices de texto completo, o processo de atualização importará, redefinirá ou recriará esses índices, dependendo da configuração da propriedade de servidor **Opção de Atualização de Texto Completo** .</span><span class="sxs-lookup"><span data-stu-id="66a26-199">However, if a [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] database has full-text indexes, the upgrade process either imports, resets, or rebuilds them, depending on the setting of the **Full-Text Upgrade Option** server property.</span></span> <span data-ttu-id="66a26-200">Se a opção de atualização for definida como **Importar** ou **Recriar**, os índices de texto completo permanecerão indisponíveis durante a atualização.</span><span class="sxs-lookup"><span data-stu-id="66a26-200">If the upgrade option is set to **Import** or **Rebuild**, the full-text indexes will be unavailable during the upgrade.</span></span> <span data-ttu-id="66a26-201">Dependendo da quantidade de dados a serem indexados, a importação poderá levar várias horas e a recriação poderá ser até dez vezes mais demorada.</span><span class="sxs-lookup"><span data-stu-id="66a26-201">Depending upon the amount of data being indexed, importing can take several hours, and rebuilding can take up to ten times longer.</span></span> <span data-ttu-id="66a26-202">Lembre-se também de que, quando a opção de atualização estiver definida como **Importar**, se não houver um catálogo de texto completo disponível, os índices de texto completo associados serão recompilados.</span><span class="sxs-lookup"><span data-stu-id="66a26-202">Note also that when the upgrade option is set to **Import**, if a full-text catalog is not available, the associated full-text indexes are rebuilt.</span></span>  
  
## <a name="restoring-from-an-encrypted-backup"></a><span data-ttu-id="66a26-203">Restaurando a partir de um backup criptografado</span><span class="sxs-lookup"><span data-stu-id="66a26-203">Restoring from an Encrypted Backup</span></span>  
 <span data-ttu-id="66a26-204">A restauração requer que o certificado ou a chave assimétrica usada originalmente para criar o backup esteja disponível na instância para a qual você está realizando a restauração.</span><span class="sxs-lookup"><span data-stu-id="66a26-204">Restore requires that the certificate or asymmetric key that was originally used to create the backup is available on the instance you are restoring to.</span></span> <span data-ttu-id="66a26-205">A conta que está executando a restauração deve ter as permissões `VIEW DEFINITIONS` no certificado ou na chave assimétrica.</span><span class="sxs-lookup"><span data-stu-id="66a26-205">The account performing the restore should have `VIEW DEFINITIONS` on the certificate or asymmetric key.</span></span> <span data-ttu-id="66a26-206">Os certificados usados para criptografar o backup não deverão ser renovados ou atualizados.</span><span class="sxs-lookup"><span data-stu-id="66a26-206">Certificates used to encrypt backup should not be renewed or updated.</span></span>  
  
## <a name="restoring-from-azure-storage"></a><span data-ttu-id="66a26-207">Restaurando do armazenamento do Azure</span><span class="sxs-lookup"><span data-stu-id="66a26-207">Restoring from Azure Storage</span></span>  
 <span data-ttu-id="66a26-208">Ao restaurar um backup armazenado no armazenamento do Azure, a interface do usuário de restauração tem uma nova opção de dispositivo de backup.</span><span class="sxs-lookup"><span data-stu-id="66a26-208">When restoring a backup stored in Azure storage, the Restore UI has a new backup device option.</span></span> <span data-ttu-id="66a26-209">**URL** na caixa de diálogo **Selecione dispositivos de backup** .</span><span class="sxs-lookup"><span data-stu-id="66a26-209">**URL** on the **Select backup devices** dialog.</span></span> <span data-ttu-id="66a26-210">Quando você clica em **Adicionar**, isso leva você para a caixa de diálogo **conectar ao Azure** que permite especificar as informações de credencial do SQL para autenticar a conta de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="66a26-210">When you click **Add**, this takes you to the **Connect to Azure** dialog that allows you to specify the SQL Credential information to authenticate to the storage account.</span></span>  <span data-ttu-id="66a26-211">Uma vez conectado à conta de armazenamento, os arquivos de backup são exibidos na caixa de diálogo **localizar um arquivo de backup no Azure** , onde você pode selecionar o arquivo a ser usado para a restauração.</span><span class="sxs-lookup"><span data-stu-id="66a26-211">Once connected to the storage account, the backup files are displayed in the **Locate a Backup file in Azure** dialog where you can select the file to use for the restore.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="66a26-212">Consulte Também</span><span class="sxs-lookup"><span data-stu-id="66a26-212">See Also</span></span>  
 <span data-ttu-id="66a26-213">[Dispositivos de backup &#40;SQL Server&#41;](backup-devices-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="66a26-213">[Backup Devices &#40;SQL Server&#41;](backup-devices-sql-server.md) </span></span>  
 <span data-ttu-id="66a26-214">[Restaurar um backup de um dispositivo &#40;SQL Server&#41;](restore-a-backup-from-a-device-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="66a26-214">[Restore a Backup from a Device &#40;SQL Server&#41;](restore-a-backup-from-a-device-sql-server.md) </span></span>  
 <span data-ttu-id="66a26-215">[Restaurar um banco de dados para uma transação marcada &#40;SQL Server Management Studio&#41;](restore-a-database-to-a-marked-transaction-sql-server-management-studio.md) </span><span class="sxs-lookup"><span data-stu-id="66a26-215">[Restore a Database to a Marked Transaction &#40;SQL Server Management Studio&#41;](restore-a-database-to-a-marked-transaction-sql-server-management-studio.md) </span></span>  
 <span data-ttu-id="66a26-216">[Restaurar um backup de log de transações &#40;SQL Server&#41;](restore-a-transaction-log-backup-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="66a26-216">[Restore a Transaction Log Backup &#40;SQL Server&#41;](restore-a-transaction-log-backup-sql-server.md) </span></span>  
 <span data-ttu-id="66a26-217">[Exibir o conteúdo de um arquivo ou fita de backup &#40;SQL Server&#41;](view-the-contents-of-a-backup-tape-or-file-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="66a26-217">[View the Contents of a Backup Tape or File &#40;SQL Server&#41;](view-the-contents-of-a-backup-tape-or-file-sql-server.md) </span></span>  
 <span data-ttu-id="66a26-218">[Exibir as propriedades e o conteúdo de um dispositivo de backup lógico &#40;SQL Server&#41;](view-the-properties-and-contents-of-a-logical-backup-device-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="66a26-218">[View the Properties and Contents of a Logical Backup Device &#40;SQL Server&#41;](view-the-properties-and-contents-of-a-logical-backup-device-sql-server.md) </span></span>  
 <span data-ttu-id="66a26-219">[Conjuntos de mídias, famílias de mídia e conjuntos de backup &#40;SQL Server&#41;](media-sets-media-families-and-backup-sets-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="66a26-219">[Media Sets, Media Families, and Backup Sets &#40;SQL Server&#41;](media-sets-media-families-and-backup-sets-sql-server.md) </span></span>  
 <span data-ttu-id="66a26-220">[Argumentos de RESTORE &#40;Transact-SQL&#41;](/sql/t-sql/statements/restore-statements-arguments-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="66a26-220">[RESTORE Arguments &#40;Transact-SQL&#41;](/sql/t-sql/statements/restore-statements-arguments-transact-sql) </span></span>  
 [<span data-ttu-id="66a26-221">Aplicar backups de log de transações &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="66a26-221">Apply Transaction Log Backups &#40;SQL Server&#41;</span></span>](transaction-log-backups-sql-server.md)  
  
  
