---
title: Dispositivos de backup (SQL Server) | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: backup-restore
ms.topic: conceptual
helpviewer_keywords:
- tape backup devices, about tape backup devices
- backup devices [SQL Server]
- disk backup devices [SQL Server]
- database backups [SQL Server], backup devices
- logical devices [SQL Server]
- backup devices [SQL Server], about backup devices
- backing up [SQL Server], backup devices
- removable media [SQL Server]
- network shares [SQL Server]
- backups [SQL Server], backup devices
- tape backup devices
- physical devices [SQL Server]
- backing up databases [SQL Server], backup devices
- devices [SQL Server]
ms.assetid: 35a8e100-3ff2-4844-a5da-dd088c43cba4
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: a8abbba087679d263c00484764ecf445d6e5a006
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87686309"
---
# <a name="backup-devices-sql-server"></a><span data-ttu-id="bc564-102">Dispositivos de backup (SQL Server)</span><span class="sxs-lookup"><span data-stu-id="bc564-102">Backup Devices (SQL Server)</span></span>
  <span data-ttu-id="bc564-103">Durante uma operação de backup em um banco de dados do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , os dados submetidos a backup (o *backup*) são gravados em um dispositivo de backup físico.</span><span class="sxs-lookup"><span data-stu-id="bc564-103">During a backup operation on a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] database, the backed up data (the *backup*) is written to a physical backup device.</span></span> <span data-ttu-id="bc564-104">Esse dispositivo de backup físico é inicializado quando o primeiro backup em um conjunto de mídias é gravado nele.</span><span class="sxs-lookup"><span data-stu-id="bc564-104">This physical backup device is initialized when the first backup in a media set is written to it.</span></span> <span data-ttu-id="bc564-105">Os backups em um conjunto de um ou mais dispositivos de backup compõem um único conjunto de mídias.</span><span class="sxs-lookup"><span data-stu-id="bc564-105">The backups on a set of one or more backup devices compose a single media set.</span></span>  
  
 <span data-ttu-id="bc564-106">**Neste tópico:**</span><span class="sxs-lookup"><span data-stu-id="bc564-106">**In this Topic:**</span></span>  
  
-   [<span data-ttu-id="bc564-107">Termos e definições</span><span class="sxs-lookup"><span data-stu-id="bc564-107">Terms and Definitions</span></span>](#TermsAndDefinitions)  
  
-   [<span data-ttu-id="bc564-108">Usando dispositivos de backup em disco</span><span class="sxs-lookup"><span data-stu-id="bc564-108">Using Disk Backup Devices</span></span>](#DiskBackups)  
  
-   [<span data-ttu-id="bc564-109">Usando dispositivos de fita</span><span class="sxs-lookup"><span data-stu-id="bc564-109">Using Tape Devices</span></span>](#TapeDevices)  
  
-   [<span data-ttu-id="bc564-110">Usando um dispositivo de backup lógico</span><span class="sxs-lookup"><span data-stu-id="bc564-110">Using a Logical Backup Device</span></span>](#LogicalBackupDevice)  
  
-   [<span data-ttu-id="bc564-111">Conjuntos de mídias de backup espelhados</span><span class="sxs-lookup"><span data-stu-id="bc564-111">Mirrored Backup Media Sets</span></span>](#MirroredMediaSets)  
  
-   [<span data-ttu-id="bc564-112">Arquivando backups do SQL Server</span><span class="sxs-lookup"><span data-stu-id="bc564-112">Archiving SQL Server Backups</span></span>](#Archiving)  
  
-   [<span data-ttu-id="bc564-113">Tarefas relacionadas</span><span class="sxs-lookup"><span data-stu-id="bc564-113">Related Tasks</span></span>](#RelatedTasks)  
  
##  <a name="terms-and-definitions"></a><a name="TermsAndDefinitions"></a> <span data-ttu-id="bc564-114">Termos e definições</span><span class="sxs-lookup"><span data-stu-id="bc564-114">Terms and Definitions</span></span>  
 <span data-ttu-id="bc564-115">disco de backup</span><span class="sxs-lookup"><span data-stu-id="bc564-115">backup disk</span></span>  
 <span data-ttu-id="bc564-116">Um disco rígido ou outra mídia de armazenamento em disco que contém um ou mais arquivos de backup.</span><span class="sxs-lookup"><span data-stu-id="bc564-116">A hard disk or other disk storage media that contains one or more backup files.</span></span> <span data-ttu-id="bc564-117">Um arquivo de backup é um arquivo de sistema operacional regular.</span><span class="sxs-lookup"><span data-stu-id="bc564-117">A backup file is a regular operating system file.</span></span>  
  
 <span data-ttu-id="bc564-118">conjunto de mídias</span><span class="sxs-lookup"><span data-stu-id="bc564-118">media set</span></span>  
 <span data-ttu-id="bc564-119">Uma coleção ordenada de mídias de backup, fitas ou arquivos de disco, que utiliza um tipo e número fixos de dispositivos de backup.</span><span class="sxs-lookup"><span data-stu-id="bc564-119">An ordered collection of backup media, tapes or disk files, that uses a fixed type and number of backup devices.</span></span> <span data-ttu-id="bc564-120">Para obter mais informações sobre conjuntos de mídias, consulte [Conjuntos de mídias, famílias de mídia e conjuntos de backup &#40;SQL Server&#41;](media-sets-media-families-and-backup-sets-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="bc564-120">For more information about media sets, see [Media Sets, Media Families, and Backup Sets &#40;SQL Server&#41;](media-sets-media-families-and-backup-sets-sql-server.md).</span></span>  
  
 <span data-ttu-id="bc564-121">dispositivo de backup físico</span><span class="sxs-lookup"><span data-stu-id="bc564-121">physical backup device</span></span>  
 <span data-ttu-id="bc564-122">Uma unidade de fita ou um arquivo de disco é fornecido pelo sistema operacional.</span><span class="sxs-lookup"><span data-stu-id="bc564-122">Either a tape drive or a disk file that is provided by the operating system.</span></span> <span data-ttu-id="bc564-123">Um backup pode ser gravado em 1 a 64 dispositivos de backup.</span><span class="sxs-lookup"><span data-stu-id="bc564-123">A backup can be written to from 1 to 64 backup devices.</span></span> <span data-ttu-id="bc564-124">Se um backup exigir vários dispositivos de backup, todos os dispositivos deverão corresponder a um único tipo de dispositivo (disco ou fita).</span><span class="sxs-lookup"><span data-stu-id="bc564-124">If a backup requires multiple backup devices, the devices all must correspond to a single type of device (disk or tape).</span></span>  
  
 <span data-ttu-id="bc564-125">Os backups do SQL Server podem ser gravados no serviço de Armazenamento Blobs do Azure, bem como em disco ou fita.</span><span class="sxs-lookup"><span data-stu-id="bc564-125">SQL Server Backups can also be written to Azure Blob storage service in addition to disk or tape.</span></span>  
  
##  <a name="using-disk-backup-devices"></a><a name="DiskBackups"></a><span data-ttu-id="bc564-126">Usando dispositivos de backup em disco</span><span class="sxs-lookup"><span data-stu-id="bc564-126">Using Disk Backup Devices</span></span>  
 <span data-ttu-id="bc564-127">**Nesta seção:**</span><span class="sxs-lookup"><span data-stu-id="bc564-127">**In This Section:**</span></span>  
  
-   [<span data-ttu-id="bc564-128">Especificando um arquivo de backup com seu nome físico (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="bc564-128">Specifying a Backup File by Using Its Physical Name (Transact-SQL)</span></span>](#BackupFileUsingPhysicalName)  
  
-   [<span data-ttu-id="bc564-129">Especificando o caminho de um arquivo de backup em disco</span><span class="sxs-lookup"><span data-stu-id="bc564-129">Specifying the Path of a Disk Backup File</span></span>](#BackupFileDiskPath)  
  
-   [<span data-ttu-id="bc564-130">Fazendo backup em um arquivo em um compartilhamento de rede</span><span class="sxs-lookup"><span data-stu-id="bc564-130">Backing Up to a File on a Network Share</span></span>](#NetworkShare)  
  
 <span data-ttu-id="bc564-131">Se um arquivo de disco ficar cheio enquanto uma operação de backup estiver anexando um backup ao conjunto de mídias, a operação de backup falhará.</span><span class="sxs-lookup"><span data-stu-id="bc564-131">If a disk file fills while a backup operation is appending a backup to the media set, the backup operation fails.</span></span> <span data-ttu-id="bc564-132">O tamanho máximo de um arquivo de backup é determinado pelo espaço livre de disco disponível no dispositivo de disco, portanto o tamanho apropriado de um dispositivo de disco de backup depende do tamanho de seus backups.</span><span class="sxs-lookup"><span data-stu-id="bc564-132">The maximum size of a backup file is determined by the free disk space available on the disk device; therefore, the appropriate size for a backup disk device depends on the size of your backups.</span></span>  
  
 <span data-ttu-id="bc564-133">Um dispositivo de backup de disco pode ser um simples dispositivo de disco, como uma unidade ATA.</span><span class="sxs-lookup"><span data-stu-id="bc564-133">A disk backup device could be a simple disk device, such as an ATA drive.</span></span> <span data-ttu-id="bc564-134">Como alternativa, pode-se usar uma unidade de disco removível que permite a substituição de um disco cheio na unidade por um disco vazio.</span><span class="sxs-lookup"><span data-stu-id="bc564-134">Alternatively, you could use a hot-swappable disk drive that would let you transparently replace a full disk on the drive with an empty disk.</span></span> <span data-ttu-id="bc564-135">Um disco de backup pode ser um disco local no servidor ou um disco remoto que é um recurso de rede compartilhado.</span><span class="sxs-lookup"><span data-stu-id="bc564-135">A backup disk can be a local disk on the server or a remote disk that is a shared network resource.</span></span> <span data-ttu-id="bc564-136">Para obter informações sobre como usar um disco remoto, consulte [Fazendo backup em um arquivo em um compartilhamento de rede](#NetworkShare), posteriormente neste tópico.</span><span class="sxs-lookup"><span data-stu-id="bc564-136">For information about how to use a remote disk, see [Backing Up to a File on a Network Share](#NetworkShare), later in this topic.</span></span>  
  
 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="bc564-137">As ferramentas de gerenciamento são muito flexíveis para manusear dispositivos de backup em disco, pois elas geram automaticamente um nome com carimbo de data/hora no arquivo em disco.</span><span class="sxs-lookup"><span data-stu-id="bc564-137">management tools are very flexible at handling disk backup devices because they automatically generate a time-stamped name on the disk file.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="bc564-138">Nós recomendamos que um disco de backup seja diferente dos discos de banco de dados e de log.</span><span class="sxs-lookup"><span data-stu-id="bc564-138">We recommend that a backup disk be a different disk than the database data and log disks.</span></span> <span data-ttu-id="bc564-139">Isso é necessário para garantir que será possível acessar os backups se houver falha no disco de dados ou de log.</span><span class="sxs-lookup"><span data-stu-id="bc564-139">This is necessary to make sure that you can access the backups if the data or log disk fails.</span></span>  
  
###  <a name="specifying-a-backup-file-by-using-its-physical-name-transact-sql"></a><a name="BackupFileUsingPhysicalName"></a><span data-ttu-id="bc564-140">Especificando um arquivo de backup usando seu nome físico (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="bc564-140">Specifying a Backup File by Using Its Physical Name (Transact-SQL)</span></span>  
 <span data-ttu-id="bc564-141">A sintaxe básica [BACKUP](/sql/t-sql/statements/backup-transact-sql) para especificar um arquivo de backup com seu nome de dispositivo físico é:</span><span class="sxs-lookup"><span data-stu-id="bc564-141">The basic [BACKUP](/sql/t-sql/statements/backup-transact-sql) syntax for specifying a backup file by using its physical device name is:</span></span>  
  
 <span data-ttu-id="bc564-142">BACKUP DATABASE *database_name*</span><span class="sxs-lookup"><span data-stu-id="bc564-142">BACKUP DATABASE *database_name*</span></span>  
  
 <span data-ttu-id="bc564-143">TO DISK **=** { **'** _physical_backup_device_name_ **'**  |  **@** _physical_backup_device_name_var_ }</span><span class="sxs-lookup"><span data-stu-id="bc564-143">TO DISK **=** { **'**_physical_backup_device_name_**'** | **@**_physical_backup_device_name_var_ }</span></span>  
  
 <span data-ttu-id="bc564-144">Por exemplo: </span><span class="sxs-lookup"><span data-stu-id="bc564-144">For example:</span></span>  
  
```  
BACKUP DATABASE AdventureWorks2012   
   TO DISK = 'Z:\SQLServerBackups\AdventureWorks2012.bak';  
GO  
```  
  
 <span data-ttu-id="bc564-145">Para especificar um dispositivo de disco físico em uma instrução [RESTORE](/sql/t-sql/statements/restore-statements-transact-sql) , a sintaxe básica é:</span><span class="sxs-lookup"><span data-stu-id="bc564-145">To specify a physical disk device in a [RESTORE](/sql/t-sql/statements/restore-statements-transact-sql) statement, the basic syntax is:</span></span>  
  
 <span data-ttu-id="bc564-146">RESTORE { DATABASE | LOG } *database_name*</span><span class="sxs-lookup"><span data-stu-id="bc564-146">RESTORE { DATABASE | LOG } *database_name*</span></span>  
  
 <span data-ttu-id="bc564-147">FROM DISK **=** { **'** _physical_backup_device_name_ **'**  |  **@** _physical_backup_device_name_var_ }</span><span class="sxs-lookup"><span data-stu-id="bc564-147">FROM DISK **=** { **'**_physical_backup_device_name_**'** | **@**_physical_backup_device_name_var_ }</span></span>  
  
 <span data-ttu-id="bc564-148">Por exemplo,</span><span class="sxs-lookup"><span data-stu-id="bc564-148">For example,</span></span>  
  
```  
RESTORE DATABASE AdventureWorks2012   
   FROM DISK = 'Z:\SQLServerBackups\AdventureWorks2012.bak';   
```  
  
###  <a name="specifying-the-path-of-a-disk-backup-file"></a><a name="BackupFileDiskPath"></a><span data-ttu-id="bc564-149">Especificando o caminho de um arquivo de backup em disco</span><span class="sxs-lookup"><span data-stu-id="bc564-149">Specifying the Path of a Disk Backup File</span></span>  
 <span data-ttu-id="bc564-150">Ao especificar um arquivo de backup, você deve digitar seu caminho completo e o nome do arquivo.</span><span class="sxs-lookup"><span data-stu-id="bc564-150">When you are specifying a backup file, you should enter its full path and file name.</span></span> <span data-ttu-id="bc564-151">Se você especificar somente o nome de arquivo ou um caminho relativo ao fazer o backup de um arquivo, o arquivo de backup será armazenado no diretório de backup padrão.</span><span class="sxs-lookup"><span data-stu-id="bc564-151">If you specify only the file name or a relative path when you are backing up to a file, the backup file is put in the default backup directory.</span></span> <span data-ttu-id="bc564-152">O diretório de backup padrão é C:\Arquivos de Programas\Microsoft SQL Server\MSSQL.*n*\MSSQL\Backup, em que *n* é o número da instância do servidor.</span><span class="sxs-lookup"><span data-stu-id="bc564-152">The default backup directory is C:\Program Files\Microsoft SQL Server\MSSQL.*n*\MSSQL\Backup, where *n* is the number of the server instance.</span></span> <span data-ttu-id="bc564-153">Portanto, para a instância de servidor padrão, o diretório de backup padrão é: C:\Arquivos de Programas\Microsoft SQL Server\MSSQL12.MSSQLSERVER\MSSQL\Backup.</span><span class="sxs-lookup"><span data-stu-id="bc564-153">Therefore, for the default server instance, the default backup directory is: C:\Program Files\Microsoft SQL Server\MSSQL12.MSSQLSERVER\MSSQL\Backup.</span></span>  
  
 <span data-ttu-id="bc564-154">Para evitar ambiguidade, especialmente em scripts, é recomendável especificar explicitamente o caminho do diretório de backup em cada cláusula DISK.</span><span class="sxs-lookup"><span data-stu-id="bc564-154">To avoid ambiguity, especially in scripts, we recommend that you explicitly specify the path of the backup directory in every DISK clause.</span></span> <span data-ttu-id="bc564-155">Porém, isto é menos importante quando você está usando o Editor de Consultas.</span><span class="sxs-lookup"><span data-stu-id="bc564-155">However, this is less important when you are using Query Editor.</span></span> <span data-ttu-id="bc564-156">Nesse caso, se você tiver certeza de que o arquivo de backup reside no diretório de backup padrão, pode-se omitir o caminho da cláusula DISK.</span><span class="sxs-lookup"><span data-stu-id="bc564-156">In that case, if you are sure that the backup file resides in the default backup directory, you can omit the path from a DISK clause.</span></span> <span data-ttu-id="bc564-157">Por exemplo, a instrução `BACKUP` a seguir faz o backup do banco de dados [!INCLUDE[ssSampleDBobject](../../includes/sssampledbobject-md.md)] no diretório de backup padrão.</span><span class="sxs-lookup"><span data-stu-id="bc564-157">For example, the following `BACKUP` statement backs up the [!INCLUDE[ssSampleDBobject](../../includes/sssampledbobject-md.md)] database to the default backup directory.</span></span>  
  
```  
BACKUP DATABASE AdventureWorks2012   
   TO DISK = 'AdventureWorks2012.bak';  
GO  
```  
  
> [!NOTE]  
>  <span data-ttu-id="bc564-158">O local padrão é armazenado na chave do Registro **BackupDirectory** em **HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Microsoft SQL Server\MSSQL.n\MSSQLServer**.</span><span class="sxs-lookup"><span data-stu-id="bc564-158">The default location is stored in the **BackupDirectory** registry key under **HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Microsoft SQL Server\MSSQL.n\MSSQLServer**.</span></span>  
  
###  <a name="backing-up-to-a-file-on-a-network-share"></a><a name="NetworkShare"></a><span data-ttu-id="bc564-159">Fazendo backup em um arquivo em um compartilhamento de rede</span><span class="sxs-lookup"><span data-stu-id="bc564-159">Backing Up to a File on a Network Share</span></span>  
 <span data-ttu-id="bc564-160">Para que o [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] acesse um arquivo de disco remoto, a conta de serviço do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] deve ter acesso ao compartilhamento de rede.</span><span class="sxs-lookup"><span data-stu-id="bc564-160">For [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] to access a remote disk file, the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] service account must have access to the network share.</span></span> <span data-ttu-id="bc564-161">Isso inclui ter as permissões necessárias para que as operações de backup possam gravar no compartilhamento de rede e as operações de restauração possam ler a partir do compartilhamento de rede.</span><span class="sxs-lookup"><span data-stu-id="bc564-161">This includes having the permissions needed for backup operations to write to the network share and for restore operations to read from it.</span></span> <span data-ttu-id="bc564-162">A disponibilidade de unidades de rede e permissões depende do contexto no qual o serviço [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] está executando:</span><span class="sxs-lookup"><span data-stu-id="bc564-162">The availability of network drives and permissions depends on the context is which [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] service is running:</span></span>  
  
-   <span data-ttu-id="bc564-163">Para fazer backup em uma unidade de rede quando [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] está executando em uma conta de usuário de domínio, a unidade compartilhada deve ser mapeada como uma unidade de rede na sessão onde [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] está sendo executado.</span><span class="sxs-lookup"><span data-stu-id="bc564-163">To back up to a network drive when [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] is running in a domain user account, the shared drive must be mapped as a network drive in the session where [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] is running.</span></span> <span data-ttu-id="bc564-164">Se você iniciar o Sqlservr.exe da linha de comando, o [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] verá todas as unidades de rede mapeadas em sua sessão de logon.</span><span class="sxs-lookup"><span data-stu-id="bc564-164">If you start Sqlservr.exe from command line, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] sees any network drives you have mapped in your login session.</span></span>  
  
-   <span data-ttu-id="bc564-165">Ao executar o Sqlservr.exe como um serviço, o [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] é executado em uma sessão separada que não tem nenhuma relação com sua sessão de logon.</span><span class="sxs-lookup"><span data-stu-id="bc564-165">When you run Sqlservr.exe as a service, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] runs in a separate session that has no relation to your login session.</span></span> <span data-ttu-id="bc564-166">A sessão na qual um serviço é executado pode ter suas próprias unidades mapeadas, embora normalmente não tenha.</span><span class="sxs-lookup"><span data-stu-id="bc564-166">The session in which a service runs can have its own mapped drives, although it usually does not.</span></span>  
  
-   <span data-ttu-id="bc564-167">Você pode se conectar a conta de serviço de rede usando a conta do computador em vez de um usuário de domínio.</span><span class="sxs-lookup"><span data-stu-id="bc564-167">You can connect with the network service account by using the computer account instead of a domain user.</span></span> <span data-ttu-id="bc564-168">Para ativar backups de computadores específicos para uma unidade compartilhada, conceda acesso às contas do computador.</span><span class="sxs-lookup"><span data-stu-id="bc564-168">To enable backups from specific computers to a shared drive, grant access to the computer accounts.</span></span> <span data-ttu-id="bc564-169">Desde que o processo Sqlservr.exe que está gravando o backup tenha acesso, é irrelevante se o usuário que está enviando o comando BACKUP tem acesso.</span><span class="sxs-lookup"><span data-stu-id="bc564-169">As long as the Sqlservr.exe process that is writing the backup has access, it is irrelevant whether the user sending the BACKUP command has access.</span></span>  
  
    > [!IMPORTANT]  
    >  <span data-ttu-id="bc564-170">Fazer backup de dados em uma rede pode ocasionar erros de rede e por isso, é recomendável que você, quando estiver usando uma unidade remota, verifique a operação de backup após concluí-lo.</span><span class="sxs-lookup"><span data-stu-id="bc564-170">Backing up data over a network can be subject to network errors; therefore, we recommend that when you are using a remote disk you verify the backup operation after it finishes.</span></span> <span data-ttu-id="bc564-171">Para obter mais informações, consulte [RESTORE VERIFYONLY &#40;Transact-SQL&#41;](/sql/t-sql/statements/restore-statements-verifyonly-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="bc564-171">For more information, see [RESTORE VERIFYONLY &#40;Transact-SQL&#41;](/sql/t-sql/statements/restore-statements-verifyonly-transact-sql).</span></span>  
  
#### <a name="specifying-a-universal-naming-convention-unc-name"></a><span data-ttu-id="bc564-172">Especificando um nome UNC (Convenção de Nomenclatura Universal)</span><span class="sxs-lookup"><span data-stu-id="bc564-172">Specifying a Universal Naming Convention (UNC) Name</span></span>  
 <span data-ttu-id="bc564-173">Para especificar um compartilhamento de rede em um comando de backup ou de restauração, é necessário usar o nome UNC (convenção de nomenclatura universal) totalmente qualificado do arquivo para o dispositivo de backup.</span><span class="sxs-lookup"><span data-stu-id="bc564-173">To specify a network share in a backup or restore command, you should use the fully qualified universal naming convention (UNC) name of the file for the backup device.</span></span> <span data-ttu-id="bc564-174">Um nome UNC tem a forma **\\\\** _Systemname_ **\\** _ShareName_ **\\** _Path_ **\\** _FileName_.</span><span class="sxs-lookup"><span data-stu-id="bc564-174">A UNC name has the form **\\\\**_Systemname_**\\**_ShareName_**\\**_Path_**\\**_FileName_.</span></span>  
  
 <span data-ttu-id="bc564-175">Por exemplo: </span><span class="sxs-lookup"><span data-stu-id="bc564-175">For example:</span></span>  
  
```  
BACKUP DATABASE AdventureWorks2012   
   TO DISK = '\\BackupSystem\BackupDisk1\AW_backups\AdventureWorksData.Bak';  
GO  
```  
  
##  <a name="using-tape-devices"></a><a name="TapeDevices"></a><span data-ttu-id="bc564-176">Usando dispositivos de fita</span><span class="sxs-lookup"><span data-stu-id="bc564-176">Using Tape Devices</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="bc564-177">O suporte a dispositivos de backup em fita será removido em uma versão futura do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="bc564-177">Support for tape backup devices will be removed in a future version of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="bc564-178">Evite usar esse recurso em desenvolvimentos novos e planeje modificar os aplicativos que atualmente o utilizam.</span><span class="sxs-lookup"><span data-stu-id="bc564-178">Avoid using this feature in new development work, and plan to modify applications that currently use this feature.</span></span>  
  
 <span data-ttu-id="bc564-179">**Nesta seção:**</span><span class="sxs-lookup"><span data-stu-id="bc564-179">**In This Section:**</span></span>  
  
-   [<span data-ttu-id="bc564-180">Especificando uma fita de backup com seu nome físico (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="bc564-180">Specifying a Backup Tape by Using Its Physical Name (Transact-SQL)</span></span>](#BackupTapeUsingPhysicalName)  
  
-   [<span data-ttu-id="bc564-181">Opções de BACKUP e restauração específicas da fita (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="bc564-181">Tape-Specific BACKUP and RESTORE Options (Transact-SQL)</span></span>](#TapeOptions)  
  
-   [<span data-ttu-id="bc564-182">Gerenciando fitas abertas</span><span class="sxs-lookup"><span data-stu-id="bc564-182">Managing Open Tapes</span></span>](#OpenTapes)  
  
 <span data-ttu-id="bc564-183">Para fazer o backup de dados do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] em fita, é necessário que haja suporte para a(s) unidade(s) de fita no sistema operacional [!INCLUDE[msCoName](../../includes/msconame-md.md)] Windows.</span><span class="sxs-lookup"><span data-stu-id="bc564-183">Backing up [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] data to tape requires that the tape drive or drives be supported by the [!INCLUDE[msCoName](../../includes/msconame-md.md)] Windows operating system.</span></span> <span data-ttu-id="bc564-184">Além disso, para determinada unidade de fita, nós recomendamos que você só utilize as fitas recomendadas pelo fabricante da unidade.</span><span class="sxs-lookup"><span data-stu-id="bc564-184">Additionally, for the given tape drive, we recommend that you use only tapes recommended by the drive manufacturer.</span></span> <span data-ttu-id="bc564-185">Para obter mais informações sobre como instalar uma unidade de fita, consulte a documentação do sistema operacional Windows.</span><span class="sxs-lookup"><span data-stu-id="bc564-185">For more information about how to install a tape drive, see the documentation for the Windows operating system.</span></span>  
  
 <span data-ttu-id="bc564-186">Quando uma unidade de fita é usada, uma operação de backup pode preencher uma fita e continuar em outra fita.</span><span class="sxs-lookup"><span data-stu-id="bc564-186">When a tape drive is used, a backup operation may fill one tape and continue onto another tape.</span></span> <span data-ttu-id="bc564-187">Cada fita contém um cabeçalho de mídia.</span><span class="sxs-lookup"><span data-stu-id="bc564-187">Each tape contains a media header.</span></span> <span data-ttu-id="bc564-188">A primeira mídia usada é chamada *fita inicial*.</span><span class="sxs-lookup"><span data-stu-id="bc564-188">The first media used is called the *initial tape*.</span></span> <span data-ttu-id="bc564-189">Cada fita sucessiva é conhecida como uma *fita de continuação* e tem um número de sequência de mídia uma vez superior à fita anterior.</span><span class="sxs-lookup"><span data-stu-id="bc564-189">Each successive tape is known as a *continuation tape* and has a media sequence number that is one higher than the previous tape.</span></span> <span data-ttu-id="bc564-190">Por exemplo, um conjunto de mídias associado a quatro dispositivos de mídia contém pelo menos quatro fitas iniciais (e, se o banco de dados não couber, quatro séries de fitas de continuação).</span><span class="sxs-lookup"><span data-stu-id="bc564-190">For example, a media set associated with four tape devices contains at least four initial tapes (and, if the database does not fit, four series of continuation tapes).</span></span> <span data-ttu-id="bc564-191">Ao anexar um conjunto de backup, você deve montar a última fita na série.</span><span class="sxs-lookup"><span data-stu-id="bc564-191">When appending a backup set, you must mount the last tape in the series.</span></span> <span data-ttu-id="bc564-192">Se a última fita não estiver montada, o [!INCLUDE[ssDE](../../includes/ssde-md.md)] examina até o final da fita e solicita que você troque a fita.</span><span class="sxs-lookup"><span data-stu-id="bc564-192">If the last tape is not mounted, the [!INCLUDE[ssDE](../../includes/ssde-md.md)] scans forward to the end of the mounted tape and then requires that you change the tape.</span></span> <span data-ttu-id="bc564-193">Neste ponto, monte a última fita.</span><span class="sxs-lookup"><span data-stu-id="bc564-193">At that point, mount the last tape.</span></span>  
  
 <span data-ttu-id="bc564-194">Os dispositivos de backup de fita são usados como dispositivos de disco, com as seguintes exceções:</span><span class="sxs-lookup"><span data-stu-id="bc564-194">Tape backup devices are used like disk devices, with the following exceptions:</span></span>  
  
-   <span data-ttu-id="bc564-195">O dispositivo de fita deve estar conectado fisicamente ao computador que está executando uma instância do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="bc564-195">The tape device must be connected physically to the computer that is running an instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="bc564-196">O backup em dispositivos de fita remotos não é suportado.</span><span class="sxs-lookup"><span data-stu-id="bc564-196">Backing up to remote tape devices is not supported.</span></span>  
  
-   <span data-ttu-id="bc564-197">Se um dispositivo de backup em fita for preenchido durante a operação de backup, e mais dados ainda precisarem ser gravados, o [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] solicitará uma nova fita e continuará a operação de backup depois que a nova fita for carregada.</span><span class="sxs-lookup"><span data-stu-id="bc564-197">If a tape backup device is filled during the backup operation, but more data still must be written, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] prompts for a new tape and continues the backup operation after a new tape is loaded.</span></span>  
  
###  <a name="specifying-a-backup-tape-by-using-its-physical-name-transact-sql"></a><a name="BackupTapeUsingPhysicalName"></a><span data-ttu-id="bc564-198">Especificando uma fita de backup usando seu nome físico (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="bc564-198">Specifying a Backup Tape by Using Its Physical Name (Transact-SQL)</span></span>  
 <span data-ttu-id="bc564-199">A sintaxe básica de [BACKUP](/sql/t-sql/statements/backup-transact-sql) para especificar uma fita de backup usando o nome do dispositivo físico da unidade de fita é:</span><span class="sxs-lookup"><span data-stu-id="bc564-199">The basic [BACKUP](/sql/t-sql/statements/backup-transact-sql) syntax for specifying a backup tape using the physical device name of the tape drive is:</span></span>  
  
 <span data-ttu-id="bc564-200">BACKUP { DATABASE | LOG } *database_name*</span><span class="sxs-lookup"><span data-stu-id="bc564-200">BACKUP { DATABASE | LOG } *database_name*</span></span>  
  
 <span data-ttu-id="bc564-201">TO TAPE **=** { **'** _physical_backup_device_name_ **'**  |  **@** _physical_backup_device_name_var_ }</span><span class="sxs-lookup"><span data-stu-id="bc564-201">TO TAPE **=** { **'**_physical_backup_device_name_**'** | **@**_physical_backup_device_name_var_ }</span></span>  
  
 <span data-ttu-id="bc564-202">Por exemplo: </span><span class="sxs-lookup"><span data-stu-id="bc564-202">For example:</span></span>  
  
```  
BACKUP LOG AdventureWorks2012   
   TO TAPE = '\\.\tape0';  
GO  
```  
  
 <span data-ttu-id="bc564-203">Para especificar um dispositivo de fita físico em uma instrução [RESTORE](/sql/t-sql/statements/restore-statements-transact-sql) , a sintaxe básica é:</span><span class="sxs-lookup"><span data-stu-id="bc564-203">To specify a physical tape device in a [RESTORE](/sql/t-sql/statements/restore-statements-transact-sql) statement, the basic syntax is:</span></span>  
  
 <span data-ttu-id="bc564-204">RESTORE { DATABASE | LOG } *database_name*</span><span class="sxs-lookup"><span data-stu-id="bc564-204">RESTORE { DATABASE | LOG } *database_name*</span></span>  
  
 <span data-ttu-id="bc564-205">FROM TAPE **=** { **'** _physical_backup_device_name_ **'**  |  **@** _physical_backup_device_name_var_ }</span><span class="sxs-lookup"><span data-stu-id="bc564-205">FROM TAPE **=** { **'**_physical_backup_device_name_**'** | **@**_physical_backup_device_name_var_ }</span></span>  
  
###  <a name="tape-specific-backup-and-restore-options-transact-sql"></a><a name="TapeOptions"></a><span data-ttu-id="bc564-206">Opções de BACKUP e restauração específicas da fita (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="bc564-206">Tape-Specific BACKUP and RESTORE Options (Transact-SQL)</span></span>  
 <span data-ttu-id="bc564-207">Para facilitar o gerenciamento de fitas, a instrução BACKUP fornece as seguintes opções específicas a fitas:</span><span class="sxs-lookup"><span data-stu-id="bc564-207">To facilitate tape management, the BACKUP statement provides the following tape-specific options:</span></span>  
  
-   <span data-ttu-id="bc564-208">{ NOUNLOAD | **UNLOAD** }</span><span class="sxs-lookup"><span data-stu-id="bc564-208">{ NOUNLOAD | **UNLOAD** }</span></span>  
  
     <span data-ttu-id="bc564-209">Você pode controlar se uma fita de backup é descarregada automaticamente da unidade de fita após uma operação de backup ou restauração.</span><span class="sxs-lookup"><span data-stu-id="bc564-209">You can control whether a backup tape is unloaded automatically from the tape drive after a backup or restore operation.</span></span> <span data-ttu-id="bc564-210">UNLOAD/NOUNLOAD é uma configuração de sessão que persiste durante a vida útil da sessão ou até que ela seja redefinida especificando a alternativa.</span><span class="sxs-lookup"><span data-stu-id="bc564-210">UNLOAD/NOUNLOAD is a session setting that persists for the life of the session or until it is reset by specifying the alternative.</span></span>  
  
-   <span data-ttu-id="bc564-211">{ **REWIND** | NOREWIND }</span><span class="sxs-lookup"><span data-stu-id="bc564-211">{ **REWIND** | NOREWIND }</span></span>  
  
     <span data-ttu-id="bc564-212">Você pode controlar se o [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] mantém a fita aberta após a operação de backup ou restauração ou libera e rebobina a fita após o preenchimento.</span><span class="sxs-lookup"><span data-stu-id="bc564-212">You can control whether [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] keeps the tape remains open after the backup or restore operation or releases and rewinds the tape after it fills.</span></span> <span data-ttu-id="bc564-213">O comportamento padrão é rebobinar a fita (REWIND).</span><span class="sxs-lookup"><span data-stu-id="bc564-213">The default behavior is to rewind the tape (REWIND).</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="bc564-214">Para obter mais informações sobre sintaxe e argumentos BACKUP, consulte [BACKUP &#40;Transact-SQL&#41;](/sql/t-sql/statements/backup-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="bc564-214">For more information about the BACKUP syntax and arguments, see [BACKUP &#40;Transact-SQL&#41;](/sql/t-sql/statements/backup-transact-sql).</span></span> <span data-ttu-id="bc564-215">Para obter mais informações sobre a sintaxe e os argumentos de RESTORE, consulte [RESTORE &#40;Transact-SQL&#41;](/sql/t-sql/statements/restore-statements-transact-sql) e [Argumentos RESTORE &#40;Transact-SQL&#41;](/sql/t-sql/statements/restore-statements-arguments-transact-sql), respectivamente.</span><span class="sxs-lookup"><span data-stu-id="bc564-215">For more information about the RESTORE syntax and arguments, see [RESTORE &#40;Transact-SQL&#41;](/sql/t-sql/statements/restore-statements-transact-sql) and [RESTORE Arguments &#40;Transact-SQL&#41;](/sql/t-sql/statements/restore-statements-arguments-transact-sql), respectively.</span></span>  
  
###  <a name="managing-open-tapes"></a><a name="OpenTapes"></a><span data-ttu-id="bc564-216">Gerenciando fitas abertas</span><span class="sxs-lookup"><span data-stu-id="bc564-216">Managing Open Tapes</span></span>  
 <span data-ttu-id="bc564-217">Para exibir uma lista de dispositivos de fitas abertas e o status das solicitações de montagem, consulte a exibição de gerenciamento dinâmico [sys.dm_io_backup_tapes](/sql/relational-databases/system-dynamic-management-views/sys-dm-io-backup-tapes-transact-sql) .</span><span class="sxs-lookup"><span data-stu-id="bc564-217">To view a list of open tape devices and the status of mount requests, query the [sys.dm_io_backup_tapes](/sql/relational-databases/system-dynamic-management-views/sys-dm-io-backup-tapes-transact-sql) dynamic management view.</span></span> <span data-ttu-id="bc564-218">Esta exibição mostra todas as fitas abertas.</span><span class="sxs-lookup"><span data-stu-id="bc564-218">This view shows all the open tapes.</span></span> <span data-ttu-id="bc564-219">Elas incluem fitas em uso que estão temporariamente inativas enquanto esperam a próxima operação de BACKUP ou RESTAURAÇÃO.</span><span class="sxs-lookup"><span data-stu-id="bc564-219">These include in-use tapes that are temporarily idle while they wait for the next BACKUP or RESTORE operation.</span></span>  
  
 <span data-ttu-id="bc564-220">Se uma fita for deixada aberta acidentalmente, a maneira mais rápida de liberá-la será usar o seguinte comando: RESTORE REWINDONLY FROM TAPE **=** _backup_device_name_.</span><span class="sxs-lookup"><span data-stu-id="bc564-220">If a tape has been accidentally left open, the fastest way to release the tape is by using the following command: RESTORE REWINDONLY FROM TAPE **=**_backup_device_name_.</span></span> <span data-ttu-id="bc564-221">Para obter mais informações, consulte [RESTORE REWINDONLY &#40;Transact-SQL&#41;](/sql/t-sql/statements/restore-statements-rewindonly-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="bc564-221">For more information, see [RESTORE REWINDONLY &#40;Transact-SQL&#41;](/sql/t-sql/statements/restore-statements-rewindonly-transact-sql).</span></span>  
  
## <a name="using-the-azure-blob-storage-service"></a><span data-ttu-id="bc564-222">Usando o serviço de armazenamento de BLOBs do Azure</span><span class="sxs-lookup"><span data-stu-id="bc564-222">Using the Azure Blob Storage Service</span></span>  
 <span data-ttu-id="bc564-223">Os backups do SQL Server podem ser gravados no serviço de Armazenamento de Blobs do Azure.</span><span class="sxs-lookup"><span data-stu-id="bc564-223">SQL Server Backups can be written to the Azure Blob Storage Service.</span></span>  <span data-ttu-id="bc564-224">Para obter mais informações sobre como usar o serviço de armazenamento de BLOBs do Azure para seus backups, consulte [SQL Server Backup e restauração com o serviço de armazenamento de BLOBs do Azure](sql-server-backup-and-restore-with-microsoft-azure-blob-storage-service.md).</span><span class="sxs-lookup"><span data-stu-id="bc564-224">For more information on how to use the Azure Blob storage service for your backups, see [SQL Server Backup and Restore with Azure Blob Storage Service](sql-server-backup-and-restore-with-microsoft-azure-blob-storage-service.md).</span></span>  
  
##  <a name="using-a-logical-backup-device"></a><a name="LogicalBackupDevice"></a><span data-ttu-id="bc564-225">Usando um dispositivo de backup lógico</span><span class="sxs-lookup"><span data-stu-id="bc564-225">Using a Logical Backup Device</span></span>  
 <span data-ttu-id="bc564-226">Um *dispositivo de backup lógico* é um nome opcional definido pelo usuário que aponta para um dispositivo de backup físico específico (um arquivo de disco ou uma unidade de fita).</span><span class="sxs-lookup"><span data-stu-id="bc564-226">A *logical backup device* is an optional, user-defined name that points to a specific physical backup device (a disk file or tape drive).</span></span> <span data-ttu-id="bc564-227">Um dispositivo de backup lógico permite que você use nomes indiretos ao fazer referência ao dispositivo de backup físico correspondente.</span><span class="sxs-lookup"><span data-stu-id="bc564-227">A logical backup device lets you use indirection when referencing the corresponding physical backup device.</span></span>  
  
 <span data-ttu-id="bc564-228">Definir um dispositivo de backup lógico envolve a atribuição de um nome lógico a um dispositivo físico.</span><span class="sxs-lookup"><span data-stu-id="bc564-228">Defining a logical backup device involves assigning a logical name to a physical device.</span></span> <span data-ttu-id="bc564-229">Por exemplo, um dispositivo lógico, AdventureWorksBackups, pode ser definido para apontar para o arquivo Z:\SQLServerBackups\AdventureWorks2012.bak ou a unidade de fita \\\\.\tape0.</span><span class="sxs-lookup"><span data-stu-id="bc564-229">For example, a logical device, AdventureWorksBackups, could be defined to point to the Z:\SQLServerBackups\AdventureWorks2012.bak file or the \\\\.\tape0 tape drive.</span></span> <span data-ttu-id="bc564-230">Os comandos de backup e restauração podem especificar o AdventureWorksBackups como o dispositivo de backup, em vez de DISK = 'Z:\SQLServerBackups\AdventureWorks2012.bak' ou TAPE = '\\\\.\tape0'.</span><span class="sxs-lookup"><span data-stu-id="bc564-230">Backup and restore commands can then specify AdventureWorksBackups as the backup device, instead of DISK = 'Z:\SQLServerBackups\AdventureWorks2012.bak' or TAPE = '\\\\.\tape0'.</span></span>  
  
 <span data-ttu-id="bc564-231">O nome de dispositivo lógico deve ser exclusivo entre todos os dispositivos de backup lógicos na instância do servidor.</span><span class="sxs-lookup"><span data-stu-id="bc564-231">The logical device name must be unique among all the logical backup devices on the server instance.</span></span> <span data-ttu-id="bc564-232">Para exibir os nomes de dispositivo lógicos existentes, consulte a exibição de catálogo [sys.backup_devices](/sql/relational-databases/system-catalog-views/sys-backup-devices-transact-sql) .</span><span class="sxs-lookup"><span data-stu-id="bc564-232">To view the existing logical device names, query the [sys.backup_devices](/sql/relational-databases/system-catalog-views/sys-backup-devices-transact-sql) catalog view.</span></span> <span data-ttu-id="bc564-233">Essa exibição mostra o nome de cada dispositivo de backup lógico e descreve o tipo e o nome de arquivo físico ou caminho do dispositivo de backup físico correspondente.</span><span class="sxs-lookup"><span data-stu-id="bc564-233">This view displays the name of each logical backup device and describes the type and physical file name or path of the corresponding physical backup device.</span></span>  
  
 <span data-ttu-id="bc564-234">Depois que um dispositivo de backup lógico é definido, em um comando de BACKUP ou RESTAURAÇÃO, é possível especificar o dispositivo de backup lógico em vez do nome físico do dispositivo.</span><span class="sxs-lookup"><span data-stu-id="bc564-234">After a logical backup device is defined, in a BACKUP or RESTORE command, you can specify the logical backup device instead of the physical name of the device.</span></span> <span data-ttu-id="bc564-235">Por exemplo, a instrução seguinte faz backup do banco de dados `AdventureWorks2012` no dispositivo de backup lógico `AdventureWorksBackups` .</span><span class="sxs-lookup"><span data-stu-id="bc564-235">For example, the following statement backs up the `AdventureWorks2012` database to the `AdventureWorksBackups` logical backup device.</span></span>  
  
```  
BACKUP DATABASE AdventureWorks2012   
   TO AdventureWorksBackups;  
GO  
```  
  
> [!NOTE]  
>  <span data-ttu-id="bc564-236">Em uma determinada instrução de BACKUP ou RESTAURAÇÃO, o nome do dispositivo de backup lógico e o nome do dispositivo de backup físico correspondente são intercambiáveis.</span><span class="sxs-lookup"><span data-stu-id="bc564-236">In a given BACKUP or RESTORE statement, the logical backup device name and the corresponding physical backup device name are interchangeable.</span></span>  
  
 <span data-ttu-id="bc564-237">Uma vantagem de usar um dispositivo de backup lógico é que é mais simples do que usar um caminho longo.</span><span class="sxs-lookup"><span data-stu-id="bc564-237">One advantage of using a logical backup device is that it is simpler to use than a long path.</span></span> <span data-ttu-id="bc564-238">Usar um dispositivo de backup lógico poderá ajudar se você planeja gravar uma série de backups no mesmo caminho ou em um dispositivo de fita.</span><span class="sxs-lookup"><span data-stu-id="bc564-238">Using a logical backup device can help if you plan to write a series of backups to the same path or to a tape device.</span></span> <span data-ttu-id="bc564-239">Os dispositivos de backup lógicos são especialmente úteis para identificar dispositivos de backup em fita.</span><span class="sxs-lookup"><span data-stu-id="bc564-239">Logical backup devices are especially useful for identifying tape backup devices.</span></span>  
  
 <span data-ttu-id="bc564-240">Um script de backup pode ser gravado para usar um dispositivo de backup lógico particular.</span><span class="sxs-lookup"><span data-stu-id="bc564-240">A backup script can be written to use a particular logical backup device.</span></span> <span data-ttu-id="bc564-241">Isso permite que você alterne para novos dispositivos de backup físicos sem atualizar o script.</span><span class="sxs-lookup"><span data-stu-id="bc564-241">This lets you switch to a new physical backup devices without updating the script.</span></span> <span data-ttu-id="bc564-242">Alternar envolve o seguinte processo:</span><span class="sxs-lookup"><span data-stu-id="bc564-242">Switching involves the following process:</span></span>  
  
1.  <span data-ttu-id="bc564-243">Descartar o dispositivo de backup lógico original.</span><span class="sxs-lookup"><span data-stu-id="bc564-243">Dropping the original logical backup device.</span></span>  
  
2.  <span data-ttu-id="bc564-244">Definir um novo dispositivo de backup lógico que usa o nome de dispositivo lógico original, mas mapeia em um dispositivo de backup físico diferente.</span><span class="sxs-lookup"><span data-stu-id="bc564-244">Defining a new logical backup device that uses the original logical device name but maps to a different physical backup device.</span></span> <span data-ttu-id="bc564-245">Os dispositivos de backup lógicos são especialmente úteis para identificar dispositivos de backup em fita.</span><span class="sxs-lookup"><span data-stu-id="bc564-245">Logical backup devices are especially useful for identifying tape backup devices.</span></span>  
  
##  <a name="mirrored-backup-media-sets"></a><a name="MirroredMediaSets"></a><span data-ttu-id="bc564-246">Conjuntos de mídias de backup espelhados</span><span class="sxs-lookup"><span data-stu-id="bc564-246">Mirrored Backup Media Sets</span></span>  
 <span data-ttu-id="bc564-247">O espelhamento de conjuntos de mídias de backup reduz o efeito de maus funcionamentos do dispositivo de backup.</span><span class="sxs-lookup"><span data-stu-id="bc564-247">Mirroring of backup media sets reduces the effect of backup-device malfunctions.</span></span> <span data-ttu-id="bc564-248">Esses maus funcionamentos são especialmente sérios uma vez que os backups são a última linha de defesa contra a perda de dados.</span><span class="sxs-lookup"><span data-stu-id="bc564-248">These malfunctions are especially serious because backups are the last line of defense against data loss.</span></span> <span data-ttu-id="bc564-249">À medida que o tamanho dos bancos de dados cresce, aumenta a probabilidade de que uma falha de um dispositivo de backup ou mídia torne impossível a restauração de um backup.</span><span class="sxs-lookup"><span data-stu-id="bc564-249">As the sizes of databases grow, the probability increases that a failure of a backup device or media will make a backup nonrestorable.</span></span> <span data-ttu-id="bc564-250">O espelhamento de mídias de backup aumenta a confiabilidade de backups fornecendo redundância para o dispositivo de backup físico.</span><span class="sxs-lookup"><span data-stu-id="bc564-250">Mirroring backup media increases the reliability of backups by providing redundancy for the physical backup device.</span></span> <span data-ttu-id="bc564-251">Para obter mais informações, veja [Conjuntos de mídias de backup espelhadas &#40;SQL Server&#41;](mirrored-backup-media-sets-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="bc564-251">For more information, see [Mirrored Backup Media Sets &#40;SQL Server&#41;](mirrored-backup-media-sets-sql-server.md).</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="bc564-252">Os conjuntos de mídias de backup espelhados oferecem suporte somente em [!INCLUDE[ssEnterpriseEd2005](../../includes/ssenterpriseed2005-md.md)] e versões posteriores.</span><span class="sxs-lookup"><span data-stu-id="bc564-252">Mirrored backup media sets are supported only in [!INCLUDE[ssEnterpriseEd2005](../../includes/ssenterpriseed2005-md.md)] and later versions.</span></span>  
  
##  <a name="archiving-sql-server-backups"></a><a name="Archiving"></a><span data-ttu-id="bc564-253">Arquivando backups de SQL Server</span><span class="sxs-lookup"><span data-stu-id="bc564-253">Archiving SQL Server Backups</span></span>  
 <span data-ttu-id="bc564-254">Recomendamos que você use um utilitário de backup do sistema de arquivos para arquivar os backups de disco e que armazene os arquivos externamente.</span><span class="sxs-lookup"><span data-stu-id="bc564-254">We recommend that you use a file system backup utility to archive the disk backups and that you store the archives off-site.</span></span> <span data-ttu-id="bc564-255">Usar um disco tem a vantagem de usar a rede para gravar os backups arquivados em um disco externo.</span><span class="sxs-lookup"><span data-stu-id="bc564-255">Using disk has the advantage that you use the network to write the archived backups onto an off-site disk.</span></span> <span data-ttu-id="bc564-256">O serviço de Armazenamento de Blobs do Azure pode ser usado como a opção de arquivamento fora do site.</span><span class="sxs-lookup"><span data-stu-id="bc564-256">The Azure Blob storage service can be used as off-site archival option.</span></span>  <span data-ttu-id="bc564-257">Você pode carregar seus backups em disco ou gravar diretamente os backups no serviço de Armazenamento de Blobs do Azure.</span><span class="sxs-lookup"><span data-stu-id="bc564-257">You can either upload your disk backups, or directly write the backups to the Azure Blob storage service.</span></span>  
  
 <span data-ttu-id="bc564-258">Outra abordagem de arquivamento comum é gravar os backups do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] em um disco de backup local, arquivá-los em uma fita e, em seguida, armazenar as fitas externamente.</span><span class="sxs-lookup"><span data-stu-id="bc564-258">Another common archiving approach is to write [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] backups onto a local backup disk, archive them to tape, and then store the tapes off-site.</span></span>  
  
##  <a name="related-tasks"></a><a name="RelatedTasks"></a> <span data-ttu-id="bc564-259">Tarefas relacionadas</span><span class="sxs-lookup"><span data-stu-id="bc564-259">Related Tasks</span></span>  
 <span data-ttu-id="bc564-260">**Para especificar um dispositivo de disco (SQL Server Management Studio)**</span><span class="sxs-lookup"><span data-stu-id="bc564-260">**To specify a disk device (SQL Server Management Studio)**</span></span>  
  
-   [<span data-ttu-id="bc564-261">Especificar um disco ou fita como destino de backup &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="bc564-261">Specify a Disk or Tape As a Backup Destination &#40;SQL Server&#41;</span></span>](specify-a-disk-or-tape-as-a-backup-destination-sql-server.md)  
  
 <span data-ttu-id="bc564-262">**Para especificar um dispositivo de fita (SQL Server Management Studio)**</span><span class="sxs-lookup"><span data-stu-id="bc564-262">**To specify a tape device (SQL Server Management Studio)**</span></span>  
  
-   [<span data-ttu-id="bc564-263">Especificar um disco ou fita como destino de backup &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="bc564-263">Specify a Disk or Tape As a Backup Destination &#40;SQL Server&#41;</span></span>](specify-a-disk-or-tape-as-a-backup-destination-sql-server.md)  
  
 <span data-ttu-id="bc564-264">**Para definir um dispositivo de backup lógico**</span><span class="sxs-lookup"><span data-stu-id="bc564-264">**To define a logical backup device**</span></span>  
  
-   [<span data-ttu-id="bc564-265">sp_addumpdevice &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="bc564-265">sp_addumpdevice &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-stored-procedures/sp-addumpdevice-transact-sql)  
  
-   [<span data-ttu-id="bc564-266">Definir um dispositivo de backup lógico para um arquivo de disco &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="bc564-266">Define a Logical Backup Device for a Disk File &#40;SQL Server&#41;</span></span>](define-a-logical-backup-device-for-a-disk-file-sql-server.md)  
  
-   [<span data-ttu-id="bc564-267">Definir um dispositivo de backup lógico para uma unidade de fita &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="bc564-267">Define a Logical Backup Device for a Tape Drive &#40;SQL Server&#41;</span></span>](define-a-logical-backup-device-for-a-tape-drive-sql-server.md)  
  
-   <span data-ttu-id="bc564-268"><xref:Microsoft.SqlServer.Management.Smo.BackupDevice> (SMO)</span><span class="sxs-lookup"><span data-stu-id="bc564-268"><xref:Microsoft.SqlServer.Management.Smo.BackupDevice> (SMO)</span></span>  
  
 <span data-ttu-id="bc564-269">**Para usar um dispositivo de backup lógico**</span><span class="sxs-lookup"><span data-stu-id="bc564-269">**To use a logical backup device**</span></span>  
  
-   [<span data-ttu-id="bc564-270">Especificar um disco ou fita como destino de backup &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="bc564-270">Specify a Disk or Tape As a Backup Destination &#40;SQL Server&#41;</span></span>](specify-a-disk-or-tape-as-a-backup-destination-sql-server.md)  
  
-   [<span data-ttu-id="bc564-271">Restaurar um backup de um dispositivo &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="bc564-271">Restore a Backup from a Device &#40;SQL Server&#41;</span></span>](restore-a-backup-from-a-device-sql-server.md)  
  
-   [<span data-ttu-id="bc564-272">BACKUP &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="bc564-272">BACKUP &#40;Transact-SQL&#41;</span></span>](/sql/t-sql/statements/backup-transact-sql)  
  
-   [<span data-ttu-id="bc564-273">RESTORE &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="bc564-273">RESTORE &#40;Transact-SQL&#41;</span></span>](/sql/t-sql/statements/restore-statements-transact-sql)  
  
 <span data-ttu-id="bc564-274">**Para exibir informações sobre dispositivos de backup**</span><span class="sxs-lookup"><span data-stu-id="bc564-274">**To View Information About Backup Devices**</span></span>  
  
-   [<span data-ttu-id="bc564-275">Informações de histórico e cabeçalho de backup &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="bc564-275">Backup History and Header Information &#40;SQL Server&#41;</span></span>](backup-history-and-header-information-sql-server.md)  
  
-   [<span data-ttu-id="bc564-276">Exibir as propriedades e o conteúdo de um dispositivo de backup lógico &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="bc564-276">View the Properties and Contents of a Logical Backup Device &#40;SQL Server&#41;</span></span>](view-the-properties-and-contents-of-a-logical-backup-device-sql-server.md)  
  
-   [<span data-ttu-id="bc564-277">Exibir o conteúdo de um arquivo ou fita de backup &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="bc564-277">View the Contents of a Backup Tape or File &#40;SQL Server&#41;</span></span>](view-the-contents-of-a-backup-tape-or-file-sql-server.md)  
  
 <span data-ttu-id="bc564-278">**Para excluir um dispositivo de backup lógico**</span><span class="sxs-lookup"><span data-stu-id="bc564-278">**To delete a logical backup device**</span></span>  
  
-   [<span data-ttu-id="bc564-279">sp_dropdevice &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="bc564-279">sp_dropdevice &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-stored-procedures/sp-dropdevice-transact-sql)  
  
-   [<span data-ttu-id="bc564-280">Excluir um dispositivo de backup &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="bc564-280">Delete a Backup Device &#40;SQL Server&#41;</span></span>](delete-a-backup-device-sql-server.md)  
  
## <a name="see-also"></a><span data-ttu-id="bc564-281">Consulte Também</span><span class="sxs-lookup"><span data-stu-id="bc564-281">See Also</span></span>  
 <span data-ttu-id="bc564-282">[SQL Server, objeto Backup Device](../performance-monitor/sql-server-backup-device-object.md) </span><span class="sxs-lookup"><span data-stu-id="bc564-282">[SQL Server, Backup Device Object](../performance-monitor/sql-server-backup-device-object.md) </span></span>  
 <span data-ttu-id="bc564-283">[BACKUP &#40;Transact-SQL&#41;](/sql/t-sql/statements/backup-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="bc564-283">[BACKUP &#40;Transact-SQL&#41;](/sql/t-sql/statements/backup-transact-sql) </span></span>  
 <span data-ttu-id="bc564-284">[Planos de manutenção](../maintenance-plans/maintenance-plans.md) </span><span class="sxs-lookup"><span data-stu-id="bc564-284">[Maintenance Plans](../maintenance-plans/maintenance-plans.md) </span></span>  
 <span data-ttu-id="bc564-285">[Conjuntos de mídias, famílias de mídia e conjuntos de backup &#40;SQL Server&#41;](media-sets-media-families-and-backup-sets-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="bc564-285">[Media Sets, Media Families, and Backup Sets &#40;SQL Server&#41;](media-sets-media-families-and-backup-sets-sql-server.md) </span></span>  
 <span data-ttu-id="bc564-286">[RESTORE &#40;Transact-SQL&#41;](/sql/t-sql/statements/restore-statements-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="bc564-286">[RESTORE &#40;Transact-SQL&#41;](/sql/t-sql/statements/restore-statements-transact-sql) </span></span>  
 <span data-ttu-id="bc564-287">[RESTORE LABELONLY &#40;Transact-SQL&#41;](/sql/t-sql/statements/restore-statements-labelonly-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="bc564-287">[RESTORE LABELONLY &#40;Transact-SQL&#41;](/sql/t-sql/statements/restore-statements-labelonly-transact-sql) </span></span>  
 <span data-ttu-id="bc564-288">[sys.backup_devices &#40;Transact-SQL&#41;](/sql/relational-databases/system-catalog-views/sys-backup-devices-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="bc564-288">[sys.backup_devices &#40;Transact-SQL&#41;](/sql/relational-databases/system-catalog-views/sys-backup-devices-transact-sql) </span></span>  
 <span data-ttu-id="bc564-289">[sys.dm_io_backup_tapes &#40;Transact-SQL&#41;](/sql/relational-databases/system-dynamic-management-views/sys-dm-io-backup-tapes-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="bc564-289">[sys.dm_io_backup_tapes &#40;Transact-SQL&#41;](/sql/relational-databases/system-dynamic-management-views/sys-dm-io-backup-tapes-transact-sql) </span></span>  
 [<span data-ttu-id="bc564-290">Conjuntos de mídias de backup espelhadas &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="bc564-290">Mirrored Backup Media Sets &#40;SQL Server&#41;</span></span>](mirrored-backup-media-sets-sql-server.md)  
  
  
