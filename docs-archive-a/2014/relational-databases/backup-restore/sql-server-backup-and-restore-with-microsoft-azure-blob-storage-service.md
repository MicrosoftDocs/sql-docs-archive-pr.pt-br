---
title: SQL Server Backup e restauração com o serviço de armazenamento de BLOBs do Azure | Microsoft Docs
ms.custom: ''
ms.date: 03/07/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: backup-restore
ms.topic: conceptual
ms.assetid: 6a0c9b6a-cf71-4311-82f2-12c445f63935
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: 943da9018e50e1f287858654d4639035f3aa4532
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87582465"
---
# <a name="sql-server-backup-and-restore-with-azure-blob-storage-service"></a><span data-ttu-id="4e267-102">Backup e restauração do SQL Server no serviço de Armazenamento de Blobs</span><span class="sxs-lookup"><span data-stu-id="4e267-102">SQL Server Backup and Restore with Azure Blob Storage Service</span></span>
  <span data-ttu-id="4e267-103">Este tópico apresenta [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] backups e restaurando do [serviço de armazenamento de BLOBs do Azure](https://www.windowsazure.com/develop/net/how-to-guides/blob-storage/).</span><span class="sxs-lookup"><span data-stu-id="4e267-103">This topic introduces [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] backups to and restoring from the [Azure Blob storage service](https://www.windowsazure.com/develop/net/how-to-guides/blob-storage/).</span></span> <span data-ttu-id="4e267-104">Ele também fornece um resumo dos benefícios de usar o serviço blob do Azure para armazenar [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] backups.</span><span class="sxs-lookup"><span data-stu-id="4e267-104">It also provides a summary of the benefits of using the Azure Blob service to store [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] backups.</span></span>  
  
 <span data-ttu-id="4e267-105">O SQL Server dá suporte ao armazenamento de backups para o serviço de armazenamento de BLOBs do Azure das seguintes maneiras:</span><span class="sxs-lookup"><span data-stu-id="4e267-105">SQL Server supports storing backups to the Azure Blob storage service in the following ways:</span></span>  
  
-   <span data-ttu-id="4e267-106">**Gerencie seus backups no Azure:** Usando os mesmos métodos usados para fazer backup em disco e fita, agora você pode fazer backup no armazenamento do Azure especificando a URL como o destino do backup.</span><span class="sxs-lookup"><span data-stu-id="4e267-106">**Manage your backups  to Azure:** Using the same methods used to backup to DISK and TAPE, you can now back up to Azure storage by Specifying URL as the backup destination.</span></span>  <span data-ttu-id="4e267-107">Você pode usar esse recurso para fazer backup ou configurar manualmente sua própria estratégia de backup, como faria em um armazenamento local ou em outras opções fora do local.</span><span class="sxs-lookup"><span data-stu-id="4e267-107">You can use this feature to manually backup or configure your own backup strategy like you would for a local storage or other off-site options.</span></span> <span data-ttu-id="4e267-108">Esse recurso também é conhecido como **Backup do SQL Server para URL**.</span><span class="sxs-lookup"><span data-stu-id="4e267-108">This feature is also referred to as **SQL Server Backup to URL**.</span></span> <span data-ttu-id="4e267-109">Para saber mais, confira [SQL Server Backup to URL](sql-server-backup-to-url.md).</span><span class="sxs-lookup"><span data-stu-id="4e267-109">For more information, see [SQL Server Backup to URL](sql-server-backup-to-url.md).</span></span> <span data-ttu-id="4e267-110">Esse recurso está disponível no SQL Server 2012 SP1 CU2 ou posterior.</span><span class="sxs-lookup"><span data-stu-id="4e267-110">This feature is available in SQL Server 2012 SP1 CU2 or later.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="4e267-111">Para SQL Server versões anteriores a SQL Server 2014, você pode usar o suplemento SQL Server a ferramenta backup para Azure para criar backups de modo rápido e fácil para o armazenamento do Azure.</span><span class="sxs-lookup"><span data-stu-id="4e267-111">For SQL Server versions previous to SQL Server 2014, you can use the add-in SQL Server Backup to Azure Tool to quickly and easily create backups to Azure storage.</span></span> <span data-ttu-id="4e267-112">Para obter mais informações, consulte [centro de download](https://go.microsoft.com/fwlink/?LinkID=324399).</span><span class="sxs-lookup"><span data-stu-id="4e267-112">For more information, see [download center](https://go.microsoft.com/fwlink/?LinkID=324399).</span></span>  
  
-   <span data-ttu-id="4e267-113">**Permitir que SQL Server gerencie backups no Azure:** Configure SQL Server para gerenciar a estratégia de backup e agendar backups de um único banco de dados ou de vários bancos ou definir padrões no nível da instância.</span><span class="sxs-lookup"><span data-stu-id="4e267-113">**Let SQL Server Manage backups to Azure:** Configure SQL Server to manage the backup strategy and schedule backups for a single database, or several databases, or set defaults at the instance level.</span></span> <span data-ttu-id="4e267-114">Esse recurso é conhecido como **[!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)]** .</span><span class="sxs-lookup"><span data-stu-id="4e267-114">This feature is referred to as  **[!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)]**.</span></span> <span data-ttu-id="4e267-115">Para obter mais informações, consulte [SQL Server Backup gerenciado no Azure](sql-server-managed-backup-to-microsoft-azure.md).</span><span class="sxs-lookup"><span data-stu-id="4e267-115">For more information see [SQL Server Managed  Backup to Azure](sql-server-managed-backup-to-microsoft-azure.md).</span></span> <span data-ttu-id="4e267-116">Esse recurso está disponível no SQL Server 2014 ou posterior.</span><span class="sxs-lookup"><span data-stu-id="4e267-116">This feature is available in SQL Server 2014 or later.</span></span>  
  
## <a name="benefits-of-using-the-azure-blob-service-for-ssnoversion-backups"></a><span data-ttu-id="4e267-117">Benefícios de usar o serviço blob do Azure para [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] backups</span><span class="sxs-lookup"><span data-stu-id="4e267-117">Benefits of Using the Azure Blob Service for [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Backups</span></span>  
  
-   <span data-ttu-id="4e267-118">Armazenamento externo flexível, confiável e ilimitado: armazenar seus backups no serviço blob do Azure pode ser uma opção conveniente, flexível e fácil de acessar fora do local.</span><span class="sxs-lookup"><span data-stu-id="4e267-118">Flexible, reliable, and limitless off-site storage: Storing your backups on Azure Blob service can be a convenient, flexible, and easy to access off-site option.</span></span> <span data-ttu-id="4e267-119">Criar o armazenamento externo para backups do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] pode ser tão fácil quanto modificar scripts/trabalhos existentes.</span><span class="sxs-lookup"><span data-stu-id="4e267-119">Creating off-site storage for your [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] backups can be as easy as modifying your existing scripts/jobs.</span></span> <span data-ttu-id="4e267-120">O armazenamento externo deve estar, normalmente, distante o suficiente do local do banco de dados de produção para evitar um único desastre que possa afetar os locais dos bancos de dados externo e de produção.</span><span class="sxs-lookup"><span data-stu-id="4e267-120">Off-site storage should typically be far enough from the production database location to prevent a single disaster that might impact both the off-site and production database locations.</span></span> <span data-ttu-id="4e267-121">Ao optar por replicar geograficamente o armazenamento de Blob, você terá uma camada adicional de proteção caso ocorra algum desastre que possa afetar a região inteira.</span><span class="sxs-lookup"><span data-stu-id="4e267-121">By choosing to geo replicate the Blob storage you have an extra layer of protection in the event of a disaster that could affect the whole region.</span></span> <span data-ttu-id="4e267-122">Além disso, os backups estão disponíveis em qualquer lugar e a qualquer momento, e podem ser facilmente acessados para restaurações.</span><span class="sxs-lookup"><span data-stu-id="4e267-122">In addition, backups are available from anywhere and at any time and can easily be accessed for restores.</span></span>  
  
-   <span data-ttu-id="4e267-123">Arquivo de backup: o serviço de armazenamento de BLOBs do Azure oferece uma alternativa melhor à opção de fita usada com frequência para arquivar backups.</span><span class="sxs-lookup"><span data-stu-id="4e267-123">Backup Archive: The Azure Blob Storage service offers a better alternative to the often used tape option to archive backups.</span></span> <span data-ttu-id="4e267-124">O armazenamento em fita pode exigir o transporte físico para uma instalação externa e medidas para proteger a mídia.</span><span class="sxs-lookup"><span data-stu-id="4e267-124">Tape storage might require physical transportation to an off-site facility and measures to protect the media.</span></span> <span data-ttu-id="4e267-125">Armazenar os backups em armazenamento de BLOBs do Azure fornece um instante e altamente disponível, e a opção de arquivamento de um duráveis.</span><span class="sxs-lookup"><span data-stu-id="4e267-125">Storing your backups in Azure Blob Storage provides an instant, highly available, and a durable archiving option.</span></span>  
  
-   <span data-ttu-id="4e267-126">Sem sobrecarga de gerenciamento de hardware: não há sobrecarga de gerenciamento de hardware com os serviços do Azure.</span><span class="sxs-lookup"><span data-stu-id="4e267-126">No overhead of hardware management:There is no overhead of hardware management with Azure services.</span></span> <span data-ttu-id="4e267-127">Serviços Azure gerenciar o hardware e fornecem replicação geográfica para redundância e proteção contra falhas de hardware.</span><span class="sxs-lookup"><span data-stu-id="4e267-127">Azure services manage the hardware and provide geo-replication for redundancy and protection against hardware failures.</span></span>  
  
-   <span data-ttu-id="4e267-128">Atualmente, para instâncias de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] execução em uma máquina virtual do Azure, o backup em serviços de armazenamento de BLOBs do Azure pode ser feito criando discos anexados.</span><span class="sxs-lookup"><span data-stu-id="4e267-128">Currently for instances of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] running in an Azure Virtual Machine, backing up to Azure Blob storage services can be done by creating attached disks.</span></span> <span data-ttu-id="4e267-129">No entanto, há um limite para o número de discos que você pode anexar a uma máquina virtual do Azure.</span><span class="sxs-lookup"><span data-stu-id="4e267-129">However, there is a limit to the number of disks you can attach to an Azure Virtual Machine.</span></span> <span data-ttu-id="4e267-130">O limite é 16 discos para uma instância grande adicional, e menos que isso para instâncias menores.</span><span class="sxs-lookup"><span data-stu-id="4e267-130">This limit is 16 disks for an extra large instance and fewer for smaller instances.</span></span> <span data-ttu-id="4e267-131">Ao habilitar um backup direto para o armazenamento de BLOBs do Azure, você pode ignorar o limite de 16 discos.</span><span class="sxs-lookup"><span data-stu-id="4e267-131">By enabling a direct backup to Azure Blob Storage, you can bypass the 16 disk limit.</span></span>  
  
     <span data-ttu-id="4e267-132">Além disso, o arquivo de backup que agora é armazenado no serviço de armazenamento de BLOBs do Azure está diretamente disponível para um local [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] ou outro em [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] execução em uma máquina virtual do Azure, sem a necessidade de anexar/desanexar banco de dados ou baixar e anexar o VHD.</span><span class="sxs-lookup"><span data-stu-id="4e267-132">In addition, the backup file which now is stored in the Azure Blob storage service is directly available to either an on-premises [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] or another [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] running in an Azure Virtual Machine, without the need for database attach/detach or downloading and attaching the VHD.</span></span>  
  
-   <span data-ttu-id="4e267-133">Benefícios do custo: pague apenas pelo serviço utilizado.</span><span class="sxs-lookup"><span data-stu-id="4e267-133">Cost Benefits: Pay only for the service that is used.</span></span> <span data-ttu-id="4e267-134">Pode ser tão econômico quanto uma opção de arquivamento externo e de backup.</span><span class="sxs-lookup"><span data-stu-id="4e267-134">Can be cost-effective as an off-site and backup archive option.</span></span> <span data-ttu-id="4e267-135">Consulte a seção [considerações de cobrança do Azure](#Billing) para obter mais informações e links.</span><span class="sxs-lookup"><span data-stu-id="4e267-135">See the [Azure Billing Considerations](#Billing) section for more information and links.</span></span>  
  
##  <a name="azure-billing-considerations"></a><a name="Billing"></a><span data-ttu-id="4e267-136">Considerações sobre cobrança do Azure:</span><span class="sxs-lookup"><span data-stu-id="4e267-136">Azure Billing Considerations:</span></span>  
 <span data-ttu-id="4e267-137">Entender os custos de armazenamento do Azure permite prever o custo de criação e armazenamento de backups no Azure.</span><span class="sxs-lookup"><span data-stu-id="4e267-137">Understanding Azure storage costs enables you to forecast the cost of creating and storing backups in Azure.</span></span>  
  
 <span data-ttu-id="4e267-138">A [calculadora de preços do Azure](https://go.microsoft.com/fwlink/?LinkId=277060) pode ajudar a estimar seus custos.</span><span class="sxs-lookup"><span data-stu-id="4e267-138">The [Azure pricing calculator](https://go.microsoft.com/fwlink/?LinkId=277060) can help estimate your costs.</span></span>  
  
 <span data-ttu-id="4e267-139">**Armazenamento:** os encargos baseiam-se no espaço usado, e são calculados em uma escala graduada e no nível de redundância.</span><span class="sxs-lookup"><span data-stu-id="4e267-139">**Storage:** Charges are based on the space used and are calculated on a graduated scale and the level of redundancy.</span></span> <span data-ttu-id="4e267-140">Para obter mais detalhes e informações atualizadas, confira a seção **Gerenciamento de dados** do artigo [Detalhes de preço](https://go.microsoft.com/fwlink/?LinkId=277059) .</span><span class="sxs-lookup"><span data-stu-id="4e267-140">For more details, and up-to-date information, see the **Data Management** section of the [Pricing Details](https://go.microsoft.com/fwlink/?LinkId=277059) article.</span></span>  
  
 <span data-ttu-id="4e267-141">**Transferências de dados:** As transferências de dados de entrada para o Azure são gratuitas.</span><span class="sxs-lookup"><span data-stu-id="4e267-141">**Data Transfers:** Inbound data transfers to Azure are free.</span></span> <span data-ttu-id="4e267-142">As transferências de saída são cobradas de acordo com o uso da largura de banda e calculadas com base em uma escala graduada específica de região.</span><span class="sxs-lookup"><span data-stu-id="4e267-142">Outbound transfers are charged for the bandwidth use and calculated based on a graduated region-specific scale.</span></span> <span data-ttu-id="4e267-143">Para obter mais detalhes, consulte a seção [Transferências de dados](https://go.microsoft.com/fwlink/?LinkId=277061) do artigo Detalhes do preço.</span><span class="sxs-lookup"><span data-stu-id="4e267-143">For more details, see the [Data Transfers](https://go.microsoft.com/fwlink/?LinkId=277061) section of the Pricing Details article.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="4e267-144">Consulte Também</span><span class="sxs-lookup"><span data-stu-id="4e267-144">See Also</span></span>  
 <span data-ttu-id="4e267-145">[Práticas recomendadas e solução de problemas de backup do SQL Server para URL](sql-server-backup-to-url-best-practices-and-troubleshooting.md) </span><span class="sxs-lookup"><span data-stu-id="4e267-145">[SQL Server Backup to URL Best Practices and Troubleshooting](sql-server-backup-to-url-best-practices-and-troubleshooting.md) </span></span>  
 <span data-ttu-id="4e267-146">[Fazer backup e restaurar bancos de dados do sistema &#40;SQL Server&#41;](back-up-and-restore-of-system-databases-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="4e267-146">[Back Up and Restore of System Databases &#40;SQL Server&#41;](back-up-and-restore-of-system-databases-sql-server.md) </span></span>  
 <span data-ttu-id="4e267-147">[Tutorial: SQL Server Backup e restauração para o serviço de armazenamento de BLOBs do Azure](../tutorial-sql-server-backup-and-restore-to-azure-blob-storage-service.md) </span><span class="sxs-lookup"><span data-stu-id="4e267-147">[Tutorial: SQL Server Backup and Restore to Azure Blob Storage Service](../tutorial-sql-server-backup-and-restore-to-azure-blob-storage-service.md) </span></span>  
 [<span data-ttu-id="4e267-148">Backup do SQL Server para URL</span><span class="sxs-lookup"><span data-stu-id="4e267-148">SQL Server Backup to URL</span></span>](sql-server-backup-to-url.md)  
  
