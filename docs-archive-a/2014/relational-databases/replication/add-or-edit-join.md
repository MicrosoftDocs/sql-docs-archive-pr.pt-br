---
title: Adicionar ou editar junção | Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: replication
ms.topic: conceptual
f1_keywords:
- sql12.rep.newpubwizard.addeditjoin.f1
ms.assetid: 3b546560-720f-48b8-9d63-cf159290e9d4
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: e3e17b084a232375734601b515821273d482fcd8
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87569966"
---
# <a name="add-or-edit-join"></a><span data-ttu-id="8e615-102">Adicionar ou Editar Junção</span><span class="sxs-lookup"><span data-stu-id="8e615-102">Add or Edit Join</span></span>
  <span data-ttu-id="8e615-103">As caixas de diálogo **Adicionar Junção** e **Editar Junção** permitem adicionar e editar filtros de junção para publicações de mesclagem.</span><span class="sxs-lookup"><span data-stu-id="8e615-103">The **Add Join** and **Edit Join** dialog boxes allow you to add and edit join filters for merge publications.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="8e615-104">Editar um filtro em uma publicação existente requer um novo instantâneo para a publicação.</span><span class="sxs-lookup"><span data-stu-id="8e615-104">Editing a filter in an existing publication requires a new snapshot for the publication.</span></span> <span data-ttu-id="8e615-105">Se uma publicação tiver assinaturas, as assinaturas deverão ser reiniciadas.</span><span class="sxs-lookup"><span data-stu-id="8e615-105">If a publication has subscriptions, the subscriptions must be reinitialized.</span></span> <span data-ttu-id="8e615-106">Para obter mais informações sobre alterações de propriedades, consulte [Alterar propriedades da publicação e do artigo](publish/change-publication-and-article-properties.md).</span><span class="sxs-lookup"><span data-stu-id="8e615-106">For more information about property changes, see [Change Publication and Article Properties](publish/change-publication-and-article-properties.md).</span></span>  
  
 <span data-ttu-id="8e615-107">Um filtro de junção permite que uma tabela seja filtrada com base na forma pela qual uma tabela relacionada é filtrada na publicação.</span><span class="sxs-lookup"><span data-stu-id="8e615-107">A join filter allows a table to be filtered based on how a related table in the publication is filtered.</span></span> <span data-ttu-id="8e615-108">Geralmente uma tabela pai é filtrada usando um filtro de linha com parâmetros; depois um ou mais filtros de junção são definidos quase da mesma forma pela qual as junções são definidas entre tabelas.</span><span class="sxs-lookup"><span data-stu-id="8e615-108">Typically a parent table is filtered using a parameterized row filter; then one or more join filters are defined in much the same way that you define a join between tables.</span></span> <span data-ttu-id="8e615-109">Os filtros de junção estendem os filtros da linha para que os dados nas tabelas relacionadas sejam replicados somente se corresponderem à cláusula do filtro de junção.</span><span class="sxs-lookup"><span data-stu-id="8e615-109">The join filters extend the row filter so that the data in the related tables is replicated only if it matches the join filter clause.</span></span>  
  
 <span data-ttu-id="8e615-110">Os filtros de junção geralmente seguem as relações chave primária/chave estrangeira definidas para as tabelas nas quais são aplicados, mas não estão estritamente limitados a essas relações.</span><span class="sxs-lookup"><span data-stu-id="8e615-110">Join filters typically follow the primary key/foreign key relationships defined for the tables to which they are applied, but they are not limited strictly to primary key/foreign key relationships.</span></span> <span data-ttu-id="8e615-111">O filtro de junção pode se basear em qualquer lógica que compara dados relacionados em duas tabelas de artigo.</span><span class="sxs-lookup"><span data-stu-id="8e615-111">The join filter can be based on any logic that compares related data in two article tables.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="8e615-112">Os filtros de junção podem envolver um número ilimitado de tabelas, mas filtros com um grande número de tabelas podem impactar o desempenho durante o processo de mesclagem.</span><span class="sxs-lookup"><span data-stu-id="8e615-112">Join Filters can involve an unlimited number of tables, but filters with a large number of tables can impact performance during merge processing.</span></span> <span data-ttu-id="8e615-113">Se você estiver gerando filtros de junção de cinco ou mais tabelas, considere outras soluções: não filtre tabelas pequenas, que não estão sujeitas a alterações ou que sejam basicamente tabelas de pesquisa.</span><span class="sxs-lookup"><span data-stu-id="8e615-113">If you are generating join filters of five or more tables, consider other solutions: do not filter tables that are small, not subject to change, or are primarily lookup tables.</span></span> <span data-ttu-id="8e615-114">Use filtros de junção somente entre tabelas que devem ser particionadas entre Assinantes.</span><span class="sxs-lookup"><span data-stu-id="8e615-114">Use join filters only between tables that must be partitioned among Subscribers.</span></span>  
  
## <a name="options"></a><span data-ttu-id="8e615-115">Opções</span><span class="sxs-lookup"><span data-stu-id="8e615-115">Options</span></span>  
 <span data-ttu-id="8e615-116">Essa caixa de diálogo envolve um processo de três etapas para criar um filtro de junção entre duas tabelas.</span><span class="sxs-lookup"><span data-stu-id="8e615-116">This dialog box involves a three-step process to create a join filter between two tables.</span></span> <span data-ttu-id="8e615-117">A criação de mais de um filtro de junção requer mais de uma passagem pela caixa de diálogo.</span><span class="sxs-lookup"><span data-stu-id="8e615-117">Creating more than one join filter requires more than one pass through the dialog box.</span></span>  
  
1.  <span data-ttu-id="8e615-118">**Verifique a tabela filtrada e selecione a tabela unida**</span><span class="sxs-lookup"><span data-stu-id="8e615-118">**Verify filtered table and select the joined table**</span></span>  
  
    -   <span data-ttu-id="8e615-119">Se você estiver adicionando uma nova junção, verifique se a tabela na caixa de texto **Tabela Filtrada** está correta (se não estiver correta, clique em **Cancelar**, selecione a tabela correta na página **Filtrar Linhas da Tabela** e clique em **Adicionar Junção** para retornar à caixa de diálogo).</span><span class="sxs-lookup"><span data-stu-id="8e615-119">If you are adding a new join, verify that the table in the **Filtered table** text box is correct (if it is not correct, click **Cancel**, select the correct table on the **Filter Table Rows** page, and click **Add Join** to return to this dialog box).</span></span> <span data-ttu-id="8e615-120">Depois selecione uma tabela na caixa de listagem suspensa **Tabela Unida** .</span><span class="sxs-lookup"><span data-stu-id="8e615-120">Then select a table from the **Joined table** drop-down list box.</span></span>  
  
    -   <span data-ttu-id="8e615-121">Se você estiver editando uma junção existente, os nomes de tabela serão especificados e não poderão ser alterados.</span><span class="sxs-lookup"><span data-stu-id="8e615-121">If you are editing an existing join, the table names will be specified already and cannot be changed.</span></span> <span data-ttu-id="8e615-122">Para alterar as tabelas envolvidas na junção, é necessário alterar o filtro da tabela existente na página **Filtrar Linhas da Tabela** e criar uma nova junção entre tabelas diferentes.</span><span class="sxs-lookup"><span data-stu-id="8e615-122">To change the tables involved in the join, you must delete the existing join filter on the **Filter Table Rows** page and create a new join between different tables.</span></span>  
  
2.  <span data-ttu-id="8e615-123">**Crie a instrução de junção**</span><span class="sxs-lookup"><span data-stu-id="8e615-123">**Create the join statement**</span></span>  
  
    -   <span data-ttu-id="8e615-124">Se você estiver adicionando uma nova junção, selecione **Usar o construtor para criar a instrução** ou **Gravar a instrução de junção manualmente**.</span><span class="sxs-lookup"><span data-stu-id="8e615-124">If you are adding a new join, select either **Use the builder to create the statement** or **Write the join statement manually**.</span></span> <span data-ttu-id="8e615-125">Se você começar a gravar a junção manualmente, não poderá usar o construtor.</span><span class="sxs-lookup"><span data-stu-id="8e615-125">If you begin writing the join manually, you cannot use the builder.</span></span>  
  
         <span data-ttu-id="8e615-126">Se você selecionar para usar o construtor, use as colunas na grade (**Conjunção**, **Coluna da Tabela Filtrada**, **Operador**e **Coluna da Tabela Unida**) para criar uma instrução de junção.</span><span class="sxs-lookup"><span data-stu-id="8e615-126">If you select to use the builder, use the columns in the grid (**Conjunction**, **Filtered table column**, **Operator**, and **Joined table column**) to build a join statement.</span></span> <span data-ttu-id="8e615-127">Cada coluna na grade contém uma caixa de listagem suspensa, permitindo que você selecione duas colunas e um operador ( **=** , **<>** , **<=** , **\<**, **>=** , **>** , **like**).</span><span class="sxs-lookup"><span data-stu-id="8e615-127">Each column in the grid contains a drop-down list box, allowing you to select two columns and an operator (**=**, **<>**, **<=**, **\<**, **>=**, **>**, **like**).</span></span> <span data-ttu-id="8e615-128">Os resultados são exibidos na área de texto **Visualizar** .</span><span class="sxs-lookup"><span data-stu-id="8e615-128">The results are displayed in the **Preview** text area.</span></span> <span data-ttu-id="8e615-129">Se a junção envolver mais de um par de colunas, selecione uma conjunção (**AND** ou **OR**) na coluna **Conjunção** e insira mais duas colunas e outro operador.</span><span class="sxs-lookup"><span data-stu-id="8e615-129">If the join involves more than one pair of columns, select a conjunction (**AND** or **OR**) from the **Conjunction** column, and then enter two more columns and another operator.</span></span>  
  
         <span data-ttu-id="8e615-130">Se você selecionar para gravar a instrução manualmente, grave a instrução de junção na área de texto **Instrução de Junção** .</span><span class="sxs-lookup"><span data-stu-id="8e615-130">If you select to write the statement manually, write the join statement in the **Join statement** text area.</span></span> <span data-ttu-id="8e615-131">Use a caixa de listagem **Colunas da Tabela Filtrada** e **Colunas da Tabela Unida** para arrastar e soltar colunas na área de texto **Instrução de Junção** .</span><span class="sxs-lookup"><span data-stu-id="8e615-131">Use the **Filtered table columns** list box and **Joined table columns** list box to drag and drop columns to the **Join statement** text area.</span></span>  
  
    -   <span data-ttu-id="8e615-132">Se você estiver editando uma junção existente, deverá fazer as edições manualmente.</span><span class="sxs-lookup"><span data-stu-id="8e615-132">If you are editing an existing join, you must make edits manually.</span></span>  
  
3.  <span data-ttu-id="8e615-133">**Especificar Opções de Junção**</span><span class="sxs-lookup"><span data-stu-id="8e615-133">**Specify join options**</span></span>  
  
    -   <span data-ttu-id="8e615-134">Se a coluna em que você une a tabela filtrada for exclusiva, selecione **Chave Exclusiva**.</span><span class="sxs-lookup"><span data-stu-id="8e615-134">If the column on which you join in the filtered table is unique, select **Unique key**.</span></span> <span data-ttu-id="8e615-135">O processo de mesclagem terá otimizações de desempenho especiais disponíveis se a coluna for exclusiva.</span><span class="sxs-lookup"><span data-stu-id="8e615-135">The merge process has special performance optimizations available if the column is unique.</span></span>  
  
        > [!CAUTION]  
        >  <span data-ttu-id="8e615-136">A seleção dessa opção indica que a relação entre tabelas pai e filho em um filtro de junção é de um para um ou um para muitos.</span><span class="sxs-lookup"><span data-stu-id="8e615-136">Selecting this option indicates that the relationship between the child and parent tables in a join filter is one to one or one to many.</span></span> <span data-ttu-id="8e615-137">Só selecione essa opção se você tiver uma restrição na coluna de junção na tabela pai que garanta a exclusividade.</span><span class="sxs-lookup"><span data-stu-id="8e615-137">Only select this option if you have a constraint on the joining column in the parent table that guarantees uniqueness.</span></span> <span data-ttu-id="8e615-138">Se a opção for definida incorretamente, poderá ocorrer não convergência de dados.</span><span class="sxs-lookup"><span data-stu-id="8e615-138">If the option is set incorrectly, non-convergence of data can occur.</span></span>  
  
    -   <span data-ttu-id="8e615-139">Somente [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] e versões posteriores.</span><span class="sxs-lookup"><span data-stu-id="8e615-139">[!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] and later versions only.</span></span> <span data-ttu-id="8e615-140">Por padrão, os processos de replicação de mesclagem são alterados em uma base de linha por linha durante a sincronização.</span><span class="sxs-lookup"><span data-stu-id="8e615-140">By default, merge replication processes changes on a row-by-row basis during synchronization.</span></span> <span data-ttu-id="8e615-141">Para que as alterações relacionadas sejam processadas como uma unidade, selecione **Registro Lógico**.</span><span class="sxs-lookup"><span data-stu-id="8e615-141">To have related changes processed as a unit, select **Logical record**.</span></span> <span data-ttu-id="8e615-142">Essa opção só estará disponível se os requisitos de  artigo e publicação para uso de registros lógicos forem atendidos.</span><span class="sxs-lookup"><span data-stu-id="8e615-142">This option is available only if the article and publication requirements for using logical records are met.</span></span> <span data-ttu-id="8e615-143">Para obter mais informações, consulte a seção "Considerações para uso de registros lógicos" em [Agrupar alterações a linhas relacionadas com registros lógicos](merge/group-changes-to-related-rows-with-logical-records.md).</span><span class="sxs-lookup"><span data-stu-id="8e615-143">For more information, see the section "Considerations for Using Logical Records" in [Group Changes to Related Rows with Logical Records](merge/group-changes-to-related-rows-with-logical-records.md).</span></span>  
  
 <span data-ttu-id="8e615-144">Depois de adicionar ou editar um filtro, clique em **OK** para salvar as alterações e fechar a caixa de diálogo.</span><span class="sxs-lookup"><span data-stu-id="8e615-144">After you have added or edited a filter, click **OK** to save changes and close the dialog box.</span></span> <span data-ttu-id="8e615-145">O filtro que você especificou é analisado e executado na tabela, na cláusula SELECT.</span><span class="sxs-lookup"><span data-stu-id="8e615-145">The filter you specified is parsed and run against the table in the SELECT clause.</span></span> <span data-ttu-id="8e615-146">Se a instrução de filtro contiver erros de sintaxe ou outros problemas, você será notificado e poderá editar a instrução do filtro.</span><span class="sxs-lookup"><span data-stu-id="8e615-146">If the filter statement contains syntax errors or other problems, you will be notified and will be able to edit the filter statement.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="8e615-147">Consulte Também</span><span class="sxs-lookup"><span data-stu-id="8e615-147">See Also</span></span>  
 <span data-ttu-id="8e615-148">[Create a Publication](publish/create-a-publication.md) </span><span class="sxs-lookup"><span data-stu-id="8e615-148">[Create a Publication](publish/create-a-publication.md) </span></span>  
 <span data-ttu-id="8e615-149">[Exibir e modificar as propriedades da publicação](publish/view-and-modify-publication-properties.md) </span><span class="sxs-lookup"><span data-stu-id="8e615-149">[View and Modify Publication Properties](publish/view-and-modify-publication-properties.md) </span></span>  
 <span data-ttu-id="8e615-150">[Filtrar os dados publicados](publish/filter-published-data.md) </span><span class="sxs-lookup"><span data-stu-id="8e615-150">[Filter Published Data](publish/filter-published-data.md) </span></span>  
 <span data-ttu-id="8e615-151">[Join Filters](merge/join-filters.md) </span><span class="sxs-lookup"><span data-stu-id="8e615-151">[Join Filters](merge/join-filters.md) </span></span>  
 <span data-ttu-id="8e615-152">[Parameterized Row Filters](merge/parameterized-filters-parameterized-row-filters.md) </span><span class="sxs-lookup"><span data-stu-id="8e615-152">[Parameterized Row Filters](merge/parameterized-filters-parameterized-row-filters.md) </span></span>  
 [<span data-ttu-id="8e615-153">Publicar dados e objetos de banco de dados</span><span class="sxs-lookup"><span data-stu-id="8e615-153">Publish Data and Database Objects</span></span>](publish/publish-data-and-database-objects.md)  
  
  
