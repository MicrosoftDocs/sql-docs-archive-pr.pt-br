---
title: Criar uma assinatura para um assinante que não é do SQL Server | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: replication
ms.topic: conceptual
helpviewer_keywords:
- subscriptions [SQL Server replication], non-SQL Server Subscribers
- Subscribers [SQL Server replication], non-SQL Server Subscribers
- non-SQL Server Subscribers, subscriptions
ms.assetid: 5020ee68-b988-4d57-8066-67d183e61237
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: 31a7d1e52c53cb858039f1fd0ed403f255ad5ca2
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87679875"
---
# <a name="create-a-subscription-for-a-non-sql-server-subscriber"></a><span data-ttu-id="2e945-102">Criar uma assinatura para um Assinante não SQL Server</span><span class="sxs-lookup"><span data-stu-id="2e945-102">Create a Subscription for a Non-SQL Server Subscriber</span></span>
  <span data-ttu-id="2e945-103">Este tópico descreve como criar uma assinatura para um Assinante não SQL Server no [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] usando [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] ou [!INCLUDE[tsql](../../includes/tsql-md.md)].</span><span class="sxs-lookup"><span data-stu-id="2e945-103">This topic describes how to create a subscription for a non-SQL Server Subscriber in [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] by using [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] or [!INCLUDE[tsql](../../includes/tsql-md.md)].</span></span> <span data-ttu-id="2e945-104">Dados de publicação de suporte a replicação transacional e de instantâneo para Assinantes não[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="2e945-104">Transactional and snapshot replication support publishing data to non-[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Subscribers.</span></span> <span data-ttu-id="2e945-105">Para obter mais informações sobre plataformas de Assinantes com suporte, consulte [Non-SQL Server Subscribers](non-sql/non-sql-server-subscribers.md).</span><span class="sxs-lookup"><span data-stu-id="2e945-105">For information about supported Subscriber platforms, see [Non-SQL Server Subscribers](non-sql/non-sql-server-subscribers.md).</span></span>  
  
 <span data-ttu-id="2e945-106">**Neste tópico**</span><span class="sxs-lookup"><span data-stu-id="2e945-106">**In This Topic**</span></span>  
  
-   <span data-ttu-id="2e945-107">**Para criar uma assinatura para um Assinante não SQL Server, usando:**</span><span class="sxs-lookup"><span data-stu-id="2e945-107">**To create a subscription for a non-SQL Server Subscriber, using:**</span></span>  
  
     [<span data-ttu-id="2e945-108">SQL Server Management Studio</span><span class="sxs-lookup"><span data-stu-id="2e945-108">SQL Server Management Studio</span></span>](#SSMSProcedure)  
  
     [<span data-ttu-id="2e945-109">Transact-SQL</span><span class="sxs-lookup"><span data-stu-id="2e945-109">Transact-SQL</span></span>](#TsqlProcedure)  
  
##  <a name="using-sql-server-management-studio"></a><a name="SSMSProcedure"></a> <span data-ttu-id="2e945-110">Usando o SQL Server Management Studio</span><span class="sxs-lookup"><span data-stu-id="2e945-110">Using SQL Server Management Studio</span></span>  
 <span data-ttu-id="2e945-111">Para criar uma assinatura para um Assinante não[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] :</span><span class="sxs-lookup"><span data-stu-id="2e945-111">To create a subscription for a non-[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Subscriber:</span></span>  
  
1.  <span data-ttu-id="2e945-112">Instale e configure o software de cliente Oracle e o provedor OLE DB apropriados no Distribuidor [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="2e945-112">Install and configure the appropriate client software and OLE DB provider(s) on the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Distributor.</span></span> <span data-ttu-id="2e945-113">Para obter mais informações, consulte [Oracle Subscribers](non-sql/oracle-subscribers.md) e [IBM DB2 Subscribers](non-sql/ibm-db2-subscribers.md).</span><span class="sxs-lookup"><span data-stu-id="2e945-113">For more information, see [Oracle Subscribers](non-sql/oracle-subscribers.md) and [IBM DB2 Subscribers](non-sql/ibm-db2-subscribers.md).</span></span>  
  
2.  <span data-ttu-id="2e945-114">Crie uma publicação usando o Assistente para Nova Publicação.</span><span class="sxs-lookup"><span data-stu-id="2e945-114">Create a publication using the New Publication Wizard.</span></span> <span data-ttu-id="2e945-115">Para obter mais informações sobre a criação de publicações, consulte [Create a Publication](publish/create-a-publication.md) (Criar uma publicação) e [Criar uma publicação de um banco de dados Oracle](publish/create-a-publication-from-an-oracle-database.md).</span><span class="sxs-lookup"><span data-stu-id="2e945-115">For more information about creating publications, see [Create a Publication](publish/create-a-publication.md) and [Create a Publication from an Oracle Database](publish/create-a-publication-from-an-oracle-database.md).</span></span> <span data-ttu-id="2e945-116">Especifique as opções a seguir no Assistente para Nova Publicação:</span><span class="sxs-lookup"><span data-stu-id="2e945-116">Specify the following options in the New Publication Wizard:</span></span>  
  
    -   <span data-ttu-id="2e945-117">Na página **Tipo de Publicação** , selecione **Publicação de Instantâneo** ou **Publicação Transacional**.</span><span class="sxs-lookup"><span data-stu-id="2e945-117">On the **Publication Type** page, select **Snapshot publication** or **Transactional publication**.</span></span>  
  
    -   <span data-ttu-id="2e945-118">Na página **Snapshot Agent** , desmarque **Criar um instantâneo imediatamente.**</span><span class="sxs-lookup"><span data-stu-id="2e945-118">On the **Snapshot Agent** page, clear **Create a snapshot immediately**.</span></span>  
  
         <span data-ttu-id="2e945-119">Você cria o instantâneo após a publicação estar habilitada para Assinantes não[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] para garantir que o Snapshot Agent gere scripts de instantâneo e de inicialização adequados para os Assinantes não[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="2e945-119">You create the snapshot after the publication is enabled for non-[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Subscribers to ensure that the Snapshot Agent generates a snapshot and initialization scripts that are suitable for non-[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Subscribers.</span></span>  
  
3.  <span data-ttu-id="2e945-120">Habilite a publicação para Assinantes não [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] usando a caixa de diálogo **Propriedades de Publicação – \<PublicationName>** .</span><span class="sxs-lookup"><span data-stu-id="2e945-120">Enable the publication for non-[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Subscribers using the **Publication Properties - \<PublicationName>** dialog box.</span></span> <span data-ttu-id="2e945-121">Consulte [Publication Properties, Subscription Options](publication-properties-subscription-options.md) para obter mais informações sobre essa etapa.</span><span class="sxs-lookup"><span data-stu-id="2e945-121">See [Publication Properties, Subscription Options](publication-properties-subscription-options.md) for more information about this step.</span></span>  
  
4.  <span data-ttu-id="2e945-122">Crie uma assinatura usando o Assistente para Nova Assinatura.</span><span class="sxs-lookup"><span data-stu-id="2e945-122">Create a subscription using the New Subscription Wizard.</span></span> <span data-ttu-id="2e945-123">Esse tópico proporciona mais informações sobre essa etapa.</span><span class="sxs-lookup"><span data-stu-id="2e945-123">This topic provides more information about this step.</span></span>  
  
5.  <span data-ttu-id="2e945-124">(Opcional) Altere a propriedade do artigo **de pre_creation_cmd** para reter as tabelas no Assinante.</span><span class="sxs-lookup"><span data-stu-id="2e945-124">(Optional) Change the **pre_creation_cmd** article property to retain tables at the Subscriber.</span></span> <span data-ttu-id="2e945-125">Esse tópico proporciona mais informações sobre essa etapa.</span><span class="sxs-lookup"><span data-stu-id="2e945-125">This topic provides more information about this step.</span></span>  
  
6.  <span data-ttu-id="2e945-126">Gere um instantâneo para a publicação.</span><span class="sxs-lookup"><span data-stu-id="2e945-126">Generate a snapshot for the publication.</span></span> <span data-ttu-id="2e945-127">Esse tópico proporciona mais informações sobre essa etapa.</span><span class="sxs-lookup"><span data-stu-id="2e945-127">This topic provides more information about this step.</span></span>  
  
7.  <span data-ttu-id="2e945-128">Sincronize a assinatura.</span><span class="sxs-lookup"><span data-stu-id="2e945-128">Synchronize the subscription.</span></span> <span data-ttu-id="2e945-129">Para obter mais informações, consulte [Synchronize a Push Subscription](synchronize-a-push-subscription.md).</span><span class="sxs-lookup"><span data-stu-id="2e945-129">For more information, see [Synchronize a Push Subscription](synchronize-a-push-subscription.md).</span></span>  
  
#### <a name="to-enable-a-publication-for-non-sql-server-subscribers"></a><span data-ttu-id="2e945-130">Para habilitar uma publicação para Assinantes não SQL Server</span><span class="sxs-lookup"><span data-stu-id="2e945-130">To enable a publication for non-SQL Server Subscribers</span></span>  
  
1.  <span data-ttu-id="2e945-131">Conecte-se ao Publicador no [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)]e expanda o nó de servidor.</span><span class="sxs-lookup"><span data-stu-id="2e945-131">Connect to the Publisher in [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)], and then expand the server node.</span></span>  
  
2.  <span data-ttu-id="2e945-132">Expanda a pasta **Replicação** e, em seguida, a pasta **Publicações Locais** .</span><span class="sxs-lookup"><span data-stu-id="2e945-132">Expand the **Replication** folder, and then expand the **Local Publications** folder.</span></span>  
  
3.  <span data-ttu-id="2e945-133">Clique com o botão direito do mouse na publicação, em clique em **Propriedades**.</span><span class="sxs-lookup"><span data-stu-id="2e945-133">Right-click the publication, and then click **Properties**.</span></span>  
  
4.  <span data-ttu-id="2e945-134">Na página **Opções de Assinatura** , selecione um valor de **Verdadeiro** para a opção **Permitir Assinantes não SQL Server**.</span><span class="sxs-lookup"><span data-stu-id="2e945-134">On the **Subscription Options** page, select a value of **True** for the option **Allow non-SQL Server Subscribers**.</span></span> <span data-ttu-id="2e945-135">A seleção dessa opção altera várias propriedades de forma que a publicação seja compatível com Assinantes não[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="2e945-135">Selecting this option changes a number of properties so that the publication is compatible with non-[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Subscribers.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="2e945-136">Selecionando **Verdadeiro** define o valor da propriedade do artigo **pre_creation_cmd** para 'descartar'.</span><span class="sxs-lookup"><span data-stu-id="2e945-136">Selecting **True** sets the value of the **pre_creation_cmd** article property to 'drop'.</span></span> <span data-ttu-id="2e945-137">Essa definição especifica que a replicação deve descartar uma tabela no Assinante se coincidir com o nome de tabela no artigo.</span><span class="sxs-lookup"><span data-stu-id="2e945-137">This setting specifies that replication should drop a table at the Subscriber if it matches the name of the table in the article.</span></span> <span data-ttu-id="2e945-138">Se tiver tabelas existentes no Assinante que deseja manter, use o procedimento armazenado [sp_changearticle](/sql/relational-databases/system-stored-procedures/sp-changearticle-transact-sql) para cada artigo, especifique o valor 'nenhum' para **pre_creation_cmd**: `sp_changearticle @publication= 'MyPublication', @article= 'MyArticle', @property='pre_creation_cmd', @value='none'`.</span><span class="sxs-lookup"><span data-stu-id="2e945-138">If you have existing tables at the Subscriber that you want to keep, use the [sp_changearticle](/sql/relational-databases/system-stored-procedures/sp-changearticle-transact-sql) stored procedure for each article; specify a value 'none' for **pre_creation_cmd**: `sp_changearticle @publication= 'MyPublication', @article= 'MyArticle', @property='pre_creation_cmd', @value='none'`.</span></span>  
  
5.  [!INCLUDE[clickOK](../../includes/clickok-md.md)] <span data-ttu-id="2e945-139">Você será solicitado a criar um novo instantâneo para a publicação.</span><span class="sxs-lookup"><span data-stu-id="2e945-139">You will be prompted to create a new snapshot for the publication.</span></span> <span data-ttu-id="2e945-140">Se não quiser criar um neste momento, use mais tarde as etapas descritas no próximo procedimento “Como”.</span><span class="sxs-lookup"><span data-stu-id="2e945-140">If you do not want to create one at this time, use the steps described in the next "how to" procedure at a later time.</span></span>  
  
#### <a name="to-create-a-subscription-for-a-non-sql-server-subscriber"></a><span data-ttu-id="2e945-141">Para criar uma assinatura para um Assinante não SQL Server</span><span class="sxs-lookup"><span data-stu-id="2e945-141">To create a subscription for a non-SQL Server Subscriber</span></span>  
  
1.  <span data-ttu-id="2e945-142">Expanda a pasta **Replicação** e, em seguida, a pasta **Publicações Locais** .</span><span class="sxs-lookup"><span data-stu-id="2e945-142">Expand the **Replication** folder, and then expand the **Local Publications** folder.</span></span>  
  
2.  <span data-ttu-id="2e945-143">Clique com o botão direito do mouse em uma publicação adequada e clique em **Novas Assinaturas**.</span><span class="sxs-lookup"><span data-stu-id="2e945-143">Right-click the appropriate publication, and then click **New Subscriptions**.</span></span>  
  
3.  <span data-ttu-id="2e945-144">Na página **Local do Distribution Agent** , certifique-se de que **Executar todos os agentes no Distribuidor** esteja selecionado.</span><span class="sxs-lookup"><span data-stu-id="2e945-144">On the **Distribution Agent Location** page, ensure **Run all agents at the Distributor** is selected.</span></span> <span data-ttu-id="2e945-145">Assinantes não -[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] não têm suporte para os agentes executando no Assinante.</span><span class="sxs-lookup"><span data-stu-id="2e945-145">Non-[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Subscribers do not support running agents at the Subscriber.</span></span>  
  
4.  <span data-ttu-id="2e945-146">Na página **Assinantes** , clique em **Adicionar Assinante** e clique em **Adicionar Assinante não SQL Server**.</span><span class="sxs-lookup"><span data-stu-id="2e945-146">On the **Subscribers** page, click **Add Subscriber** and then click **Add Non-SQL Server Subscriber**.</span></span>  
  
5.  <span data-ttu-id="2e945-147">Na caixa de diálogo **Adicionar Assinante Não SQL Server** , selecione o tipo de Assinante.</span><span class="sxs-lookup"><span data-stu-id="2e945-147">In the **Add Non-SQL Server Subscriber** dialog box, select the type of Subscriber.</span></span>  
  
6.  <span data-ttu-id="2e945-148">Digite um valor no **Nome da fonte de dados**:</span><span class="sxs-lookup"><span data-stu-id="2e945-148">Enter a value in **Data source name**:</span></span>  
  
    -   <span data-ttu-id="2e945-149">Para o Oracle, esse é o nome do substrato transparente de rede (TNS) que você configurou.</span><span class="sxs-lookup"><span data-stu-id="2e945-149">For Oracle, this is the transparent network substrate (TNS) name you configured.</span></span>  
  
    -   <span data-ttu-id="2e945-150">Para a IBM, esse pode ser qualquer nome.</span><span class="sxs-lookup"><span data-stu-id="2e945-150">For IBM, this can be any name.</span></span> <span data-ttu-id="2e945-151">É comum especificar o endereço de rede do Assinante.</span><span class="sxs-lookup"><span data-stu-id="2e945-151">It is typical to specify the network address of the Subscriber.</span></span>  
  
     <span data-ttu-id="2e945-152">O nome da fonte de dados digitado nesta etapa e as credenciais especificadas na etapa 9 não são validados por este assistente.</span><span class="sxs-lookup"><span data-stu-id="2e945-152">The data source name entered in this step and the credentials specified in step 9 are not validated by this wizard.</span></span> <span data-ttu-id="2e945-153">Não são usados pela replicação até que o Distribution Agent execute para uma assinatura.</span><span class="sxs-lookup"><span data-stu-id="2e945-153">They are not used by replication until the Distribution Agent runs for the subscription.</span></span> <span data-ttu-id="2e945-154">Certifique-se de que todos os valores tenham sido testados por meio de conexão ao Assinante usando uma ferramenta de cliente (como **sqlplus** para o Oracle).</span><span class="sxs-lookup"><span data-stu-id="2e945-154">Ensure that all values have been tested by connecting to the Subscriber using a client tool (such as **sqlplus** for Oracle).</span></span> <span data-ttu-id="2e945-155">Para obter mais informações, consulte [Oracle Subscribers](non-sql/oracle-subscribers.md) e [IBM DB2 Subscribers](non-sql/ibm-db2-subscribers.md).</span><span class="sxs-lookup"><span data-stu-id="2e945-155">For more information, see [Oracle Subscribers](non-sql/oracle-subscribers.md) and [IBM DB2 Subscribers](non-sql/ibm-db2-subscribers.md).</span></span>  
  
7.  [!INCLUDE[clickOK](../../includes/clickok-md.md)] <span data-ttu-id="2e945-156">Na página **Assinantes** do assistente, o Assinante é agora exibido na coluna **Assinante** com um somente leitura **(destino padrão)** na coluna **Banco de Dados da Assinatura** :</span><span class="sxs-lookup"><span data-stu-id="2e945-156">On the **Subscribers** page of the wizard, the Subscriber is now displayed in the **Subscriber** column with a read-only **(default destination)** in the **Subscription Database** column:</span></span>  
  
    -   <span data-ttu-id="2e945-157">Para o Oracle, um servidor tem, no máximo, um banco de dados, assim não é necessário especificar o banco de dados.</span><span class="sxs-lookup"><span data-stu-id="2e945-157">For Oracle, a server has at most one database, so it is not necessary to specify the database.</span></span>  
  
    -   <span data-ttu-id="2e945-158">Para a IBM DB2, o banco de dados é especificado na propriedade **Catálogo Inicial** da cadeia de caracteres da conexão DB2, que pode ser digitada no campo **Opções de conexões adicionais** descrito mais adiante neste processo.</span><span class="sxs-lookup"><span data-stu-id="2e945-158">For IBM DB2, the database is specified in the **Initial Catalog** property of the DB2 connection string, which can be entered in the **Additional connection options** field described later in this process.</span></span>  
  
8.  <span data-ttu-id="2e945-159">Na página **segurança do agente de distribuição** , clique no botão de Propriedades (**...**) ao lado do assinante para acessar a caixa de diálogo **segurança do agente de distribuição** .</span><span class="sxs-lookup"><span data-stu-id="2e945-159">On the **Distribution Agent Security** page, click the properties button (**...**) next to the Subscriber to access the **Distribution Agent Security** dialog box.</span></span>  
  
9. <span data-ttu-id="2e945-160">Na caixa de diálogo **Segurança do Distribution Agent** :</span><span class="sxs-lookup"><span data-stu-id="2e945-160">In the **Distribution Agent Security** dialog box:</span></span>  
  
    -   <span data-ttu-id="2e945-161">Nos campos **Processar conta**, **Senha**e **Confirmar senha** , digite a conta e a senha do [!INCLUDE[msCoName](../../includes/msconame-md.md)] Windows sob as quais o Distribution Agent deve executar e realizar conexões locais ao Distribuidor.</span><span class="sxs-lookup"><span data-stu-id="2e945-161">In the **Process account**, **Password**, and **Confirm password** fields, enter the [!INCLUDE[msCoName](../../includes/msconame-md.md)] Windows account and password under which the Distribution Agent should run and make local connections to the Distributor.</span></span>  
  
         <span data-ttu-id="2e945-162">A conta requer, no mínimo, as seguintes permissões: membro da função de banco de dados fixa **db_owner** no banco de dados de distribuição, membro da lista de acesso à publicação (PAL); permissões de leitura no compartilhamento do instantâneo e permissão de leitura no diretório instalado do provedor OLE DB.</span><span class="sxs-lookup"><span data-stu-id="2e945-162">The account requires these minimum permissions: member of the **db_owner** fixed database role in the distribution database; member of the publication access list (PAL); read permissions on the snapshot share; and read permission on the install directory of the OLE DB provider.</span></span> <span data-ttu-id="2e945-163">Para obter mais informações sobre a PAL, consulte [Secure the Publisher](security/secure-the-publisher.md) (Proteger o publicador).</span><span class="sxs-lookup"><span data-stu-id="2e945-163">For more information about the PAL, see [Secure the Publisher](security/secure-the-publisher.md).</span></span>  
  
    -   <span data-ttu-id="2e945-164">No **Conectar ao Assinante**, nos campos **Logon**, **Senha**e **Confirmar senha** , digite o logon e a senha que devem ser usados para se conectar ao Assinante.</span><span class="sxs-lookup"><span data-stu-id="2e945-164">Under **Connect to the Subscriber**, in the **Login**, **Password**, and **Confirm password** fields, enter the login and password that should be used to connect to the Subscriber.</span></span> <span data-ttu-id="2e945-165">Esse logon já deverá estar configurado e ter permissões suficientes para criar objetos no banco de dados de assinatura.</span><span class="sxs-lookup"><span data-stu-id="2e945-165">This login should already be configured and should have sufficient permissions to create objects in the subscription database.</span></span>  
  
    -   <span data-ttu-id="2e945-166">No campo **Opções de conexões adicionais** , especifique as opções de conexão para o Assinante na forma de uma cadeia de caracteres para conexão (Oracle não necessita de opções adicionais).</span><span class="sxs-lookup"><span data-stu-id="2e945-166">In the **Additional connection options** field, specify any connection options for the Subscriber in the form of a connection string (Oracle does not require additional options).</span></span> <span data-ttu-id="2e945-167">Cada opção deverá estar separada por um ponto-e-vírgula.</span><span class="sxs-lookup"><span data-stu-id="2e945-167">Each option should be separated by a semi-colon.</span></span> <span data-ttu-id="2e945-168">A seguir um exemplo de uma cadeia de conexão DB2 (as quebras de linha são para facilitar a leitura):</span><span class="sxs-lookup"><span data-stu-id="2e945-168">The following is an example of a DB2 connection string (line breaks are for readability):</span></span>  
  
        ```  
        Provider=DB2OLEDB;Initial Catalog=MY_SUBSCRIBER_DB;Network Transport Library=TCP;Host CCSID=1252;  
        PC Code Page=1252;Network Address=MY_SUBSCRIBER;Network Port=50000;Package Collection=MY_PKGCOL;  
        Default Schema=MY_SCHEMA;Process Binary as Character=False;Units of Work=RUW;DBMS Platform=DB2/NT;  
        Persist Security Info=False;Connection Pooling=True;  
        ```  
  
         <span data-ttu-id="2e945-169">A maioria das opções na cadeia de caracteres é específica do servidor DB2 que você está configurando, mas a opção **Processar Binário como Caractere** sempre deve ser definida como **False**.</span><span class="sxs-lookup"><span data-stu-id="2e945-169">Most of the options in the string are specific to the DB2 server you are configuring, but the **Process Binary as Character** option should always be set to **False**.</span></span> <span data-ttu-id="2e945-170">Um valor é necessário para a opção **Catálogo Inicial** para identificar o banco de dados de assinatura.</span><span class="sxs-lookup"><span data-stu-id="2e945-170">A value is required for the **Initial Catalog** option to identify the subscription database.</span></span>  
  
10. <span data-ttu-id="2e945-171">Na página **Agenda de Sincronização** , selecione uma agenda para o Distribution Agent no menu **Agenda do Agente** (a agenda é tipicamente **Executar continuamente**).</span><span class="sxs-lookup"><span data-stu-id="2e945-171">On the **Synchronization Schedule** page, select a schedule for the Distribution Agent from the **Agent Schedule** menu (the schedule is typically **Run continuously**).</span></span>  
  
11. <span data-ttu-id="2e945-172">Na página **Inicializar Assinaturas** , especifique se a assinatura deve ser inicializada e caso positivo, onde deve ser inicializada.</span><span class="sxs-lookup"><span data-stu-id="2e945-172">On the **Initialize Subscriptions** page, specify whether the subscription should be initialized and, if so, when it should be initialized:</span></span>  
  
    -   <span data-ttu-id="2e945-173">Desmarque **Inicializar** só se você criou todos os objetos e adicionou todos os dados necessários no banco de dados de assinatura.</span><span class="sxs-lookup"><span data-stu-id="2e945-173">Clear **Initialize** only if you have created all objects and added all required data in the subscription database.</span></span>  
  
    -   <span data-ttu-id="2e945-174">Selecione **Imediatamente** na lista suspensa na coluna **Inicializar Quando** para que o Distribution Agent transfira os arquivos de instantâneos para o Assinante após a conclusão desse assistente.</span><span class="sxs-lookup"><span data-stu-id="2e945-174">Select **Immediately** from the drop-down list in the **Initialize When** column to have the Distribution Agent transfer snapshot files to the Subscriber after this wizard is completed.</span></span> <span data-ttu-id="2e945-175">Selecione **Na primeira sincronização** para que o agente transfira os arquivos da próxima vez em que for agendado para executar.</span><span class="sxs-lookup"><span data-stu-id="2e945-175">Select **At first synchronization** to have the agent transfer the files the next time it is scheduled to run.</span></span>  
  
12. <span data-ttu-id="2e945-176">Na página **Ações do Assistente** , opcionalmente faça o script da assinatura.</span><span class="sxs-lookup"><span data-stu-id="2e945-176">On the **Wizard Actions** page, optionally script the subscription.</span></span> <span data-ttu-id="2e945-177">Para obter mais informações, consulte [Scripting Replication](scripting-replication.md).</span><span class="sxs-lookup"><span data-stu-id="2e945-177">For more information, see [Scripting Replication](scripting-replication.md).</span></span>  
  
#### <a name="to-retain-tables-at-the-subscriber"></a><span data-ttu-id="2e945-178">Para reter tabelas no Assinante</span><span class="sxs-lookup"><span data-stu-id="2e945-178">To retain tables at the Subscriber</span></span>  
  
-   <span data-ttu-id="2e945-179">Por padrão, habilitando uma publicação para Assinantes não -[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] define o valor da propriedade do artigo **de pre_creation_cmd** para 'descartar'</span><span class="sxs-lookup"><span data-stu-id="2e945-179">By default, enabling a publication for non-[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Subscribers sets the value of the **pre_creation_cmd** article property to 'drop'.</span></span> <span data-ttu-id="2e945-180">Essa definição especifica que a replicação deve descartar uma tabela no Assinante se coincidir com o nome de tabela no artigo.</span><span class="sxs-lookup"><span data-stu-id="2e945-180">This setting specifies that replication should drop a table at the Subscriber if it matches the name of the table in the article.</span></span> <span data-ttu-id="2e945-181">Se tiver tabelas existentes no Assinante que deseja manter, use o procedimento armazenado [sp_changearticle](/sql/relational-databases/system-stored-procedures/sp-changearticle-transact-sql) para cada artigo, especifique um valor 'nenhum' para **pre_creation_cmd**.</span><span class="sxs-lookup"><span data-stu-id="2e945-181">If you have existing tables at the Subscriber that you want to keep, use the [sp_changearticle](/sql/relational-databases/system-stored-procedures/sp-changearticle-transact-sql) stored procedure for each article; specify a value 'none' for **pre_creation_cmd**.</span></span> <span data-ttu-id="2e945-182">`sp_changearticle @publication= 'MyPublication', @article= 'MyArticle', @property='pre_creation_cmd', @value='none'`.</span><span class="sxs-lookup"><span data-stu-id="2e945-182">`sp_changearticle @publication= 'MyPublication', @article= 'MyArticle', @property='pre_creation_cmd', @value='none'`.</span></span>  
  
#### <a name="to-generate-a-snapshot-for-the-publication"></a><span data-ttu-id="2e945-183">Para gerar um instantâneo para a publicação</span><span class="sxs-lookup"><span data-stu-id="2e945-183">To generate a snapshot for the publication</span></span>  
  
1.  <span data-ttu-id="2e945-184">Expanda a pasta **Replicação** e, em seguida, a pasta **Publicações Locais** .</span><span class="sxs-lookup"><span data-stu-id="2e945-184">Expand the **Replication** folder, and then expand the **Local Publications** folder.</span></span>  
  
2.  <span data-ttu-id="2e945-185">Clique com o botão direito do mouse em uma publicação e clique em **Exibir Status do Snapshot Agent**.</span><span class="sxs-lookup"><span data-stu-id="2e945-185">Right-click the publication, and then click **View Snapshot Agent Status**.</span></span>  
  
3.  <span data-ttu-id="2e945-186">Na caixa de diálogo **Exibir Status do Agente de Instantâneo – \<Publication>** , clique em **Iniciar**.</span><span class="sxs-lookup"><span data-stu-id="2e945-186">In the **View Snapshot Agent Status - \<Publication>** dialog box, click **Start**.</span></span>  
  
 <span data-ttu-id="2e945-187">Quando o Agente de Instantâneo terminar de gerar o instantâneo, uma mensagem será exibida, como "[100%] Um instantâneo de 17 artigos foi gerado".</span><span class="sxs-lookup"><span data-stu-id="2e945-187">When the Snapshot Agent finishes generating the snapshot, a message is displayed, such as "[100%] A snapshot of 17 article(s) was generated."</span></span>  
  
##  <a name="using-transact-sql"></a><a name="TsqlProcedure"></a> <span data-ttu-id="2e945-188">Usando o Transact-SQL</span><span class="sxs-lookup"><span data-stu-id="2e945-188">Using Transact-SQL</span></span>  
 <span data-ttu-id="2e945-189">Crie assinaturas push para Assinantes não[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] de forma programática, usando procedimentos armazenados de replicação.</span><span class="sxs-lookup"><span data-stu-id="2e945-189">You can create push subscriptions to non-[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Subscribers programmatically using replication stored procedures.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="2e945-190">Quando possível, solicite que os usuários insiram as credenciais de segurança em tempo de execução.</span><span class="sxs-lookup"><span data-stu-id="2e945-190">When possible, prompt users to enter security credentials at runtime.</span></span> <span data-ttu-id="2e945-191">Se for necessário armazenar credenciais em um arquivo de script, você deverá proteger o arquivo para impedir acesso não autorizado.</span><span class="sxs-lookup"><span data-stu-id="2e945-191">If you must store credentials in a script file, you must secure the file to prevent unauthorized access.</span></span>  
  
#### <a name="to-create-a-push-subscription-for-a-transactional-or-snapshot-publication-to-a-non-sql-server-subscriber"></a><span data-ttu-id="2e945-192">Para criar uma assinatura push para uma publicação transacional ou de instantâneo para um assinante não SQL Server</span><span class="sxs-lookup"><span data-stu-id="2e945-192">To create a push subscription for a transactional or snapshot publication to a non-SQL Server Subscriber</span></span>  
  
1.  <span data-ttu-id="2e945-193">Instale o mais recente provedor OLE DB para o Assinante não[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] no Publicador e no Distribuidor.</span><span class="sxs-lookup"><span data-stu-id="2e945-193">Install the most recent OLE DB provider for the non-[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Subscriber at both the Publisher and Distributor.</span></span> <span data-ttu-id="2e945-194">Para os requisitos de replicação de um fornecedor OLE DB, consulte [Non-SQL Server Subscribers](non-sql/non-sql-server-subscribers.md), [Oracle Subscribers](non-sql/oracle-subscribers.md), [IBM DB2 Subscribers](non-sql/ibm-db2-subscribers.md).</span><span class="sxs-lookup"><span data-stu-id="2e945-194">For the replication requirements for an OLE DB provider, see [Non-SQL Server Subscribers](non-sql/non-sql-server-subscribers.md), [Oracle Subscribers](non-sql/oracle-subscribers.md), [IBM DB2 Subscribers](non-sql/ibm-db2-subscribers.md).</span></span>  
  
2.  <span data-ttu-id="2e945-195">No Publicador do banco de dados de publicação, verifique se a publicação dá suporte a assinantes não [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], executando [sp_helppublication &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-helppublication-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="2e945-195">At the Publisher on the publication database, verify that the publication supports non-[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Subscribers by executing [sp_helppublication &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-helppublication-transact-sql).</span></span>  
  
    -   <span data-ttu-id="2e945-196">Se o valor de `enabled_for_het_sub` for 1, os Assinantes não [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] terão suporte.</span><span class="sxs-lookup"><span data-stu-id="2e945-196">If the value of `enabled_for_het_sub` is 1, non-[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Subscribers are supported.</span></span>  
  
    -   <span data-ttu-id="2e945-197">Se o valor de `enabled_for_het_sub` for 0, execute [sp_changepublication &#40;&#41;TRANSACT-SQL ](/sql/relational-databases/system-stored-procedures/sp-changepublication-transact-sql), especificando `enabled_for_het_sub` para **@property** e `true` para **@value** .</span><span class="sxs-lookup"><span data-stu-id="2e945-197">If the value of `enabled_for_het_sub` is 0, execute [sp_changepublication &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-changepublication-transact-sql), specifying `enabled_for_het_sub` for **@property** and `true` for **@value**.</span></span>  
  
        > [!NOTE]  
        >  <span data-ttu-id="2e945-198">Antes de alterar `enabled_for_het_sub` para `true`, é preciso ignorar todas as assinaturas existentes para a publicação.</span><span class="sxs-lookup"><span data-stu-id="2e945-198">Before changing `enabled_for_het_sub` to `true`, you must drop any existing subscriptions to the publication.</span></span> <span data-ttu-id="2e945-199">Não é possível definir  `enabled_for_het_sub` como `true` quando a publicação oferecer suporte também a assinaturas de atualização.</span><span class="sxs-lookup"><span data-stu-id="2e945-199">You cannot set `enabled_for_het_sub` to `true` when the publication also supports updating subscriptions.</span></span> <span data-ttu-id="2e945-200">Alterar `enabled_for_het_sub` afetará outras propriedades de publicação.</span><span class="sxs-lookup"><span data-stu-id="2e945-200">Changing `enabled_for_het_sub` will affect other publication properties.</span></span> <span data-ttu-id="2e945-201">Para obter mais informações, consulte [Non-SQL Server Subscribers](non-sql/non-sql-server-subscribers.md).</span><span class="sxs-lookup"><span data-stu-id="2e945-201">For more information, see [Non-SQL Server Subscribers](non-sql/non-sql-server-subscribers.md).</span></span>  
  
3.  <span data-ttu-id="2e945-202">No Publicador do banco de dados de publicação, execute [sp_addsubscription &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-addsubscription-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="2e945-202">At the Publisher on the publication database, execute [sp_addsubscription &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-addsubscription-transact-sql).</span></span> <span data-ttu-id="2e945-203">Especifique **@publication** , **@subscriber** , um valor de **(destino padrão)** para **@destination_db** , um valor de **Push** para **@subscription_type** e um valor de 3 para **@subscriber_type** (especifica um provedor de OLE DB).</span><span class="sxs-lookup"><span data-stu-id="2e945-203">Specify **@publication**, **@subscriber**, a value of **(default destination)** for **@destination_db**, a value of **push** for **@subscription_type**, and a value of 3 for **@subscriber_type** (specifies an OLE DB provider).</span></span>  
  
4.  <span data-ttu-id="2e945-204">No Publicador do banco de dados de publicação, execute [sp_addpushsubscription_agent &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-addpushsubscription-agent-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="2e945-204">At the Publisher on the publication database, execute [sp_addpushsubscription_agent &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-addpushsubscription-agent-transact-sql).</span></span> <span data-ttu-id="2e945-205">Especifique o seguinte:</span><span class="sxs-lookup"><span data-stu-id="2e945-205">Specify the following:</span></span>  
  
    -   <span data-ttu-id="2e945-206">Os **@subscriber** **@publication** parâmetros e.</span><span class="sxs-lookup"><span data-stu-id="2e945-206">The **@subscriber**and **@publication** parameters.</span></span>  
  
    -   <span data-ttu-id="2e945-207">Um valor de **(destino padrão)** para **@subscriber_db** ,</span><span class="sxs-lookup"><span data-stu-id="2e945-207">A value of **(default destination)** for **@subscriber_db**,</span></span>  
  
    -   <span data-ttu-id="2e945-208">As propriedades da fonte que não é de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] dados para **@subscriber_provider** , **@subscriber_datasrc** , **@subscriber_location** , **@subscriber_provider_string** e **@subscriber_catalog** .</span><span class="sxs-lookup"><span data-stu-id="2e945-208">The properties of the non-[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] data source for **@subscriber_provider**, **@subscriber_datasrc**, **@subscriber_location**, **@subscriber_provider_string**, and **@subscriber_catalog**.</span></span>  
  
    -   <span data-ttu-id="2e945-209">As [!INCLUDE[msCoName](../../includes/msconame-md.md)] credenciais do Windows sob as quais o agente de distribuição no distribuidor é executado para **@job_login** e **@job_password** .</span><span class="sxs-lookup"><span data-stu-id="2e945-209">The [!INCLUDE[msCoName](../../includes/msconame-md.md)] Windows credentials under which the Distribution Agent at the Distributor runs for **@job_login** and **@job_password**.</span></span>  
  
        > [!NOTE]  
        >  <span data-ttu-id="2e945-210">As conexões feitas usando a autenticação integrada do Windows sempre usam as credenciais do Windows especificadas por **@job_login** e **@job_password** .</span><span class="sxs-lookup"><span data-stu-id="2e945-210">Connections made using Windows Integrated Authentication always use the Windows credentials specified by **@job_login** and **@job_password**.</span></span> <span data-ttu-id="2e945-211">O Distribution Agent sempre faz a conexão local com o Distribuidor usando a Autenticação Integrada do Windows.</span><span class="sxs-lookup"><span data-stu-id="2e945-211">The Distribution Agent always makes the local connection to the Distributor using Windows Integrated Authentication.</span></span> <span data-ttu-id="2e945-212">Por padrão, o agente se conecta ao Assinante usando a Autenticação Integrada do Windows.</span><span class="sxs-lookup"><span data-stu-id="2e945-212">By default, the agent will connect to the Subscriber using Windows Integrated Authentication.</span></span>  
  
    -   <span data-ttu-id="2e945-213">Um valor de **0** para **@subscriber_security_mode** e as informações de logon do provedor de OLE DB para **@subscriber_login** e **@subscriber_password** .</span><span class="sxs-lookup"><span data-stu-id="2e945-213">A value of **0** for **@subscriber_security_mode** and the OLE DB provider login information for **@subscriber_login** and **@subscriber_password**.</span></span>  
  
    -   <span data-ttu-id="2e945-214">Agenda para o trabalho do Distribution Agent para essa assinatura.</span><span class="sxs-lookup"><span data-stu-id="2e945-214">A schedule for the Distribution Agent job for this subscription.</span></span> <span data-ttu-id="2e945-215">Para obter mais informações, consulte [Specify Synchronization Schedules](specify-synchronization-schedules.md).</span><span class="sxs-lookup"><span data-stu-id="2e945-215">For more information, see [Specify Synchronization Schedules](specify-synchronization-schedules.md).</span></span>  
  
    > [!IMPORTANT]  
    >  <span data-ttu-id="2e945-216">Ao criar uma assinatura push em um Publicador com um Distribuidor remoto, os valores especificados para todos os parâmetros, inclusive *job_login* e *job_password*são enviados para o Distribuidor como texto sem-formatação.</span><span class="sxs-lookup"><span data-stu-id="2e945-216">When creating a push subscription at a Publisher with a remote Distributor, the values supplied for all parameters, including *job_login* and *job_password*, are sent to the Distributor as plain text.</span></span> <span data-ttu-id="2e945-217">Você deve criptografar a conexão entre o Publicador e seu Distribuidor remoto antes de executar esse procedimento armazenado.</span><span class="sxs-lookup"><span data-stu-id="2e945-217">You should encrypt the connection between the Publisher and its remote Distributor before executing this stored procedure.</span></span> <span data-ttu-id="2e945-218">Para obter mais informações, veja [Habilitar conexões criptografadas no Mecanismo de Banco de Dados &#40;SQL Server Configuration Manager&#41;](../../database-engine/configure-windows/enable-encrypted-connections-to-the-database-engine.md).</span><span class="sxs-lookup"><span data-stu-id="2e945-218">For more information, see [Enable Encrypted Connections to the Database Engine &#40;SQL Server Configuration Manager&#41;](../../database-engine/configure-windows/enable-encrypted-connections-to-the-database-engine.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="2e945-219">Consulte Também</span><span class="sxs-lookup"><span data-stu-id="2e945-219">See Also</span></span>  
 <span data-ttu-id="2e945-220">[IBM DB2 Subscribers](non-sql/ibm-db2-subscribers.md) </span><span class="sxs-lookup"><span data-stu-id="2e945-220">[IBM DB2 Subscribers](non-sql/ibm-db2-subscribers.md) </span></span>  
 <span data-ttu-id="2e945-221">[Oracle Subscribers](non-sql/oracle-subscribers.md) </span><span class="sxs-lookup"><span data-stu-id="2e945-221">[Oracle Subscribers](non-sql/oracle-subscribers.md) </span></span>  
 <span data-ttu-id="2e945-222">[Outros assinantes não SQL Server](non-sql/other-non-sql-server-subscribers.md) </span><span class="sxs-lookup"><span data-stu-id="2e945-222">[Other Non-SQL Server Subscribers](non-sql/other-non-sql-server-subscribers.md) </span></span>  
 <span data-ttu-id="2e945-223">[Replication System Stored Procedures Concepts](concepts/replication-system-stored-procedures-concepts.md) </span><span class="sxs-lookup"><span data-stu-id="2e945-223">[Replication System Stored Procedures Concepts](concepts/replication-system-stored-procedures-concepts.md) </span></span>  
 [<span data-ttu-id="2e945-224">Replication Security Best Practices</span><span class="sxs-lookup"><span data-stu-id="2e945-224">Replication Security Best Practices</span></span>](security/replication-security-best-practices.md)  
  
  
