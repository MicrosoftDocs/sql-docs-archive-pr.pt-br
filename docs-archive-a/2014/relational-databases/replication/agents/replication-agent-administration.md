---
title: Administração do agente de replicação | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: replication
ms.topic: conceptual
helpviewer_keywords:
- Snapshot Agent, administering
- Log Reader Agent, administering
- Queue Reader Agent, administering
- shared agents [SQL Server replication]
- Merge Agent, administering
- Distribution Agent, administering
- agents [SQL Server replication], administering
- replication cleanup jobs [SQL Server]
- administering replication, agents
- replication [SQL Server], administering
- independent agents [SQL Server replication]
ms.assetid: f27186b8-b1b2-4da0-8b2b-91f632c2ab7e
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: 99cf9be6b31310e5ae0ebac3c096851ac4f63452
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87571963"
---
# <a name="replication-agent-administration"></a><span data-ttu-id="10970-102">Administração do agente de replicação</span><span class="sxs-lookup"><span data-stu-id="10970-102">Replication Agent Administration</span></span>
  <span data-ttu-id="10970-103">Agentes de replicação executam muitas tarefas associadas com replicação, incluindo a criação de cópias de esquema e dados, a detecção de atualizações no Publicador ou Assinante e a distribuição de modificações entre os servidores.</span><span class="sxs-lookup"><span data-stu-id="10970-103">Replication agents carry out many of the tasks associated with replication, including creating copies of schema and data, detecting updates at the Publisher or Subscriber, and propagating changes between servers.</span></span> <span data-ttu-id="10970-104">Por padrão, agentes de replicação são executados sob as etapas de trabalho do [!INCLUDE[msCoName](../../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Agent.</span><span class="sxs-lookup"><span data-stu-id="10970-104">By default, replication agents run under [!INCLUDE[msCoName](../../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Agent job steps.</span></span> <span data-ttu-id="10970-105">Os agentes são simplesmente executáveis, assim eles podem também ser chamados diretamente da linha de comando e dos scripts em lote.</span><span class="sxs-lookup"><span data-stu-id="10970-105">The agents are simply executables, so they can also be called directly from the command line and from batch scripts.</span></span> <span data-ttu-id="10970-106">Cada agente de replicação suporta um jogo de parâmetros de tempo de execução usados para controlar o seu trabalho; esses parâmetros são especificados no perfil do agente ou na linha de comando.</span><span class="sxs-lookup"><span data-stu-id="10970-106">Each replication agent supports a set of run-time parameters used to control how it runs; these parameters are specified in an agent profile or on the command line.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="10970-107">Por padrão, o serviço do agente [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] é desabilitado quando o [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] é instalado, a menos que você escolha explicitamente iniciar automaticamente o serviço durante a instalação.</span><span class="sxs-lookup"><span data-stu-id="10970-107">By default, the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Agent service is disabled when [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] is installed unless you explicitly choose to autostart the service during installation.</span></span>  
  
 <span data-ttu-id="10970-108">Arquivos de agente de Replicação ficam situados em [!INCLUDE[ssInstallPathVar](../../../includes/ssinstallpathvar-md.md)]\COM.</span><span class="sxs-lookup"><span data-stu-id="10970-108">Replication agent files are located under [!INCLUDE[ssInstallPathVar](../../../includes/ssinstallpathvar-md.md)]\COM.</span></span> <span data-ttu-id="10970-109">A tabela seguinte lista a replicação de nomes executáveis e nomes de arquivo.</span><span class="sxs-lookup"><span data-stu-id="10970-109">The following table lists the replication executable names and file names.</span></span> <span data-ttu-id="10970-110">Clique no link para um agente exibir sua referência de parâmetro.</span><span class="sxs-lookup"><span data-stu-id="10970-110">Click the link for an agent to view its parameter reference.</span></span>  
  
|<span data-ttu-id="10970-111">Agente executável</span><span class="sxs-lookup"><span data-stu-id="10970-111">Agent Executable</span></span>|<span data-ttu-id="10970-112">Nome do Arquivo</span><span class="sxs-lookup"><span data-stu-id="10970-112">File Name</span></span>|  
|----------------------|---------------|  
|[<span data-ttu-id="10970-113">Replication Snapshot Agent</span><span class="sxs-lookup"><span data-stu-id="10970-113">Replication Snapshot Agent</span></span>](replication-snapshot-agent.md)|<span data-ttu-id="10970-114">snapshot.exe</span><span class="sxs-lookup"><span data-stu-id="10970-114">snapshot.exe</span></span>|  
|[<span data-ttu-id="10970-115">Replication Distribution Agent</span><span class="sxs-lookup"><span data-stu-id="10970-115">Replication Distribution Agent</span></span>](replication-distribution-agent.md)|<span data-ttu-id="10970-116">distrib.exe</span><span class="sxs-lookup"><span data-stu-id="10970-116">distrib.exe</span></span>|  
|[<span data-ttu-id="10970-117">Agente do Leitor de Log de Replicação</span><span class="sxs-lookup"><span data-stu-id="10970-117">Replication Log Reader Agent</span></span>](replication-log-reader-agent.md)|<span data-ttu-id="10970-118">logread.exe</span><span class="sxs-lookup"><span data-stu-id="10970-118">logread.exe</span></span>|  
|[<span data-ttu-id="10970-119">Agente de Leitor de Fila de Replicação</span><span class="sxs-lookup"><span data-stu-id="10970-119">Replication Queue Reader Agent</span></span>](replication-queue-reader-agent.md)|<span data-ttu-id="10970-120">qrdrsvc.exe</span><span class="sxs-lookup"><span data-stu-id="10970-120">qrdrsvc.exe</span></span>|  
|[<span data-ttu-id="10970-121">Replication Merge Agent</span><span class="sxs-lookup"><span data-stu-id="10970-121">Replication Merge Agent</span></span>](replication-merge-agent.md)|<span data-ttu-id="10970-122">replmerg.exe</span><span class="sxs-lookup"><span data-stu-id="10970-122">replmerg.exe</span></span>|  
  
 <span data-ttu-id="10970-123">Além dos agentes de replicação, a replicação tem vários trabalhos que executam manutenção programada e sob demanda.</span><span class="sxs-lookup"><span data-stu-id="10970-123">In addition to replication agents, replication has a number of jobs that perform scheduled and on-demand maintenance.</span></span>  
  
 <span data-ttu-id="10970-124">**Para executar os agentes e trabalhos de manutenção**</span><span class="sxs-lookup"><span data-stu-id="10970-124">**To run agents and maintenance jobs**</span></span>  
  
-   [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)]<span data-ttu-id="10970-125">e o Replication Monitor: [Iniciar e parar um agente de replicação &#40;SQL Server Management Studio&#41;](start-and-stop-a-replication-agent-sql-server-management-studio.md).</span><span class="sxs-lookup"><span data-stu-id="10970-125">and Replication Monitor: [Start and Stop a Replication Agent &#40;SQL Server Management Studio&#41;](start-and-stop-a-replication-agent-sql-server-management-studio.md).</span></span>  
  
-   <span data-ttu-id="10970-126">Programação de replicação: [Conceitos dos executáveis do Replication Agent](../concepts/replication-agent-executables-concepts.md)</span><span class="sxs-lookup"><span data-stu-id="10970-126">Replication programming: [Replication Agent Executables Concepts](../concepts/replication-agent-executables-concepts.md)</span></span>  
  
## <a name="agent-profiles"></a><span data-ttu-id="10970-127">Perfis de Agente</span><span class="sxs-lookup"><span data-stu-id="10970-127">Agent Profiles</span></span>  
 <span data-ttu-id="10970-128">Um conjunto de perfis de agente é instalado no distribuidor quando a replicação é configurada.</span><span class="sxs-lookup"><span data-stu-id="10970-128">When replication is configured, a set of agent profiles is installed on the Distributor.</span></span> <span data-ttu-id="10970-129">Um perfil de agente contém um conjunto de parâmetros que são usados sempre que um agente é executado: cada agente faz logon no distribuidor durante seu processo de inicialização e consulta os parâmetros em seu perfil.</span><span class="sxs-lookup"><span data-stu-id="10970-129">An agent profile contains a set of parameters that are used each time an agent runs: each agent logs in to the Distributor during its startup process and queries for the parameters in its profile.</span></span> <span data-ttu-id="10970-130">A replicação fornece um perfil padrão para cada agente e perfis adicionais predefinidos para o Log Reader Agent, o Distribution Agent e o Merge Agent.</span><span class="sxs-lookup"><span data-stu-id="10970-130">Replication provides a default profile for each agent and additional predefined profiles for the Log Reader Agent, Distribution Agent, and Merge Agent.</span></span> <span data-ttu-id="10970-131">Além dos perfis fornecidos, você pode criar perfis adaptados às exigências de seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="10970-131">In addition to the profiles provided, you can create profiles suited to your application requirements.</span></span> <span data-ttu-id="10970-132">Para saber mais, confira [Replication Agent Profiles](replication-agent-profiles.md).</span><span class="sxs-lookup"><span data-stu-id="10970-132">For more information, see [Replication Agent Profiles](replication-agent-profiles.md).</span></span>  
  
 <span data-ttu-id="10970-133">Para obter informações sobre como especificar parâmetros de linha de comando diretamente, consulte [Conceitos dos executáveis do agente de replicação](../concepts/replication-agent-executables-concepts.md).</span><span class="sxs-lookup"><span data-stu-id="10970-133">For information about specifying command line parameters directly, see [Replication Agent Executables Concepts](../concepts/replication-agent-executables-concepts.md).</span></span>  
  
## <a name="monitoring-replication-agents"></a><span data-ttu-id="10970-134">Monitorando agentes de replicação</span><span class="sxs-lookup"><span data-stu-id="10970-134">Monitoring Replication Agents</span></span>  
 <span data-ttu-id="10970-135">O Replication Monitor lhe permite exibir informações e executar tarefas associadas com cada agente de replicação.</span><span class="sxs-lookup"><span data-stu-id="10970-135">Replication Monitor allows you to view information and perform tasks associated with each replication agent.</span></span> <span data-ttu-id="10970-136">A lista a seguir inclui cada agente, as guias no Replication Monitor onde pode ser localizado e um link para um tópico que explica como acessar essas guias:</span><span class="sxs-lookup"><span data-stu-id="10970-136">The following list includes each agent, the tabs in the Replication Monitor on which it can be found, and a link to a topic that explains how to access these tabs:</span></span>  
  
-   <span data-ttu-id="10970-137">Os agentes a seguir estão associados às publicações no Replication Monitor:</span><span class="sxs-lookup"><span data-stu-id="10970-137">The following agents are associated with publications in Replication Monitor:</span></span>  
  
    -   <span data-ttu-id="10970-138">Snapshot Agent</span><span class="sxs-lookup"><span data-stu-id="10970-138">Snapshot Agent</span></span>  
  
    -   <span data-ttu-id="10970-139">Agente de Leitor de Log</span><span class="sxs-lookup"><span data-stu-id="10970-139">Log Reader Agent</span></span>  
  
    -   <span data-ttu-id="10970-140">Queue Reader Agent</span><span class="sxs-lookup"><span data-stu-id="10970-140">Queue Reader Agent</span></span>  
  
     <span data-ttu-id="10970-141">Acesse informações e tarefas associadas a esses agentes por meio da guia **agentes** . Para obter mais informações, consulte [Exibir informações e executar tarefas usando o Replication Monitor](../monitor/view-information-and-perform-tasks-replication-monitor.md).</span><span class="sxs-lookup"><span data-stu-id="10970-141">Access information and tasks associated with these agents through the **Agents** tab. For more information, see [View Information and Perform Tasks using Replication Monitor](../monitor/view-information-and-perform-tasks-replication-monitor.md).</span></span>  
  
-   <span data-ttu-id="10970-142">Os agentes a seguir estão associados às assinaturas no Replication Monitor:</span><span class="sxs-lookup"><span data-stu-id="10970-142">The following agents are associated with subscriptions in Replication Monitor:</span></span>  
  
    -   <span data-ttu-id="10970-143">Agente de Distribuição</span><span class="sxs-lookup"><span data-stu-id="10970-143">Distribution Agent</span></span>  
  
    -   <span data-ttu-id="10970-144">Merge Agent</span><span class="sxs-lookup"><span data-stu-id="10970-144">Merge Agent</span></span>  
  
     <span data-ttu-id="10970-145">Acesse as informações e as tarefas associadas a esses agentes por meio das guias a seguir: **Lista de Observação da Assinatura** (disponível para cada Editor) ou **Todas as Assinaturas** (disponível para cada publicação).</span><span class="sxs-lookup"><span data-stu-id="10970-145">Access information and tasks associated with these agents through the following tabs: **Subscription Watch List** (available for each Publisher) or the **All Subscriptions** tab (available for each publication).</span></span> <span data-ttu-id="10970-146">Para obter mais informações, confira [Exibir informações e executar tarefas usando o Replication Monitor](../monitor/view-information-and-perform-tasks-replication-monitor.md).</span><span class="sxs-lookup"><span data-stu-id="10970-146">For more information, see [View Information and Perform Tasks using Replication Monitor](../monitor/view-information-and-perform-tasks-replication-monitor.md).</span></span>  
  
## <a name="independent-and-shared-agents"></a><span data-ttu-id="10970-147">Agente independente e compartilhado</span><span class="sxs-lookup"><span data-stu-id="10970-147">Independent and Shared Agents</span></span>  
 <span data-ttu-id="10970-148">Um agente independente é um agente que presta serviço a uma assinatura.</span><span class="sxs-lookup"><span data-stu-id="10970-148">An independent agent is an agent that services one subscription.</span></span> <span data-ttu-id="10970-149">Um agente compartilhado presta serviço a múltiplas assinaturas usando a mesma necessidade de sincronização do agente compartilhado, por padrão elas esperam em uma fila, e o agente compartilhado presta serviço a elas uma de cada vez.</span><span class="sxs-lookup"><span data-stu-id="10970-149">A shared agent services multiple subscriptions; if multiple subscriptions using the same shared agent need to synchronize, by default they wait in a queue, and the shared agent services them one at a time.</span></span> <span data-ttu-id="10970-150">A latência é reduzida ao usar os agentes independentes porque o agente está pronto sempre que a assinatura precisa ser sincronizada.</span><span class="sxs-lookup"><span data-stu-id="10970-150">Latency is reduced when using independent agents because the agent is ready whenever the subscription needs to be synchronized.</span></span> <span data-ttu-id="10970-151">A replicação de mesclagem sempre usa agentes independentes, e a replicação transacional usa agentes independentes por padrão para publicações criadas no Assistente para Novas Publicações (nas versões anteriores do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)], por padrão a replicação transacional usava agentes compartilhados).</span><span class="sxs-lookup"><span data-stu-id="10970-151">Merge replication always uses independent agents, and transactional replication uses independent agents by default for publications created in the New Publication Wizard (in previous versions of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)], transactional replication used shared agents by default).</span></span>  
  
## <a name="replication-maintenance-jobs"></a><span data-ttu-id="10970-152">Trabalhos de Manutenção de Replicação</span><span class="sxs-lookup"><span data-stu-id="10970-152">Replication Maintenance Jobs</span></span>  
 <span data-ttu-id="10970-153">A replicação usa os seguintes trabalhos para executar manutenção programada e sob demanda.</span><span class="sxs-lookup"><span data-stu-id="10970-153">Replication uses the following jobs to perform scheduled and on-demand maintenance.</span></span>  
  
|<span data-ttu-id="10970-154">Limpar o trabalho</span><span class="sxs-lookup"><span data-stu-id="10970-154">Clean up job</span></span>|<span data-ttu-id="10970-155">Descrição</span><span class="sxs-lookup"><span data-stu-id="10970-155">Description</span></span>|<span data-ttu-id="10970-156">Cronograma padrão</span><span class="sxs-lookup"><span data-stu-id="10970-156">Default schedule</span></span>|  
|------------------|-----------------|----------------------|  
|<span data-ttu-id="10970-157">Limpeza do Histórico do Agente: Distribuição</span><span class="sxs-lookup"><span data-stu-id="10970-157">Agent History Clean Up: Distribution</span></span>|<span data-ttu-id="10970-158">Remove o histórico do agente de replicação do banco de dados de distribuição.</span><span class="sxs-lookup"><span data-stu-id="10970-158">Removes replication agent history from the distribution database.</span></span>|<span data-ttu-id="10970-159">Executa a cada dez minutos</span><span class="sxs-lookup"><span data-stu-id="10970-159">Runs every ten minutes</span></span>|  
|<span data-ttu-id="10970-160">Limpeza da Distribuição: Distribuição</span><span class="sxs-lookup"><span data-stu-id="10970-160">Distribution Clean Up: Distribution</span></span>|<span data-ttu-id="10970-161">Remove transações replicadas do banco de dados de distribuição.</span><span class="sxs-lookup"><span data-stu-id="10970-161">Removes replicated transactions from the distribution database.</span></span> <span data-ttu-id="10970-162">Desativa assinaturas que não foram sincronizadas dentro do período máximo de retenção da distribuição.</span><span class="sxs-lookup"><span data-stu-id="10970-162">Deactivates subscriptions that have not been synchronized within the maximum distribution retention period.</span></span>|<span data-ttu-id="10970-163">Executa a cada dez minutos</span><span class="sxs-lookup"><span data-stu-id="10970-163">Runs every ten minutes</span></span>|  
|<span data-ttu-id="10970-164">Limpeza de assinaturas expiradas</span><span class="sxs-lookup"><span data-stu-id="10970-164">Expired Subscription Clean Up</span></span>|<span data-ttu-id="10970-165">Detecta e remove assinaturas expiradas dos bancos de dados de publicação.</span><span class="sxs-lookup"><span data-stu-id="10970-165">Detects and removes expired subscriptions from publication databases.</span></span>|<span data-ttu-id="10970-166">Executa diariamente à 1h00.</span><span class="sxs-lookup"><span data-stu-id="10970-166">Runs every day at 1:00 A.M.</span></span>|  
|<span data-ttu-id="10970-167">Reinicializar as assinaturas que possuem falhas de validação de dados</span><span class="sxs-lookup"><span data-stu-id="10970-167">Reinitialize Subscriptions Having Data Validation Failures</span></span>|<span data-ttu-id="10970-168">Detectar todas as assinaturas que têm falhas de validação de dados marcando-as para reinicialização.</span><span class="sxs-lookup"><span data-stu-id="10970-168">Detects all subscriptions that have data validation failures and marks them for reinitialization.</span></span> <span data-ttu-id="10970-169">A próxima vez que o Merge Agent ou que o Distribution Agent executarem, um instantâneo novo será aplicado aos Assinantes.</span><span class="sxs-lookup"><span data-stu-id="10970-169">The next time the Merge Agent or Distribution Agent runs, a new snapshot will be applied at the Subscribers.</span></span>|<span data-ttu-id="10970-170">Nenhum cronograma padrão (desativado por padrão).</span><span class="sxs-lookup"><span data-stu-id="10970-170">No default schedule (not enabled by default).</span></span>|  
|<span data-ttu-id="10970-171">Verificação dos agentes de replicação</span><span class="sxs-lookup"><span data-stu-id="10970-171">Replication Agents Checkup</span></span>|<span data-ttu-id="10970-172">Detecta agentes de replicação que não estão ativamente fazendo log no histórico.</span><span class="sxs-lookup"><span data-stu-id="10970-172">Detects replication agents that are not actively logging history.</span></span> <span data-ttu-id="10970-173">Comunica ao log do evento do [!INCLUDE[msCoName](../../../includes/msconame-md.md)] Windows se uma etapa do trabalho falhar.</span><span class="sxs-lookup"><span data-stu-id="10970-173">It writes to the [!INCLUDE[msCoName](../../../includes/msconame-md.md)] Windows event log if a job step fails.</span></span>|<span data-ttu-id="10970-174">Executa a cada dez minutos.</span><span class="sxs-lookup"><span data-stu-id="10970-174">Runs every ten minutes.</span></span>|  
|<span data-ttu-id="10970-175">Atualizador de monitoração de replicação para distribuição</span><span class="sxs-lookup"><span data-stu-id="10970-175">Replication monitoring refresher for distribution</span></span>|<span data-ttu-id="10970-176">Atualiza as consultas armazenadas usadas pelo Replication Monitor.</span><span class="sxs-lookup"><span data-stu-id="10970-176">Refreshes cached queries used by Replication Monitor..</span></span>|<span data-ttu-id="10970-177">Executa continuamente.</span><span class="sxs-lookup"><span data-stu-id="10970-177">Runs continuously.</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="10970-178">Consulte Também</span><span class="sxs-lookup"><span data-stu-id="10970-178">See Also</span></span>  
 [<span data-ttu-id="10970-179">Monitorando a Replicação</span><span class="sxs-lookup"><span data-stu-id="10970-179">Monitoring Replication</span></span>](../monitoring-replication.md)  
  
  
