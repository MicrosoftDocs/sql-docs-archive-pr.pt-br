---
title: Definir e modificar um filtro de linha estático | Microsoft Docs
ms.custom: ''
ms.date: 06/30/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: replication
ms.topic: conceptual
helpviewer_keywords:
- modifying filters, static row
- static row filters
- filters [SQL Server replication], static row
ms.assetid: a6ebb026-026f-4c39-b6a9-b9998c3babab
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: d13fd93b6afdcce6b55e9b181f52087fd620913c
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87570621"
---
# <a name="define-and-modify-a-static-row-filter"></a><span data-ttu-id="6ca03-102">Definir e modificar um filtro de linha estático</span><span class="sxs-lookup"><span data-stu-id="6ca03-102">Define and Modify a Static Row Filter</span></span>
  <span data-ttu-id="6ca03-103">Este tópico descreve como definir e modificar um filtro de linhas estático no [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] usando o [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)] ou [!INCLUDE[tsql](../../../includes/tsql-md.md)].</span><span class="sxs-lookup"><span data-stu-id="6ca03-103">This topic describes how to define and modify a static row filter in [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] by using [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)] or [!INCLUDE[tsql](../../../includes/tsql-md.md)].</span></span>  
  
 <span data-ttu-id="6ca03-104">**Neste tópico**</span><span class="sxs-lookup"><span data-stu-id="6ca03-104">**In This Topic**</span></span>  
  
-   <span data-ttu-id="6ca03-105">**Antes de começar:**</span><span class="sxs-lookup"><span data-stu-id="6ca03-105">**Before you begin:**</span></span>  
  
     [<span data-ttu-id="6ca03-106">Limitações e restrições</span><span class="sxs-lookup"><span data-stu-id="6ca03-106">Limitations and Restrictions</span></span>](#Restrictions)  
  
     [<span data-ttu-id="6ca03-107">Recomendações</span><span class="sxs-lookup"><span data-stu-id="6ca03-107">Recommendations</span></span>](#Recommendations)  
  
-   <span data-ttu-id="6ca03-108">**Para definir e modificar um filtro de linhas estático usando:**</span><span class="sxs-lookup"><span data-stu-id="6ca03-108">**To define and modify a static row filter, using:**</span></span>  
  
     [<span data-ttu-id="6ca03-109">SQL Server Management Studio</span><span class="sxs-lookup"><span data-stu-id="6ca03-109">SQL Server Management Studio</span></span>](#SSMSProcedure)  
  
     [<span data-ttu-id="6ca03-110">Transact-SQL</span><span class="sxs-lookup"><span data-stu-id="6ca03-110">Transact-SQL</span></span>](#TsqlProcedure)  
  
##  <a name="before-you-begin"></a><a name="BeforeYouBegin"></a> <span data-ttu-id="6ca03-111">Antes de começar</span><span class="sxs-lookup"><span data-stu-id="6ca03-111">Before You Begin</span></span>  
  
###  <a name="limitations-and-restrictions"></a><a name="Restrictions"></a> <span data-ttu-id="6ca03-112">Limitações e restrições</span><span class="sxs-lookup"><span data-stu-id="6ca03-112">Limitations and Restrictions</span></span>  
  
-   <span data-ttu-id="6ca03-113">Se você adicionar, modificar ou excluir um filtro de linhas estático após a inicialização de assinaturas na publicação, será preciso gerar um novo instantâneo e reinicializar todas as assinaturas depois de fazer a alteração.</span><span class="sxs-lookup"><span data-stu-id="6ca03-113">If you add, modify, or delete a static row filter after subscriptions to the publication have been initialized, you must generate a new snapshot and reinitialize all subscriptions after making the change.</span></span> <span data-ttu-id="6ca03-114">Para obter mais informações sobre os requisitos para alterações de propriedades, consulte [Alterar propriedades da publicação e do artigo](change-publication-and-article-properties.md).</span><span class="sxs-lookup"><span data-stu-id="6ca03-114">For more information about requirements for property changes, see [Change Publication and Article Properties](change-publication-and-article-properties.md).</span></span>  
  
-   <span data-ttu-id="6ca03-115">Se a publicação estiver habilitada para replicação transacional ponto a ponto, as tabelas não poderão ser filtradas.</span><span class="sxs-lookup"><span data-stu-id="6ca03-115">If the publication is enabled for peer-to-peer transactional replication, tables cannot be filtered.</span></span>  
  
###  <a name="recommendations"></a><a name="Recommendations"></a> <span data-ttu-id="6ca03-116">Recomendações</span><span class="sxs-lookup"><span data-stu-id="6ca03-116">Recommendations</span></span>  
  
-   <span data-ttu-id="6ca03-117">Como estes filtros são estáticos, todos os assinantes receberão o mesmo subconjunto de dados.</span><span class="sxs-lookup"><span data-stu-id="6ca03-117">Because these filters are static, all subscribers will receive the same subset of the data.</span></span> <span data-ttu-id="6ca03-118">Se você precisa filtrar dinamicamente linhas em um artigo de tabela pertencente a uma publicação de mesclagem para que cada assinante receba uma partição diferente dos dados, consulte [Definir e modificar um filtro de linha com parâmetros para um artigo de mesclagem](define-and-modify-a-parameterized-row-filter-for-a-merge-article.md).</span><span class="sxs-lookup"><span data-stu-id="6ca03-118">If you need to dynamically filter rows in a table article belonging to a merge publication so that each subscriber receives a different partition of the data, see [Define and Modify a Parameterized Row Filter for a Merge Article](define-and-modify-a-parameterized-row-filter-for-a-merge-article.md).</span></span> <span data-ttu-id="6ca03-119">A replicação de mesclagem também permite que você filtre linhas relacionadas com base em um filtro de linha existente.</span><span class="sxs-lookup"><span data-stu-id="6ca03-119">Merge replication also enables you to filter related rows based on an existing row filter.</span></span> <span data-ttu-id="6ca03-120">Para obter mais informações, consulte [Definir e modificar um filtro de junção entre artigos de mesclagem](define-and-modify-a-join-filter-between-merge-articles.md).</span><span class="sxs-lookup"><span data-stu-id="6ca03-120">For more information, see [Define and Modify a Join Filter Between Merge Articles](define-and-modify-a-join-filter-between-merge-articles.md).</span></span>  
  
##  <a name="using-sql-server-management-studio"></a><a name="SSMSProcedure"></a> <span data-ttu-id="6ca03-121">Usando o SQL Server Management Studio</span><span class="sxs-lookup"><span data-stu-id="6ca03-121">Using SQL Server Management Studio</span></span>  
 <span data-ttu-id="6ca03-122">Defina, modifique e exclua filtros de linhas estático na página **Filtrar Linhas da Tabela** no Assistente para Nova Publicação ou na página **Filtrar Linhas** da caixa de diálogo **Propriedades da Publicação – \<Publication>** .</span><span class="sxs-lookup"><span data-stu-id="6ca03-122">Define, modify, and delete static row filters on the **Filter Table Rows** page of the New Publication Wizard or the **Filter Rows** page of the **Publication Properties - \<Publication>** dialog box.</span></span> <span data-ttu-id="6ca03-123">Para obter mais informações sobre como usar o assistente e acessar a caixa de diálogo, consulte [Criar uma publicação](create-a-publication.md) e [Exibir e modificar as propriedades da publicação](view-and-modify-publication-properties.md).</span><span class="sxs-lookup"><span data-stu-id="6ca03-123">For more information about using the wizard and accessing the dialog box, see [Create a Publication](create-a-publication.md) and [View and Modify Publication Properties](view-and-modify-publication-properties.md).</span></span>  
  
#### <a name="to-define-a-static-row-filter"></a><span data-ttu-id="6ca03-124">Para definir um filtro de linhas estático</span><span class="sxs-lookup"><span data-stu-id="6ca03-124">To define a static row filter</span></span>  
  
1.  <span data-ttu-id="6ca03-125">Na página **Filtrar Linhas da Tabela** do Assistente para Nova Publicação ou na página **Filtrar Linhas** da caixa de diálogo **Propriedades da Publicação – \<Publication>** , a ação a ser executada depende do tipo de publicação:</span><span class="sxs-lookup"><span data-stu-id="6ca03-125">On the **Filter Table Rows** page of the New Publication Wizard or the **Filter Rows** page of the **Publication Properties - \<Publication>** dialog box, the action you take depends on the type of publication:</span></span>  
  
    -   <span data-ttu-id="6ca03-126">Para um instantâneo ou publicação transacional, clique em **Adicionar**.</span><span class="sxs-lookup"><span data-stu-id="6ca03-126">For a snapshot or transactional publication, click **Add**.</span></span>  
  
    -   <span data-ttu-id="6ca03-127">Para uma publicação de mesclagem, clique em **Adicionar**e então clique em **Adicionar filtro**.</span><span class="sxs-lookup"><span data-stu-id="6ca03-127">For a merge publication, click **Add**, and then click **Add Filter**.</span></span>  
  
2.  <span data-ttu-id="6ca03-128">Na caixa de diálogo **Adicionar Filtro** , selecione uma tabela para filtrar na caixa de listagem suspensa.</span><span class="sxs-lookup"><span data-stu-id="6ca03-128">In the **Add Filter** dialog box, select a table to filter from the drop-down list box.</span></span>  
  
3.  <span data-ttu-id="6ca03-129">Crie uma instrução de filtro na área de texto **Instrução de filtro** .</span><span class="sxs-lookup"><span data-stu-id="6ca03-129">Create a filter statement in the **Filter statement** text area.</span></span> <span data-ttu-id="6ca03-130">Você pode digitar diretamente na área de texto e também pode arrastar e soltar colunas da caixa de listagem **Colunas** .</span><span class="sxs-lookup"><span data-stu-id="6ca03-130">You can type directly in the text area, and you can also drag and drop columns from the **Columns** list box.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="6ca03-131">A cláusula WHERE deve usar nomeação de duas partes; nomeação de três partes e nomeação de quatro partes não são suportadas.</span><span class="sxs-lookup"><span data-stu-id="6ca03-131">The WHERE clause should use two-part naming; three-part naming and four-part naming are not supported.</span></span> <span data-ttu-id="6ca03-132">Se a publicação for de um Editor Oracle, a cláusula WHERE deve estar compatível com a sintaxe do Oracle.</span><span class="sxs-lookup"><span data-stu-id="6ca03-132">If the publication is from an Oracle Publisher, the WHERE clause must be compliant with Oracle syntax.</span></span>  
  
    -   <span data-ttu-id="6ca03-133">A área de texto **Instrução de filtro** inclui o texto padrão que está no formato de:</span><span class="sxs-lookup"><span data-stu-id="6ca03-133">The **Filter statement** text area includes the default text, which is in the form of:</span></span>  
  
        ```sql  
        SELECT <published_columns> FROM [schema].[tablename] WHERE  
        ```  
  
    -   <span data-ttu-id="6ca03-134">O texto padrão não pode ser alterado; digite a cláusula de filtro depois da palavra-chave WHERE usando sintaxe padrão do SQL.</span><span class="sxs-lookup"><span data-stu-id="6ca03-134">The default text cannot be changed; type the filter clause after the WHERE keyword using standard SQL syntax.</span></span> <span data-ttu-id="6ca03-135">A cláusula de filtro completa aparecerá como:</span><span class="sxs-lookup"><span data-stu-id="6ca03-135">The complete filter clause would appear like:</span></span>  
  
        ```sql  
        SELECT <published_columns> FROM [HumanResources].[Employee] WHERE [LoginID] = 'adventure-works\ranjit0'  
        ```  
  
    -   <span data-ttu-id="6ca03-136">Um filtro de linhas estático pode incluir uma função definida pelo usuário.</span><span class="sxs-lookup"><span data-stu-id="6ca03-136">A static row filter can include a user-defined function.</span></span> <span data-ttu-id="6ca03-137">A cláusula de filtro completa para um filtro de linhas estático com uma função definida pelo usuário será exibida como:</span><span class="sxs-lookup"><span data-stu-id="6ca03-137">The complete filter clause for a static row filter with a user-defined function would appear like:</span></span>  
  
        ```sql  
        SELECT <published_columns> FROM [Sales].[SalesOrderHeader] WHERE MyFunction([Freight]) > 100  
        ```  
  
4.  [!INCLUDE[clickOK](../../../includes/clickok-md.md)]  
  
5.  <span data-ttu-id="6ca03-138">Se você estiver na caixa de diálogo **Propriedades da Publicação – \<Publication>** , clique em **OK** para salvar e fechar a caixa de diálogo.</span><span class="sxs-lookup"><span data-stu-id="6ca03-138">If you are in the **Publication Properties - \<Publication>** dialog box, click **OK** to save and close the dialog box.</span></span>  
  
#### <a name="to-modify-a-static-row-filter"></a><span data-ttu-id="6ca03-139">Para modificar um filtro de linhas estático</span><span class="sxs-lookup"><span data-stu-id="6ca03-139">To modify a static row filter</span></span>  
  
1.  <span data-ttu-id="6ca03-140">Na página **Filtrar Linhas da Tabela** do Assistente para Nova Publicação ou na página **Filtrar Linhas** da caixa de diálogo **Propriedades da Publicação – \<Publication>** , selecione um filtro no painel **Tabelas Filtradas** e clique em **Editar**.</span><span class="sxs-lookup"><span data-stu-id="6ca03-140">On the **Filter Table Rows** page of the New Publication Wizard or the **Filter Rows** page of the **Publication Properties - \<Publication>** dialog box, select a filter in the **Filtered Tables** pane, and then click **Edit**.</span></span>  
  
2.  <span data-ttu-id="6ca03-141">Na caixa de diálogo **Editar Filtro** , modifique o filtro.</span><span class="sxs-lookup"><span data-stu-id="6ca03-141">In the **Edit Filter** dialog box, modify the filter.</span></span>  
  
3.  [!INCLUDE[clickOK](../../../includes/clickok-md.md)]  
  
#### <a name="to-delete-a-static-row-filter"></a><span data-ttu-id="6ca03-142">Para excluir um filtro de linhas estático</span><span class="sxs-lookup"><span data-stu-id="6ca03-142">To delete a static row filter</span></span>  
  
1.  <span data-ttu-id="6ca03-143">Na página **Filtrar Linhas da Tabela** do Assistente para Nova Publicação ou na página **Filtrar Linhas** da caixa de diálogo **Propriedades da Publicação – \<Publication>** , selecione um filtro no painel **Tabelas Filtradas** e clique em **Excluir**.</span><span class="sxs-lookup"><span data-stu-id="6ca03-143">On the **Filter Table Rows** page of the New Publication Wizard or the **Filter Rows** page of the **Publication Properties - \<Publication>** dialog box, select a filter in the **Filtered Tables** pane, and then click **Delete**.</span></span>  
  
##  <a name="using-transact-sql"></a><a name="TsqlProcedure"></a> <span data-ttu-id="6ca03-144">Usando o Transact-SQL</span><span class="sxs-lookup"><span data-stu-id="6ca03-144">Using Transact-SQL</span></span>  
 <span data-ttu-id="6ca03-145">Ao criar artigos de tabela, você pode definir uma cláusula WHERE para filtrar linhas para fora de um artigo.</span><span class="sxs-lookup"><span data-stu-id="6ca03-145">When creating table articles, you can define a WHERE clause to filter rows out of an article.</span></span> <span data-ttu-id="6ca03-146">Você também pode alterar um filtro de linha depois que ele estiver definido.</span><span class="sxs-lookup"><span data-stu-id="6ca03-146">You can also change a row filter after it has been defined.</span></span> <span data-ttu-id="6ca03-147">Os filtros de linhas estáticos podem ser criados e modificados programaticamente usando os procedimentos armazenados de replicação.</span><span class="sxs-lookup"><span data-stu-id="6ca03-147">Static row filters can be created and modified programmatically using replication stored procedures.</span></span>  
  
#### <a name="to-define-a-static-row-filter-for-a-snapshot-or-transactional-publication"></a><span data-ttu-id="6ca03-148">Para definir um filtro de linhas estático para um instantâneo ou publicação transacional</span><span class="sxs-lookup"><span data-stu-id="6ca03-148">To define a static row filter for a snapshot or transactional publication</span></span>  
  
1.  <span data-ttu-id="6ca03-149">Defina o artigo a ser filtrado.</span><span class="sxs-lookup"><span data-stu-id="6ca03-149">Define the article to filter.</span></span> <span data-ttu-id="6ca03-150">Para obter mais informações, consulte [Define an Article](define-an-article.md).</span><span class="sxs-lookup"><span data-stu-id="6ca03-150">For more information, see [Define an Article](define-an-article.md).</span></span>  
  
2.  <span data-ttu-id="6ca03-151">No Publicador no banco de dados de publicação, execute o [sp_articlefilter &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-articlefilter-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="6ca03-151">At the Publisher on the publication database, execute [sp_articlefilter &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-articlefilter-transact-sql).</span></span> <span data-ttu-id="6ca03-152">Especifique o nome do artigo em **\@article**, o nome da publicação em **\@publication**, um nome para o filtro em **\@filter_name** e a cláusula de filtragem em **\@filter_clause** (não incluindo `WHERE`).</span><span class="sxs-lookup"><span data-stu-id="6ca03-152">Specify the name of the article for **\@article**, the name of the publication for **\@publication**, a name for the filter for **\@filter_name**, and the filtering clause for **\@filter_clause** (not including `WHERE`).</span></span>  
  
3.  <span data-ttu-id="6ca03-153">Se um filtro de coluna ainda precisa ser definido, consulte [Define and Modify a Column Filter](define-and-modify-a-column-filter.md).</span><span class="sxs-lookup"><span data-stu-id="6ca03-153">If a column filter must still be defined, see [Define and Modify a Column Filter](define-and-modify-a-column-filter.md).</span></span> <span data-ttu-id="6ca03-154">Caso contrário, execute [sp_articleview &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-articleview-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="6ca03-154">Otherwise, execute [sp_articleview &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-articleview-transact-sql).</span></span> <span data-ttu-id="6ca03-155">Especifique o nome da publicação em **\@publication**, o nome do artigo filtrado em **\@article** e a cláusula de filtro especificada na etapa 2 em **\@filter_clause**.</span><span class="sxs-lookup"><span data-stu-id="6ca03-155">Specify the publication name for **\@publication**, the name of the filtered article for **\@article**, and the filter clause specified in step 2 for **\@filter_clause**.</span></span> <span data-ttu-id="6ca03-156">Isto cria os objetos de sincronização para o artigo filtrado.</span><span class="sxs-lookup"><span data-stu-id="6ca03-156">This creates the synchronization objects for the filtered article.</span></span>  
  
#### <a name="to-modify-a-static-row-filter-for-a-snapshot-or-transactional-publication"></a><span data-ttu-id="6ca03-157">Para modificar um filtro de linhas estático para um instantâneo ou publicação transacional</span><span class="sxs-lookup"><span data-stu-id="6ca03-157">To modify a static row filter for a snapshot or transactional publication</span></span>  
  
1.  <span data-ttu-id="6ca03-158">No Publicador no banco de dados de publicação, execute o [sp_articlefilter &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-articlefilter-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="6ca03-158">At the Publisher on the publication database, execute [sp_articlefilter &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-articlefilter-transact-sql).</span></span> <span data-ttu-id="6ca03-159">Especifique o nome do artigo em **\@article**, o nome da publicação em **\@publication**, um nome para o novo filtro em **\@filter_name** e a nova cláusula de filtragem em **\@filter_clause** (não incluindo `WHERE`).</span><span class="sxs-lookup"><span data-stu-id="6ca03-159">Specify the name of the article for **\@article**, the name of the publication for **\@publication**, a name for the new filter for **\@filter_name**, and the new filtering clause for **\@filter_clause** (not including `WHERE`).</span></span> <span data-ttu-id="6ca03-160">Como essa alteração invalidará os dados nas assinaturas existentes, especifique um valor igual a **1** em **\@force_reinit_subscription**.</span><span class="sxs-lookup"><span data-stu-id="6ca03-160">Because this change will invalidate data in existing subscriptions, specify a value of **1** for **\@force_reinit_subscription**.</span></span>  
  
2.  <span data-ttu-id="6ca03-161">No Publicador no banco de dados de publicação, execute [sp_articleview &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-articleview-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="6ca03-161">At the Publisher on the publication database, execute [sp_articleview &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-articleview-transact-sql).</span></span> <span data-ttu-id="6ca03-162">Especifique o nome da publicação em **\@publication**, o nome do artigo filtrado em **\@article** e a cláusula de filtro especificada na etapa 1 em **\@filter_clause**.</span><span class="sxs-lookup"><span data-stu-id="6ca03-162">Specify the publication name for **\@publication**, the name of the filtered article for **\@article**, and the filter clause specified in step 1 for **\@filter_clause**.</span></span> <span data-ttu-id="6ca03-163">Isto recria a exibição que define o artigo filtrado.</span><span class="sxs-lookup"><span data-stu-id="6ca03-163">This re-creates the view that defines the filtered article.</span></span>  
  
3.  <span data-ttu-id="6ca03-164">Execute novamente o Snapshot Agent da publicação para gerar um instantâneo atualizado.</span><span class="sxs-lookup"><span data-stu-id="6ca03-164">Rerun the Snapshot Agent job for the publication to generate an updated snapshot.</span></span> <span data-ttu-id="6ca03-165">Para obter mais informações, consulte [Criar e aplicar o instantâneo inicial](../create-and-apply-the-initial-snapshot.md).</span><span class="sxs-lookup"><span data-stu-id="6ca03-165">For more information, see [Create and Apply the Initial Snapshot](../create-and-apply-the-initial-snapshot.md).</span></span>  
  
4.  <span data-ttu-id="6ca03-166">Reinicialize as assinaturas.</span><span class="sxs-lookup"><span data-stu-id="6ca03-166">Reinitialize subscriptions.</span></span> <span data-ttu-id="6ca03-167">Para obter mais informações, consulte [Reinicializar as assinaturas](../reinitialize-subscriptions.md).</span><span class="sxs-lookup"><span data-stu-id="6ca03-167">For more information, see [Reinitialize Subscriptions](../reinitialize-subscriptions.md).</span></span>  
  
#### <a name="to-delete-a-static-row-filter-for-a-snapshot-or-transactional-publication"></a><span data-ttu-id="6ca03-168">Para excluir um filtro de linhas estático para um instantâneo ou publicação transacional</span><span class="sxs-lookup"><span data-stu-id="6ca03-168">To delete a static row filter for a snapshot or transactional publication</span></span>  
  
1.  <span data-ttu-id="6ca03-169">No Publicador no banco de dados de publicação, execute o [sp_articlefilter &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-articlefilter-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="6ca03-169">At the Publisher on the publication database, execute [sp_articlefilter &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-articlefilter-transact-sql).</span></span> <span data-ttu-id="6ca03-170">Especifique o nome do artigo em **\@article**, o nome da publicação em **\@publication**, um valor igual a NULL em **\@filter_name** e um valor igual a NULL em **\@filter_clause**.</span><span class="sxs-lookup"><span data-stu-id="6ca03-170">Specify the name of the article for **\@article**, the name of the publication for **\@publication**, a value of NULL for **\@filter_name**, and a value of NULL for **\@filter_clause**.</span></span> <span data-ttu-id="6ca03-171">Como essa alteração invalidará os dados nas assinaturas existentes, especifique um valor igual a **1** em **\@force_reinit_subscription**.</span><span class="sxs-lookup"><span data-stu-id="6ca03-171">Because this change will invalidate data in existing subscriptions, specify a value of **1** for **\@force_reinit_subscription**.</span></span>  
  
2.  <span data-ttu-id="6ca03-172">Execute novamente o Snapshot Agent da publicação para gerar um instantâneo atualizado.</span><span class="sxs-lookup"><span data-stu-id="6ca03-172">Rerun the Snapshot Agent job for the publication to generate an updated snapshot.</span></span> <span data-ttu-id="6ca03-173">Para obter mais informações, consulte [Criar e aplicar o instantâneo inicial](../create-and-apply-the-initial-snapshot.md).</span><span class="sxs-lookup"><span data-stu-id="6ca03-173">For more information, see [Create and Apply the Initial Snapshot](../create-and-apply-the-initial-snapshot.md).</span></span>  
  
3.  <span data-ttu-id="6ca03-174">Reinicialize as assinaturas.</span><span class="sxs-lookup"><span data-stu-id="6ca03-174">Reinitialize subscriptions.</span></span> <span data-ttu-id="6ca03-175">Para obter mais informações, consulte [Reinicializar as assinaturas](../reinitialize-subscriptions.md).</span><span class="sxs-lookup"><span data-stu-id="6ca03-175">For more information, see [Reinitialize Subscriptions](../reinitialize-subscriptions.md).</span></span>  
  
#### <a name="to-define-a-static-row-filter-for-a-merge-publication"></a><span data-ttu-id="6ca03-176">Para definir um filtro de linhas estático para uma publicação de mesclagem</span><span class="sxs-lookup"><span data-stu-id="6ca03-176">To define a static row filter for a merge publication</span></span>  
  
1.  <span data-ttu-id="6ca03-177">No Publicador no banco de dados de publicação, execute o [sp_addmergearticle &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-addmergearticle-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="6ca03-177">At the Publisher on the publication database, execute [sp_addmergearticle &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-addmergearticle-transact-sql).</span></span> <span data-ttu-id="6ca03-178">Especifique a cláusula de filtragem em **\@subset_filterclause** (não incluindo `WHERE`).</span><span class="sxs-lookup"><span data-stu-id="6ca03-178">Specify the filtering clause for **\@subset_filterclause** (not including `WHERE`).</span></span> <span data-ttu-id="6ca03-179">Para obter mais informações, consulte [Define an Article](define-an-article.md).</span><span class="sxs-lookup"><span data-stu-id="6ca03-179">For more information, see [Define an Article](define-an-article.md).</span></span>  
  
2.  <span data-ttu-id="6ca03-180">Se um filtro de coluna ainda precisa ser definido, consulte [Define and Modify a Column Filter](define-and-modify-a-column-filter.md).</span><span class="sxs-lookup"><span data-stu-id="6ca03-180">If a column filter must still be defined, see [Define and Modify a Column Filter](define-and-modify-a-column-filter.md).</span></span>  
  
#### <a name="to-modify-a-static-row-filter-for-a-merge-publication"></a><span data-ttu-id="6ca03-181">Modificar um filtro de linhas estático para uma publicação de mesclagem</span><span class="sxs-lookup"><span data-stu-id="6ca03-181">To modify a static row filter for a merge publication</span></span>  
  
1.  <span data-ttu-id="6ca03-182">No Publicador no banco de dados de publicação, execute [sp_changemergearticle &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-changemergearticle-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="6ca03-182">At the Publisher on the publication database, execute [sp_changemergearticle &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-changemergearticle-transact-sql).</span></span> <span data-ttu-id="6ca03-183">Especifique o nome da publicação em **\@publication**, o nome do artigo filtrado em **\@article**, um valor igual a **subset_filterclause** em **\@property** e a nova cláusula de filtragem em **\@value** (não incluindo `WHERE`).</span><span class="sxs-lookup"><span data-stu-id="6ca03-183">Specify the publication name for **\@publication**, the name of the filtered article for **\@article**, a value of **subset_filterclause** for **\@property**, and the new filtering clause for **\@value** (not including `WHERE`).</span></span> <span data-ttu-id="6ca03-184">Como essa alteração invalidará os dados nas assinaturas existentes, especifique um valor igual a 1 em **\@force_reinit_subscription**.</span><span class="sxs-lookup"><span data-stu-id="6ca03-184">Because this change will invalidate data in existing subscriptions, specify a value of 1 for **\@force_reinit_subscription**.</span></span>  
  
2.  <span data-ttu-id="6ca03-185">Execute novamente o Snapshot Agent da publicação para gerar um instantâneo atualizado.</span><span class="sxs-lookup"><span data-stu-id="6ca03-185">Rerun the Snapshot Agent job for the publication to generate an updated snapshot.</span></span> <span data-ttu-id="6ca03-186">Para obter mais informações, consulte [Criar e aplicar o instantâneo inicial](../create-and-apply-the-initial-snapshot.md).</span><span class="sxs-lookup"><span data-stu-id="6ca03-186">For more information, see [Create and Apply the Initial Snapshot](../create-and-apply-the-initial-snapshot.md).</span></span>  
  
3.  <span data-ttu-id="6ca03-187">Reinicialize as assinaturas.</span><span class="sxs-lookup"><span data-stu-id="6ca03-187">Reinitialize subscriptions.</span></span> <span data-ttu-id="6ca03-188">Para obter mais informações, consulte [Reinicializar as assinaturas](../reinitialize-subscriptions.md).</span><span class="sxs-lookup"><span data-stu-id="6ca03-188">For more information, see [Reinitialize Subscriptions](../reinitialize-subscriptions.md).</span></span>  
  
###  <a name="examples-transact-sql"></a><a name="TsqlExample"></a> <span data-ttu-id="6ca03-189">Exemplos (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="6ca03-189">Examples (Transact-SQL)</span></span>  
 <span data-ttu-id="6ca03-190">Neste exemplo de replicação transacional, o artigo é filtrado horizontalmente para remover todos os produtos descontinuados.</span><span class="sxs-lookup"><span data-stu-id="6ca03-190">In this transactional replication example, the article is filtered horizontally to remove all discontinued products.</span></span>  
  
 [!code-sql[HowTo#sp_AddTranArticle](../../../snippets/tsql/SQL15/replication/howto/tsql/createtranpub.sql#sp_addtranarticle)]  
  
 <span data-ttu-id="6ca03-191">Neste exemplo de replicação de mesclagem, os artigos são filtrados horizontalmente para retornar apenas linhas que pertencem ao vendedor especificado.</span><span class="sxs-lookup"><span data-stu-id="6ca03-191">In this merge replication example, the articles are filtered horizontally to return only rows that belong to the specified salesperson.</span></span> <span data-ttu-id="6ca03-192">Um filtro de junção também é usado.</span><span class="sxs-lookup"><span data-stu-id="6ca03-192">A join filter is also used.</span></span> <span data-ttu-id="6ca03-193">Para obter mais informações, consulte [Definir e modificar um filtro de junção entre artigos de mesclagem](define-and-modify-a-join-filter-between-merge-articles.md).</span><span class="sxs-lookup"><span data-stu-id="6ca03-193">For more information, see [Define and Modify a Join Filter Between Merge Articles](define-and-modify-a-join-filter-between-merge-articles.md).</span></span>  
  
 [!code-sql[HowTo#sp_AddMergeArticle](../../../snippets/tsql/SQL15/replication/howto/tsql/createmergepub.sql#sp_addmergearticle)]  
  
## <a name="see-also"></a><span data-ttu-id="6ca03-194">Consulte Também</span><span class="sxs-lookup"><span data-stu-id="6ca03-194">See Also</span></span>  
 <span data-ttu-id="6ca03-195">[Definir e modificar um filtro de linha parametrizado para um artigo de mesclagem](define-and-modify-a-parameterized-row-filter-for-a-merge-article.md) </span><span class="sxs-lookup"><span data-stu-id="6ca03-195">[Define and Modify a Parameterized Row Filter for a Merge Article](define-and-modify-a-parameterized-row-filter-for-a-merge-article.md) </span></span>  
 <span data-ttu-id="6ca03-196">[Alterar propriedades da publicação e do artigo](change-publication-and-article-properties.md) </span><span class="sxs-lookup"><span data-stu-id="6ca03-196">[Change Publication and Article Properties](change-publication-and-article-properties.md) </span></span>  
 <span data-ttu-id="6ca03-197">[Filtrar os dados publicados](filter-published-data.md) </span><span class="sxs-lookup"><span data-stu-id="6ca03-197">[Filter Published Data](filter-published-data.md) </span></span>  
 [<span data-ttu-id="6ca03-198">Filtrar dados publicados para a replicação de mesclagem</span><span class="sxs-lookup"><span data-stu-id="6ca03-198">Filter Published Data for Merge Replication</span></span>](../merge/filter-published-data-for-merge-replication.md)  
  
  
