---
title: Filtrar dados publicados | Microsoft Docs
ms.custom: ''
ms.date: 06/14/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: replication
ms.topic: conceptual
helpviewer_keywords:
- filters [SQL Server replication]
- filters [SQL Server replication], about filtering
- filtering [SQL Server replication]
- static row filters
- transactional replication, filtering published data
- replication [SQL Server], filtering published data
- filtering published data [SQL Server replication]
- snapshot replication [SQL Server], filtering published data
- column filters [SQL Server replication]
ms.assetid: 8a914947-72dc-4119-b631-b39c8070c71b
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: 525e90cecbc4cd6ee817b8fd07748abaf651b524
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87570613"
---
# <a name="filter-published-data"></a><span data-ttu-id="b86a7-102">Filtrar dados publicados</span><span class="sxs-lookup"><span data-stu-id="b86a7-102">Filter Published Data</span></span>
  <span data-ttu-id="b86a7-103">Filtrar artigos de tabela lhe permite criar partições de dados a serem publicados.</span><span class="sxs-lookup"><span data-stu-id="b86a7-103">Filtering table articles enables you to create partitions of data to be published.</span></span> <span data-ttu-id="b86a7-104">Filtrando dados publicados, você pode:</span><span class="sxs-lookup"><span data-stu-id="b86a7-104">By filtering published data, you can:</span></span>  
  
-   <span data-ttu-id="b86a7-105">Minimizar a quantidade de dados enviada pela rede.</span><span class="sxs-lookup"><span data-stu-id="b86a7-105">Minimize the amount of data sent over the network.</span></span>  
  
-   <span data-ttu-id="b86a7-106">Reduzir a quantidade de espaço de armazenamento requerida no Assinante.</span><span class="sxs-lookup"><span data-stu-id="b86a7-106">Reduce the amount of storage space required at the Subscriber.</span></span>  
  
-   <span data-ttu-id="b86a7-107">Personalizar publicações e aplicativos com base em requisitos de Assinante individuais.</span><span class="sxs-lookup"><span data-stu-id="b86a7-107">Customize publications and applications based on individual Subscriber requirements.</span></span>  
  
-   <span data-ttu-id="b86a7-108">Evitar ou reduzir conflitos se o Assinante estiver atualizando dados, porque partições diferentes de dados podem ser enviadas a Assinantes diferentes (dois Assinantes não estarão atualizando os mesmos valores de dados).</span><span class="sxs-lookup"><span data-stu-id="b86a7-108">Avoid or reduce conflicts if Subscribers are updating data, because different data partitions can be sent to different Subscribers (no two Subscribers will be updating the same data values).</span></span>  
  
-   <span data-ttu-id="b86a7-109">Evitar transmitir dados confidenciais.</span><span class="sxs-lookup"><span data-stu-id="b86a7-109">Avoid transmitting sensitive data.</span></span> <span data-ttu-id="b86a7-110">Podem ser usados filtros de linha e filtros de coluna para restringir um acesso de Assinante aos dados.</span><span class="sxs-lookup"><span data-stu-id="b86a7-110">Row filters and column filters can be used to restrict a Subscriber's access to data.</span></span> <span data-ttu-id="b86a7-111">Para a replicação de mesclagem, haverá considerações de segurança se você usar um filtro com parâmetros que inclua HOST_NAME().</span><span class="sxs-lookup"><span data-stu-id="b86a7-111">For merge replication, there are security considerations if you use a parameterized filter that includes HOST_NAME().</span></span> <span data-ttu-id="b86a7-112">Para obter mais informações, consulte a seção "Filtrando com HOST_NAME()" em [Parameterized Row Filters](../merge/parameterized-filters-parameterized-row-filters.md).</span><span class="sxs-lookup"><span data-stu-id="b86a7-112">For more information, see the section "Filtering with HOST_NAME()" in [Parameterized Row Filters](../merge/parameterized-filters-parameterized-row-filters.md).</span></span>  
  
 <span data-ttu-id="b86a7-113">A replicação oferece quatro tipos de filtros:</span><span class="sxs-lookup"><span data-stu-id="b86a7-113">Replication offers four types of filters:</span></span>  
  
-   <span data-ttu-id="b86a7-114">Filtros de linha estáticos, que estão disponíveis com todos os tipos de replicação.</span><span class="sxs-lookup"><span data-stu-id="b86a7-114">Static row filters, which are available with all types of replication.</span></span>  
  
     <span data-ttu-id="b86a7-115">Ao usar filtros de linha estáticos é possível escolher um subconjunto de linhas a ser publicado.</span><span class="sxs-lookup"><span data-stu-id="b86a7-115">Using static row filters, you can choose a subset of rows to be published.</span></span> <span data-ttu-id="b86a7-116">Todos os Assinantes para uma publicação filtrada recebem o mesmo subconjunto de linhas para a tabela filtrada.</span><span class="sxs-lookup"><span data-stu-id="b86a7-116">All Subscribers to a filtered publication receive the same subset of rows for the filtered table.</span></span> <span data-ttu-id="b86a7-117">Para obter mais informações, consulte a seção “Filtros de linha estatísticos”, neste tópico.</span><span class="sxs-lookup"><span data-stu-id="b86a7-117">For more information, see the section "Static Row Filters" in this topic.</span></span>  
  
-   <span data-ttu-id="b86a7-118">Filtros de coluna, que estão disponíveis com todos os tipos de replicação.</span><span class="sxs-lookup"><span data-stu-id="b86a7-118">Column filters, which are available with all types of replication.</span></span>  
  
     <span data-ttu-id="b86a7-119">Ao usar filtros de coluna é possível escolher um subconjunto de colunas a ser publicado.</span><span class="sxs-lookup"><span data-stu-id="b86a7-119">Using column filters, you can choose a subset of columns to be published.</span></span> <span data-ttu-id="b86a7-120">Para obter mais informações, consulte a seção “Filtros de coluna”, neste tópico.</span><span class="sxs-lookup"><span data-stu-id="b86a7-120">For more information, see the section "Column Filters" in this topic.</span></span>  
  
-   <span data-ttu-id="b86a7-121">Filtros de linha com parâmetros, que estão disponíveis apenas com replicação de mesclagem.</span><span class="sxs-lookup"><span data-stu-id="b86a7-121">Parameterized row filters, which are available only with merge replication.</span></span>  
  
     <span data-ttu-id="b86a7-122">Ao usar filtros com parâmetros é possível escolher um subconjunto de linhas a ser publicado.</span><span class="sxs-lookup"><span data-stu-id="b86a7-122">Using parameterized row filters, you can choose a subset of rows to be published.</span></span> <span data-ttu-id="b86a7-123">Ao contrário de filtros estáticos que enviam o mesmo subconjunto de linhas para cada Assinante, filtros de linhas com parâmetros usam um valor de dados fornecido pelo Assinante para que se envie aos Assinantes diferentes subconjuntos de linhas.</span><span class="sxs-lookup"><span data-stu-id="b86a7-123">Unlike static filters that send the same subset of rows to every Subscriber, parameterized row filters use a data value supplied by the Subscriber to send Subscribers different subsets of rows.</span></span> <span data-ttu-id="b86a7-124">Para obter mais informações, consulte [Filtros de linha com parâmetros](../merge/parameterized-filters-parameterized-row-filters.md).</span><span class="sxs-lookup"><span data-stu-id="b86a7-124">For more information, see [Parameterized Row Filters](../merge/parameterized-filters-parameterized-row-filters.md).</span></span>  
  
-   <span data-ttu-id="b86a7-125">Filtros de junção, que estão disponíveis apenas com replicação de mesclagem.</span><span class="sxs-lookup"><span data-stu-id="b86a7-125">Join filters, which are available only with merge replication.</span></span>  
  
     <span data-ttu-id="b86a7-126">Ao usar filtros de junção é possível estender um filtro de linha de uma tabela publicada para outra.</span><span class="sxs-lookup"><span data-stu-id="b86a7-126">Using join filters, you can extend a row filter from one published table to another.</span></span> <span data-ttu-id="b86a7-127">Para obter mais informações, consulte [Join Filters](../merge/join-filters.md).</span><span class="sxs-lookup"><span data-stu-id="b86a7-127">For more information, see [Join Filters](../merge/join-filters.md).</span></span>  
  
## <a name="static-row-filters"></a><span data-ttu-id="b86a7-128">filtros de linha estáticos</span><span class="sxs-lookup"><span data-stu-id="b86a7-128">Static Row Filters</span></span>  
 <span data-ttu-id="b86a7-129">A ilustração a seguir mostra uma tabela publicada que é filtrada de forma que apenas as linhas 2, 3 e 6 são incluídas na publicação.</span><span class="sxs-lookup"><span data-stu-id="b86a7-129">The following illustration shows a published table that is filtered so that only rows 2, 3, and 6 are included in the publication.</span></span>  
  
 <span data-ttu-id="b86a7-130">![Filtragem de linhas](../media/repl-16.gif "Filtragem de linhas")</span><span class="sxs-lookup"><span data-stu-id="b86a7-130">![Row filtering](../media/repl-16.gif "Row filtering")</span></span>  
  
 <span data-ttu-id="b86a7-131">Um filtro de linha estático usa a cláusula WHERE para selecionar os dados apropriados a serem publicados; você especifica a parte final da cláusula WHERE.</span><span class="sxs-lookup"><span data-stu-id="b86a7-131">A static row filter uses a WHERE clause to select the appropriate data to be published; you specify the final part of the WHERE clause.</span></span> <span data-ttu-id="b86a7-132">Considere a tabela **Product** no banco de dados de exemplo Adventure Works, que contém a coluna **ProductLine**.</span><span class="sxs-lookup"><span data-stu-id="b86a7-132">Consider the **Product Table** in the Adventure Works sample database, which contains the column **ProductLine**.</span></span> <span data-ttu-id="b86a7-133">Para publicar somente as linhas com dados em produtos relacionados a mountain bikes, especifique `ProductLine = 'M'`.</span><span class="sxs-lookup"><span data-stu-id="b86a7-133">To publish only the rows with data on products related to mountain bikes, specify `ProductLine = 'M'`.</span></span>  
  
 <span data-ttu-id="b86a7-134">Um filtro de linha estático resulta em um único conjunto de dados para cada publicação.</span><span class="sxs-lookup"><span data-stu-id="b86a7-134">A static row filter results in a single set of data for each publication.</span></span> <span data-ttu-id="b86a7-135">No exemplo anterior, todos os Assinantes receberiam somente as linhas com dados em produtos relacionados a mountain bikes.</span><span class="sxs-lookup"><span data-stu-id="b86a7-135">In the previous example, all Subscribers would receive only the rows with data on products related to mountain bikes.</span></span> <span data-ttu-id="b86a7-136">Se você tiver outro Assinante que exija somente as linhas com dados sobre produtos relacionados a bicicletas de estrada:</span><span class="sxs-lookup"><span data-stu-id="b86a7-136">If you have another Subscriber that requires only the rows with data on products related to road bikes:</span></span>  
  
-   <span data-ttu-id="b86a7-137">Com replicação de instantâneo ou transacional, é possível criar outra publicação e incluir a tabela em ambas as publicações (na cláusula de filtro para o artigo naquela publicação, especifique `ProductLine = 'R')`.</span><span class="sxs-lookup"><span data-stu-id="b86a7-137">With snapshot or transactional replication, you can create another publication and include the table in both publications (in the filter clause for the article in that publication, specify `ProductLine = 'R')`.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="b86a7-138">Filtros de linha em publicações transacionais podem adicionar uma sobrecarga significativa por que a cláusula de filtragem de artigo é avaliada para cada linha de log gravada para uma tabela publicada a fim de determinar se a linha deve ser replicada.</span><span class="sxs-lookup"><span data-stu-id="b86a7-138">Row filters in transactional publications can add significant overhead because the article filter clause is evaluated for each log row written for a published table, to determine whether the row should be replicated.</span></span> <span data-ttu-id="b86a7-139">Filtros de linha em publicações transacionais devem ser evitados se cada nó de replicação puder dar suporte a toda a carga de dados, e o conjunto completo de dados for relativamente pequeno.</span><span class="sxs-lookup"><span data-stu-id="b86a7-139">Row filters in transactional publications should be avoided if each replication node can support the full data load, and the overall data set is reasonably small.</span></span>  
  
-   <span data-ttu-id="b86a7-140">Com replicação de mesclagem, use filtros de linha com parâmetro em vez de criar várias publicações com filtros de linha estáticos.</span><span class="sxs-lookup"><span data-stu-id="b86a7-140">With merge replication, use parameterized row filters rather than creating multiple publications with static row filters.</span></span> <span data-ttu-id="b86a7-141">Para obter mais informações, consulte [Filtros de linha com parâmetros](../merge/parameterized-filters-parameterized-row-filters.md).</span><span class="sxs-lookup"><span data-stu-id="b86a7-141">For more information, see [Parameterized Row Filters](../merge/parameterized-filters-parameterized-row-filters.md).</span></span>  
  
 <span data-ttu-id="b86a7-142">Para definir ou modificar um filtro de linha estático, consulte [Define and Modify a Static Row Filter](define-and-modify-a-static-row-filter.md).</span><span class="sxs-lookup"><span data-stu-id="b86a7-142">To define or modify a static row filter, see [Define and Modify a Static Row Filter](define-and-modify-a-static-row-filter.md).</span></span>  
  
## <a name="column-filters"></a><span data-ttu-id="b86a7-143">Filtros de coluna</span><span class="sxs-lookup"><span data-stu-id="b86a7-143">Column Filters</span></span>  
 <span data-ttu-id="b86a7-144">A ilustração a seguir mostra uma publicação que filtra a coluna C.</span><span class="sxs-lookup"><span data-stu-id="b86a7-144">The following illustration shows a publication that filters out column C.</span></span>  
  
 <span data-ttu-id="b86a7-145">![Filtragem de colunas](../media/repl-17.gif "Filtragem de coluna")</span><span class="sxs-lookup"><span data-stu-id="b86a7-145">![Column filtering](../media/repl-17.gif "Column filtering")</span></span>  
  
 <span data-ttu-id="b86a7-146">É possível também usar filtragem de linha e coluna juntas, conforme aqui ilustrado.</span><span class="sxs-lookup"><span data-stu-id="b86a7-146">You can also use row and column filtering together, as illustrated here.</span></span>  
  
 <span data-ttu-id="b86a7-147">![Filtragem de linha e de coluna](../media/repl-18.gif "Filtragem de linha e de coluna")</span><span class="sxs-lookup"><span data-stu-id="b86a7-147">![Row and column filtering](../media/repl-18.gif "Row and column filtering")</span></span>  
  
 <span data-ttu-id="b86a7-148">Após a criação de uma publicação é possível usar a filtragem de coluna para cancelar uma coluna de uma publicação existente, mas retendo a coluna na tabela no Publicador, e também incluir uma coluna existente na publicação.</span><span class="sxs-lookup"><span data-stu-id="b86a7-148">After a publication is created, you can use column filtering to drop a column from an existing publication, but retain the column in the table at the Publisher, and also to include an existing column in the publication.</span></span> <span data-ttu-id="b86a7-149">Para outras alterações, como a adição de uma nova coluna a uma tabela e, então, a adição dela ao artigo publicado, use replicação de alteração de esquema.</span><span class="sxs-lookup"><span data-stu-id="b86a7-149">For other changes, such as adding a new column to a table and then adding it to the published article, use schema change replication.</span></span> <span data-ttu-id="b86a7-150">Para mais informações, consulte as seções "Adicionando colunas" e "Removendo colunas" no tópico [Fazer alterações em esquemas nos bancos de dados de publicação](make-schema-changes-on-publication-databases.md).</span><span class="sxs-lookup"><span data-stu-id="b86a7-150">For more information, see the "Adding Columns" and "Dropping Columns" sections in the topic [Make Schema Changes on Publication Databases](make-schema-changes-on-publication-databases.md).</span></span>  
  
 <span data-ttu-id="b86a7-151">Os tipos de colunas listados na tabela a seguir não podem ser filtrados em determinados tipos de publicações.</span><span class="sxs-lookup"><span data-stu-id="b86a7-151">The types of columns listed in the following table cannot be filtered out of certain types of publications.</span></span>  
  
|<span data-ttu-id="b86a7-152">Tipo de coluna</span><span class="sxs-lookup"><span data-stu-id="b86a7-152">Column type</span></span>|<span data-ttu-id="b86a7-153">Tipo de publicação e opções</span><span class="sxs-lookup"><span data-stu-id="b86a7-153">Type of publication and options</span></span>|  
|-----------------|-------------------------------------|  
|<span data-ttu-id="b86a7-154">Coluna de chave primária</span><span class="sxs-lookup"><span data-stu-id="b86a7-154">Primary key column</span></span>|<span data-ttu-id="b86a7-155">Colunas de chave primária são exigidas para todas as tabelas em publicações transacionais.</span><span class="sxs-lookup"><span data-stu-id="b86a7-155">Primary key columns are required for all tables in transactional publications.</span></span> <span data-ttu-id="b86a7-156">Chaves primárias não são exigidas para tabelas em publicações de mesclagem, mas se uma coluna de chave primária estiver presente, ela não pode ser filtrada.</span><span class="sxs-lookup"><span data-stu-id="b86a7-156">Primary keys are not required for tables in merge publications, but if a primary key column is present, it cannot be filtered.</span></span>|  
|<span data-ttu-id="b86a7-157">Coluna de chave estrangeira</span><span class="sxs-lookup"><span data-stu-id="b86a7-157">Foreign key column</span></span>|<span data-ttu-id="b86a7-158">Todas as publicações criadas usando-se o assistente para Nova Publicação.</span><span class="sxs-lookup"><span data-stu-id="b86a7-158">All publications created using the New Publication wizard.</span></span> <span data-ttu-id="b86a7-159">Você pode filtrar colunas de chave estrangeira usando procedimentos armazenados da Transact-SQL.</span><span class="sxs-lookup"><span data-stu-id="b86a7-159">You can filter foreign key columns using Transact-SQL stored procedures.</span></span> <span data-ttu-id="b86a7-160">Para obter mais informações, [Define and Modify a Column Filter](define-and-modify-a-column-filter.md).</span><span class="sxs-lookup"><span data-stu-id="b86a7-160">For more information, [Define and Modify a Column Filter](define-and-modify-a-column-filter.md).</span></span>|  
|<span data-ttu-id="b86a7-161">A coluna **rowguid**</span><span class="sxs-lookup"><span data-stu-id="b86a7-161">The **rowguid** column</span></span>|<span data-ttu-id="b86a7-162">Publicações de mesclagem<sup>1</sup></span><span class="sxs-lookup"><span data-stu-id="b86a7-162">Merge publications<sup>1</sup></span></span>|  
|<span data-ttu-id="b86a7-163">A coluna **msrepl_tran_version**</span><span class="sxs-lookup"><span data-stu-id="b86a7-163">The **msrepl_tran_version** column</span></span>|<span data-ttu-id="b86a7-164">Publicações de instantâneo ou transacionais que permitem assinaturas atualizáveis</span><span class="sxs-lookup"><span data-stu-id="b86a7-164">Snapshot or transactional publications that allow updatable subscriptions</span></span>|  
|<span data-ttu-id="b86a7-165">Colunas que não permitem NULL e não têm valores padrão ou a propriedade IDENTITY definida.</span><span class="sxs-lookup"><span data-stu-id="b86a7-165">Columns that do not allow NULL and do not have default values or the IDENTITY property set.</span></span>|<span data-ttu-id="b86a7-166">Publicações de instantâneo ou transacionais que permitem assinaturas atualizáveis</span><span class="sxs-lookup"><span data-stu-id="b86a7-166">Snapshot or transactional publications that allow updatable subscriptions</span></span>|  
|<span data-ttu-id="b86a7-167">Colunas com restrições ou índices exclusivos</span><span class="sxs-lookup"><span data-stu-id="b86a7-167">Columns with unique constraints or indexes</span></span>|<span data-ttu-id="b86a7-168">Publicações de instantâneo ou transacionais que permitem assinaturas atualizáveis</span><span class="sxs-lookup"><span data-stu-id="b86a7-168">Snapshot or transactional publications that allow updatable subscriptions</span></span>|  
|<span data-ttu-id="b86a7-169">Todas as colunas em uma publicação de mesclagem SQL Server 7.0</span><span class="sxs-lookup"><span data-stu-id="b86a7-169">All columns in a SQL Server 7.0 merge publication</span></span>|<span data-ttu-id="b86a7-170">Colunas não podem ser filtradas em publicações de mesclagem SQL Server 7.0.</span><span class="sxs-lookup"><span data-stu-id="b86a7-170">Columns cannot be filtered in SQL Server 7.0 merge publications.</span></span>|  
|<span data-ttu-id="b86a7-171">Timestamp</span><span class="sxs-lookup"><span data-stu-id="b86a7-171">Timestamp</span></span>|<span data-ttu-id="b86a7-172">Publicações de instantâneo ou transacionais SQL Server 7.0 que permitem assinaturas atualizáveis</span><span class="sxs-lookup"><span data-stu-id="b86a7-172">SQL Server 7.0 snapshot or transactional publications that allow updatable subscriptions</span></span>|  
  
 <span data-ttu-id="b86a7-173"><sup>1</sup> se você estiver publicando uma tabela em uma publicação de mesclagem e essa tabela já contiver uma coluna de tipo de dados `uniqueidentifier` com o `ROWGUIDCOL` conjunto de propriedades, a replicação poderá usar essa coluna em vez de criar uma coluna adicional chamada **ROWGUID**.</span><span class="sxs-lookup"><span data-stu-id="b86a7-173"><sup>1</sup> If you are publishing a table in a merge publication and that table already contains a column of data type `uniqueidentifier` with the `ROWGUIDCOL` property set, replication can use this column instead of creating an additional column named **rowguid**.</span></span> <span data-ttu-id="b86a7-174">Nesse caso, a coluna existente deve ser publicada.</span><span class="sxs-lookup"><span data-stu-id="b86a7-174">In this case, the existing column must be published.</span></span>  
  
 <span data-ttu-id="b86a7-175">Para definir ou modificar um filtro de coluna, consulte [Define and Modify a Column Filter](define-and-modify-a-column-filter.md).</span><span class="sxs-lookup"><span data-stu-id="b86a7-175">To define or modify a column filter, see [Define and Modify a Column Filter](define-and-modify-a-column-filter.md).</span></span>  
  
## <a name="filtering-considerations"></a><span data-ttu-id="b86a7-176">Filtrando considerações</span><span class="sxs-lookup"><span data-stu-id="b86a7-176">Filtering Considerations</span></span>  
 <span data-ttu-id="b86a7-177">Lembre-se das seguintes considerações ao filtrar dados:</span><span class="sxs-lookup"><span data-stu-id="b86a7-177">Keep the following considerations in mind when filtering data:</span></span>  
  
-   <span data-ttu-id="b86a7-178">Todas as colunas referenciadas em filtros de linha devem ser incluídas na publicação.</span><span class="sxs-lookup"><span data-stu-id="b86a7-178">All columns referenced in row filters must be included in the publication.</span></span> <span data-ttu-id="b86a7-179">Em outras palavras, não se pode usar um filtro de coluna para excluir uma coluna usada em um filtro de linha.</span><span class="sxs-lookup"><span data-stu-id="b86a7-179">In other words, you cannot use a column filter to exclude a column that is used in a row filter.</span></span>  
  
-   <span data-ttu-id="b86a7-180">Se um filtro for adicionado ou alterado depois de inicializadas as assinaturas, as assinaturas devem ser reinicializadas.</span><span class="sxs-lookup"><span data-stu-id="b86a7-180">If a filter is added or changed after subscriptions have been initialized, the subscriptions must be reinitialized.</span></span>  
  
-   <span data-ttu-id="b86a7-181">O número máximo de bytes permitidos para uma coluna usada em um filtro é 1024 para um artigo em uma publicação de mesclagem e 8000 para um artigo em uma publicação transacional.</span><span class="sxs-lookup"><span data-stu-id="b86a7-181">The maximum number of bytes allowed for a column used in a filter is 1024 for an article in a merge publication and 8000 for an article in a transactional publication.</span></span>  
  
-   <span data-ttu-id="b86a7-182">Colunas com os seguintes tipos de dados não podem ser referenciadas em filtros de linha ou filtros de junção:</span><span class="sxs-lookup"><span data-stu-id="b86a7-182">Columns with the following data types cannot be referenced in row filters or join filters:</span></span>  
  
    -   `varchar(max) and nvarchar(max)`  
  
    -   `varbinary(max)`  
  
    -   `text and ntext`  
  
    -   `image`  
  
    -   `XML`  
  
    -   `UDT`  
  
-   <span data-ttu-id="b86a7-183">Replicação transacional lhe permite reproduzir uma exibição indexada como uma exibição ou como uma tabela.</span><span class="sxs-lookup"><span data-stu-id="b86a7-183">Transactional replication allows you to replicate an indexed view as a view or as a table.</span></span> <span data-ttu-id="b86a7-184">Se você reproduzir a exibição como uma tabela, você não poderá filtrar colunas da tabela.</span><span class="sxs-lookup"><span data-stu-id="b86a7-184">If you replicate the view as a table, you cannot filter columns from the table.</span></span>  
  
 <span data-ttu-id="b86a7-185">Os filtros de linha não são criados para funcionar nos bancos de dados.</span><span class="sxs-lookup"><span data-stu-id="b86a7-185">Row filters are not designed to work across databases.</span></span> <span data-ttu-id="b86a7-186">O [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] restringe intencionalmente a execução de `sp_replcmds` (quais filtros serão executados em) ao proprietário do banco de dados (`dbo`).</span><span class="sxs-lookup"><span data-stu-id="b86a7-186">[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] intentionally restricts the execution of `sp_replcmds` (which filters execute under) to the database owner (`dbo`).</span></span> <span data-ttu-id="b86a7-187">O `dbo` não tem privilégios de banco de dados.</span><span class="sxs-lookup"><span data-stu-id="b86a7-187">The `dbo` does not have cross database privileges.</span></span> <span data-ttu-id="b86a7-188">Com a adição de CDC (Change Data Capture) em [!INCLUDE[ssKatmai](../../../includes/sskatmai-md.md)], a lógica de `sp_replcmds` preenche as tabelas de controle de alterações com informações que o usuário pode retornar e consultar.</span><span class="sxs-lookup"><span data-stu-id="b86a7-188">With the addition of CDC (Change Data Capture) in [!INCLUDE[ssKatmai](../../../includes/sskatmai-md.md)] the `sp_replcmds` logic populates the change tracking tables with information that the user can return to and query.</span></span> <span data-ttu-id="b86a7-189">Por motivos de segurança, [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] o restringe a execução dessa lógica para que um mal-intencionado `dbo` não possa sequestrar esse caminho de execução.</span><span class="sxs-lookup"><span data-stu-id="b86a7-189">For security reasons, [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] restricts the execution of this logic so that a malicious `dbo` can't highjack this execution path.</span></span> <span data-ttu-id="b86a7-190">Por exemplo, um `dbo` mal-intencionado pode adicionar gatilhos a tabelas CDC que seriam executadas no contexto do usuário que chama `sp_replcmds`, nesse caso, o Log Reader Agent.</span><span class="sxs-lookup"><span data-stu-id="b86a7-190">For example, a malicious `dbo` could add triggers on CDC tables which would then get executed under the context of the user calling `sp_replcmds`, in this case the logreader agent.</span></span>  <span data-ttu-id="b86a7-191">Se a conta que o agente está executando tiver um privilégio mais alto, o `dbo` mal-intencionado poderá escalonar os privilégios dele.</span><span class="sxs-lookup"><span data-stu-id="b86a7-191">If the account the agent is running under has higher privilege the malicious `dbo` could escalate his privileges.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="b86a7-192">Consulte Também</span><span class="sxs-lookup"><span data-stu-id="b86a7-192">See Also</span></span>  
 [<span data-ttu-id="b86a7-193">Publicar dados e objetos de banco de dados</span><span class="sxs-lookup"><span data-stu-id="b86a7-193">Publish Data and Database Objects</span></span>](publish-data-and-database-objects.md)  
  
  
