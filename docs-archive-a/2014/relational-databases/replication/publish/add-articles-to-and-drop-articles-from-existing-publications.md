---
title: Adicionar e remover artigos de publicações existentes | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: replication
ms.topic: conceptual
helpviewer_keywords:
- articles [SQL Server replication], dropping
- deleting articles
- removing articles
- dropping articles
- adding articles
- administering replication, articles
- publications [SQL Server replication], adding and dropping articles
- articles [SQL Server replication], adding
ms.assetid: b148e907-e1f2-483b-bdb2-59ea596efceb
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: f72f15886e7105dde8d0e15dd0598a7474ed7e39
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87583509"
---
# <a name="add-articles-to-and-drop-articles-from-existing-publications"></a><span data-ttu-id="e116c-102">Adicionar e remover artigos de publicações existentes</span><span class="sxs-lookup"><span data-stu-id="e116c-102">Add Articles to and Drop Articles from Existing Publications</span></span>
  <span data-ttu-id="e116c-103">Depois que uma publicação é criada, é possível adicionar e descartar artigos.</span><span class="sxs-lookup"><span data-stu-id="e116c-103">After a publication is created, it is possible to add and drop articles.</span></span> <span data-ttu-id="e116c-104">Os artigos podem ser adicionados a qualquer hora, mas as ações necessárias para descartar artigos dependem do tipo de replicação e de quando o artigo é descartado.</span><span class="sxs-lookup"><span data-stu-id="e116c-104">Articles can be added at any time, but the actions required for dropping articles depend on the type of replication and when the article is dropped.</span></span>  
  
## <a name="adding-articles"></a><span data-ttu-id="e116c-105">adicionando artigos</span><span class="sxs-lookup"><span data-stu-id="e116c-105">Adding Articles</span></span>  
 <span data-ttu-id="e116c-106">Adicionar um artigo envolve: adicionar o artigo à publicação; criar um novo instantâneo para a publicação; sincronizar a assinatura para aplicar o esquema e os dados para o novo artigo.</span><span class="sxs-lookup"><span data-stu-id="e116c-106">Adding an article involves: adding the article to the publication; creating a new snapshot for the publication; synchronizing the subscription to apply the schema and data for the new article.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="e116c-107">Se você adicionar um artigo a uma publicação de mesclagem e o artigo existente depender do artigo novo, será preciso especificar uma ordem de processamento para ambos os artigos usando o parâmetro **\@processing_order** de [sp_addmergearticle](/sql/relational-databases/system-stored-procedures/sp-addmergearticle-transact-sql) e [sp_changemergearticle](/sql/relational-databases/system-stored-procedures/sp-changemergearticle-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="e116c-107">If you add an article to a merge publication and an existing article depends on the new article, you must specify a processing order for both articles using the **\@processing_order** parameter of [sp_addmergearticle](/sql/relational-databases/system-stored-procedures/sp-addmergearticle-transact-sql) and [sp_changemergearticle](/sql/relational-databases/system-stored-procedures/sp-changemergearticle-transact-sql).</span></span> <span data-ttu-id="e116c-108">Considere o seguinte cenário: uma tabela é publicada, mas não é publicada a função que é referenciada pela tabela.</span><span class="sxs-lookup"><span data-stu-id="e116c-108">Consider the following scenario: you publish a table but you do not publish a function that the table references.</span></span> <span data-ttu-id="e116c-109">Se a função não for publicada, a tabela não poderá ser criada no Assinante.</span><span class="sxs-lookup"><span data-stu-id="e116c-109">If you do not publish the function, the table cannot be created at the Subscriber.</span></span> <span data-ttu-id="e116c-110">Ao adicionar a função à publicação: especifique o valor **1** para o parâmetro **\@processing_order** de **sp_addmergearticle** e especifique o valor **2** para o parâmetro **\@processing_order** de **sp_changemergearticle**, especificando o nome da tabela para o parâmetro **\@article**.</span><span class="sxs-lookup"><span data-stu-id="e116c-110">When you add the function to the publication: specify a value of **1** for the **\@processing_order** parameter of **sp_addmergearticle**; and specify a value of **2** for the **\@processing_order** parameter of **sp_changemergearticle**, specifying the table name for the parameter **\@article**.</span></span> <span data-ttu-id="e116c-111">Essa ordem de processamento garante a criação da função no Assinante antes da tabela que depende disso.</span><span class="sxs-lookup"><span data-stu-id="e116c-111">This processing order ensures that you create the function at the Subscriber before the table that depends on it.</span></span> <span data-ttu-id="e116c-112">É possível usar números diferentes para cada artigo, desde que o número para a função seja menor que o número para a tabela.</span><span class="sxs-lookup"><span data-stu-id="e116c-112">You can use different numbers for each article, as long as the number for the function is lower than the number for the table.</span></span>  
  
1.  <span data-ttu-id="e116c-113">Adicione um ou mais artigos com um dos métodos seguintes:</span><span class="sxs-lookup"><span data-stu-id="e116c-113">Add one or more articles through one of the following methods:</span></span>  
  
    -   [<span data-ttu-id="e116c-114">Adicionar e remover artigos em uma publicação &#40;SQL Server Management Studio&#41;</span><span class="sxs-lookup"><span data-stu-id="e116c-114">Add Articles to and Drop Articles from a Publication &#40;SQL Server Management Studio&#41;</span></span>](add-articles-to-and-drop-articles-from-a-publication.md)  
  
    -   [<span data-ttu-id="e116c-115">Defina um Artigo</span><span class="sxs-lookup"><span data-stu-id="e116c-115">Define an Article</span></span>](define-an-article.md)  
  
2.  <span data-ttu-id="e116c-116">Após adicionar um artigo a uma publicação, é necessário criar um novo instantâneo para a publicação (e todas as partições se for uma publicação de mesclagem com filtros com parâmetros).</span><span class="sxs-lookup"><span data-stu-id="e116c-116">After adding an article to a publication, you must create a new snapshot for the publication (and all partitions if it is a merge publication with parameterized filters).</span></span> <span data-ttu-id="e116c-117">O Agente de Distribuição ou o Agente de Mesclagem então copiará o esquema e os dados para o novo artigo para o Assinante (ele não reinicializa a publicação inteira).</span><span class="sxs-lookup"><span data-stu-id="e116c-117">The Distribution Agent or Merge Agent then copies the schema and data for the new article to the Subscriber (it does not reinitialize the entire publication).</span></span>  
  
    -   <span data-ttu-id="e116c-118">Para criar um novo instantâneo, consulte [Create and Apply the Initial Snapshot](../create-and-apply-the-initial-snapshot.md).</span><span class="sxs-lookup"><span data-stu-id="e116c-118">To create a new snapshot, see [Create and Apply the Initial Snapshot](../create-and-apply-the-initial-snapshot.md).</span></span>  
  
    -   <span data-ttu-id="e116c-119">Para criar um novo instantâneo para uma publicação de mesclagem com filtros com parâmetros, consulte [Criar um instantâneo pra publicação de mesclagem com filtros com parâmetros](../create-a-snapshot-for-a-merge-publication-with-parameterized-filters.md).</span><span class="sxs-lookup"><span data-stu-id="e116c-119">To create a new snapshot for a merge publication with parameterized filters, see [Create a Snapshot for a Merge Publication with Parameterized Filters](../create-a-snapshot-for-a-merge-publication-with-parameterized-filters.md).</span></span>  
  
3.  <span data-ttu-id="e116c-120">Depois que o instantâneo é criado, sincronize a assinatura para copiar o esquema e os dados para o novo artigo.</span><span class="sxs-lookup"><span data-stu-id="e116c-120">After the snapshot is created, synchronize the subscription to copy the schema and data for the new article.</span></span>  
  
    -   <span data-ttu-id="e116c-121">Para sincronizar uma assinatura push, consulte [Synchronize a Push Subscription](../synchronize-a-push-subscription.md).</span><span class="sxs-lookup"><span data-stu-id="e116c-121">To synchronize a push subscription, see [Synchronize a Push Subscription](../synchronize-a-push-subscription.md).</span></span>  
  
    -   <span data-ttu-id="e116c-122">Para sincronizar uma assinatura pull, consulte [Synchronize a Pull Subscription](../synchronize-a-pull-subscription.md).</span><span class="sxs-lookup"><span data-stu-id="e116c-122">To synchronize a pull subscription, see [Synchronize a Pull Subscription](../synchronize-a-pull-subscription.md).</span></span>  
  
## <a name="dropping-articles"></a><span data-ttu-id="e116c-123">descartando artigos</span><span class="sxs-lookup"><span data-stu-id="e116c-123">Dropping Articles</span></span>  
 <span data-ttu-id="e116c-124">Os artigos podem ser descartados de uma publicação a qualquer hora, mas é necessário levar em conta os seguintes comportamentos:</span><span class="sxs-lookup"><span data-stu-id="e116c-124">Articles can be dropped from a publication at any time, but you must take into account the following behaviors:</span></span>  
  
-   <span data-ttu-id="e116c-125">Descartar um artigo de uma publicação não remove o objeto do banco de dados de publicação ou o objeto correspondente do banco de dados de assinatura.</span><span class="sxs-lookup"><span data-stu-id="e116c-125">Dropping an article from a publication does not remove the object from the publication database or the corresponding object from the subscription database.</span></span> <span data-ttu-id="e116c-126">Use DROP \<Object> para remover esses objetos, se necessário.</span><span class="sxs-lookup"><span data-stu-id="e116c-126">Use DROP \<Object> to remove these objects if necessary.</span></span> <span data-ttu-id="e116c-127">Ao remover um artigo relacionado a outros artigos publicados por meio de restrições de chave estrangeira, recomendamos remover manualmente a tabela no Assinante ou usando uma execução de script sob demanda: especifique o script que inclua as instruções DROP \<Object> apropriadas.</span><span class="sxs-lookup"><span data-stu-id="e116c-127">When you drop an article that is related to other published articles through foreign key constraints, we recommend that you drop the table at the Subscriber manually or by using on-demand script execution: specify a script that includes the appropriate DROP \<Object> statements.</span></span> <span data-ttu-id="e116c-128">Para obter mais informações, consulte [Executar scripts durante a sincronização &#40;Programação do Transact-SQL de Replicação&#41;](../execute-scripts-during-synchronization-replication-transact-sql-programming.md).</span><span class="sxs-lookup"><span data-stu-id="e116c-128">For more information, see [Execute Scripts During Synchronization &#40;Replication Transact-SQL Programming&#41;](../execute-scripts-during-synchronization-replication-transact-sql-programming.md).</span></span>  
  
-   <span data-ttu-id="e116c-129">Para publicações de mesclagem com nível de compatibilidade 90RTM ou superior, os artigos podem ser descartados a qualquer hora, porém um novo instantâneo é requerido.</span><span class="sxs-lookup"><span data-stu-id="e116c-129">For merge publications with a compatibility level of 90RTM or higher, articles can be dropped at any time, but a new snapshot is required.</span></span> <span data-ttu-id="e116c-130">Adicionalmente:</span><span class="sxs-lookup"><span data-stu-id="e116c-130">Additionally:</span></span>  
  
    -   <span data-ttu-id="e116c-131">Se o artigo é um artigo pai em um filtro de junção ou relação de registro lógico, as relações devem ser descartadas primeiro, o que requer a reinicialização.</span><span class="sxs-lookup"><span data-stu-id="e116c-131">If an article is a parent article in a join filter or logical record relationship, the relationships must be dropped first, which requires reinitialization.</span></span>  
  
    -   <span data-ttu-id="e116c-132">Se o artigo tiver o último filtro com parâmetros em uma publicação, as assinaturas deverão ser reinicializadas.</span><span class="sxs-lookup"><span data-stu-id="e116c-132">If an article has the last parameterized filter in a publication, subscriptions must be reinitialized.</span></span>  
  
-   <span data-ttu-id="e116c-133">Para publicações de mesclagem com nível de compatibilidade inferior a 90RTM, os artigos podem ser descartados sem considerações especiais anteriores à sincronização inicial de assinaturas.</span><span class="sxs-lookup"><span data-stu-id="e116c-133">For merge publications with a compatibility level lower than 90RTM, articles can be dropped with no special considerations prior to the initial synchronization of subscriptions.</span></span> <span data-ttu-id="e116c-134">Se o artigo for descartado depois que uma ou mais assinaturas forem sincronizadas, as assinaturas devem ser descartadas, recriadas e sincronizadas.</span><span class="sxs-lookup"><span data-stu-id="e116c-134">If an article is dropped after one or more subscriptions is synchronized, the subscriptions must be dropped, re-created, and synchronized.</span></span>  
  
-   <span data-ttu-id="e116c-135">Para publicações de instantâneo ou publicações transacionais, os artigos podem ser descartados sem considerações especiais antes de as assinatura serem criadas.</span><span class="sxs-lookup"><span data-stu-id="e116c-135">For snapshot or transactional publications, articles can be dropped with no special considerations prior to subscriptions being created.</span></span> <span data-ttu-id="e116c-136">Se o artigo for descartado depois que uma ou mais assinaturas forem criadas, as assinaturas devem ser descartadas, recriadas e sincronizadas.</span><span class="sxs-lookup"><span data-stu-id="e116c-136">If an article is dropped after one or more subscriptions is created, the subscriptions must be dropped, recreated, and synchronized.</span></span> <span data-ttu-id="e116c-137">Para obter mais informações sobre como remover assinaturas, consulte [Assinar publicações](../subscribe-to-publications.md) e [sp_dropsubscription &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-dropsubscription-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="e116c-137">For more information about dropping subscriptions, see [Subscribe to Publications](../subscribe-to-publications.md) and [sp_dropsubscription &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-dropsubscription-transact-sql).</span></span> <span data-ttu-id="e116c-138">**sp_dropsubscription** permite a você remover um único artigo da assinatura, em vez da assinatura inteira.</span><span class="sxs-lookup"><span data-stu-id="e116c-138">**sp_dropsubscription** allows you to drop a single article from the subscription rather than the entire subscription.</span></span>  
  
1.  <span data-ttu-id="e116c-139">Descartar um artigo de uma publicação envolve descartar o artigo e criar um novo instantâneo para a publicação.</span><span class="sxs-lookup"><span data-stu-id="e116c-139">Dropping an article from a publication involves dropping the article and creating a new snapshot for the publication.</span></span> <span data-ttu-id="e116c-140">Descartar um artigo invalida o instantâneo atual; consequentemente, um novo instantâneo deve ser criado.</span><span class="sxs-lookup"><span data-stu-id="e116c-140">Dropping an article invalidates the current snapshot; therefore a new snapshot must be created.</span></span>  
  
    -   <span data-ttu-id="e116c-141">Para remover um artigo de uma publicação, consulte [Adicionar e remover artigos de uma publicação &#40;SQL Server Management Studio&#41;](add-articles-to-and-drop-articles-from-a-publication.md) ou [Excluir um artigo](delete-an-article.md).</span><span class="sxs-lookup"><span data-stu-id="e116c-141">To drop an article from a publication, see [Add Articles to and Drop Articles from a Publication &#40;SQL Server Management Studio&#41;](add-articles-to-and-drop-articles-from-a-publication.md) or [Delete an Article](delete-an-article.md).</span></span>  
  
2.  <span data-ttu-id="e116c-142">Após descartar um artigo de uma publicação, é necessário criar um novo instantâneo para a publicação (e todas as partições se for uma publicação de mesclagem com filtros com parâmetros).</span><span class="sxs-lookup"><span data-stu-id="e116c-142">After dropping an article from a publication, you must create a new snapshot for the publication (and all partitions if it is a merge publication with parameterized filters).</span></span>  
  
    -   <span data-ttu-id="e116c-143">Para criar um novo instantâneo, consulte [Create and Apply the Initial Snapshot](../create-and-apply-the-initial-snapshot.md).</span><span class="sxs-lookup"><span data-stu-id="e116c-143">To create a new snapshot, see [Create and Apply the Initial Snapshot](../create-and-apply-the-initial-snapshot.md).</span></span>  
  
    -   <span data-ttu-id="e116c-144">Para criar um novo instantâneo para uma publicação de mesclagem com filtros com parâmetros, consulte [Criar um instantâneo pra publicação de mesclagem com filtros com parâmetros](../create-a-snapshot-for-a-merge-publication-with-parameterized-filters.md).</span><span class="sxs-lookup"><span data-stu-id="e116c-144">To create a new snapshot for a merge publication with parameterized filters, see [Create a Snapshot for a Merge Publication with Parameterized Filters](../create-a-snapshot-for-a-merge-publication-with-parameterized-filters.md).</span></span>  
  
 <span data-ttu-id="e116c-145">Como observado anteriormente, em alguns casos, descartar um artigo exige descartar assinaturas, recriá-las e, então, sincronizá-las.</span><span class="sxs-lookup"><span data-stu-id="e116c-145">As noted above, in some cases dropping an article requires subscriptions to be dropped, recreated, and then synchronized.</span></span> <span data-ttu-id="e116c-146">Para obter mais informações, consulte [Assinar publicações](../subscribe-to-publications.md) e [Sincronizar dados](../synchronize-data.md).</span><span class="sxs-lookup"><span data-stu-id="e116c-146">For more information, see [Subscribe to Publications](../subscribe-to-publications.md) and [Synchronize Data](../synchronize-data.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="e116c-147">Consulte Também</span><span class="sxs-lookup"><span data-stu-id="e116c-147">See Also</span></span>  
 <span data-ttu-id="e116c-148">[Publicar dados e objetos de banco de dados](publish-data-and-database-objects.md) </span><span class="sxs-lookup"><span data-stu-id="e116c-148">[Publish Data and Database Objects](publish-data-and-database-objects.md) </span></span>  
 <span data-ttu-id="e116c-149">[Reinicializar as assinaturas](../reinitialize-subscriptions.md) </span><span class="sxs-lookup"><span data-stu-id="e116c-149">[Reinitialize Subscriptions](../reinitialize-subscriptions.md) </span></span>  
 [<span data-ttu-id="e116c-150">Fazer alterações de esquema em bancos de dados de publicação</span><span class="sxs-lookup"><span data-stu-id="e116c-150">Make Schema Changes on Publication Databases</span></span>](make-schema-changes-on-publication-databases.md)  
  
  
