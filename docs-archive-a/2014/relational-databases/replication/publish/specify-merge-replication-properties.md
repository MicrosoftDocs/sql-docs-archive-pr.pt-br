---
title: Especificar propriedades de replicação de mesclagem | Microsoft Docs
ms.custom: ''
ms.date: 11/29/2018
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: replication
ms.topic: conceptual
helpviewer_keywords:
- merge replication [SQL Server replication], about merge replication
- merge replication [SQL Server replication]
ms.assetid: ff87c368-4c00-4e48-809d-ea752839551e
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: 3b2e66b7ed26420093166445a478bfec7f1dd21d
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87682221"
---
# <a name="specify-merge-replication-properties"></a><span data-ttu-id="e9dee-102">Especificar propriedades de replicação de mesclagem</span><span class="sxs-lookup"><span data-stu-id="e9dee-102">Specify Merge Replication Properties</span></span>
<span data-ttu-id="e9dee-103">Este tópico explica como especificar várias propriedades para sua replicação de mesclagem.</span><span class="sxs-lookup"><span data-stu-id="e9dee-103">This topic explains how to specify various properties for your merge replication.</span></span> 


## <a name="download-only"></a><span data-ttu-id="e9dee-104">Somente download</span><span class="sxs-lookup"><span data-stu-id="e9dee-104">Download-only</span></span>
  <span data-ttu-id="e9dee-105">Esta seção descreve como especificar que um artigo de tabela de mesclagem é somente para download no [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] usando o [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)] ou o [!INCLUDE[tsql](../../../includes/tsql-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="e9dee-105">This section describes how to specify that a merge table article is download-only in [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] by using [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)] or [!INCLUDE[tsql](../../../includes/tsql-md.md)].</span></span> <span data-ttu-id="e9dee-106">Artigos de somente download são projetados para aplicativos com dados que não são atualizados nos Assinantes.</span><span class="sxs-lookup"><span data-stu-id="e9dee-106">Download-only articles are designed for applications with data that is not updated at Subscribers.</span></span> <span data-ttu-id="e9dee-107">Para obter mais informações, consulte [Otimizar o desempenho da replicação de mesclagem com artigos somente para download](../merge/optimize-merge-replication-performance-with-download-only-articles.md).</span><span class="sxs-lookup"><span data-stu-id="e9dee-107">For more information, see [Optimize Merge Replication Performance with Download-Only Articles](../merge/optimize-merge-replication-performance-with-download-only-articles.md).</span></span>  
 
  
###  <a name="limitations-and-restrictions"></a><span data-ttu-id="e9dee-108">Limitações e Restrições</span><span class="sxs-lookup"><span data-stu-id="e9dee-108">Limitations and Restrictions</span></span>  
  
-   <span data-ttu-id="e9dee-109">Se você especificar que um artigo é somente download, após a inicialização das assinaturas, todas as assinaturas de clientes que receberem o artigo deverão ser reincializadas.</span><span class="sxs-lookup"><span data-stu-id="e9dee-109">If you specify that an article is download-only after subscriptions have been initialized, all client subscriptions that received the article must be reinitialized.</span></span> <span data-ttu-id="e9dee-110">As assinaturas de servidor não têm que ser reinicializadas.</span><span class="sxs-lookup"><span data-stu-id="e9dee-110">Server subscriptions do not have to be reinitialized.</span></span> <span data-ttu-id="e9dee-111">Para obter mais informações sobre os efeitos das alterações de propriedades, consulte [Alterar propriedades da publicação e do artigo](change-publication-and-article-properties.md).</span><span class="sxs-lookup"><span data-stu-id="e9dee-111">For more information on the effects of property changes, see [Change Publication and Article Properties](change-publication-and-article-properties.md).</span></span>  
  
### <a name="using-sql-server-management-studio"></a><span data-ttu-id="e9dee-112">Como usar o SQL Server Management Studio.</span><span class="sxs-lookup"><span data-stu-id="e9dee-112">Using SQL Server Management Studio</span></span>  
 <span data-ttu-id="e9dee-113">Especifique que um artigo é somente para download na página **artigos** do assistente para nova publicação ou na guia **Propriedades** da caixa de diálogo **Propriedades \<Article> do artigo** .</span><span class="sxs-lookup"><span data-stu-id="e9dee-113">Specify that an article is download-only on the **Articles** page of the New Publication Wizard or the **Properties** tab of the **Article Properties - \<Article>** dialog box.</span></span> <span data-ttu-id="e9dee-114">Essa caixa de diálogo fica disponível no Assistente para Nova Publicação e na caixa de diálogo **Propriedades de Publicação – \<Publication>** .</span><span class="sxs-lookup"><span data-stu-id="e9dee-114">This dialog box is available in the New Publication Wizard and the **Publication Properties - \<Publication>** dialog box.</span></span> <span data-ttu-id="e9dee-115">Para obter mais informações sobre como usar o assistente e acessar a caixa de diálogo, consulte [Criar uma publicação](../publish/create-a-publication.md) e [Exibir e modificar as propriedades da publicação](../publish/view-and-modify-publication-properties.md).</span><span class="sxs-lookup"><span data-stu-id="e9dee-115">For more information about using the wizard and accessing the dialog box, see [Create a Publication](../publish/create-a-publication.md) and [View and Modify Publication Properties](../publish/view-and-modify-publication-properties.md).</span></span>  
  
#### <a name="to-specify-that-an-article-is-download-only-on-the-articles-page"></a><span data-ttu-id="e9dee-116">Para especificar que um artigo seja somente download na página Artigos</span><span class="sxs-lookup"><span data-stu-id="e9dee-116">To specify that an article is download-only on the Articles page</span></span>  
  
-   <span data-ttu-id="e9dee-117">Na página **Artigos** do Assistente para Nova Publicação, selecione uma tabela, depois marque a caixa de seleção **A tabela realçada é somente para download**.</span><span class="sxs-lookup"><span data-stu-id="e9dee-117">On the **Articles** page of the New Publication Wizard select a table, and then select the checkbox **Highlighted table is download-only**.</span></span> 
  
#### <a name="to-specify-that-an-article-is-download-only-on-the-properties-tab-of-the-article-properties---article-dialog-box"></a><span data-ttu-id="e9dee-118">Para especificar que um artigo é somente para download na guia Propriedades da caixa de diálogo Propriedades do artigo – \<Article></span><span class="sxs-lookup"><span data-stu-id="e9dee-118">To specify that an article is download-only on the Properties tab of the Article Properties - \<Article> dialog box</span></span>  
  
1.  <span data-ttu-id="e9dee-119">Na página **Artigos** do Assistente para Nova Publicação ou na caixa de diálogo **Propriedades da Publicação – \<Publication>** , selecione uma tabela e clique em **Propriedades do Artigo**.</span><span class="sxs-lookup"><span data-stu-id="e9dee-119">On the **Articles** page of the New Publication Wizard or the **Publication Properties - \<Publication>** dialog box, select a table, and then click **Article Properties**.</span></span>    
2.  <span data-ttu-id="e9dee-120">Clique em **Definir Propriedades do Artigo Realçado na Tabela** ou **Definir as Propriedades de Todos os Artigos de Tabela**.</span><span class="sxs-lookup"><span data-stu-id="e9dee-120">Click **Set Properties of Highlighted Table Article** or **Set Properties of All Table Articles**.</span></span>    
3.  <span data-ttu-id="e9dee-121">Na seção **Objeto de Destino** da guia **Propriedades** da caixa de diálogo **Propriedades do Artigo – \<Article>** , especifique um dos seguintes valores para a **Direção de sincronização**:</span><span class="sxs-lookup"><span data-stu-id="e9dee-121">In the **Destination Object** section of the **Properties** tab of the **Article Properties - \<Article>** dialog box, specify one of the following values for **Synchronization direction**:</span></span>    
    -   <span data-ttu-id="e9dee-122">**Download para Assinante, proibir alterações do Assinante**</span><span class="sxs-lookup"><span data-stu-id="e9dee-122">**Download to Subscriber, prohibit Subscriber changes**</span></span>    
    -   <span data-ttu-id="e9dee-123">**Download para Assinante, permitir alterações do Assinante**</span><span class="sxs-lookup"><span data-stu-id="e9dee-123">**Download to Subscriber, allow Subscriber changes**</span></span>  
  
4.  <span data-ttu-id="e9dee-124">Se você estiver na caixa de diálogo **Propriedades da Publicação – \<Publication>** , clique em **OK** para salvar e fechar a caixa de diálogo.</span><span class="sxs-lookup"><span data-stu-id="e9dee-124">If you are in the **Publication Properties - \<Publication>** dialog box, click **OK** to save and close the dialog box.</span></span>    

###  <a name="using-transact-sql"></a><span data-ttu-id="e9dee-125">Usando o Transact-SQL</span><span class="sxs-lookup"><span data-stu-id="e9dee-125">Using Transact-SQL</span></span>  
  
#### <a name="to-specify-that-a-new-merge-table-article-is-download-only"></a><span data-ttu-id="e9dee-126">Para especificar que um novo artigo de tabela de mesclagem é somente download</span><span class="sxs-lookup"><span data-stu-id="e9dee-126">To specify that a new merge table article is download-only</span></span>    
1.  <span data-ttu-id="e9dee-127">Execute [sp_addmergearticle](/sql/relational-databases/system-stored-procedures/sp-addmergearticle-transact-sql), especificando um valor de **1** ou **2** para o parâmetro \*\* \@ subscriber_upload_options\*\*.</span><span class="sxs-lookup"><span data-stu-id="e9dee-127">Execute [sp_addmergearticle](/sql/relational-databases/system-stored-procedures/sp-addmergearticle-transact-sql), specifying a value of **1** or **2** for the parameter **\@subscriber_upload_options**.</span></span> <span data-ttu-id="e9dee-128">Os números correspondem ao seguinte comportamento:</span><span class="sxs-lookup"><span data-stu-id="e9dee-128">The numbers correspond to the following behavior:</span></span>  
  
    -   <span data-ttu-id="e9dee-129">**0** - Nenhuma restrição (padrão).</span><span class="sxs-lookup"><span data-stu-id="e9dee-129">**0** - No restrictions (default).</span></span> <span data-ttu-id="e9dee-130">As alterações feitas no Assinante são carregadas no Publicador.</span><span class="sxs-lookup"><span data-stu-id="e9dee-130">Changes made at the Subscriber are uploaded to the Publisher.</span></span>    
    -   <span data-ttu-id="e9dee-131">**1** - As alterações são permitidas no Assinante, mas não são carregadas no Publicador.</span><span class="sxs-lookup"><span data-stu-id="e9dee-131">**1** - Changes are allowed at the Subscriber, but they are not uploaded to the Publisher.</span></span>    
    -   <span data-ttu-id="e9dee-132">**2** - As alterações não são permitidas no Assinante.</span><span class="sxs-lookup"><span data-stu-id="e9dee-132">**2** - Changes are not allowed at the Subscriber.</span></span>  
  
        > [!NOTE]  
        >  <span data-ttu-id="e9dee-133">Se a tabela de origem de um artigo já estiver publicada em outra publicação, o valor de \*\* \@ subscriber_upload_options\*\* deverá ser o mesmo para ambos os artigos.</span><span class="sxs-lookup"><span data-stu-id="e9dee-133">If the source table for an article is already published in another publication, the value of **\@subscriber_upload_options** must be the same for both articles.</span></span>  
  
#### <a name="to-modify-an-existing-merge-table-article-to-be-download-only"></a><span data-ttu-id="e9dee-134">Para modificar um artigo de tabela de mesclagem existente para que seja de somente download</span><span class="sxs-lookup"><span data-stu-id="e9dee-134">To modify an existing merge table article to be download-only</span></span>  
  
1.  <span data-ttu-id="e9dee-135">Para determinar se um artigo é de somente download, execute [sp_helpmergearticle](/sql/relational-databases/system-stored-procedures/sp-helpmergearticle-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="e9dee-135">To determine if an article is download-only, execute [sp_helpmergearticle](/sql/relational-databases/system-stored-procedures/sp-helpmergearticle-transact-sql).</span></span> <span data-ttu-id="e9dee-136">Observe o valor de **upload_options** para o artigo no conjunto de resultados.</span><span class="sxs-lookup"><span data-stu-id="e9dee-136">Note the value of **upload_options** for the article in the result set.</span></span>    
2.  <span data-ttu-id="e9dee-137">Se o valor retornado na etapa 1 for **0**, execute [sp_changemergearticle](/sql/relational-databases/system-stored-procedures/sp-changemergearticle-transact-sql), especificando um valor de **subscriber_upload_options** para \*\* \@ Propriedade**, um valor de **1** para \*\* \@ force_invalidate_snapshot** e \*\* \@ force_reinit_subscription**e um valor de **1** ou **2** para \*\* \@ valor**, que corresponde ao seguinte comportamento:</span><span class="sxs-lookup"><span data-stu-id="e9dee-137">If the value returned in step 1 is **0**, execute [sp_changemergearticle](/sql/relational-databases/system-stored-procedures/sp-changemergearticle-transact-sql), specifying a value of **subscriber_upload_options** for **\@property**, a value of **1** for **\@force_invalidate_snapshot** and **\@force_reinit_subscription**, and a value of **1** or **2** for **\@value**, which corresponds to the following behavior:</span></span>  
  
    -   <span data-ttu-id="e9dee-138">**1** - As alterações são permitidas no Assinante, mas não são carregadas no Publicador.</span><span class="sxs-lookup"><span data-stu-id="e9dee-138">**1** - Changes are allowed at the Subscriber, but they are not uploaded to the Publisher.</span></span>    
    -   <span data-ttu-id="e9dee-139">**2** - As alterações não são permitidas no Assinante.</span><span class="sxs-lookup"><span data-stu-id="e9dee-139">**2** - Changes are not allowed at the Subscriber.</span></span>  
  
        > [!NOTE]  
        >  <span data-ttu-id="e9dee-140">Se a tabela de origem para um artigo já estiver publicada em outra publicação, o comportamento de somente download deve ser o mesmo para os dois artigos.</span><span class="sxs-lookup"><span data-stu-id="e9dee-140">If the source table for an article is already published in another publication, the download-only behavior must be the same for both articles.</span></span>  
 
## <a name=""></a><span data-ttu-id="e9dee-141"><a name="interactive-conflict-resolution">Resolução interativa de conflitos</a></span><span class="sxs-lookup"><span data-stu-id="e9dee-141"><a name="interactive-conflict-resolution">Interactive conflict resolution</a></span></span>
[!INCLUDE[msCoName](../../../includes/msconame-md.md)]<span data-ttu-id="e9dee-142">[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]a replicação fornece um resolvedor interativo, que permite resolver conflitos manualmente durante a sincronização sob demanda no [!INCLUDE[msCoName](../../../includes/msconame-md.md)] Gerenciador de sincronização do Windows.</span><span class="sxs-lookup"><span data-stu-id="e9dee-142">[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] replication provides an Interactive Resolver, which allows you to resolve conflicts manually during on-demand synchronization in [!INCLUDE[msCoName](../../../includes/msconame-md.md)] Windows Synchronization Manager.</span></span> <span data-ttu-id="e9dee-143">Depois que a resolução interativa estiver habilitada, resolva os conflitos interativamente durante a sincronização, usando o Resolvedor Interativo.</span><span class="sxs-lookup"><span data-stu-id="e9dee-143">After interactive resolution is enabled, resolve conflicts interactively during synchronization, using the Interactive Resolver.</span></span> <span data-ttu-id="e9dee-144">O Resolvedor Interativo está disponível pelo Gerenciador de Sincronização do [!INCLUDE[msCoName](../../../includes/msconame-md.md)] Windows.</span><span class="sxs-lookup"><span data-stu-id="e9dee-144">The Interactive Resolver is available through the [!INCLUDE[msCoName](../../../includes/msconame-md.md)] Windows Synchronization Manager.</span></span> <span data-ttu-id="e9dee-145">Para obter mais informações, consulte [Como sincronizar uma assinatura usando o Gerenciador de Sincronização do Windows &#40;Gerenciador de Sincronização do Windows&#41;](../synchronize-a-subscription-using-windows-synchronization-manager.md).</span><span class="sxs-lookup"><span data-stu-id="e9dee-145">For more information, see [Synchronize a Subscription Using Windows Synchronization Manager &#40;Windows Synchronization Manager&#41;](../synchronize-a-subscription-using-windows-synchronization-manager.md).</span></span>  
  
    
###  <a name="recommendations"></a><a name="Recommendations"></a> <span data-ttu-id="e9dee-146">Recomendações</span><span class="sxs-lookup"><span data-stu-id="e9dee-146">Recommendations</span></span>  
  
-   <span data-ttu-id="e9dee-147">Se uma sincronização for executada fora do Gerenciador de Sincronização do Windows (como sincronização agendada ou uma sincronização sob demanda no SQL Server Management Studio ou no Replication Monitor), os conflitos serão resolvidos automaticamente sem a intervenção de usuário, usando a resolução de conflitos padrão especificada para o artigo.</span><span class="sxs-lookup"><span data-stu-id="e9dee-147">If a synchronization is performed outside of Windows Synchronization Manager (as a scheduled synchronization or an on demand synchronization in SQL Server Management Studio or Replication Monitor), conflicts are resolved automatically without user intervention, using the default conflict resolution specified for the article.</span></span> <span data-ttu-id="e9dee-148">Para obter mais informações, consulte [Resolução de conflito interativo](../merge/advanced-merge-replication-conflict-interactive-resolution.md).</span><span class="sxs-lookup"><span data-stu-id="e9dee-148">For more information, see [Interactive Conflict Resolution](../merge/advanced-merge-replication-conflict-interactive-resolution.md).</span></span>  
  
###  <a name="using-sql-server-management-studio"></a><span data-ttu-id="e9dee-149">Como usar o SQL Server Management Studio.</span><span class="sxs-lookup"><span data-stu-id="e9dee-149">Using SQL Server Management Studio</span></span>  
  
#### <a name="enable-interactive-conflict-resolution-for-an-article"></a><span data-ttu-id="e9dee-150">Habilitar a resolução de conflitos interativa para um artigo</span><span class="sxs-lookup"><span data-stu-id="e9dee-150">Enable interactive conflict resolution for an article</span></span>  
  
1.  <span data-ttu-id="e9dee-151">Na página **Artigos** do Assistente para Nova Publicação ou na caixa de diálogo **Propriedades da Publicação – \<Publication>** , selecione uma tabela.</span><span class="sxs-lookup"><span data-stu-id="e9dee-151">On the **Articles** page of the New Publication Wizard or the **Publication Properties - \<Publication>** dialog box, select a table.</span></span> <span data-ttu-id="e9dee-152">Para obter mais informações sobre como usar o assistente e acessar a caixa de diálogo, consulte [Criar uma publicação](create-a-publication.md) e [Exibir e modificar as propriedades da publicação](view-and-modify-publication-properties.md).</span><span class="sxs-lookup"><span data-stu-id="e9dee-152">For more information about using the wizard and accessing the dialog box, see [Create a Publication](create-a-publication.md) and [View and Modify Publication Properties](view-and-modify-publication-properties.md).</span></span>    
2.  <span data-ttu-id="e9dee-153">Clique em **Propriedades de Artigos**e então clique em **Definir Propriedades do Artigo Realçado da Tabela** ou **Definir Propriedades de Todos os Artigos da Tabela**.</span><span class="sxs-lookup"><span data-stu-id="e9dee-153">Click **Article Properties**, and then click **Set Properties of Highlighted Table Article** or **Set Properties of All Table Articles**.</span></span>    
3.  <span data-ttu-id="e9dee-154">Na página **Propriedades do Artigo – \<Article>** ou **Propriedades do Artigo –\<ArticleType>** , clique na guia **Resolvedor**.</span><span class="sxs-lookup"><span data-stu-id="e9dee-154">On the **Article Properties - \<Article>** or **Article Properties - \<ArticleType>** page, click the **Resolver** tab.</span></span>    
4.  <span data-ttu-id="e9dee-155">Selecione **Permitir que o Assinante resolva conflitos interativamente durante a sincronização sob demanda**</span><span class="sxs-lookup"><span data-stu-id="e9dee-155">Select **Allow Subscriber to resolve conflicts interactively during on-demand synchronization**.</span></span>    
5.  [!INCLUDE[clickOK](../../../includes/clickok-md.md)]    
6.  <span data-ttu-id="e9dee-156">Se você estiver na caixa de diálogo **Propriedades da Publicação – \<Publication>** , clique em **OK** para salvar e fechar a caixa de diálogo.</span><span class="sxs-lookup"><span data-stu-id="e9dee-156">If you are in the **Publication Properties - \<Publication>** dialog box, click **OK** to save and close the dialog box.</span></span>  
  
#### <a name="to-specify-that-a-subscription-should-use-interactive-conflict-resolution"></a><span data-ttu-id="e9dee-157">Para especificar que uma assinatura deve usar a resolução interativa de conflito</span><span class="sxs-lookup"><span data-stu-id="e9dee-157">To specify that a subscription should use interactive conflict resolution</span></span>  
  
1.  <span data-ttu-id="e9dee-158">Na caixa de diálogo **Propriedades da Assinatura – \<Subscriber>: \<SubscriptionDatabase>** , especifique o valor **Verdadeiro** para a opção **Resolver os conflitos interativamente**.</span><span class="sxs-lookup"><span data-stu-id="e9dee-158">In the **Subscription Properties - \<Subscriber>: \<SubscriptionDatabase>** dialog box, specify a value of **True** for the **Resolve conflicts interactively** option.</span></span> <span data-ttu-id="e9dee-159">Para obter mais informações sobre como acessar essa caixa de diálogo, consulte [View and Modify Push Subscription Properties](../view-and-modify-push-subscription-properties.md) e [View and Modify Pull Subscription Properties](../view-and-modify-pull-subscription-properties.md).</span><span class="sxs-lookup"><span data-stu-id="e9dee-159">For more information about accessing this dialog box, see [View and Modify Push Subscription Properties](../view-and-modify-push-subscription-properties.md) and [View and Modify Pull Subscription Properties](../view-and-modify-pull-subscription-properties.md).</span></span> 
2.  [!INCLUDE[clickOK](../../../includes/clickok-md.md)]  
  
### <a name="using-transact-sql"></a><span data-ttu-id="e9dee-160">Usando o Transact-SQL</span><span class="sxs-lookup"><span data-stu-id="e9dee-160">Using Transact-SQL</span></span>  
 <span data-ttu-id="e9dee-161">É possível especificar de forma programada se um Assinante usará essa interface gráfica para resolver conflitos de artigos quando uma assinatura pull para uma publicação de mesclagem é criada.</span><span class="sxs-lookup"><span data-stu-id="e9dee-161">You can programmatically specify that a Subscriber will use this graphical interface to resolve article conflicts when a pull subscription to a merge publication is created.</span></span> <span data-ttu-id="e9dee-162">Só conflitos em artigos que têm suporte para esta opção serão exibidos no Resolvedor Interativo.</span><span class="sxs-lookup"><span data-stu-id="e9dee-162">Only conflicts in articles that support this option will be displayed in the Interactive Resolver.</span></span>  
  
#### <a name="create-a-merge-pull-subscription-that-uses-the-interactive-resolver"></a><span data-ttu-id="e9dee-163">Criar uma assinatura pull de mesclagem que usa o Resolvedor Interativo</span><span class="sxs-lookup"><span data-stu-id="e9dee-163">Create a merge pull subscription that uses the Interactive Resolver</span></span>  
  
1.  <span data-ttu-id="e9dee-164">No Publicador do banco de dados de publicação, execute [sp_helpmergearticle](/sql/relational-databases/system-stored-procedures/sp-helpmergepublication-transact-sql), especificando a \*\* \@ publicação\*\*.</span><span class="sxs-lookup"><span data-stu-id="e9dee-164">At the Publisher on the publication database, execute [sp_helpmergearticle](/sql/relational-databases/system-stored-procedures/sp-helpmergepublication-transact-sql), specifying **\@publication**.</span></span> <span data-ttu-id="e9dee-165">Anote o valor de **allow_interactive_resolver** para cada artigo no conjunto de resultados para o qual o Resolvedor Interativo será usado.</span><span class="sxs-lookup"><span data-stu-id="e9dee-165">Note the value of **allow_interactive_resolver** for each article in the result set for which the Interactive Resolver will be used.</span></span>    
    -   <span data-ttu-id="e9dee-166">Se este valor for **1**, o Resolver Interativo será usado.</span><span class="sxs-lookup"><span data-stu-id="e9dee-166">If this value is **1**, the Interactive Resolver will be used.</span></span>    
    -   <span data-ttu-id="e9dee-167">Se este valor for **0**, você deverá primeiro habilitar o Resolvedor Interativo de cada artigo.</span><span class="sxs-lookup"><span data-stu-id="e9dee-167">If this value is **0**, you must first enable the Interactive Resolver for each article.</span></span> <span data-ttu-id="e9dee-168">Para fazer isso, execute [sp_changemergearticle](/sql/relational-databases/system-stored-procedures/sp-changemergearticle-transact-sql), especificando a \*\* \@ publicação**, o \*\* \@ artigo**, um valor de **allow_interactive_resolver** para \*\* \@ Propriedade**e um valor de **verdadeiro** para \*\* \@ valor**.</span><span class="sxs-lookup"><span data-stu-id="e9dee-168">To do this, execute [sp_changemergearticle](/sql/relational-databases/system-stored-procedures/sp-changemergearticle-transact-sql), specifying **\@publication**, **\@article**, a value of **allow_interactive_resolver** for **\@property**, and a value of **true** for **\@value**.</span></span>    
2.  <span data-ttu-id="e9dee-169">No Assinante, no banco de dados de assinatura, execute o [sp_addmergepullsubscription](/sql/relational-databases/system-stored-procedures/sp-addmergepullsubscription-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="e9dee-169">At the Subscriber on the subscription database, execute [sp_addmergepullsubscription](/sql/relational-databases/system-stored-procedures/sp-addmergepullsubscription-transact-sql).</span></span> <span data-ttu-id="e9dee-170">Para obter mais informações, consulte [Create a Pull Subscription](../create-a-pull-subscription.md).</span><span class="sxs-lookup"><span data-stu-id="e9dee-170">For more information, see [Create a Pull Subscription](../create-a-pull-subscription.md).</span></span>    
3.  <span data-ttu-id="e9dee-171">No Publicador do banco de dados de assinatura, execute o [sp_addmergepullsubscription_agent](/sql/relational-databases/system-stored-procedures/sp-addmergepullsubscription-agent-transact-sql), especificando os seguintes parâmetros:</span><span class="sxs-lookup"><span data-stu-id="e9dee-171">At the Subscriber on the subscription database, execute [sp_addmergepullsubscription_agent](/sql/relational-databases/system-stored-procedures/sp-addmergepullsubscription-agent-transact-sql), specifying the following parameters:</span></span>  
  
    -   <span data-ttu-id="e9dee-172">\*\* \@ Editor**, \*\* \@ publisher_db** (o banco de dados publicado) e \*\* \@ publicação\*\*.</span><span class="sxs-lookup"><span data-stu-id="e9dee-172">**\@publisher**, **\@publisher_db** (the published database), and **\@publication**.</span></span>    
    -   <span data-ttu-id="e9dee-173">Um valor de **true** para \*\* \@ enabled_for_syncmgr\*\*.</span><span class="sxs-lookup"><span data-stu-id="e9dee-173">A value of **true** for **\@enabled_for_syncmgr**.</span></span>    
    -   <span data-ttu-id="e9dee-174">Um valor de **true** para \*\* \@ use_interactive_resolver\*\*.</span><span class="sxs-lookup"><span data-stu-id="e9dee-174">A value of **true** for **\@use_interactive_resolver**.</span></span>    
    -   <span data-ttu-id="e9dee-175">As informações da conta de segurança requerida pelo Merge Agent.</span><span class="sxs-lookup"><span data-stu-id="e9dee-175">The security account information required by the Merge Agent.</span></span> <span data-ttu-id="e9dee-176">Para obter mais informações, consulte [Create a Pull Subscription](../create-a-pull-subscription.md).</span><span class="sxs-lookup"><span data-stu-id="e9dee-176">For more information, see [Create a Pull Subscription](../create-a-pull-subscription.md).</span></span>    
4.  <span data-ttu-id="e9dee-177">No Publicador, no banco de dados da publicação, execute [sp_addmergesubscription](/sql/relational-databases/system-stored-procedures/sp-addmergesubscription-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="e9dee-177">At the Publisher on the publication database, execute [sp_addmergesubscription](/sql/relational-databases/system-stored-procedures/sp-addmergesubscription-transact-sql).</span></span>  
  
#### <a name="define-an-article-that-supports-the-interactive-resolver"></a><span data-ttu-id="e9dee-178">Definir um artigo que tem suporte para o Resolvedor Interativo</span><span class="sxs-lookup"><span data-stu-id="e9dee-178">Define an article that supports the Interactive Resolver</span></span>  
  
<span data-ttu-id="e9dee-179">No Publicador do banco de dados de publicação, execute o [sp_addmergearticle](/sql/relational-databases/system-stored-procedures/sp-addmergearticle-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="e9dee-179">At the Publisher on the publication database, execute [sp_addmergearticle](/sql/relational-databases/system-stored-procedures/sp-addmergearticle-transact-sql).</span></span> <span data-ttu-id="e9dee-180">Especifique o nome da publicação à qual o artigo pertence para \*\* \@ publicação**, um nome para o artigo para o \*\* \@ artigo**, o objeto de banco de dados que está sendo publicado para \*\* \@ source_object**e um valor de **true** para \*\* \@ allow_interactive_resolver**.</span><span class="sxs-lookup"><span data-stu-id="e9dee-180">Specify the name of the publication to which the article belongs for **\@publication**, a name for the article for **\@article**, the database object being published for **\@source_object**, and a value of **true** for **\@allow_interactive_resolver**.</span></span> <span data-ttu-id="e9dee-181">Para obter mais informações, consulte [Define an Article](define-an-article.md).</span><span class="sxs-lookup"><span data-stu-id="e9dee-181">For more information, see [Define an Article](define-an-article.md).</span></span>  

## <a name="specify-the-conflict-tracking-and-resolution-level"></a><span data-ttu-id="e9dee-182">Especificar o nível de rastreamento e resolução de conflitos</span><span class="sxs-lookup"><span data-stu-id="e9dee-182">Specify the Conflict Tracking and Resolution Level</span></span> 
<span data-ttu-id="e9dee-183">Quando uma assinatura em uma publicação de mesclagem é sincronizada, a replicação verifica os conflitos causados pelas alterações nos mesmos dados feitos no Publicador e no Assinante.</span><span class="sxs-lookup"><span data-stu-id="e9dee-183">When a subscription to a merge publication is synchronized, replication checks for conflicts caused by changes to the same data made at both the Publisher and the Subscriber.</span></span> <span data-ttu-id="e9dee-184">Especifique se os conflitos serão detectados no nível da linha, onde todas as alterações de linha são consideradas conflito, ou no nível da coluna, onde apenas as alterações da mesma linha e da coluna são consideradas conflito.</span><span class="sxs-lookup"><span data-stu-id="e9dee-184">You can specify whether conflicts are detected at the row-level, where any change to the row is considered a conflict, or column-level, where only changes to the same row and column are considered a conflict.</span></span> <span data-ttu-id="e9dee-185">A resolução de conflitos para artigos é realizada no nível da linha.</span><span class="sxs-lookup"><span data-stu-id="e9dee-185">Conflict resolution for articles is performed at the row-level.</span></span> <span data-ttu-id="e9dee-186">Para obter mais informações sobre a detecção e a resolução de conflitos quando registros lógicos são usados, consulte [Detecting and Resolving Conflicts in Logical Records](../merge/advanced-merge-replication-conflict-resolving-in-logical-record.md).</span><span class="sxs-lookup"><span data-stu-id="e9dee-186">For more information about conflict detection and resolution when logical records are used, see [Detecting and Resolving Conflicts in Logical Records](../merge/advanced-merge-replication-conflict-resolving-in-logical-record.md).</span></span>  
  

  
###  <a name="limitations-and-restrictions"></a><a name="Restrictions"></a> <span data-ttu-id="e9dee-187">Limitações e restrições</span><span class="sxs-lookup"><span data-stu-id="e9dee-187">Limitations and Restrictions</span></span>  
  
-   <span data-ttu-id="e9dee-188">Se você alterar o nível de controle depois de inicializadas as assinaturas, essas assinaturas deverão ser reinicializadas.</span><span class="sxs-lookup"><span data-stu-id="e9dee-188">If you modify the tracking level after subscriptions have been initialized, those subscriptions must be reinitialized.</span></span> <span data-ttu-id="e9dee-189">Para obter mais informações sobre os efeitos das alterações de propriedades, consulte [Alterar propriedades da publicação e do artigo](../publish/change-publication-and-article-properties.md).</span><span class="sxs-lookup"><span data-stu-id="e9dee-189">For more information about the effects of property changes, see [Change Publication and Article Properties](../publish/change-publication-and-article-properties.md).</span></span>    
-   <span data-ttu-id="e9dee-190">Com controle em nível de linha e de coluna, a resolução de conflito é sempre feita em nível de linha: a linha vencedora substitui a perdedora.</span><span class="sxs-lookup"><span data-stu-id="e9dee-190">With row- and column-level tracking, conflict resolution is always performed at the row-level: the winning row overwrites the losing row.</span></span> <span data-ttu-id="e9dee-191">A replicação de mesclagem também permite especificar que os conflitos sejam rastreados e resolvidos em nível de registro lógico, mas essas opções não estão disponíveis no [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)].</span><span class="sxs-lookup"><span data-stu-id="e9dee-191">Merge replication also allows you to specify that conflicts be tracked and resolved at the logical record level, but these options are not available from [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)].</span></span> <span data-ttu-id="e9dee-192">Para obter informações sobre como definir essas opções de procedimentos armazenados de [replicação, consulte definir uma relação de registro lógico](../publish/define-a-logical-record-relationship-between-merge-table-articles.md)entre artigos de tabela de mesclagem.</span><span class="sxs-lookup"><span data-stu-id="e9dee-192">For information about setting these options from replication stored procedures, see [Define a Logical Record Relationship Between Merge Table Articles](../publish/define-a-logical-record-relationship-between-merge-table-articles.md).</span></span>  
  
###  <a name="using-sql-server-management-studio"></a><a name="SSMSProcedure"></a> <span data-ttu-id="e9dee-193">Usando o SQL Server Management Studio</span><span class="sxs-lookup"><span data-stu-id="e9dee-193">Using SQL Server Management Studio</span></span>  
 <span data-ttu-id="e9dee-194">Especifique o nível de linha ou coluna de rastreamento para mesclar artigos na guia **Propriedades** da caixa de diálogo **Propriedades do Artigo**, que está disponível no Assistente para Nova Publicação e a caixa de diálogo **Propriedades da Publicação – \<Publication>** .</span><span class="sxs-lookup"><span data-stu-id="e9dee-194">Specify row- or column-level tracking for merge articles on the **Properties** tab of the **Article Properties** dialog box, which is available in the New Publication Wizard and the **Publication Properties - \<Publication>** dialog box.</span></span> <span data-ttu-id="e9dee-195">Para obter mais informações sobre como usar o assistente e acessar a caixa de diálogo, consulte [Criar uma publicação](create-a-publication.md) e [Exibir e modificar as propriedades da publicação](../publish/view-and-modify-publication-properties.md).</span><span class="sxs-lookup"><span data-stu-id="e9dee-195">For more information about using the wizard and accessing the dialog box, see [Create a Publication](create-a-publication.md) and [View and Modify Publication Properties](../publish/view-and-modify-publication-properties.md).</span></span>  
  
#### <a name="specify-row--or-column-level-tracking"></a><span data-ttu-id="e9dee-196">Especificar acompanhamento em nível de linha ou de coluna</span><span class="sxs-lookup"><span data-stu-id="e9dee-196">Specify row- or column-level tracking</span></span>  
  
1.  <span data-ttu-id="e9dee-197">Na página **Artigos** do Assistente para Nova Publicação ou na caixa de diálogo **Propriedades da Publicação – \<Publication>** , selecione uma tabela.</span><span class="sxs-lookup"><span data-stu-id="e9dee-197">On the **Articles** page of the New Publication Wizard or the **Publication Properties - \<Publication>** dialog box, select a table.</span></span>    
2.  <span data-ttu-id="e9dee-198">Clique em **Propriedades de Artigos**e então clique em **Definir Propriedades do Artigo Realçado da Tabela** ou **Definir Propriedades de Todos os Artigos da Tabela**.</span><span class="sxs-lookup"><span data-stu-id="e9dee-198">Click **Article Properties**, and then click **Set Properties of Highlighted Table Article** or **Set Properties of All Table Articles**.</span></span>   
3.  <span data-ttu-id="e9dee-199">Na guia **Propriedades** da caixa de diálogo **Propriedade do Artigo \<Article>** , selecione um dos seguintes valores para a propriedade **Nível de acompanhamento**: **Acompanhamento de nível de linha** ou **Acompanhamento em nível de coluna**.</span><span class="sxs-lookup"><span data-stu-id="e9dee-199">On the **Properties** tab of the **Article Properties \<Article>** dialog box, select one of the following values for the **Tracking level** property: **Row-level tracking** or **Column-level tracking**.</span></span>    
4.  <span data-ttu-id="e9dee-200">Se você estiver na caixa de diálogo **Propriedades da Publicação – \<Publication>** , clique em **OK** para salvar e fechar a caixa de diálogo.</span><span class="sxs-lookup"><span data-stu-id="e9dee-200">If you are in the **Publication Properties - \<Publication>** dialog box, click **OK** to save and close the dialog box.</span></span>  
  
###  <a name="using-transact-sql"></a><span data-ttu-id="e9dee-201">Usando o Transact-SQL</span><span class="sxs-lookup"><span data-stu-id="e9dee-201">Using Transact-SQL</span></span>  
  
#### <a name="specify-conflict-tracking-options-for-a-new-merge-article"></a><span data-ttu-id="e9dee-202">Especificar opções de acompanhamento de conflitos para um novo artigo de mesclagem</span><span class="sxs-lookup"><span data-stu-id="e9dee-202">Specify conflict tracking options for a new merge article</span></span>  
  
1.  <span data-ttu-id="e9dee-203">No Publicador do banco de dados de publicação, execute [sp_addmergearticle](/sql/relational-databases/system-stored-procedures/sp-addmergearticle-transact-sql) e especifique um dos seguintes valores para \*\* \@ column_tracking\*\*:</span><span class="sxs-lookup"><span data-stu-id="e9dee-203">At the Publisher on the publication database, execute [sp_addmergearticle](/sql/relational-databases/system-stored-procedures/sp-addmergearticle-transact-sql) and specify one of the following values for **\@column_tracking**:</span></span>  
  
    -   <span data-ttu-id="e9dee-204">**true** - Use controle no nível da coluna para o artigo.</span><span class="sxs-lookup"><span data-stu-id="e9dee-204">**true** - Use column-level tracking for the article.</span></span>    
    -   <span data-ttu-id="e9dee-205">**false** - Use controle no nível da linha, que é o padrão.</span><span class="sxs-lookup"><span data-stu-id="e9dee-205">**false** - Use row-level tracking, which is the default.</span></span>  
  
#### <a name="change-conflict-tracking-options-for-a-merge-article"></a><span data-ttu-id="e9dee-206">Alterar as opções de acompanhamento de conflito para um novo artigo de mesclagem</span><span class="sxs-lookup"><span data-stu-id="e9dee-206">Change conflict tracking options for a merge article</span></span>  
  
1.  <span data-ttu-id="e9dee-207">Para determinar as opções de rastreamento de conflito para um artigo de mesclagem, execute [sp_helpmergearticle](/sql/relational-databases/system-stored-procedures/sp-helpmergearticle-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="e9dee-207">To determine the conflict tracking options for a merge article, execute [sp_helpmergearticle](/sql/relational-databases/system-stored-procedures/sp-helpmergearticle-transact-sql).</span></span> <span data-ttu-id="e9dee-208">Observe o valor da opção **column_tracking** no conjunto de resultados do artigo.</span><span class="sxs-lookup"><span data-stu-id="e9dee-208">Note the value of the **column_tracking** option in the result set for the article.</span></span> <span data-ttu-id="e9dee-209">Um valor de **1** significa que o controle no nível da coluna está em uso, e o valor de **0** significa que o controle no nível da linha está em uso.</span><span class="sxs-lookup"><span data-stu-id="e9dee-209">A value of **1** means that column-level tracking is being used, and a value of **0** means that row-level tracking is being used.</span></span>    
2.  <span data-ttu-id="e9dee-210">No Publicador do banco de dados de publicação, execute [sp_changemergearticle](/sql/relational-databases/system-stored-procedures/sp-changemergearticle-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="e9dee-210">At the Publisher on the publication database, execute [sp_changemergearticle](/sql/relational-databases/system-stored-procedures/sp-changemergearticle-transact-sql).</span></span> <span data-ttu-id="e9dee-211">Especifique um valor de **column_tracking** para \*\* \@ Propriedade\*\* e um dos seguintes valores para \*\* \@ valor\*\*:</span><span class="sxs-lookup"><span data-stu-id="e9dee-211">Specify a value of **column_tracking** for **\@property** and one of the following values for **\@value**:</span></span>
    -   <span data-ttu-id="e9dee-212">**true** - Use controle no nível da coluna para o artigo.</span><span class="sxs-lookup"><span data-stu-id="e9dee-212">**true** - Use column-level tracking for the article.</span></span>
    -   <span data-ttu-id="e9dee-213">**false** - Use controle no nível da linha, que é o padrão.</span><span class="sxs-lookup"><span data-stu-id="e9dee-213">**false** - Use row-level tracking, which is the default.</span></span>  
  
     <span data-ttu-id="e9dee-214">Especifique um valor de **1** para \*\* \@ force_invalidate_snapshot\*\* e \*\* \@ force_reinit_subscription\*\*.</span><span class="sxs-lookup"><span data-stu-id="e9dee-214">Specify a value of **1** for both **\@force_invalidate_snapshot** and **\@force_reinit_subscription**.</span></span>  

## <a name="tracking-deletes"></a><span data-ttu-id="e9dee-215">Acompanhamento de exclusões</span><span class="sxs-lookup"><span data-stu-id="e9dee-215">Tracking deletes</span></span>

> [!NOTE]  
>  [!INCLUDE[ssNoteDepFutureAvoid](../../../includes/ssnotedepfutureavoid-md.md)]  
  
 <span data-ttu-id="e9dee-216">Por padrão, a replicação de mesclagem sincroniza comandos DELETE entre o Publicador e o Assinante.</span><span class="sxs-lookup"><span data-stu-id="e9dee-216">By default, merge replication synchronizes DELETE commands between the Publisher and Subscriber.</span></span> <span data-ttu-id="e9dee-217">A replicação de mesclagem permite que as linhas sejam retidas no banco de dados de assinatura mesmo após terem sido excluídas da publicação e vice-versa.</span><span class="sxs-lookup"><span data-stu-id="e9dee-217">Merge replication enables you to retain rows in the subscription database even when they have been deleted from the publication, and vice versa.</span></span> <span data-ttu-id="e9dee-218">Especifique de forma programática que os comandos DELETE sejam ignorados durante a criação de um novo artigo ou habilite essa funcionalidade posteriormente, usando procedimentos armazenados de replicação.</span><span class="sxs-lookup"><span data-stu-id="e9dee-218">You can programmatically specify that DELETE commands be ignored when creating a new article or you can enable this functionality at a later time using replication stored procedures.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="e9dee-219">Habilitar essa funcionalidade resultará em não convergência, o que significa que os dados presentes no Assinante não refletirão dados no Publicador da forma correta.</span><span class="sxs-lookup"><span data-stu-id="e9dee-219">Enabling this functionality will result in non-convergence, which means that data present at the Subscriber will not accurately reflect data at the Publisher.</span></span> <span data-ttu-id="e9dee-220">É preciso implementar um mecanismo próprio para remover manualmente as linhas excluídas.</span><span class="sxs-lookup"><span data-stu-id="e9dee-220">You must implement your own mechanism for manually removing deleted rows.</span></span>  
  
### <a name="specify-that-deletes-be-ignored-for-a-new-merge-article"></a><span data-ttu-id="e9dee-221">Especificar que as exclusões sejam ignoradas para um novo artigo de mesclagem</span><span class="sxs-lookup"><span data-stu-id="e9dee-221">Specify that deletes be ignored for a new merge article</span></span>  
  
1.  <span data-ttu-id="e9dee-222">No Publicador no banco de dados de publicação, execute o [sp_addmergearticle &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-addmergearticle-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="e9dee-222">At the Publisher on the publication database, execute [sp_addmergearticle &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-addmergearticle-transact-sql).</span></span> <span data-ttu-id="e9dee-223">Especifique um valor de `false` para \*\* \@ delete_tracking\*\*.</span><span class="sxs-lookup"><span data-stu-id="e9dee-223">Specify a value of `false` for **\@delete_tracking**.</span></span> <span data-ttu-id="e9dee-224">Para obter mais informações, consulte [Define an Article](../publish/define-an-article.md).</span><span class="sxs-lookup"><span data-stu-id="e9dee-224">For more information, see [Define an Article](../publish/define-an-article.md).</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="e9dee-225">Se a tabela de fonte de um artigo já estiver publicada em outra publicação, o valor de **delete_tracking** deverá ser o mesmo de ambos os artigos.</span><span class="sxs-lookup"><span data-stu-id="e9dee-225">If the source table for an article is already published in another publication, the value of **delete_tracking** must be the same for both articles.</span></span>  
  
### <a name="specify-that-deletes-be-ignored-for-an-existing-merge-article"></a><span data-ttu-id="e9dee-226">Especificar que as exclusões sejam ignoradas para um artigo de mesclagem existente</span><span class="sxs-lookup"><span data-stu-id="e9dee-226">Specify that deletes be ignored for an existing merge article</span></span>  
  
1.  <span data-ttu-id="e9dee-227">Para determinar se a compensação de erro está habilitada para um artigo, execute [sp_helpmergearticle &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-helpmergearticle-transact-sql) e observe o valor de **delete_tracking** no conjunto de resultados.</span><span class="sxs-lookup"><span data-stu-id="e9dee-227">To determine if error compensation is enabled for an article, execute [sp_helpmergearticle &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-helpmergearticle-transact-sql) and note the value of **delete_tracking** in the result set.</span></span> <span data-ttu-id="e9dee-228">Se este valor for **0**, as exclusões já estão sendo ignoradas.</span><span class="sxs-lookup"><span data-stu-id="e9dee-228">If this value is **0**, deletes are already being ignored.</span></span>    
2.  <span data-ttu-id="e9dee-229">Se o valor da etapa 1 for **1**, execute [sp_changemergearticle &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-changemergearticle-transact-sql) no Publicador do banco de dados de publicação.</span><span class="sxs-lookup"><span data-stu-id="e9dee-229">If the value from step 1 is **1**, execute [sp_changemergearticle &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-changemergearticle-transact-sql) at the Publisher on the publication database.</span></span> <span data-ttu-id="e9dee-230">Especifique um valor de **delete_tracking** para \*\* \@ Propriedade**e um valor de `false` para \*\* \@ valor**.</span><span class="sxs-lookup"><span data-stu-id="e9dee-230">Specify a value of **delete_tracking** for **\@property**, and a value of `false` for **\@value**.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="e9dee-231">Se a tabela de fonte de um artigo já estiver publicada em outra publicação, o valor de **delete_tracking** deverá ser o mesmo de ambos os artigos.</span><span class="sxs-lookup"><span data-stu-id="e9dee-231">If the source table for an article is already published in another publication, the value of **delete_tracking** must be the same for both articles.</span></span>  
  
## <a name="processing-order"></a><span data-ttu-id="e9dee-232">Ordem de processamento</span><span class="sxs-lookup"><span data-stu-id="e9dee-232">Processing Order</span></span>
  <span data-ttu-id="e9dee-233">A replicação de mesclagem permite que você especifique a ordem em que artigos são processados pelo Agente de Mesclagem durante o processo de sincronização.</span><span class="sxs-lookup"><span data-stu-id="e9dee-233">Merge replication enables you to specify the order in which articles are processed by the Merge Agent during the synchronization process.</span></span> <span data-ttu-id="e9dee-234">Você pode atribuir uma ordem a cada artigo programaticamente ao criar um artigo usando procedimentos armazenados de replicação.</span><span class="sxs-lookup"><span data-stu-id="e9dee-234">You can assign an order to each article programmatically when creating an article using replication stored procedures.</span></span> <span data-ttu-id="e9dee-235">Os artigos são processados em ordem crescente de valores.</span><span class="sxs-lookup"><span data-stu-id="e9dee-235">Articles are processed in order from lowest to highest value.</span></span> <span data-ttu-id="e9dee-236">Se dois artigos tiverem o mesmo valor, serão processados simultaneamente.</span><span class="sxs-lookup"><span data-stu-id="e9dee-236">If two articles have the same value, they are processed concurrently.</span></span> <span data-ttu-id="e9dee-237">Para obter mais informações, confira [propriedades de Especificar Replicação de Mesclagem](../publish/specify-merge-replication-properties.md).</span><span class="sxs-lookup"><span data-stu-id="e9dee-237">For more information, see [Specify Merge Replication properties](../publish/specify-merge-replication-properties.md).</span></span>  

  <span data-ttu-id="e9dee-238">A partir do [!INCLUDE[msCoName](../../../includes/msconame-md.md)] [!INCLUDE[ssVersion2005](../../../includes/ssversion2005-md.md)] , é possível substituir a ordem padrão de processamento de artigos para publicações de mesclagem.</span><span class="sxs-lookup"><span data-stu-id="e9dee-238">Beginning with [!INCLUDE[msCoName](../../../includes/msconame-md.md)] [!INCLUDE[ssVersion2005](../../../includes/ssversion2005-md.md)], it is possible to override the default order of article processing for merge publications.</span></span> <span data-ttu-id="e9dee-239">Isso é útil, por exemplo, se você definir a integridade referencial por meio de gatilhos e esses gatilhos precisarem ser acionados em uma determinada ordem.</span><span class="sxs-lookup"><span data-stu-id="e9dee-239">This is useful, for example, if you define referential integrity through triggers and those triggers must fire in a certain order.</span></span> 

### <a name="how-processing-order-is-determined"></a><span data-ttu-id="e9dee-240">Como a ordem de processamento é determinada</span><span class="sxs-lookup"><span data-stu-id="e9dee-240">How Processing Order is Determined</span></span>  
 <span data-ttu-id="e9dee-241">Durante a sincronização da mesclagem, os artigos são, por padrão, processados na ordem exigida pelas dependências entre objetos, incluindo as limitações de integridade referencial declarativa (DRI) definidas nas tabelas de base.</span><span class="sxs-lookup"><span data-stu-id="e9dee-241">During merge synchronization, articles are, by default, processed in the order required by the dependencies between objects, including the declarative referential integrity (DRI) constraints defined on the base tables.</span></span> <span data-ttu-id="e9dee-242">O processamento envolve a enumeração das alterações em uma tabela e depois a aplicação dessas alterações.</span><span class="sxs-lookup"><span data-stu-id="e9dee-242">Processing involves enumerating the changes to a table and then applying those changes.</span></span> <span data-ttu-id="e9dee-243">Se não houver DRI presente, mas existirem filtros de junção ou registros lógicos entre artigos de tabela, os artigos serão processados na ordem exigida pelos filtros e registros lógicos.</span><span class="sxs-lookup"><span data-stu-id="e9dee-243">If no DRI is present but join filters or logical records exist between table articles, the articles are processed in the order required by the filters and logical records.</span></span> <span data-ttu-id="e9dee-244">Os artigos que não se relacionam a nenhum outro artigo por meio de DRI, filtros de junção, registros lógicos ou outras dependências serão processados segundo o apelido do artigo na tabela do sistema do [sysmergearticles &#40;Transact-SQL&#41;](/sql/relational-databases/system-tables/sysmergearticles-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="e9dee-244">Articles not related to any other article through DRI, join filters, logical records, or other dependencies are processed according to the article nickname in the [sysmergearticles &#40;Transact-SQL&#41;](/sql/relational-databases/system-tables/sysmergearticles-transact-sql) system table.</span></span>  
  
 <span data-ttu-id="e9dee-245">Considere uma publicação que inclua as tabelas **SalesOrderHeader** e **SalesOrderDetail** com uma coluna de chave primária **SalesOrderID** na tabela **SalesOrderHeader** e uma coluna de chave estrangeira correspondente **SalesOrderID** na tabela **SalesOrderDetail** .</span><span class="sxs-lookup"><span data-stu-id="e9dee-245">Consider a publication that includes the tables **SalesOrderHeader** and **SalesOrderDetail** with a primary key column **SalesOrderID** in the **SalesOrderHeader** table and a corresponding foreign key column **SalesOrderID** in the **SalesOrderDetail** table.</span></span> <span data-ttu-id="e9dee-246">Durante a sincronização, a replicação de mesclagem impede violações de chave estrangeira ao inserir qualquer linha nova em **SalesOrderHeader** antes de inserir linhas associadas em **SalesOrderDetail**.</span><span class="sxs-lookup"><span data-stu-id="e9dee-246">During synchronization, merge replication prevents foreign key violations by inserting any new rows in **SalesOrderHeader** before inserting associated rows in **SalesOrderDetail**.</span></span> <span data-ttu-id="e9dee-247">Do mesmo modo, linhas são excluídas de **SalesOrderDetail** antes de a linha associada ser excluída de **SalesOrderHeader**.</span><span class="sxs-lookup"><span data-stu-id="e9dee-247">Similarly, rows are deleted from **SalesOrderDetail** before the associated row is deleted from **SalesOrderHeader**.</span></span>  
  
 <span data-ttu-id="e9dee-248">Porém, em alguns aplicativos a integridade referencial é imposta por meio de gatilhos de banco de dados, ou no nível do aplicativo, e não por meio de DRI.</span><span class="sxs-lookup"><span data-stu-id="e9dee-248">However, in some applications referential integrity is enforced through database triggers, or at the application level, rather than through DRI.</span></span> <span data-ttu-id="e9dee-249">Considerando a publicação descrita acima, em vez de DRI, a tabela **SalesOrderDetail** poderia ter um gatilho de inserção que garanta que a linha associada na tabela **SalesOrderHeader** existe antes de permitir uma inserção.</span><span class="sxs-lookup"><span data-stu-id="e9dee-249">Given the publication described above, instead of DRI, the **SalesOrderDetail** table could have an insert trigger that ensures the associated row in the **SalesOrderHeader** table exists before allowing an insert.</span></span> <span data-ttu-id="e9dee-250">**SalesOrderHeader** poderia ter um gatilho de exclusão que garante que não há nenhuma linha associada em **SalesOrderDetail** antes de permitir uma exclusão.</span><span class="sxs-lookup"><span data-stu-id="e9dee-250">**SalesOrderHeader** could have a delete trigger that ensures there are no associated rows in **SalesOrderDetail** before allowing a delete.</span></span> <span data-ttu-id="e9dee-251">A replicação de mesclagem não leva em conta os gatilhos ao determinar a ordem de processamento de artigos porque não pode determinar qual será o resultado do gatilho até que ele tenha sido acionado.</span><span class="sxs-lookup"><span data-stu-id="e9dee-251">Merge replication does not take into account triggers when determining processing order of articles because it cannot determine what the result of the trigger will be until it has fired.</span></span> <span data-ttu-id="e9dee-252">Do mesmo modo, a replicação não pode levar em conta as restrições definidas no nível do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="e9dee-252">Similarly, replication cannot take into account constraints defined at the application level.</span></span>  
  
 <span data-ttu-id="e9dee-253">Quando a integridade referencial é mantida por meio de gatilhos ou no nível do aplicativo, você deve especificar a ordem em que os artigos devem ser processados.</span><span class="sxs-lookup"><span data-stu-id="e9dee-253">When referential integrity is maintained through triggers or at the application level, you should specify the order in which the articles should be processed.</span></span> <span data-ttu-id="e9dee-254">No exemplo com gatilhos, você especificaria que a tabela **SalesOrderHeader** deve ser processada antes de **SalesOrderDetail**, porque a ordem dos artigos é baseada na ordem de inserção.</span><span class="sxs-lookup"><span data-stu-id="e9dee-254">In the example with triggers, you would specify that the **SalesOrderHeader** table should be processed before **SalesOrderDetail**, because article ordering is based on insert order.</span></span> <span data-ttu-id="e9dee-255">A replicação de mesclagem inverterá a ordem automaticamente para as exclusões.</span><span class="sxs-lookup"><span data-stu-id="e9dee-255">Merge replication will automatically reverse the order for deletes.</span></span> <span data-ttu-id="e9dee-256">A replicação de mesclagem não apresentará falha sem a ordenação de artigos, porque o Merge Agent continua a processar os artigos se houver uma violação de restrição; depois do processamento de todos os outros artigos, ele tenta novamente as operações que apresentaram falha.</span><span class="sxs-lookup"><span data-stu-id="e9dee-256">Merge replication will not fail without article ordering, because the Merge Agent continues to process articles if a constraint violation occurs; it then retries any operations that failed after other articles have been processed.</span></span> <span data-ttu-id="e9dee-257">Especificar a ordem de artigos simplesmente evita as novas tentativas e o processamento adicional associado a elas.</span><span class="sxs-lookup"><span data-stu-id="e9dee-257">Specifying article order simply avoids retries and the additional processing associated with them.</span></span> <span data-ttu-id="e9dee-258">Se você especificar uma ordem incorreta (por exemplo, uma que faça com que os registros detalhados sejam processados antes dos registros do cabeçalho), a replicação de mesclagem irá tentar o processamento repetidamente, até obter êxito.</span><span class="sxs-lookup"><span data-stu-id="e9dee-258">If you specify an incorrect order (for example, one that results in detail records being processed before header records), merge replication will retry processing until it succeeds.</span></span>  

### <a name="new-article"></a><span data-ttu-id="e9dee-259">Novo artigo</span><span class="sxs-lookup"><span data-stu-id="e9dee-259">New Article</span></span>
  
1.  <span data-ttu-id="e9dee-260">No Publicador no banco de dados de publicação, execute o [sp_addmergearticle &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-addmergearticle-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="e9dee-260">At the Publisher on the publication database, execute [sp_addmergearticle &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-addmergearticle-transact-sql).</span></span> <span data-ttu-id="e9dee-261">Especifique um valor inteiro que representa a ordem de processamento do artigo para \*\* \@ processing_order\*\*.</span><span class="sxs-lookup"><span data-stu-id="e9dee-261">Specify an integer value that represents the processing order for the article for **\@processing_order**.</span></span> <span data-ttu-id="e9dee-262">Para obter mais informações, consulte [Define an Article](define-an-article.md).</span><span class="sxs-lookup"><span data-stu-id="e9dee-262">For more information, see [Define an Article](define-an-article.md).</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="e9dee-263">Ao criar artigos ordenados, você deverá deixar intervalos entre os valores de ordem de artigo.</span><span class="sxs-lookup"><span data-stu-id="e9dee-263">When creating ordered articles, you should leave gaps between the article order values.</span></span> <span data-ttu-id="e9dee-264">Isto facilitará a definição de novos valores no futuro.</span><span class="sxs-lookup"><span data-stu-id="e9dee-264">This makes it easier to set new values in the future.</span></span> <span data-ttu-id="e9dee-265">Por exemplo, se você tiver três artigos para os quais precisa especificar uma ordem de processamento fixa, defina o valor de \*\* \@ processing_order\*\* como 10, 20 e 30 em vez de 1, 2 e 3, respectivamente.</span><span class="sxs-lookup"><span data-stu-id="e9dee-265">For example, if you have three articles for which you need to specify a fixed processing order, set the value of **\@processing_order** to 10, 20, and 30 rather than 1, 2, and 3, respectively.</span></span>  
  
### <a name="existing-article"></a><span data-ttu-id="e9dee-266">Artigo existente</span><span class="sxs-lookup"><span data-stu-id="e9dee-266">Existing article</span></span>
  
1.  <span data-ttu-id="e9dee-267">Para determinar a ordem de processamento de um artigo, execute [sp_helpmergearticle &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-helpmergearticle-transact-sql) e observe o valor de **processing_order** no conjunto de resultados.</span><span class="sxs-lookup"><span data-stu-id="e9dee-267">To determine processing order of an article, execute [sp_helpmergearticle &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-helpmergearticle-transact-sql) and note the value of **processing_order** in the result set.</span></span>  
  
2.  <span data-ttu-id="e9dee-268">No Publicador no banco de dados de publicação, execute [sp_changemergearticle &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-changemergearticle-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="e9dee-268">At the Publisher on the publication database, execute [sp_changemergearticle &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-changemergearticle-transact-sql).</span></span> <span data-ttu-id="e9dee-269">Especifique um valor de **processing_order** para \*\* \@ Propriedade\*\* e um valor inteiro que representa a ordem de processamento para o \*\* \@ valor\*\*.</span><span class="sxs-lookup"><span data-stu-id="e9dee-269">Specify a value of **processing_order** for **\@property** and an integer value that represents the processing order for **\@value**.</span></span>  



## <a name="see-also"></a><span data-ttu-id="e9dee-270">Consulte Também</span><span class="sxs-lookup"><span data-stu-id="e9dee-270">See Also</span></span>  
 [<span data-ttu-id="e9dee-271">Otimizar o desempenho da replicação de mesclagem com o controle de exclusão condicional</span><span class="sxs-lookup"><span data-stu-id="e9dee-271">Optimize Merge Replication Performance with Conditional Delete Tracking</span></span>](../merge/optimize-merge-replication-performance-with-conditional-delete-tracking.md)  
 <span data-ttu-id="e9dee-272">[Detectando e resolvendo conflitos em registros lógicos](../merge/advanced-merge-replication-conflict-resolving-in-logical-record.md) </span><span class="sxs-lookup"><span data-stu-id="e9dee-272">[Detecting and Resolving Conflicts in Logical Records](../merge/advanced-merge-replication-conflict-resolving-in-logical-record.md) </span></span>  
 <span data-ttu-id="e9dee-273">[Define a Logical Record Relationship Between Merge Table Articles](define-a-logical-record-relationship-between-merge-table-articles.md) </span><span class="sxs-lookup"><span data-stu-id="e9dee-273">[Define a Logical Record Relationship Between Merge Table Articles](define-a-logical-record-relationship-between-merge-table-articles.md) </span></span>  
 <span data-ttu-id="e9dee-274">[Detectar e resolver conflitos de replicação de mesclagem](../merge/advanced-merge-replication-conflict-detection-and-resolution.md) </span><span class="sxs-lookup"><span data-stu-id="e9dee-274">[Detect and Resolve Merge Replication Conflicts](../merge/advanced-merge-replication-conflict-detection-and-resolution.md) </span></span>  
 <span data-ttu-id="e9dee-275">[Otimizar o desempenho da replicação de mesclagem com artigos de somente download](../merge/optimize-merge-replication-performance-with-download-only-articles.md) </span><span class="sxs-lookup"><span data-stu-id="e9dee-275">[Optimize Merge Replication Performance with Download-Only Articles](../merge/optimize-merge-replication-performance-with-download-only-articles.md) </span></span>  
 <span data-ttu-id="e9dee-276">[Define an Article](define-an-article.md) </span><span class="sxs-lookup"><span data-stu-id="e9dee-276">[Define an Article](define-an-article.md) </span></span>  
 [<span data-ttu-id="e9dee-277">Exibir e modificar as propriedades do artigo</span><span class="sxs-lookup"><span data-stu-id="e9dee-277">View and Modify Article Properties</span></span>](view-and-modify-article-properties.md)  