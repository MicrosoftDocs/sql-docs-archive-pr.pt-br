---
title: Gerenciar colunas de identidade | Microsoft Docs
ms.custom: ''
ms.date: 03/07/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: replication
ms.topic: conceptual
helpviewer_keywords:
- identity values [SQL Server replication]
- merge replication [SQL Server replication], identity range management
- publishing [SQL Server replication], identity columns
- transactional replication, identity range management
- identity columns [SQL Server], replication
ms.assetid: 98892836-cf63-494a-bd5d-6577d9810ddf
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: 1b9a7b28c288ef80d24fb67479727d94c3c09fa5
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87569340"
---
# <a name="manage-identity-columns"></a><span data-ttu-id="0f6b4-102">Gerenciar colunas de identidade</span><span class="sxs-lookup"><span data-stu-id="0f6b4-102">Manage Identity Columns</span></span>
  <span data-ttu-id="0f6b4-103">Este tópico descreve como gerenciar colunas de identidade no [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] usando o [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)] ou o [!INCLUDE[tsql](../../../includes/tsql-md.md)].</span><span class="sxs-lookup"><span data-stu-id="0f6b4-103">This topic describes how to manage identity columns in [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] by using [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)] or [!INCLUDE[tsql](../../../includes/tsql-md.md)].</span></span> <span data-ttu-id="0f6b4-104">Quando as inserções de Assinante são replicadas de volta ao Publicador, as colunas de identidade devem ser gerenciadas para evitar a atribuição do mesmo valor de identidade para o Assinante e o Publicador.</span><span class="sxs-lookup"><span data-stu-id="0f6b4-104">When Subscriber inserts are replicated back to the Publisher, identity columns must be managed to avoid assignment of the same identity value at both the Subscriber and Publisher.</span></span> <span data-ttu-id="0f6b4-105">A Replicação pode gerenciar intervalos de identidade automaticamente ou você pode escolher controlar o gerenciamento de intervalo de identidade manualmente.</span><span class="sxs-lookup"><span data-stu-id="0f6b4-105">Replication can manage identity ranges automatically or you can choose to manually handle identity range management.</span></span>  <span data-ttu-id="0f6b4-106">Para obter informações sobre as opções de gerenciamento de intervalos de identidade fornecidas pela replicação, consulte [Replicar colunas de identidade](replicate-identity-columns.md).</span><span class="sxs-lookup"><span data-stu-id="0f6b4-106">For information about the identity range management options provided by replication, see [Replicate Identity Columns](replicate-identity-columns.md).</span></span>  
  
  
##  <a name="before-you-begin"></a><a name="BeforeYouBegin"></a> <span data-ttu-id="0f6b4-107">Antes de começar</span><span class="sxs-lookup"><span data-stu-id="0f6b4-107">Before You Begin</span></span>  
  
###  <a name="recommendations"></a><a name="Recommendations"></a> <span data-ttu-id="0f6b4-108">Recomendações</span><span class="sxs-lookup"><span data-stu-id="0f6b4-108">Recommendations</span></span>  
  
-   <span data-ttu-id="0f6b4-109">Ao publicar uma tabela em mais de uma publicação, você deve especificar as mesmas opções de gerenciamento do intervalo da identidade para ambas a publicações.</span><span class="sxs-lookup"><span data-stu-id="0f6b4-109">When publishing a table in more than one publication, you must specify the same identity range management options for both publications.</span></span> <span data-ttu-id="0f6b4-110">Para obter mais informações, consulte “Publicando tabelas em mais de uma publicação” em [Publicar dados e objetos de banco de dados](publish-data-and-database-objects.md).</span><span class="sxs-lookup"><span data-stu-id="0f6b4-110">For more information, see "Publishing Tables in More Than One Publication" in [Publish Data and Database Objects](publish-data-and-database-objects.md).</span></span>  
  
-   <span data-ttu-id="0f6b4-111">Para criar um número incrementado automaticamente, que possa ser usado em várias tabelas ou ser chamado de aplicativos, sem referenciar tabelas, consulte [Números de Sequência](../../sequence-numbers/sequence-numbers.md).</span><span class="sxs-lookup"><span data-stu-id="0f6b4-111">To create an automatically incrementing number that can be used in multiple tables or that can be called from applications without referencing any table, see [Sequence Numbers](../../sequence-numbers/sequence-numbers.md).</span></span>  
  
##  <a name="using-sql-server-management-studio"></a><a name="SSMSProcedure"></a> <span data-ttu-id="0f6b4-112">Usando o SQL Server Management Studio</span><span class="sxs-lookup"><span data-stu-id="0f6b4-112">Using SQL Server Management Studio</span></span>  
 <span data-ttu-id="0f6b4-113">Especifique uma opção de gerenciamento de colunas de identidade na guia **Propriedades** da caixa de diálogo **Propriedades do Artigo – \<Article>** do Assistente para Nova Publicação.</span><span class="sxs-lookup"><span data-stu-id="0f6b4-113">Specify an identity column management option on the **Properties** tab of the **Article Properties -\<Article>** dialog box of the New Publication Wizard.</span></span> <span data-ttu-id="0f6b4-114">Para obter mais informações sobre como usar esse assistente, consulte [Criar uma publicação](create-a-publication.md).</span><span class="sxs-lookup"><span data-stu-id="0f6b4-114">For more information about using this wizard, see [Create a Publication](create-a-publication.md).</span></span> <span data-ttu-id="0f6b4-115">No Assistente para Nova Publicação:</span><span class="sxs-lookup"><span data-stu-id="0f6b4-115">In the New Publication Wizard:</span></span>  
  
-   <span data-ttu-id="0f6b4-116">Se você selecionar **Publicação de mesclagem** ou **Publicação transacional com assinaturas atualizáveis** na página **Tipo de Publicação** , selecione gerenciamento automático ou manual do intervalo de identidades (automático, o padrão, é o recomendado).</span><span class="sxs-lookup"><span data-stu-id="0f6b4-116">If you select **Merge publication** or **Transactional publication with updating subscriptions** on the **Publication Type** page, select automatic or manual identity range management (automatic, the default, is recommended).</span></span> <span data-ttu-id="0f6b4-117">Depois que a tabela é publicada, a propriedade não pode ser modificada, mas outras propriedades relacionadas a ela, sim.</span><span class="sxs-lookup"><span data-stu-id="0f6b4-117">After the table is published, the property cannot be modified, but other related properties can be modified.</span></span>  
  
-   <span data-ttu-id="0f6b4-118">Se você selecionar outros tipos de publicação, o gerenciamento de intervalo de identidade deve ser definido como manual.</span><span class="sxs-lookup"><span data-stu-id="0f6b4-118">If you select other publication types, identity range management should be set to manual.</span></span>  
  
 <span data-ttu-id="0f6b4-119">Modifique os intervalos e limites de identidade na guia **Propriedades** de **Propriedades do Artigo –\<Article>** , que está disponível na caixa de diálogo **Propriedades da Publicação – \<Publication>** .</span><span class="sxs-lookup"><span data-stu-id="0f6b4-119">Modify identity ranges and thresholds on the **Properties** tab of the **Article Properties -\<Article>**, which is available in the **Publication Properties - \<Publication>** dialog box.</span></span> <span data-ttu-id="0f6b4-120">Para obter mais informações sobre como acessar essa caixa de diálogo, consulte [View and Modify Publication Properties](view-and-modify-publication-properties.md).</span><span class="sxs-lookup"><span data-stu-id="0f6b4-120">For more information about accessing this dialog box, see [View and Modify Publication Properties](view-and-modify-publication-properties.md).</span></span>  
  
#### <a name="to-specify-an-identity-column-management-option"></a><span data-ttu-id="0f6b4-121">Para especificar uma opção de gerenciamento de coluna de identidade</span><span class="sxs-lookup"><span data-stu-id="0f6b4-121">To specify an identity column management option</span></span>  
  
1.  <span data-ttu-id="0f6b4-122">Se o Publicador estiver executando uma versão do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] anterior à [!INCLUDE[ssVersion2005](../../../includes/ssversion2005-md.md)], na página **Tipo de Publicação** do Assistente para Nova Publicação, selecione **Publicação de mesclagem** ou **Publicação transacional com assinaturas atualizáveis**.</span><span class="sxs-lookup"><span data-stu-id="0f6b4-122">If the Publisher is running a version of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] prior to [!INCLUDE[ssVersion2005](../../../includes/ssversion2005-md.md)], on the **Publication Type** page of the New Publication Wizard, select **Merge publication** or **Transactional publication with updating subscriptions**.</span></span>  
  
2.  <span data-ttu-id="0f6b4-123">Na página **Artigos** , selecione uma tabela com uma coluna de identidade.</span><span class="sxs-lookup"><span data-stu-id="0f6b4-123">On the **Articles** page, select a table with an identity column.</span></span>  
  
3.  <span data-ttu-id="0f6b4-124">Clique em **Propriedades do Artigo**e clique em **Definir Propriedades do Artigo Realçado da Tabela**.</span><span class="sxs-lookup"><span data-stu-id="0f6b4-124">Click **Article Properties**, and then click **Set Properties of Highlighted Table Article**.</span></span>  
  
4.  <span data-ttu-id="0f6b4-125">Na guia **Propriedades** da caixa de diálogo **Propriedades do Artigo – \<Article>** , na seção **Gerenciamento de Intervalos de Identidade**, defina a propriedade **Gerenciar automaticamente os intervalos de identidades** como **Automático** ou **Manual** (para Publicadores que executam o [!INCLUDE[ssVersion2005](../../../includes/ssversion2005-md.md)] ou posterior) ou **Verdadeiro** ou **Falso** (para Publicadores que executam uma versão do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] anterior a [!INCLUDE[ssVersion2005](../../../includes/ssversion2005-md.md)]).</span><span class="sxs-lookup"><span data-stu-id="0f6b4-125">On the **Properties** tab of the **Article Properties - \<Article>** dialog box, in the **Identity Range Management** section, set the **Automatically manage identity ranges** property to **Automatic** or **Manual** (for Publishers running [!INCLUDE[ssVersion2005](../../../includes/ssversion2005-md.md)] or later), or **True** or **False** (for Publishers running a version of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] prior to [!INCLUDE[ssVersion2005](../../../includes/ssversion2005-md.md)]).</span></span>  
  
5.  <span data-ttu-id="0f6b4-126">Se você selecionou **Automático** ou **Verdadeiro** na etapa 4, digite valores para as opções na tabela a seguir.</span><span class="sxs-lookup"><span data-stu-id="0f6b4-126">If you selected **Automatic** or **True** in step 4, enter values for the options in the following table.</span></span> <span data-ttu-id="0f6b4-127">Para obter mais informações sobre como essas configurações são usadas, consulte a seção “Atribuindo intervalos de identidade” de [Replicar colunas de identidade](replicate-identity-columns.md).</span><span class="sxs-lookup"><span data-stu-id="0f6b4-127">For more information on how these settings are used, see the "Assigning Identity Ranges" section of [Replicate Identity Columns](replicate-identity-columns.md).</span></span>  
  
    |<span data-ttu-id="0f6b4-128">Opção</span><span class="sxs-lookup"><span data-stu-id="0f6b4-128">Option</span></span>|<span data-ttu-id="0f6b4-129">Valor</span><span class="sxs-lookup"><span data-stu-id="0f6b4-129">Value</span></span>|<span data-ttu-id="0f6b4-130">Descrição</span><span class="sxs-lookup"><span data-stu-id="0f6b4-130">Description</span></span>|  
    |------------|-----------|-----------------|  
    |<span data-ttu-id="0f6b4-131">**Tamanho do intervalo do Publicador**</span><span class="sxs-lookup"><span data-stu-id="0f6b4-131">**Publisher range size**</span></span>|<span data-ttu-id="0f6b4-132">Valor inteiro para o tamanho do intervalo (por exemplo, 20000).</span><span class="sxs-lookup"><span data-stu-id="0f6b4-132">Integer value for range size (for example, 20000).</span></span>|<span data-ttu-id="0f6b4-133">Consulte a seção “Atribuindo intervalos de identidade” em [Replicar colunas de identidade](replicate-identity-columns.md).</span><span class="sxs-lookup"><span data-stu-id="0f6b4-133">See the "Assigning Identity Ranges" section of [Replicate Identity Columns](replicate-identity-columns.md).</span></span>|  
    |<span data-ttu-id="0f6b4-134">**Tamanho do intervalo do assinante**</span><span class="sxs-lookup"><span data-stu-id="0f6b4-134">**Subscriber range size**</span></span>|<span data-ttu-id="0f6b4-135">Valor inteiro para tamanho de intervalo (por exemplo, 10000).</span><span class="sxs-lookup"><span data-stu-id="0f6b4-135">Integer value for range size (for example, 10000).</span></span>|<span data-ttu-id="0f6b4-136">Consulte a seção “Atribuindo intervalos de identidade” em [Replicar colunas de identidade](replicate-identity-columns.md).</span><span class="sxs-lookup"><span data-stu-id="0f6b4-136">See the "Assigning Identity Ranges" section of [Replicate Identity Columns](replicate-identity-columns.md).</span></span>|  
    |<span data-ttu-id="0f6b4-137">**Porcentagem do limite de intervalo**</span><span class="sxs-lookup"><span data-stu-id="0f6b4-137">**Range threshold percentage**</span></span>|<span data-ttu-id="0f6b4-138">Valor inteiro para porcentagem do limite (por exemplo, 90 equivale a 90 por cento).</span><span class="sxs-lookup"><span data-stu-id="0f6b4-138">Integer value for percent threshold (for example, 90 is equivalent to 90 percent).</span></span>|<span data-ttu-id="0f6b4-139">Porcentagem de valores de identidade totais usados em um nó antes que um novo intervalo de identidade seja atribuído.</span><span class="sxs-lookup"><span data-stu-id="0f6b4-139">Percent of total identity values used at a node before a new identity range is assigned.</span></span><br /><br /> <span data-ttu-id="0f6b4-140">Observação: Observação: esse valor deve ser especificado, mas é usado somente por: assinantes usando assinaturas de atualização enfileiradas e Assinantes para publicações de mesclagem executando [!INCLUDE[ssEW](../../../includes/ssew-md.md)] ou versões anteriores de outras edições do SQL Server.</span><span class="sxs-lookup"><span data-stu-id="0f6b4-140">Note: This value must be specified, but it is only used by: Subscribers using queued updating subscriptions; and Subscribers to merge publications running [!INCLUDE[ssEW](../../../includes/ssew-md.md)] or previous versions of other SQL Server editions.</span></span> <span data-ttu-id="0f6b4-141">Para obter mais informações, consulte a seção “Atribuindo intervalos de identidade” de [Replicar colunas de identidade](replicate-identity-columns.md).</span><span class="sxs-lookup"><span data-stu-id="0f6b4-141">For more information, see the "Assigning Identity Ranges" section of [Replicate Identity Columns](replicate-identity-columns.md).</span></span>|  
    |<span data-ttu-id="0f6b4-142">**Valor inicial do intervalo seguinte**</span><span class="sxs-lookup"><span data-stu-id="0f6b4-142">**Next range starting value**</span></span>|<span data-ttu-id="0f6b4-143">Valor inteiro.</span><span class="sxs-lookup"><span data-stu-id="0f6b4-143">Integer value.</span></span> <span data-ttu-id="0f6b4-144">Somente leitura.</span><span class="sxs-lookup"><span data-stu-id="0f6b4-144">Read-only.</span></span>|<span data-ttu-id="0f6b4-145">O valor no qual o próximo intervalo terá início.</span><span class="sxs-lookup"><span data-stu-id="0f6b4-145">The value at which the next range will start.</span></span> <span data-ttu-id="0f6b4-146">Por exemplo, se o intervalo atual for 5001-6000, esse valor será 6001.</span><span class="sxs-lookup"><span data-stu-id="0f6b4-146">For example, if the current range is 5001-6000, this value will be 6001.</span></span>|  
    |<span data-ttu-id="0f6b4-147">**Valor de identidade máximo**</span><span class="sxs-lookup"><span data-stu-id="0f6b4-147">**Maximum identity value**</span></span>|<span data-ttu-id="0f6b4-148">Valor inteiro.</span><span class="sxs-lookup"><span data-stu-id="0f6b4-148">Integer value.</span></span> <span data-ttu-id="0f6b4-149">Somente leitura.</span><span class="sxs-lookup"><span data-stu-id="0f6b4-149">Read-only.</span></span>|<span data-ttu-id="0f6b4-150">O valor maior para a coluna de identidade.</span><span class="sxs-lookup"><span data-stu-id="0f6b4-150">The largest value for the identity column.</span></span> <span data-ttu-id="0f6b4-151">Determinado pelo tipo de dados base da coluna.</span><span class="sxs-lookup"><span data-stu-id="0f6b4-151">Determined by the base data type of the column.</span></span>|  
    |<span data-ttu-id="0f6b4-152">**Incremento**</span><span class="sxs-lookup"><span data-stu-id="0f6b4-152">**Increment**</span></span>|<span data-ttu-id="0f6b4-153">Valor inteiro.</span><span class="sxs-lookup"><span data-stu-id="0f6b4-153">Integer value.</span></span> <span data-ttu-id="0f6b4-154">Somente leitura.</span><span class="sxs-lookup"><span data-stu-id="0f6b4-154">Read-only.</span></span>|<span data-ttu-id="0f6b4-155">A quantidade pela qual o número na coluna de identidade deve ser aumentado ou diminuído para cada inserção: normalmente definido como 1.</span><span class="sxs-lookup"><span data-stu-id="0f6b4-155">The amount by which the number in the identity column should increase or decrease for each insert: typically set to 1.</span></span>|  
  
6.  [!INCLUDE[clickOK](../../../includes/clickok-md.md)]  
  
#### <a name="to-modify-identity-ranges-and-thresholds-after-a-table-is-published"></a><span data-ttu-id="0f6b4-156">Para modificar intervalos de identidade e limites depois que uma tabela é publicada</span><span class="sxs-lookup"><span data-stu-id="0f6b4-156">To modify identity ranges and thresholds after a table is published</span></span>  
  
1.  <span data-ttu-id="0f6b4-157">Na página **Artigos** da caixa de diálogo **Propriedades da Publicação – \<Publication>** , selecione uma tabela com uma coluna de identidade.</span><span class="sxs-lookup"><span data-stu-id="0f6b4-157">On the **Articles** page of the **Publication Properties - \<Publication>** dialog box, select a table with an identity column.</span></span>  
  
2.  <span data-ttu-id="0f6b4-158">Clique em **Propriedades do Artigo**e clique em **Definir Propriedades do Artigo Realçado da Tabela**.</span><span class="sxs-lookup"><span data-stu-id="0f6b4-158">Click **Article Properties**, and then click **Set Properties of Highlighted Table Article**.</span></span>  
  
3.  <span data-ttu-id="0f6b4-159">Na guia **Propriedades** da caixa de diálogo **Propriedades do Artigo – \<Article>** , na seção **Gerenciamento de Intervalos de Identidade**, insira valores para uma ou mais das seguintes propriedades: **Tamanho do intervalo do Publicador**, **Tamanho do intervalo do Assinante** e **Percentual do limite de intervalo**.</span><span class="sxs-lookup"><span data-stu-id="0f6b4-159">On the **Properties** tab of the **Article Properties - \<Article>** dialog box, in the **Identity Range Management** section, enter values for one or more of the following properties: **Publisher range size**, **Subscriber range size**, and **Range threshold percentage**.</span></span>  
  
4.  [!INCLUDE[clickOK](../../../includes/clickok-md.md)]  
  
5.  <span data-ttu-id="0f6b4-160">Clique em **OK** na caixa de diálogo **Propriedades da Publicação – \<Publication>** .</span><span class="sxs-lookup"><span data-stu-id="0f6b4-160">Click **OK** on the **Publication Properties - \<Publication>** dialog box.</span></span>  
  
##  <a name="using-transact-sql"></a><a name="TsqlProcedure"></a> <span data-ttu-id="0f6b4-161">Usando o Transact-SQL</span><span class="sxs-lookup"><span data-stu-id="0f6b4-161">Using Transact-SQL</span></span>  
 <span data-ttu-id="0f6b4-162">Você pode usar os procedimentos armazenados de replicação para especificar as opções de gerenciamento de intervalo da identidade, quando um artigo é criado.</span><span class="sxs-lookup"><span data-stu-id="0f6b4-162">You can use replication stored procedures to specify identity range management options when an article is created.</span></span>  
  
#### <a name="to-enable-automatic-identity-range-management-when-defining-articles-for-a-transactional-publication"></a><span data-ttu-id="0f6b4-163">Para habilitar o gerenciamento automático de intervalo de identidade ao definir artigos para uma publicação transacional</span><span class="sxs-lookup"><span data-stu-id="0f6b4-163">To enable automatic identity range management when defining articles for a transactional publication</span></span>  
  
1.  <span data-ttu-id="0f6b4-164">No Publicador do banco de dados de publicação, execute [sp_addarticle](/sql/relational-databases/system-stored-procedures/sp-addarticle-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="0f6b4-164">At the Publisher on the publication database, execute [sp_addarticle](/sql/relational-databases/system-stored-procedures/sp-addarticle-transact-sql).</span></span> <span data-ttu-id="0f6b4-165">Se a tabela de origem que está sendo publicada tiver uma coluna de identidade, especifique um valor igual a **auto** em **\@identityrangemanagementoption**, o intervalo de valores de identidade atribuído ao Publicador em **\@pub_identity_range**, o intervalo de valores de identidade atribuído a cada Assinante em **\@identity_range** e o percentual do total dos valores de identidade usados, antes que um novo intervalo de identidade seja atribuído a **\@threshold**.</span><span class="sxs-lookup"><span data-stu-id="0f6b4-165">If the source table being published has an identity column, specify a value of **auto** for **\@identityrangemanagementoption**, the range of identity values assigned to the Publisher for **\@pub_identity_range**, the range of identity values assigned to each Subscribers for **\@identity_range**, and the percent of total identity values used before a new identity range is assigned for **\@threshold**.</span></span> <span data-ttu-id="0f6b4-166">Para obter mais informações sobre como definir artigos, consulte [Definir um artigo](define-an-article.md).</span><span class="sxs-lookup"><span data-stu-id="0f6b4-166">For more information about defining articles, see [Define an Article](define-an-article.md).</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="0f6b4-167">Certifique-se de que os tipos de dados da coluna de identidade é grande o suficiente para oferece suporte a todos os intervalos de identidades atribuídas a todos os Assinantes.</span><span class="sxs-lookup"><span data-stu-id="0f6b4-167">Ensure that the data type of the identity column is large enough to support the total range of identities being assigned to all Subscribers.</span></span>  
  
#### <a name="to-disable-automatic-identity-range-management-when-defining-articles-for-a-transactional-publication"></a><span data-ttu-id="0f6b4-168">Para desabilitar o gerenciamento automático de intervalo de identidade ao definir artigos para uma publicação transacional</span><span class="sxs-lookup"><span data-stu-id="0f6b4-168">To disable automatic identity range management when defining articles for a transactional publication</span></span>  
  
1.  <span data-ttu-id="0f6b4-169">No Publicador do banco de dados de publicação, execute [sp_addarticle](/sql/relational-databases/system-stored-procedures/sp-addarticle-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="0f6b4-169">At the Publisher on the publication database, execute [sp_addarticle](/sql/relational-databases/system-stored-procedures/sp-addarticle-transact-sql).</span></span> <span data-ttu-id="0f6b4-170">Especifique um valor igual a **manual** em **\@identityrangemanagementoption**.</span><span class="sxs-lookup"><span data-stu-id="0f6b4-170">Specify a value of **manual** for **\@identityrangemanagementoption**.</span></span> <span data-ttu-id="0f6b4-171">Para obter mais informações sobre como definir artigos, consulte [Definir um artigo](define-an-article.md).</span><span class="sxs-lookup"><span data-stu-id="0f6b4-171">For more information about defining articles, see [Define an Article](define-an-article.md).</span></span>  
  
2.  <span data-ttu-id="0f6b4-172">Atribua intervalos às colunas de artigo de identidade no Assinante para evitar conflitos ao atualizar Assinantes.</span><span class="sxs-lookup"><span data-stu-id="0f6b4-172">Assign ranges to identity article columns at the Subscriber to avoid generating conflicts for updating Subscribers.</span></span> <span data-ttu-id="0f6b4-173">Para obter mais informações, consulte a seção sobre como atribuir intervalos para o gerenciamento manual de intervalos da identidade no tópico [Replicar colunas de identidade](replicate-identity-columns.md).</span><span class="sxs-lookup"><span data-stu-id="0f6b4-173">For more information, see the section on assigning ranges for manual identity range management in the topic [Replicate Identity Columns](replicate-identity-columns.md).</span></span>  
  
#### <a name="to-enable-automatic-identity-range-management-when-defining-articles-for-a-merge-publication"></a><span data-ttu-id="0f6b4-174">Para habilitar o gerenciamento automático de intervalo de identidade ao definir artigos para uma publicação de mesclagem</span><span class="sxs-lookup"><span data-stu-id="0f6b4-174">To enable automatic identity range management when defining articles for a merge publication</span></span>  
  
1.  <span data-ttu-id="0f6b4-175">No Publicador do banco de dados de publicação, execute o [sp_addmergearticle](/sql/relational-databases/system-stored-procedures/sp-addmergearticle-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="0f6b4-175">At the Publisher on the publication database, execute [sp_addmergearticle](/sql/relational-databases/system-stored-procedures/sp-addmergearticle-transact-sql).</span></span> <span data-ttu-id="0f6b4-176">Se a tabela de origem que está sendo publicada tiver uma coluna de identidade, especifique um valor igual a **auto** em **\@identityrangemanagementoption**, o intervalo de valores de identidade atribuído a uma assinatura do servidor em **\@pub_identity_range**, o intervalo de valores de identidade atribuído ao Publicador e a cada assinatura de cliente em **\@identity_range** e o percentual do total dos valores de identidade usados, antes que um novo intervalo de identidade seja atribuído a **\@threshold**.</span><span class="sxs-lookup"><span data-stu-id="0f6b4-176">If the source table being published has an identity column, specify a value of **auto** for **\@identityrangemanagementoption**, the range of identity values assigned to a server subscription for **\@pub_identity_range**, the range of identity values assigned to the Publisher and each client subscription for **\@identity_range**, and the percent of total identity values used before a new identity range is assigned for **\@threshold**.</span></span> <span data-ttu-id="0f6b4-177">Para obter mais informações sobre quando novos intervalos de identidade são atribuídos, consulte Atribuindo intervalos de identidade no tópico [Replicar colunas de identidade](replicate-identity-columns.md).</span><span class="sxs-lookup"><span data-stu-id="0f6b4-177">For more information on when new identity ranges are assigned, see Assigning Identity Ranges in the topic [Replicate Identity Columns](replicate-identity-columns.md).</span></span> <span data-ttu-id="0f6b4-178">Para obter mais informações sobre como definir artigos, consulte [Definir um artigo](define-an-article.md).</span><span class="sxs-lookup"><span data-stu-id="0f6b4-178">For more information about defining articles, see [Define an Article](define-an-article.md).</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="0f6b4-179">Certifique-se de que o tipo de dado da coluna de identidade é grande o suficiente para oferece suporte ao intervalo total de identidades atribuídas a todos os Assinantes, especialmente para Assinantes com assinaturas de servidor.</span><span class="sxs-lookup"><span data-stu-id="0f6b4-179">Ensure that the data type of the identity column is large enough to support the total range of identities being assigned to all Subscribers, particularly for Subscribers with server subscriptions.</span></span>  
  
#### <a name="to-disable-automatic-identity-range-management-when-defining-articles-for-a-merge-publication"></a><span data-ttu-id="0f6b4-180">Para desabilitar o gerenciamento automático de intervalo de identidade ao definir artigos para uma publicação de mesclagem</span><span class="sxs-lookup"><span data-stu-id="0f6b4-180">To disable automatic identity range management when defining articles for a merge publication</span></span>  
  
1.  <span data-ttu-id="0f6b4-181">No Publicador do banco de dados de publicação, execute o [sp_addmergearticle](/sql/relational-databases/system-stored-procedures/sp-addmergearticle-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="0f6b4-181">At the Publisher on the publication database, execute [sp_addmergearticle](/sql/relational-databases/system-stored-procedures/sp-addmergearticle-transact-sql).</span></span> <span data-ttu-id="0f6b4-182">Especifique um dos seguintes valores em **\@identityrangemanagementoption**:</span><span class="sxs-lookup"><span data-stu-id="0f6b4-182">Specify one of the following values for **\@identityrangemanagementoption**:</span></span>  
  
    -   <span data-ttu-id="0f6b4-183">**manual** - Os intervalos de identidade devem ser atribuídos manualmente para atualizar os Assinantes.</span><span class="sxs-lookup"><span data-stu-id="0f6b4-183">**manual** - Identity ranges must be assigned manually for updating Subscribers.</span></span>  
  
    -   <span data-ttu-id="0f6b4-184">**none** - As colunas de identidade no Publicador não serão definidas como colunas de identidade no Assinante.</span><span class="sxs-lookup"><span data-stu-id="0f6b4-184">**none** - Identity columns at the Publisher will not be defined as identity columns at the Subscriber.</span></span>  
  
     <span data-ttu-id="0f6b4-185">Para obter mais informações sobre como definir artigos, consulte [Definir um artigo](define-an-article.md).</span><span class="sxs-lookup"><span data-stu-id="0f6b4-185">For more information about defining articles, see [Define an Article](define-an-article.md).</span></span>  
  
2.  <span data-ttu-id="0f6b4-186">Atribua intervalos às colunas de artigo de identidade no Assinante para evitar conflitos ao atualizar Assinantes.</span><span class="sxs-lookup"><span data-stu-id="0f6b4-186">Assign ranges to identity article columns at the Subscriber to avoid generating conflicts for updating Subscribers.</span></span>  
  
#### <a name="to-change-automatic-identity-range-management-settings-for-an-existing-article-in-a-snapshot-or-transactional-publication"></a><span data-ttu-id="0f6b4-187">Para alterar as configurações de gerenciamento de intervalo da identidade para um artigo existente em um instantâneo ou publicação transacional</span><span class="sxs-lookup"><span data-stu-id="0f6b4-187">To change automatic identity range management settings for an existing article in a snapshot or transactional publication</span></span>  
  
1.  <span data-ttu-id="0f6b4-188">No Publicador do banco de dados de publicação, execute [sp_helparticle](/sql/relational-databases/system-stored-procedures/sp-helparticle-transact-sql) e observe o valor de **identityrangemanagementoption** no conjunto de resultados.</span><span class="sxs-lookup"><span data-stu-id="0f6b4-188">At the Publisher on the publication database, execute [sp_helparticle](/sql/relational-databases/system-stored-procedures/sp-helparticle-transact-sql) and note the value of **identityrangemanagementoption** in the result set.</span></span> <span data-ttu-id="0f6b4-189">Se esse valor for **0**, o gerenciamento de intervalo de identidade automático não estará habilitado.</span><span class="sxs-lookup"><span data-stu-id="0f6b4-189">If this value is **0**, automatic identity range management is not enabled.</span></span>  
  
2.  <span data-ttu-id="0f6b4-190">Se o valor de **identityrangemanagementoption** no conjunto de resultados for **1**, altere as configurações como segue:</span><span class="sxs-lookup"><span data-stu-id="0f6b4-190">If the value of **identityrangemanagementoption** in the result set is **1**, change the settings as follows:</span></span>  
  
    -   <span data-ttu-id="0f6b4-191">Para alterar os intervalos de identidade atribuídos, execute [sp_changearticle](/sql/relational-databases/system-stored-procedures/sp-changearticle-transact-sql) no Publicador do banco de dados de publicação.</span><span class="sxs-lookup"><span data-stu-id="0f6b4-191">To change the assigned identity ranges, execute [sp_changearticle](/sql/relational-databases/system-stored-procedures/sp-changearticle-transact-sql) at the Publisher on the publication database.</span></span> <span data-ttu-id="0f6b4-192">Especifique um valor igual a **identity_range** ou **pub_identity_range** em **\@property** e o novo valor de intervalo em **\@value**.</span><span class="sxs-lookup"><span data-stu-id="0f6b4-192">Specify a value of **identity_range** or **pub_identity_range** for **\@property** and the new range value for **\@value**.</span></span>  
  
    -   <span data-ttu-id="0f6b4-193">Para alterar o limite no qual os novos intervalos serão atribuídos, execute [sp_changearticle](/sql/relational-databases/system-stored-procedures/sp-changearticle-transact-sql) no Publicador do banco de dados de publicação.</span><span class="sxs-lookup"><span data-stu-id="0f6b4-193">To change the threshold at which new ranges are assigned, execute [sp_changearticle](/sql/relational-databases/system-stored-procedures/sp-changearticle-transact-sql) at the Publisher on the publication database.</span></span> <span data-ttu-id="0f6b4-194">Especifique um valor igual a **threshold** em **\@property** e o novo valor de limite em **\@value**.</span><span class="sxs-lookup"><span data-stu-id="0f6b4-194">Specify a value of **threshold** for **\@property** and the new threshold value for **\@value**.</span></span>  
  
#### <a name="to-change-automatic-identity-range-management-settings-for-an-existing-article-in-a-merge-publication"></a><span data-ttu-id="0f6b4-195">Para alterar automaticamente as configurações de gerenciamento de intervalo da identidade para um artigo existente em uma publicação de mesclagem</span><span class="sxs-lookup"><span data-stu-id="0f6b4-195">To change automatic identity range management settings for an existing article in a merge publication</span></span>  
  
1.  <span data-ttu-id="0f6b4-196">No Publicador do banco de dados de publicação, execute [sp_helpmergearticle](/sql/relational-databases/system-stored-procedures/sp-helpmergearticle-transact-sql) e observe o valor de **identity_support** no conjunto de resultado.</span><span class="sxs-lookup"><span data-stu-id="0f6b4-196">At the Publisher on the publication database, execute [sp_helpmergearticle](/sql/relational-databases/system-stored-procedures/sp-helpmergearticle-transact-sql) and note the value of **identity_support** in the result set.</span></span> <span data-ttu-id="0f6b4-197">Se esse valor for **0**, o gerenciamento de intervalo de identidade automático não estará habilitado.</span><span class="sxs-lookup"><span data-stu-id="0f6b4-197">If this value is **0**, automatic identity range management is not enabled.</span></span>  
  
2.  <span data-ttu-id="0f6b4-198">Se o valor de **identity_support** no conjunto de resultado é **1**, altere as configurações como segue:</span><span class="sxs-lookup"><span data-stu-id="0f6b4-198">If the value of **identity_support** in the result set is **1**, change the settings as follows:</span></span>  
  
    -   <span data-ttu-id="0f6b4-199">Para alterar os intervalos de identidade atribuídos, execute [sp_changemergearticle](/sql/relational-databases/system-stored-procedures/sp-changemergearticle-transact-sql) no Publicador do banco de dados de publicação.</span><span class="sxs-lookup"><span data-stu-id="0f6b4-199">To change the assigned identity ranges, execute [sp_changemergearticle](/sql/relational-databases/system-stored-procedures/sp-changemergearticle-transact-sql) at the Publisher on the publication database.</span></span> <span data-ttu-id="0f6b4-200">Especifique um valor igual a **identity_range** ou **pub_identity_range** em **\@property** e o novo valor de intervalo em **\@value**.</span><span class="sxs-lookup"><span data-stu-id="0f6b4-200">Specify a value of **identity_range** or **pub_identity_range** for **\@property** and the new range value for **\@value**.</span></span>  
  
    -   <span data-ttu-id="0f6b4-201">Para alterar o limite no qual novos intervalos serão atribuídos, , execute [sp_changemergearticle](/sql/relational-databases/system-stored-procedures/sp-changemergearticle-transact-sql) no Publicador do banco de dados de publicação.</span><span class="sxs-lookup"><span data-stu-id="0f6b4-201">To change the threshold at which new ranges are assigned, execute [sp_changemergearticle](/sql/relational-databases/system-stored-procedures/sp-changemergearticle-transact-sql) at the Publisher on the publication database.</span></span> <span data-ttu-id="0f6b4-202">Especifique um valor igual a **threshold** em **\@property** e o novo valor de limite em **\@value**.</span><span class="sxs-lookup"><span data-stu-id="0f6b4-202">Specify a value of **threshold** for **\@property** and the new threshold value for **\@value**.</span></span> <span data-ttu-id="0f6b4-203">Para obter mais informações sobre quando novos intervalos de identidade são atribuídos, consulte Atribuindo intervalos de identidade no tópico [Replicar colunas de identidade](replicate-identity-columns.md).</span><span class="sxs-lookup"><span data-stu-id="0f6b4-203">For more information on when new identity ranges are assigned, see Assigning Identity Ranges in the topic [Replicate Identity Columns](replicate-identity-columns.md).</span></span>  
  
    -   <span data-ttu-id="0f6b4-204">Para desabilitar o gerenciamento automático de intervalo de identidade, execute [sp_changemergearticle](/sql/relational-databases/system-stored-procedures/sp-changemergearticle-transact-sql) no Publicador do banco de dados de publicação.</span><span class="sxs-lookup"><span data-stu-id="0f6b4-204">To disable automatic identity range management, execute [sp_changemergearticle](/sql/relational-databases/system-stored-procedures/sp-changemergearticle-transact-sql) at the Publisher on the publication database.</span></span> <span data-ttu-id="0f6b4-205">Especifique um valor igual a **identityrangemanagementoption** em **\@property** e **manual** ou **none** em **\@value**.</span><span class="sxs-lookup"><span data-stu-id="0f6b4-205">Specify a value of **identityrangemanagementoption** for **\@property** and either **manual** or **none** for **\@value**.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="0f6b4-206">Consulte Também</span><span class="sxs-lookup"><span data-stu-id="0f6b4-206">See Also</span></span>  
 <span data-ttu-id="0f6b4-207">[Peer-to-Peer Transactional Replication](../transactional/peer-to-peer-transactional-replication.md) </span><span class="sxs-lookup"><span data-stu-id="0f6b4-207">[Peer-to-Peer Transactional Replication](../transactional/peer-to-peer-transactional-replication.md) </span></span>  
 <span data-ttu-id="0f6b4-208">[Replication System Stored Procedures Concepts](../concepts/replication-system-stored-procedures-concepts.md) </span><span class="sxs-lookup"><span data-stu-id="0f6b4-208">[Replication System Stored Procedures Concepts](../concepts/replication-system-stored-procedures-concepts.md) </span></span>  
 [<span data-ttu-id="0f6b4-209">Replicar colunas de identidade</span><span class="sxs-lookup"><span data-stu-id="0f6b4-209">Replicate Identity Columns</span></span>](replicate-identity-columns.md)  
  
  
