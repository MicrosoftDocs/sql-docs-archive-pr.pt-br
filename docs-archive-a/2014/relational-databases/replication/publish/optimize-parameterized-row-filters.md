---
title: Otimizar filtros de linha com parâmetros | Microsoft Docs
ms.custom: ''
ms.date: 06/30/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: replication
ms.topic: conceptual
helpviewer_keywords:
- precomputed partitions [SQL Server replication]
- filters [SQL Server replication], parameterized
- merge replication precomputed partitions [SQL Server replication], SQL Server Management Studio
- parameterized filters [SQL Server replication], optimizing
ms.assetid: 49349605-ebd0-4757-95be-c0447f30ba13
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: f1c6448d8e2dba7a68fab441d4d08fd4a4a1db4d
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87685055"
---
# <a name="optimize-parameterized-row-filters"></a><span data-ttu-id="b5507-102">Otimizar filtros de linha com parâmetros</span><span class="sxs-lookup"><span data-stu-id="b5507-102">Optimize Parameterized Row Filters</span></span>
  <span data-ttu-id="b5507-103">Este tópico descreve como otimizar filtros de linha com parâmetros no [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] usando o [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)] ou o [!INCLUDE[tsql](../../../includes/tsql-md.md)].</span><span class="sxs-lookup"><span data-stu-id="b5507-103">This topic describes how to optimize parameterized row filters in [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] by using [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)] or [!INCLUDE[tsql](../../../includes/tsql-md.md)].</span></span>  
  
 <span data-ttu-id="b5507-104">**Neste tópico**</span><span class="sxs-lookup"><span data-stu-id="b5507-104">**In This Topic**</span></span>  
  
-   <span data-ttu-id="b5507-105">**Antes de começar:**</span><span class="sxs-lookup"><span data-stu-id="b5507-105">**Before you begin:**</span></span>  
  
     [<span data-ttu-id="b5507-106">Recomendações</span><span class="sxs-lookup"><span data-stu-id="b5507-106">Recommendations</span></span>](#Recommendations)  
  
-   <span data-ttu-id="b5507-107">**Para otimizar filtros de linha com parâmetros, usando:**</span><span class="sxs-lookup"><span data-stu-id="b5507-107">**To optimize parameterized row filters, using:**</span></span>  
  
     [<span data-ttu-id="b5507-108">SQL Server Management Studio</span><span class="sxs-lookup"><span data-stu-id="b5507-108">SQL Server Management Studio</span></span>](#SSMSProcedure)  
  
     [<span data-ttu-id="b5507-109">Transact-SQL</span><span class="sxs-lookup"><span data-stu-id="b5507-109">Transact-SQL</span></span>](#TsqlProcedure)  
  
##  <a name="before-you-begin"></a><a name="BeforeYouBegin"></a> <span data-ttu-id="b5507-110">Antes de começar</span><span class="sxs-lookup"><span data-stu-id="b5507-110">Before You Begin</span></span>  
  
###  <a name="recommendations"></a><a name="Recommendations"></a> <span data-ttu-id="b5507-111">Recomendações</span><span class="sxs-lookup"><span data-stu-id="b5507-111">Recommendations</span></span>  
  
-   <span data-ttu-id="b5507-112">Quando você usar filtros com parâmetros, será possível controlar como os filtros serão processados pela replicação de mesclagem, especificando a opção **use partition groups** ou a opção **keep partition changes** ao criar uma publicação.</span><span class="sxs-lookup"><span data-stu-id="b5507-112">When you use parameterized filters, you can control how the filters are processed by merge replication by specifying either the **use partition groups** option or the **keep partition changes** option when you create a publication.</span></span> <span data-ttu-id="b5507-113">Essas opções melhoram o desempenho de sincronização para publicações com artigos filtrados, armazenando metadados adicionais no banco de dados de publicação.</span><span class="sxs-lookup"><span data-stu-id="b5507-113">These options improve the synchronization performance for publications with filtered articles by storing additional metadata in the publication database.</span></span> <span data-ttu-id="b5507-114">Você pode controlar como os dados serão compartilhados entre Assinantes definindo as **opções de partição** ao criar um artigo.</span><span class="sxs-lookup"><span data-stu-id="b5507-114">You can control how the data is shared among Subscribers by setting **partition options** when you create an article.</span></span> <span data-ttu-id="b5507-115">Para obter mais informações sobre esses requisitos, consulte [Parameterized Row Filters](../merge/parameterized-filters-parameterized-row-filters.md).</span><span class="sxs-lookup"><span data-stu-id="b5507-115">For more information about these requirements, see [Parameterized Row Filters](../merge/parameterized-filters-parameterized-row-filters.md).</span></span>  
  
     <span data-ttu-id="b5507-116">Com os assinantes do [!INCLUDE[ssEW](../../../includes/ssew-md.md)]SQL Server Compact, keep_partition_changes deve ser definido como true para assegurar que as exclusões sejam propagadas corretamente.</span><span class="sxs-lookup"><span data-stu-id="b5507-116">With [!INCLUDE[ssEW](../../../includes/ssew-md.md)]SQL Server Compact subscribers, keep_partition_changes must be set to true to ensure that deletes are correctly propagated.</span></span> <span data-ttu-id="b5507-117">Quando definido como falso, o assinante pode ter mais linhas do que o esperado.</span><span class="sxs-lookup"><span data-stu-id="b5507-117">When set to false, the subscriber might have more rows than expected.</span></span>  
  
##  <a name="using-sql-server-management-studio"></a><a name="SSMSProcedure"></a> <span data-ttu-id="b5507-118">Usando o SQL Server Management Studio</span><span class="sxs-lookup"><span data-stu-id="b5507-118">Using SQL Server Management Studio</span></span>  
 <span data-ttu-id="b5507-119">As configurações seguintes podem ser usadas para aperfeiçoar filtros de linha com parâmetros:</span><span class="sxs-lookup"><span data-stu-id="b5507-119">The following settings can be used to optimize parameterized row filters:</span></span>  
  
 <span data-ttu-id="b5507-120">**Partition Options**</span><span class="sxs-lookup"><span data-stu-id="b5507-120">**Partition Options**</span></span>  
 <span data-ttu-id="b5507-121">Defina essa opção na página **Propriedades** da caixa de diálogo **Propriedades do Artigo – \<Article>** ou na caixa de diálogo **Adicionar Filtro**.</span><span class="sxs-lookup"><span data-stu-id="b5507-121">Set this option on the **Properties** page of the **Article Properties - \<Article>** dialog box, or in the **Add Filter** dialog box.</span></span> <span data-ttu-id="b5507-122">Ambas as caixas de diálogo estão no Assistente para Nova Publicação e a caixa de diálogo **Propriedades da Publicação – \<Publication>** .</span><span class="sxs-lookup"><span data-stu-id="b5507-122">Both dialog boxes are available in the New Publication Wizard and the **Publication Properties - \<Publication>** dialog box.</span></span> <span data-ttu-id="b5507-123">A caixa de diálogo **Propriedades do Artigo – \<Article>** permite que você especifique valores adicionais para essa opção que não estão disponíveis na caixa de diálogo **Adicionar Filtro**.</span><span class="sxs-lookup"><span data-stu-id="b5507-123">The **Article Properties - \<Article>** dialog box allows you to specify additional values for this option that are not available in the **Add Filter** dialog box.</span></span>  
  
 <span data-ttu-id="b5507-124">**Pré-calcular partições**</span><span class="sxs-lookup"><span data-stu-id="b5507-124">**Precompute Partitions**</span></span>  
 <span data-ttu-id="b5507-125">Essa opção é definida, por padrão, para **True** se os artigos em sua publicação aderem a um conjuntos de requisitos.</span><span class="sxs-lookup"><span data-stu-id="b5507-125">This option is set to **True** by default if the articles in your publication adhere to a set of requirements.</span></span> <span data-ttu-id="b5507-126">Para obter mais informações sobre esses requisitos, consulte [Otimizar o desempenho de filtro com parâmetros com partições pré-computadas](../merge/parameterized-filters-optimize-for-precomputed-partitions.md).</span><span class="sxs-lookup"><span data-stu-id="b5507-126">For more information about these requirements, see [Optimize Parameterized Filter Performance with Precomputed Partitions](../merge/parameterized-filters-optimize-for-precomputed-partitions.md).</span></span> <span data-ttu-id="b5507-127">Modifique essa opção na página **Opções de Assinatura** da caixa de diálogo **Propriedades de Publicação – \<Publication>** .</span><span class="sxs-lookup"><span data-stu-id="b5507-127">Modify this option on the **Subscription Options** page of the **Publication Properties - \<Publication>** dialog box.</span></span>  
  
 <span data-ttu-id="b5507-128">**Otimizar sincronização**</span><span class="sxs-lookup"><span data-stu-id="b5507-128">**Optimize Synchronization**</span></span>  
 <span data-ttu-id="b5507-129">Essa opção deve ser definida como **True** somente se **Pré-calcular Partições** estiver definida como **False**.</span><span class="sxs-lookup"><span data-stu-id="b5507-129">This option should be set to **True** only if **Precompute Partitions** is set to **False**.</span></span> <span data-ttu-id="b5507-130">Defina essa opção na página **Opções de Assinatura** da caixa de diálogo **Propriedades da Publicação – \<Publication>** .</span><span class="sxs-lookup"><span data-stu-id="b5507-130">Set this option on the **Subscription Options** page of the **Publication Properties - \<Publication>** dialog box.</span></span>  
  
 <span data-ttu-id="b5507-131">Para obter mais informações sobre como usar o Assistente para Nova Publicação e acessar a caixa de diálogo **Propriedades da Publicação – \<Publication>** , confira [Criar uma publicação](create-a-publication.md) e [Exibir e modificar as propriedades da publicação](view-and-modify-publication-properties.md).</span><span class="sxs-lookup"><span data-stu-id="b5507-131">For more information about using the New Publication Wizard and accessing the **Publication Properties - \<Publication>** dialog box, see [Create a Publication](create-a-publication.md) and [View and Modify Publication Properties](view-and-modify-publication-properties.md).</span></span>  
  
#### <a name="to-set-partition-options-in-the-add-filter-or-edit-filter-dialog-box"></a><span data-ttu-id="b5507-132">Para definir as opções de partição na caixa de diálogo Adicionar Filtro ou Editar Filtro</span><span class="sxs-lookup"><span data-stu-id="b5507-132">To set Partition options in the Add Filter or Edit Filter dialog box</span></span>  
  
1.  <span data-ttu-id="b5507-133">Na página **Filtrar Linhas da Tabela** do Assistente para Nova Publicação ou na página **Filtrar Linhas** da caixa de diálogo **Propriedades da Publicação – \<Publication>** , clique em **Adicionar** e em **Adicionar Filtro**.</span><span class="sxs-lookup"><span data-stu-id="b5507-133">On the **Filter Table Rows** page of the New Publication Wizard or the **Filter Rows** page of the **Publication Properties - \<Publication>** dialog box, click **Add**, and then click **Add Filter**.</span></span>  
  
2.  <span data-ttu-id="b5507-134">Criar um filtro com parâmetros.</span><span class="sxs-lookup"><span data-stu-id="b5507-134">Create a parameterized filter.</span></span> <span data-ttu-id="b5507-135">Para obter mais informações, consulte [Definir e modificar um filtro de linha com parâmetros para um artigo de mesclagem](define-and-modify-a-parameterized-row-filter-for-a-merge-article.md).</span><span class="sxs-lookup"><span data-stu-id="b5507-135">For more information, see [Define and Modify a Parameterized Row Filter for a Merge Article](define-and-modify-a-parameterized-row-filter-for-a-merge-article.md).</span></span>  
  
3.  <span data-ttu-id="b5507-136">Selecione a opção que corresponde ao modo em que os dados serão compartilhados entre Assinantes:</span><span class="sxs-lookup"><span data-stu-id="b5507-136">Select the option that matches how data will be shared among Subscribers:</span></span>  
  
    -   <span data-ttu-id="b5507-137">**Uma linha dessa tabela irá para múltiplas assinaturas**</span><span class="sxs-lookup"><span data-stu-id="b5507-137">**A row from this table will go to multiple subscriptions**</span></span>  
  
    -   <span data-ttu-id="b5507-138">**Uma linha dessa tabela irá para apenas uma assinatura**</span><span class="sxs-lookup"><span data-stu-id="b5507-138">**A row from this table will go to only one subscription**</span></span>  
  
     <span data-ttu-id="b5507-139">Se você selecionar **Uma linha desta tabela irá para apenas uma assinatura**, a replicação de mesclagem pode otimizar o desempenho armazenando e processando uma quantia menor de metadados.</span><span class="sxs-lookup"><span data-stu-id="b5507-139">If you select **A row from this table will go to only one subscription**, merge replication can optimize performance by storing and processing less metadata.</span></span> <span data-ttu-id="b5507-140">No entanto, será necessário certificar-se de que os dados são particionados de forma que uma linha não seja replicada em mais de um Assinante.</span><span class="sxs-lookup"><span data-stu-id="b5507-140">However, you must ensure that the data is partitioned in such a way that a row cannot be replicated to more than one Subscriber.</span></span> <span data-ttu-id="b5507-141">Para obter mais informações, consulte a seção "Configurando opções de partição" no tópico [Parameterized Row Filters](../merge/parameterized-filters-parameterized-row-filters.md).</span><span class="sxs-lookup"><span data-stu-id="b5507-141">For more information, see the section "Setting 'partition options'" in the topic [Parameterized Row Filters](../merge/parameterized-filters-parameterized-row-filters.md).</span></span>  
  
4.  [!INCLUDE[clickOK](../../../includes/clickok-md.md)]  
  
5.  <span data-ttu-id="b5507-142">Se você estiver na caixa de diálogo **Propriedades da Publicação – \<Publication>** , clique em **OK** para salvar e fechar a caixa de diálogo.</span><span class="sxs-lookup"><span data-stu-id="b5507-142">If you are in the **Publication Properties - \<Publication>** dialog box, click **OK** to save and close the dialog box.</span></span>  
  
#### <a name="to-set-partition-options-in-the-article-properties---article-dialog-box"></a><span data-ttu-id="b5507-143">Para definir as Opções de Partição na caixa de diálogo Propriedades do Artigo – \<Article></span><span class="sxs-lookup"><span data-stu-id="b5507-143">To set Partition Options in the Article Properties - \<Article> dialog box</span></span>  
  
1.  <span data-ttu-id="b5507-144">Na página **Artigos** do Assistente para Nova Publicação ou na caixa de diálogo **Propriedades da Publicação – \<Publication>** , selecione uma tabela e clique em **Propriedades do Artigo**.</span><span class="sxs-lookup"><span data-stu-id="b5507-144">On the **Articles** page of the New Publication Wizard or the **Publication Properties - \<Publication>** dialog box, select a table, and then click **Article Properties**.</span></span>  
  
2.  <span data-ttu-id="b5507-145">Clique em **Definir Propriedades do Artigo Realçado na Tabela** ou **Definir as Propriedades de Todos os Artigos de Tabela**.</span><span class="sxs-lookup"><span data-stu-id="b5507-145">Click **Set Properties of Highlighted Table Article** or **Set Properties of All Table Articles**.</span></span>  
  
3.  <span data-ttu-id="b5507-146">Na seção **Objeto de Destino** da guia **Propriedades** da caixa de diálogo **Propriedades do Artigo – \<Article>** , especifique um dos seguintes valores para **Opções de Partição**:</span><span class="sxs-lookup"><span data-stu-id="b5507-146">In the **Destination Object** section of the **Properties** tab of the **Article Properties - \<Article>** dialog box, specify one of the following values for **Partition Options**:</span></span>  
  
    -   <span data-ttu-id="b5507-147">**Com sobreposição**</span><span class="sxs-lookup"><span data-stu-id="b5507-147">**Overlapping**</span></span>  
  
    -   <span data-ttu-id="b5507-148">**Com sobreposição, não permitir alterações de dados fora da partição**</span><span class="sxs-lookup"><span data-stu-id="b5507-148">**Overlapping, disallow out-of-partition data changes**</span></span>  
  
    -   <span data-ttu-id="b5507-149">**Sem-sobreposição, única assinatura**</span><span class="sxs-lookup"><span data-stu-id="b5507-149">**Nonoverlapping, single subscription**</span></span>  
  
    -   <span data-ttu-id="b5507-150">**Sem-sobreposição, compartilhados entre assinaturas**</span><span class="sxs-lookup"><span data-stu-id="b5507-150">**Nonoverlapping, shared between subscriptions**</span></span>  
  
     <span data-ttu-id="b5507-151">Para obter mais informações sobre essas opções e sobre como estão relacionadas às opções disponíveis nas caixas de diálogo **Adicionar Filtro** e **Editar Filtro** , consulte a seção "Definindo as opções de partição'" em [Parameterized Row Filters](../merge/parameterized-filters-parameterized-row-filters.md).</span><span class="sxs-lookup"><span data-stu-id="b5507-151">For more information about these options and how they relate to the options available in the **Add Filter** and **Edit Filter** dialog boxes, see the "Setting 'partition options'" section of [Parameterized Row Filters](../merge/parameterized-filters-parameterized-row-filters.md).</span></span>  
  
4.  [!INCLUDE[clickOK](../../../includes/clickok-md.md)]  
  
5.  <span data-ttu-id="b5507-152">Se você estiver na caixa de diálogo **Propriedades da Publicação – \<Publication>** , clique em **OK** para salvar e fechar a caixa de diálogo.</span><span class="sxs-lookup"><span data-stu-id="b5507-152">If you are in the **Publication Properties - \<Publication>** dialog box, click **OK** to save and close the dialog box.</span></span>  
  
#### <a name="to-set-precompute-partitions"></a><span data-ttu-id="b5507-153">Para definir o Pré-calcular Partições</span><span class="sxs-lookup"><span data-stu-id="b5507-153">To set Precompute Partitions</span></span>  
  
1.  <span data-ttu-id="b5507-154">Na página **Opções de Assinatura** da caixa de diálogo **Propriedades da Publicação – \<Publication>** , selecione um valor para a opção **Pré-calcular Partições**.</span><span class="sxs-lookup"><span data-stu-id="b5507-154">On the **Subscription Options** page of the **Publication Properties - \<Publication>** dialog box, select a value for the **Precompute Partitions** option.</span></span> <span data-ttu-id="b5507-155">A propriedade é somente leitura se:</span><span class="sxs-lookup"><span data-stu-id="b5507-155">The property is read-only if:</span></span>  
  
    -   <span data-ttu-id="b5507-156">A publicação não satisfizer os requisitos para as partições pré-calculadas.</span><span class="sxs-lookup"><span data-stu-id="b5507-156">The publication does not meet the requirements for precomputed partitions.</span></span>  
  
    -   <span data-ttu-id="b5507-157">Um instantâneo ainda não tiver sido gerado para a publicação.</span><span class="sxs-lookup"><span data-stu-id="b5507-157">A snapshot has not yet been generated for the publication.</span></span> <span data-ttu-id="b5507-158">Nesse caso, a opção exibe um valor de **Definir automaticamente quando um instantâneo é criado.**</span><span class="sxs-lookup"><span data-stu-id="b5507-158">In this case, the option displays a value of **Set automatically when a snapshot is created**.</span></span>  
  
2.  [!INCLUDE[clickOK](../../../includes/clickok-md.md)]  
  
#### <a name="to-set-optimize-synchronization"></a><span data-ttu-id="b5507-159">Para definir o Otimizar Sincronização</span><span class="sxs-lookup"><span data-stu-id="b5507-159">To set Optimize Synchronization</span></span>  
  
1.  <span data-ttu-id="b5507-160">Na página **Opções de assinatura** da caixa de diálogo **Propriedades \<Publication> da publicação –** , selecione um valor **true** para a opção **Otimizar sincronização** .</span><span class="sxs-lookup"><span data-stu-id="b5507-160">On the **Subscription Options** page of the **Publication Properties - \<Publication>** dialog box, select a value of **True** for the **Optimize Synchronization** option.</span></span>  
  
2.  [!INCLUDE[clickOK](../../../includes/clickok-md.md)]  
  
##  <a name="using-transact-sql"></a><a name="TsqlProcedure"></a> <span data-ttu-id="b5507-161">Usando o Transact-SQL</span><span class="sxs-lookup"><span data-stu-id="b5507-161">Using Transact-SQL</span></span>  
 <span data-ttu-id="b5507-162">Para obter definições das opções de filtragem para \*\* \@ keep_partition_changes\*\* e \*\* \@ use_partition_groups\*\*, consulte [sp_addmergepublication](/sql/relational-databases/system-stored-procedures/sp-addmergepublication-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="b5507-162">For definitions of the filtering options for **\@keep_partition_changes** and **\@use_partition_groups**, see [sp_addmergepublication](/sql/relational-databases/system-stored-procedures/sp-addmergepublication-transact-sql).</span></span>  
  
#### <a name="to-specify-merge-filter-optimizations-when-creating-a-new-publication"></a><span data-ttu-id="b5507-163">Para especificar otimizações de filtro de mesclagem ao criar uma nova publicação</span><span class="sxs-lookup"><span data-stu-id="b5507-163">To specify merge filter optimizations when creating a new publication</span></span>  
  
1.  <span data-ttu-id="b5507-164">No Publicador do banco de dados de publicação, execute [sp_addmergepublication](/sql/relational-databases/system-stored-procedures/sp-addmergepublication-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="b5507-164">At the Publisher on the publication database, execute [sp_addmergepublication](/sql/relational-databases/system-stored-procedures/sp-addmergepublication-transact-sql).</span></span> <span data-ttu-id="b5507-165">Especifique a \*\* \@ publicação\*\* e um valor de `true` para um dos seguintes parâmetros:</span><span class="sxs-lookup"><span data-stu-id="b5507-165">Specify **\@publication** and a value of `true` for one the following parameters:</span></span>  
  
    -   <span data-ttu-id="b5507-166">\*\* \@ use_partition_groups\*\*:-a otimização de desempenho mais alta, desde que os artigos estejam em conformidade com os requisitos para partições preputadas.</span><span class="sxs-lookup"><span data-stu-id="b5507-166">**\@use_partition_groups**: - the highest performance optimization, provided that the articles conform to the requirements for precomputed partitions.</span></span> <span data-ttu-id="b5507-167">Para obter mais informações, consulte [Optimize Parameterized Filter Performance with Precomputed Partitions](../merge/parameterized-filters-optimize-for-precomputed-partitions.md) (Otimizar o desempenho do filtro parametrizado com partições pré-computadas).</span><span class="sxs-lookup"><span data-stu-id="b5507-167">For more information, see [Optimize Parameterized Filter Performance with Precomputed Partitions](../merge/parameterized-filters-optimize-for-precomputed-partitions.md).</span></span>  
  
    -   <span data-ttu-id="b5507-168">\*\* \@ keep_partition_changes\*\* -Use essa otimização se partições computadas não puderem ser usadas.</span><span class="sxs-lookup"><span data-stu-id="b5507-168">**\@keep_partition_changes** - use this optimization if precomputed partitions cannot be used.</span></span>  
  
2.  <span data-ttu-id="b5507-169">Adicione um trabalho de instantâneo para a publicação.</span><span class="sxs-lookup"><span data-stu-id="b5507-169">Add a snapshot job for the publication.</span></span> <span data-ttu-id="b5507-170">Para obter mais informações, consulte [Criar uma publicação](create-a-publication.md).</span><span class="sxs-lookup"><span data-stu-id="b5507-170">For more information see [Create a Publication](create-a-publication.md).</span></span>  
  
3.  <span data-ttu-id="b5507-171">No Publicador do banco de dados de publicação, execute [sp_addmergearticle](/sql/relational-databases/system-stored-procedures/sp-addmergearticle-transact-sql), especificando os seguintes parâmetros:</span><span class="sxs-lookup"><span data-stu-id="b5507-171">At the Publisher on the publication database, execute [sp_addmergearticle](/sql/relational-databases/system-stored-procedures/sp-addmergearticle-transact-sql), specifying the following parameters:</span></span>  
  
    -   <span data-ttu-id="b5507-172">\*\* \@ publicação\*\* -o nome da publicação da etapa 1.</span><span class="sxs-lookup"><span data-stu-id="b5507-172">**\@publication** - the name of the publication from step 1.</span></span>  
  
    -   <span data-ttu-id="b5507-173">\*\* \@ artigo\*\* -um nome para o artigo</span><span class="sxs-lookup"><span data-stu-id="b5507-173">**\@article** - a name for the article</span></span>  
  
    -   <span data-ttu-id="b5507-174">\*\* \@ source_object\*\* -o objeto de banco de dados que está sendo publicado.</span><span class="sxs-lookup"><span data-stu-id="b5507-174">**\@source_object** - the database object being published.</span></span>  
  
    -   <span data-ttu-id="b5507-175">\*\* \@ subset_filterclause\*\* -a cláusula de filtro com parâmetros opcional usada para filtrar horizontalmente o artigo.</span><span class="sxs-lookup"><span data-stu-id="b5507-175">**\@subset_filterclause** - the optional parameterized filter clause used to horizontally filter the article.</span></span>  
  
    -   <span data-ttu-id="b5507-176">\*\* \@ partition_options\*\* -as opções de partição para o artigo filtrado.</span><span class="sxs-lookup"><span data-stu-id="b5507-176">**\@partition_options** - the partition options for the filtered article.</span></span>  
  
4.  <span data-ttu-id="b5507-177">Repita a etapa 3 para cada artigo na publicação.</span><span class="sxs-lookup"><span data-stu-id="b5507-177">Repeat step 3 for each article in the publication.</span></span>  
  
5.  <span data-ttu-id="b5507-178">(Opcional) No Assinante do banco de dados de publicação, execute [sp_addmergefilter](/sql/relational-databases/system-stored-procedures/sp-addmergefilter-transact-sql) para definir um filtro de junção entre dois artigos.</span><span class="sxs-lookup"><span data-stu-id="b5507-178">(Optional) At the Publisher on the publication database, execute [sp_addmergefilter](/sql/relational-databases/system-stored-procedures/sp-addmergefilter-transact-sql) to define a join filter between two articles.</span></span> <span data-ttu-id="b5507-179">Para obter mais informações, consulte [Definir e modificar um filtro de junção entre artigos de mesclagem](define-and-modify-a-join-filter-between-merge-articles.md).</span><span class="sxs-lookup"><span data-stu-id="b5507-179">For more information, see [Define and Modify a Join Filter Between Merge Articles](define-and-modify-a-join-filter-between-merge-articles.md).</span></span>  
  
#### <a name="to-view-and-modify-merge-filter-behaviors-for-an-existing-publication"></a><span data-ttu-id="b5507-180">Para visualizar e modificar comportamentos de filtro de mesclagem para uma publicação existente</span><span class="sxs-lookup"><span data-stu-id="b5507-180">To view and modify merge filter behaviors for an existing publication</span></span>  
  
1.  <span data-ttu-id="b5507-181">Adicional No Publicador do banco de dados de publicação, execute [sp_helpmergepublication](/sql/relational-databases/system-stored-procedures/sp-helpmergepublication-transact-sql), especificando a \*\* \@ publicação\*\*.</span><span class="sxs-lookup"><span data-stu-id="b5507-181">(Optional) At the Publisher on the publication database, execute [sp_helpmergepublication](/sql/relational-databases/system-stored-procedures/sp-helpmergepublication-transact-sql), specifying **\@publication**.</span></span> <span data-ttu-id="b5507-182">Observe o valor de **keep_partition_changes** e **use_partition_groups** no conjunto de resultados.</span><span class="sxs-lookup"><span data-stu-id="b5507-182">Note the value of **keep_partition_changes** and **use_partition_groups** in the result set.</span></span>  
  
2.  <span data-ttu-id="b5507-183">(Opcional) No Publicador do banco de dados de publicação, execute [sp_changemergepublication](/sql/relational-databases/system-stored-procedures/sp-changemergepublication-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="b5507-183">(Optional) At the Publisher on the publication database, execute [sp_changemergepublication](/sql/relational-databases/system-stored-procedures/sp-changemergepublication-transact-sql).</span></span> <span data-ttu-id="b5507-184">Especifique um valor de **use_partition_groups** para \*\* \@ Propriedade\*\* e `true` ou `false` para o \*\* \@ valor\*\*.</span><span class="sxs-lookup"><span data-stu-id="b5507-184">Specify a value of **use_partition_groups** for **\@property** and either `true` or `false` for **\@value**.</span></span>  
  
3.  <span data-ttu-id="b5507-185">(Opcional) No Publicador do banco de dados de publicação, execute [sp_changemergepublication](/sql/relational-databases/system-stored-procedures/sp-changemergepublication-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="b5507-185">(Optional) At the Publisher on the publication database, execute [sp_changemergepublication](/sql/relational-databases/system-stored-procedures/sp-changemergepublication-transact-sql).</span></span> <span data-ttu-id="b5507-186">Especifique um valor de **keep_partition_changes** para \*\* \@ Propriedade\*\* e `true` ou `false` para o \*\* \@ valor\*\*.</span><span class="sxs-lookup"><span data-stu-id="b5507-186">Specify a value of **keep_partition_changes** for **\@property** and either `true` or `false` for **\@value**.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="b5507-187">Ao habilitar **keep_partition_changes**, primeiro você deve desabilitar **use_partition_groups** e especificar um valor de **1** para \*\* \@ force_reinit_subscription\*\*.</span><span class="sxs-lookup"><span data-stu-id="b5507-187">When enabling **keep_partition_changes**, you must first disable **use_partition_groups** and specify a value of **1** for **\@force_reinit_subscription**.</span></span>  
  
4.  <span data-ttu-id="b5507-188">(Opcional) No Publicador do banco de dados de publicação, execute [sp_changemergearticle](/sql/relational-databases/system-stored-procedures/sp-changemergearticle-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="b5507-188">(Optional) At the Publisher on the publication database, execute [sp_changemergearticle](/sql/relational-databases/system-stored-procedures/sp-changemergearticle-transact-sql).</span></span> <span data-ttu-id="b5507-189">Especifique um valor de **partition_options** para \*\* \@ Propriedade\*\* e o valor apropriado para \*\* \@ valor\*\*.</span><span class="sxs-lookup"><span data-stu-id="b5507-189">Specify a value of **partition_options** for **\@property** and the appropriate value for **\@value**.</span></span> <span data-ttu-id="b5507-190">Consulte [sp_addmergearticle](/sql/relational-databases/system-stored-procedures/sp-addmergearticle-transact-sql) para definições destas opções de filtragem.</span><span class="sxs-lookup"><span data-stu-id="b5507-190">See [sp_addmergearticle](/sql/relational-databases/system-stored-procedures/sp-addmergearticle-transact-sql) for definitions of these filtering options.</span></span>  
  
5.  <span data-ttu-id="b5507-191">(Opcional) Iniciar o Snapshot Agent para regenerar o instantâneo se necessário.</span><span class="sxs-lookup"><span data-stu-id="b5507-191">(Optional) Start the Snapshot Agent to regenerate the snapshot if necessary.</span></span> <span data-ttu-id="b5507-192">Para obter informações sobre quais alterações exigem a criação de um novo instantâneo, consulte [Alterar as propriedades da publicação e do artigo](change-publication-and-article-properties.md).</span><span class="sxs-lookup"><span data-stu-id="b5507-192">For information about which changes require a new snapshot to be generated, see [Change Publication and Article Properties](change-publication-and-article-properties.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="b5507-193">Consulte Também</span><span class="sxs-lookup"><span data-stu-id="b5507-193">See Also</span></span>  
 <span data-ttu-id="b5507-194">[Gerar automaticamente um conjunto de filtros de junção entre artigos de mesclagem &#40;SQL Server Management Studio&#41;](automatically-generate-join-filters-between-merge-articles.md) </span><span class="sxs-lookup"><span data-stu-id="b5507-194">[Automatically Generate a Set of Join Filters Between Merge Articles &#40;SQL Server Management Studio&#41;](automatically-generate-join-filters-between-merge-articles.md) </span></span>  
 <span data-ttu-id="b5507-195">[Definir e modificar um filtro de linha parametrizado para um artigo de mesclagem](define-and-modify-a-parameterized-row-filter-for-a-merge-article.md) </span><span class="sxs-lookup"><span data-stu-id="b5507-195">[Define and Modify a Parameterized Row Filter for a Merge Article](define-and-modify-a-parameterized-row-filter-for-a-merge-article.md) </span></span>  
 [<span data-ttu-id="b5507-196">Parameterized Row Filters</span><span class="sxs-lookup"><span data-stu-id="b5507-196">Parameterized Row Filters</span></span>](../merge/parameterized-filters-parameterized-row-filters.md)  
  
  
