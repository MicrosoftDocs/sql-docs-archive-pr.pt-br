---
title: Segurança do agente de distribuição | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: replication
ms.topic: conceptual
f1_keywords:
- sql12.rep.security.DA.f1
helpviewer_keywords:
- Distribution Agent Security dialog box
ms.assetid: de40cc21-2e58-4464-9be7-b5b90c925e9b
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: e4342d44a221d9b816a95a283917f005eb018827
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87569927"
---
# <a name="distribution-agent-security"></a><span data-ttu-id="e9f97-102">Segurança do Distribution Agent</span><span class="sxs-lookup"><span data-stu-id="e9f97-102">Distribution Agent Security</span></span>
  <span data-ttu-id="e9f97-103">A caixa de diálogo **Segurança do Distribution Agent** permite especificar a conta do Windows na qual o Distribution Agent é executado.</span><span class="sxs-lookup"><span data-stu-id="e9f97-103">The **Distribution Agent Security** dialog box allows you to specify the Windows account under which the Distribution Agent runs.</span></span> <span data-ttu-id="e9f97-104">O Distribution Agent é executado no Distribuidor para assinaturas push e no Assinante para assinaturas pull.</span><span class="sxs-lookup"><span data-stu-id="e9f97-104">The Distribution Agent runs at the Distributor for push subscriptions and at the Subscriber for pull subscriptions.</span></span> <span data-ttu-id="e9f97-105">A conta do [!INCLUDE[msCoName](../../includes/msconame-md.md)] Windows é também referida como *conta do processo*, porque o processo do agente é executado nessa conta.</span><span class="sxs-lookup"><span data-stu-id="e9f97-105">The [!INCLUDE[msCoName](../../includes/msconame-md.md)] Windows account is also referred to as the *process account*, because the agent process runs under this account.</span></span> <span data-ttu-id="e9f97-106">Opções adicionais disponíveis na caixa de diálogo dependem de como você a acessa:</span><span class="sxs-lookup"><span data-stu-id="e9f97-106">Additional options available in the dialog box depend on how you access it:</span></span>  
  
-   <span data-ttu-id="e9f97-107">Se a caixa de diálogo for acessada do Assistente para Nova Assinatura, também permitirá que você especifique o contexto no qual o Distribution Agent fará conexões com o Assinante (para assinaturas push) ou com o Publicador e o Distribuidor (para assinaturas pull).</span><span class="sxs-lookup"><span data-stu-id="e9f97-107">If the dialog box is accessed from the New Subscription Wizard, it also allows you to specify the context under which the Distribution Agent makes connections to the Subscriber (for push subscriptions) or the Distributor (for pull subscriptions).</span></span> <span data-ttu-id="e9f97-108">A conexão pode ser feita representando a conta do Windows ou no contexto de uma conta do [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] especificada por você.</span><span class="sxs-lookup"><span data-stu-id="e9f97-108">The connection can be made by impersonating the Windows account or under the context of a [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] account you specify.</span></span>  
  
-   <span data-ttu-id="e9f97-109">Se a caixa de diálogo for acessada da caixa de diálogo **Propriedades da Assinatura** , especifique o contexto no qual o Distribution Agent faz conexões, clicando no botão de propriedades ( **...** ) na linha **Conexão do Assinante** ou **Conexão do Publicador** daquela caixa de diálogo.</span><span class="sxs-lookup"><span data-stu-id="e9f97-109">If the dialog box is accessed from the **Subscription Properties** dialog box, specify the context under which the Distribution Agent makes connections by clicking the properties button (**...**) in the **Subscriber Connection** or **Distributor Connection** row of that dialog box.</span></span> <span data-ttu-id="e9f97-110">Para obter mais informações sobre como acessar a caixa de diálogo **Propriedades da Assinatura**, consulte [Exibir e modificar as propriedades da assinatura push](view-and-modify-push-subscription-properties.md) e [Exibir e modificar as propriedades da assinatura pull](view-and-modify-pull-subscription-properties.md).</span><span class="sxs-lookup"><span data-stu-id="e9f97-110">For more information about accessing the **Subscription Properties** dialog box, see [View and Modify Push Subscription Properties](view-and-modify-push-subscription-properties.md) and how to: [View and Modify Pull Subscription Properties](view-and-modify-pull-subscription-properties.md).</span></span>  
  
 <span data-ttu-id="e9f97-111">Todas as contas devem ser válidas, com a senha correta especificada para cada conta.</span><span class="sxs-lookup"><span data-stu-id="e9f97-111">All accounts must be valid, with the correct password specified for each account.</span></span> <span data-ttu-id="e9f97-112">Contas e senhas não são validadas até que um agente seja executado.</span><span class="sxs-lookup"><span data-stu-id="e9f97-112">Accounts and passwords are not validated until an agent runs.</span></span>  
  
## <a name="options"></a><span data-ttu-id="e9f97-113">Opções</span><span class="sxs-lookup"><span data-stu-id="e9f97-113">Options</span></span>  
 <span data-ttu-id="e9f97-114">**Process Account**</span><span class="sxs-lookup"><span data-stu-id="e9f97-114">**Process Account**</span></span>  
 <span data-ttu-id="e9f97-115">Insira uma conta do Windows na qual o Distribution Agent seja executado:</span><span class="sxs-lookup"><span data-stu-id="e9f97-115">Enter a Windows account under which the Distribution Agent runs:</span></span>  
  
-   <span data-ttu-id="e9f97-116">Para assinaturas push, a conta deve:</span><span class="sxs-lookup"><span data-stu-id="e9f97-116">For push subscriptions, the account must:</span></span>  
  
    -   <span data-ttu-id="e9f97-117">Ser, no mínimo, um membro da função de banco de dados fixa **db_owner** no banco de dados de distribuição.</span><span class="sxs-lookup"><span data-stu-id="e9f97-117">At minimum be a member of the **db_owner** fixed database role in the distribution database.</span></span>  
  
    -   <span data-ttu-id="e9f97-118">Ser um membro da PAL (lista de acesso à publicação).</span><span class="sxs-lookup"><span data-stu-id="e9f97-118">Be a member of the publication access list (PAL).</span></span>  
  
    -   <span data-ttu-id="e9f97-119">Ter permissões de leitura no compartilhamento de instantâneo.</span><span class="sxs-lookup"><span data-stu-id="e9f97-119">Have read permissions on the snapshot share.</span></span>  
  
    -   <span data-ttu-id="e9f97-120">Ter permissões de leitura no diretório de instalação do provedor OLE DB para o Assinante se a assinatura for para um Assinante não[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="e9f97-120">Have read permissions on the install directory of the OLE DB provider for the Subscriber if the subscription is for a non-[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Subscriber.</span></span>  
  
-   <span data-ttu-id="e9f97-121">Para assinaturas pull, a conta deve ser, no mínimo, um membro da função de banco de dados fixa **db_owner** no banco de dados de assinatura.</span><span class="sxs-lookup"><span data-stu-id="e9f97-121">For pull subscriptions, the account must at minimum be a member of the **db_owner** fixed database role in the subscription database.</span></span>  
  
 <span data-ttu-id="e9f97-122">Serão requeridas permissões adicionais se a conta do processo for representada quando as conexões forem feitas.</span><span class="sxs-lookup"><span data-stu-id="e9f97-122">Additional permissions are required if the process account is impersonated when connections are made.</span></span> <span data-ttu-id="e9f97-123">Consulte as seções **Conectar ao Distribuidor** e **Conectar ao Assinante** abaixo.</span><span class="sxs-lookup"><span data-stu-id="e9f97-123">See the **Connect to the Distributor** and **Connect to the Subscriber** sections below.</span></span>  
  
 <span data-ttu-id="e9f97-124">A **Conta de Processo** não pode ser especificada para assinaturas pull para o [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssExpress](../../includes/ssexpress-md.md)], porque o Agente de Distribuição não é executado em instâncias do [!INCLUDE[ssExpress](../../includes/ssexpress-md.md)].</span><span class="sxs-lookup"><span data-stu-id="e9f97-124">**Process Account** cannot be specified for pull subscriptions to [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssExpress](../../includes/ssexpress-md.md)], because the Distribution Agent does not run on instances of [!INCLUDE[ssExpress](../../includes/ssexpress-md.md)].</span></span>  
  
 <span data-ttu-id="e9f97-125">**Senha** e **Confirmar Senha**</span><span class="sxs-lookup"><span data-stu-id="e9f97-125">**Password** and **Confirm Password**</span></span>  
 <span data-ttu-id="e9f97-126">Insira a senha para a conta do Windows.</span><span class="sxs-lookup"><span data-stu-id="e9f97-126">Enter the password for the Windows account.</span></span>  
  
 <span data-ttu-id="e9f97-127">**Conectar ao Distribuidor**</span><span class="sxs-lookup"><span data-stu-id="e9f97-127">**Connect to the Distributor**</span></span>  
 <span data-ttu-id="e9f97-128">Para assinaturas push, conexões com o Distribuidor são sempre feitas representando a conta especificada na caixa de texto **Conta do processo** .</span><span class="sxs-lookup"><span data-stu-id="e9f97-128">For push subscriptions, connections to the Distributor are always made by impersonating the account specified in the **Process account** text box.</span></span>  
  
 <span data-ttu-id="e9f97-129">Para assinaturas pull, selecione se o Distribution Agent deve fazer conexões com o Publicador e o Distribuidor representando a conta especificada na caixa de texto **Conta do processo** ou usando uma conta [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="e9f97-129">For pull subscriptions, select whether the Distribution Agent should make connections to the Distributor by impersonating the account specified in the **Process account** text box or by using a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] account.</span></span> <span data-ttu-id="e9f97-130">Se você optar por usar uma conta do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , insira um logon e uma senha [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="e9f97-130">If you select to use a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] account, enter a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] login and password.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="e9f97-131">É recomendável a seleção para representar a conta do Windows em vez de usar uma conta do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="e9f97-131">It is recommended that you select to impersonate the Windows account rather than using a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] account.</span></span>  
  
 <span data-ttu-id="e9f97-132">A conta do Windows ou do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] usada para a conexão deve:</span><span class="sxs-lookup"><span data-stu-id="e9f97-132">The Windows account or [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] account used for the connection must:</span></span>  
  
-   <span data-ttu-id="e9f97-133">Ser um membro da PAL.</span><span class="sxs-lookup"><span data-stu-id="e9f97-133">Be a member of the PAL.</span></span>  
  
-   <span data-ttu-id="e9f97-134">Ter permissões de leitura no compartilhamento de instantâneo.</span><span class="sxs-lookup"><span data-stu-id="e9f97-134">Have read permissions on the snapshot share.</span></span>  
  
 <span data-ttu-id="e9f97-135">**Conectar ao Assinante**</span><span class="sxs-lookup"><span data-stu-id="e9f97-135">**Connect to the Subscriber**</span></span>  
 <span data-ttu-id="e9f97-136">Para assinaturas pull, as conexões com o Assinante são sempre feitas representando a conta especificada na caixa de texto **Conta do processo** .</span><span class="sxs-lookup"><span data-stu-id="e9f97-136">For pull subscriptions, connections to the Subscriber are always made by impersonating the account specified in the **Process account** text box.</span></span>  
  
 <span data-ttu-id="e9f97-137">Para assinaturas push, as opções são diferentes para Assinantes [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] e não[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] :</span><span class="sxs-lookup"><span data-stu-id="e9f97-137">For push subscriptions, the options are different for [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Subscribers and non-[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Subscribers:</span></span>  
  
-   <span data-ttu-id="e9f97-138">Para Assinantes [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] : selecione se o Distribution Agent deve fazer conexões com o Assinante representando a conta especificada na caixa de texto **Conta do processo** ou usando uma conta [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="e9f97-138">For [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Subscribers: select whether the Distribution Agent should make connections to the Subscriber by impersonating the account specified in the **Process account** text box or by using a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] account.</span></span> <span data-ttu-id="e9f97-139">Se você optar por usar uma conta do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , insira um logon e uma senha [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="e9f97-139">If you select to use a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] account, enter a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] login and password.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="e9f97-140">É recomendável a seleção para representar a conta do Windows em vez de usar uma conta do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="e9f97-140">It is recommended that you select to impersonate the Windows account rather than using a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] account.</span></span>  
  
     <span data-ttu-id="e9f97-141">A conta do Windows ou do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] usada para conexão com o Assinante deve ser, no mínimo, um membro da função de banco de dados fixa **db_owner** no banco de dados de assinatura.</span><span class="sxs-lookup"><span data-stu-id="e9f97-141">The Windows account or [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] account used for the connection to the Subscriber must at minimum be a member of the **db_owner** fixed database role in the subscription database.</span></span>  
  
-   <span data-ttu-id="e9f97-142">Para Assinantes não[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , especifique o logon do banco de dados no Assinante que deve ser usado quando o Distribution Agent conectar ao Assinante.</span><span class="sxs-lookup"><span data-stu-id="e9f97-142">For non-[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Subscribers, specify the database login at the Subscriber that should be used when the Distribution Agent connects to the Subscriber.</span></span> <span data-ttu-id="e9f97-143">O logon deve ter permissões adequadas para criar objetos no banco de dados de assinatura.</span><span class="sxs-lookup"><span data-stu-id="e9f97-143">The login should have sufficient permissions to create objects in the subscription database.</span></span> <span data-ttu-id="e9f97-144">Para mais informações sobre configuração de assinantes não [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], consulte [Criar uma assinatura para um assinante não SQL Server](create-a-subscription-for-a-non-sql-server-subscriber.md).</span><span class="sxs-lookup"><span data-stu-id="e9f97-144">For more information about configuring non-[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Subscribers, see [Create a Subscription for a Non-SQL Server Subscriber](create-a-subscription-for-a-non-sql-server-subscriber.md).</span></span>  
  
 <span data-ttu-id="e9f97-145">**Opções de conexão adicionais**</span><span class="sxs-lookup"><span data-stu-id="e9f97-145">**Additional connection options**</span></span>  
 <span data-ttu-id="e9f97-146">Somente Assinantes não[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="e9f97-146">Non-[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Subscribers only.</span></span> <span data-ttu-id="e9f97-147">Especifique qualquer opção de conexão adicional para o Assinante na forma de uma sequência de conexão (Oracle não requer opções adicionais).</span><span class="sxs-lookup"><span data-stu-id="e9f97-147">Specify any connection options for the Subscriber in the form of a connection string (Oracle does not require additional options).</span></span> <span data-ttu-id="e9f97-148">Cada opção deverá estar separada por um ponto-e-vírgula.</span><span class="sxs-lookup"><span data-stu-id="e9f97-148">Each option should be separated by a semi-colon.</span></span> <span data-ttu-id="e9f97-149">A seguir, um exemplo de uma sequência de conexão IBM DB2 (as quebras de linha são para facilitar a leitura):</span><span class="sxs-lookup"><span data-stu-id="e9f97-149">The following is an example of an IBM DB2 connection string (line breaks are for readability):</span></span>  
  
```  
Provider=DB2OLEDB;Initial Catalog=MY_SUBSCRIBER_DB;Network Transport Library=TCP;Host CCSID=1252;  
PC Code Page=1252;Network Address=MY_SUBSCRIBER;Network Port=50000;Package Collection=MY_PKGCOL;  
Default Schema=MY_SCHEMA;Process Binary as Character=False;Units of Work=RUW;DBMS Platform=DB2/NT;  
Persist Security Info=False;Connection Pooling=True;  
```  
  
 <span data-ttu-id="e9f97-150">A maioria das opções na cadeia de caracteres é específica do servidor DB2 que você está configurando, mas a opção **Processar Binário como Caractere** sempre deve ser definida como **False**.</span><span class="sxs-lookup"><span data-stu-id="e9f97-150">Most of the options in the string are specific to the DB2 server you are configuring, but the **Process Binary as Character** option should always be set to **False**.</span></span> <span data-ttu-id="e9f97-151">Um valor é necessário para a opção **Catálogo Inicial** para identificar o banco de dados de assinatura.</span><span class="sxs-lookup"><span data-stu-id="e9f97-151">A value is required for the **Initial Catalog** option to identify the subscription database.</span></span> <span data-ttu-id="e9f97-152">Para obter mais informações, consulte [IBM DB2 Subscribers](non-sql/ibm-db2-subscribers.md).</span><span class="sxs-lookup"><span data-stu-id="e9f97-152">For more information, see [IBM DB2 Subscribers](non-sql/ibm-db2-subscribers.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="e9f97-153">Consulte Também</span><span class="sxs-lookup"><span data-stu-id="e9f97-153">See Also</span></span>  
 <span data-ttu-id="e9f97-154">[Gerenciar logons e senhas na replicação](security/identity-and-access-control-replication.md#manage-logins-and-passwords-in-replication) </span><span class="sxs-lookup"><span data-stu-id="e9f97-154">[Manage Logins and Passwords in Replication](security/identity-and-access-control-replication.md#manage-logins-and-passwords-in-replication) </span></span>  
 <span data-ttu-id="e9f97-155">[Modelo de segurança do agente de replicação](security/replication-agent-security-model.md) </span><span class="sxs-lookup"><span data-stu-id="e9f97-155">[Replication Agent Security Model](security/replication-agent-security-model.md) </span></span>  
 <span data-ttu-id="e9f97-156">[Visão geral dos agentes de replicação](agents/replication-agents-overview.md) </span><span class="sxs-lookup"><span data-stu-id="e9f97-156">[Replication Agents Overview](agents/replication-agents-overview.md) </span></span>  
 <span data-ttu-id="e9f97-157">[Replication Security Best Practices](security/replication-security-best-practices.md) </span><span class="sxs-lookup"><span data-stu-id="e9f97-157">[Replication Security Best Practices](security/replication-security-best-practices.md) </span></span>  
 [<span data-ttu-id="e9f97-158">Assinar publicações</span><span class="sxs-lookup"><span data-stu-id="e9f97-158">Subscribe to Publications</span></span>](subscribe-to-publications.md)  
  
  
