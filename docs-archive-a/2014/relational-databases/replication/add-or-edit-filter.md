---
title: Adicionar ou editar filtro | Microsoft Docs
ms.custom: ''
ms.date: 06/14/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: replication
ms.topic: conceptual
f1_keywords:
- sql12.rep.newpubwizard.addeditfilter.f1
ms.assetid: bdd7c71d-1c59-4044-bfe8-c85f908345bb
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: 54dcb1ea0b7bf10f51659a14b9d0cc5eb7991769
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87569967"
---
# <a name="add-or-edit-filter"></a><span data-ttu-id="bd4c6-102">Adicionar ou Editar Filtro</span><span class="sxs-lookup"><span data-stu-id="bd4c6-102">Add or Edit Filter</span></span>
  <span data-ttu-id="bd4c6-103">As caixas de diálogo **Adicionar Filtro** e **Editar Filtro** permitem adicionar e editar filtros de linhas estáticos e filtros de linhas com parâmetros.</span><span class="sxs-lookup"><span data-stu-id="bd4c6-103">The **Add Filter** and **Edit Filter** dialog boxes allow you to add and edit static row filters and parameterized row filters.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="bd4c6-104">Editar um filtro em uma publicação existente requer um novo instantâneo para a publicação.</span><span class="sxs-lookup"><span data-stu-id="bd4c6-104">Editing a filter in an existing publication requires a new snapshot for the publication.</span></span> <span data-ttu-id="bd4c6-105">Se uma publicação tiver assinaturas, as assinaturas deverão ser reiniciadas.</span><span class="sxs-lookup"><span data-stu-id="bd4c6-105">If a publication has subscriptions, the subscriptions must be reinitialized.</span></span> <span data-ttu-id="bd4c6-106">Para obter mais informações sobre alterações de propriedades, consulte [Alterar propriedades da publicação e do artigo](publish/change-publication-and-article-properties.md).</span><span class="sxs-lookup"><span data-stu-id="bd4c6-106">For more information about property changes, see [Change Publication and Article Properties](publish/change-publication-and-article-properties.md).</span></span>  
  
 <span data-ttu-id="bd4c6-107">Todos os tipos de publicação podem incluir filtros estáticos; publicações de mesclagem também podem incluir filtros com parâmetros.</span><span class="sxs-lookup"><span data-stu-id="bd4c6-107">All publication types can include static filters; merge publications can also include parameterized filters.</span></span> <span data-ttu-id="bd4c6-108">Um filtro estático é avaliado quando a publicação é criada: todos os Assinantes da publicação recebem os mesmos dados.</span><span class="sxs-lookup"><span data-stu-id="bd4c6-108">A static filter is evaluated when the publication is created: all Subscribers to the publication receive the same data.</span></span> <span data-ttu-id="bd4c6-109">Um filtro com parâmetros é avaliado durante a sincronização de replicação: Assinantes diferentes podem receber partições diferentes de dados com base no logo ou nome de computador de cada Assinante.</span><span class="sxs-lookup"><span data-stu-id="bd4c6-109">A parameterized filter is evaluated during replication synchronization: different Subscribers can receive different partitions of data based on the login or computer name of each Subscriber.</span></span> <span data-ttu-id="bd4c6-110">Clique no link **Exemplos de instruções** na caixa de diálogo para consultar exemplos de cada tipo de filtro.</span><span class="sxs-lookup"><span data-stu-id="bd4c6-110">Click the **Example statements** link in the dialog box to see examples of each type of filter.</span></span> <span data-ttu-id="bd4c6-111">Para obter mais informações sobre opções de filtragem, consulte [Filter Published Data](publish/filter-published-data.md) (Filtrar dados publicados).</span><span class="sxs-lookup"><span data-stu-id="bd4c6-111">For more information about filtering options, see [Filter Published Data](publish/filter-published-data.md).</span></span>  
  
 <span data-ttu-id="bd4c6-112">Usando filtros de linha, você pode especificar um subconjunto de linhas a ser publicado de uma tabela.</span><span class="sxs-lookup"><span data-stu-id="bd4c6-112">Using row filters, you can specify a subset of rows to be published from a table.</span></span> <span data-ttu-id="bd4c6-113">Filtros de linha podem ser usados para eliminar linhas que os usuários não precisam consultar (como linhas que contenham informações reservadas ou confidenciais), ou para criar partições diferentes de dados que são enviadas a diferentes Assinantes.</span><span class="sxs-lookup"><span data-stu-id="bd4c6-113">Row filters can be used to eliminate rows that users do not need to see (such as rows that contain sensitive or confidential information), or to create different partitions of data that are sent to different Subscribers.</span></span> <span data-ttu-id="bd4c6-114">A publicação de partições diferentes de dados para Assinantes diferentes também pode ajudar a evitar conflitos que de outra forma poderiam ser causados por vários Assinantes atualizando os mesmos dados.</span><span class="sxs-lookup"><span data-stu-id="bd4c6-114">Publishing different partitions of data to different Subscribers can also help avoid conflicts that would otherwise be caused by multiple Subscribers updating the same data.</span></span>  
  
## <a name="options"></a><span data-ttu-id="bd4c6-115">Opções</span><span class="sxs-lookup"><span data-stu-id="bd4c6-115">Options</span></span>  
 <span data-ttu-id="bd4c6-116">Essa caixa de diálogo envolve um processo de duas etapas para publicações transacional e de instantâneo e um processo de três etapas para publicações de mesclagem.</span><span class="sxs-lookup"><span data-stu-id="bd4c6-116">This dialog box involves a two-step process for transactional and snapshot publications and a three-step process for merge publications.</span></span> <span data-ttu-id="bd4c6-117">Todo tipo de publicação requer que você selecione uma tabela a ser filtrada e uma ou mais colunas a serem incluídas no filtro; o filtro é definido como uma cláusula WHERE padrão.</span><span class="sxs-lookup"><span data-stu-id="bd4c6-117">All publication types require you to select a table to be filtered and one or more columns to be included in the filter; the filter is defined as a standard WHERE clause.</span></span>  
  
1.  <span data-ttu-id="bd4c6-118">**Selecione a tabela a ser filtrada**</span><span class="sxs-lookup"><span data-stu-id="bd4c6-118">**Select the table to filter**</span></span>  
  
     <span data-ttu-id="bd4c6-119">Se você estiver editando um filtro existente, a seleção da tabela não poderá ser alterada.</span><span class="sxs-lookup"><span data-stu-id="bd4c6-119">If you are editing an existing filter, the table selection cannot be changed.</span></span> <span data-ttu-id="bd4c6-120">Se você estiver adicionando um novo filtro , selecione uma tabela na caixa de listagem suspensa.</span><span class="sxs-lookup"><span data-stu-id="bd4c6-120">If you are adding a new filter, select a table from the drop-down list box.</span></span> <span data-ttu-id="bd4c6-121">Tabelas só aparecem na caixa de listagem se foram selecionadas na página **Artigos** e ainda não têm um filtro de linha.</span><span class="sxs-lookup"><span data-stu-id="bd4c6-121">Tables appear in the list box only if they were selected on the **Articles** page and do not already have a row filter.</span></span> <span data-ttu-id="bd4c6-122">Se uma tabela tiver um filtro de linha e você quer definir um novo:</span><span class="sxs-lookup"><span data-stu-id="bd4c6-122">If a table has a row filter and you want to define a new one:</span></span>  
  
    1.  <span data-ttu-id="bd4c6-123">Clique em **Cancelar** na caixa de diálogo **Adicionar Filtro** .</span><span class="sxs-lookup"><span data-stu-id="bd4c6-123">Click **Cancel** on the **Add Filter** dialog box.</span></span>  
  
    2.  <span data-ttu-id="bd4c6-124">Selecione a tabela no painel de filtros, na página **Filtrar Linhas da Tabela** e clique em **Editar**.</span><span class="sxs-lookup"><span data-stu-id="bd4c6-124">Select the table in the filter pane on the **Filter Table Rows** page and click **Edit**.</span></span>  
  
    3.  <span data-ttu-id="bd4c6-125">Edite um filtro existente na caixa de diálogo **Editar Filtro** .</span><span class="sxs-lookup"><span data-stu-id="bd4c6-125">Edit an existing filter in the **Edit Filter** dialog box.</span></span>  
  
2.  <span data-ttu-id="bd4c6-126">**Conclua a instrução de filtro para identificar quais linhas de tabela os Assinantes receberão**</span><span class="sxs-lookup"><span data-stu-id="bd4c6-126">**Complete the filter statement to identify which table rows Subscribers will receive**</span></span>  
  
     <span data-ttu-id="bd4c6-127">Defina uma nova instrução de filtro ou edite uma existente.</span><span class="sxs-lookup"><span data-stu-id="bd4c6-127">Define a new filter statement or edit an existing one.</span></span> <span data-ttu-id="bd4c6-128">A caixa de listagem **Colunas** lista todas as colunas que você está publicando da tabela selecionada em **Selecionar a tabela a ser filtrada**.</span><span class="sxs-lookup"><span data-stu-id="bd4c6-128">The **Columns** list box lists all the columns that you are publishing from the table you selected in **Select the table to filter**.</span></span> <span data-ttu-id="bd4c6-129">A área de texto **Instrução de filtro** inclui o texto padrão que está no formato de:</span><span class="sxs-lookup"><span data-stu-id="bd4c6-129">The **Filter statement** text area includes the default text, which is in the form of:</span></span>  
  
     `SELECT <published_columns> FROM [schema].[tablename] WHERE`  
  
     <span data-ttu-id="bd4c6-130">Esse texto padrão não pode ser alterado; digite a cláusula de filtro depois da palavra-chave WHERE usando a sintaxe padrão [!INCLUDE[tsql](../../includes/tsql-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="bd4c6-130">This text cannot be changed; type the filter clause after the WHERE keyword using standard [!INCLUDE[tsql](../../includes/tsql-md.md)] syntax.</span></span> <span data-ttu-id="bd4c6-131">Se o Editor for um Editor Oracle, a cláusula WHERE deve estar em conformidade com a sintaxe de consulta Oracle.</span><span class="sxs-lookup"><span data-stu-id="bd4c6-131">If the Publisher is an Oracle Publisher, the WHERE clause must be compliant with Oracle query syntax.</span></span> <span data-ttu-id="bd4c6-132">Evite usar filtros complexos quando possível.</span><span class="sxs-lookup"><span data-stu-id="bd4c6-132">Avoid using complex filters when possible.</span></span> <span data-ttu-id="bd4c6-133">Filtros estáticos e com parâmetros aumentam o tempo de processamento das publicações; portanto, mantenha as instruções de filtro o mais simples possível.</span><span class="sxs-lookup"><span data-stu-id="bd4c6-133">Both static and parameterized filters increase processing time for publications; therefore you should keep filter statements as simple as possible.</span></span>  
  
    > [!IMPORTANT]  
    >  <span data-ttu-id="bd4c6-134">Por motivos de desempenho, recomendamos que não sejam aplicadas funções a nomes de colunas em cláusulas de filtros de linha com parâmetros, como `LEFT([MyColumn]) = SUSER_SNAME()`.</span><span class="sxs-lookup"><span data-stu-id="bd4c6-134">For performance reasons, we recommended that you not apply functions to column names in parameterized row filter clauses for merge publications, such as `LEFT([MyColumn]) = SUSER_SNAME()`.</span></span> <span data-ttu-id="bd4c6-135">Se você usar HOST_NAME em uma cláusula de filtro e substituir o valor HOST_NAME, talvez precise converter tipos de dados usando CONVERT.</span><span class="sxs-lookup"><span data-stu-id="bd4c6-135">If you use HOST_NAME in a filter clause and override the HOST_NAME value, it might be necessary to convert data types using CONVERT.</span></span> <span data-ttu-id="bd4c6-136">Para obter mais informações sobre práticas recomendadas para esse caso, consulte a seção "Substituindo o valor de HOST_NAME()" no tópico [Parameterized Row Filters](merge/parameterized-filters-parameterized-row-filters.md).</span><span class="sxs-lookup"><span data-stu-id="bd4c6-136">For more information about best practices for this case, see the section "Overriding the HOST_NAME() Value" in the topic [Parameterized Row Filters](merge/parameterized-filters-parameterized-row-filters.md).</span></span>  
  
3.  <span data-ttu-id="bd4c6-137">**Especifique quantas assinaturas receberão dados desta tabela**</span><span class="sxs-lookup"><span data-stu-id="bd4c6-137">**Specify how many subscriptions will receive data from this table**</span></span>  
  
     <span data-ttu-id="bd4c6-138">Somente [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] e versões posteriores; somente replicação de mesclagem.</span><span class="sxs-lookup"><span data-stu-id="bd4c6-138">[!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] and later versions only; merge replication only.</span></span> <span data-ttu-id="bd4c6-139">Replicação de mesclagem permite especificar o tipo de partição que melhor combina com seus dados e aplicativo.</span><span class="sxs-lookup"><span data-stu-id="bd4c6-139">Merge replication allows you to specify the type of partitions that are best suited to your data and application.</span></span> <span data-ttu-id="bd4c6-140">Se você selecionar **Uma linha desta tabela irá para apenas uma assinatura**, a replicação de mesclagem definirá a opção de partições não sobrepostas.</span><span class="sxs-lookup"><span data-stu-id="bd4c6-140">If you select **A row from this table will go to only one subscription**, merge replication sets the nonoverlapping partitions option.</span></span> <span data-ttu-id="bd4c6-141">Partições não sobrepostas funcionam com partições pré-computadas para melhorar o desempenho, com as partições não sobrepostas minimizando o custo de carregamento associado a partições pré-computadas.</span><span class="sxs-lookup"><span data-stu-id="bd4c6-141">Nonoverlapping partitions work in conjunction with precomputed partitions to improve performance, with nonoverlapping partitions minimizing the upload cost associated with precomputed partitions.</span></span> <span data-ttu-id="bd4c6-142">O benefício de desempenho de partições que não se sobrepõem é mais notável quando os filtros com parâmetros e de junção usados são mais complexos.</span><span class="sxs-lookup"><span data-stu-id="bd4c6-142">The performance benefit of nonoverlapping partitions is more noticeable when the parameterized filters and join filters used are more complex.</span></span> <span data-ttu-id="bd4c6-143">Se você selecionar essa opção, deve assegurar que os dados sejam particionados de forma tal que uma linha não possa ser replicada em mais de um Assinante.</span><span class="sxs-lookup"><span data-stu-id="bd4c6-143">If you select this option, you must ensure that the data is partitioned in such a way that a row cannot be replicated to more than one Subscriber.</span></span> <span data-ttu-id="bd4c6-144">Para obter mais informações, consulte a seção "Configurando opções de partição" no tópico [Parameterized Row Filters](merge/parameterized-filters-parameterized-row-filters.md).</span><span class="sxs-lookup"><span data-stu-id="bd4c6-144">For more information, see the section "Setting 'partition options'" in the topic [Parameterized Row Filters](merge/parameterized-filters-parameterized-row-filters.md).</span></span>  
  
 <span data-ttu-id="bd4c6-145">Depois de adicionar ou editar um filtro, clique em **OK** para salvar as alterações e fechar a caixa de diálogo.</span><span class="sxs-lookup"><span data-stu-id="bd4c6-145">After you have added or edited a filter, click **OK** to save changes and close the dialog box.</span></span> <span data-ttu-id="bd4c6-146">O filtro que você especificou é analisado e executado na tabela, na cláusula SELECT.</span><span class="sxs-lookup"><span data-stu-id="bd4c6-146">The filter you specified is parsed and run against the table in the SELECT clause.</span></span> <span data-ttu-id="bd4c6-147">Se a instrução de filtro contiver erros de sintaxe ou outros problemas, você será notificado e poderá editar a instrução de filtro.</span><span class="sxs-lookup"><span data-stu-id="bd4c6-147">If the filter statement contains syntax errors or other problems, you are notified and are able to edit the filter statement.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="bd4c6-148">Consulte Também</span><span class="sxs-lookup"><span data-stu-id="bd4c6-148">See Also</span></span>  
 <span data-ttu-id="bd4c6-149">[Create a Publication](publish/create-a-publication.md) </span><span class="sxs-lookup"><span data-stu-id="bd4c6-149">[Create a Publication](publish/create-a-publication.md) </span></span>  
 <span data-ttu-id="bd4c6-150">[Exibir e modificar as propriedades da publicação](publish/view-and-modify-publication-properties.md) </span><span class="sxs-lookup"><span data-stu-id="bd4c6-150">[View and Modify Publication Properties](publish/view-and-modify-publication-properties.md) </span></span>  
 <span data-ttu-id="bd4c6-151">[Filtrar os dados publicados](publish/filter-published-data.md) </span><span class="sxs-lookup"><span data-stu-id="bd4c6-151">[Filter Published Data](publish/filter-published-data.md) </span></span>  
 <span data-ttu-id="bd4c6-152">[Join Filters](merge/join-filters.md) </span><span class="sxs-lookup"><span data-stu-id="bd4c6-152">[Join Filters](merge/join-filters.md) </span></span>  
 <span data-ttu-id="bd4c6-153">[Parameterized Row Filters](merge/parameterized-filters-parameterized-row-filters.md) </span><span class="sxs-lookup"><span data-stu-id="bd4c6-153">[Parameterized Row Filters](merge/parameterized-filters-parameterized-row-filters.md) </span></span>  
 [<span data-ttu-id="bd4c6-154">Publicar dados e objetos de banco de dados</span><span class="sxs-lookup"><span data-stu-id="bd4c6-154">Publish Data and Database Objects</span></span>](publish/publish-data-and-database-objects.md)  
  
  
