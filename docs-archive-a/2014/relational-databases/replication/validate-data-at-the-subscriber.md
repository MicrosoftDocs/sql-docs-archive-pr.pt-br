---
title: Validar os dados replicados | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: replication
ms.topic: conceptual
helpviewer_keywords:
- Subscribers [SQL Server replication], data validation
- replication [SQL Server], validating data
- transactional replication, validating data
- validating data
- merge replication data validation [SQL Server replication], SQL Server Management Studio
ms.assetid: 215b4c9a-0ce9-4c00-ac0b-43b54151dfa3
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: 4d09750c0cb81d64f5921ae2064b2e75edb6ca96
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87568435"
---
# <a name="validate-replicated-data"></a><span data-ttu-id="c7017-102">Validar os dados replicados</span><span class="sxs-lookup"><span data-stu-id="c7017-102">Validate Replicated Data</span></span>
  <span data-ttu-id="c7017-103">Este tópico descreve como validar os dados no Assinante no [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] usando [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)], [!INCLUDE[tsql](../../includes/tsql-md.md)], ou RMO (Replication Management Objects).</span><span class="sxs-lookup"><span data-stu-id="c7017-103">This topic describes how to validate data at the Subscriber in [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] by using [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)], [!INCLUDE[tsql](../../includes/tsql-md.md)], or Replication Management Objects (RMO).</span></span>  

  <span data-ttu-id="c7017-104">A replicação transacional e de mesclagem permitem validar os dados no Assinante que correspondem aos dados no Publicador.</span><span class="sxs-lookup"><span data-stu-id="c7017-104">Transactional and merge replication allow you to validate that data at the Subscriber matches data at the Publisher.</span></span> <span data-ttu-id="c7017-105">A validação pode ser executada para assinaturas específicas ou para todas as assinaturas em uma publicação.</span><span class="sxs-lookup"><span data-stu-id="c7017-105">Validation can be performed for specific subscriptions or for all subscriptions to a publication.</span></span> <span data-ttu-id="c7017-106">Especifique um dos seguintes tipos de validação e o Distribution Agent ou o Merge Agent validarão os dados na próxima vez que executarem:</span><span class="sxs-lookup"><span data-stu-id="c7017-106">Specify one of the following validation types and the Distribution Agent or Merge Agent will validate data the next time it runs:</span></span>  
  
-   <span data-ttu-id="c7017-107">**Somente contagem de linhas**.</span><span class="sxs-lookup"><span data-stu-id="c7017-107">**Row count only**.</span></span> <span data-ttu-id="c7017-108">Faz a validação se a tabela no Assinante tem o mesmo número de linhas que a tabela no Publicador, mas não faz a validação da correspondência de conteúdo das linhas.</span><span class="sxs-lookup"><span data-stu-id="c7017-108">This validates whether the table at the Subscriber has the same number of rows as the table at the Publisher, but does not validate that the content of the rows matches.</span></span> <span data-ttu-id="c7017-109">A validação de número de linhas fornece uma abordagem superficial à validação que pode alertá-lo sobre problemas com seus dados.</span><span class="sxs-lookup"><span data-stu-id="c7017-109">Row count validation provides a lightweight approach to validation that can make you aware of issues with your data.</span></span>    
-   <span data-ttu-id="c7017-110">**Contagem de linhas e soma de verificação binária.**</span><span class="sxs-lookup"><span data-stu-id="c7017-110">**Row count and binary checksum**.</span></span> <span data-ttu-id="c7017-111">Além de contar o número de linhas no Publicador e no Assinante, uma soma de verificação de todos os dados é calculada usando o algoritmo de soma de verificação.</span><span class="sxs-lookup"><span data-stu-id="c7017-111">In addition to taking a count of rows at the Publisher and Subscriber, a checksum of all the data is calculated using the checksum algorithm.</span></span> <span data-ttu-id="c7017-112">Se a contagem de linhas falhar, a soma de verificação não será executada.</span><span class="sxs-lookup"><span data-stu-id="c7017-112">If the row count fails, the checksum is not performed.</span></span>  
  
 <span data-ttu-id="c7017-113">Além de validar se esses dados no Assinante e no Publicador são correspondentes, a replicação de mesclagem fornece a capacidade de validar se os dados estão particionados corretamente em cada Assinante.</span><span class="sxs-lookup"><span data-stu-id="c7017-113">In addition to validating that data at the Subscriber and Publisher match, merge replication provides the ability to validate that data is partitioned correctly for each Subscriber.</span></span> <span data-ttu-id="c7017-114">Para obter mais informações, consulte [Validate Partition Information for a Merge Subscriber](validate-partition-information-for-a-merge-subscriber.md) (Validar informações de partição para um assinante de mesclagem).</span><span class="sxs-lookup"><span data-stu-id="c7017-114">For more information, see [Validate Partition Information for a Merge Subscriber](validate-partition-information-for-a-merge-subscriber.md).</span></span>  

## <a name="how-data-validation-works"></a><span data-ttu-id="c7017-115">Como a validação de dados trabalha</span><span class="sxs-lookup"><span data-stu-id="c7017-115">How Data Validation Works</span></span>  
 <span data-ttu-id="c7017-116">O[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] faz a validação dos dados calculando o número de linhas ou uma soma de verificação no Publicador e comparando esses valores com o número de linhas ou a soma de verificação do Assinante.</span><span class="sxs-lookup"><span data-stu-id="c7017-116">[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] validates data by calculating a row count or a checksum at the Publisher and then comparing those values to the row count or checksum calculated at the Subscriber.</span></span> <span data-ttu-id="c7017-117">Um valor é calculado para a publicação inteira e um valor é calculado para a tabela de assinatura inteira, mas os dados em `text`, `ntext` ou as colunas de `image` não são incluídas nos cálculos.</span><span class="sxs-lookup"><span data-stu-id="c7017-117">One value is calculated for the entire publication table and one value is calculated for the entire subscription table, but data in `text`, `ntext`, or `image` columns is not included in the calculations.</span></span>  
  
 <span data-ttu-id="c7017-118">Enquanto os cálculos estão sendo realizados, são colocados temporariamente bloqueios compartilhados em tabelas, nas quais as contagens de linhas ou as somas de verificações estão sendo executadas, mas são completadas rapidamente e os bloqueios compartilhados removidos, normalmente em questão de segundos.</span><span class="sxs-lookup"><span data-stu-id="c7017-118">While the calculations are performed, shared locks are placed temporarily on tables for which row counts or checksums are being run, but the calculations are completed quickly and the shared locks removed, usually in a matter of seconds.</span></span>  
  
 <span data-ttu-id="c7017-119">Quando as somas de verificação binárias são usadas, ocorre uma verificação de redundância (CRC) de 32 bits coluna a coluna, em vez de uma CRC na linha física da página de dados.</span><span class="sxs-lookup"><span data-stu-id="c7017-119">When binary checksums are used, 32-bit redundancy check (CRC) occurs on a column-by-column basis rather than a CRC on the physical row on the data page.</span></span> <span data-ttu-id="c7017-120">Isso permite que as colunas da tabela estejam em qualquer ordem física na página de dados, mas sejam calculadas no mesmo CRC da linha.</span><span class="sxs-lookup"><span data-stu-id="c7017-120">This allows the columns with the table to be in any order physically on the data page, but still compute to the same CRC for the row.</span></span> <span data-ttu-id="c7017-121">A validação de soma de verificação binária pode ser usada quando há filtros de linha ou de coluna na publicação.</span><span class="sxs-lookup"><span data-stu-id="c7017-121">Binary checksum validation can be used when there are row or column filters on the publication.</span></span>  
  
 <span data-ttu-id="c7017-122">A validação de dados é um processo de três etapas:</span><span class="sxs-lookup"><span data-stu-id="c7017-122">Validating data is a three-part process:</span></span>  
  
1.  <span data-ttu-id="c7017-123">Uma única assinatura ou todas as assinaturas para uma publicação são *marcadas* para validação.</span><span class="sxs-lookup"><span data-stu-id="c7017-123">A single subscription or all subscriptions to a publication are *marked* for validation.</span></span> <span data-ttu-id="c7017-124">Marque as assinaturas para validação nas caixas de diálogo **Validar Assinatura**, **Validar Assinaturas**e **Validar Todas as Assinaturas** que estão disponíveis na pasta **Publicações Locais** e na pasta **Assinaturas Locais** no [!INCLUDE[msCoName](../../includes/msconame-md.md)][!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span><span class="sxs-lookup"><span data-stu-id="c7017-124">Mark subscriptions for validation in the **Validate Subscription**, **Validate Subscriptions**, and **Validate All Subscriptions** dialog boxes, which are available from the **Local Publications** folder and the **Local Subscriptions** folder in [!INCLUDE[msCoName](../../includes/msconame-md.md)][!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span></span> <span data-ttu-id="c7017-125">Você também pode marcar assinaturas da guia **Todas as Assinaturas** , a guia **Lista de Observação da Assinatura** e o nó de publicações no Replication Monitor.</span><span class="sxs-lookup"><span data-stu-id="c7017-125">You can also mark subscriptions from the **All Subscriptions** tab, the **Subscription Watch List** tab, and the publications node in Replication Monitor.</span></span> <span data-ttu-id="c7017-126">Para obter informações sobre como iniciar o Replication Monitor, consulte [Start the Replication Monitor](monitor/start-the-replication-monitor.md) (Iniciar o Replication Monitor).</span><span class="sxs-lookup"><span data-stu-id="c7017-126">For information about starting Replication Monitor, see [Start the Replication Monitor](monitor/start-the-replication-monitor.md).</span></span>  
  
2.  <span data-ttu-id="c7017-127">Uma assinatura é validada da próxima vez em que for sincronizada pelo Distribution Agent (para replicação transacional) ou pelo Merge Agent (replicação de mesclagem).</span><span class="sxs-lookup"><span data-stu-id="c7017-127">A subscription is validated the next time it is synchronized by the Distribution Agent (for transactional replication) or the Merge Agent (for merge replication).</span></span> <span data-ttu-id="c7017-128">O Distribution Agent normalmente é executado continuamente, nesse caso a validação ocorre imediatamente; o Merge Agent normalmente é executado por solicitação, neste caso a validação ocorrerá após você executar o agente.</span><span class="sxs-lookup"><span data-stu-id="c7017-128">The Distribution Agent typically runs continuously, in which case validation occurs immediately; the Merge Agent typically runs on demand, in which case validation occurs after you run the agent.</span></span>  
  
3.  <span data-ttu-id="c7017-129">Exibir os resultados de validação:</span><span class="sxs-lookup"><span data-stu-id="c7017-129">View the validation results:</span></span>  
  
    -  <span data-ttu-id="c7017-130">Nas janelas de detalhes do Replication Monitor: na guia **Histórico do Distribuidor para o Assinante** para replicação transacional e na guia **Histórico de Sincronização** para replicação de mesclagem.</span><span class="sxs-lookup"><span data-stu-id="c7017-130">In the detail windows in Replication Monitor: on the **Distributor to Subscriber History** tab for transactional replication and the **Synchronization History** tab for merge replication.</span></span>    
    -  <span data-ttu-id="c7017-131">Na caixa de diálogo **Exibir Status de Sincronização** no [!INCLUDE[ssManStudio](../../includes/ssmanstudio-md.md)].</span><span class="sxs-lookup"><span data-stu-id="c7017-131">In the **View Synchronization Status** dialog box in [!INCLUDE[ssManStudio](../../includes/ssmanstudio-md.md)].</span></span>  
  


  
## <a name="considerations-and-restrictions"></a><span data-ttu-id="c7017-132">Considerações e restrições</span><span class="sxs-lookup"><span data-stu-id="c7017-132">Considerations and restrictions</span></span>  
  
-   <span data-ttu-id="c7017-133">Os procedimentos para o Replication Monitor são somente para assinaturas push porque as assinaturas pull não podem ser sincronizadas no Replication Monitor.</span><span class="sxs-lookup"><span data-stu-id="c7017-133">The procedures for Replication Monitor are for push subscriptions only because pull subscriptions cannot be synchronized in Replication Monitor.</span></span> <span data-ttu-id="c7017-134">Porém, você pode marcar uma assinatura para validação e exibir os resultados da validação para assinaturas pull no Replication Monitor.</span><span class="sxs-lookup"><span data-stu-id="c7017-134">However, you can mark a subscription for validation and view validation results for pull subscriptions in Replication Monitor.</span></span>    
-   <span data-ttu-id="c7017-135">Os resultados da validação indicam se a validação obteve êxito ou se falhou, porém não especifica quais linhas falharam a validação caso tenha ocorrido uma falha.</span><span class="sxs-lookup"><span data-stu-id="c7017-135">The validation results indicate whether validation succeeded or failed, but do not specify which rows failed validation if a failure occurred.</span></span> <span data-ttu-id="c7017-136">Para comparar dados no Publicador e no Assinante, use o [tablediff Utility](../../tools/tablediff-utility.md).</span><span class="sxs-lookup"><span data-stu-id="c7017-136">To compare data at the Publisher and Subscriber, use the [tablediff Utility](../../tools/tablediff-utility.md).</span></span> <span data-ttu-id="c7017-137">Para obter informações sobre como usar esse utilitário com os dados replicados, consulte [Comparar diferenças em tabelas replicadas &#40;programação de replicação&#41;](administration/compare-replicated-tables-for-differences-replication-programming.md).</span><span class="sxs-lookup"><span data-stu-id="c7017-137">For more information about using this utility with replicated data, see [Compare Replicated Tables for Differences &#40;Replication Programming&#41;](administration/compare-replicated-tables-for-differences-replication-programming.md).</span></span>  
 
<span data-ttu-id="c7017-138">Considere os seguintes problemas ao validar dados:</span><span class="sxs-lookup"><span data-stu-id="c7017-138">Take the following issues into consideration when validating data:</span></span>  
  
-   <span data-ttu-id="c7017-139">Você deve cessar todas as atividades nos Assinantes antes de validar os dados (não é necessário parar as atividades do Publicador, enquanto ocorre a validação).</span><span class="sxs-lookup"><span data-stu-id="c7017-139">You must stop all update activity at Subscribers before validating data (it is not necessary to stop activity at the Publisher when validation is occurring).</span></span>    
-   <span data-ttu-id="c7017-140">Como as somas de verificação e as somas de verificações binárias podem requerer recursos extensos do processador ao validar conjuntos de dados muito grandes, você deverá agendar a validação quando houver um mínimo de atividade nos servidores usados na replicação.</span><span class="sxs-lookup"><span data-stu-id="c7017-140">Because checksums and binary checksums can require large amounts of processor resources when validating a large data set, you should schedule validation to occur when there is the least activity on the servers used in replication.</span></span>    
-   <span data-ttu-id="c7017-141">A replicação somente valida tabelas; não realizando a validação se os artigos somente esquema (como os procedimentos armazenados) são os mesmos no Publicador e no Assinante.</span><span class="sxs-lookup"><span data-stu-id="c7017-141">Replication validates tables only; it does not validate whether schema only articles (such as stored procedures) are the same at the Publisher and Subscriber.</span></span>    
-   <span data-ttu-id="c7017-142">A soma de verificação binária pode ser usada com qualquer tabela publicada.</span><span class="sxs-lookup"><span data-stu-id="c7017-142">Binary checksum can be used with any published table.</span></span> <span data-ttu-id="c7017-143">A soma de verificação não pode validar as tabelas com filtros de colunas ou estruturas de tabelas lógicas nas quais os deslocamentos são diferentes (por causa das instruções ALTER TABLE que cancelam ou adicionam colunas).</span><span class="sxs-lookup"><span data-stu-id="c7017-143">Checksum cannot validate tables with column filters, or logical table structures where column offsets differ (due to ALTER TABLE statements that drop or add columns).</span></span>    
-   <span data-ttu-id="c7017-144">A validação de replicação usa as `checksum` funções e **BINARY_CHECKSUM** .</span><span class="sxs-lookup"><span data-stu-id="c7017-144">Replication validation uses the `checksum` and **binary_checksum** functions.</span></span> <span data-ttu-id="c7017-145">Para informações sobre seu comportamento, consulte [CHECKSUM &#40;Transact-SQL&#41;](/sql/t-sql/functions/checksum-transact-sql) e [BINARY_CHECKSUM  &#40;Transact-SQL&#41;](/sql/t-sql/functions/binary-checksum-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="c7017-145">For  information about their behavior, see  [CHECKSUM &#40;Transact-SQL&#41;](/sql/t-sql/functions/checksum-transact-sql) and [BINARY_CHECKSUM  &#40;Transact-SQL&#41;](/sql/t-sql/functions/binary-checksum-transact-sql).</span></span>  
  
-   <span data-ttu-id="c7017-146">A validação com o uso de soma de verificação binária ou soma de verificação pode reportar incorretamente uma falha se os tipos de dados forem diferentes no Assinante e no Publicador.</span><span class="sxs-lookup"><span data-stu-id="c7017-146">Validation by using binary checksum or checksum can incorrectly report a failure if data types are different at the Subscriber than they are at the Publisher.</span></span> <span data-ttu-id="c7017-147">Isso poderá acontecer se você fizer o seguinte:</span><span class="sxs-lookup"><span data-stu-id="c7017-147">This can occur if you do any one of the following:</span></span>    
    -   <span data-ttu-id="c7017-148">Definir explicitamente opções de esquema para mapear tipos de dados de versões anteriores do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="c7017-148">Explicitly set schema options to map data types for earlier versions of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span>    
    -   <span data-ttu-id="c7017-149">Definir o nível de compatibilidade de uma publicação de mesclagem para uma versão anterior do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]e as tabelas publicadas contiverem um ou mais tipos de dados que devem ser mapeados para essa versão.</span><span class="sxs-lookup"><span data-stu-id="c7017-149">Set the publication compatibility level for a merge publication to an earlier version of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], and published tables contain one or more data types that must be mapped for this version.</span></span>    
    -   <span data-ttu-id="c7017-150">Inicialize manualmente uma assinatura que estiver usando tipos de dados diferentes no Assinante.</span><span class="sxs-lookup"><span data-stu-id="c7017-150">Manually initialize a subscription and are using different data types at the Subscriber.</span></span>    
-   <span data-ttu-id="c7017-151">As validações da soma de verificação binária e de soma de verificação não oferecem suporte para assinaturas transformáveis na replicação transacional.</span><span class="sxs-lookup"><span data-stu-id="c7017-151">Binary checksum and checksum validations are not supported for transformable subscriptions for transactional replication.</span></span>   
-   <span data-ttu-id="c7017-152">A validação não oferece suporte para os dados replicados em não assinantes do[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="c7017-152">Validation is not supported for data replicated to non-[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Subscribers.</span></span>  

## <a name="data-validation-results"></a><span data-ttu-id="c7017-153">Resultados da validação de dados</span><span class="sxs-lookup"><span data-stu-id="c7017-153">Data Validation Results</span></span>  
 <span data-ttu-id="c7017-154">Quando a validação estiver completa, o Distribution Agent ou o Merge Agent registra mensagens relativas ao êxito ou falha (a replicação não informa quais as linhas que falharam).</span><span class="sxs-lookup"><span data-stu-id="c7017-154">When validation is complete, the Distribution Agent or Merge Agent logs messages regarding success or failure (replication does not report which rows failed).</span></span> <span data-ttu-id="c7017-155">Essas mensagens podem ser exibidas no [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)], no Replication Monitor e nas tabelas do sistema de replicação.</span><span class="sxs-lookup"><span data-stu-id="c7017-155">These messages can be viewed in [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)], Replication Monitor, and replication system tables.</span></span> <span data-ttu-id="c7017-156">O tópico de instruções listado acima mostra como executar a validação e exibir os resultados.</span><span class="sxs-lookup"><span data-stu-id="c7017-156">The how-to topic listed above demonstrates how to run validation and view the results.</span></span>  
  
 <span data-ttu-id="c7017-157">Para controlar as falhas de validação, considere o seguinte:</span><span class="sxs-lookup"><span data-stu-id="c7017-157">To handle validation failures, consider the following:</span></span>  
  
-   <span data-ttu-id="c7017-158">Configure o alerta de replicação chamado **Replicação: Falha na validação de dados do assinante** para que você seja notificado da falha.</span><span class="sxs-lookup"><span data-stu-id="c7017-158">Configure the replication alert named **Replication: Subscriber has failed data validation** so that you are notified of the failure.</span></span> <span data-ttu-id="c7017-159">Para obter mais informações, consulte [configurar alertas de replicação predefinidos &#40;SQL Server Management Studio& # 41 (administração/configuração-predefinido-Replication-Alerts-SQL-Server-Management-Studio. MD).</span><span class="sxs-lookup"><span data-stu-id="c7017-159">For more information, see [Configure Predefined Replication Alerts &#40;SQL Server Management Studio&#41(administration/configure-predefined-replication-alerts-sql-server-management-studio.md).</span></span>  
  
-   <span data-ttu-id="c7017-160">O fato da validação falhar é um problema para o seu aplicativo?</span><span class="sxs-lookup"><span data-stu-id="c7017-160">Is the fact that validation failed an issue for your application?</span></span> <span data-ttu-id="c7017-161">Se a falha de validação é um problema, atualize manualmente os dados para serem sincronizados ou reinicialize a assinatura:</span><span class="sxs-lookup"><span data-stu-id="c7017-161">If the validation failure is an issue, manually update the data so that it is synchronized, or reinitialize the subscription:</span></span>  
  
    -   <span data-ttu-id="c7017-162">Os dados podem ser atualizados usando o [utilitário tablediff](../../tools/tablediff-utility.md).</span><span class="sxs-lookup"><span data-stu-id="c7017-162">Data can be updated using the [tablediff utility](../../tools/tablediff-utility.md).</span></span> <span data-ttu-id="c7017-163">Para mais informações sobre como usar esse utilitário, consulte [Comparar tabelas replicadas para diferenças &#40;Programação de replicação&#41;](administration/compare-replicated-tables-for-differences-replication-programming.md).</span><span class="sxs-lookup"><span data-stu-id="c7017-163">For more information about using this utility, see [Compare Replicated Tables for Differences &#40;Replication Programming&#41;](administration/compare-replicated-tables-for-differences-replication-programming.md).</span></span>  
  
    -   <span data-ttu-id="c7017-164">Para mais informações sobre reinicialização, consulte [Reinicializar as assinaturas](reinitialize-subscriptions.md).</span><span class="sxs-lookup"><span data-stu-id="c7017-164">For more information about reinitializaton, see [Reinitialize Subscriptions](reinitialize-subscriptions.md).</span></span>   
 
  
## <a name="articles-in-transactional-replication"></a><span data-ttu-id="c7017-165">Artigos em Replicação Transacional</span><span class="sxs-lookup"><span data-stu-id="c7017-165">Articles in Transactional Replication</span></span> 

### <a name="using-sql-server-management-studio"></a><span data-ttu-id="c7017-166">Como usar o SQL Server Management Studio.</span><span class="sxs-lookup"><span data-stu-id="c7017-166">Using SQL Server Management Studio</span></span>  
  
  
1.  <span data-ttu-id="c7017-167">Conecte-se ao Publicador no [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)]e expanda o nó de servidor.</span><span class="sxs-lookup"><span data-stu-id="c7017-167">Connect to the Publisher in [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)], and then expand the server node.</span></span>    
2.  <span data-ttu-id="c7017-168">Expanda a pasta **Replicação** e, em seguida, a pasta **Publicações Locais** .</span><span class="sxs-lookup"><span data-stu-id="c7017-168">Expand the **Replication** folder, and then expand the **Local Publications** folder.</span></span>    
3.  <span data-ttu-id="c7017-169">Clique com o botão direito do mouse na publicação para a qual você quer validar assinaturas e então clique em **Validar Assinaturas**.</span><span class="sxs-lookup"><span data-stu-id="c7017-169">Right-click the publication for which you want to validate subscriptions, and then click **Validate Subscriptions**.</span></span>    
4.  <span data-ttu-id="c7017-170">Na caixa de diálogo **Validar Assinaturas** , selecione quais assinatura validar:</span><span class="sxs-lookup"><span data-stu-id="c7017-170">In the **Validate Subscriptions** dialog box, select which subscriptions to validate:</span></span>    
    -   <span data-ttu-id="c7017-171">Selecione **Validar todas as assinaturas SQL Server**</span><span class="sxs-lookup"><span data-stu-id="c7017-171">Select **Validate all SQL Server subscriptions**.</span></span>    
    -   <span data-ttu-id="c7017-172">Selecione **Validar estas assinaturas**e então selecione uma ou mais assinaturas.</span><span class="sxs-lookup"><span data-stu-id="c7017-172">Select **Validate the following subscriptions**, and then select one or more subscriptions.</span></span>    
5.  <span data-ttu-id="c7017-173">Para especificar o tipo de validação a ser executado (contagem de linha ou contagem de linha e soma de verificação) clique em **Opções de Validação**e então especifique as opções na caixa de diálogo **Opções de Validação de Assinatura** .</span><span class="sxs-lookup"><span data-stu-id="c7017-173">To specify the type of validation to perform (row count, or row count and checksum) click **Validation Options**, and then specify options in the **Subscription Validation Options** dialog box.</span></span>    
6.  [!INCLUDE[clickOK](../../includes/clickok-md.md)]  
  
7.  <span data-ttu-id="c7017-174">Exiba os resultados da validação no Replication Monitor ou a caixa de diálogo **Exibir Status da Sincronização** .</span><span class="sxs-lookup"><span data-stu-id="c7017-174">View validation results in Replication Monitor or the **View Synchronization Status** dialog box.</span></span> <span data-ttu-id="c7017-175">Para cada assinatura:</span><span class="sxs-lookup"><span data-stu-id="c7017-175">For each subscription:</span></span>    
    1.  <span data-ttu-id="c7017-176">Expanda a publicação, clique com o botão direito do mouse na assinatura e então clique em **Exibir Status da Sincronização**.</span><span class="sxs-lookup"><span data-stu-id="c7017-176">Expand the publication, right-click the subscription, and then click **View Synchronization Status**.</span></span>    
    2.  <span data-ttu-id="c7017-177">Se o agente não estiver sendo executado clique em **Iniciar** na caixa de diálogo **Exibir Status da Sincronização** .</span><span class="sxs-lookup"><span data-stu-id="c7017-177">If the agent is not running click **Start** in the **View Synchronization Status** dialog box.</span></span> <span data-ttu-id="c7017-178">A caixa de diálogo exibirá mensagens informativas relacionadas à validação.</span><span class="sxs-lookup"><span data-stu-id="c7017-178">The dialog box will display informational messages regarding validation.</span></span>  
  
     <span data-ttu-id="c7017-179">Se você não vir nenhuma mensagem relacionada à validação, o agente já registrou uma mensagem subsequente.</span><span class="sxs-lookup"><span data-stu-id="c7017-179">If you do not see any messages regarding validation, the agent has already logged a subsequent message.</span></span> <span data-ttu-id="c7017-180">Neste caso, exiba os resultados de validação no Replication Monitor.</span><span class="sxs-lookup"><span data-stu-id="c7017-180">In this case, view the validation results in Replication Monitor.</span></span> <span data-ttu-id="c7017-181">Para obter mais informações, consulte os procedimentos de instruções do Replication Monitor neste tópico.</span><span class="sxs-lookup"><span data-stu-id="c7017-181">For more information, see the Replication Monitor how to procedures in this topic.</span></span>  

### <a name="using-transact-sql-t-sql"></a><span data-ttu-id="c7017-182">Usar o Transact-SQL (T-SQL)</span><span class="sxs-lookup"><span data-stu-id="c7017-182">Using Transact-SQL (T-SQL)</span></span>

#### <a name="all-articles"></a><span data-ttu-id="c7017-183">Todos os artigos</span><span class="sxs-lookup"><span data-stu-id="c7017-183">All articles</span></span>
  
1.  <span data-ttu-id="c7017-184">No Publicador do banco de dados de publicação, execute [sp_publication_validation &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-publication-validation-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="c7017-184">At the Publisher on the publication database, execute [sp_publication_validation &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-publication-validation-transact-sql).</span></span> <span data-ttu-id="c7017-185">Especifique a \*\* \@ publicação\*\* e um dos seguintes valores para \*\* \@ rowcount_only\*\*:</span><span class="sxs-lookup"><span data-stu-id="c7017-185">Specify **\@publication** and one of the following values for **\@rowcount_only**:</span></span>    
    -   <span data-ttu-id="c7017-186">**1** - apenas verifica número de linhas (o padrão)</span><span class="sxs-lookup"><span data-stu-id="c7017-186">**1** - rowcount check only (the default)</span></span>    
    -   <span data-ttu-id="c7017-187">**2** - número de linhas e soma de verificação binária.</span><span class="sxs-lookup"><span data-stu-id="c7017-187">**2** - rowcount and binary checksum.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="c7017-188">Ao executar [sp_publication_validation &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-publication-validation-transact-sql), [sp_article_validation &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-article-validation-transact-sql) é executado para cada artigo na publicação.</span><span class="sxs-lookup"><span data-stu-id="c7017-188">When you execute [sp_publication_validation &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-publication-validation-transact-sql), [sp_article_validation &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-article-validation-transact-sql) is executed for each article in the publication.</span></span> <span data-ttu-id="c7017-189">Para executar [sp_publication_validation &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-publication-validation-transact-sql) com êxito, é necessário ter permissões SELECT em todas as colunas nas tabelas base publicadas.</span><span class="sxs-lookup"><span data-stu-id="c7017-189">To successfully execute [sp_publication_validation &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-publication-validation-transact-sql), you must have SELECT permissions on all columns in the published base tables.</span></span>  
  
2.  <span data-ttu-id="c7017-190">(Opcional) Iniciar o Distribution Agent para cada assinatura se já não estiver em execução.</span><span class="sxs-lookup"><span data-stu-id="c7017-190">(Optional) Start the Distribution Agent for each subscription if it is not already running.</span></span> <span data-ttu-id="c7017-191">Para obter mais informações, consulte [Synchronize a Pull Subscription](synchronize-a-pull-subscription.md) e [Synchronize a Push Subscription](synchronize-a-push-subscription.md).</span><span class="sxs-lookup"><span data-stu-id="c7017-191">For more information, see [Synchronize a Pull Subscription](synchronize-a-pull-subscription.md) and [Synchronize a Push Subscription](synchronize-a-push-subscription.md).</span></span>    
3.  <span data-ttu-id="c7017-192">Verifique a saída de agente para o resultado da validação.</span><span class="sxs-lookup"><span data-stu-id="c7017-192">Check the agent output for the result of the validation.</span></span> <span data-ttu-id="c7017-193">Para obter mais informações, consulte [Validar os dados replicados](validate-data-at-the-subscriber.md).</span><span class="sxs-lookup"><span data-stu-id="c7017-193">For more information, see [Validate Replicated Data](validate-data-at-the-subscriber.md).</span></span>  
  
#### <a name="single-article"></a><span data-ttu-id="c7017-194">Artigo único</span><span class="sxs-lookup"><span data-stu-id="c7017-194">Single article</span></span> 
  
1.  <span data-ttu-id="c7017-195">No Publicador no banco de dados de publicação, execute [sp_article_validation &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-article-validation-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="c7017-195">At the Publisher on the publication database, execute [sp_article_validation &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-article-validation-transact-sql).</span></span> <span data-ttu-id="c7017-196">Especifique a \*\* \@ publicação**, o nome do artigo para o \*\* \@ artigo**e um dos seguintes valores para \*\* \@ rowcount_only\*\*:</span><span class="sxs-lookup"><span data-stu-id="c7017-196">Specify **\@publication**, the name of the article for **\@article**, and one of the following values for **\@rowcount_only**:</span></span>    
    -   <span data-ttu-id="c7017-197">**1** - apenas verifica número de linhas (o padrão)</span><span class="sxs-lookup"><span data-stu-id="c7017-197">**1** - Rowcount check only (the default)</span></span>    
    -   <span data-ttu-id="c7017-198">**2** -RowCount e soma de verificação binária.</span><span class="sxs-lookup"><span data-stu-id="c7017-198">**2** - Rowcount and binary checksum.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="c7017-199">Para executar [sp_publication_validation &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-article-validation-transact-sql) com êxito, é necessário ter permissões SELECT em todas as colunas na tabela base publicada.</span><span class="sxs-lookup"><span data-stu-id="c7017-199">To successfully execute [sp_article_validation &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-article-validation-transact-sql), you must have SELECT permissions on all columns in the published base table.</span></span>  
  
2.  <span data-ttu-id="c7017-200">(Opcional) Iniciar o Distribution Agent para cada assinatura se já não estiver em execução.</span><span class="sxs-lookup"><span data-stu-id="c7017-200">(Optional) Start the Distribution Agent for each subscription if it is not already running.</span></span> <span data-ttu-id="c7017-201">Para obter mais informações, consulte [Synchronize a Pull Subscription](synchronize-a-pull-subscription.md) e [Synchronize a Push Subscription](synchronize-a-push-subscription.md).</span><span class="sxs-lookup"><span data-stu-id="c7017-201">For more information, see [Synchronize a Pull Subscription](synchronize-a-pull-subscription.md) and [Synchronize a Push Subscription](synchronize-a-push-subscription.md).</span></span>    
3.  <span data-ttu-id="c7017-202">Verifique a saída de agente para o resultado da validação.</span><span class="sxs-lookup"><span data-stu-id="c7017-202">Check the agent output for the result of the validation.</span></span> <span data-ttu-id="c7017-203">Para obter mais informações, consulte [Validar os dados replicados](validate-data-at-the-subscriber.md).</span><span class="sxs-lookup"><span data-stu-id="c7017-203">For more information, see [Validate Replicated Data](validate-data-at-the-subscriber.md).</span></span>  
  
#### <a name="single-subscriber"></a><span data-ttu-id="c7017-204">Assinante único</span><span class="sxs-lookup"><span data-stu-id="c7017-204">Single subscriber</span></span>
  
1.  <span data-ttu-id="c7017-205">No Publicador do banco de dados de publicação, abra uma transação explícita usando [BEGIN TRANSACTION &#40;Transact-SQL&#41;](/sql/t-sql/language-elements/begin-transaction-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="c7017-205">At the Publisher on the publication database, open an explicit transaction using [BEGIN TRANSACTION &#40;Transact-SQL&#41;](/sql/t-sql/language-elements/begin-transaction-transact-sql).</span></span>    
2.  <span data-ttu-id="c7017-206">No Publicador no banco de dados de publicação, execute [sp_marksubscriptionvalidation &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-marksubscriptionvalidation-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="c7017-206">At the Publisher on the publication database, execute [sp_marksubscriptionvalidation &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-marksubscriptionvalidation-transact-sql).</span></span> <span data-ttu-id="c7017-207">Especifique a publicação para \*\* \@ publicação**, o nome do assinante para \*\* \@ assinante**e o nome do banco de dados de assinatura para \*\* \@ destination_db\*\*.</span><span class="sxs-lookup"><span data-stu-id="c7017-207">Specify the publication for **\@publication**, the name of the Subscriber for **\@subscriber**, and the name of the subscription database for **\@destination_db**.</span></span>    
3.  <span data-ttu-id="c7017-208">(Opcional) Repita a etapa 2 para cada assinatura que é validada.</span><span class="sxs-lookup"><span data-stu-id="c7017-208">(Optional) Repeat step 2 for each subscription being validated.</span></span>    
4.  <span data-ttu-id="c7017-209">No Publicador no banco de dados de publicação, execute [sp_article_validation &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-article-validation-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="c7017-209">At the Publisher on the publication database, execute [sp_article_validation &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-article-validation-transact-sql).</span></span> <span data-ttu-id="c7017-210">Especifique a \*\* \@ publicação**, o nome do artigo para o \*\* \@ artigo**e um dos seguintes valores para \*\* \@ rowcount_only\*\*:</span><span class="sxs-lookup"><span data-stu-id="c7017-210">Specify **\@publication**, the name of the article for **\@article**, and one of the following values for **\@rowcount_only**:</span></span>    
    -   <span data-ttu-id="c7017-211">**1** - apenas verifica número de linhas (o padrão)</span><span class="sxs-lookup"><span data-stu-id="c7017-211">**1** - Rowcount check only (the default)</span></span>    
    -   <span data-ttu-id="c7017-212">**2** -RowCount e soma de verificação binária.</span><span class="sxs-lookup"><span data-stu-id="c7017-212">**2** - Rowcount and binary checksum.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="c7017-213">Para executar [sp_publication_validation &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-article-validation-transact-sql) com êxito, é necessário ter permissões SELECT em todas as colunas na tabela base publicada.</span><span class="sxs-lookup"><span data-stu-id="c7017-213">To successfully execute [sp_article_validation &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-article-validation-transact-sql), you must have SELECT permissions on all columns in the published base table.</span></span>  
  
5.  <span data-ttu-id="c7017-214">No Publicador do banco de dados de publicação, confirme a transação usando [COMMIT TRANSACTION &#40;Transact-SQL&#41;](/sql/t-sql/language-elements/commit-transaction-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="c7017-214">At the Publisher on the publication database, commit the transaction using [COMMIT TRANSACTION &#40;Transact-SQL&#41;](/sql/t-sql/language-elements/commit-transaction-transact-sql).</span></span>    
6.  <span data-ttu-id="c7017-215">(Opcional) Repita as etapas 1 a 5 para cada artigo que é validado.</span><span class="sxs-lookup"><span data-stu-id="c7017-215">(Optional) Repeat steps 1 through 5 for each article being validated.</span></span>    
7.  <span data-ttu-id="c7017-216">(Opcional) Iniciar o Distribution Agent se já não estiver em execução.</span><span class="sxs-lookup"><span data-stu-id="c7017-216">(Optional) Start the Distribution Agent if it is not already running.</span></span> <span data-ttu-id="c7017-217">Para obter mais informações, consulte [Synchronize a Pull Subscription](synchronize-a-pull-subscription.md) e [Synchronize a Push Subscription](synchronize-a-push-subscription.md).</span><span class="sxs-lookup"><span data-stu-id="c7017-217">For more information, see [Synchronize a Pull Subscription](synchronize-a-pull-subscription.md) and [Synchronize a Push Subscription](synchronize-a-push-subscription.md).</span></span>    
8.  <span data-ttu-id="c7017-218">Verifique a saída de agente para o resultado da validação.</span><span class="sxs-lookup"><span data-stu-id="c7017-218">Check the agent output for the result of the validation.</span></span> <span data-ttu-id="c7017-219">Para obter mais informações, consulte [Validate Data at the Subscriber](validate-data-at-the-subscriber.md).</span><span class="sxs-lookup"><span data-stu-id="c7017-219">For more information, see [Validate Data at the Subscriber](validate-data-at-the-subscriber.md).</span></span>  

##  <a name="all-push-subscriptions-to-a-transactional-publication"></a><span data-ttu-id="c7017-220">Todas as assinaturas push para uma publicação transacional</span><span class="sxs-lookup"><span data-stu-id="c7017-220">All push subscriptions to a Transactional Publication</span></span> 

### <a name="using-replication-monitor"></a><span data-ttu-id="c7017-221">Usando o Replication Monitor</span><span class="sxs-lookup"><span data-stu-id="c7017-221">Using Replication Monitor</span></span>
  
1.  <span data-ttu-id="c7017-222">No Replication Monitor, expanda um Grupo do publicador no painel esquerdo e, depois, expanda um Publicador.</span><span class="sxs-lookup"><span data-stu-id="c7017-222">In Replication Monitor, expand a Publisher group in the left pane, and then expand a Publisher.</span></span>    
2.  <span data-ttu-id="c7017-223">Clique com o botão direito do mouse na publicação para a qual você quer validar assinaturas e então clique em **Validar Assinaturas**.</span><span class="sxs-lookup"><span data-stu-id="c7017-223">Right-click the publication for which you want to validate subscriptions, and then click **Validate Subscriptions**.</span></span>    
3.  <span data-ttu-id="c7017-224">Na caixa de diálogo **Validar Assinaturas** , selecione quais assinatura validar:</span><span class="sxs-lookup"><span data-stu-id="c7017-224">In the **Validate Subscriptions** dialog box, select which subscriptions to validate:</span></span>    
    -   <span data-ttu-id="c7017-225">Selecione **Validar todas as assinaturas SQL Server**</span><span class="sxs-lookup"><span data-stu-id="c7017-225">Select **Validate all SQL Server subscriptions**.</span></span>    
    -   <span data-ttu-id="c7017-226">Selecione **Validar estas assinaturas**e então selecione uma ou mais assinaturas.</span><span class="sxs-lookup"><span data-stu-id="c7017-226">Select **Validate the following subscriptions**, and then select one or more subscriptions.</span></span>   
4.  <span data-ttu-id="c7017-227">Para especificar o tipo de validação a ser executado (contagem de linha ou contagem de linha e soma de verificação) clique em **Opções de Validação**e então especifique as opções na caixa de diálogo **Opções de Validação de Assinatura** .</span><span class="sxs-lookup"><span data-stu-id="c7017-227">To specify the type of validation to perform (row count, or row count and checksum) click **Validation Options**, and then specify options in the **Subscription Validation Options** dialog box.</span></span>    
5.  [!INCLUDE[clickOK](../../includes/clickok-md.md)]    
6.  <span data-ttu-id="c7017-228">Clique na guia **Todas as Assinaturas** .</span><span class="sxs-lookup"><span data-stu-id="c7017-228">Click the **All Subscriptions** tab.</span></span>    
7.  <span data-ttu-id="c7017-229">Exiba os resultados da validação.</span><span class="sxs-lookup"><span data-stu-id="c7017-229">View validation results.</span></span> <span data-ttu-id="c7017-230">Para cada assinatura push:</span><span class="sxs-lookup"><span data-stu-id="c7017-230">For each push subscription:</span></span>   
    1.  <span data-ttu-id="c7017-231">Se o agente não estiver sendo executado, clique com o botão direito do mouse na assinatura e então clique em **Iniciar Sincronização**.</span><span class="sxs-lookup"><span data-stu-id="c7017-231">If the agent is not running, right-click the subscription, and then click **Start Synchronizing**.</span></span>   
    2.  <span data-ttu-id="c7017-232">Clique com o botão direito do mouse na assinatura e, em seguida, clique em **Exibir Detalhes**.</span><span class="sxs-lookup"><span data-stu-id="c7017-232">Right-click the subscription, and then click **View Details**.</span></span>    
    3.  <span data-ttu-id="c7017-233">Exiba informações na guia **Histórico de Distribuidor para o Assinante** na área de texto **Ações na seção selecionada** .</span><span class="sxs-lookup"><span data-stu-id="c7017-233">View information on the **Distributor to Subscriber History** tab in the **Actions in the selected session** text area.</span></span>  
  

## <a name="for-a-single-subscription-to-a-merge-publication"></a><span data-ttu-id="c7017-234">Para uma assinatura única para uma Publicação de Mesclagem</span><span class="sxs-lookup"><span data-stu-id="c7017-234">For a single subscription to a Merge Publication</span></span>
  
### <a name="using-sql-server-management-studio"></a><span data-ttu-id="c7017-235">Como usar o SQL Server Management Studio.</span><span class="sxs-lookup"><span data-stu-id="c7017-235">Using SQL Server Management Studio</span></span>
  
1.  <span data-ttu-id="c7017-236">Conecte-se ao Publicador no [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)]e expanda o nó de servidor.</span><span class="sxs-lookup"><span data-stu-id="c7017-236">Connect to the Publisher in [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)], and then expand the server node.</span></span>    
2.  <span data-ttu-id="c7017-237">Expanda a pasta **Replicação** e, em seguida, a pasta **Publicações Locais** .</span><span class="sxs-lookup"><span data-stu-id="c7017-237">Expand the **Replication** folder, and then expand the **Local Publications** folder.</span></span>    
3.  <span data-ttu-id="c7017-238">Expanda a publicação para a qual você quer validar assinaturas, clique com o botão direito do mouse na assinatura e então clique em **Validar Assinatura**.</span><span class="sxs-lookup"><span data-stu-id="c7017-238">Expand the publication for which you want to validate subscriptions, right-click the subscription, and then click **Validate Subscription**.</span></span>    
4.  <span data-ttu-id="c7017-239">Na caixa de diálogo **Validar Assinatura** , selecione **Validar esta assinatura**.</span><span class="sxs-lookup"><span data-stu-id="c7017-239">In the **Validate Subscription** dialog box, select **Validate this subscription**.</span></span>    
5.  <span data-ttu-id="c7017-240">Para especificar o tipo de validação a ser executado (contagem de linha ou contagem de linha e soma de verificação) clique em **Opções**e então especifique as opções na caixa de diálogo **Opções de Validação de Assinatura** .</span><span class="sxs-lookup"><span data-stu-id="c7017-240">To specify the type of validation to perform (row count, or row count and checksum) click **Options**, and then specify options in the **Subscription Validation Options** dialog box.</span></span>    
6.  [!INCLUDE[clickOK](../../includes/clickok-md.md)]    
7.  <span data-ttu-id="c7017-241">Exiba os resultados da validação no Replication Monitor ou a caixa de diálogo **Exibir Status da Sincronização** :</span><span class="sxs-lookup"><span data-stu-id="c7017-241">View validation results in Replication Monitor or the **View Synchronization Status** dialog box:</span></span>  
    1.  <span data-ttu-id="c7017-242">Expanda a publicação, clique com o botão direito do mouse na assinatura e então clique em **Exibir Status da Sincronização**.</span><span class="sxs-lookup"><span data-stu-id="c7017-242">Expand the publication, right-click the subscription, and then click **View Synchronization Status**.</span></span>   
    2.  <span data-ttu-id="c7017-243">Se o agente não estiver em execução, clique em **Iniciar** na caixa de diálogo **Exibir status da sincronização** .</span><span class="sxs-lookup"><span data-stu-id="c7017-243">If the agent is not running, click **Start** in the **View Synchronization Status** dialog box.</span></span> <span data-ttu-id="c7017-244">A caixa de diálogo exibirá mensagens informativas relacionadas à validação.</span><span class="sxs-lookup"><span data-stu-id="c7017-244">The dialog box will display informational messages regarding validation.</span></span>  
  
     <span data-ttu-id="c7017-245">Se você não vir nenhuma mensagem relacionada à validação, o agente já registrou uma mensagem subsequente.</span><span class="sxs-lookup"><span data-stu-id="c7017-245">If you do not see any messages regarding validation, the agent has already logged a subsequent message.</span></span> <span data-ttu-id="c7017-246">Neste caso, exiba os resultados de validação no Replication Monitor.</span><span class="sxs-lookup"><span data-stu-id="c7017-246">In this case, view the validation results in Replication Monitor.</span></span> <span data-ttu-id="c7017-247">Para obter mais informações, consulte os procedimentos de instruções do Replication Monitor neste tópico.</span><span class="sxs-lookup"><span data-stu-id="c7017-247">For more information, see the Replication Monitor how to procedures in this topic.</span></span>  

### <a name="using-transact-sql-t-sql"></a><span data-ttu-id="c7017-248">Usar o Transact-SQL (T-SQL)</span><span class="sxs-lookup"><span data-stu-id="c7017-248">Using Transact-SQL (T-SQL)</span></span>

1.  <span data-ttu-id="c7017-249">No Publicador no banco de dados de publicação, execute [sp_validatemergesubscription &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-validatemergesubscription-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="c7017-249">At the Publisher on the publication database, execute [sp_validatemergesubscription &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-validatemergesubscription-transact-sql).</span></span> <span data-ttu-id="c7017-250">Especifique a \*\* \@ publicação**, o nome do assinante para o \*\* \@ assinante**, o nome do banco de dados de assinatura para \*\* \@ subscriber_db**e um dos valores a seguir para o \*\* \@ nível**:</span><span class="sxs-lookup"><span data-stu-id="c7017-250">Specify **\@publication**, the name of the Subscriber for **\@subscriber**, the name of the subscription database for **\@subscriber_db**, and one of the following values for **\@level**:</span></span>   
    -   <span data-ttu-id="c7017-251">**1** - apenas validação de número de linhas.</span><span class="sxs-lookup"><span data-stu-id="c7017-251">**1** - Rowcount-only validation.</span></span>    
    -   <span data-ttu-id="c7017-252">**3** - validação de soma de verificação binária de número de linhas.</span><span class="sxs-lookup"><span data-stu-id="c7017-252">**3** - Rowcount binary checksum validation.</span></span>  
  
     <span data-ttu-id="c7017-253">Isso marca a assinatura selecionada para validação.</span><span class="sxs-lookup"><span data-stu-id="c7017-253">This marks the selected subscription for validation.</span></span>  
  
2.  <span data-ttu-id="c7017-254">Inicie o agente de mesclagem para cada assinatura.</span><span class="sxs-lookup"><span data-stu-id="c7017-254">Start the merge agent for each subscription.</span></span> <span data-ttu-id="c7017-255">Para obter mais informações, consulte [Synchronize a Pull Subscription](synchronize-a-pull-subscription.md) e [Synchronize a Push Subscription](synchronize-a-push-subscription.md).</span><span class="sxs-lookup"><span data-stu-id="c7017-255">For more information, see [Synchronize a Pull Subscription](synchronize-a-pull-subscription.md) and [Synchronize a Push Subscription](synchronize-a-push-subscription.md).</span></span>    
3.  <span data-ttu-id="c7017-256">Verifique a saída de agente para o resultado da validação.</span><span class="sxs-lookup"><span data-stu-id="c7017-256">Check the agent output for the result of the validation.</span></span>    
4.  <span data-ttu-id="c7017-257">Repita as etapas 1 a 3 para cada assinatura que é validada.</span><span class="sxs-lookup"><span data-stu-id="c7017-257">Repeat steps 1 through 3 for each subscription being validated.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="c7017-258">A assinatura para uma publicação de mesclagem também pode ser validada especificando-se o parâmetro **-Validate** ao executar o [Replication Merge Agent](agents/replication-merge-agent.md).</span><span class="sxs-lookup"><span data-stu-id="c7017-258">A subscription to a merge publication can also be validated at the end of a synchronization by specifying the **-Validate** parameter when running the [Replication Merge Agent](agents/replication-merge-agent.md).</span></span>  

  
## <a name="for-all-subscriptions-to-a-merge-publication"></a><span data-ttu-id="c7017-259">Para todas as assinaturas para uma Publicação de Mesclagem</span><span class="sxs-lookup"><span data-stu-id="c7017-259">For all subscriptions to a Merge Publication</span></span>

### <a name="using-sql-server-management-studio"></a><span data-ttu-id="c7017-260">Como usar o SQL Server Management Studio.</span><span class="sxs-lookup"><span data-stu-id="c7017-260">Using SQL Server Management Studio</span></span> 
  
1.  <span data-ttu-id="c7017-261">Conecte-se ao Publicador no [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)]e expanda o nó de servidor.</span><span class="sxs-lookup"><span data-stu-id="c7017-261">Connect to the Publisher in [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)], and then expand the server node.</span></span>    
2.  <span data-ttu-id="c7017-262">Expanda a pasta **Replicação** e, em seguida, a pasta **Publicações Locais** .</span><span class="sxs-lookup"><span data-stu-id="c7017-262">Expand the **Replication** folder, and then expand the **Local Publications** folder.</span></span>    
3.  <span data-ttu-id="c7017-263">Clique com o botão direito do mouse na publicação para a qual você quer validar assinaturas e então clique em **Validar Todas as Assinaturas**.</span><span class="sxs-lookup"><span data-stu-id="c7017-263">Right-click the publication for which you want to validate subscriptions, and then click **Validate All Subscriptions**.</span></span>    
4.  <span data-ttu-id="c7017-264">Na caixa de diálogo **Validar Todas as Assinaturas** , especifique o tipo de validação a ser executado (contagem de linha ou contagem de linha e soma de verificação).</span><span class="sxs-lookup"><span data-stu-id="c7017-264">In the **Validate All Subscriptions** dialog box, specify the type of validation to perform (row count, or row count and checksum).</span></span>    
5.  [!INCLUDE[clickOK](../../includes/clickok-md.md)]    
6.  <span data-ttu-id="c7017-265">Exiba os resultados da validação no Replication Monitor ou a caixa de diálogo **Exibir status da sincronização** .</span><span class="sxs-lookup"><span data-stu-id="c7017-265">View validation results in Replication Monitor or the **View Synchronization Status** dialog box.</span></span> <span data-ttu-id="c7017-266">Para cada assinatura:</span><span class="sxs-lookup"><span data-stu-id="c7017-266">For each subscription:</span></span>    
    1.  <span data-ttu-id="c7017-267">Expanda a publicação, clique com o botão direito do mouse na assinatura e então clique em **Exibir Status da Sincronização**.</span><span class="sxs-lookup"><span data-stu-id="c7017-267">Expand the publication, right-click the subscription, and then click **View Synchronization Status**.</span></span>   
    2.  <span data-ttu-id="c7017-268">Se o agente não estiver em execução, clique em **Iniciar** na caixa de diálogo **Exibir status da sincronização** .</span><span class="sxs-lookup"><span data-stu-id="c7017-268">If the agent is not running, click **Start** in the **View Synchronization Status** dialog box.</span></span> <span data-ttu-id="c7017-269">A caixa de diálogo exibirá mensagens informativas relacionadas à validação.</span><span class="sxs-lookup"><span data-stu-id="c7017-269">The dialog box will display informational messages regarding validation.</span></span>  
  
     <span data-ttu-id="c7017-270">Se você não vir nenhuma mensagem relacionada à validação, o agente já registrou uma mensagem subsequente.</span><span class="sxs-lookup"><span data-stu-id="c7017-270">If you do not see any messages regarding validation, the agent has already logged a subsequent message.</span></span> <span data-ttu-id="c7017-271">Neste caso, exiba os resultados de validação no Replication Monitor.</span><span class="sxs-lookup"><span data-stu-id="c7017-271">In this case, view the validation results in Replication Monitor.</span></span> <span data-ttu-id="c7017-272">Para obter mais informações, consulte os procedimentos de instruções do Replication Monitor neste tópico.</span><span class="sxs-lookup"><span data-stu-id="c7017-272">For more information, see the Replication Monitor how to procedures in this topic.</span></span>  

### <a name="using-transact-sql-t-sql"></a><span data-ttu-id="c7017-273">Usar o Transact-SQL (T-SQL)</span><span class="sxs-lookup"><span data-stu-id="c7017-273">Using Transact-SQL (T-SQL)</span></span>

1.  <span data-ttu-id="c7017-274">No Publicador do banco de dados de publicação, execute [sp_validatemergepublication &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-validatemergepublication-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="c7017-274">At the Publisher on the publication database, execute [sp_validatemergepublication &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-validatemergepublication-transact-sql).</span></span> <span data-ttu-id="c7017-275">Especifique a \*\* \@ publicação\*\* e um dos seguintes valores para o \*\* \@ nível\*\*:</span><span class="sxs-lookup"><span data-stu-id="c7017-275">Specify **\@publication** and one of the following values for **\@level**:</span></span>    
    -   <span data-ttu-id="c7017-276">**1** - apenas validação de número de linhas.</span><span class="sxs-lookup"><span data-stu-id="c7017-276">**1** - Rowcount-only validation.</span></span>    
    -   <span data-ttu-id="c7017-277">**3** - validação de soma de verificação binária de número de linhas.</span><span class="sxs-lookup"><span data-stu-id="c7017-277">**3** - Rowcount binary checksum validation.</span></span>  
  
     <span data-ttu-id="c7017-278">Isso marca todas as assinaturas para validação.</span><span class="sxs-lookup"><span data-stu-id="c7017-278">This marks all subscriptions for validation.</span></span>  
  
2.  <span data-ttu-id="c7017-279">Inicie o agente de mesclagem para cada assinatura.</span><span class="sxs-lookup"><span data-stu-id="c7017-279">Start the merge agent for each subscription.</span></span> <span data-ttu-id="c7017-280">Para obter mais informações, consulte [Synchronize a Pull Subscription](synchronize-a-pull-subscription.md) e [Synchronize a Push Subscription](synchronize-a-push-subscription.md).</span><span class="sxs-lookup"><span data-stu-id="c7017-280">For more information, see [Synchronize a Pull Subscription](synchronize-a-pull-subscription.md) and [Synchronize a Push Subscription](synchronize-a-push-subscription.md).</span></span>    
3.  <span data-ttu-id="c7017-281">Verifique a saída de agente para o resultado da validação.</span><span class="sxs-lookup"><span data-stu-id="c7017-281">Check the agent output for the result of the validation.</span></span> <span data-ttu-id="c7017-282">Para obter mais informações, consulte [Validate Data at the Subscriber](validate-data-at-the-subscriber.md).</span><span class="sxs-lookup"><span data-stu-id="c7017-282">For more information, see [Validate Data at the Subscriber](validate-data-at-the-subscriber.md).</span></span>  


## <a name="for-a-single-push-subscription-to-a-merge-publication"></a><span data-ttu-id="c7017-283">Para uma única assinatura push para uma Publicação de Mesclagem</span><span class="sxs-lookup"><span data-stu-id="c7017-283">For a single push subscription to a Merge Publication</span></span> 

### <a name="using-replication-monitor"></a><span data-ttu-id="c7017-284">Usando o Replication Monitor</span><span class="sxs-lookup"><span data-stu-id="c7017-284">Using Replication Monitor</span></span>
  
1.  <span data-ttu-id="c7017-285">No Replication Monitor, expanda um Grupo do publicador no painel esquerdo, expanda um Publicador e, depois, clique em uma publicação.</span><span class="sxs-lookup"><span data-stu-id="c7017-285">In Replication Monitor, expand a Publisher group in the left pane, expand a Publisher, and then click a publication.</span></span>    
2.  <span data-ttu-id="c7017-286">Clique na guia **Todas as Assinaturas** .</span><span class="sxs-lookup"><span data-stu-id="c7017-286">Click the **All Subscriptions** tab.</span></span>    
3.  <span data-ttu-id="c7017-287">Clique com o botão direito do mouse na assinatura que você quer validar, depois clique em **Validar Assinatura**.</span><span class="sxs-lookup"><span data-stu-id="c7017-287">Right-click the subscription you want to validate, and then click **Validate Subscription**.</span></span>    
4.  <span data-ttu-id="c7017-288">Na caixa de diálogo **Validar Assinatura** , selecione **Validar esta assinatura**.</span><span class="sxs-lookup"><span data-stu-id="c7017-288">In the **Validate Subscription** dialog box, select **Validate this subscription**.</span></span>    
5.  <span data-ttu-id="c7017-289">Para especificar o tipo de validação a ser executado (contagem de linha ou contagem de linha e soma de verificação) clique em **Opções**e então especifique as opções na caixa de diálogo **Opções de Validação de Assinatura** .</span><span class="sxs-lookup"><span data-stu-id="c7017-289">To specify the type of validation to perform (row count, or row count and checksum) click **Options**, and then specify options in the **Subscription Validation Options** dialog box.</span></span>    
6.  [!INCLUDE[clickOK](../../includes/clickok-md.md)]    
7.  <span data-ttu-id="c7017-290">Clique na guia **Todas as Assinaturas** .</span><span class="sxs-lookup"><span data-stu-id="c7017-290">Click the **All Subscriptions** tab.</span></span>    
8.  <span data-ttu-id="c7017-291">Exiba os resultados da validação:</span><span class="sxs-lookup"><span data-stu-id="c7017-291">View validation results:</span></span>    
    1.  <span data-ttu-id="c7017-292">Se o agente não estiver sendo executado, clique com o botão direito do mouse na assinatura e então clique em **Iniciar Sincronização**.</span><span class="sxs-lookup"><span data-stu-id="c7017-292">If the agent is not running, right-click the subscription, and then click **Start Synchronizing**.</span></span>    
    2.  <span data-ttu-id="c7017-293">Clique com o botão direito do mouse na assinatura e, em seguida, clique em **Exibir Detalhes**.</span><span class="sxs-lookup"><span data-stu-id="c7017-293">Right-click the subscription, and then click **View Details**.</span></span>    
    3.  <span data-ttu-id="c7017-294">Exiba informações na guia **Histórico de Sincronização** na área de texto **Última mensagem da sessão selecionada** .</span><span class="sxs-lookup"><span data-stu-id="c7017-294">View information on the **Synchronization History** tab in the **Last message of the selected session** text area.</span></span>  
  
## <a name="for-all-push-subscriptions-to-a-merge-publication"></a><span data-ttu-id="c7017-295">Para todas as assinaturas push para uma Publicação de Mesclagem</span><span class="sxs-lookup"><span data-stu-id="c7017-295">For all push subscriptions to a Merge Publication</span></span> 

### <a name="using-replication-monitor"></a><span data-ttu-id="c7017-296">Usando o Replication Monitor</span><span class="sxs-lookup"><span data-stu-id="c7017-296">Using Replication Monitor</span></span>
  
1.  <span data-ttu-id="c7017-297">No Replication Monitor, expanda um Grupo do publicador no painel esquerdo e, depois, expanda um Publicador.</span><span class="sxs-lookup"><span data-stu-id="c7017-297">In Replication Monitor, expand a Publisher group in the left pane, and then expand a Publisher.</span></span>    
2.  <span data-ttu-id="c7017-298">Clique com o botão direito do mouse na publicação para a qual você quer validar assinaturas e então clique em **Validar Todas as Assinaturas**.</span><span class="sxs-lookup"><span data-stu-id="c7017-298">Right-click the publication for which you want to validate subscriptions, and then click **Validate All Subscriptions**.</span></span>    
3.  <span data-ttu-id="c7017-299">Na caixa de diálogo **Validar Todas as Assinaturas** , especifique o tipo de validação a ser executado (contagem de linha ou contagem de linha e soma de verificação).</span><span class="sxs-lookup"><span data-stu-id="c7017-299">In the **Validate All Subscriptions** dialog box, specify the type of validation to perform (row count, or row count and checksum).</span></span>    
4.  [!INCLUDE[clickOK](../../includes/clickok-md.md)]    
5.  <span data-ttu-id="c7017-300">Clique na guia **Todas as Assinaturas** .</span><span class="sxs-lookup"><span data-stu-id="c7017-300">Click the **All Subscriptions** tab.</span></span>    
6.  <span data-ttu-id="c7017-301">Exiba os resultados da validação.</span><span class="sxs-lookup"><span data-stu-id="c7017-301">View validation results.</span></span> <span data-ttu-id="c7017-302">Para cada assinatura push:</span><span class="sxs-lookup"><span data-stu-id="c7017-302">For each push subscription:</span></span>    
    1.  <span data-ttu-id="c7017-303">Se o agente não estiver sendo executado, clique com o botão direito do mouse na assinatura e então clique em **Iniciar Sincronização**.</span><span class="sxs-lookup"><span data-stu-id="c7017-303">If the agent is not running, right-click the subscription, and then click **Start Synchronizing**.</span></span>    
    2.  <span data-ttu-id="c7017-304">Clique com o botão direito do mouse na assinatura e, em seguida, clique em **Exibir Detalhes**.</span><span class="sxs-lookup"><span data-stu-id="c7017-304">Right-click the subscription, and then click **View Details**.</span></span>    
    3.  <span data-ttu-id="c7017-305">Exiba informações na guia **Histórico de Sincronização** na área de texto **Última mensagem da sessão selecionada** .</span><span class="sxs-lookup"><span data-stu-id="c7017-305">View information on the **Synchronization History** tab in the **Last message of the selected session** text area.</span></span>  
  
  
## <a name="validate-data-using-merge-agent-parameters"></a><span data-ttu-id="c7017-306">Validar dados usando Agente de Mesclagem parâmetros</span><span class="sxs-lookup"><span data-stu-id="c7017-306">Validate data using Merge Agent Parameters</span></span>
  
1.  <span data-ttu-id="c7017-307">Inicie o Merge Agent no Assinante (assinatura pull) ou no Distribuidor (assinatura push) do prompt de comando em um dos seguintes modos.</span><span class="sxs-lookup"><span data-stu-id="c7017-307">Start the Merge Agent at the Subscriber (pull subscription) or at the Distributor (push subscription) from the command prompt in one of the following ways.</span></span>    
    -   <span data-ttu-id="c7017-308">Especificando o valor de **1** (número de linhas) ou **3** (número de linhas e soma de verificação binária) para o parâmetro **-Validate** .</span><span class="sxs-lookup"><span data-stu-id="c7017-308">Specifying a value of **1** (rowcount) or **3** (rowcount and binary checksum) for the **-Validate** parameter.</span></span>   
    -   <span data-ttu-id="c7017-309">Especificando **validação de número de linhas** ou **validação de número de linhas e de soma de verificação** para o parâmetro **- ProfileName** .</span><span class="sxs-lookup"><span data-stu-id="c7017-309">Specifying **rowcount validation** or **rowcount and checksum validation** for the **-ProfileName** parameter.</span></span>  
  
     <span data-ttu-id="c7017-310">Para obter mais informações, consulte [Synchronize a Pull Subscription](synchronize-a-pull-subscription.md) ou [Synchronize a Push Subscription](synchronize-a-push-subscription.md).</span><span class="sxs-lookup"><span data-stu-id="c7017-310">For more information, see [Synchronize a Pull Subscription](synchronize-a-pull-subscription.md) or [Synchronize a Push Subscription](synchronize-a-push-subscription.md).</span></span>  
  
## <a name="using-replication-management-objects-rmo"></a><span data-ttu-id="c7017-311">Usando o RMO (Replication Management Objects)</span><span class="sxs-lookup"><span data-stu-id="c7017-311">Using Replication Management Objects (RMO)</span></span>  
 <span data-ttu-id="c7017-312">A replicação permite que você use RMO (Replication Management Objects) para validar programaticamente os dados que no Assinante correspondam aos dados do Publicador.</span><span class="sxs-lookup"><span data-stu-id="c7017-312">Replication enables you to use Replication Management Objects (RMO) to programmatically validate that data at the Subscriber matches data at the Publisher.</span></span> <span data-ttu-id="c7017-313">Os objetos usados dependem do tipo de topologia de replicação.</span><span class="sxs-lookup"><span data-stu-id="c7017-313">The objects you use depend on the type of replication topology.</span></span> <span data-ttu-id="c7017-314">A replicação transacional necessita de validação em todas as assinaturas de uma publicação.</span><span class="sxs-lookup"><span data-stu-id="c7017-314">Transactional replication requires validation of all subscriptions to a publication.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="c7017-315">Para obter um exemplo, consulte [Exemplo (RMO)](#RMOExample)posteriormente nesta seção.</span><span class="sxs-lookup"><span data-stu-id="c7017-315">For an example, see [Example (RMO)](#RMOExample), later in this section.</span></span>  
  
#### <a name="to-validate-data-for-all-articles-in-a-transactional-publication"></a><span data-ttu-id="c7017-316">Para validar dados para todos os artigos em uma publicação transacional</span><span class="sxs-lookup"><span data-stu-id="c7017-316">To validate data for all articles in a transactional publication</span></span>  
  
1.  <span data-ttu-id="c7017-317">Crie uma conexão com o Publicador usando a classe <xref:Microsoft.SqlServer.Management.Common.ServerConnection> .</span><span class="sxs-lookup"><span data-stu-id="c7017-317">Create a connection to the Publisher by using the <xref:Microsoft.SqlServer.Management.Common.ServerConnection> class.</span></span>    
2.  <span data-ttu-id="c7017-318">Criar uma instância da classe <xref:Microsoft.SqlServer.Replication.TransPublication>.</span><span class="sxs-lookup"><span data-stu-id="c7017-318">Create an instance of the <xref:Microsoft.SqlServer.Replication.TransPublication> class.</span></span> <span data-ttu-id="c7017-319">Defina as propriedades <xref:Microsoft.SqlServer.Replication.Publication.Name%2A> e <xref:Microsoft.SqlServer.Replication.Publication.DatabaseName%2A> para a publicação.</span><span class="sxs-lookup"><span data-stu-id="c7017-319">Set the <xref:Microsoft.SqlServer.Replication.Publication.Name%2A> and <xref:Microsoft.SqlServer.Replication.Publication.DatabaseName%2A> properties for the publication.</span></span> <span data-ttu-id="c7017-320">Defina a propriedade <xref:Microsoft.SqlServer.Replication.ReplicationObject.ConnectionContext%2A> para a conexão criada na etapa 1.</span><span class="sxs-lookup"><span data-stu-id="c7017-320">Set the <xref:Microsoft.SqlServer.Replication.ReplicationObject.ConnectionContext%2A> property to the connection created in step 1.</span></span>   
3.  <span data-ttu-id="c7017-321">Chame o método <xref:Microsoft.SqlServer.Replication.ReplicationObject.LoadProperties%2A> para obter as propriedades remanescentes do objeto.</span><span class="sxs-lookup"><span data-stu-id="c7017-321">Call the <xref:Microsoft.SqlServer.Replication.ReplicationObject.LoadProperties%2A> method to get the remaining properties of the object.</span></span> <span data-ttu-id="c7017-322">Se esse método retornar `false`, as propriedades de publicação na etapa 2 foram definidas incorretamente ou a publicação não existe.</span><span class="sxs-lookup"><span data-stu-id="c7017-322">If this method returns `false`, either the publication properties in step 2 were defined incorrectly or the publication does not exist.</span></span>    
4.  <span data-ttu-id="c7017-323">Chame o método <xref:Microsoft.SqlServer.Replication.TransPublication.ValidatePublication%2A> .</span><span class="sxs-lookup"><span data-stu-id="c7017-323">Call the <xref:Microsoft.SqlServer.Replication.TransPublication.ValidatePublication%2A> method.</span></span> <span data-ttu-id="c7017-324">Passe o seguinte:</span><span class="sxs-lookup"><span data-stu-id="c7017-324">Pass the following:</span></span>    
    -   <xref:Microsoft.SqlServer.Replication.ValidationOption>    
    -   <xref:Microsoft.SqlServer.Replication.ValidationMethod>    
    -   <span data-ttu-id="c7017-325">Um Booliano que indica se é preciso parar o Distribution Agent depois de completar a validação.</span><span class="sxs-lookup"><span data-stu-id="c7017-325">A Boolean that indicates whether to stop the Distribution Agent after validation is completed.</span></span>  
  
     <span data-ttu-id="c7017-326">Isso marca os artigos para a validação.</span><span class="sxs-lookup"><span data-stu-id="c7017-326">This marks the articles for validation.</span></span>  
  
5.  <span data-ttu-id="c7017-327">Se ainda não estiver executando, inicie o Distribution Agent para sincronizar cada assinatura.</span><span class="sxs-lookup"><span data-stu-id="c7017-327">If not already running, start the Distribution Agent to synchronize each subscription.</span></span> <span data-ttu-id="c7017-328">Para obter mais informações, consulte [Synchronize a Push Subscription](synchronize-a-push-subscription.md) ou [Synchronize a Pull Subscription](synchronize-a-pull-subscription.md).</span><span class="sxs-lookup"><span data-stu-id="c7017-328">For more information, see [Synchronize a Push Subscription](synchronize-a-push-subscription.md) or [Synchronize a Pull Subscription](synchronize-a-pull-subscription.md).</span></span> <span data-ttu-id="c7017-329">O resultado da operação de validação é escrito no histórico do agente.</span><span class="sxs-lookup"><span data-stu-id="c7017-329">The result of the validation operation is written to the agent history.</span></span> <span data-ttu-id="c7017-330">Para obter mais informações, consulte [Monitoring Replication](monitoring-replication.md).</span><span class="sxs-lookup"><span data-stu-id="c7017-330">For more information, see [Monitoring Replication](monitoring-replication.md).</span></span>  
  
#### <a name="to-validate-data-in-all-subscriptions-to-a-merge-publication"></a><span data-ttu-id="c7017-331">Para validar dados em todas as assinaturas para uma publicação de mesclagem</span><span class="sxs-lookup"><span data-stu-id="c7017-331">To validate data in all subscriptions to a merge publication</span></span>  
  
1.  <span data-ttu-id="c7017-332">Crie uma conexão com o Publicador usando a classe <xref:Microsoft.SqlServer.Management.Common.ServerConnection> .</span><span class="sxs-lookup"><span data-stu-id="c7017-332">Create a connection to the Publisher by using the <xref:Microsoft.SqlServer.Management.Common.ServerConnection> class.</span></span>   
2.  <span data-ttu-id="c7017-333">Criar uma instância da classe <xref:Microsoft.SqlServer.Replication.MergePublication>.</span><span class="sxs-lookup"><span data-stu-id="c7017-333">Create an instance of the <xref:Microsoft.SqlServer.Replication.MergePublication> class.</span></span> <span data-ttu-id="c7017-334">Defina as propriedades <xref:Microsoft.SqlServer.Replication.Publication.Name%2A> e <xref:Microsoft.SqlServer.Replication.Publication.DatabaseName%2A> para a publicação.</span><span class="sxs-lookup"><span data-stu-id="c7017-334">Set the <xref:Microsoft.SqlServer.Replication.Publication.Name%2A> and <xref:Microsoft.SqlServer.Replication.Publication.DatabaseName%2A> properties for the publication.</span></span> <span data-ttu-id="c7017-335">Defina a propriedade <xref:Microsoft.SqlServer.Replication.ReplicationObject.ConnectionContext%2A> para a conexão criada na etapa 1.</span><span class="sxs-lookup"><span data-stu-id="c7017-335">Set the <xref:Microsoft.SqlServer.Replication.ReplicationObject.ConnectionContext%2A> property to the connection created in step 1.</span></span>   
3.  <span data-ttu-id="c7017-336">Chame o método <xref:Microsoft.SqlServer.Replication.ReplicationObject.LoadProperties%2A> para obter as propriedades remanescentes do objeto.</span><span class="sxs-lookup"><span data-stu-id="c7017-336">Call the <xref:Microsoft.SqlServer.Replication.ReplicationObject.LoadProperties%2A> method to get the remaining properties of the object.</span></span> <span data-ttu-id="c7017-337">Se esse método retornar `false`, as propriedades de publicação na etapa 2 foram definidas incorretamente ou a publicação não existe.</span><span class="sxs-lookup"><span data-stu-id="c7017-337">If this method returns `false`, either the publication properties in step 2 were defined incorrectly or the publication does not exist.</span></span>    
4.  <span data-ttu-id="c7017-338">Chame o método <xref:Microsoft.SqlServer.Replication.MergePublication.ValidatePublication%2A> .</span><span class="sxs-lookup"><span data-stu-id="c7017-338">Call the <xref:Microsoft.SqlServer.Replication.MergePublication.ValidatePublication%2A> method.</span></span> <span data-ttu-id="c7017-339">Passe o <xref:Microsoft.SqlServer.Replication.ValidationOption>desejado.</span><span class="sxs-lookup"><span data-stu-id="c7017-339">Pass the desired <xref:Microsoft.SqlServer.Replication.ValidationOption>.</span></span>    
5.  <span data-ttu-id="c7017-340">Execute o Merge Agent para cada assinatura iniciar a validação ou espere pela próxima execução de agente marcada.</span><span class="sxs-lookup"><span data-stu-id="c7017-340">Run the Merge Agent for each subscription to start validation, or wait for the next scheduled agent run.</span></span> <span data-ttu-id="c7017-341">Para obter mais informações, consulte [Synchronize a Pull Subscription](synchronize-a-pull-subscription.md) e [Synchronize a Push Subscription](synchronize-a-push-subscription.md).</span><span class="sxs-lookup"><span data-stu-id="c7017-341">For more information, see [Synchronize a Pull Subscription](synchronize-a-pull-subscription.md) and [Synchronize a Push Subscription](synchronize-a-push-subscription.md).</span></span> <span data-ttu-id="c7017-342">O resultado da operação de validação é gravado no histórico de agente que você exibe usando o Replication Monitor.</span><span class="sxs-lookup"><span data-stu-id="c7017-342">The result of the validation operation is written to the agent history, which you view by using Replication Monitor.</span></span> <span data-ttu-id="c7017-343">Para obter mais informações, consulte [Monitoring Replication](monitoring-replication.md).</span><span class="sxs-lookup"><span data-stu-id="c7017-343">For more information, see [Monitoring Replication](monitoring-replication.md).</span></span>  
  
#### <a name="to-validate-data-in-a-single-subscription-to-a-merge-publication"></a><span data-ttu-id="c7017-344">Para validar os dados em uma única assinatura em uma publicação de mesclagem</span><span class="sxs-lookup"><span data-stu-id="c7017-344">To validate data in a single subscription to a merge publication</span></span>  
  
1.  <span data-ttu-id="c7017-345">Crie uma conexão com o Publicador usando a classe <xref:Microsoft.SqlServer.Management.Common.ServerConnection> .</span><span class="sxs-lookup"><span data-stu-id="c7017-345">Create a connection to the Publisher by using the <xref:Microsoft.SqlServer.Management.Common.ServerConnection> class.</span></span>    
2.  <span data-ttu-id="c7017-346">Criar uma instância da classe <xref:Microsoft.SqlServer.Replication.MergePublication>.</span><span class="sxs-lookup"><span data-stu-id="c7017-346">Create an instance of the <xref:Microsoft.SqlServer.Replication.MergePublication> class.</span></span> <span data-ttu-id="c7017-347">Defina as propriedades <xref:Microsoft.SqlServer.Replication.Publication.Name%2A> e <xref:Microsoft.SqlServer.Replication.Publication.DatabaseName%2A> para a publicação.</span><span class="sxs-lookup"><span data-stu-id="c7017-347">Set the <xref:Microsoft.SqlServer.Replication.Publication.Name%2A> and <xref:Microsoft.SqlServer.Replication.Publication.DatabaseName%2A> properties for the publication.</span></span> <span data-ttu-id="c7017-348">Defina a propriedade <xref:Microsoft.SqlServer.Replication.ReplicationObject.ConnectionContext%2A> para a conexão criada na etapa 1.</span><span class="sxs-lookup"><span data-stu-id="c7017-348">Set the <xref:Microsoft.SqlServer.Replication.ReplicationObject.ConnectionContext%2A> property to the connection created in step 1.</span></span>    
3.  <span data-ttu-id="c7017-349">Chame o método <xref:Microsoft.SqlServer.Replication.ReplicationObject.LoadProperties%2A> para obter as propriedades remanescentes do objeto.</span><span class="sxs-lookup"><span data-stu-id="c7017-349">Call the <xref:Microsoft.SqlServer.Replication.ReplicationObject.LoadProperties%2A> method to get the remaining properties of the object.</span></span> <span data-ttu-id="c7017-350">Se esse método retornar `false`, as propriedades de publicação na etapa 2 foram definidas incorretamente ou a publicação não existe.</span><span class="sxs-lookup"><span data-stu-id="c7017-350">If this method returns `false`, either the publication properties in step 2 were defined incorrectly or the publication does not exist.</span></span>    
4.  <span data-ttu-id="c7017-351">Chame o método <xref:Microsoft.SqlServer.Replication.MergePublication.ValidateSubscription%2A> .</span><span class="sxs-lookup"><span data-stu-id="c7017-351">Call the <xref:Microsoft.SqlServer.Replication.MergePublication.ValidateSubscription%2A> method.</span></span> <span data-ttu-id="c7017-352">Passe o nome do Assinante e banco de dados de assinatura que estão sendo validados e o <xref:Microsoft.SqlServer.Replication.ValidationOption>desejado.</span><span class="sxs-lookup"><span data-stu-id="c7017-352">Pass the name of the Subscriber and subscription database being validated and the desired <xref:Microsoft.SqlServer.Replication.ValidationOption>.</span></span>    
5.  <span data-ttu-id="c7017-353">Execute o Merge Agent para a assinatura iniciar a validação ou espere pela próxima execução de agente marcada.</span><span class="sxs-lookup"><span data-stu-id="c7017-353">Run the Merge Agent for the subscription to start validation, or wait for the next scheduled agent run.</span></span> <span data-ttu-id="c7017-354">Para obter mais informações, consulte [Synchronize a Pull Subscription](synchronize-a-pull-subscription.md) e [Synchronize a Push Subscription](synchronize-a-push-subscription.md).</span><span class="sxs-lookup"><span data-stu-id="c7017-354">For more information, see [Synchronize a Pull Subscription](synchronize-a-pull-subscription.md) and [Synchronize a Push Subscription](synchronize-a-push-subscription.md).</span></span> <span data-ttu-id="c7017-355">O resultado da operação de validação é gravado no histórico de agente que você exibe usando o Replication Monitor.</span><span class="sxs-lookup"><span data-stu-id="c7017-355">The result of the validation operation is written to the agent history, which you view by using Replication Monitor.</span></span> <span data-ttu-id="c7017-356">Para obter mais informações, consulte [Monitoring Replication](monitoring-replication.md).</span><span class="sxs-lookup"><span data-stu-id="c7017-356">For more information, see [Monitoring Replication](monitoring-replication.md).</span></span>  
  
###  <a name="example-rmo"></a><a name="RMOExample"></a> <span data-ttu-id="c7017-357">Exemplo (RMO)</span><span class="sxs-lookup"><span data-stu-id="c7017-357">Example (RMO)</span></span>  
 <span data-ttu-id="c7017-358">Este exemplo marca todas as assinatura em uma publicação transacional para a validação de número de linhas.</span><span class="sxs-lookup"><span data-stu-id="c7017-358">This example marks all subscriptions to a transactional publication for rowcount validation.</span></span>  
  
 [!code-csharp[HowTo#rmo_ValidateTranPub](../../snippets/csharp/SQL15/replication/howto/cs/rmotestevelope.cs#rmo_validatetranpub)]  
  
 [!code-vb[HowTo#rmo_vb_ValidateTranPub](../../snippets/visualbasic/SQL15/replication/howto/vb/rmotestenv.vb#rmo_vb_validatetranpub)]  
  
 <span data-ttu-id="c7017-359">Este exemplo marca uma assinatura específica em uma publicação de mesclagem para validação de número de linhas.</span><span class="sxs-lookup"><span data-stu-id="c7017-359">This example marks a specific subscription to a merge publication for rowcount validation.</span></span>  
  
 [!code-csharp[HowTo#rmo_ValidateMergeSub](../../snippets/csharp/SQL15/replication/howto/cs/rmotestevelope.cs#rmo_validatemergesub)]  
  
 [!code-vb[HowTo#rmo_vb_ValidateMergeSub](../../snippets/visualbasic/SQL15/replication/howto/vb/rmotestenv.vb#rmo_vb_validatemergesub)]  
  
  
