---
title: Gerar filtros | Microsoft Docs
ms.custom: ''
ms.date: 06/14/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: replication
ms.topic: conceptual
f1_keywords:
- sql12.rep.newpubwizard.generatefilters.f1
ms.assetid: be28515c-5d6d-467b-b933-d7c8d97a45b4
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: b0e484c89c97d3f32f3e41197800202f796a25d2
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87569893"
---
# <a name="generate-filters"></a><span data-ttu-id="06bf4-102">Gerar Filtros</span><span class="sxs-lookup"><span data-stu-id="06bf4-102">Generate Filters</span></span>
  <span data-ttu-id="06bf4-103">A caixa de diálogo **Gerar Filtros** permite definir um filtro de linha em uma tabela em uma publicação de mesclagem; a replicação, então, estende automaticamente o filtro para outras tabelas relacionadas por relações de chave estrangeira.</span><span class="sxs-lookup"><span data-stu-id="06bf4-103">The **Generate Filters** dialog box allows you to define a row filter on one table in a merge publication; replication then automatically extends the filter to other tables that are related through foreign key relationships.</span></span> <span data-ttu-id="06bf4-104">Por exemplo, se você definir um filtro em uma tabela de cliente para que contenha apenas dados de clientes franceses, a replicação estenderá esse filtro para que as tabelas de pedidos relacionadas e detalhes do pedidos contenham somente informações relacionadas aos clientes franceses.</span><span class="sxs-lookup"><span data-stu-id="06bf4-104">For example, if you define a filter on a customer table so that it only contains data on French customers, replication extends that filter so that related orders and order details tables contain only information related to French customers.</span></span>  
  
## <a name="options"></a><span data-ttu-id="06bf4-105">Opções</span><span class="sxs-lookup"><span data-stu-id="06bf4-105">Options</span></span>  
 <span data-ttu-id="06bf4-106">Essa caixa de diálogo envolve um processo de três etapas para criar um filtro de linha em uma tabela.</span><span class="sxs-lookup"><span data-stu-id="06bf4-106">This dialog box involves a three-step process to create a row filter on a table.</span></span> <span data-ttu-id="06bf4-107">O filtro é então estendido para as tabelas relacionadas à tabela filtrada por relações de chave primária e chave estrangeira.</span><span class="sxs-lookup"><span data-stu-id="06bf4-107">The filter is then extended to the tables related to the filtered table through primary key and foreign key relationships.</span></span> <span data-ttu-id="06bf4-108">Por exemplo, nas três tabelas **Customer**, **SalesOrderHeader**e **SalesOrderDetail**, com uma relação entre **Customer** e **SalesOrderHeader**, e uma relação entre **SalesOrderHeader** e **SalesOrderDetail**, aplique um filtro de linha em **Customer**e a replicação estenderá esse filtro a **SalesOrderHeader** e **SalesOrderDetail**.</span><span class="sxs-lookup"><span data-stu-id="06bf4-108">For example, given the three tables **Customer**, **SalesOrderHeader**, and **SalesOrderDetail**, with a relationship between **Customer** and **SalesOrderHeader**, and a relationship between **SalesOrderHeader** and **SalesOrderDetail**, apply a row filter to **Customer**, and replication extends that filter to **SalesOrderHeader** and **SalesOrderDetail**.</span></span>  
  
1.  <span data-ttu-id="06bf4-109">**Selecionar a tabela a ser filtrada**</span><span class="sxs-lookup"><span data-stu-id="06bf4-109">**Select the table to filter.**</span></span>  
  
     <span data-ttu-id="06bf4-110">Selecione uma tabela na caixa de listagem suspensa.</span><span class="sxs-lookup"><span data-stu-id="06bf4-110">Select a table from the drop-down list box.</span></span> <span data-ttu-id="06bf4-111">As tabelas só serão exibidas na caixa de listagem se forem selecionadas na página **Artigos** .</span><span class="sxs-lookup"><span data-stu-id="06bf4-111">Tables appear in the list box only if they were selected on the **Articles** page.</span></span>  
  
2.  <span data-ttu-id="06bf4-112">**Conclua a instrução de filtro para identificar quais linhas de tabela os Assinantes receberão**</span><span class="sxs-lookup"><span data-stu-id="06bf4-112">**Complete the filter statement to identify which table rows Subscribers will receive.**</span></span>  
  
     <span data-ttu-id="06bf4-113">Defina uma nova instrução de filtro.</span><span class="sxs-lookup"><span data-stu-id="06bf4-113">Define a new filter statement.</span></span> <span data-ttu-id="06bf4-114">A caixa de listagem **Colunas** lista todas as colunas que você está publicando da tabela selecionada em **Selecionar a tabela a ser filtrada**.</span><span class="sxs-lookup"><span data-stu-id="06bf4-114">The **Columns** list box lists all the columns that you are publishing from the table you selected in **Select the table to filter**.</span></span> <span data-ttu-id="06bf4-115">A área de texto **Instrução de filtro** inclui o texto padrão que está no formato de:</span><span class="sxs-lookup"><span data-stu-id="06bf4-115">The **Filter statement** text area includes the default text, which is in the form of:</span></span>  
  
     `SELECT <published_columns> FROM [tableowner].[tablename] WHERE`  
  
     <span data-ttu-id="06bf4-116">Esse texto padrão não pode ser alterado; digite a cláusula de filtro depois da palavra-chave WHERE usando a sintaxe padrão [!INCLUDE[tsql](../../includes/tsql-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="06bf4-116">This text cannot be changed; type the filter clause after the WHERE keyword using standard [!INCLUDE[tsql](../../includes/tsql-md.md)] syntax.</span></span>  
  
    > [!IMPORTANT]  
    >  <span data-ttu-id="06bf4-117">Por motivos de desempenho, recomendamos que não sejam aplicadas funções a nomes de colunas em cláusulas de filtro de linha com parâmetros, como `LEFT([MyColumn]) = SUSER_SNAME()`.</span><span class="sxs-lookup"><span data-stu-id="06bf4-117">For performance reasons, we recommended that you not apply functions to column names in parameterized row filter clauses, such as `LEFT([MyColumn]) = SUSER_SNAME()`.</span></span> <span data-ttu-id="06bf4-118">Se você usar HOST_NAME em uma cláusula de filtro e substituir o valor HOST_NAME, talvez precise converter tipos de dados usando CONVERT.</span><span class="sxs-lookup"><span data-stu-id="06bf4-118">If you use HOST_NAME in a filter clause and override the HOST_NAME value, it might be necessary to convert data types using CONVERT.</span></span> <span data-ttu-id="06bf4-119">Para obter mais informações sobre práticas recomendadas para esse caso, consulte a seção "Substituindo o valor de HOST_NAME()" no tópico [Parameterized Row Filters](merge/parameterized-filters-parameterized-row-filters.md).</span><span class="sxs-lookup"><span data-stu-id="06bf4-119">For more information about best practices for this case, see the section "Overriding the HOST_NAME() Value" in the topic [Parameterized Row Filters](merge/parameterized-filters-parameterized-row-filters.md).</span></span>  
  
3.  <span data-ttu-id="06bf4-120">**Especifique quantas assinaturas receberão dados desta tabela**</span><span class="sxs-lookup"><span data-stu-id="06bf4-120">**Specify how many subscriptions will receive data from this table.**</span></span>  
  
     <span data-ttu-id="06bf4-121">Somente [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] e versões posteriores.</span><span class="sxs-lookup"><span data-stu-id="06bf4-121">[!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] and later versions only.</span></span> <span data-ttu-id="06bf4-122">Replicação de mesclagem permite especificar o tipo de partição que melhor combina com seus dados e aplicativo.</span><span class="sxs-lookup"><span data-stu-id="06bf4-122">Merge replication allows you to specify the type of partitions that are best suited to your data and application.</span></span> <span data-ttu-id="06bf4-123">Se você selecionar **Uma linha desta tabela irá para apenas uma assinatura**, a replicação de mesclagem definirá a opção de partições não sobrepostas.</span><span class="sxs-lookup"><span data-stu-id="06bf4-123">If you select **A row from this table will go to only one subscription**, merge replication sets the nonoverlapping partitions option.</span></span> <span data-ttu-id="06bf4-124">Partições não sobrepostas funcionam com partições pré-computadas para melhorar o desempenho, com as partições não sobrepostas minimizando o custo de carregamento associado a partições pré-computadas.</span><span class="sxs-lookup"><span data-stu-id="06bf4-124">Nonoverlapping partitions work in conjunction with precomputed partitions to improve performance, with nonoverlapping partitions minimizing the upload cost associated with precomputed partitions.</span></span> <span data-ttu-id="06bf4-125">O benefício de desempenho de partições que não se sobrepõem é mais notável quando os filtros com parâmetros e de junção usados são mais complexos.</span><span class="sxs-lookup"><span data-stu-id="06bf4-125">The performance benefit of nonoverlapping partitions is more noticeable when the parameterized filters and join filters used are more complex.</span></span> <span data-ttu-id="06bf4-126">Se você selecionar essa opção, deve assegurar que os dados sejam particionados de forma tal que uma linha não possa ser replicada em mais de um Assinante.</span><span class="sxs-lookup"><span data-stu-id="06bf4-126">If you select this option, you must ensure that the data is partitioned in such a way that a row cannot be replicated to more than one Subscriber.</span></span> <span data-ttu-id="06bf4-127">Para obter mais informações, consulte a seção "Configurando opções de partição" no tópico [Parameterized Row Filters](merge/parameterized-filters-parameterized-row-filters.md).</span><span class="sxs-lookup"><span data-stu-id="06bf4-127">For more information, see the section "Setting 'partition options'" in the topic [Parameterized Row Filters](merge/parameterized-filters-parameterized-row-filters.md).</span></span>  
  
 <span data-ttu-id="06bf4-128">Depois de adicionar um filtro, clique em **OK** para sair e fechar a caixa de diálogo.</span><span class="sxs-lookup"><span data-stu-id="06bf4-128">After you have added a filter, click **OK** to exit and close the dialog box.</span></span> <span data-ttu-id="06bf4-129">O filtro que você especificou é analisado e executado na tabela, na cláusula SELECT.</span><span class="sxs-lookup"><span data-stu-id="06bf4-129">The filter you specified is parsed and run against the table in the SELECT clause.</span></span> <span data-ttu-id="06bf4-130">Se a instrução de filtro contiver erros de sintaxe ou outros problemas, você será notificado e poderá editar a instrução do filtro.</span><span class="sxs-lookup"><span data-stu-id="06bf4-130">If the filter statement contains syntax errors or other problems, you will be notified and will be able to edit the filter statement.</span></span>  
  
 <span data-ttu-id="06bf4-131">Depois que a instrução é analisada, a replicação cria os filtros de junção necessários.</span><span class="sxs-lookup"><span data-stu-id="06bf4-131">After the statement is parsed, replication creates the necessary join filters.</span></span> <span data-ttu-id="06bf4-132">Se você ainda não tiver configurado o Distribuidor para o Publicador no qual este assistente está sendo executado, será solicitado a fazê-lo.</span><span class="sxs-lookup"><span data-stu-id="06bf4-132">If you have not yet configured the Distributor for the Publisher against which this wizard is running, you are prompted to configure it.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="06bf4-133">Consulte Também</span><span class="sxs-lookup"><span data-stu-id="06bf4-133">See Also</span></span>  
 <span data-ttu-id="06bf4-134">[Create a Publication](publish/create-a-publication.md) </span><span class="sxs-lookup"><span data-stu-id="06bf4-134">[Create a Publication](publish/create-a-publication.md) </span></span>  
 <span data-ttu-id="06bf4-135">[Exibir e modificar as propriedades da publicação](publish/view-and-modify-publication-properties.md) </span><span class="sxs-lookup"><span data-stu-id="06bf4-135">[View and Modify Publication Properties](publish/view-and-modify-publication-properties.md) </span></span>  
 <span data-ttu-id="06bf4-136">[Filtrar os dados publicados](publish/filter-published-data.md) </span><span class="sxs-lookup"><span data-stu-id="06bf4-136">[Filter Published Data](publish/filter-published-data.md) </span></span>  
 <span data-ttu-id="06bf4-137">[Join Filters](merge/join-filters.md) </span><span class="sxs-lookup"><span data-stu-id="06bf4-137">[Join Filters](merge/join-filters.md) </span></span>  
 <span data-ttu-id="06bf4-138">[Parameterized Row Filters](merge/parameterized-filters-parameterized-row-filters.md) </span><span class="sxs-lookup"><span data-stu-id="06bf4-138">[Parameterized Row Filters](merge/parameterized-filters-parameterized-row-filters.md) </span></span>  
 [<span data-ttu-id="06bf4-139">Publicar dados e objetos de banco de dados</span><span class="sxs-lookup"><span data-stu-id="06bf4-139">Publish Data and Database Objects</span></span>](publish/publish-data-and-database-objects.md)  
  
  
