---
title: Proteger o publicador | Microsoft Docs
ms.custom: ''
ms.date: 03/08/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: replication
ms.topic: conceptual
helpviewer_keywords:
- logins [SQL Server replication], publication access list
- publications [SQL Server replication], publication access lists
- publication access list (PAL)
- PAL (publication access list)
- Publishers [SQL Server replication], security
- publications [SQL Server replication], security
ms.assetid: 4513a18d-dd6e-407a-b009-49dc9432ec7e
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: dca3f704c43a97c2c34921007341b9bd613676ea
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87576277"
---
# <a name="secure-the-publisher"></a><span data-ttu-id="35a02-102">Proteger o Publicador</span><span class="sxs-lookup"><span data-stu-id="35a02-102">Secure the Publisher</span></span>
  <span data-ttu-id="35a02-103">Os seguintes agentes de replicação se conectam ao Publicador:</span><span class="sxs-lookup"><span data-stu-id="35a02-103">The following replication agents connect to the Publisher:</span></span>  
  
-   <span data-ttu-id="35a02-104">Agente de Leitor de Log</span><span class="sxs-lookup"><span data-stu-id="35a02-104">Log Reader Agent</span></span>  
  
-   <span data-ttu-id="35a02-105">Snapshot Agent</span><span class="sxs-lookup"><span data-stu-id="35a02-105">Snapshot Agent</span></span>  
  
-   <span data-ttu-id="35a02-106">Queue Reader Agent</span><span class="sxs-lookup"><span data-stu-id="35a02-106">Queue Reader Agent</span></span>  
  
-   <span data-ttu-id="35a02-107">Merge Agent</span><span class="sxs-lookup"><span data-stu-id="35a02-107">Merge Agent</span></span>  
  
 <span data-ttu-id="35a02-108">Recomendamos que você forneça um logon adequado para esses agentes, siga o princípio de conceder o mínimo possível de direitos necessários e de proteger o armazenamento de todas as senhas.</span><span class="sxs-lookup"><span data-stu-id="35a02-108">We recommend that you provide an appropriate login for these agents, follow the principle of granting the minimal rights that are required, and protect the storage of all passwords.</span></span> <span data-ttu-id="35a02-109">Para obter mais informações sobre permissões requeridas para cada agente, consulte [Replication Agent Security Model](replication-agent-security-model.md).</span><span class="sxs-lookup"><span data-stu-id="35a02-109">For information about the permissions that are required for each agent, see [Replication Agent Security Model](replication-agent-security-model.md).</span></span>  
  
 <span data-ttu-id="35a02-110">Além de gerenciar adequadamente logons e senhas, você deve entender a função da lista de acesso à publicação (PAL).</span><span class="sxs-lookup"><span data-stu-id="35a02-110">Besides appropriately managing logins and passwords, you should understand the role of the publication access list (PAL).</span></span> <span data-ttu-id="35a02-111">A PAL é usada para habilitar logons para acessar os dados da publicação enquanto restringem o acesso ad hoc ao banco de dados no Publicador.</span><span class="sxs-lookup"><span data-stu-id="35a02-111">The PAL is used to enable logins to access to publication data while restricting ad hoc access to the database at the Publisher.</span></span>  
  
## <a name="publication-access-list"></a><span data-ttu-id="35a02-112">Lista de acesso à publicação</span><span class="sxs-lookup"><span data-stu-id="35a02-112">Publication Access List</span></span>  
 <span data-ttu-id="35a02-113">A PAL é o mecanismo principal para proteger publicações no Publicador.</span><span class="sxs-lookup"><span data-stu-id="35a02-113">The PAL is the primary mechanism for securing publications at the Publisher.</span></span> <span data-ttu-id="35a02-114">A PAL funciona de modo semelhante à lista de controle de acesso do [!INCLUDE[msCoName](../../../includes/msconame-md.md)] Windows.</span><span class="sxs-lookup"><span data-stu-id="35a02-114">The PAL functions similarly to a [!INCLUDE[msCoName](../../../includes/msconame-md.md)] Windows access control list.</span></span> <span data-ttu-id="35a02-115">Quando você cria uma publicação, a replicação cria uma PAL para a publicação.</span><span class="sxs-lookup"><span data-stu-id="35a02-115">When you create a publication, replication creates a PAL for the publication.</span></span> <span data-ttu-id="35a02-116">A PAL pode ser configurada para conter uma lista de logons e grupos com acesso concedido à publicação.</span><span class="sxs-lookup"><span data-stu-id="35a02-116">The PAL can be configured to contain a list of logins and groups that are granted access to the publication.</span></span> <span data-ttu-id="35a02-117">Quando um agente se conecta ao Publicador ou ao Distribuidor e solicita acesso à publicação, as informações de autenticação na PAL são comparadas com o logon no Publicador fornecido por aquele agente.</span><span class="sxs-lookup"><span data-stu-id="35a02-117">When an agent connects to the Publisher or Distributor and requests access to a publication, the authentication information in the PAL is compared to the Publisher login that the agent provides.</span></span> <span data-ttu-id="35a02-118">Esse processo fornece segurança adicional ao Publicador, impedindo que o logon do Publicador e do Distribuidor seja usado por uma ferramenta cliente para executar modificações diretamente no Publicador.</span><span class="sxs-lookup"><span data-stu-id="35a02-118">This process provides additional security for the Publisher by preventing the Publisher and Distributor login from being used by a client tool to perform modifications on the Publisher directly.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="35a02-119">A replicação cria uma função no Publicador para cada publicação impor a associação à PAL.</span><span class="sxs-lookup"><span data-stu-id="35a02-119">Replication creates a role on the Publisher for each publication to enforce PAL membership.</span></span> <span data-ttu-id="35a02-120">A função tem um nome no formato **Msmerge_** _\<PublicationID>_ para replicação de mesclagem e **MSReplPAL_** _\<PublicationDatabaseID>_ **_** _\<PublicationID>_ para replicação transacional e de instantâneo.</span><span class="sxs-lookup"><span data-stu-id="35a02-120">The role has a name in the form **Msmerge_**_\<PublicationID>_ for merge replication and **MSReplPAL_**_\<PublicationDatabaseID>_**_**_\<PublicationID>_ for transactional and snapshot replication.</span></span>  
  
 <span data-ttu-id="35a02-121">Por padrão, os seguintes logons são incluídos na PAL: os membros da função de servidor fixa **sysadmin** no momento em que a publicação é criada e o logon usado para criar a publicação.</span><span class="sxs-lookup"><span data-stu-id="35a02-121">By default, the following logins are included in the PAL: the members of the **sysadmin** fixed server role at the time the publication is created and the login that is used to create the publication.</span></span> <span data-ttu-id="35a02-122">Por padrão, todos os logons que são membros da função de servidor fixa **sysadmin** ou da função de banco de dados fixa **db_owner** no banco de dados de publicação podem assinar uma publicação sem serem adicionados explicitamente à PAL.</span><span class="sxs-lookup"><span data-stu-id="35a02-122">By default, all logins that are members of the **sysadmin** fixed server role or the **db_owner** fixed database role on the publication database can subscribe to a publication without being explicitly added to the PAL.</span></span>  
  
 <span data-ttu-id="35a02-123">Quando você estiver usando a PAL, considere as seguintes diretrizes:</span><span class="sxs-lookup"><span data-stu-id="35a02-123">When you are using the PAL, consider the following guidelines:</span></span>  
  
-   <span data-ttu-id="35a02-124">É preciso associar o logon do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] com um usuário de banco de dados no banco de dados de publicação antes de adicionar o logon à PAL.</span><span class="sxs-lookup"><span data-stu-id="35a02-124">You must associate the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] login with a database user in the publication database before adding the login to the PAL.</span></span>  
  
-   <span data-ttu-id="35a02-125">Siga o princípio de menos privilégios permitindo logons na PAL somente as permissões cujos logons precisem executar tarefas de replicação.</span><span class="sxs-lookup"><span data-stu-id="35a02-125">Follow the principle of least privilege by allowing logins in the PAL only the permissions the logins must have to perform replication tasks.</span></span> <span data-ttu-id="35a02-126">Não adicione os logons a quaisquer funções de banco de dados fixas ou funções de servidor que não são necessários para replicação.</span><span class="sxs-lookup"><span data-stu-id="35a02-126">Do not add the logins to any fixed database roles or server roles that are not required for replication.</span></span> <span data-ttu-id="35a02-127">Para obter mais informações sobre as permissões exigidas, consulte [Replication Agent Security Model](replication-agent-security-model.md) e [Replication Security Best Practices](replication-security-best-practices.md).</span><span class="sxs-lookup"><span data-stu-id="35a02-127">For more information about the permissions that are required, see [Replication Agent Security Model](replication-agent-security-model.md) and [Replication Security Best Practices](replication-security-best-practices.md).</span></span>  
  
-   <span data-ttu-id="35a02-128">Se for usado um Distribuidor remoto, as contas da PAL precisarão estar disponíveis tanto no Publicador quanto no Distribuidor.</span><span class="sxs-lookup"><span data-stu-id="35a02-128">If a remote Distributor is used, accounts in the PAL must be available at both the Publisher and the Distributor.</span></span> <span data-ttu-id="35a02-129">A conta ou deve ser uma conta de domínio ou uma conta local que é definida em ambos os servidores.</span><span class="sxs-lookup"><span data-stu-id="35a02-129">The account must be either a domain account or a local account that is defined at both servers.</span></span> <span data-ttu-id="35a02-130">As senhas associadas com ambos os logons devem ser as mesmas.</span><span class="sxs-lookup"><span data-stu-id="35a02-130">The passwords associated with both logins must be the same.</span></span>  
  
-   <span data-ttu-id="35a02-131">Se a PAL contiver contas do Windows e o domínio usa o Active Directory, a conta em que o [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] executa deverá ter permissões de leitura do Active Directory.</span><span class="sxs-lookup"><span data-stu-id="35a02-131">If the PAL contains Windows accounts and the domain uses Active Directory, the account under which [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] runs must have permissions to read from Active Directory.</span></span> <span data-ttu-id="35a02-132">Se você tiver problemas com contas do Windows, verifique se a conta que executa o [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] possui permissões adequadas.</span><span class="sxs-lookup"><span data-stu-id="35a02-132">If you experience issues with Windows accounts, make sure that the account under which [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] runs has sufficient permissions.</span></span> <span data-ttu-id="35a02-133">Para obter mais informações, consulte a documentação do Windows.</span><span class="sxs-lookup"><span data-stu-id="35a02-133">For more information, see the Windows documentation.</span></span>  
  
 <span data-ttu-id="35a02-134">Para gerenciar o PAL, consulte [Gerenciar logons na Lista de Acesso à Publicação](manage-logins-in-the-publication-access-list.md).</span><span class="sxs-lookup"><span data-stu-id="35a02-134">To manage the PAL, see [Manage Logins in the Publication Access List](manage-logins-in-the-publication-access-list.md).</span></span>  
  
## <a name="snapshot-agent"></a><span data-ttu-id="35a02-135">Snapshot Agent</span><span class="sxs-lookup"><span data-stu-id="35a02-135">Snapshot Agent</span></span>  
 <span data-ttu-id="35a02-136">Há um Agente de Instantâneo para cada publicação.</span><span class="sxs-lookup"><span data-stu-id="35a02-136">There is one Snapshot Agent for each publication.</span></span> <span data-ttu-id="35a02-137">Para obter mais informações, consulte [Criar uma assinatura](../publish/create-a-publication.md).</span><span class="sxs-lookup"><span data-stu-id="35a02-137">For more information, see [Create a Publication](../publish/create-a-publication.md).</span></span>  
  
## <a name="ftp-snapshot-delivery"></a><span data-ttu-id="35a02-138">Entrega de instantâneo por FTP</span><span class="sxs-lookup"><span data-stu-id="35a02-138">FTP Snapshot Delivery</span></span>  
 <span data-ttu-id="35a02-139">Se especificar que os instantâneos devem ser disponibilizados através de um compartilhamento FTP ao invés de um compartilhamento UNC, você deverá especificar um logon e uma senha quando for configurar o acesso ao FTP.</span><span class="sxs-lookup"><span data-stu-id="35a02-139">If you specify that snapshots should be made available through an FTP share rather than a UNC share, you must specify a login and password when configuring FTP access.</span></span> <span data-ttu-id="35a02-140">Para obter mais informações, consulte [Deliver a Snapshot Through FTP](../publish/deliver-a-snapshot-through-ftp.md) (Entregar um instantâneo por meio de FTP).</span><span class="sxs-lookup"><span data-stu-id="35a02-140">For more information, see [Deliver a Snapshot Through FTP](../publish/deliver-a-snapshot-through-ftp.md).</span></span>  
  
## <a name="log-reader-agent"></a><span data-ttu-id="35a02-141">Agente de Leitor de Log</span><span class="sxs-lookup"><span data-stu-id="35a02-141">Log Reader Agent</span></span>  
 <span data-ttu-id="35a02-142">Há um Agente de Leitor de Log para cada banco de dados publicado para replicação transacional.</span><span class="sxs-lookup"><span data-stu-id="35a02-142">There is one Log Reader Agent for each database published for transactional replication.</span></span> <span data-ttu-id="35a02-143">Para obter mais informações, consulte [Criar uma assinatura](../publish/create-a-publication.md).</span><span class="sxs-lookup"><span data-stu-id="35a02-143">For more information, see [Create a Publication](../publish/create-a-publication.md).</span></span>  
  
## <a name="queue-reader-agent"></a><span data-ttu-id="35a02-144">Queue Reader Agent</span><span class="sxs-lookup"><span data-stu-id="35a02-144">Queue Reader Agent</span></span>  
 <span data-ttu-id="35a02-145">Há um Agente de Leitor de Fila para todos os Publicadores e publicações (que permite assinaturas de atualização em fila) associado a um determinado Distribuidor.</span><span class="sxs-lookup"><span data-stu-id="35a02-145">There is one Queue Reader Agent for all Publishers and publications (that allow queued updating subscriptions) associated with a given Distributor.</span></span> <span data-ttu-id="35a02-146">Para obter mais informações, consulte [Habilitar atualização de assinaturas para publicações transacionais](../publish/enable-updating-subscriptions-for-transactional-publications.md).</span><span class="sxs-lookup"><span data-stu-id="35a02-146">For more information, see [Enable Updating Subscriptions for Transactional Publications](../publish/enable-updating-subscriptions-for-transactional-publications.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="35a02-147">Consulte Também</span><span class="sxs-lookup"><span data-stu-id="35a02-147">See Also</span></span>  
 <span data-ttu-id="35a02-148">[Habilitar conexões criptografadas no Mecanismo de Banco de Dados &#40;SQL Server Configuration Manager&#41;](../../../database-engine/configure-windows/enable-encrypted-connections-to-the-database-engine.md) </span><span class="sxs-lookup"><span data-stu-id="35a02-148">[Enable Encrypted Connections to the Database Engine &#40;SQL Server Configuration Manager&#41;](../../../database-engine/configure-windows/enable-encrypted-connections-to-the-database-engine.md) </span></span>  
 <span data-ttu-id="35a02-149">[Replication Security Best Practices](replication-security-best-practices.md) </span><span class="sxs-lookup"><span data-stu-id="35a02-149">[Replication Security Best Practices](replication-security-best-practices.md) </span></span>  
 [<span data-ttu-id="35a02-150">Segurança de Replicação do SQL Server</span><span class="sxs-lookup"><span data-stu-id="35a02-150">SQL Server Replication Security</span></span>](view-and-modify-replication-security-settings.md)  
  
  
