---
title: Configurar IIS para sincronização da Web | Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: replication
ms.topic: conceptual
helpviewer_keywords:
- IIS server configuration [SQL Server replication]
- websync.log
- Web synchronization, IIS servers
ms.assetid: d651186e-c9ca-4864-a444-2cd6943b8e35
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: 523c4fc30151acd3ee4df21f2fdaa2187e702870
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87571949"
---
# <a name="configure-iis-for-web-synchronization"></a><span data-ttu-id="fa93b-102">Configurar IIS para sincronização da Web</span><span class="sxs-lookup"><span data-stu-id="fa93b-102">Configure IIS for Web Synchronization</span></span>
  <span data-ttu-id="fa93b-103">Os procedimentos neste tópico compõem a segunda etapa para configurar a sincronização da Web para replicação de mesclagem.</span><span class="sxs-lookup"><span data-stu-id="fa93b-103">The procedures in this topic make up the second step in configuring Web synchronization for merge replication.</span></span> <span data-ttu-id="fa93b-104">Esta etapa é executada depois que você habilita uma publicação para sincronização da Web.</span><span class="sxs-lookup"><span data-stu-id="fa93b-104">You perform this step after you enable a publication for Web synchronization.</span></span> <span data-ttu-id="fa93b-105">Para obter uma visão geral do processo de configuração, consulte [Configurar Sincronização da Web](configure-web-synchronization.md).</span><span class="sxs-lookup"><span data-stu-id="fa93b-105">For an overview of the configuration process, see [Configure Web Synchronization](configure-web-synchronization.md).</span></span> <span data-ttu-id="fa93b-106">Depois de concluir os procedimentos neste tópico, continue na terceira etapa, configurando uma assinatura para usar a sincronização da Web.</span><span class="sxs-lookup"><span data-stu-id="fa93b-106">After you complete the procedures in this topic, continue to the third step, configuring a subscription to use Web synchronization.</span></span> <span data-ttu-id="fa93b-107">A terceira etapa é descrita nos seguintes tópicos:</span><span class="sxs-lookup"><span data-stu-id="fa93b-107">This third step is described in the following topics:</span></span>  
  
-   [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)]<span data-ttu-id="fa93b-108">: [Como configurar uma assinatura para usar a sincronização da Web \(SQL Server Management Studio\)](https://msdn.microsoft.com/library/ms345214.aspx)</span><span class="sxs-lookup"><span data-stu-id="fa93b-108">: [How to: Configure a Subscription to Use Web Synchronization \(SQL Server Management Studio\)](https://msdn.microsoft.com/library/ms345214.aspx)</span></span>  
  
-   <span data-ttu-id="fa93b-109">Programação [!INCLUDE[tsql](../../includes/tsql-md.md)] de replicação: [Como configurar uma Assinatura para usar a sincronização da Web (Programação Transact-SQL de replicação)](https://msdn.microsoft.com/library/ms345206.aspx)</span><span class="sxs-lookup"><span data-stu-id="fa93b-109">Replication [!INCLUDE[tsql](../../includes/tsql-md.md)] programming: [How to: Configure a Subscription to Use Web Synchronization (Replication Transact-SQL Programming)](https://msdn.microsoft.com/library/ms345206.aspx)</span></span>  
  
-   <span data-ttu-id="fa93b-110">RMO: [Como configurar uma assinatura para usar sincronização da Web (programação RMO)](https://msdn.microsoft.com/library/ms345207.aspx)</span><span class="sxs-lookup"><span data-stu-id="fa93b-110">RMO: [How to: Configure a Subscription to Use Web Synchronization (RMO Programming)](https://msdn.microsoft.com/library/ms345207.aspx)</span></span>  
  
 <span data-ttu-id="fa93b-111">A sincronização da Web usa um computador que esteja executando o IIS (Serviços de Informações da Internet) da [!INCLUDE[msCoName](../../includes/msconame-md.md)] para sincronizar assinaturas pull para publicações de mesclagem.</span><span class="sxs-lookup"><span data-stu-id="fa93b-111">Web synchronization uses a computer that is running [!INCLUDE[msCoName](../../includes/msconame-md.md)] Internet Information Services (IIS) to synchronize pull subscriptions to merge publications.</span></span> <span data-ttu-id="fa93b-112">As versões 5.0, 6.0 e 7.0 do IIS são compatíveis.</span><span class="sxs-lookup"><span data-stu-id="fa93b-112">IIS version 5.0, IIS version 6.0, and IIS version 7.0 are supported.</span></span> <span data-ttu-id="fa93b-113">O Assistente para Configurar a Sincronização da Web não tem suporte no IIS versão 7.0.</span><span class="sxs-lookup"><span data-stu-id="fa93b-113">The Configure Web Synchronization Wizard is not supported on IIS version 7.0.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="fa93b-114">Certifique-se de que seu aplicativo use apenas versões [!INCLUDE[dnprdnlong](../../includes/dnprdnlong-md.md)] ou posteriores e que as versões anteriores do [!INCLUDE[dnprdnshort](../../includes/dnprdnshort-md.md)] não estejam instaladas no servidor IIS.</span><span class="sxs-lookup"><span data-stu-id="fa93b-114">Make sure that your application uses only [!INCLUDE[dnprdnlong](../../includes/dnprdnlong-md.md)] or later versions, and that earlier versions of the [!INCLUDE[dnprdnshort](../../includes/dnprdnshort-md.md)] are not installed on the IIS server.</span></span> <span data-ttu-id="fa93b-115">Versões anteriores do [!INCLUDE[dnprdnshort](../../includes/dnprdnshort-md.md)] podem causar erros.</span><span class="sxs-lookup"><span data-stu-id="fa93b-115">Earlier versions of the [!INCLUDE[dnprdnshort](../../includes/dnprdnshort-md.md)] can cause errors.</span></span> <span data-ttu-id="fa93b-116">Esses erros incluem o seguinte: "Formato inválido de uma mensagem durante a sincronização da Web.</span><span class="sxs-lookup"><span data-stu-id="fa93b-116">These include the following: "The format of a message during Web synchronization was invalid.</span></span> <span data-ttu-id="fa93b-117">Verifique se os componentes de replicação estão adequadamente configurados no servidor Web".</span><span class="sxs-lookup"><span data-stu-id="fa93b-117">Ensure that replication components are properly configured at the Web server".</span></span>  
  
> [!CAUTION]  
>  <span data-ttu-id="fa93b-118">Não use WebSync e locais de pasta de instantâneo alternativos ao mesmo tempo.</span><span class="sxs-lookup"><span data-stu-id="fa93b-118">Do not use both WebSync and alternate snapshot folder locations at the same time.</span></span>  
  
 <span data-ttu-id="fa93b-119">Para usar a sincronização da Web, é necessário configurar o IIS concluindo as etapas a seguir.</span><span class="sxs-lookup"><span data-stu-id="fa93b-119">To use Web synchronization, you must configure IIS by completing the following steps.</span></span> <span data-ttu-id="fa93b-120">Cada etapa é descrita em detalhes neste tópico.</span><span class="sxs-lookup"><span data-stu-id="fa93b-120">Each step is described in detail in this topic.</span></span>  
  
1.  <span data-ttu-id="fa93b-121">Configure o protocolo SSL.</span><span class="sxs-lookup"><span data-stu-id="fa93b-121">Configure Secure Sockets Layer (SSL).</span></span> <span data-ttu-id="fa93b-122">O SSL é necessário para a comunicação entre o IIS e todos os Assinantes.</span><span class="sxs-lookup"><span data-stu-id="fa93b-122">SSL is required for communication between IIS and all Subscribers.</span></span>  
  
2.  <span data-ttu-id="fa93b-123">Instale [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] os componentes de conectividade no computador que está executando o IIS usando o [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Assistente de instalação do.</span><span class="sxs-lookup"><span data-stu-id="fa93b-123">Install [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] connectivity components on the computer that is running IIS by using the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Installation Wizard.</span></span> <span data-ttu-id="fa93b-124">Se você planeja usar o Assistente para Configurar Sincronização da Web, mencionado na etapa 3, será preciso instalar o [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] no computador que está executando o IIS.</span><span class="sxs-lookup"><span data-stu-id="fa93b-124">If you plan to use the Configure Web Synchronization Wizard that is mentioned in step 3, you must also install [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] on the computer that is running IIS.</span></span>  
  
3.  <span data-ttu-id="fa93b-125">Configure o computador que está executando o IIS para sincronização da Web.</span><span class="sxs-lookup"><span data-stu-id="fa93b-125">Configure the computer that is running IIS for Web synchronization.</span></span> <span data-ttu-id="fa93b-126">Você pode configurar o computador manualmente ou pode usar o Assistente para Configurar Sincronização da Web.</span><span class="sxs-lookup"><span data-stu-id="fa93b-126">You can configure the computer manually or use the Configure Web Synchronization Wizard.</span></span> <span data-ttu-id="fa93b-127">Recomendamos o uso do assistente.</span><span class="sxs-lookup"><span data-stu-id="fa93b-127">We recommend that you use the wizard.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="fa93b-128">Se o computador que está executando o IIS tiver uma versão de 64 bits do Windows, será necessário executar o comando a seguir para verificar se o servidor está configurado adequadamente para executar os aplicativos ISAPI (Internet Server API).</span><span class="sxs-lookup"><span data-stu-id="fa93b-128">If the computer that is running IIS is running on a 64-bit version of Windows, you must run following command to make sure that the server is properly configured to run Internet Server API (ISAPI) applications.</span></span> <span data-ttu-id="fa93b-129">Para obter mais informações, consulte a documentação do IIS.</span><span class="sxs-lookup"><span data-stu-id="fa93b-129">For more information, see the IIS documentation.</span></span>  
  
    ```  
    cscript %SystemDrive%\inetpub\AdminScripts\adsutil.vbs set w3svc/AppPools/Enable32bitAppOnWin64 1  
    ```  
  
4.  <span data-ttu-id="fa93b-130">Defina as permissões apropriadas para o [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Replication Listener.</span><span class="sxs-lookup"><span data-stu-id="fa93b-130">Set the appropriate permissions for the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Replication Listener.</span></span>  
  
5.  <span data-ttu-id="fa93b-131">Execute a sincronização da Web em modo de diagnóstico para testar a conexão com o computador que está executando o IIS e verificar se o certificado SSL está instalado adequadamente.</span><span class="sxs-lookup"><span data-stu-id="fa93b-131">Run Web synchronization in diagnostic mode to test the connection to the computer that is running IIS and to make sure that the SSL certificate is properly installed.</span></span>  
  
## <a name="configuring-secure-sockets-layer"></a><span data-ttu-id="fa93b-132">Configurando o protocolo SSL</span><span class="sxs-lookup"><span data-stu-id="fa93b-132">Configuring Secure Sockets Layer</span></span>  
 <span data-ttu-id="fa93b-133">Para configurar o protocolo SSL, especifique um certificado a ser usado pelo computador que está executando o IIS.</span><span class="sxs-lookup"><span data-stu-id="fa93b-133">To configure SSL, specify a certificate for the computer that is running IIS to use.</span></span> <span data-ttu-id="fa93b-134">A sincronização da Web para replicação de mesclagem oferece suporte ao uso de certificados de servidor, mas não de certificados de cliente.</span><span class="sxs-lookup"><span data-stu-id="fa93b-134">Web synchronization for merge replication supports using server certificates but not client certificates.</span></span> <span data-ttu-id="fa93b-135">Para configurar o IIS para implantação, você deve obter primeiro um certificado de uma CA (autoridade de certificação).</span><span class="sxs-lookup"><span data-stu-id="fa93b-135">To configure IIS for deployment, you must first obtain a certificate from a certification authority (CA).</span></span> <span data-ttu-id="fa93b-136">Uma autoridade de certificação é uma entidade responsável por estabelecer e atestar a autenticidade das chaves de criptografia públicas que pertencem a usuários, computadores ou outras autoridades de certificação.</span><span class="sxs-lookup"><span data-stu-id="fa93b-136">A certificate authority is an entity that is responsible for establishing and vouching for the authenticity of public encryption keys that belong to users, computers, or other certification authorities.</span></span> <span data-ttu-id="fa93b-137">Para obter mais informações sobre certificados, consulte a documentação do IIS.</span><span class="sxs-lookup"><span data-stu-id="fa93b-137">For more information about certificates, see the IIS documentation.</span></span> <span data-ttu-id="fa93b-138">Depois de instalar o certificado, você deve associar o certificado ao site da Web que é usado pela sincronização da Web.</span><span class="sxs-lookup"><span data-stu-id="fa93b-138">After you install the certificate, you must associate the certificate with the Web site that is used by Web synchronization.</span></span>  
  
#### <a name="to-specify-a-certificate-for-deployment"></a><span data-ttu-id="fa93b-139">Para especificar um certificado para implantação</span><span class="sxs-lookup"><span data-stu-id="fa93b-139">To specify a certificate for deployment</span></span>  
  
1.  <span data-ttu-id="fa93b-140">Faça logon no computador que está executando IIS como um administrador.</span><span class="sxs-lookup"><span data-stu-id="fa93b-140">Log on to the computer that is running IIS as an administrator.</span></span>  
  
2.  <span data-ttu-id="fa93b-141">Inicie o **Gerenciador dos Serviços de Informações da Internet (IIS)**:</span><span class="sxs-lookup"><span data-stu-id="fa93b-141">Start **Internet Information Services (IIS) Manager**:</span></span>  
  
    1.  <span data-ttu-id="fa93b-142">Clique em **Iniciar**e em **Executar**.</span><span class="sxs-lookup"><span data-stu-id="fa93b-142">Click **Start**, and then click **Run**.</span></span>  
  
    2.  <span data-ttu-id="fa93b-143">Na caixa **abrir** , digite `inetmgr` e clique em **OK**.</span><span class="sxs-lookup"><span data-stu-id="fa93b-143">In the **Open** box, type `inetmgr`, and then click **OK**.</span></span>  
  
3.  <span data-ttu-id="fa93b-144">Execute o Assistente de Certificado IIS:</span><span class="sxs-lookup"><span data-stu-id="fa93b-144">Run the IIS Certificate Wizard:</span></span>  
  
    1.  <span data-ttu-id="fa93b-145">No **Gerenciador dos Serviços de Informações da Internet (IIS)**, expanda o nó **computador local** e depois expanda a pasta **Sites da Web** .</span><span class="sxs-lookup"><span data-stu-id="fa93b-145">In **Internet Information Services (IIS) Manager**, expand the **local computer** node, and then expand the **Web Sites** folder.</span></span>  
  
    2.  <span data-ttu-id="fa93b-146">Clique com o botão direito em **Site Padrão da Web**e depois clique em **Propriedades**.</span><span class="sxs-lookup"><span data-stu-id="fa93b-146">Right-click **Default Web Site**, and then click **Properties**.</span></span>  
  
    3.  <span data-ttu-id="fa93b-147">Na caixa de diálogo **Propriedades do Site Padrão da Web** , na guia **Segurança de Diretório** , clique em **Certificado do Servidor**.</span><span class="sxs-lookup"><span data-stu-id="fa93b-147">In the **Default Web Site Properties** dialog box, on the **Directory Security** tab, click **Server Certificate**.</span></span>  
  
    4.  <span data-ttu-id="fa93b-148">Conclua o Assistente de Certificado de Servidor Web.</span><span class="sxs-lookup"><span data-stu-id="fa93b-148">Complete the Web Server Certificate Wizard.</span></span>  
  
4.  <span data-ttu-id="fa93b-149">Clique em **OK**.</span><span class="sxs-lookup"><span data-stu-id="fa93b-149">Click **OK**.</span></span>  
  
 <span data-ttu-id="fa93b-150">Se não puder obter um certificado de servidor de uma CA, você poderá especificar um certificado a ser testado.</span><span class="sxs-lookup"><span data-stu-id="fa93b-150">If you cannot obtain a server certificate from a CA, you can specify a certificate for testing.</span></span> <span data-ttu-id="fa93b-151">Para configurar o IIS 6.0 para teste, instale um certificado usando o utilitário SelfSSL.</span><span class="sxs-lookup"><span data-stu-id="fa93b-151">To configure IIS 6.0 for testing, install a certificate by using the SelfSSL utility.</span></span> <span data-ttu-id="fa93b-152">Este utilitário está disponível no IIS 6.0 Resource Kit.</span><span class="sxs-lookup"><span data-stu-id="fa93b-152">This utility is available in the IIS 6.0 Resource Kit.</span></span> <span data-ttu-id="fa93b-153">Você pode baixar as ferramentas no [Centro de Download da Microsoft](https://www.microsoft.com/download/details.aspx?id=5135).</span><span class="sxs-lookup"><span data-stu-id="fa93b-153">You can download the tools from the [Microsoft Download Center](https://www.microsoft.com/download/details.aspx?id=5135).</span></span> <span data-ttu-id="fa93b-154">Para o IIS 5.0, vá para [Ajuda e Suporte da Microsoft](https://go.microsoft.com/fwlink/?LinkId=46229).</span><span class="sxs-lookup"><span data-stu-id="fa93b-154">For IIS 5.0, go to [Microsoft Help and Support](https://go.microsoft.com/fwlink/?LinkId=46229).</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="fa93b-155">Um certificado deve ser associado a um site da Web antes que esse site possa usar o SSL.</span><span class="sxs-lookup"><span data-stu-id="fa93b-155">A certificate must be associated with a Web site before that Web site can use SSL.</span></span> <span data-ttu-id="fa93b-156">O SelfSSL associa o certificado automaticamente com o site da Web padrão.</span><span class="sxs-lookup"><span data-stu-id="fa93b-156">SelfSSL automatically associates the certificate with the default Web site.</span></span> <span data-ttu-id="fa93b-157">Se já tiver um certificado ou se instalar depois um certificado de uma CA, você deve associar explicitamente esse certificado ao site da Web que é usado para a sincronização da Web.</span><span class="sxs-lookup"><span data-stu-id="fa93b-157">If you already have a certificate or later install a certificate from a CA, you must explicitly associate that certificate with the Web site that is used by Web synchronization.</span></span> <span data-ttu-id="fa93b-158">Certifique-se de haver somente um certificado associado ao site da Web utilizado para sincronizar as assinaturas.</span><span class="sxs-lookup"><span data-stu-id="fa93b-158">Make sure there is only one certificate associated with the Web site that is used to synchronize subscriptions.</span></span> <span data-ttu-id="fa93b-159">Se houver vários certificados, o Assinante usará o primeiro site da Web disponível.</span><span class="sxs-lookup"><span data-stu-id="fa93b-159">If there are multiple certificates, the Subscriber will use the first available Web site.</span></span>  
  
#### <a name="to-specify-a-certificate-for-testing-in-iis-60"></a><span data-ttu-id="fa93b-160">Para especificar um certificado para teste no IIS 6.0</span><span class="sxs-lookup"><span data-stu-id="fa93b-160">To specify a certificate for testing in IIS 6.0</span></span>  
  
1.  <span data-ttu-id="fa93b-161">Faça logon no computador que está executando IIS como um administrador.</span><span class="sxs-lookup"><span data-stu-id="fa93b-161">Log on to the computer that is running IIS as an administrator.</span></span>  
  
2.  <span data-ttu-id="fa93b-162">Baixar e instalar o SelfSSL.</span><span class="sxs-lookup"><span data-stu-id="fa93b-162">Download and install SelfSSL.</span></span> <span data-ttu-id="fa93b-163">Por padrão, o aplicativo é instalado em \<*drive*> : \Program Files\IIS Resources\SelfSSL.</span><span class="sxs-lookup"><span data-stu-id="fa93b-163">By default, the application is installed to \<*drive*>:\Program Files\IIS Resources\SelfSSL.</span></span> <span data-ttu-id="fa93b-164">Os atalhos de aplicativo e documentação são copiados para \<*drive*> : \Documents and Settings\All Users\menu Menu\Programs\IIS Resources\SelfSSL.</span><span class="sxs-lookup"><span data-stu-id="fa93b-164">Application and documentation shortcuts are copied to \<*drive*>:\Documents and Settings\All Users\Start Menu\Programs\IIS Resources\SelfSSL.</span></span>  
  
3.  <span data-ttu-id="fa93b-165">Execute o SelfSSL:</span><span class="sxs-lookup"><span data-stu-id="fa93b-165">Run SelfSSL:</span></span>  
  
    -   <span data-ttu-id="fa93b-166">Para executar o SelfSSL com valores padrão para todos os parâmetros, localize o diretório de instalação para o aplicativo e clique duas vezes no SelfSSL.exe.</span><span class="sxs-lookup"><span data-stu-id="fa93b-166">To run SelfSSL with default values for all parameters, locate the installation directory for the application, and then double-click SelfSSL.exe.</span></span>  
  
        > [!NOTE]  
        >  <span data-ttu-id="fa93b-167">Por padrão, o certificado instalado pelo SelfSSL é válido durante sete dias.</span><span class="sxs-lookup"><span data-stu-id="fa93b-167">By default, the certificate that is installed by SelfSSL is valid for seven days.</span></span>  
  
    -   <span data-ttu-id="fa93b-168">Para especificar valores para um ou mais parâmetros: clique em **Iniciar**e clique em **Executar**.</span><span class="sxs-lookup"><span data-stu-id="fa93b-168">To specify values for one or more parameters: click **Start**, and then click **Run**.</span></span> <span data-ttu-id="fa93b-169">Na caixa **abrir** , digite `cmd` e clique em **OK**.</span><span class="sxs-lookup"><span data-stu-id="fa93b-169">In the **Open** box, enter `cmd`, and then click **OK**.</span></span> <span data-ttu-id="fa93b-170">Localize o diretório de instalação do SelfSSL, digite `SelfSSL`e depois especifique valores para um ou mais parâmetros.</span><span class="sxs-lookup"><span data-stu-id="fa93b-170">Locate the SelfSSL installation directory, type `SelfSSL`, and then specify values for one or more parameters.</span></span> <span data-ttu-id="fa93b-171">Para obter uma lista de parâmetros, digite `SelfSSL -?`.</span><span class="sxs-lookup"><span data-stu-id="fa93b-171">For a list of parameters, type `SelfSSL -?`.</span></span>  
  
## <a name="installing-connectivity-components-and-sql-server-management-studio"></a><span data-ttu-id="fa93b-172">Instalando os componentes de conectividade e o SQL Server Management Studio</span><span class="sxs-lookup"><span data-stu-id="fa93b-172">Installing Connectivity Components and SQL Server Management Studio</span></span>  
  
#### <a name="to-install-sql-server-connectivity-components-and-sql-server-management-studio"></a><span data-ttu-id="fa93b-173">Para instalar os componentes de conectividade SQL Server e o SQL Server Management Studio</span><span class="sxs-lookup"><span data-stu-id="fa93b-173">To install SQL Server connectivity components and SQL Server Management Studio</span></span>  
  
1.  <span data-ttu-id="fa93b-174">Faça logon como administrador no computador executando IIS.</span><span class="sxs-lookup"><span data-stu-id="fa93b-174">Log on as an administrator to the computer that is running IIS.</span></span>  
  
2.  <span data-ttu-id="fa93b-175">No disco de instalação do [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] , inicie o Assistente de Instalação do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="fa93b-175">From the [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] installation disk, start the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Installation Wizard.</span></span> <span data-ttu-id="fa93b-176">Para obter mais informações sobre como usar esse assistente, consulte [instalar SQL Server 2014 no assistente de instalação &#40;&#41;de instalação ](../../database-engine/install-windows/install-sql-server-from-the-installation-wizard-setup.md).</span><span class="sxs-lookup"><span data-stu-id="fa93b-176">For more information about using this wizard, see [Install SQL Server 2014 from the Installation Wizard &#40;Setup&#41;](../../database-engine/install-windows/install-sql-server-from-the-installation-wizard-setup.md).</span></span>  
  
3.  <span data-ttu-id="fa93b-177">Na página **Seleção de Recursos** , selecione **Conectividade das Ferramentas de Cliente**.</span><span class="sxs-lookup"><span data-stu-id="fa93b-177">On the **Feature Selection** page, select **Client Tools Connectivity**.</span></span>  
  
4.  <span data-ttu-id="fa93b-178">Se você estiver planejando usar o Assistente para Configurar Sincronização da Web, selecione **Ferramentas de Gerenciamento - Básico**.</span><span class="sxs-lookup"><span data-stu-id="fa93b-178">If you plan to use the Configure Web Synchronization Wizard, select **Management Tools - Basic**.</span></span>  
  
5.  <span data-ttu-id="fa93b-179">Conclua o assistente e depois reinicie o computador.</span><span class="sxs-lookup"><span data-stu-id="fa93b-179">Complete the wizard, and then restart the computer.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="fa93b-180">Você pode instalar componentes adicionais, mas só os componentes de conectividade são necessários para a sincronização da Web.</span><span class="sxs-lookup"><span data-stu-id="fa93b-180">You can install additional components, but only the connectivity components are required for Web synchronization.</span></span>  
  
## <a name="configuring-the-computer-that-is-running-iis-by-using-the-configure-web-synchronization-wizard"></a><span data-ttu-id="fa93b-181">Configurando o computador que está executando IIS usando o Assistente para Configuração da Sincronização da Web</span><span class="sxs-lookup"><span data-stu-id="fa93b-181">Configuring the Computer That Is Running IIS by Using the Configure Web Synchronization Wizard</span></span>  
 <span data-ttu-id="fa93b-182">Configure o servidor IIS usando o Assistente para Configuração da Sincronização da Web ou manualmente.</span><span class="sxs-lookup"><span data-stu-id="fa93b-182">Configure the IIS server by using the Configure Web Synchronization Wizard or manually.</span></span> <span data-ttu-id="fa93b-183">Recomendamos o uso do assistente, mas nós também fornecemos etapas para configuração manual na próxima seção.</span><span class="sxs-lookup"><span data-stu-id="fa93b-183">We recommend using the wizard, but we also provide steps for manual configuration in the next section.</span></span> <span data-ttu-id="fa93b-184">O Assistente para Sincronização da Web que está disponível com o [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] pode ser usado apenas para publicações criadas em um Publicador que estiver executando o [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)]ou em um Publicador que foi atualizado para o [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)].</span><span class="sxs-lookup"><span data-stu-id="fa93b-184">The Web Synchronization Wizard that is available with [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] can be used only for publications that were created on a Publisher that is running [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)], or a Publisher that was upgraded to [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)].</span></span> <span data-ttu-id="fa93b-185">O assistente não pode ser usado para publicações no [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)].</span><span class="sxs-lookup"><span data-stu-id="fa93b-185">The wizard cannot be used for publications on [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)].</span></span> <span data-ttu-id="fa93b-186">O assistente pode ser usado com assinaturas no [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] e em versões posteriores, e no [!INCLUDE[ssEWnoversion](../../includes/ssewnoversion-md.md)] 3.0 e em versões posteriores.</span><span class="sxs-lookup"><span data-stu-id="fa93b-186">The wizard can be used with subscriptions on [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] and later versions, and [!INCLUDE[ssEWnoversion](../../includes/ssewnoversion-md.md)] 3.0 and later versions.</span></span>  
  
 <span data-ttu-id="fa93b-187">A configuração tem as seguintes características:</span><span class="sxs-lookup"><span data-stu-id="fa93b-187">The configuration has the following characteristics:</span></span>  
  
-   <span data-ttu-id="fa93b-188">Usa o site padrão em IIS.</span><span class="sxs-lookup"><span data-stu-id="fa93b-188">Uses the default Web site in IIS.</span></span> <span data-ttu-id="fa93b-189">Porém, você pode usar outro site da Web.</span><span class="sxs-lookup"><span data-stu-id="fa93b-189">However, you can use another Web site.</span></span> <span data-ttu-id="fa93b-190">Para obter mais informações sobre como criar sites da Web, consulte a documentação de IIS.</span><span class="sxs-lookup"><span data-stu-id="fa93b-190">For more information about how to create Web sites, see the IIS documentation.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="fa93b-191">O site da Web que você especificar fornece acesso aos componentes que são usados pela sincronização da Web.</span><span class="sxs-lookup"><span data-stu-id="fa93b-191">The Web site that you specify provides access to the components that are used by Web synchronization.</span></span> <span data-ttu-id="fa93b-192">O site da Web não fornece acesso a outros dados ou páginas da Web, a menos que você o configure para fazer isso.</span><span class="sxs-lookup"><span data-stu-id="fa93b-192">The Web site does not provide access to other data or Web pages unless you configure the site to do so.</span></span>  
  
-   <span data-ttu-id="fa93b-193">Cria um diretório virtual e seu alias associado.</span><span class="sxs-lookup"><span data-stu-id="fa93b-193">Creates a virtual directory and its associated alias.</span></span> <span data-ttu-id="fa93b-194">O alias é usado ao acessar os componentes de sincronização da Web.</span><span class="sxs-lookup"><span data-stu-id="fa93b-194">The alias is used when accessing the Web synchronization components.</span></span> <span data-ttu-id="fa93b-195">Por exemplo, se o endereço de IIS for `https://*server.domain.com*` e você especificar um alias de 'websync1', o endereço de acesso ao componente replisapi.dll será `https://*server.domain.com*/websync1/replisapi.dll`.</span><span class="sxs-lookup"><span data-stu-id="fa93b-195">For example, if the IIS address is `https://*server.domain.com*` and you specify an alias of 'websync1', the address to access the replisapi.dll component is `https://*server.domain.com*/websync1/replisapi.dll`.</span></span>  
  
-   <span data-ttu-id="fa93b-196">Usa a Autenticação Básica.</span><span class="sxs-lookup"><span data-stu-id="fa93b-196">Uses Basic Authentication.</span></span> <span data-ttu-id="fa93b-197">Recomendamos o uso da Autenticação Básica porque ela torna possível executar o IIS e o Publicador/Distribuidor do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] em computadores separados (configuração recomendada) sem exigir delegação Kerberos.</span><span class="sxs-lookup"><span data-stu-id="fa93b-197">We recommend using Basic Authentication because Basic Authentication enables you to run IIS and the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Publisher/Distributor on separate computers (the recommended configuration) without requiring Kerberos delegation.</span></span> <span data-ttu-id="fa93b-198">Usar o SSL com Autenticação Básica assegura que logons, senhas e todos os dados sejam criptografados em trânsito.</span><span class="sxs-lookup"><span data-stu-id="fa93b-198">Using SSL with Basic Authentication makes sure that logins, passwords, and all data are encrypted in transit.</span></span> <span data-ttu-id="fa93b-199">(O SSL é necessário, independentemente do tipo de autenticação usado.) Para obter mais informações sobre as práticas recomendadas para sincronização da Web, consulte a seção "práticas recomendadas de segurança para sincronização da Web" em [Configurar sincronização da Web](configure-web-synchronization.md).</span><span class="sxs-lookup"><span data-stu-id="fa93b-199">(SSL is required, regardless of the type of authentication that is used.) For more information about best practices for Web synchronization, see the section "Security Best Practices for Web Synchronization" in [Configure Web Synchronization](configure-web-synchronization.md).</span></span>  
  
#### <a name="to-configure-the-computer-that-is-running-iis-by-using-the-configure-web-synchronization-wizard"></a><span data-ttu-id="fa93b-200">Para configurar o computador que está executando IIS usando o Assistente para Configuração da Sincronização da Web</span><span class="sxs-lookup"><span data-stu-id="fa93b-200">To configure the computer that is running IIS by using the Configure Web Synchronization Wizard</span></span>  
  
1.  <span data-ttu-id="fa93b-201">No computador que está executando o IIS, inicie o [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span><span class="sxs-lookup"><span data-stu-id="fa93b-201">On the computer that is running IIS, start [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span></span>  
  
2.  <span data-ttu-id="fa93b-202">Conecte-se ao Publicador e depois expanda o nó do servidor.</span><span class="sxs-lookup"><span data-stu-id="fa93b-202">Connect to the Publisher, and then expand the server node.</span></span>  
  
3.  <span data-ttu-id="fa93b-203">Expanda a pasta **Publicações Locais** , clique com o botão direito do mouse na publicação e depois clique em **Configurar Sincronização da Web**.</span><span class="sxs-lookup"><span data-stu-id="fa93b-203">Expand the **Local Publications** folder, right-click the publication, and then click **Configure Web Synchronization**.</span></span>  
  
4.  <span data-ttu-id="fa93b-204">No Assistente para Configuração da Sincronização da Web, na página **Tipo de Assinante** , selecione o **SQL Server**.</span><span class="sxs-lookup"><span data-stu-id="fa93b-204">In the Configure Web Synchronization Wizard, on the **Subscriber Type** page, select **SQL Server**.</span></span>  
  
5.  <span data-ttu-id="fa93b-205">Na página **Servidor Web** :</span><span class="sxs-lookup"><span data-stu-id="fa93b-205">On the **Web Server** page:</span></span>  
  
    1.  <span data-ttu-id="fa93b-206">Selecione a instância de IIS que sincronizará as assinaturas.</span><span class="sxs-lookup"><span data-stu-id="fa93b-206">Select the instance of IIS that will synchronize subscriptions.</span></span>  
  
    2.  <span data-ttu-id="fa93b-207">Selecione **Criar um novo diretório virtual**.</span><span class="sxs-lookup"><span data-stu-id="fa93b-207">Select **Create a new virtual directory**.</span></span>  
  
    3.  <span data-ttu-id="fa93b-208">No painel inferior da página, expanda a instância de IIS, expanda **Sites da Web**e clique em **Site Padrão**.</span><span class="sxs-lookup"><span data-stu-id="fa93b-208">In the lower pane of the page, expand the instance of IIS, expand **Web Sites**, and then click **Default Web Site**.</span></span>  
  
6.  <span data-ttu-id="fa93b-209">Na página **Informações do Diretório Virtual** :</span><span class="sxs-lookup"><span data-stu-id="fa93b-209">On the **Virtual Directory Information** page:</span></span>  
  
    1.  <span data-ttu-id="fa93b-210">Na caixa **Alias** , digite um alias para o diretório virtual.</span><span class="sxs-lookup"><span data-stu-id="fa93b-210">In the **Alias** box, enter an alias for the virtual directory.</span></span>  
  
    2.  <span data-ttu-id="fa93b-211">Na caixa **Caminho** , digite um caminho para o diretório virtual.</span><span class="sxs-lookup"><span data-stu-id="fa93b-211">In the **Path** box, enter a path of the virtual directory.</span></span> <span data-ttu-id="fa93b-212">Por exemplo, se você inseriu `websync1` na caixa **alias** , digite `C:\Inetpub\wwwroot\websync1` na caixa **caminho** .</span><span class="sxs-lookup"><span data-stu-id="fa93b-212">For example, if you entered `websync1` in the **Alias** box, enter `C:\Inetpub\wwwroot\websync1` in the **Path** box.</span></span> <span data-ttu-id="fa93b-213">Clique em **Próximo**.</span><span class="sxs-lookup"><span data-stu-id="fa93b-213">Click **Next**.</span></span>  
  
    3.  <span data-ttu-id="fa93b-214">Nas duas caixas de diálogo, clique em **Sim**.</span><span class="sxs-lookup"><span data-stu-id="fa93b-214">On both dialog boxes, click **Yes**.</span></span> <span data-ttu-id="fa93b-215">Isso especifica que você deseja criar uma nova pasta e deseja copiar o Internet Server API (ISAPI) DLL do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="fa93b-215">This specifies that you want to create a new folder and that you want to copy the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Internet Server API (ISAPI) DLL.</span></span> <span data-ttu-id="fa93b-216">.</span><span class="sxs-lookup"><span data-stu-id="fa93b-216">.</span></span>  
  
7.  <span data-ttu-id="fa93b-217">Na página **Acesso Autenticado** :</span><span class="sxs-lookup"><span data-stu-id="fa93b-217">On the **Authenticated Access** page:</span></span>  
  
    1.  <span data-ttu-id="fa93b-218">Certifique-se de que os servidores de domínio **Autenticação Integrada do Windows** e **Autenticação digest para servidores de domínio Windows** estejam desmarcados.</span><span class="sxs-lookup"><span data-stu-id="fa93b-218">Make sure that **Integrated Windows authentication** and **Digest authentication for Windows domain servers** are cleared.</span></span>  
  
    2.  <span data-ttu-id="fa93b-219">Selecione **Autenticação Básica**.</span><span class="sxs-lookup"><span data-stu-id="fa93b-219">Select **Basic Authentication**.</span></span>  
  
    3.  <span data-ttu-id="fa93b-220">Nas caixas **Domínio Padrão** e **Realm** , digite o domínio do computador que está executando IIS.</span><span class="sxs-lookup"><span data-stu-id="fa93b-220">In the **Default Domain** and **Realm** boxes, enter the domain of the computer that is running IIS.</span></span>  
  
8.  <span data-ttu-id="fa93b-221">Na página **Acesso ao Diretório** :</span><span class="sxs-lookup"><span data-stu-id="fa93b-221">On the **Directory Access** page:</span></span>  
  
    1.  <span data-ttu-id="fa93b-222">Clique na caixa de diálogo **Adicionar**e depois em **Selecionar Usuários ou Grupos** , adicione as contas pelas quais os Assinantes farão conexões ao IIS.</span><span class="sxs-lookup"><span data-stu-id="fa93b-222">Click **Add**, and then in the **Select Users or Groups** dialog box, add the accounts under which Subscribers will make connections to IIS.</span></span> <span data-ttu-id="fa93b-223">Essas são as contas que você especificará na página **Informações do Servidor Web** do Assistente para Nova Assinatura ou como o valor para o parâmetro [sp_addmergepullsubscription_agent](/sql/relational-databases/system-stored-procedures/sp-addmergepullsubscription-agent-transact-sql)*@internet_login* .</span><span class="sxs-lookup"><span data-stu-id="fa93b-223">These are the accounts that you will specify on the **Web Server Information** page of the New Subscription Wizard or as the value for the [sp_addmergepullsubscription_agent](/sql/relational-databases/system-stored-procedures/sp-addmergepullsubscription-agent-transact-sql)*@internet_login* parameter.</span></span>  
  
9. <span data-ttu-id="fa93b-224">Na página **Acesso ao Compartilhamento de Instantâneos** , digite o compartilhamento de instantâneo.</span><span class="sxs-lookup"><span data-stu-id="fa93b-224">On the **Snapshot Share Access** page, enter the snapshot share.</span></span> <span data-ttu-id="fa93b-225">As permissões apropriadas são definidas nesse compartilhamento de forma que os Assinantes possam acessar os arquivos de instantâneos.</span><span class="sxs-lookup"><span data-stu-id="fa93b-225">The appropriate permissions are set on this share so that Subscribers can access the snapshot files.</span></span> <span data-ttu-id="fa93b-226">Para obter mais informações sobre permissões para compartilhamento, consulte [Proteger uma pasta de instantâneo](security/secure-the-snapshot-folder.md).</span><span class="sxs-lookup"><span data-stu-id="fa93b-226">For more information about permissions for the share, see [Secure the Snapshot Folder](security/secure-the-snapshot-folder.md).</span></span>  
  
10. <span data-ttu-id="fa93b-227">Na página **Concluindo o Assistente** , clique em **Concluir**.</span><span class="sxs-lookup"><span data-stu-id="fa93b-227">On the **Completing the Wizard** page, click **Finish**.</span></span>  
  
     <span data-ttu-id="fa93b-228">Se ocorrer uma falha, como um erro de rede ao tentar configurar um computador remoto que esteja executando o IIS, todas as ações concluídas são revertidas e todas as ações restantes são canceladas.</span><span class="sxs-lookup"><span data-stu-id="fa93b-228">If a failure occurs, such as a network error while trying to configure a remote computer that is running IIS, all completed actions are rolled back and all remaining actions are canceled.</span></span> <span data-ttu-id="fa93b-229">Se não for possível reverter uma ação concluída, o status na página final do assistente será **Êxito** e as ações concluídas permanecerão confirmadas.</span><span class="sxs-lookup"><span data-stu-id="fa93b-229">If a completed action cannot be rolled back, the status in the final page of the wizard displays **Success** and the completed actions remain committed.</span></span>  
  
11. <span data-ttu-id="fa93b-230">Se o computador que está executando o IIS estiver executando uma versão de 64 bits do Windows, replisapi.dll deverá ser copiado para o diretório adequado:</span><span class="sxs-lookup"><span data-stu-id="fa93b-230">If the computer that is running IIS is running on a 64-bit version of Windows, replisapi.dll must be copied to the appropriate directory:</span></span>  
  
    1.  <span data-ttu-id="fa93b-231">Clique em **Iniciar**e em **Executar**.</span><span class="sxs-lookup"><span data-stu-id="fa93b-231">Click **Start**, and then click **Run**.</span></span> <span data-ttu-id="fa93b-232">Na caixa **abrir** , digite `iisreset` e clique em **OK**.</span><span class="sxs-lookup"><span data-stu-id="fa93b-232">In the **Open** box, enter `iisreset`, and then click **OK**.</span></span>  
  
    2.  <span data-ttu-id="fa93b-233">Depois de interromper e reiniciar o IIS, copie replisapi.dll de [!INCLUDE[ssInstallPathVar](../../includes/ssinstallpathvar-md.md)]COM\replisapi para o diretório especificado na etapa 6b.</span><span class="sxs-lookup"><span data-stu-id="fa93b-233">After IIS stops and restarts, copy replisapi.dll from [!INCLUDE[ssInstallPathVar](../../includes/ssinstallpathvar-md.md)]COM\replisapi to the directory that is specified in step 6b.</span></span>  
  
    3.  <span data-ttu-id="fa93b-234">Clique em **Iniciar**e em **Executar**.</span><span class="sxs-lookup"><span data-stu-id="fa93b-234">Click **Start**, and then click **Run**.</span></span> <span data-ttu-id="fa93b-235">Na caixa **abrir** , digite `cmd` e clique em **OK**.</span><span class="sxs-lookup"><span data-stu-id="fa93b-235">In the **Open** box, enter `cmd`, and then click **OK**.</span></span>  
  
    4.  <span data-ttu-id="fa93b-236">No diretório que você especificou na etapa 6b, execute o seguinte comando:</span><span class="sxs-lookup"><span data-stu-id="fa93b-236">In the directory that you specified in step 6b, execute the following command:</span></span>  
  
         `regsvr32 replisapi.dll`  
  
## <a name="manually-configuring-the-computer-that-is-running-iis"></a><span data-ttu-id="fa93b-237">Configurando manualmente o computador que está executando o IIS</span><span class="sxs-lookup"><span data-stu-id="fa93b-237">Manually Configuring the Computer That Is Running IIS</span></span>  
 <span data-ttu-id="fa93b-238">Para configurar manualmente o computador que está executando o IIS, você deve instalar e configurar o [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Replication Listener e depois configurar a autorização para os Assinantes que irão se conectar ao IIS.</span><span class="sxs-lookup"><span data-stu-id="fa93b-238">To configure the computer that is running IIS manually, you must install and configure the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Replication Listener, and then configure authorization for Subscribers that will connect to IIS.</span></span>  
  
#### <a name="to-install-and-configure-the-sql-server-replication-listener"></a><span data-ttu-id="fa93b-239">Para instalar e configurar o SQL Server Replication Listener</span><span class="sxs-lookup"><span data-stu-id="fa93b-239">To install and configure the SQL Server Replication Listener</span></span>  
  
1.  <span data-ttu-id="fa93b-240">Crie um diretório de arquivos no computador que está executando o IIS para conter replisapi.dll.</span><span class="sxs-lookup"><span data-stu-id="fa93b-240">Create a file directory on the computer that is running IIS to contain replisapi.dll.</span></span> <span data-ttu-id="fa93b-241">Você poderá criar o diretório onde desejar, mas é recomendável criá-lo no diretório \<*drive*>:\Inetpub.</span><span class="sxs-lookup"><span data-stu-id="fa93b-241">You can create the directory wherever you want, but we recommend that you create the directory under the \<*drive*>:\Inetpub directory.</span></span> <span data-ttu-id="fa93b-242">Por exemplo, crie o diretório \<*drive*>:\Inetpub\SQLReplication\\.</span><span class="sxs-lookup"><span data-stu-id="fa93b-242">For example, create the directory \<*drive*>:\Inetpub\SQLReplication\\.</span></span>  
  
    > [!IMPORTANT]  
    >  <span data-ttu-id="fa93b-243">É altamente recomendável criar esse diretório em uma partição de sistema de arquivos NTFS e não em um sistema de arquivos FAT.</span><span class="sxs-lookup"><span data-stu-id="fa93b-243">We strongly recommend that you create this directory on an NTFS file system partition instead of a FAT file system.</span></span> <span data-ttu-id="fa93b-244">Ao usar o sistema de arquivos NTFS file, você pode usar as permissões do sistema de arquivos NTFS para controlar com precisão os usuários que podem acessar a replicação [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="fa93b-244">When you use the NTFS file system, you can use NTFS file system permissions to control precisely the users that can access [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] replication.</span></span>  
  
2.  <span data-ttu-id="fa93b-245">Copie replisapi.dll do diretório [!INCLUDE[ssInstallPathVar](../../includes/ssinstallpathvar-md.md)]com\ para o diretório de arquivos que você criou na etapa 1.</span><span class="sxs-lookup"><span data-stu-id="fa93b-245">Copy replisapi.dll from the directory [!INCLUDE[ssInstallPathVar](../../includes/ssinstallpathvar-md.md)]com\ to the file directory that you created in step 1.</span></span>  
  
3.  <span data-ttu-id="fa93b-246">Registre replisapi.dll:</span><span class="sxs-lookup"><span data-stu-id="fa93b-246">Register replisapi.dll:</span></span>  
  
    1.  <span data-ttu-id="fa93b-247">Clique em **Iniciar**e em **Executar**.</span><span class="sxs-lookup"><span data-stu-id="fa93b-247">Click **Start**, and then click **Run**.</span></span> <span data-ttu-id="fa93b-248">Na caixa **abrir** , digite `cmd` e clique em **OK**.</span><span class="sxs-lookup"><span data-stu-id="fa93b-248">In the **Open** box, enter `cmd`, and then click **OK**.</span></span>  
  
    2.  <span data-ttu-id="fa93b-249">No diretório que você criou na etapa 1, execute o seguinte comando:</span><span class="sxs-lookup"><span data-stu-id="fa93b-249">In the directory that you created in step 1, execute the following command:</span></span>  
  
         `regsvr32 replisapi.dll`  
  
4.  <span data-ttu-id="fa93b-250">Crie um novo site da Web para replicação ou use um site existente.</span><span class="sxs-lookup"><span data-stu-id="fa93b-250">Create a new Web site for replication, or use an existing site.</span></span> <span data-ttu-id="fa93b-251">O site da Web será acessado pelos componentes de replicação durante a sincronização.</span><span class="sxs-lookup"><span data-stu-id="fa93b-251">The Web site will be accessed by replication components during synchronization.</span></span> <span data-ttu-id="fa93b-252">Para obter mais informações sobre como criar sites da Web, consulte a documentação de IIS.</span><span class="sxs-lookup"><span data-stu-id="fa93b-252">For more information about how to create Web sites, see the IIS documentation.</span></span>  
  
5.  <span data-ttu-id="fa93b-253">Crie um diretório virtual em IIS.</span><span class="sxs-lookup"><span data-stu-id="fa93b-253">Create a virtual directory in IIS.</span></span> <span data-ttu-id="fa93b-254">O diretório virtual deve ser criado no site da Web que foi criado na etapa 4 e deve ser mapeado para o diretório que foi criado na etapa 1.</span><span class="sxs-lookup"><span data-stu-id="fa93b-254">The virtual directory should be created under the Web site that was created in step 4, and should be mapped to the directory that was created in step 1.</span></span> <span data-ttu-id="fa93b-255">Para obter mais informações sobre como criar diretórios virtuais, consulte a documentação de IIS.</span><span class="sxs-lookup"><span data-stu-id="fa93b-255">For more information about how to create virtual directories, see the IIS documentation.</span></span> <span data-ttu-id="fa93b-256">Recomendamos que você seja tão restritivo quanto possível ao conceder permissões a esse diretório.</span><span class="sxs-lookup"><span data-stu-id="fa93b-256">We recommend that you be as restrictive as possible when you assign permissions to this directory.</span></span> <span data-ttu-id="fa93b-257">Você deve selecionar as permissões **Leitura** e **Executar** , mas pode desmarcar as permissões **Executar scripts**, **Gravação**e **Procurar** .</span><span class="sxs-lookup"><span data-stu-id="fa93b-257">You must select **Read** and **Execute** permissions, but you can clear **Run scripts**, **Write**, and **Browse** permissions.</span></span>  
  
6.  <span data-ttu-id="fa93b-258">Configure o IIS para habilitar a execução de replisapi.dll.</span><span class="sxs-lookup"><span data-stu-id="fa93b-258">Configure IIS to enable replisapi.dll to execute.</span></span> <span data-ttu-id="fa93b-259">As permissões concedidas na etapa 4 são suficientes para as versões anteriores do IIS; porém o IIS versão 6.0 exige que as extensões Internet Server API (ISAPI) sejam habilitadas.</span><span class="sxs-lookup"><span data-stu-id="fa93b-259">The permissions that are assigned in step 4 are sufficient for earlier versions of IIS; however, IIS version 6.0 requires Internet Server API (ISAPI) extensions to be enabled.</span></span> <span data-ttu-id="fa93b-260">Para obter mais informações, consulte "Configurando extensões ISAPI" e "Habilitando e desabilitando conteúdo dinâmico" na documentação do IIS 6.0.</span><span class="sxs-lookup"><span data-stu-id="fa93b-260">For more information, see "Configuring ISAPI Extensions" and "Enabling and Disabling Dynamic Content" in the IIS 6.0 documentation.</span></span>  
  
#### <a name="to-configure-iis-authentication"></a><span data-ttu-id="fa93b-261">Para configurar a autenticação de IIS</span><span class="sxs-lookup"><span data-stu-id="fa93b-261">To configure IIS authentication</span></span>  
  
-   <span data-ttu-id="fa93b-262">Quando os Assinantes se conectarem ao IIS, o IIS deve autenticar os Assinantes antes que eles possam acessar recursos e processos.</span><span class="sxs-lookup"><span data-stu-id="fa93b-262">When Subscribers connect to IIS, IIS must authenticate the Subscribers before they can access resources and processes.</span></span> <span data-ttu-id="fa93b-263">IIS oferece três tipos de autenticação: Anônima, Básica e Integrada.</span><span class="sxs-lookup"><span data-stu-id="fa93b-263">IIS offers three types of authentication: Anonymous, Basic, and Integrated.</span></span> <span data-ttu-id="fa93b-264">A autenticação pode ser aplicada para o site da Web inteiro ou para o diretório virtual que você criou.</span><span class="sxs-lookup"><span data-stu-id="fa93b-264">Authentication can be applied to the whole Web site or to the virtual directory that you created.</span></span>  
  
     <span data-ttu-id="fa93b-265">É recomendável usar a Autenticação Básica com SSL.</span><span class="sxs-lookup"><span data-stu-id="fa93b-265">We recommend that you use Basic Authentication with SSL.</span></span> <span data-ttu-id="fa93b-266">A SSL é necessária, independentemente do tipo de autenticação usado.</span><span class="sxs-lookup"><span data-stu-id="fa93b-266">SSL is required, regardless of the type of authentication that is used.</span></span> <span data-ttu-id="fa93b-267">Para obter mais informações sobre como configurar a autenticação, consulte a documentação de IIS.</span><span class="sxs-lookup"><span data-stu-id="fa93b-267">For more information about how to configure authentication, see the IIS documentation.</span></span>  
  
## <a name="setting-permissions-for-the-sql-server-replication-listener"></a><span data-ttu-id="fa93b-268">Definindo permissões para o SQL Server Replication Listener</span><span class="sxs-lookup"><span data-stu-id="fa93b-268">Setting Permissions for the SQL Server Replication Listener</span></span>  
 <span data-ttu-id="fa93b-269">Quando um Assinante se conecta ao computador que está executando o IIS, o Assinante é autenticado usando o tipo de autenticação que foi especificado quando você configurou o IIS.</span><span class="sxs-lookup"><span data-stu-id="fa93b-269">When a Subscriber connects to the computer that is running IIS, the Subscriber is authenticated by using the type of authentication that was specified when you configured IIS.</span></span> <span data-ttu-id="fa93b-270">Depois de autenticar o Assinante, o IIS verifica se o Assinante está autorizado a invocar a replicação do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="fa93b-270">After IIS authenticates the Subscriber, IIS checks whether the Subscriber is authorized to invoke [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] replication.</span></span> <span data-ttu-id="fa93b-271">Você controla os usuários que podem invocar a replicação do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] definindo as permissões para replisapi.dll.</span><span class="sxs-lookup"><span data-stu-id="fa93b-271">You control the users that can invoke [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] replication by setting permissions for replisapi.dll.</span></span> <span data-ttu-id="fa93b-272">É necessário configurar corretamente as permissões para impedir acesso não autorizado à replicação do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="fa93b-272">Properly configuring permissions is necessary to prevent unauthorized access to [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] replication.</span></span>  
  
 <span data-ttu-id="fa93b-273">Para configurar as permissões mínimas para a conta sob a qual o [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Replication Listener é executado, realize o procedimento a seguir.</span><span class="sxs-lookup"><span data-stu-id="fa93b-273">To configure the minimum permissions for the account under which the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Replication Listener runs, complete the following procedure.</span></span> <span data-ttu-id="fa93b-274">As etapas no procedimento se aplicam à [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[winxpsvr](../../includes/winxpsvr-md.md)] execução do IIS 6,0.</span><span class="sxs-lookup"><span data-stu-id="fa93b-274">The steps in the procedure apply to [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[winxpsvr](../../includes/winxpsvr-md.md)] running IIS 6.0.</span></span>  
  
 <span data-ttu-id="fa93b-275">Além de realizar as etapas a seguir, certifique-se de que os logons necessários estão na lista de acesso à publicação (PAL).</span><span class="sxs-lookup"><span data-stu-id="fa93b-275">In addition to performing the following steps, make sure that the required logins are in the publication access list (PAL).</span></span> <span data-ttu-id="fa93b-276">Para obter mais informações sobre a PAL, consulte [Secure the Publisher](security/secure-the-publisher.md) (Proteger o publicador).</span><span class="sxs-lookup"><span data-stu-id="fa93b-276">For more information about the PAL, see [Secure the Publisher](security/secure-the-publisher.md).</span></span>  
  
#### <a name="to-configure-the-account-and-permissions"></a><span data-ttu-id="fa93b-277">Para configurar a conta e as permissões</span><span class="sxs-lookup"><span data-stu-id="fa93b-277">To configure the account and permissions</span></span>  
  
1.  <span data-ttu-id="fa93b-278">Crie uma conta local no computador que está executando o IIS:</span><span class="sxs-lookup"><span data-stu-id="fa93b-278">Create a local account on the computer that is running IIS:</span></span>  
  
    1.  <span data-ttu-id="fa93b-279">Clique com o botão direito do mouse em **Meu Computador** e clique em **Gerenciar**.</span><span class="sxs-lookup"><span data-stu-id="fa93b-279">Right-click **My Computer**, and then click **Manage**.</span></span>  
  
    2.  <span data-ttu-id="fa93b-280">Em **Gerenciamento do Computador**, expanda **Usuários e Grupos Locais**.</span><span class="sxs-lookup"><span data-stu-id="fa93b-280">In **Computer Management**, expand **Local Users and Groups**.</span></span>  
  
    3.  <span data-ttu-id="fa93b-281">Clique com o botão direito do mouse em **Usuários**e depois clique em **Novo Usuário**.</span><span class="sxs-lookup"><span data-stu-id="fa93b-281">Right-click **Users**, and then click **New User**.</span></span>  
  
    4.  <span data-ttu-id="fa93b-282">Digite um nome de usuário e uma senha forte.</span><span class="sxs-lookup"><span data-stu-id="fa93b-282">Enter a user name and a strong password.</span></span>  
  
    5.  <span data-ttu-id="fa93b-283">Clique em **Criar**e depois em **Fechar**.</span><span class="sxs-lookup"><span data-stu-id="fa93b-283">Click **Create**, and then click **Close**.</span></span>  
  
2.  <span data-ttu-id="fa93b-284">Adicione a conta ao grupo IIS_WPG:</span><span class="sxs-lookup"><span data-stu-id="fa93b-284">Add the account to the IIS_WPG group:</span></span>  
  
    1.  <span data-ttu-id="fa93b-285">Em **Gerenciamento do Computador**, expanda **Usuários e Grupos Locais**e clique em **Grupos**.</span><span class="sxs-lookup"><span data-stu-id="fa93b-285">In **Computer Management**, expand **Local Users and Groups**, and then click **Groups**.</span></span>  
  
    2.  <span data-ttu-id="fa93b-286">Clique com o botão direito do mouse em **IIS_WPG**e depois clique em **Adicionar ao Grupo**.</span><span class="sxs-lookup"><span data-stu-id="fa93b-286">Right-click **IIS_WPG**, and then click **Add to Group**.</span></span>  
  
    3.  <span data-ttu-id="fa93b-287">Na caixa de diálogo **Propriedades de IIS_WPG** , clique em **Adicionar**.</span><span class="sxs-lookup"><span data-stu-id="fa93b-287">In the **IIS_WPG Properties** dialog box, click **Add**.</span></span>  
  
    4.  <span data-ttu-id="fa93b-288">Na caixa de diálogo **Selecionar Usuários, Computadores ou Grupos** , adicione a conta criada na etapa 1.</span><span class="sxs-lookup"><span data-stu-id="fa93b-288">In the **Select Users, Computers, or Groups** dialog box, add the account created in step 1.</span></span>  
  
    5.  <span data-ttu-id="fa93b-289">Certifique-se de que o nome no campo **Deste local** é o nome do computador local em vez de um domínio.</span><span class="sxs-lookup"><span data-stu-id="fa93b-289">Make sure that the name in the **From this location** field is the name of the local computer instead of a domain.</span></span> <span data-ttu-id="fa93b-290">Se o nome não for de um computador local, clique em **Locais**.</span><span class="sxs-lookup"><span data-stu-id="fa93b-290">If the name is not a local computer, click **Locations**.</span></span> <span data-ttu-id="fa93b-291">Na caixa de diálogo **Locais** , escolha o computador local e clique em **OK**.</span><span class="sxs-lookup"><span data-stu-id="fa93b-291">In the **Locations** dialog box, elect the local computer, and then click **OK**.</span></span>  
  
    6.  <span data-ttu-id="fa93b-292">Nas caixas de diálogo **Selecionar usuários** e **Propriedades de IIS_WPG** , clique em **OK**.</span><span class="sxs-lookup"><span data-stu-id="fa93b-292">In the **Select Users** dialog box and the **IIS_WPG Properties** dialog box, click **OK**.</span></span>  
  
3.  <span data-ttu-id="fa93b-293">Conceda as permissões mínimas para a conta na pasta que contém replisapi.dll:</span><span class="sxs-lookup"><span data-stu-id="fa93b-293">Grant the minimum permissions on the folder that contains replisapi.dll to the account :</span></span>  
  
    1.  <span data-ttu-id="fa93b-294">Localize a pasta que você criou para replisapi.dll, clique com o botão direito do mouse na pasta e depois clique em **Compartilhamento e Segurança**.</span><span class="sxs-lookup"><span data-stu-id="fa93b-294">Locate the folder that you created for replisapi.dll, right-click the folder, and then click **Sharing and Security**.</span></span>  
  
    2.  <span data-ttu-id="fa93b-295">Na guia **Segurança**, clique em **Adicionar**.</span><span class="sxs-lookup"><span data-stu-id="fa93b-295">On the **Security** tab, click **Add**.</span></span>  
  
    3.  <span data-ttu-id="fa93b-296">Na caixa de diálogo **Selecionar Usuários, Computadores ou Grupos** , adicione a conta criada na etapa 1.</span><span class="sxs-lookup"><span data-stu-id="fa93b-296">In the **Select Users, Computers, or Groups** dialog box, add the account that you created in step 1.</span></span>  
  
    4.  <span data-ttu-id="fa93b-297">Certifique-se de que o nome no campo **Deste local** é o nome do computador local em vez de um domínio.</span><span class="sxs-lookup"><span data-stu-id="fa93b-297">Make sure that the name in the **From this location** field is the name of the local computer instead of a domain.</span></span> <span data-ttu-id="fa93b-298">Se o nome não for de um computador local, clique em **Locais**.</span><span class="sxs-lookup"><span data-stu-id="fa93b-298">If the name is not a local computer, click **Locations**.</span></span> <span data-ttu-id="fa93b-299">Na caixa de diálogo **Locais** , selecione o computador local e clique em **OK**.</span><span class="sxs-lookup"><span data-stu-id="fa93b-299">In the **Locations** dialog box, select the local computer, and then click **OK**.</span></span>  
  
    5.  <span data-ttu-id="fa93b-300">Certifique-se de que a conta tem permissão apenas para **Ler**, **Ler e Executar** e **Listar Conteúdo da Pasta**.</span><span class="sxs-lookup"><span data-stu-id="fa93b-300">Make sure that the account is granted only **Read**, **Read & Execute**, and **List Folder Contents** permissions.</span></span>  
  
    6.  <span data-ttu-id="fa93b-301">Selecione qualquer usuário ou grupo que não requeira acesso ao diretório e clique em **Remover**.</span><span class="sxs-lookup"><span data-stu-id="fa93b-301">Select any users or groups that do not require access to the directory, and then click **Remove**.</span></span>  
  
    7.  <span data-ttu-id="fa93b-302">Clique em **OK**.</span><span class="sxs-lookup"><span data-stu-id="fa93b-302">Click **OK**.</span></span>  
  
4.  <span data-ttu-id="fa93b-303">Crie um pool de aplicativos no **Gerenciador dos Serviços de Informação de Internet (IIS)** :</span><span class="sxs-lookup"><span data-stu-id="fa93b-303">Create an application pool in **Internet Information Services (IIS) Manager**:</span></span>  
  
    1.  <span data-ttu-id="fa93b-304">Clique em **Iniciar**e em **Executar**.</span><span class="sxs-lookup"><span data-stu-id="fa93b-304">Click **Start**, and then click **Run**.</span></span>  
  
    2.  <span data-ttu-id="fa93b-305">Na caixa **abrir** , digite `inetmgr` e clique em **OK**.</span><span class="sxs-lookup"><span data-stu-id="fa93b-305">In the **Open** box, type `inetmgr`, and then click **OK**.</span></span>  
  
    3.  <span data-ttu-id="fa93b-306">No **Gerenciador dos Serviços de Informação de Internet (IIS)**, expanda o nó do **computador local** .</span><span class="sxs-lookup"><span data-stu-id="fa93b-306">In **Internet Information Services (IIS) Manager**, expand the **local computer** node.</span></span>  
  
    4.  <span data-ttu-id="fa93b-307">Clique com o botão direito do mouse em **Pools de Aplicativos**, aponte para **Novo** e clique em **Pool de Aplicativos**.</span><span class="sxs-lookup"><span data-stu-id="fa93b-307">Right-click **Application Pools**, point to **New** and then click **Application Pool**.</span></span>  
  
    5.  <span data-ttu-id="fa93b-308">Digite um nome para o pool no campo **Identificação do pool de aplicativos** e clique em **OK**.</span><span class="sxs-lookup"><span data-stu-id="fa93b-308">Enter a name for the pool in the **Application pool ID** field, and then click **OK**.</span></span>  
  
5.  <span data-ttu-id="fa93b-309">Associe a conta com o pool de aplicativos:</span><span class="sxs-lookup"><span data-stu-id="fa93b-309">Associate the account with the application pool:</span></span>  
  
    1.  <span data-ttu-id="fa93b-310">No **Gerenciador dos Serviços de Informação de Internet (IIS)**, expanda o nó do **computador local** e depois expanda **Pools de Aplicativos**.</span><span class="sxs-lookup"><span data-stu-id="fa93b-310">In **Internet Information Services (IIS) Manager**, expand the **local computer** node, and then expand **Application Pools**.</span></span>  
  
    2.  <span data-ttu-id="fa93b-311">Clique com o botão direito do mouse no pool de aplicativos que você criou e depois clique em **Propriedades**.</span><span class="sxs-lookup"><span data-stu-id="fa93b-311">Right-click the application pool that you created, and then click **Properties**.</span></span>  
  
    3.  <span data-ttu-id="fa93b-312">Na caixa de diálogo \*\* \<ApplicationPoolName> Propriedades\*\* , na guia **identidade** , clique em **configurável**.</span><span class="sxs-lookup"><span data-stu-id="fa93b-312">In the **\<ApplicationPoolName> Properties** dialog box, on the **Identity** tab, click **Configurable**.</span></span>  
  
    4.  <span data-ttu-id="fa93b-313">Nos campos **Nome de usuário** e **senha** , digite a conta e senha que foram criadas na etapa 1.</span><span class="sxs-lookup"><span data-stu-id="fa93b-313">In the **User name** and **password** fields, enter the account and password that were created in step 1.</span></span>  
  
    5.  <span data-ttu-id="fa93b-314">Clique em **OK**.</span><span class="sxs-lookup"><span data-stu-id="fa93b-314">Click **OK**.</span></span>  
  
6.  <span data-ttu-id="fa93b-315">Associe o pool de aplicativos com o diretório virtual que é usado para a sincronização da Web:</span><span class="sxs-lookup"><span data-stu-id="fa93b-315">Associate the application pool with the virtual directory that is used for Web synchronization:</span></span>  
  
    1.  <span data-ttu-id="fa93b-316">No **Gerenciador dos Serviços de Informação de Internet (IIS)**, expanda o nó do **computador local** e depois expanda **Sites da Web**.</span><span class="sxs-lookup"><span data-stu-id="fa93b-316">In **Internet Information Services (IIS) Manager**, expand the **local computer** node, and then expand **Web Sites**.</span></span>  
  
    2.  <span data-ttu-id="fa93b-317">Expanda o site da Web que você está usando para a sincronização da Web, clique com o botão direito do mouse no diretório virtual que você criou para a sincronização da Web e depois clique em **Propriedades**.</span><span class="sxs-lookup"><span data-stu-id="fa93b-317">Expand the Web site that you are using for Web synchronization, right-click the virtual directory that you created for Web synchronization, and then click **Properties**.</span></span>  
  
    3.  <span data-ttu-id="fa93b-318">Na guia **diretório virtual** da caixa de diálogo \*\* \<VirtualDirectoryName> Propriedades\*\* , na lista suspensa **pool de aplicativos** , selecione o pool de aplicativos que foi criado na etapa 5.</span><span class="sxs-lookup"><span data-stu-id="fa93b-318">On the **Virtual Directory** tab of the **\<VirtualDirectoryName> Properties** dialog box, from the **Application pool** drop-down list, select the application pool that was created in step 5.</span></span>  
  
    4.  <span data-ttu-id="fa93b-319">Clique em **OK**.</span><span class="sxs-lookup"><span data-stu-id="fa93b-319">Click **OK**.</span></span>  
  
## <a name="testing-the-connection-to-replisapidll"></a><span data-ttu-id="fa93b-320">Testando a conexão com replisapi.dll</span><span class="sxs-lookup"><span data-stu-id="fa93b-320">Testing the Connection to replisapi.dll</span></span>  
 <span data-ttu-id="fa93b-321">Execute a sincronização da Web em modo de diagnóstico para testar a conexão com o computador que está executando o IIS e certificar-se de que o certificado SSL (Secure Sockets Layer) está instalado adequadamente.</span><span class="sxs-lookup"><span data-stu-id="fa93b-321">Run Web synchronization in diagnostic mode to test the connection to the computer that is running IIS and to make sure that the Secure Sockets Layer (SSL) certificate is properly installed.</span></span> <span data-ttu-id="fa93b-322">Para executar a sincronização da Web em modo diagnóstico, você deve ser um administrador no computador que executa o IIS.</span><span class="sxs-lookup"><span data-stu-id="fa93b-322">To run Web synchronization in diagnostic mode, you must be an administrator on the computer running IIS.</span></span>  
  
#### <a name="to-test-the-connection-to-replisapidll"></a><span data-ttu-id="fa93b-323">Para testar a conexão com replisapi.dll</span><span class="sxs-lookup"><span data-stu-id="fa93b-323">To test the connection to replisapi.dll</span></span>  
  
1.  <span data-ttu-id="fa93b-324">Certifique-se de que as configurações de rede local (LAN) no Assinante estão corretas:</span><span class="sxs-lookup"><span data-stu-id="fa93b-324">Make sure that local area network (LAN) settings at the Subscriber are correct:</span></span>  
  
    1.  <span data-ttu-id="fa93b-325">No [!INCLUDE[msCoName](../../includes/msconame-md.md)] Internet Explorer, no menu **Ferramentas** , clique em **Opções da Internet**.</span><span class="sxs-lookup"><span data-stu-id="fa93b-325">In [!INCLUDE[msCoName](../../includes/msconame-md.md)] Internet Explorer, on the **Tools** menu, click **Internet Options**.</span></span>  
  
    2.  <span data-ttu-id="fa93b-326">Na guia **Conexões** , clique em **Configurações da LAN**.</span><span class="sxs-lookup"><span data-stu-id="fa93b-326">On the **Connections** tab, click **LAN Settings**.</span></span>  
  
    3.  <span data-ttu-id="fa93b-327">Se um servidor proxy não for usado na LAN, desmarque **Detectar Automaticamente as Configurações** e **Usar um servidor proxy para a rede local**.</span><span class="sxs-lookup"><span data-stu-id="fa93b-327">If a proxy server is not used on the LAN, clear **Automatically Detect Settings** and **Use a proxy server for your LAN**.</span></span>  
  
    4.  <span data-ttu-id="fa93b-328">Se um servidor proxy for usado, selecione **Usar um servidor proxy para a rede local** e **Ignorar servidor proxy para endereços locais**.</span><span class="sxs-lookup"><span data-stu-id="fa93b-328">If a proxy server is used, select **Use a proxy server for your LAN** and **Bypass proxy server for local addresses**.</span></span>  
  
    5.  <span data-ttu-id="fa93b-329">Clique em **OK**.</span><span class="sxs-lookup"><span data-stu-id="fa93b-329">Click **OK**.</span></span>  
  
2.  <span data-ttu-id="fa93b-330">No Assinante, no Internet Explorer, conecte-se ao servidor em modo de diagnóstico adicionando `?diag` ao endereço para o replisapi.dll.</span><span class="sxs-lookup"><span data-stu-id="fa93b-330">At the Subscriber, in Internet Explorer, connect to the server in diagnostic mode by appending `?diag` to the address for the replisapi.dll.</span></span> <span data-ttu-id="fa93b-331">Por exemplo: `https://server.domain.com/directory/replisapi.dll?diag`.</span><span class="sxs-lookup"><span data-stu-id="fa93b-331">For example: `https://server.domain.com/directory/replisapi.dll?diag`.</span></span>  
  
3.  <span data-ttu-id="fa93b-332">Se o certificado especificado para o IIS não for reconhecido pelo sistema operacional Windows, a caixa de diálogo **Alerta da Segurança** será exibida.</span><span class="sxs-lookup"><span data-stu-id="fa93b-332">If the certificate that you specified for IIS is not recognized by the Windows operating system, the **Security Alert** dialog box appears.</span></span> <span data-ttu-id="fa93b-333">Esse alerta pode ocorrer porque o certificado é um certificado de teste ou porque o certificado foi emitido por uma autoridade de certificação (CA) que não é reconhecida pelo Windows.</span><span class="sxs-lookup"><span data-stu-id="fa93b-333">This alert might occur because the certificate is a test certificate or the certificate was issued by a certification authority (CA) that Windows does not recognize.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="fa93b-334">Se essa caixa de diálogo não aparecer, certifique-se de que o certificado para o servidor que você está acessando foi adicionado ao repositório de certificados no Assinante como um certificado confiável.</span><span class="sxs-lookup"><span data-stu-id="fa93b-334">If this dialog box does not appear, make sure that the certificate for the server that you are accessing has been added to the certificate store at the Subscriber as a trusted certificate.</span></span> <span data-ttu-id="fa93b-335">Para obter mais informações sobre exportação de certificados, consulte a documentação do IIS.</span><span class="sxs-lookup"><span data-stu-id="fa93b-335">For more information about exporting certificates, see the IIS documentation.</span></span>  
  
    1.  <span data-ttu-id="fa93b-336">Na caixa de diálogo **Alerta de Segurança** , clique em **Exibir Certificado**.</span><span class="sxs-lookup"><span data-stu-id="fa93b-336">In the **Security Alert** dialog box, click **View Certificate**.</span></span>  
  
    2.  <span data-ttu-id="fa93b-337">Na caixa de diálogo **Certificado** , na guia **Geral** , clique em **Instalar Certificado**.</span><span class="sxs-lookup"><span data-stu-id="fa93b-337">In the **Certificate** dialog box, on the **General** tab, click **Install Certificate**.</span></span>  
  
    3.  <span data-ttu-id="fa93b-338">Conclua o Assistente para Importação de Certificados, aceitando os padrões.</span><span class="sxs-lookup"><span data-stu-id="fa93b-338">Complete the Certificate Import Wizard, accepting the defaults.</span></span>  
  
    4.  <span data-ttu-id="fa93b-339">Na caixa de diálogo **Aviso de Segurança** , clique em **Sim**.</span><span class="sxs-lookup"><span data-stu-id="fa93b-339">In the **Security Warning** dialog box, click **Yes**.</span></span>  
  
    5.  <span data-ttu-id="fa93b-340">Na caixa de diálogo de confirmação do Assistente para Importação de Certificados, clique em **OK**.</span><span class="sxs-lookup"><span data-stu-id="fa93b-340">In the Certificate Import Wizard confirmation dialog box, click **OK**.</span></span>  
  
    6.  <span data-ttu-id="fa93b-341">Feche a caixa de diálogo **Certificado** .</span><span class="sxs-lookup"><span data-stu-id="fa93b-341">Close the **Certificate** dialog box.</span></span>  
  
    7.  <span data-ttu-id="fa93b-342">Na caixa de diálogo **Alerta de Segurança** , clique em **Sim**.</span><span class="sxs-lookup"><span data-stu-id="fa93b-342">In the **Security Alert** dialog box, click **Yes**.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="fa93b-343">Os certificados serão instalados para os usuários.</span><span class="sxs-lookup"><span data-stu-id="fa93b-343">Certificates are installed for users.</span></span> <span data-ttu-id="fa93b-344">Esse processo deve ser executado para cada usuário que sincronizará com o IIS.</span><span class="sxs-lookup"><span data-stu-id="fa93b-344">This process must be performed for each user that will synchronize with IIS.</span></span>  
  
4.  <span data-ttu-id="fa93b-345">Na caixa de diálogo **Conectar-se ao \<ServerName>** , especifique o logon e a senha que o Agente de Mesclagem usará para se conectar ao IIS.</span><span class="sxs-lookup"><span data-stu-id="fa93b-345">In the **Connect to \<ServerName>** dialog box, specify the login and password that the Merge Agent will use to connect to IIS.</span></span> <span data-ttu-id="fa93b-346">Essas credenciais também serão especificadas no Assistente para Nova Assinatura.</span><span class="sxs-lookup"><span data-stu-id="fa93b-346">These credentials will also be specified in the New Subscription Wizard.</span></span>  
  
5.  <span data-ttu-id="fa93b-347">Na janela do Internet Explorer chamada **Informação diagnóstica do SQL Websync**, verifique se o valor em cada coluna **Status** na página é **ÊXITO**.</span><span class="sxs-lookup"><span data-stu-id="fa93b-347">In the Internet Explorer window called **SQL Websync diagnostic information**, verify that the value in each **Status** column on the page is **SUCCESS**.</span></span>  
  
6.  <span data-ttu-id="fa93b-348">Certifique-se de que o certificado está instalado corretamente no Assinante:</span><span class="sxs-lookup"><span data-stu-id="fa93b-348">Make sure that the certificate is installed correctly on the Subscriber:</span></span>  
  
    1.  <span data-ttu-id="fa93b-349">Feche e depois reabra o Internet Explorer.</span><span class="sxs-lookup"><span data-stu-id="fa93b-349">Close and then reopen Internet Explorer.</span></span>  
  
    2.  <span data-ttu-id="fa93b-350">Conecte ao servidor em modo diagnóstico.</span><span class="sxs-lookup"><span data-stu-id="fa93b-350">Connect to the server in diagnostic mode.</span></span> <span data-ttu-id="fa93b-351">Se o certificado estiver instalado corretamente, a caixa de diálogo **Alerta de Segurança** não aparecerá.</span><span class="sxs-lookup"><span data-stu-id="fa93b-351">If the certificate is installed properly, the **Security Alert** dialog box will not appear.</span></span> <span data-ttu-id="fa93b-352">Se a caixa de diálogo aparecer, o Merge Agent apresentará falha quando tentar se conectar ao computador que está executando o IIS.</span><span class="sxs-lookup"><span data-stu-id="fa93b-352">If the dialog box appears, the Merge Agent will fail when it tries to connect to the computer that is running IIS.</span></span> <span data-ttu-id="fa93b-353">Você deve certificar-se de que o certificado para o servidor que você está acessando foi adicionado ao repositório de certificados no Assinante como um certificado confiável.</span><span class="sxs-lookup"><span data-stu-id="fa93b-353">You must make sure that the certificate for the server that you are accessing has been added to the certificate store at the Subscriber as a trusted certificate.</span></span> <span data-ttu-id="fa93b-354">Para obter mais informações sobre exportação de certificados, consulte a documentação do IIS.</span><span class="sxs-lookup"><span data-stu-id="fa93b-354">For more information about exporting certificates, see the IIS documentation.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="fa93b-355">Consulte Também</span><span class="sxs-lookup"><span data-stu-id="fa93b-355">See Also</span></span>  
 [<span data-ttu-id="fa93b-356">Configurar a Sincronização da Web</span><span class="sxs-lookup"><span data-stu-id="fa93b-356">Configure Web Synchronization</span></span>](configure-web-synchronization.md)  
  
  
