---
title: TDE (Transparent Data Encryption) | Microsoft Docs
ms.custom: ''
ms.date: 11/23/2015
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: security
ms.topic: conceptual
helpviewer_keywords:
- Transparent Data Encryption
- database encryption key, about
- TDE
- database encryption key
- TDE, about
- Transparent Data Encryption, about
- encryption [SQL Server], transparent data encryption
ms.assetid: c75d0d4b-4008-4e71-9a9d-cee2a566bd3b
author: jaszymas
ms.author: jaszymas
ms.openlocfilehash: a8118f0781d7c9e3d839c029c6bdaf8b01e074b0
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87574613"
---
# <a name="transparent-data-encryption-tde"></a><span data-ttu-id="8e3f3-102">Criptografia de Dados Transparente (TDE)</span><span class="sxs-lookup"><span data-stu-id="8e3f3-102">Transparent Data Encryption (TDE)</span></span>
  <span data-ttu-id="8e3f3-103">*Transparent Data Encryption* (TDE) criptografa os arquivos de dados [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] e [!INCLUDE[ssSDSfull](../../../includes/sssdsfull-md.md)] , o que é conhecido como criptografia de dados em repouso.</span><span class="sxs-lookup"><span data-stu-id="8e3f3-103">*Transparent Data Encryption* (TDE) encrypts [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] and [!INCLUDE[ssSDSfull](../../../includes/sssdsfull-md.md)] data files, known as encrypting data at rest.</span></span> <span data-ttu-id="8e3f3-104">Você pode adotar várias precauções para ajudar a proteger o banco de dados, como a criação de um sistema seguro, a criptografia de ativos confidenciais e a criação de um firewall em torno de servidores de bancos de dados.</span><span class="sxs-lookup"><span data-stu-id="8e3f3-104">You can take several precautions to help secure the database such as designing a secure system, encrypting confidential assets, and building a firewall around the database servers.</span></span> <span data-ttu-id="8e3f3-105">No entanto, em um cenário em que a mídia física (como unidades ou fitas de backup) é roubada, uma entidade mal-intencionada pode simplesmente restaurar ou anexar o banco de dados e procurar os dados.</span><span class="sxs-lookup"><span data-stu-id="8e3f3-105">However, in a scenario where the physical media (such as drives or backup tapes) are stolen, a malicious party can just restore or attach the database and browse the data.</span></span> <span data-ttu-id="8e3f3-106">Uma solução é criptografar dados confidenciais no banco de dados e proteger as chaves usadas para criptografar os dados com um certificado.</span><span class="sxs-lookup"><span data-stu-id="8e3f3-106">One solution is to encrypt the sensitive data in the database and protect the keys that are used to encrypt the data with a certificate.</span></span> <span data-ttu-id="8e3f3-107">Isso impede que alguém sem as chaves use os dados, mas esse tipo de proteção deve ser planejado antecipadamente.</span><span class="sxs-lookup"><span data-stu-id="8e3f3-107">This prevents anyone without the keys from using the data, but this kind of protection must be planned in advance.</span></span>

 <span data-ttu-id="8e3f3-108">A TDE realiza a criptografia e a descriptografia de E/S em tempo real dos arquivos de log e de dados.</span><span class="sxs-lookup"><span data-stu-id="8e3f3-108">TDE performs real-time I/O encryption and decryption of the data and log files.</span></span> <span data-ttu-id="8e3f3-109">A criptografia usa uma chave de criptografia de banco de dados (DEK), que é armazenada no registro de inicialização do banco de dados para disponibilidade durante a recuperação.</span><span class="sxs-lookup"><span data-stu-id="8e3f3-109">The encryption uses a database encryption key (DEK), which is stored in the database boot record for availability during recovery.</span></span> <span data-ttu-id="8e3f3-110">A DEK é uma chave simétrica protegida por um certificado armazenado no banco de dados mestre do servidor ou uma chave assimétrica protegida por um módulo EKM.</span><span class="sxs-lookup"><span data-stu-id="8e3f3-110">The DEK is a symmetric key secured by using a certificate stored in the master database of the server or an asymmetric key protected by an EKM module.</span></span> <span data-ttu-id="8e3f3-111">A TDE protege os dados “em repouso”, ou seja, os dados e arquivos de log.</span><span class="sxs-lookup"><span data-stu-id="8e3f3-111">TDE protects data "at rest", meaning the data and log files.</span></span> <span data-ttu-id="8e3f3-112">Fornece a capacidade de se adequar a muitas leis, regulamentos e diretrizes estabelecidos em vários setores.</span><span class="sxs-lookup"><span data-stu-id="8e3f3-112">It provides the ability to comply with many laws, regulations, and guidelines established in various industries.</span></span> <span data-ttu-id="8e3f3-113">Isso permite que os desenvolvedores de software criptografem dados usando algoritmos de criptografia AES e 3DES, sem alterar os aplicativos existentes.</span><span class="sxs-lookup"><span data-stu-id="8e3f3-113">This enables software developers to encrypt data by using AES and 3DES encryption algorithms without changing existing applications.</span></span>

> [!IMPORTANT]
>  <span data-ttu-id="8e3f3-114">A TDE não fornece criptografia em canais de comunicação.</span><span class="sxs-lookup"><span data-stu-id="8e3f3-114">TDE does not provide encryption across communication channels.</span></span> <span data-ttu-id="8e3f3-115">Para obter mais informações sobre como criptografar dados em canais de comunicação, veja [Habilitar conexões criptografadas no Mecanismo de Banco de Dados &#40;SQL Server Configuration Manager&#41;](../../../database-engine/configure-windows/enable-encrypted-connections-to-the-database-engine.md).</span><span class="sxs-lookup"><span data-stu-id="8e3f3-115">For more information about how to encrypt data across communication channels, see [Enable Encrypted Connections to the Database Engine &#40;SQL Server Configuration Manager&#41;](../../../database-engine/configure-windows/enable-encrypted-connections-to-the-database-engine.md).</span></span>
> 
>  <span data-ttu-id="8e3f3-116">**Tópicos relacionados:**</span><span class="sxs-lookup"><span data-stu-id="8e3f3-116">**Related topics:**</span></span>
> 
>  -   [<span data-ttu-id="8e3f3-117">Transparent Data Encryption com o Banco de Dados SQL do Azure</span><span class="sxs-lookup"><span data-stu-id="8e3f3-117">Transparent Data Encryption with Azure SQL Database</span></span>](../../../database-engine/transparent-data-encryption-with-azure-sql-database.md)
> -   [<span data-ttu-id="8e3f3-118">Mover um banco de dados protegido por TDE para outro SQL Server</span><span class="sxs-lookup"><span data-stu-id="8e3f3-118">Move a TDE Protected Database to Another SQL Server</span></span>](move-a-tde-protected-database-to-another-sql-server.md)
> -   [<span data-ttu-id="8e3f3-119">Habilitar TDE usando EKM</span><span class="sxs-lookup"><span data-stu-id="8e3f3-119">Enable TDE Using EKM</span></span>](enable-tde-on-sql-server-using-ekm.md)

## <a name="about-tde"></a><span data-ttu-id="8e3f3-120">Sobre a TDE</span><span class="sxs-lookup"><span data-stu-id="8e3f3-120">About TDE</span></span>
 <span data-ttu-id="8e3f3-121">A criptografia do arquivo de banco de dados é executada em nível de página.</span><span class="sxs-lookup"><span data-stu-id="8e3f3-121">Encryption of the database file is performed at the page level.</span></span> <span data-ttu-id="8e3f3-122">As páginas em um banco de dados criptografado são criptografadas antes de serem gravadas no disco e descriptografadas quando lidas na memória.</span><span class="sxs-lookup"><span data-stu-id="8e3f3-122">The pages in an encrypted database are encrypted before they are written to disk and decrypted when read into memory.</span></span> <span data-ttu-id="8e3f3-123">A TDE não aumenta o tamanho do banco de dados criptografado.</span><span class="sxs-lookup"><span data-stu-id="8e3f3-123">TDE does not increase the size of the encrypted database.</span></span>

 <span data-ttu-id="8e3f3-124">**Informações aplicáveis a[!INCLUDE[ssSDS](../../../includes/sssds-md.md)]**</span><span class="sxs-lookup"><span data-stu-id="8e3f3-124">**Information applicable to [!INCLUDE[ssSDS](../../../includes/sssds-md.md)]**</span></span>

 <span data-ttu-id="8e3f3-125">Ao usar TDE com [!INCLUDE[sqldbesa](../../../includes/sqldbesa-md.md)] V12 ([visualização em algumas regiões](https://azure.microsoft.com/documentation/articles/sql-database-preview-whats-new/?WT.mc_id=TSQL_GetItTag)) o certificado de nível de servidor armazenado no banco de dados mestre é criado automaticamente para você por [!INCLUDE[ssSDS](../../../includes/sssds-md.md)].</span><span class="sxs-lookup"><span data-stu-id="8e3f3-125">When using TDE with [!INCLUDE[sqldbesa](../../../includes/sqldbesa-md.md)] V12  ([Preview in some regions](https://azure.microsoft.com/documentation/articles/sql-database-preview-whats-new/?WT.mc_id=TSQL_GetItTag)) the server-level certificate stored in the master database is automatically created for you by [!INCLUDE[ssSDS](../../../includes/sssds-md.md)].</span></span> <span data-ttu-id="8e3f3-126">Para mover um banco de dados de TDE no [!INCLUDE[ssSDS](../../../includes/sssds-md.md)] é necessário descriptografar o banco de dados, movê-lo e habilitar novamente a TDE no destino [!INCLUDE[ssSDS](../../../includes/sssds-md.md)].</span><span class="sxs-lookup"><span data-stu-id="8e3f3-126">To move a TDE database on [!INCLUDE[ssSDS](../../../includes/sssds-md.md)] you must decrypt the database, move the database, and then re-enable TDE on the destination [!INCLUDE[ssSDS](../../../includes/sssds-md.md)].</span></span> <span data-ttu-id="8e3f3-127">Para obter instruções passo a passo para a TDE em [!INCLUDE[ssSDS](../../../includes/sssds-md.md)], consulte [Transparent Data Encryption with Azure SQL Database](../../../database-engine/transparent-data-encryption-with-azure-sql-database.md).</span><span class="sxs-lookup"><span data-stu-id="8e3f3-127">For step-by-step instructions for TDE on [!INCLUDE[ssSDS](../../../includes/sssds-md.md)], see [Transparent Data Encryption with Azure SQL Database](../../../database-engine/transparent-data-encryption-with-azure-sql-database.md).</span></span>

 <span data-ttu-id="8e3f3-128">A visualização do status da TDE aplica-se até mesmo ao subconjunto de regiões geográficas em que versão da família V12 de [!INCLUDE[ssSDS](../../../includes/sssds-md.md)] é anunciada como apresentando agora status de disponibilidade geral.</span><span class="sxs-lookup"><span data-stu-id="8e3f3-128">The preview of status of TDE applies even in the subset of geographic regions where version family V12 of [!INCLUDE[ssSDS](../../../includes/sssds-md.md)] is announced as now being in general availability status.</span></span> <span data-ttu-id="8e3f3-129">A TDE para [!INCLUDE[ssSDS](../../../includes/sssds-md.md)] não se destina para uso em bancos de dados de produção até o [!INCLUDE[msCoName](../../../includes/msconame-md.md)] anunciar a promoção da TDE, de visualização para GA.</span><span class="sxs-lookup"><span data-stu-id="8e3f3-129">TDE for [!INCLUDE[ssSDS](../../../includes/sssds-md.md)] is not intended for use in production databases until [!INCLUDE[msCoName](../../../includes/msconame-md.md)] announces that TDE is promoted from preview to GA.</span></span> <span data-ttu-id="8e3f3-130">Para obter mais informações sobre [!INCLUDE[ssSDS](../../../includes/sssds-md.md)] V12, consulte [Novidades no Banco de Dados SQL do Azure](https://azure.microsoft.com/documentation/articles/sql-database-preview-whats-new/).</span><span class="sxs-lookup"><span data-stu-id="8e3f3-130">For more information about [!INCLUDE[ssSDS](../../../includes/sssds-md.md)] V12, see [What's new in Azure SQL Database](https://azure.microsoft.com/documentation/articles/sql-database-preview-whats-new/).</span></span>

 <span data-ttu-id="8e3f3-131">**Informações aplicáveis a[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]**</span><span class="sxs-lookup"><span data-stu-id="8e3f3-131">**Information applicable to [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]**</span></span>

 <span data-ttu-id="8e3f3-132">Depois de protegido, o banco de dados pode ser restaurado usando o certificado correto.</span><span class="sxs-lookup"><span data-stu-id="8e3f3-132">After it is secured, the database can be restored by using the correct certificate.</span></span> <span data-ttu-id="8e3f3-133">Para obter mais informações sobre certificados, consulte [SQL Server Certificates and Asymmetric Keys](../sql-server-certificates-and-asymmetric-keys.md).</span><span class="sxs-lookup"><span data-stu-id="8e3f3-133">For more information about certificates, see [SQL Server Certificates and Asymmetric Keys](../sql-server-certificates-and-asymmetric-keys.md).</span></span>

 <span data-ttu-id="8e3f3-134">Ao habilitar a TDE, você deve imediatamente fazer o backup do certificado e da chave privada associada ao certificado.</span><span class="sxs-lookup"><span data-stu-id="8e3f3-134">When enabling TDE, you should immediately back up the certificate and the private key associated with the certificate.</span></span> <span data-ttu-id="8e3f3-135">Se em algum momento o certificado ficar indisponível ou caso você deseje restaurar ou anexar o banco de dados a outro servidor, você precisará dos backups do certificado e da chave privada ou não será possível abrir o banco de dados.</span><span class="sxs-lookup"><span data-stu-id="8e3f3-135">If the certificate ever becomes unavailable or if you must restore or attach the database on another server, you must have backups of both the certificate and the private key or you will not be able to open the database.</span></span> <span data-ttu-id="8e3f3-136">O certificado de criptografia deve ser retido até mesmo se o TDE já não estiver habilitado no banco de dados.</span><span class="sxs-lookup"><span data-stu-id="8e3f3-136">The encrypting certificate should be retained even if TDE is no longer enabled on the database.</span></span> <span data-ttu-id="8e3f3-137">Mesmo que o banco de dados não seja criptografado, partes do log de transações ainda poderão permanecer protegidas e talvez o certificado seja necessário para algumas operações até a realização do backup completo do banco de dados.</span><span class="sxs-lookup"><span data-stu-id="8e3f3-137">Even though the database is not encrypted, parts of the transaction log may still remain protected, and the certificate may be needed for some operations until the full backup of the database is performed.</span></span> <span data-ttu-id="8e3f3-138">Um certificado que excedeu sua data de validade ainda pode ser usado para criptografar e descriptografar dados com TDE.</span><span class="sxs-lookup"><span data-stu-id="8e3f3-138">A certificate that has exceeded its expiration date can still be used to encrypt and decrypt data with TDE.</span></span>

 <span data-ttu-id="8e3f3-139">**Hierarquia de criptografia**</span><span class="sxs-lookup"><span data-stu-id="8e3f3-139">**Encryption Hierarchy**</span></span>

 <span data-ttu-id="8e3f3-140">A ilustração a seguir mostra a arquitetura de criptografia da TDE.</span><span class="sxs-lookup"><span data-stu-id="8e3f3-140">The following illustration shows the architecture of TDE encryption.</span></span> <span data-ttu-id="8e3f3-141">Somente os itens de nível de banco de dados (a chave de criptografia do banco de dados e partes de ALTER DATABASE são configuráveis pelo usuário ao usar TDE em [!INCLUDE[ssSDS](../../../includes/sssds-md.md)]).</span><span class="sxs-lookup"><span data-stu-id="8e3f3-141">Only the database level items (the database encryption key and ALTER DATABASE portions are user-configurable when using TDE on [!INCLUDE[ssSDS](../../../includes/sssds-md.md)].</span></span>

 <span data-ttu-id="8e3f3-142">![Exibe a hierarquia descrita no tópico.](../../../database-engine/media/tde-architecture.gif "Exibe a hierarquia descrita no tópico.")</span><span class="sxs-lookup"><span data-stu-id="8e3f3-142">![Displays the hierarchy described in the topic.](../../../database-engine/media/tde-architecture.gif "Displays the hierarchy described in the topic.")</span></span>

## <a name="using-transparent-data-encryption"></a><span data-ttu-id="8e3f3-143">Usando Transparent Data Encryption</span><span class="sxs-lookup"><span data-stu-id="8e3f3-143">Using Transparent Data Encryption</span></span>
 <span data-ttu-id="8e3f3-144">Para usar a TDE, execute estes procedimentos.</span><span class="sxs-lookup"><span data-stu-id="8e3f3-144">To use TDE, follow these steps.</span></span>

||
|-|
|<span data-ttu-id="8e3f3-145">**Aplica-se a**: [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="8e3f3-145">**Applies to**: [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span></span>|

-   <span data-ttu-id="8e3f3-146">Crie uma chave mestra</span><span class="sxs-lookup"><span data-stu-id="8e3f3-146">Create a master key</span></span>

-   <span data-ttu-id="8e3f3-147">Crie ou obtenha um certificado protegido pela chave mestra</span><span class="sxs-lookup"><span data-stu-id="8e3f3-147">Create or obtain a certificate protected by the master key</span></span>

-   <span data-ttu-id="8e3f3-148">Crie uma chave de criptografia de banco de dados e proteja-a com o certificado</span><span class="sxs-lookup"><span data-stu-id="8e3f3-148">Create a database encryption key and protect it by the certificate</span></span>

-   <span data-ttu-id="8e3f3-149">Defina o banco de dados para usar criptografia</span><span class="sxs-lookup"><span data-stu-id="8e3f3-149">Set the database to use encryption</span></span>

 <span data-ttu-id="8e3f3-150">O exemplo a seguir ilustra criptografia e descriptografia do banco de dados `AdventureWorks2012` usando um certificado instalado no servidor nomeado `MyServerCert`.</span><span class="sxs-lookup"><span data-stu-id="8e3f3-150">The following example illustrates encrypting and decrypting the `AdventureWorks2012` database using a certificate installed on the server named `MyServerCert`.</span></span>

```
USE master;
GO
CREATE MASTER KEY ENCRYPTION BY PASSWORD = '<UseStrongPasswordHere>';
go
CREATE CERTIFICATE MyServerCert WITH SUBJECT = 'My DEK Certificate';
go
USE AdventureWorks2012;
GO
CREATE DATABASE ENCRYPTION KEY
WITH ALGORITHM = AES_128
ENCRYPTION BY SERVER CERTIFICATE MyServerCert;
GO
ALTER DATABASE AdventureWorks2012
SET ENCRYPTION ON;
GO
```

 <span data-ttu-id="8e3f3-151">As operações de criptografia e descriptografia são agendadas em threads em segundo plano pelo [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="8e3f3-151">The encryption and decryption operations are scheduled on background threads by [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="8e3f3-152">É possível exibir o status dessas operações usando exibições do catálogo e de gerenciamento dinâmico na lista mostrada posteriormente neste tópico.</span><span class="sxs-lookup"><span data-stu-id="8e3f3-152">You can view the status of these operations using the catalog views and dynamic management views in the list that appears later in this topic.</span></span>

> [!CAUTION]
>  <span data-ttu-id="8e3f3-153">Os arquivos de backup de bancos de dados com TDE habilitada também são criptografados usando a chave de criptografia do banco de dados.</span><span class="sxs-lookup"><span data-stu-id="8e3f3-153">Backup files of databases that have TDE enabled are also encrypted by using the database encryption key.</span></span> <span data-ttu-id="8e3f3-154">Como resultado, quando você restaura esses backups, o certificado que protege a chave de criptografia do banco de dados deve estar disponível.</span><span class="sxs-lookup"><span data-stu-id="8e3f3-154">As a result, when you restore these backups, the certificate protecting the database encryption key must be available.</span></span> <span data-ttu-id="8e3f3-155">Isso significa que, além de fazer backup do banco de dados, você deve assegurar que os backups dos certificados de servidor sejam mantidos para evitar perda de dados.</span><span class="sxs-lookup"><span data-stu-id="8e3f3-155">This means that in addition to backing up the database, you have to make sure that you maintain backups of the server certificates to prevent data loss.</span></span> <span data-ttu-id="8e3f3-156">Se o certificado não estiver mais disponível, haverá perda de dados.</span><span class="sxs-lookup"><span data-stu-id="8e3f3-156">Data loss will result if the certificate is no longer available.</span></span> <span data-ttu-id="8e3f3-157">Para obter mais informações, consulte [SQL Server Certificates and Asymmetric Keys](../sql-server-certificates-and-asymmetric-keys.md).</span><span class="sxs-lookup"><span data-stu-id="8e3f3-157">For more information, see [SQL Server Certificates and Asymmetric Keys](../sql-server-certificates-and-asymmetric-keys.md).</span></span>

## <a name="commands-and-functions"></a><span data-ttu-id="8e3f3-158">Comandos e funções</span><span class="sxs-lookup"><span data-stu-id="8e3f3-158">Commands and Functions</span></span>
 <span data-ttu-id="8e3f3-159">Os certificados da TDE devem ser criptografados pela chave mestra do banco de dados para serem aceitos pelas instruções a seguir.</span><span class="sxs-lookup"><span data-stu-id="8e3f3-159">The TDE certificates must be encrypted by the database master key to be accepted by the following statements.</span></span> <span data-ttu-id="8e3f3-160">Se forem criptografados somente pela senha, serão rejeitados pelas instruções como criptografadores.</span><span class="sxs-lookup"><span data-stu-id="8e3f3-160">If they are encrypted by password only, the statements will reject them as encryptors.</span></span>

> [!IMPORTANT]
>  <span data-ttu-id="8e3f3-161">A alteração de certificados para que sejam protegidos por senha após usarem a TDE fará com que o banco de dados se torne inacessível após uma reinicialização.</span><span class="sxs-lookup"><span data-stu-id="8e3f3-161">Altering the certificates to be password-protected after they are used by TDE will cause the database to become inaccessible after a restart.</span></span>

 <span data-ttu-id="8e3f3-162">A tabela a seguir fornece links e explicações de comandos e funções da TDE.</span><span class="sxs-lookup"><span data-stu-id="8e3f3-162">The following table provides links and explanations of TDE commands and functions.</span></span>

|<span data-ttu-id="8e3f3-163">Comando ou função</span><span class="sxs-lookup"><span data-stu-id="8e3f3-163">Command or function</span></span>|<span data-ttu-id="8e3f3-164">Finalidade</span><span class="sxs-lookup"><span data-stu-id="8e3f3-164">Purpose</span></span>|
|-------------------------|-------------|
|[<span data-ttu-id="8e3f3-165">CREATE DATABASE ENCRYPTION KEY &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="8e3f3-165">CREATE DATABASE ENCRYPTION KEY &#40;Transact-SQL&#41;</span></span>](/sql/t-sql/statements/create-database-encryption-key-transact-sql)|<span data-ttu-id="8e3f3-166">Cria uma chave usada para criptografar um banco de dados.</span><span class="sxs-lookup"><span data-stu-id="8e3f3-166">Creates a key that is used to encrypt a database.</span></span>|
|[<span data-ttu-id="8e3f3-167">ALTER DATABASE ENCRYPTION KEY &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="8e3f3-167">ALTER DATABASE ENCRYPTION KEY &#40;Transact-SQL&#41;</span></span>](/sql/t-sql/statements/alter-database-encryption-key-transact-sql)|<span data-ttu-id="8e3f3-168">Altera a chave usada para criptografar um banco de dados.</span><span class="sxs-lookup"><span data-stu-id="8e3f3-168">Changes the key that is used to encrypt a database.</span></span>|
|[<span data-ttu-id="8e3f3-169">DROP DATABASE ENCRYPTION KEY &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="8e3f3-169">DROP DATABASE ENCRYPTION KEY &#40;Transact-SQL&#41;</span></span>](/sql/t-sql/statements/drop-database-transact-sql)|<span data-ttu-id="8e3f3-170">Remove a chave usada para criptografar um banco de dados.</span><span class="sxs-lookup"><span data-stu-id="8e3f3-170">Removes the key that was used to encrypt a database.</span></span>|
|[<span data-ttu-id="8e3f3-171">Opções ALTER DATABASE SET &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="8e3f3-171">ALTER DATABASE SET Options &#40;Transact-SQL&#41;</span></span>](/sql/t-sql/statements/alter-database-transact-sql-set-options)|<span data-ttu-id="8e3f3-172">Explica a opção `ALTER DATABASE` usada para habilitar a TDE.</span><span class="sxs-lookup"><span data-stu-id="8e3f3-172">Explains the `ALTER DATABASE` option that is used to enable TDE.</span></span>|

## <a name="catalog-views-and-dynamic-management-views"></a><span data-ttu-id="8e3f3-173">Exibições do catálogo e exibições de gerenciamento dinâmico</span><span class="sxs-lookup"><span data-stu-id="8e3f3-173">Catalog Views and Dynamic Management Views</span></span>
 <span data-ttu-id="8e3f3-174">A tabela a seguir mostra exibições do catálogo de TDE e exibições de gerenciamento dinâmico.</span><span class="sxs-lookup"><span data-stu-id="8e3f3-174">The following table shows TDE catalog views and dynamic management views.</span></span>

|<span data-ttu-id="8e3f3-175">Exibição do catálogo ou exibição de gerenciamento dinâmico</span><span class="sxs-lookup"><span data-stu-id="8e3f3-175">Catalog view or dynamic management view</span></span>|<span data-ttu-id="8e3f3-176">Finalidade</span><span class="sxs-lookup"><span data-stu-id="8e3f3-176">Purpose</span></span>|
|---------------------------------------------|-------------|
|[<span data-ttu-id="8e3f3-177">sys.databases &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="8e3f3-177">sys.databases &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-catalog-views/sys-databases-transact-sql)|<span data-ttu-id="8e3f3-178">Exibição do catálogo que exibe informações do banco de dados.</span><span class="sxs-lookup"><span data-stu-id="8e3f3-178">Catalog view that displays database information.</span></span>|
|[<span data-ttu-id="8e3f3-179">sys.certificates &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="8e3f3-179">sys.certificates &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-catalog-views/sys-certificates-transact-sql)|<span data-ttu-id="8e3f3-180">Exibição do catálogo que mostra os certificados em um banco de dados.</span><span class="sxs-lookup"><span data-stu-id="8e3f3-180">Catalog view that shows the certificates in a database.</span></span>|
|[<span data-ttu-id="8e3f3-181">sys.dm_database_encryption_keys &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="8e3f3-181">sys.dm_database_encryption_keys &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-dynamic-management-views/sys-dm-database-encryption-keys-transact-sql)|<span data-ttu-id="8e3f3-182">Exibição de gerenciamento dinâmico que fornece informações sobre as chaves de criptografia usadas em um banco de dados e o estado da criptografia de um banco de dados.</span><span class="sxs-lookup"><span data-stu-id="8e3f3-182">Dynamic management view that provides information about the encryption keys used in a database, and the state of encryption of a database.</span></span>|

## <a name="permissions"></a><span data-ttu-id="8e3f3-183">Permissões</span><span class="sxs-lookup"><span data-stu-id="8e3f3-183">Permissions</span></span>
 <span data-ttu-id="8e3f3-184">Cada recurso e comando da TDE têm requisitos individuais de permissões, descritos nas tabelas anteriores.</span><span class="sxs-lookup"><span data-stu-id="8e3f3-184">Each TDE feature and command has individual permission requirements, described in the tables shown earlier.</span></span>

 <span data-ttu-id="8e3f3-185">A exibição de metadados envolvidos com TDE requer a permissão VIEW DEFINITION no certificado.</span><span class="sxs-lookup"><span data-stu-id="8e3f3-185">Viewing the metadata involved with TDE requires the VIEW DEFINITION permission on the certificate.</span></span>

## <a name="considerations"></a><span data-ttu-id="8e3f3-186">Considerações</span><span class="sxs-lookup"><span data-stu-id="8e3f3-186">Considerations</span></span>
 <span data-ttu-id="8e3f3-187">Quando um exame de recriptografia para uma operação de criptografia de banco de dados está em andamento, as operações de manutenção no banco de dados são desabilitadas.</span><span class="sxs-lookup"><span data-stu-id="8e3f3-187">While a re-encryption scan for a database encryption operation is in progress, maintenance operations to the database are disabled.</span></span> <span data-ttu-id="8e3f3-188">Você pode usar a configuração de modo de usuário único para que o banco de dados execute a operação de manutenção.</span><span class="sxs-lookup"><span data-stu-id="8e3f3-188">You can use the single user mode setting for the database to perform the maintenance operation.</span></span> <span data-ttu-id="8e3f3-189">Para obter mais informações, veja [Definir um banco de dados como modo de usuário único](../../databases/set-a-database-to-single-user-mode.md).</span><span class="sxs-lookup"><span data-stu-id="8e3f3-189">For more information, see [Set a Database to Single-user Mode](../../databases/set-a-database-to-single-user-mode.md).</span></span>

 <span data-ttu-id="8e3f3-190">É possível localizar o estado da criptografia do banco de dados usando a exibição de gerenciamento dinâmico sys.dm_database_encryption_keys.</span><span class="sxs-lookup"><span data-stu-id="8e3f3-190">You can find the state of the database encryption using the sys.dm_database_encryption_keys dynamic management view.</span></span> <span data-ttu-id="8e3f3-191">Para obter mais informações, veja a seção “Exibições de catálogo e exibições de gerenciamento dinâmico” no início deste tópico).</span><span class="sxs-lookup"><span data-stu-id="8e3f3-191">For more information, see the "Catalog Views and Dynamic Management Views"section earlier in this topic).</span></span>

 <span data-ttu-id="8e3f3-192">Na TDE, todos os arquivos e os grupos de arquivos do banco de dados são criptografados.</span><span class="sxs-lookup"><span data-stu-id="8e3f3-192">In TDE, all files and filegroups in the database are encrypted.</span></span> <span data-ttu-id="8e3f3-193">Se algum grupo de arquivos em um banco de dados estiver marcado como READ ONLY, haverá falha na operação de criptografia de banco de dados.</span><span class="sxs-lookup"><span data-stu-id="8e3f3-193">If any filegroups in a database are marked READ ONLY, the database encryption operation will fail.</span></span>

 <span data-ttu-id="8e3f3-194">Se um banco de dados estiver sendo usado no espelhamento de banco de dados ou envio de logs, ambos os bancos de dados serão criptografados.</span><span class="sxs-lookup"><span data-stu-id="8e3f3-194">If a database is being used in database mirroring or log shipping, both databases will be encrypted.</span></span> <span data-ttu-id="8e3f3-195">As transações de logs serão criptografadas quando enviadas entre eles.</span><span class="sxs-lookup"><span data-stu-id="8e3f3-195">The log transactions will be encrypted when sent between them.</span></span>

> [!IMPORTANT]
>  <span data-ttu-id="8e3f3-196">Qualquer índice de texto completo novo será criptografado quando um banco de dados for definido para criptografia.</span><span class="sxs-lookup"><span data-stu-id="8e3f3-196">Any new full-text indexes will be encrypted when a database is set for encryption.</span></span> <span data-ttu-id="8e3f3-197">Índices de texto completo criados previamente serão importados durante atualizações e ficarão na TDE quando os dados forem carregados no [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="8e3f3-197">Previously-created full-text indexes will be imported during upgrade and they will be in TDE after the data is loaded into [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="8e3f3-198">Habilitar um índice de texto completo em uma coluna pode fazer com que os dados da coluna sejam gravados em texto sem formatação no disco durante uma varredura de índice de texto completo.</span><span class="sxs-lookup"><span data-stu-id="8e3f3-198">Enabling a full-text index on a column can cause that column's data to be written in plain text onto the disk during a full-text indexing scan.</span></span> <span data-ttu-id="8e3f3-199">Recomendamos que você não crie um índice de texto completo em dados criptografados sensíveis.</span><span class="sxs-lookup"><span data-stu-id="8e3f3-199">We recommend that you do not create a full-text index on sensitive encrypted data.</span></span>

 <span data-ttu-id="8e3f3-200">A compactação de dados criptografados é significativamente menor do que a compactação de dados equivalentes não criptografados.</span><span class="sxs-lookup"><span data-stu-id="8e3f3-200">Encrypted data compresses significantly less than equivalent unencrypted data.</span></span> <span data-ttu-id="8e3f3-201">Se a TDE for usada para criptografar um banco de dados, a compactação de backup não poderá compactar o armazenamento de backup de forma significativa.</span><span class="sxs-lookup"><span data-stu-id="8e3f3-201">If TDE is used to encrypt a database, backup compression will not be able to significantly compress the backup storage.</span></span> <span data-ttu-id="8e3f3-202">Portanto, não é recomendável usar a TDE com a compactação de backup.</span><span class="sxs-lookup"><span data-stu-id="8e3f3-202">Therefore, using TDE and backup compression together is not recommended.</span></span>

### <a name="restrictions"></a><span data-ttu-id="8e3f3-203">Restrições</span><span class="sxs-lookup"><span data-stu-id="8e3f3-203">Restrictions</span></span>
 <span data-ttu-id="8e3f3-204">As operações seguintes não são permitidas durante criptografia de banco de dados inicial, alteração de chave ou descriptografia de banco de dados:</span><span class="sxs-lookup"><span data-stu-id="8e3f3-204">The following operations are not allowed during initial database encryption, key change, or database decryption:</span></span>

-   <span data-ttu-id="8e3f3-205">Descartando um arquivo de um grupo de arquivos no banco de dados</span><span class="sxs-lookup"><span data-stu-id="8e3f3-205">Dropping a file from a filegroup in the database</span></span>

-   <span data-ttu-id="8e3f3-206">Descartando o banco de dados</span><span class="sxs-lookup"><span data-stu-id="8e3f3-206">Dropping the database</span></span>

-   <span data-ttu-id="8e3f3-207">Colocando o banco de dados offline</span><span class="sxs-lookup"><span data-stu-id="8e3f3-207">Taking the database offline</span></span>

-   <span data-ttu-id="8e3f3-208">Desanexando um banco de dados</span><span class="sxs-lookup"><span data-stu-id="8e3f3-208">Detaching a database</span></span>

-   <span data-ttu-id="8e3f3-209">Fazendo a transição de um banco de dados ou grupo de arquivos para um estado READ ONLY</span><span class="sxs-lookup"><span data-stu-id="8e3f3-209">Transitioning a database or filegroup into a READ ONLY state</span></span>

 <span data-ttu-id="8e3f3-210">As operações a seguir não são permitidas durante a execução das instruções CREATE DATABASE ENCRYPTION KEY, ALTER DATABASE ENCRYPTION KEY, DROP DATABASE ENCRYPTION KEY ou ALTER DATABASE...SET ENCRYPTION.</span><span class="sxs-lookup"><span data-stu-id="8e3f3-210">The following operations are not allowed during the CREATE DATABASE ENCRYPTION KEY, ALTER DATABASE ENCRYPTION KEY, DROP DATABASE ENCRYPTION KEY, or ALTER DATABASE...SET ENCRYPTION statements.</span></span>

-   <span data-ttu-id="8e3f3-211">Descartando um arquivo de um grupo de arquivos no banco de dados.</span><span class="sxs-lookup"><span data-stu-id="8e3f3-211">Dropping a file from a filegroup in the database.</span></span>

-   <span data-ttu-id="8e3f3-212">Descartando o banco de dados.</span><span class="sxs-lookup"><span data-stu-id="8e3f3-212">Dropping the database.</span></span>

-   <span data-ttu-id="8e3f3-213">Colocando o banco de dados offline.</span><span class="sxs-lookup"><span data-stu-id="8e3f3-213">Taking the database offline.</span></span>

-   <span data-ttu-id="8e3f3-214">Desanexando um banco de dados.</span><span class="sxs-lookup"><span data-stu-id="8e3f3-214">Detaching a database.</span></span>

-   <span data-ttu-id="8e3f3-215">Fazendo a transição de um banco de dados ou grupo de arquivos para um estado READ ONLY.</span><span class="sxs-lookup"><span data-stu-id="8e3f3-215">Transitioning a database or filegroup into a READ ONLY state.</span></span>

-   <span data-ttu-id="8e3f3-216">Usando um comando ALTER DATABASE.</span><span class="sxs-lookup"><span data-stu-id="8e3f3-216">Using an ALTER DATABASE command.</span></span>

-   <span data-ttu-id="8e3f3-217">Iniciando um banco de dados ou backup de arquivo de banco de dados.</span><span class="sxs-lookup"><span data-stu-id="8e3f3-217">Starting a database or database file backup.</span></span>

-   <span data-ttu-id="8e3f3-218">Iniciando um banco de dados ou restauração de arquivo de banco de dados.</span><span class="sxs-lookup"><span data-stu-id="8e3f3-218">Starting a database or database file restore.</span></span>

-   <span data-ttu-id="8e3f3-219">Criando um instantâneo.</span><span class="sxs-lookup"><span data-stu-id="8e3f3-219">Creating a snapshot.</span></span>

 <span data-ttu-id="8e3f3-220">As operações e as condições a seguir impedirão a execução das instruções CREATE DATABASE ENCRYPTION KEY, ALTER DATABASE ENCRYPTION KEY, DROP DATABASE ENCRYPTION KEY ou ALTER DATABASE...SET ENCRYPTION.</span><span class="sxs-lookup"><span data-stu-id="8e3f3-220">The following operations or conditions will prevent the CREATE DATABASE ENCRYPTION KEY, ALTER DATABASE ENCRYPTION KEY, DROP DATABASE ENCRYPTION KEY, or ALTER DATABASE...SET ENCRYPTION statements.</span></span>

-   <span data-ttu-id="8e3f3-221">O banco de dados é somente leitura ou tem grupos de arquivo somente leitura.</span><span class="sxs-lookup"><span data-stu-id="8e3f3-221">The database is read-only or has any read-only file groups.</span></span>

-   <span data-ttu-id="8e3f3-222">Um comando ALTER DATABASE está em execução.</span><span class="sxs-lookup"><span data-stu-id="8e3f3-222">An ALTER DATABASE command is executing.</span></span>

-   <span data-ttu-id="8e3f3-223">Algum backup de dados está sendo executado.</span><span class="sxs-lookup"><span data-stu-id="8e3f3-223">Any data backup is running.</span></span>

-   <span data-ttu-id="8e3f3-224">O banco de dados está em condição de restauração ou offline.</span><span class="sxs-lookup"><span data-stu-id="8e3f3-224">The database is in an offline or restore condition.</span></span>

-   <span data-ttu-id="8e3f3-225">Um instantâneo está em andamento.</span><span class="sxs-lookup"><span data-stu-id="8e3f3-225">A snapshot is in progress.</span></span>

-   <span data-ttu-id="8e3f3-226">Tarefas de manutenção do banco de dados.</span><span class="sxs-lookup"><span data-stu-id="8e3f3-226">Database maintenance tasks.</span></span>

 <span data-ttu-id="8e3f3-227">Durante a criação de arquivos de banco de dados, a inicialização instantânea do arquivo não está disponível quando a TDE está habilitada.</span><span class="sxs-lookup"><span data-stu-id="8e3f3-227">When creating database files, instant file initialization is not available when TDE is enabled.</span></span>

 <span data-ttu-id="8e3f3-228">Para criptografar a chave de criptografia de banco de dados com uma chave assimétrica, essa chave deve residir em um provedor de gerenciamento extensível de chaves.</span><span class="sxs-lookup"><span data-stu-id="8e3f3-228">In order to encrypt the database encryption key with an asymmetric key, the asymmetric key must reside on an extensible key management provider.</span></span>

### <a name="transparent-data-encryption-and-transaction-logs"></a><span data-ttu-id="8e3f3-229">Transparent Data Encryption e logs de transação</span><span class="sxs-lookup"><span data-stu-id="8e3f3-229">Transparent Data Encryption and Transaction Logs</span></span>
 <span data-ttu-id="8e3f3-230">A habilitação de um banco de dados para usar TDE tem o efeito de zerar a parte remanescente do log de transações virtuais para impor o próximo log de transações virtuais.</span><span class="sxs-lookup"><span data-stu-id="8e3f3-230">Enabling a database to use TDE has the effect of "zeroing out" the remaining part of the virtual transaction log to force the next virtual transaction log.</span></span> <span data-ttu-id="8e3f3-231">Isso garante que nenhum texto não criptografado seja deixado nos logs de transações depois que o banco de dados for definido para criptografia.</span><span class="sxs-lookup"><span data-stu-id="8e3f3-231">This guarantees that no clear text is left in the transaction logs after the database is set for encryption.</span></span> <span data-ttu-id="8e3f3-232">Você pode localizar o status da criptografia de arquivo de log visualizando a coluna `encryption_state` na exibição `sys.dm_database_encryption_keys`, como neste exemplo:</span><span class="sxs-lookup"><span data-stu-id="8e3f3-232">You can find the status of the log file encryption by viewing the `encryption_state` column in the `sys.dm_database_encryption_keys` view, as in this example:</span></span>

```
USE AdventureWorks2012;
GO
/* The value 3 represents an encrypted state 
   on the database and transaction logs. */
SELECT *
FROM sys.dm_database_encryption_keys
WHERE encryption_state = 3;
GO
```

 <span data-ttu-id="8e3f3-233">Para obter mais informações sobre a arquitetura de arquivos de log do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)], veja [O log de transações &#40;SQL Server&#41;](../../logs/the-transaction-log-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="8e3f3-233">For more information about the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] log file architecture, see [The Transaction Log &#40;SQL Server&#41;](../../logs/the-transaction-log-sql-server.md).</span></span>

 <span data-ttu-id="8e3f3-234">Todos os dados gravados no log de transações antes de uma alteração na chave de criptografia do banco de dados serão criptografados usando a chave de criptografia do banco de dados anterior.</span><span class="sxs-lookup"><span data-stu-id="8e3f3-234">All data written to the transaction log before a change in the database encryption key will be encrypted by using the previous database encryption key.</span></span>

 <span data-ttu-id="8e3f3-235">Depois que uma chave de criptografia de banco de dados foi modificada duas vezes, um backup de log deve ser executado para que a chave de criptografia de banco de dados possa ser modificada novamente.</span><span class="sxs-lookup"><span data-stu-id="8e3f3-235">After a database encryption key has been modified twice, a log backup must be performed before the database encryption key can be modified again.</span></span>

### <a name="transparent-data-encryption-and-the-tempdb-system-database"></a><span data-ttu-id="8e3f3-236">Transparent Data Encryption e o banco de dados do sistema tempdb</span><span class="sxs-lookup"><span data-stu-id="8e3f3-236">Transparent Data Encryption and the tempdb System Database</span></span>
 <span data-ttu-id="8e3f3-237">O banco de dados do sistema tempdb será criptografado se qualquer outro banco de dados da instância do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] for criptografado usando TDE.</span><span class="sxs-lookup"><span data-stu-id="8e3f3-237">The tempdb system database will be encrypted if any other database on the instance of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] is encrypted by using TDE.</span></span> <span data-ttu-id="8e3f3-238">Isso pode ter um efeito de desempenho em bancos de dados não criptografados na mesma instância do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="8e3f3-238">This might have a performance effect for unencrypted databases on the same instance of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="8e3f3-239">Para obter mais informações sobre o banco de dados do sistema tempdb, confira [Banco de dados tempdb](../../databases/tempdb-database.md).</span><span class="sxs-lookup"><span data-stu-id="8e3f3-239">For more information about the tempdb system database, see [tempdb Database](../../databases/tempdb-database.md).</span></span>

### <a name="transparent-data-encryption-and-replication"></a><span data-ttu-id="8e3f3-240">Transparent Data Encryption e replicação</span><span class="sxs-lookup"><span data-stu-id="8e3f3-240">Transparent Data Encryption and Replication</span></span>
 <span data-ttu-id="8e3f3-241">A replicação não replica automaticamente os dados de um banco de dados habilitado para TDE em um formulário criptografado.</span><span class="sxs-lookup"><span data-stu-id="8e3f3-241">Replication does not automatically replicate data from a TDE-enabled database in an encrypted form.</span></span> <span data-ttu-id="8e3f3-242">É necessário habilitar separadamente a TDE se você deseja proteger a distribuição e os bancos de dados dos assinantes.</span><span class="sxs-lookup"><span data-stu-id="8e3f3-242">You must separately enable TDE if you want to protect the distribution and subscriber databases.</span></span> <span data-ttu-id="8e3f3-243">A replicação de instantâneo, assim como a distribuição inicial de dados para replicações transacionais e de mesclagem, pode armazenar dados em arquivos intermediários não criptografados, como os arquivos bcp, por exemplo.</span><span class="sxs-lookup"><span data-stu-id="8e3f3-243">Snapshot replication, as well as the initial distribution of data for transactional and merge replication, can store data in unencrypted intermediate files; for example, the bcp files.</span></span>  <span data-ttu-id="8e3f3-244">Durante replicação transacional ou de mesclagem, a criptografia pode ser habilitada para proteger o canal de comunicação.</span><span class="sxs-lookup"><span data-stu-id="8e3f3-244">During transactional or merge replication, encryption can be enabled to protect the communication channel.</span></span> <span data-ttu-id="8e3f3-245">Para obter mais informações, veja [Habilitar conexões criptografadas no Mecanismo de Banco de Dados &#40;SQL Server Configuration Manager&#41;](../../../database-engine/configure-windows/enable-encrypted-connections-to-the-database-engine.md).</span><span class="sxs-lookup"><span data-stu-id="8e3f3-245">For more information, see [Enable Encrypted Connections to the Database Engine &#40;SQL Server Configuration Manager&#41;](../../../database-engine/configure-windows/enable-encrypted-connections-to-the-database-engine.md).</span></span>

### <a name="transparent-data-encryption-and-filestream-data"></a><span data-ttu-id="8e3f3-246">Transparent Data Encryption e FILESTREAM DATA</span><span class="sxs-lookup"><span data-stu-id="8e3f3-246">Transparent Data Encryption and FILESTREAM DATA</span></span>
 <span data-ttu-id="8e3f3-247">Os dados FILESTREAM não são criptografados nem mesmo quando a TDE está habilitada.</span><span class="sxs-lookup"><span data-stu-id="8e3f3-247">FILESTREAM data is not encrypted even when TDE is enabled.</span></span>

### <a name="transparent-data-encryption-and-buffer-pool-extension"></a><span data-ttu-id="8e3f3-248">Transparent Data Encryption e Extensão do Pool de Buffers</span><span class="sxs-lookup"><span data-stu-id="8e3f3-248">Transparent Data Encryption and Buffer Pool Extension</span></span>
 <span data-ttu-id="8e3f3-249">Arquivos relacionados à BPE (extensão do pool de buffers) não são criptografados quando o banco de dados é criptografado usando TDE.</span><span class="sxs-lookup"><span data-stu-id="8e3f3-249">Files related to buffer pool extension (BPE) are not encrypted when database is encrypted using TDE.</span></span> <span data-ttu-id="8e3f3-250">Você deve usar ferramentas de criptografia no nível de sistema de arquivos como Bitlocker ou EFS para arquivos relacionados à BPE.</span><span class="sxs-lookup"><span data-stu-id="8e3f3-250">You must use file system level encryption tools like Bitlocker or EFS for BPE related files.</span></span>

## <a name="transparent-data-encryption-and-in-memory-oltp"></a><span data-ttu-id="8e3f3-251">Transparent Data Encryption e OLTP na memória</span><span class="sxs-lookup"><span data-stu-id="8e3f3-251">Transparent Data Encryption and In-Memory OLTP</span></span>
 <span data-ttu-id="8e3f3-252">A TDE pode ser habilitada em um banco de dados que tenha objetos OLTP na memória.</span><span class="sxs-lookup"><span data-stu-id="8e3f3-252">TDE can be enabled on a database that has In-Memory OLTP objects.</span></span> <span data-ttu-id="8e3f3-253">Os registros de log do OLTP na memória serão criptografados se a TDE estiver habilitada.</span><span class="sxs-lookup"><span data-stu-id="8e3f3-253">In-Memory OLTP log records are encrypted if TDE is enabled.</span></span> <span data-ttu-id="8e3f3-254">Os dados em um grupo de arquivos MEMORY_OPTIMIZED_DATA não serão criptografados se o TDE estiver habilitado.</span><span class="sxs-lookup"><span data-stu-id="8e3f3-254">Data in a MEMORY_OPTIMIZED_DATA filegroup is not encrypted if TDE is enabled.</span></span>

## <a name="see-also"></a><span data-ttu-id="8e3f3-255">Consulte Também</span><span class="sxs-lookup"><span data-stu-id="8e3f3-255">See Also</span></span>
 <span data-ttu-id="8e3f3-256">[Mover um banco de dados protegido por TDE para outro SQL Server habilitar o](move-a-tde-protected-database-to-another-sql-server.md) [TDE usando EKM](enable-tde-on-sql-server-using-ekm.md) [Transparent Data Encryption com o banco de dados sql do Azure](../../../database-engine/transparent-data-encryption-with-azure-sql-database.md) [SQL Server criptografia](sql-server-encryption.md) [SQL Server e chaves de criptografia de banco de dados &#40;](sql-server-and-database-encryption-keys-database-engine.md) mecanismo de banco de dados&#41;[central de segurança para SQL Server mecanismo de banco de dados e o banco de dados SQL do Azure](../security-center-for-sql-server-database-engine-and-azure-sql-database.md) [FileStream](../../blob/filestream-sql-server.md) &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="8e3f3-256">[Move a TDE Protected Database to Another SQL Server](move-a-tde-protected-database-to-another-sql-server.md) [Enable TDE Using EKM](enable-tde-on-sql-server-using-ekm.md) [Transparent Data Encryption with Azure SQL Database](../../../database-engine/transparent-data-encryption-with-azure-sql-database.md) [SQL Server Encryption](sql-server-encryption.md) [SQL Server and Database Encryption Keys &#40;Database Engine&#41;](sql-server-and-database-encryption-keys-database-engine.md) [Security Center for SQL Server Database Engine and Azure SQL Database](../security-center-for-sql-server-database-engine-and-azure-sql-database.md) [FILESTREAM &#40;SQL Server&#41;](../../blob/filestream-sql-server.md)</span></span>


