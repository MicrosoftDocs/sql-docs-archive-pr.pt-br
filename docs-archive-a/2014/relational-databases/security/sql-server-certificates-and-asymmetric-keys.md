---
title: Certificados e chaves assimétricas do SQL Server | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: security
ms.topic: conceptual
helpviewer_keywords:
- security [SQL Server], certificates and asymmetric keys
ms.assetid: 8519aa2f-f09c-4c1c-96b5-abc24811e60c
author: VanMSFT
ms.author: vanto
ms.openlocfilehash: e8af2d92b31fee4f220b4c950fb6b7bd9c519885
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87679769"
---
# <a name="sql-server-certificates-and-asymmetric-keys"></a><span data-ttu-id="a5a1c-102">Certificados e chaves assimétricas do SQL Server</span><span class="sxs-lookup"><span data-stu-id="a5a1c-102">SQL Server Certificates and Asymmetric Keys</span></span>
  <span data-ttu-id="a5a1c-103"> A PKI (Public Key Cryptography) é um formulário de mensagem secreto no qual um usuário cria uma chave *pública* e uma chave *privada*.</span><span class="sxs-lookup"><span data-stu-id="a5a1c-103">Public Key Cryptography (PKI) is a form of message secrecy in which a user creates a *public* key and a *private* key.</span></span> <span data-ttu-id="a5a1c-104">A chave privada é mantida em segredo, enquanto que a chave pública pode ser distribuída a outros.</span><span class="sxs-lookup"><span data-stu-id="a5a1c-104">The private key is kept secret, whereas the public key can be distributed to others.</span></span> <span data-ttu-id="a5a1c-105">Embora as chaves estejam matematicamente relacionadas, a chave privada não pode ser obtida facilmente usando a chave pública.</span><span class="sxs-lookup"><span data-stu-id="a5a1c-105">Although the keys are mathematically related, the private key cannot be easily derived by using the public key.</span></span> <span data-ttu-id="a5a1c-106">A chave pública é usada para criptografar dados e a chave privada é usada para descriptografar dados.</span><span class="sxs-lookup"><span data-stu-id="a5a1c-106">The public key is used to encrypt data and the private key is used to decrypt data.</span></span> <span data-ttu-id="a5a1c-107">Uma mensagem que é criptografada usando a chave pública só pode ser descriptografada usando a chave privada correta.</span><span class="sxs-lookup"><span data-stu-id="a5a1c-107">A message that is encrypted by using the public key can only be decrypted by using the correct private key.</span></span> <span data-ttu-id="a5a1c-108">Como há duas chaves diferentes, essas chaves são *assimétricas*.</span><span class="sxs-lookup"><span data-stu-id="a5a1c-108">Since there are two different keys, these keys are *asymmetric*.</span></span>  
  
 <span data-ttu-id="a5a1c-109">Certificados e chaves assimétricas são duas formas de usar a criptografia assimétrica.</span><span class="sxs-lookup"><span data-stu-id="a5a1c-109">Certificates and asymmetric keys are both ways to use asymmetric encryption.</span></span> <span data-ttu-id="a5a1c-110">Os certificados geralmente são usados como contêineres para chaves assimétricas porque podem conter mais informações, como datas de expiração e emissores.</span><span class="sxs-lookup"><span data-stu-id="a5a1c-110">Certificates are often used as containers for asymmetric keys because they can contain more information such as expiry dates and issuers.</span></span> <span data-ttu-id="a5a1c-111">Não há diferenças entre os dois mecanismos para o algoritmo criptográfico, bem como na intensidade dada ao mesmo comprimento de chave.</span><span class="sxs-lookup"><span data-stu-id="a5a1c-111">There is no difference between the two mechanisms for the cryptographic algorithm, and no difference in strength given the same key length.</span></span> <span data-ttu-id="a5a1c-112">Geralmente você usa um certificado para criptografar outros tipos de chaves de criptografia em um banco de dados ou para assinar módulos de código.</span><span class="sxs-lookup"><span data-stu-id="a5a1c-112">Generally, you use a certificate to encrypt other types of encryption keys in a database, or to sign code modules.</span></span>  
  
 <span data-ttu-id="a5a1c-113">Os certificados e as chaves assimétricas podem descriptografar dados um do outro.</span><span class="sxs-lookup"><span data-stu-id="a5a1c-113">Certificates and asymmetric keys can decrypt data that the other encrypts.</span></span> <span data-ttu-id="a5a1c-114">Geralmente você usa a criptografia assimétrica para criptografar uma chave simétrica para armazenamento em um banco de dados.</span><span class="sxs-lookup"><span data-stu-id="a5a1c-114">Generally, you use asymmetric encryption to encrypt a symmetric key for storage in a database.</span></span>  
  
 <span data-ttu-id="a5a1c-115">Uma chave pública não tem um formato específico como um certificado teria, e você não pode exportá-la para um arquivo.</span><span class="sxs-lookup"><span data-stu-id="a5a1c-115">A public key does not have a particular format like a certificate would have, and you cannot export it to a file.</span></span>  
  
> [!NOTE]  
>  [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="a5a1c-116">contém recursos que o habilitam a criar e gerenciar certificados e chaves para uso com o servidor e banco de dados.</span><span class="sxs-lookup"><span data-stu-id="a5a1c-116">contains features that enable you to create and manage certificates and keys for use with the server and database.</span></span> [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="a5a1c-117">não pode ser usado para criar e gerenciar certificados e chaves com outros aplicativos ou no sistema operacional.</span><span class="sxs-lookup"><span data-stu-id="a5a1c-117">cannot be used to create and manage certificates and keys with other applications or in the operating system.</span></span>  
  
## <a name="certificates"></a><span data-ttu-id="a5a1c-118">Certificados</span><span class="sxs-lookup"><span data-stu-id="a5a1c-118">Certificates</span></span>  
 <span data-ttu-id="a5a1c-119">Um certificado é um objeto de segurança assinado digitalmente que contém uma chave pública (e, opcionalmente, uma particular) para o [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="a5a1c-119">A certificate is a digitally signed security object that contains a public (and optionally a private) key for [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="a5a1c-120">Você pode usar certificados gerados externamente ou o [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] pode gerá-los.</span><span class="sxs-lookup"><span data-stu-id="a5a1c-120">You can use externally generated certificates or [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] can generate certificates.</span></span>  
  
> [!NOTE]  
>  [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="a5a1c-121">os certificados estão em conformidade com o padrão de certificado IETF X.509v3.</span><span class="sxs-lookup"><span data-stu-id="a5a1c-121">certificates comply with the IETF X.509v3 certificate standard.</span></span>  
  
 <span data-ttu-id="a5a1c-122">Os certificados são úteis devido à opção de exportar e importar chaves para os arquivos do certificado X.509.</span><span class="sxs-lookup"><span data-stu-id="a5a1c-122">Certificates are useful because of the option of both exporting and importing keys to X.509 certificate files.</span></span> <span data-ttu-id="a5a1c-123">A sintaxe para criar certificados leva em conta as opções de criação de certificados, como uma data de expiração.</span><span class="sxs-lookup"><span data-stu-id="a5a1c-123">The syntax for creating certificates allows for creation options for certificates such as an expiry date.</span></span>  
  
### <a name="using-a-certificate-in-sql-server"></a><span data-ttu-id="a5a1c-124">Usando um certificado no SQL Server</span><span class="sxs-lookup"><span data-stu-id="a5a1c-124">Using a Certificate in SQL Server</span></span>  
 <span data-ttu-id="a5a1c-125">Os certificados podem ser usados para auxiliar nas conexões seguras, no espelhamento de banco de dados, para assinar pacotes e outros objetos ou para criptografar dados ou conexões.</span><span class="sxs-lookup"><span data-stu-id="a5a1c-125">Certificates can be used to help secure connections, in database mirroring, to sign packages and other objects, or to encrypt data or connections.</span></span> <span data-ttu-id="a5a1c-126">A tabela a seguir lista recursos adicionais para certificados no [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="a5a1c-126">The following table lists additional resources for certificates in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span>  
  
|<span data-ttu-id="a5a1c-127">Tópico</span><span class="sxs-lookup"><span data-stu-id="a5a1c-127">Topic</span></span>|<span data-ttu-id="a5a1c-128">Descrição</span><span class="sxs-lookup"><span data-stu-id="a5a1c-128">Description</span></span>|  
|-----------|-----------------|  
|[<span data-ttu-id="a5a1c-129">CREATE CERTIFICATE &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="a5a1c-129">CREATE CERTIFICATE &#40;Transact-SQL&#41;</span></span>](/sql/t-sql/statements/create-certificate-transact-sql)|<span data-ttu-id="a5a1c-130">Explica o comando para a criação de certificados.</span><span class="sxs-lookup"><span data-stu-id="a5a1c-130">Explains the command for creating certificates.</span></span>|  
|[<span data-ttu-id="a5a1c-131">Identificar a origem dos pacotes com assinaturas digitais</span><span class="sxs-lookup"><span data-stu-id="a5a1c-131">Identify the Source of Packages with Digital Signatures</span></span>](../../integration-services/security/identify-the-source-of-packages-with-digital-signatures.md)|<span data-ttu-id="a5a1c-132">Mostra informações sobre como usar certificados para assinar pacotes de software.</span><span class="sxs-lookup"><span data-stu-id="a5a1c-132">Shows information about how to use certificates to sign software packages.</span></span>|  
|[<span data-ttu-id="a5a1c-133">Usar certificados para um ponto de extremidade de espelhamento de banco de dados &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="a5a1c-133">Use Certificates for a Database Mirroring Endpoint &#40;Transact-SQL&#41;</span></span>](../../database-engine/database-mirroring/use-certificates-for-a-database-mirroring-endpoint-transact-sql.md)|<span data-ttu-id="a5a1c-134">Abrange informações sobre como usar certificados com espelhamento de banco de dados.</span><span class="sxs-lookup"><span data-stu-id="a5a1c-134">Covers information about how to use certificates with Database Mirroring.</span></span>|  
  
## <a name="asymmetric-keys"></a><span data-ttu-id="a5a1c-135">Chaves assimétricas</span><span class="sxs-lookup"><span data-stu-id="a5a1c-135">Asymmetric Keys</span></span>  
 <span data-ttu-id="a5a1c-136">As chaves assimétricas são usadas para oferecer segurança às chaves simétricas.</span><span class="sxs-lookup"><span data-stu-id="a5a1c-136">Asymmetric keys are used for securing symmetric keys.</span></span> <span data-ttu-id="a5a1c-137">Elas também podem ser usadas para a criptografia de dados limitada e para assinar digitalmente objetos de banco de dados.</span><span class="sxs-lookup"><span data-stu-id="a5a1c-137">They can also be used for limited data encryption and to digitally sign database objects.</span></span> <span data-ttu-id="a5a1c-138">Uma chave assimétrica consiste em uma chave privada e uma chave pública correspondente.</span><span class="sxs-lookup"><span data-stu-id="a5a1c-138">An asymmetric key consists of a private key and a corresponding public key.</span></span> <span data-ttu-id="a5a1c-139">Para obter mais informações sobre chaves assimétricas, veja [CREATE ASYMMETRIC KEY &#40;Transact-SQL&#41;](/sql/t-sql/statements/create-asymmetric-key-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="a5a1c-139">For more information about asymmetric keys, see [CREATE ASYMMETRIC KEY &#40;Transact-SQL&#41;](/sql/t-sql/statements/create-asymmetric-key-transact-sql).</span></span>  
  
 <span data-ttu-id="a5a1c-140">As chaves assimétricas podem ser importadas dos arquivos de chave com nomes seguros, mas não podem ser exportadas.</span><span class="sxs-lookup"><span data-stu-id="a5a1c-140">Asymmetric keys can be imported from strong name key files, but they cannot be exported.</span></span> <span data-ttu-id="a5a1c-141">Elas também não têm opções de expiração.</span><span class="sxs-lookup"><span data-stu-id="a5a1c-141">They also do not have expiry options.</span></span> <span data-ttu-id="a5a1c-142">As chaves assimétricas não podem criptografar conexões.</span><span class="sxs-lookup"><span data-stu-id="a5a1c-142">Asymmetric keys cannot encrypt connections.</span></span>  
  
### <a name="using-an-asymmetric-key-in-sql-server"></a><span data-ttu-id="a5a1c-143">Usando uma chave assimétrica no SQL Server</span><span class="sxs-lookup"><span data-stu-id="a5a1c-143">Using an Asymmetric Key in SQL Server</span></span>  
 <span data-ttu-id="a5a1c-144">As chaves assimétricas podem ser usadas para auxiliar na proteção de dados ou na assinatura de texto não criptografado.</span><span class="sxs-lookup"><span data-stu-id="a5a1c-144">Asymmetric keys can be used to help secure data or sign plaintext.</span></span> <span data-ttu-id="a5a1c-145">A tabela a seguir lista recursos adicionais para chaves assimétricas no [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="a5a1c-145">The following table lists additional resources for asymmetric keys in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span>  
  
|<span data-ttu-id="a5a1c-146">Tópico</span><span class="sxs-lookup"><span data-stu-id="a5a1c-146">Topic</span></span>|<span data-ttu-id="a5a1c-147">Descrição</span><span class="sxs-lookup"><span data-stu-id="a5a1c-147">Description</span></span>|  
|-----------|-----------------|  
|[<span data-ttu-id="a5a1c-148">CREATE ASYMMETRIC KEY &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="a5a1c-148">CREATE ASYMMETRIC KEY &#40;Transact-SQL&#41;</span></span>](/sql/t-sql/statements/create-asymmetric-key-transact-sql)|<span data-ttu-id="a5a1c-149">Explica o comando para a criação de chaves assimétricas.</span><span class="sxs-lookup"><span data-stu-id="a5a1c-149">Explains the command for creating asymmetric keys.</span></span>|  
|[<span data-ttu-id="a5a1c-150">SIGNBYASYMKEY &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="a5a1c-150">SIGNBYASYMKEY &#40;Transact-SQL&#41;</span></span>](/sql/t-sql/functions/signbyasymkey-transact-sql)|<span data-ttu-id="a5a1c-151">Exibe as opções de assinatura de objetos.</span><span class="sxs-lookup"><span data-stu-id="a5a1c-151">Displays the options for signing objects.</span></span>|  
  
## <a name="tools"></a><span data-ttu-id="a5a1c-152">Ferramentas</span><span class="sxs-lookup"><span data-stu-id="a5a1c-152">Tools</span></span>  
 [!INCLUDE[msCoName](../../includes/msconame-md.md)] <span data-ttu-id="a5a1c-153">fornece ferramentas e utilitários que gerarão certificados e arquivos de chave com nomes seguros.</span><span class="sxs-lookup"><span data-stu-id="a5a1c-153">provides tools and utilities that will generate certificates and strong name key files.</span></span> <span data-ttu-id="a5a1c-154">Estas ferramentas oferecem maior flexibilidade no processo de geração de chaves do que a sintaxe do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="a5a1c-154">These tools offer a richer amount of flexibility in the key generation process than the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] syntax.</span></span> <span data-ttu-id="a5a1c-155">Você pode usá-las para criar chaves RSA com comprimentos de chaves mais complexas e importá-las para o [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="a5a1c-155">You can use these tools to create RSA keys with more complex key lengths and then import them into [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="a5a1c-156">A tabela a seguir mostra onde encontrar essas ferramentas.</span><span class="sxs-lookup"><span data-stu-id="a5a1c-156">The following table explains shows where to find these tools.</span></span>  
  
|||  
|-|-|  
|<span data-ttu-id="a5a1c-157">Ferramenta</span><span class="sxs-lookup"><span data-stu-id="a5a1c-157">Tool</span></span>|<span data-ttu-id="a5a1c-158">Finalidade</span><span class="sxs-lookup"><span data-stu-id="a5a1c-158">Purpose</span></span>|  
|<span data-ttu-id="a5a1c-159">[makecert](https://msdn2.microsoft.com/library/bfsktky3\(VS.80\).aspx)</span><span class="sxs-lookup"><span data-stu-id="a5a1c-159">[makecert](https://msdn2.microsoft.com/library/bfsktky3\(VS.80\).aspx)</span></span>|<span data-ttu-id="a5a1c-160">Cria certificados</span><span class="sxs-lookup"><span data-stu-id="a5a1c-160">Creates certificates.</span></span>|  
|<span data-ttu-id="a5a1c-161">[sn](https://msdn2.microsoft.com/library/k5b5tt23\(VS.80\).aspx)</span><span class="sxs-lookup"><span data-stu-id="a5a1c-161">[sn](https://msdn2.microsoft.com/library/k5b5tt23\(VS.80\).aspx)</span></span>|<span data-ttu-id="a5a1c-162">Cria nomes seguros para chaves simétricas.</span><span class="sxs-lookup"><span data-stu-id="a5a1c-162">Creates strong names for symmetric keys.</span></span>|  
  
## <a name="related-tasks"></a><span data-ttu-id="a5a1c-163">Related Tasks</span><span class="sxs-lookup"><span data-stu-id="a5a1c-163">Related Tasks</span></span>  
 [<span data-ttu-id="a5a1c-164">Escolher um algoritmo de criptografia</span><span class="sxs-lookup"><span data-stu-id="a5a1c-164">Choose an Encryption Algorithm</span></span>](encryption/choose-an-encryption-algorithm.md)  
  
 [<span data-ttu-id="a5a1c-165">CREATE SYMMETRIC KEY &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="a5a1c-165">CREATE SYMMETRIC KEY &#40;Transact-SQL&#41;</span></span>](/sql/t-sql/statements/create-symmetric-key-transact-sql)  
  
 [<span data-ttu-id="a5a1c-166">CREATE CERTIFICATE &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="a5a1c-166">CREATE CERTIFICATE &#40;Transact-SQL&#41;</span></span>](/sql/t-sql/statements/create-certificate-transact-sql)  
  
## <a name="see-also"></a><span data-ttu-id="a5a1c-167">Consulte Também</span><span class="sxs-lookup"><span data-stu-id="a5a1c-167">See Also</span></span>  
 <span data-ttu-id="a5a1c-168">[sys.certificates &#40;Transact-SQL&#41;](/sql/relational-databases/system-catalog-views/sys-certificates-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="a5a1c-168">[sys.certificates &#40;Transact-SQL&#41;](/sql/relational-databases/system-catalog-views/sys-certificates-transact-sql) </span></span>  
 [<span data-ttu-id="a5a1c-169">TDE &#40;Transparent Data Encryption&#41;</span><span class="sxs-lookup"><span data-stu-id="a5a1c-169">Transparent Data Encryption &#40;TDE&#41;</span></span>](encryption/transparent-data-encryption.md)  
  
