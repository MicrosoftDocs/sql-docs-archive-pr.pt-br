---
title: Escolher um modo de autenticação | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: security
ms.topic: conceptual
f1_keywords:
- sql12.ins.instwizard.authenticationmode.f1
helpviewer_keywords:
- sa account
- authentication modes
- trusted connection
- SQL Server Installation Wizard, Authentication Mode page
- choose authentication mode
- authentication [SQL Server], choosing a mode
- Windows authentication [SQL Server]
- mixed mode authentication
- mixed authentication mode
- SQL authentication mode
ms.assetid: ff7a6a48-3d38-4209-aa0f-7d6c0a8c64ef
author: VanMSFT
ms.author: vanto
ms.openlocfilehash: 973d1ef75512f44c5dd7bbff844b72525554082e
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87681496"
---
# <a name="choose-an-authentication-mode"></a><span data-ttu-id="22123-102">Escolher um modo de autenticação</span><span class="sxs-lookup"><span data-stu-id="22123-102">Choose an Authentication Mode</span></span>
  <span data-ttu-id="22123-103">Durante a instalação, você deve selecionar um modo de autenticação para o [!INCLUDE[ssDE](../../includes/ssde-md.md)].</span><span class="sxs-lookup"><span data-stu-id="22123-103">During setup, you must select an authentication mode for the [!INCLUDE[ssDE](../../includes/ssde-md.md)].</span></span> <span data-ttu-id="22123-104">Há duas soluções possíveis: o modo de autenticação do SQL Server e o modo misto.</span><span class="sxs-lookup"><span data-stu-id="22123-104">There are two possible modes: Windows Authentication mode and mixed mode.</span></span> <span data-ttu-id="22123-105">O modo de Autenticação do Windows habilita a Autenticação do Windows e desabilita a Autenticação do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="22123-105">Windows Authentication mode enables Windows Authentication and disables [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Authentication.</span></span> <span data-ttu-id="22123-106">O modo misto habilita a Autenticação do Windows e do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="22123-106">Mixed mode enables both Windows Authentication and [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Authentication.</span></span> <span data-ttu-id="22123-107">A Autenticação do Windows sempre está disponível e não é possível desabilitá-la.</span><span class="sxs-lookup"><span data-stu-id="22123-107">Windows Authentication is always available and cannot be disabled.</span></span>  
  
## <a name="configuring-the-authentication-mode"></a><span data-ttu-id="22123-108">Configurando o modo de autenticação</span><span class="sxs-lookup"><span data-stu-id="22123-108">Configuring the Authentication Mode</span></span>  
 <span data-ttu-id="22123-109">Se você selecionar a Autenticação de Modo Misto durante a instalação, deverá fornecer e confirmar uma senha forte para a conta interna do administrador de sistema do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] denominada sa.</span><span class="sxs-lookup"><span data-stu-id="22123-109">If you select Mixed Mode Authentication during setup, you must provide and then confirm a strong password for the built-in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] system administrator account named sa.</span></span> <span data-ttu-id="22123-110">A conta sa se conecta usando a Autenticação do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="22123-110">The sa account connects by using [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Authentication.</span></span>  
  
 <span data-ttu-id="22123-111">Se você selecionar a Autenticação do Windows durante a instalação, a Instalação criará a conta sa para a Autenticação do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , mas ela ficará desabilitada.</span><span class="sxs-lookup"><span data-stu-id="22123-111">If you select Windows Authentication during setup, Setup creates the sa account for [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Authentication but it is disabled.</span></span> <span data-ttu-id="22123-112">Se, depois você alterar para a Autenticação de Modo Misto e quiser usar a conta sa, será necessário habilitar essa conta.</span><span class="sxs-lookup"><span data-stu-id="22123-112">If you later change to Mixed Mode Authentication and you want to use the sa account, you must enable the account.</span></span> <span data-ttu-id="22123-113">Qualquer conta do Windows ou do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] pode ser configurada como administrador do sistema.</span><span class="sxs-lookup"><span data-stu-id="22123-113">Any Windows or [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] account can be configured as a system administrator.</span></span> <span data-ttu-id="22123-114">Como a conta sa é bem conhecida e, com frequência, visada por usuários mal-intencionados, não habilite a conta sa, a menos que o aplicativo solicite.</span><span class="sxs-lookup"><span data-stu-id="22123-114">Because the sa account is well known and often targeted by malicious users, do not enable the sa account unless your application requires it.</span></span> <span data-ttu-id="22123-115">Nunca defina uma senha em branco ou fraca para a conta sa.</span><span class="sxs-lookup"><span data-stu-id="22123-115">Never set a blank or weak password for the sa account.</span></span> <span data-ttu-id="22123-116">Para alterar do modo de Autenticação do Windows para a Autenticação de Modo Misto e usar a Autenticação do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , veja [Alterar modo de autenticação do servidor](../../database-engine/configure-windows/change-server-authentication-mode.md).</span><span class="sxs-lookup"><span data-stu-id="22123-116">To change from Windows Authentication mode to Mixed Mode Authentication and use [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Authentication, see [Change Server Authentication Mode](../../database-engine/configure-windows/change-server-authentication-mode.md).</span></span>  
  
## <a name="connecting-through-windows-authentication"></a><span data-ttu-id="22123-117">Conectando pela Autenticação do Windows</span><span class="sxs-lookup"><span data-stu-id="22123-117">Connecting Through Windows Authentication</span></span>  
 <span data-ttu-id="22123-118">Quando um usuário se conecta por uma conta de usuário do Windows, o [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] valida o nome e a senha da conta usando o token da entidade do Windows no sistema operacional.</span><span class="sxs-lookup"><span data-stu-id="22123-118">When a user connects through a Windows user account, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] validates the account name and password using the Windows principal token in the operating system.</span></span> <span data-ttu-id="22123-119">Isso significa que a identidade de usuário é confirmada pelo Windows.</span><span class="sxs-lookup"><span data-stu-id="22123-119">This means that the user identity is confirmed by Windows.</span></span> [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="22123-120">não solicita a senha e não executa a validação de identidade.</span><span class="sxs-lookup"><span data-stu-id="22123-120">does not ask for the password, and does not perform the identity validation.</span></span> <span data-ttu-id="22123-121">A Autenticação do Windows é o modo de autenticação padrão e é muito mais segura do que a Autenticação do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="22123-121">Windows Authentication is the default authentication mode, and is much more secure than [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Authentication.</span></span> <span data-ttu-id="22123-122">A Autenticação do Windows usa o protocolo de segurança Kerberos, fornece imposição de política de senha em relação à validação de complexidade para senhas fortes, além de dar suporte ao bloqueio de contas e à expiração de senhas.</span><span class="sxs-lookup"><span data-stu-id="22123-122">Windows Authentication uses Kerberos security protocol, provides password policy enforcement with regard to complexity validation for strong passwords, provides support for account lockout, and supports password expiration.</span></span> <span data-ttu-id="22123-123">Uma conexão estabelecida com uso da Autenticação do Windows às vezes é denominada conexão confiável, porque o [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] confia nas credenciais fornecidas pelo Windows.</span><span class="sxs-lookup"><span data-stu-id="22123-123">A connection made using Windows Authentication is sometimes called a trusted connection, because [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] trusts the credentials provided by Windows.</span></span>  
  
 <span data-ttu-id="22123-124">Usando a Autenticação do Windows, os grupos do Windows podem ser criados no nível de domínio, e um logon pode ser criado no [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] para todo o grupo.</span><span class="sxs-lookup"><span data-stu-id="22123-124">By using Windows Authentication, Windows groups can be created at the domain level, and a login can be created on [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] for the entire group.</span></span> <span data-ttu-id="22123-125">Gerenciar o acesso no nível de domínio pode simplificar a administração da conta.</span><span class="sxs-lookup"><span data-stu-id="22123-125">Managing access from at the domain level can simplify account administration.</span></span>  
  
> [!IMPORTANT]  
>  [!INCLUDE[ssNoteWinAuthentication](../../includes/ssnotewinauthentication-md.md)]  
  
## <a name="connecting-through-sql-server-authentication"></a><span data-ttu-id="22123-126">Conectando pela autenticação do SQL Server</span><span class="sxs-lookup"><span data-stu-id="22123-126">Connecting Through SQL Server Authentication</span></span>  
 <span data-ttu-id="22123-127">Durante o uso da Autenticação do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , são criados logons no [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] que não se baseiam em contas de usuário do Windows.</span><span class="sxs-lookup"><span data-stu-id="22123-127">When using [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Authentication, logins are created in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] that are not based on Windows user accounts.</span></span> <span data-ttu-id="22123-128">O nome de usuário e a senha são criados com o [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] e armazenados no [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="22123-128">Both the user name and the password are created by using [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] and stored in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="22123-129">Os usuários que se conectam com o uso da Autenticação do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] devem fornecer suas credenciais (logon e senha) sempre que se conectarem.</span><span class="sxs-lookup"><span data-stu-id="22123-129">Users connecting using [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Authentication must provide their credentials (login and password) every time that they connect.</span></span> <span data-ttu-id="22123-130">Ao usar a Autenticação do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , você deve definir senhas fortes para todas as contas do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="22123-130">When using [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Authentication, you must set strong passwords for all [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] accounts.</span></span> <span data-ttu-id="22123-131">Para obter diretrizes de senha forte, veja [Senhas fortes](strong-passwords.md).</span><span class="sxs-lookup"><span data-stu-id="22123-131">For strong password guidelines, see [Strong Passwords](strong-passwords.md).</span></span>  
  
 <span data-ttu-id="22123-132">Três políticas de senha opcionais estão disponíveis para logons do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="22123-132">Three optional password policies are available for [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] logins.</span></span>  
  
-   <span data-ttu-id="22123-133">O usuário deve alterar a senha no próximo logon</span><span class="sxs-lookup"><span data-stu-id="22123-133">User must change password at next login</span></span>  
  
     <span data-ttu-id="22123-134">Requer que o usuário altere a senha o na próxima vez que se conectar.</span><span class="sxs-lookup"><span data-stu-id="22123-134">Requires the user to change the password the next time that the user connects.</span></span> <span data-ttu-id="22123-135">A capacidade de alterar a senha é fornecida pelo [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span><span class="sxs-lookup"><span data-stu-id="22123-135">The ability to change the password is provided by [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span></span> <span data-ttu-id="22123-136">Os desenvolvedores de software de terceiros devem fornecer esse recurso se essa opção for usada.</span><span class="sxs-lookup"><span data-stu-id="22123-136">Third-party software developers should provide this feature if this option is used.</span></span>  
  
-   <span data-ttu-id="22123-137">Impor vencimento de senha</span><span class="sxs-lookup"><span data-stu-id="22123-137">Enforce password expiration</span></span>  
  
     <span data-ttu-id="22123-138">A política de idade de senha máxima do computador é imposta para logons do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="22123-138">The maximum password age policy of the computer is enforced for [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] logins.</span></span>  
  
-   <span data-ttu-id="22123-139">Impor política de senha</span><span class="sxs-lookup"><span data-stu-id="22123-139">Enforce password policy</span></span>  
  
     <span data-ttu-id="22123-140">As políticas de senha do Windows do computador são impostas para logons do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="22123-140">The Windows password policies of the computer are enforced for [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] logins.</span></span> <span data-ttu-id="22123-141">Isso inclui comprimento e complexidade da senha.</span><span class="sxs-lookup"><span data-stu-id="22123-141">This includes password length and complexity.</span></span> <span data-ttu-id="22123-142">Essa funcionalidade depende da API `NetValidatePasswordPolicy` , disponível somente no [!INCLUDE[winxpsvr](../../includes/winxpsvr-md.md)] e nas versões posteriores.</span><span class="sxs-lookup"><span data-stu-id="22123-142">This functionality depends on the `NetValidatePasswordPolicy` API, which is only available in [!INCLUDE[winxpsvr](../../includes/winxpsvr-md.md)] and later versions.</span></span>  
  
#### <a name="to-determine-the-password-policies-of-the-local-computer"></a><span data-ttu-id="22123-143">Para determinar as políticas de senha do computador local</span><span class="sxs-lookup"><span data-stu-id="22123-143">To determine the password policies of the local computer</span></span>  
  
1.  <span data-ttu-id="22123-144">No menu **Iniciar** , clique em **Executar**.</span><span class="sxs-lookup"><span data-stu-id="22123-144">On the **Start** menu, click **Run**.</span></span>  
  
2.  <span data-ttu-id="22123-145">Na caixa de diálogo **executar** , digite `secpol.msc` e clique em **OK**.</span><span class="sxs-lookup"><span data-stu-id="22123-145">In the **Run** dialog box, type `secpol.msc`, and then click **OK**.</span></span>  
  
3.  <span data-ttu-id="22123-146">No aplicativo **Configurações de Segurança Local** , expanda **Configurações de Segurança**, **Políticas de Conta**e clique em **Política de Senha**.</span><span class="sxs-lookup"><span data-stu-id="22123-146">In the **Local Security Settings** application, expand **Security Settings**, expand **Account Policies**, and then click **Password Policy**.</span></span>  
  
     <span data-ttu-id="22123-147">As políticas de senha são descritas no painel de resultados.</span><span class="sxs-lookup"><span data-stu-id="22123-147">The password policies are described in the results pane.</span></span>  
  
### <a name="disadvantages-of-sql-server-authentication"></a><span data-ttu-id="22123-148">Desvantagens da autenticação do SQL Server</span><span class="sxs-lookup"><span data-stu-id="22123-148">Disadvantages of SQL Server Authentication</span></span>  
  
-   <span data-ttu-id="22123-149">Se um usuário for usuário de domínio do Windows com logon e senha para o Windows, ele ainda deverá fornecer outras informações de logon e senha ([!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]) para se conectar.</span><span class="sxs-lookup"><span data-stu-id="22123-149">If a user is a Windows domain user who has a login and password for Windows, he must still provide another ([!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]) login and password to connect.</span></span> <span data-ttu-id="22123-150">Manter o controle de vários nomes e senhas é difícil para muitos usuários.</span><span class="sxs-lookup"><span data-stu-id="22123-150">Keeping track of multiple names and passwords is difficult for many users.</span></span> <span data-ttu-id="22123-151">Fornecer credenciais do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] a cada conexão com o banco de dados pode ser um incômodo.</span><span class="sxs-lookup"><span data-stu-id="22123-151">Having to provide [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] credentials every time that one connects to the database can be annoying.</span></span>  
  
-   [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="22123-152">A Autenticação não pode usar o protocolo de segurança Kerberos.</span><span class="sxs-lookup"><span data-stu-id="22123-152">Authentication cannot use Kerberos security protocol.</span></span>  
  
-   <span data-ttu-id="22123-153">O Windows oferece políticas de senha adicionais que não estão disponíveis para logons do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="22123-153">Windows offers additional password policies that are not available for [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] logins.</span></span>  
  
-   <span data-ttu-id="22123-154">A senha criptografada do logon de autenticação do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] deve ser transmitida pela rede no momento da conexão.</span><span class="sxs-lookup"><span data-stu-id="22123-154">The encrypted [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Authentication login password, must be passed over the network at the time of the connection.</span></span> <span data-ttu-id="22123-155">Alguns aplicativos que se conectam automaticamente armazenarão a senha no cliente.</span><span class="sxs-lookup"><span data-stu-id="22123-155">Some applications that connect automatically will store the password at the client.</span></span> <span data-ttu-id="22123-156">Esses são pontos adicionais de ataque.</span><span class="sxs-lookup"><span data-stu-id="22123-156">These are additional attack points.</span></span>  
  
### <a name="advantages-of-sql-server-authentication"></a><span data-ttu-id="22123-157">Vantagens da autenticação do SQL Server</span><span class="sxs-lookup"><span data-stu-id="22123-157">Advantages of SQL Server Authentication</span></span>  
  
-   <span data-ttu-id="22123-158">Permite que o [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] dê suporte a aplicativos mais antigos e aplicativos fornecidos por terceiros que exigem a Autenticação do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="22123-158">Allows [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] to support older applications and applications provided by third parties that require [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Authentication.</span></span>  
  
-   <span data-ttu-id="22123-159">Permite que o [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] dê suporte a ambientes com sistemas operacionais mistos, onde todos os usuários não são autenticados por um domínio do Windows.</span><span class="sxs-lookup"><span data-stu-id="22123-159">Allows [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] to support environments with mixed operating systems, where all users are not authenticated by a Windows domain.</span></span>  
  
-   <span data-ttu-id="22123-160">Permite que os usuários se conectem de domínios desconhecidos ou não confiáveis.</span><span class="sxs-lookup"><span data-stu-id="22123-160">Allows users to connect from unknown or untrusted domains.</span></span> <span data-ttu-id="22123-161">Por exemplo, um aplicativo no qual os clientes estabelecidos se conectam com logons atribuídos do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] para receber o status das suas ordens.</span><span class="sxs-lookup"><span data-stu-id="22123-161">For instance, an application where established customers connect with assigned [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] logins to receive the status of their orders.</span></span>  
  
-   <span data-ttu-id="22123-162">Permite que o [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] dê suporte a aplicativos com base na Web em que os usuários criam suas próprias identidades.</span><span class="sxs-lookup"><span data-stu-id="22123-162">Allows [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] to support Web-based applications where users create their own identities.</span></span>  
  
-   <span data-ttu-id="22123-163">Permite que os desenvolvedores de software distribuam seus aplicativos com o uso de uma hierarquia de permissões complexa com base em logons predefinidos e conhecidos do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="22123-163">Allows software developers to distribute their applications by using a complex permission hierarchy based on known, preset [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] logins.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="22123-164">O uso da Autenticação do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] não limita as permissões dos administradores locais no computador em que o [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] está instalado.</span><span class="sxs-lookup"><span data-stu-id="22123-164">Using [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Authentication does not limit the permissions of local administrators on the computer where [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] is installed.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="22123-165">Consulte Também</span><span class="sxs-lookup"><span data-stu-id="22123-165">See Also</span></span>  
 [<span data-ttu-id="22123-166">Considerações sobre segurança para uma instalação do SQL Server</span><span class="sxs-lookup"><span data-stu-id="22123-166">Security Considerations for a SQL Server Installation</span></span>](../../sql-server/install/security-considerations-for-a-sql-server-installation.md)  
  
  
