---
title: Compatibilidade do FILESTREAM com outros recursos do SQL Server | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: filestream
ms.topic: conceptual
helpviewer_keywords:
- FILESTREAM [SQL Server], other SQL Server features and
- FILESTREAM [SQL Server], limitations
ms.assetid: d2c145dc-d49a-4f5b-91e6-89a2b0adb4f3
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: 53bb99ea094261fd96f2a821dfaa5203e9796d8c
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87568644"
---
# <a name="filestream-compatibility-with-other-sql-server-features"></a><span data-ttu-id="d4689-102">Compatibilidade do FILESTREAM com outros recursos do SQL Server</span><span class="sxs-lookup"><span data-stu-id="d4689-102">FILESTREAM Compatibility with Other SQL Server Features</span></span>
  <span data-ttu-id="d4689-103">Como dados FILESTREAM estão no sistema de arquivos, este tópico fornece algumas considerações, diretrizes e limitações para o uso de FILESTREAM com os seguintes recursos no [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]:</span><span class="sxs-lookup"><span data-stu-id="d4689-103">Because FILESTREAM data is in the file system, this topic provides some considerations, guidelines, and limitations for using FILESTREAM with the following features in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]:</span></span>  
  
-   [<span data-ttu-id="d4689-104">SQL Server Integration Services (SSIS)</span><span class="sxs-lookup"><span data-stu-id="d4689-104">SQL Server Integration Services (SSIS)</span></span>](#ssis)  
  
-   [<span data-ttu-id="d4689-105">Consultas distribuídas e servidores vinculados</span><span class="sxs-lookup"><span data-stu-id="d4689-105">Distributed Queries and Linked Servers</span></span>](#distqueries)  
  
-   [<span data-ttu-id="d4689-106">Criptografia</span><span class="sxs-lookup"><span data-stu-id="d4689-106">Encryption</span></span>](#encryption)  
  
-   [<span data-ttu-id="d4689-107">Instantâneos do banco de dados</span><span class="sxs-lookup"><span data-stu-id="d4689-107">Database Snapshots</span></span>](#DatabaseSnapshot)  
  
-   [<span data-ttu-id="d4689-108">Replicação</span><span class="sxs-lookup"><span data-stu-id="d4689-108">Replication</span></span>](#Replication)  
  
-   [<span data-ttu-id="d4689-109">Envio de log</span><span class="sxs-lookup"><span data-stu-id="d4689-109">Log Shipping</span></span>](#LogShipping)  
  
-   [<span data-ttu-id="d4689-110">Espelhamento de Banco de Dados</span><span class="sxs-lookup"><span data-stu-id="d4689-110">Database Mirroring</span></span>](#DatabaseMirroring)  
  
-   [<span data-ttu-id="d4689-111">Indexação de texto completo</span><span class="sxs-lookup"><span data-stu-id="d4689-111">Full-Text Indexing</span></span>](#FullText)  
  
-   [<span data-ttu-id="d4689-112">Clustering de failover</span><span class="sxs-lookup"><span data-stu-id="d4689-112">Failover Clustering</span></span>](#FailoverClustering)  
  
-   [<span data-ttu-id="d4689-113">SQL Server Express</span><span class="sxs-lookup"><span data-stu-id="d4689-113">SQL Server Express</span></span>](#SQLServerExpress)  
  
-   [<span data-ttu-id="d4689-114">Bancos de dados independentes</span><span class="sxs-lookup"><span data-stu-id="d4689-114">Contained Databases</span></span>](#contained)  
  
##  <a name="sql-server-integration-services-ssis"></a><a name="ssis"></a> <span data-ttu-id="d4689-115">SQL Server Integration Services (SSIS)</span><span class="sxs-lookup"><span data-stu-id="d4689-115">SQL Server Integration Services (SSIS)</span></span>  
 <span data-ttu-id="d4689-116">O SQL Server Integration Services (SSIS) trata os dados FILESTREAM no fluxo de dados como quaisquer outros dados BLOB usando o tipo de dados DT_IMAGE SSIS.</span><span class="sxs-lookup"><span data-stu-id="d4689-116">SQL Server Integration Services (SSIS) handles FILESTREAM data in the data flow like any other BLOB data by using the DT_IMAGE SSIS data type.</span></span>  
  
 <span data-ttu-id="d4689-117">Você pode usar a transformação Importar Coluna para carregar arquivos do sistema de arquivos em uma coluna FILESTREAM.</span><span class="sxs-lookup"><span data-stu-id="d4689-117">You can use the Import Column transformation to load files from the file system into a FILESTREAM column.</span></span> <span data-ttu-id="d4689-118">Você também pode usar a transformação Exportar Coluna para extrair arquivos de uma coluna FILESTREAM para outro local do sistema de arquivos.</span><span class="sxs-lookup"><span data-stu-id="d4689-118">You can also use the Export Column transformation to extract files from a FILESTREAM column to another location in the file system.</span></span>  
  
##  <a name="distributed-queries-and-linked-servers"></a><a name="distqueries"></a> <span data-ttu-id="d4689-119">Consultas distribuídas e servidores vinculados</span><span class="sxs-lookup"><span data-stu-id="d4689-119">Distributed Queries and Linked Servers</span></span>  
 <span data-ttu-id="d4689-120">Você pode trabalhar com dados de FILESTREAM por meio de consultas distribuídas e servidores vinculados tratando-os como `varbinary(max)` dados.</span><span class="sxs-lookup"><span data-stu-id="d4689-120">You can work with FILESTREAM data through distributed queries and linked servers by treating it as `varbinary(max)` data.</span></span> <span data-ttu-id="d4689-121">Não é possível usar a função **PathName()** de FILESTREAM em consultas distribuídas que usam um nome de quatro partes, mesmo quando o nome referencia o servidor local.</span><span class="sxs-lookup"><span data-stu-id="d4689-121">You cannot use the FILESTREAM **PathName()** function in distributed queries that use a four-part name, even when the name refers to the local server.</span></span> <span data-ttu-id="d4689-122">Entretanto, você pode usar **PathName()** na consulta interna de uma consulta passagem que usa **OPENQUERY()** .</span><span class="sxs-lookup"><span data-stu-id="d4689-122">However you can use **PathName()** in the inner query of a pass-through query that uses **OPENQUERY()**.</span></span>  
  
##  <a name="encryption"></a><a name="encryption"></a> <span data-ttu-id="d4689-123">Criptografia</span><span class="sxs-lookup"><span data-stu-id="d4689-123">Encryption</span></span>  
 <span data-ttu-id="d4689-124">Os dados de FILESTREAM não são criptografados mesmo quando a criptografia transparente de dados está habilitada.</span><span class="sxs-lookup"><span data-stu-id="d4689-124">FILESTREAM data is not encrypted even when transparent data encryption is enabled.</span></span>  
  
##  <a name="database-snapshots"></a><a name="DatabaseSnapshot"></a> <span data-ttu-id="d4689-125">Instantâneos do banco de dados</span><span class="sxs-lookup"><span data-stu-id="d4689-125">Database Snapshots</span></span>  
 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="d4689-126">não oferece suporte a [database snapshots](../databases/database-snapshots-sql-server.md) para grupos de arquivos FILESTREAM.</span><span class="sxs-lookup"><span data-stu-id="d4689-126">does not support [database snapshots](../databases/database-snapshots-sql-server.md) for FILESTREAM filegroups.</span></span> <span data-ttu-id="d4689-127">Se um grupo de arquivos FILESTREAM for incluído em uma cláusula CREATE DATABASE ON, a instrução falhará e um erro será gerado.</span><span class="sxs-lookup"><span data-stu-id="d4689-127">If a FILESTREAM filegroup is included in a CREATE DATABASE ON clause, the statement will fail and an error will be raised.</span></span>  
  
 <span data-ttu-id="d4689-128">Ao usar FILESTREAM, você pode criar instantâneos do banco de dados de grupos de arquivos padrão (não FILESTREAM).</span><span class="sxs-lookup"><span data-stu-id="d4689-128">When you are using FILESTREAM, you can create database snapshots of standard (non-FILESTREAM) filegroups.</span></span> <span data-ttu-id="d4689-129">Os grupos de arquivos FILESTREAM são marcados como offline para esses instantâneos do bancos de dados.</span><span class="sxs-lookup"><span data-stu-id="d4689-129">The FILESTREAM filegroups are marked as offline for those database snapshots.</span></span>  
  
 <span data-ttu-id="d4689-130">Uma instrução SELECT executada em uma tabela FILESTREAM em um instantâneo do banco de dados não deve incluir uma coluna FILESTREAM. Caso contrário, a mensagem de erro a seguir será retornada:</span><span class="sxs-lookup"><span data-stu-id="d4689-130">A SELECT statement that is executed on a FILESTREAM table in a database snapshot must not include a FILESTREAM column; otherwise, the following error message will be returned:</span></span>  
  
 `Could not continue scan with NOLOCK due to data movement.`  
  
##  <a name="replication"></a><a name="Replication"></a> <span data-ttu-id="d4689-131">Replication</span><span class="sxs-lookup"><span data-stu-id="d4689-131">Replication</span></span>  
 <span data-ttu-id="d4689-132">Uma coluna `varbinary(max)` que tenha o atributo FILESTREAM ativado no Publicador pode ser replicada para um Assinante com ou sem o atributo FILESTREAM.</span><span class="sxs-lookup"><span data-stu-id="d4689-132">A `varbinary(max)` column that has the FILESTREAM attribute enabled at the Publisher can be replicated to a Subscriber with or without the FILESTREAM attribute.</span></span> <span data-ttu-id="d4689-133">Para especificar o modo como a coluna é replicada, use a caixa de diálogo **Propriedades do Artigo – \<Article>** ou o parâmetro @schema_option do [sp_addarticle](/sql/relational-databases/system-stored-procedures/sp-addarticle-transact-sql) ou do [sp_addmergearticle](/sql/relational-databases/system-stored-procedures/sp-addmergearticle-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="d4689-133">To specify the way in which the column is replicated, use the **Article Properties - \<Article>** dialog box or the @schema_option parameter of [sp_addarticle](/sql/relational-databases/system-stored-procedures/sp-addarticle-transact-sql) or [sp_addmergearticle](/sql/relational-databases/system-stored-procedures/sp-addmergearticle-transact-sql).</span></span> <span data-ttu-id="d4689-134">Dados replicados para uma coluna `varbinary(max)` que não tenham o atributo FILESTREAM não devem exceder o limite de 2 GB daquele tipo de dados. Caso contrário, um erro em tempo de execução será gerado.</span><span class="sxs-lookup"><span data-stu-id="d4689-134">Data that is replicated to a `varbinary(max)` column that does not have the FILESTREAM attribute must not exceed the 2-GB limit for that data type; otherwise, a run-time error is generated.</span></span> <span data-ttu-id="d4689-135">É recomendável replicar o atributo FILESTREAM, a menos que você esteja replicando dados para [!INCLUDE[ssVersion2005](../../includes/ssversion2000-md.md)] assinantes não tem suporte, independentemente da opção de esquema especificada.</span><span class="sxs-lookup"><span data-stu-id="d4689-135">We recommend that you replicate the FILESTREAM attribute, unless you are replicating data to [!INCLUDE[ssVersion2005](../../includes/ssversion2000-md.md)] Subscribers is not supported, regardless of the schema option that is specified.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="d4689-136">A replicação de valores de dados grandes do [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] para Assinantes do [!INCLUDE[ssVersion2005](../../../includes/ssversion2005-md.md)] é limitada a um máximo de 256 MB de valores de dados.</span><span class="sxs-lookup"><span data-stu-id="d4689-136">Replicating large data values from [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] to [!INCLUDE[ssVersion2005](../../../includes/ssversion2005-md.md)] Subscribers is limited to a maximum of 256 MB data values.</span></span> <span data-ttu-id="d4689-137">Para obter mais informações, consulte [Especificações de capacidade máxima](https://go.microsoft.com/fwlink/?LinkId=103810).</span><span class="sxs-lookup"><span data-stu-id="d4689-137">For more information, see [Maximum Capacity Specifications](https://go.microsoft.com/fwlink/?LinkId=103810).</span></span>  
  
### <a name="considerations-for-transactional-replication"></a><span data-ttu-id="d4689-138">Considerações sobre replicação transacional</span><span class="sxs-lookup"><span data-stu-id="d4689-138">Considerations for Transactional Replication</span></span>  
 <span data-ttu-id="d4689-139">Se você usar colunas FILESTREAM em tabelas que são publicadas para replicação transacional, observe as seguintes considerações:</span><span class="sxs-lookup"><span data-stu-id="d4689-139">If you use FILESTREAM columns in tables that are published for transactional replication, note the following considerations:</span></span>  
  
-   <span data-ttu-id="d4689-140">Se alguma tabela incluir colunas que tenham o atributo FILESTREAM, não será possível usar valores *database snapshot* ou *database snapshot character* para a propriedade @sync_method de [sp_addpublication](/sql/relational-databases/system-stored-procedures/sp-addpublication-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="d4689-140">If any tables include columns that have the FILESTREAM attribute, you cannot use values of *database snapshot* or *database snapshot character* for the @sync_method property of [sp_addpublication](/sql/relational-databases/system-stored-procedures/sp-addpublication-transact-sql).</span></span>  
  
-   <span data-ttu-id="d4689-141">A opção max text repl size especifica a quantidade máxima de dados que podem ser inseridos em uma coluna publicada para replicação.</span><span class="sxs-lookup"><span data-stu-id="d4689-141">The max text repl size option specifies the maximum amount of data that can be inserted into a column that is published for replication.</span></span> <span data-ttu-id="d4689-142">Essa opção pode ser usada para controlar o tamanho de dados FILESTREAM que são replicados.</span><span class="sxs-lookup"><span data-stu-id="d4689-142">This option can be used to control the size of FILESTREAM data that is replicated.</span></span>  
  
-   <span data-ttu-id="d4689-143">Se você especificar a opção de esquema para replicar o atributo FILESTREAM, mas filtrar a coluna `uniqueidentifier` requerida pelo FILESTREAM ou se especificar não replicar a restrição UNIQUE da coluna, a replicação não replicará o atributo FILESTREAM.</span><span class="sxs-lookup"><span data-stu-id="d4689-143">If you specify the schema option to replicate the FILESTREAM attribute, but you filter out the `uniqueidentifier` column that FILESTREAM requires or you specify not to replicate the UNIQUE constraint for the column, replication does not replicate the FILESTREAM attribute.</span></span> <span data-ttu-id="d4689-144">A coluna é replicada apenas como uma coluna `varbinary(max)`.</span><span class="sxs-lookup"><span data-stu-id="d4689-144">The column is replicated only as a `varbinary(max)` column.</span></span>  
  
### <a name="considerations-for-merge-replication"></a><span data-ttu-id="d4689-145">Considerações sobre replicação de mesclagem</span><span class="sxs-lookup"><span data-stu-id="d4689-145">Considerations for Merge Replication</span></span>  
 <span data-ttu-id="d4689-146">Se você usar colunas FILESTREAM em tabelas que são publicadas para replicação de mesclagem, observe as seguintes considerações:</span><span class="sxs-lookup"><span data-stu-id="d4689-146">If you use FILESTREAM columns in tables that are published for merge replication, note the following considerations:</span></span>  
  
-   <span data-ttu-id="d4689-147">A replicação de mesclagem e o FILESTREAM exigem uma coluna de tipo de dados `uniqueidentifier` para identificar cada linha em uma tabela.</span><span class="sxs-lookup"><span data-stu-id="d4689-147">Both merge replication and FILESTREAM require a column of data type `uniqueidentifier` to identify each row in a table.</span></span> <span data-ttu-id="d4689-148">A replicação de mesclagem adicionará uma coluna automaticamente se a tabela não tiver uma.</span><span class="sxs-lookup"><span data-stu-id="d4689-148">Merge replication automatically adds a column if the table does not have one.</span></span> <span data-ttu-id="d4689-149">A replicação de mesclagem requer que a coluna tenha a propriedade ROWGUIDCOL definida e um padrão de NEWID() ou de NEWSEQUENTIALID().</span><span class="sxs-lookup"><span data-stu-id="d4689-149">Merge replication requires that the column have the ROWGUIDCOL property set and a default of NEWID() or NEWSEQUENTIALID().</span></span> <span data-ttu-id="d4689-150">Além desses requisitos, o FILESTREAM requer que uma restrição UNIQUE seja definida para a coluna.</span><span class="sxs-lookup"><span data-stu-id="d4689-150">In addition to these requirements, FILESTREAM requires that a UNIQUE constraint be defined for the column.</span></span> <span data-ttu-id="d4689-151">Esses requisitos têm as seguintes consequências:</span><span class="sxs-lookup"><span data-stu-id="d4689-151">These requirements have the following consequences:</span></span>  
  
    -   <span data-ttu-id="d4689-152">Se você adicionar uma coluna FILESTREAM a uma tabela já publicada para replicação de mesclagem, verifique se a coluna `uniqueidentifier` tem uma restrição UNIQUE.</span><span class="sxs-lookup"><span data-stu-id="d4689-152">If you add a FILESTREAM column to a table that is already published for merge replication, make sure that the `uniqueidentifier` column has a UNIQUE constraint.</span></span> <span data-ttu-id="d4689-153">Se ela não tiver uma restrição UNIQUE, adicione uma restrição nomeada à tabela no banco de dados de publicação.</span><span class="sxs-lookup"><span data-stu-id="d4689-153">If it does not have a UNIQUE constraint, add a named constraint to the table in the publication database.</span></span> <span data-ttu-id="d4689-154">Por padrão, a replicação de mesclagem publicará essa alteração de esquema e ela será aplicada a cada banco de dados de assinatura.</span><span class="sxs-lookup"><span data-stu-id="d4689-154">By default, merge replication will publish this schema change, and it will be applied to each subscription database.</span></span>  
  
         <span data-ttu-id="d4689-155">Se você adicionar uma restrição UNIQUE manualmente conforme descrito e desejar remover a replicação de mesclagem, deverá primeiro remover a restrição UNIQUE. Caso contrário, haverá falha na remoção da replicação.</span><span class="sxs-lookup"><span data-stu-id="d4689-155">If you add a UNIQUE constraint manually as described and you want to remove merge replication, you must first remove the UNIQUE constraint; otherwise, replication removal will fail.</span></span>  
  
    -   <span data-ttu-id="d4689-156">Por padrão, a replicação de mesclagem usa NEWSEQUENTIALID() porque ele pode fornecer desempenho melhor que NEWID ().</span><span class="sxs-lookup"><span data-stu-id="d4689-156">By default, merge replication uses NEWSEQUENTIALID() because it can provide better performance than NEWID().</span></span> <span data-ttu-id="d4689-157">Se você adicionar uma coluna `uniqueidentifier` a uma tabela que será publicada para replicação de mesclagem, especifique NEWSEQUENTIALID() como o padrão.</span><span class="sxs-lookup"><span data-stu-id="d4689-157">If you add a `uniqueidentifier` column to a table that will be published for merge replication, specify NEWSEQUENTIALID() as the default.</span></span>  
  
-   <span data-ttu-id="d4689-158">A replicação de mesclagem inclui uma otimização para replicar tipos de objetos grandes.</span><span class="sxs-lookup"><span data-stu-id="d4689-158">Merge replication includes an optimization for replicating large object types.</span></span> <span data-ttu-id="d4689-159">Essa otimização é controlada pelo parâmetro @stream_blob_columns de [sp_addmergearticle](/sql/relational-databases/system-stored-procedures/sp-addmergearticle-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="d4689-159">This optimization is controlled by the @stream_blob_columns parameter of [sp_addmergearticle](/sql/relational-databases/system-stored-procedures/sp-addmergearticle-transact-sql).</span></span> <span data-ttu-id="d4689-160">Se você definir a opção de esquema para replicar o atributo FILESTREAM, o parâmetro @stream_blob_columns será definido como `true`.</span><span class="sxs-lookup"><span data-stu-id="d4689-160">If you set the schema option to replicate the FILESTREAM attribute, the @stream_blob_columns parameter value is set to `true`.</span></span> <span data-ttu-id="d4689-161">Essa otimização pode ser substituída com [sp_changemergearticle](/sql/relational-databases/system-stored-procedures/sp-changemergearticle-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="d4689-161">This optimization can be overridden by using [sp_changemergearticle](/sql/relational-databases/system-stored-procedures/sp-changemergearticle-transact-sql).</span></span> <span data-ttu-id="d4689-162">Esse procedimento armazenado permite que você defina @stream_blob_columns como `false`.</span><span class="sxs-lookup"><span data-stu-id="d4689-162">This stored procedure enables you to set @stream_blob_columns to `false`.</span></span> <span data-ttu-id="d4689-163">Se você adicionar uma coluna FILESTREAM a uma tabela já publicada para replicação de mesclagem, recomendamos definir a opção como `true` usando sp_changemergearticle.</span><span class="sxs-lookup"><span data-stu-id="d4689-163">If you add a FILESTREAM column to a table that is already published for merge replication, we recommend that you set the option to `true` by using sp_changemergearticle.</span></span>  
  
-   <span data-ttu-id="d4689-164">A habilitação da opção de esquema para FILESTREAM após a criação de um artigo poderá provocar falha na replicação, se os dados em uma coluna FILESTREAM excederem 2 GB e houver um conflito durante a replicação.</span><span class="sxs-lookup"><span data-stu-id="d4689-164">Enabling the schema option for FILESTREAM after an article is created can cause replication to fail if the data in a FILESTREAM column exceeds 2 GB and there is a conflict during replication.</span></span> <span data-ttu-id="d4689-165">Se essa situação for esperada, é recomendável descartar e recriar o artigo de tabela com a opção de esquema FILESTREAM adequada habilitada na hora da criação.</span><span class="sxs-lookup"><span data-stu-id="d4689-165">If you expect this situation to arise, it is recommended that you drop and re-create the table article with the appropriate FILESTREAM schema option enabled at creation time.</span></span>  
  
-   <span data-ttu-id="d4689-166">A replicação de mesclagem pode sincronizar dados FILESTREAM sobre uma conexão HTTPS usando [Sincronização da Web](../replication/merge/merge-replication.md).</span><span class="sxs-lookup"><span data-stu-id="d4689-166">Merge replication can synchronize FILESTREAM data over an HTTPS connection by using [Web Synchronization](../replication/merge/merge-replication.md).</span></span> <span data-ttu-id="d4689-167">Esses dados não podem exceder o limite de 50 MB para Sincronização da Web. Caso contrário, um erro de tempo de execução será gerado.</span><span class="sxs-lookup"><span data-stu-id="d4689-167">This data cannot exceed the 50 MB limit for Web Synchronization; otherwise, a run-time error is generated.</span></span>  
  
##  <a name="log-shipping"></a><a name="LogShipping"></a> <span data-ttu-id="d4689-168">Envio de log</span><span class="sxs-lookup"><span data-stu-id="d4689-168">Log Shipping</span></span>  
 <span data-ttu-id="d4689-169">O[Envio de log](../../database-engine/log-shipping/about-log-shipping-sql-server.md) oferece suporte a FILESTREAM.</span><span class="sxs-lookup"><span data-stu-id="d4689-169">[Log shipping](../../database-engine/log-shipping/about-log-shipping-sql-server.md) supports FILESTREAM.</span></span> <span data-ttu-id="d4689-170">Os servidores primário e secundário devem estar executando o [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)]ou uma versão posterior e ter o FILESTREAM habilitado.</span><span class="sxs-lookup"><span data-stu-id="d4689-170">Both the primary and secondary servers must be running [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)], or a later version, and have FILESTREAM enabled.</span></span>  
  
##  <a name="database-mirroring"></a><a name="DatabaseMirroring"></a> <span data-ttu-id="d4689-171">Espelhamento de Banco de Dados</span><span class="sxs-lookup"><span data-stu-id="d4689-171">Database Mirroring</span></span>  
 <span data-ttu-id="d4689-172">O espelhamento de banco de dados não oferece suporte a FILESTREAM.</span><span class="sxs-lookup"><span data-stu-id="d4689-172">Database mirroring does not support FILESTREAM.</span></span> <span data-ttu-id="d4689-173">Um grupo de arquivos FILESTREAM não pode ser criado no servidor principal.</span><span class="sxs-lookup"><span data-stu-id="d4689-173">A FILESTREAM filegroup cannot be created on the principal server.</span></span> <span data-ttu-id="d4689-174">O espelhamento de banco de dados não pode ser configurado para um banco de dados que contenha grupos de arquivos FILESTREAM.</span><span class="sxs-lookup"><span data-stu-id="d4689-174">Database mirroring cannot be configured for a database that contains FILESTREAM filegroups.</span></span>  
  
##  <a name="full-text-indexing"></a><a name="FullText"></a> <span data-ttu-id="d4689-175">Indexação de texto completo</span><span class="sxs-lookup"><span data-stu-id="d4689-175">Full-Text Indexing</span></span>  
 <span data-ttu-id="d4689-176">A [indexação de texto completo](../indexes/indexes.md) funciona com uma coluna FILESTREAM da mesma maneira que faz com uma `varbinary(max)` coluna.</span><span class="sxs-lookup"><span data-stu-id="d4689-176">[Full-text indexing](../indexes/indexes.md) works with a FILESTREAM column in the same way that it does with a `varbinary(max)` column.</span></span> <span data-ttu-id="d4689-177">A tabela FILESTREAM deve ter uma coluna que contenha a extensão do nome do arquivo para cada BLOB FILESTREAM.</span><span class="sxs-lookup"><span data-stu-id="d4689-177">The FILESTREAM table must have a column that contains the file name extension for each FILESTREAM BLOB.</span></span> <span data-ttu-id="d4689-178">Para obter mais informações, veja [Consultar com a pesquisa de texto completo](../search/query-with-full-text-search.md), [Configurar e gerenciar filtros para pesquisa](../search/configure-and-manage-filters-for-search.md), e [sys.fulltext_document_types &#40;Transact-SQL&#41;](/sql/relational-databases/system-catalog-views/sys-fulltext-document-types-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="d4689-178">For more information, see [Query with Full-Text Search](../search/query-with-full-text-search.md), [Configure and Manage Filters for Search](../search/configure-and-manage-filters-for-search.md), and [sys.fulltext_document_types &#40;Transact-SQL&#41;](/sql/relational-databases/system-catalog-views/sys-fulltext-document-types-transact-sql).</span></span>  
  
 <span data-ttu-id="d4689-179">O mecanismo de texto completo indexa o conteúdo dos BLOBs FILESTREAM.</span><span class="sxs-lookup"><span data-stu-id="d4689-179">The full-text engine indexes the contents of the FILESTREAM BLOBs.</span></span> <span data-ttu-id="d4689-180">Arquivos de indexação como imagens podem não ser úteis.</span><span class="sxs-lookup"><span data-stu-id="d4689-180">Indexing files such as images might not be useful.</span></span> <span data-ttu-id="d4689-181">Quando um BLOB FILESTREAM é atualizado, ele é reindexado.</span><span class="sxs-lookup"><span data-stu-id="d4689-181">When a FILESTREAM BLOB is updated it is reindexed.</span></span>  
  
##  <a name="failover-clustering"></a><a name="FailoverClustering"></a> <span data-ttu-id="d4689-182">Clustering de failover</span><span class="sxs-lookup"><span data-stu-id="d4689-182">Failover Clustering</span></span>  
 <span data-ttu-id="d4689-183">Para clustering de failover, os grupos de arquivos FILESTREAM devem ser colocados em um disco compartilhado.</span><span class="sxs-lookup"><span data-stu-id="d4689-183">For failover clustering, FILESTREAM filegroups must be put on a shared disk.</span></span> <span data-ttu-id="d4689-184">O FILESTREAM deve ser habilitado em cada nó do cluster que hospedará a instância FILESTREAM.</span><span class="sxs-lookup"><span data-stu-id="d4689-184">FILESTREAM must be enabled on each node in the cluster that will host the FILESTREAM instance.</span></span> <span data-ttu-id="d4689-185">Para obter mais informações, veja [Configurar o FILESTREAM em um cluster de failover](set-up-filestream-on-a-failover-cluster.md).</span><span class="sxs-lookup"><span data-stu-id="d4689-185">For more information, see [Set Up FILESTREAM on a Failover Cluster](set-up-filestream-on-a-failover-cluster.md).</span></span>  
  
##  <a name="sql-server-express"></a><a name="SQLServerExpress"></a> <span data-ttu-id="d4689-186">SQL Server Express</span><span class="sxs-lookup"><span data-stu-id="d4689-186">SQL Server Express</span></span>  
 [!INCLUDE[ssExpress](../../includes/ssexpress-md.md)] <span data-ttu-id="d4689-187">oferece suporte a FILESTREAM.</span><span class="sxs-lookup"><span data-stu-id="d4689-187">supports FILESTREAM.</span></span> <span data-ttu-id="d4689-188">O limite de tamanho do banco de dados do 10 GB não inclui o contêiner de dados FILESTREAM.</span><span class="sxs-lookup"><span data-stu-id="d4689-188">The 10-GB database size limit does not include the FILESTREAM data container.</span></span>  
  
##  <a name="contained-databases"></a><a name="contained"></a> <span data-ttu-id="d4689-189">Bancos de dados independentes</span><span class="sxs-lookup"><span data-stu-id="d4689-189">Contained Databases</span></span>  
 <span data-ttu-id="d4689-190">O recurso FILESTREAM exige alguma configuração fora do banco de dados.</span><span class="sxs-lookup"><span data-stu-id="d4689-190">The FILESTREAM feature requires some configuration outside of the database.</span></span> <span data-ttu-id="d4689-191">Portanto, um banco de dados que usa FILESTREAM ou FileTable não é contido completamente.</span><span class="sxs-lookup"><span data-stu-id="d4689-191">Therefore a database that uses FILESTREAM or FileTable is not fully contained.</span></span>  
  
 <span data-ttu-id="d4689-192">Você poderá definir a retenção de banco de dados como PARTIAL se desejar usar determinados recursos de bancos de dados contidos, como usuários contidos.</span><span class="sxs-lookup"><span data-stu-id="d4689-192">You can set database containment to PARTIAL if you want to use certain features of contained databases, such as contained users.</span></span> <span data-ttu-id="d4689-193">Neste caso, no entanto, você deve estar atento que algumas das configurações de banco de dados não estão contidas no banco de dados e não são movidos automaticamente quando o banco de dados é movido.</span><span class="sxs-lookup"><span data-stu-id="d4689-193">In this case, however, you must be aware that some of the database settings are not contained in the database and are not automatically moved when the database moves.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="d4689-194">Consulte Também</span><span class="sxs-lookup"><span data-stu-id="d4689-194">See Also</span></span>  
 [<span data-ttu-id="d4689-195">Objeto binário grande &#40;Blob&#41; Dados &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="d4689-195">Binary Large Object &#40;Blob&#41; Data &#40;SQL Server&#41;</span></span>](binary-large-object-blob-data-sql-server.md)  
  
  
