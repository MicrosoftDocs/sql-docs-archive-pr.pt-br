---
title: Principais considerações de segurança do SQLXML | Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: xml
ms.topic: reference
helpviewer_keywords:
- security [SQLXML], about security
ms.assetid: 330cd2ff-d5d5-4c8e-8f93-0869c977be94
author: rothja
ms.author: jroth
ms.openlocfilehash: eceaa28ff4d1a7b998a51b07df3b1076cf524e81
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87584115"
---
# <a name="core-sqlxml-security-considerations"></a><span data-ttu-id="9d5b4-102">Principais considerações de segurança do SQLXML</span><span class="sxs-lookup"><span data-stu-id="9d5b4-102">Core SQLXML Security Considerations</span></span>
  <span data-ttu-id="9d5b4-103">A seguir, encontram-se diretrizes de segurança para o uso do SQLXML para acessar dados.</span><span class="sxs-lookup"><span data-stu-id="9d5b4-103">The following are security guidelines for using SQLXML for data access.</span></span>  
  
-   <span data-ttu-id="9d5b4-104">O provedor SQLXMLOLEDB expõe uma propriedade `StreamFlags` que permite definir sinalizadores para indicar qual funcionalidade do SQLXML deve ser habilitada ou desabilitada para cada instância específica.</span><span class="sxs-lookup"><span data-stu-id="9d5b4-104">The SQLXMLOLEDB provider exposes a `StreamFlags` property which allows you to set flags indicating what SQLXML functionality should be enabled or disabled for each specific instance.</span></span> <span data-ttu-id="9d5b4-105">Você pode usar essa propriedade para personalizar o uso do SQLXML e ter certeza de que apenas os que você deseja estão habilitados.</span><span class="sxs-lookup"><span data-stu-id="9d5b4-105">You can use this property to customize your use of SQLXML and to make sure that only the components you want are enabled.</span></span> <span data-ttu-id="9d5b4-106">Para obter mais informações, consulte [SQLXMLOLEDB Provider &#40;SQLXML 4,0&#41;](../../../database-engine/dev-guide/sqlxmloledb-provider-sqlxml-4-0.md).</span><span class="sxs-lookup"><span data-stu-id="9d5b4-106">For more information, see [SQLXMLOLEDB Provider &#40;SQLXML 4.0&#41;](../../../database-engine/dev-guide/sqlxmloledb-provider-sqlxml-4-0.md).</span></span>  
  
-   <span data-ttu-id="9d5b4-107">Quando erros de SQLXML ocorrem e são retornados, eles podem conter informações sobre o esquema de banco de dados, como nomes de tabela, nomes de colunas ou informações sobre tipo.</span><span class="sxs-lookup"><span data-stu-id="9d5b4-107">When SQLXML errors occur and are returned, they can include information about the database schema such as table names, column names or type information.</span></span> <span data-ttu-id="9d5b4-108">Você deve ter cuidado ao tratar esses erros, para que as informações sobre a instalação do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] não sejam facilmente descobertas por usuários não autorizados.</span><span class="sxs-lookup"><span data-stu-id="9d5b4-108">You should use care when handling these errors so that information about your [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] installation is not easily discoverable by users where it is not intended or needed.</span></span>  
  
-   <span data-ttu-id="9d5b4-109">Quando usado para consultar ou enviar atualizações para o [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)], o SQLXML não define limites para a quantidade de dados que podem ser trocados e não faz nenhuma verificação em relação ao tamanho dos dados em uma carga do SQLXML antes de tentar processá-los.</span><span class="sxs-lookup"><span data-stu-id="9d5b4-109">When used to either query or send updates to [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)], SQLXML sets no limit on the amount of data that can be exchanged and does not do any checking on the size of data in a SQLXML payload before attempting to process it.</span></span> <span data-ttu-id="9d5b4-110">Quando você desenvolve seu aplicativo usando SQLXML, é sua responsabilidade assegurar que haja memória suficiente no sistema para processar os dados.</span><span class="sxs-lookup"><span data-stu-id="9d5b4-110">When you develop your application using SQLXML, it is your responsibility to ensure there is enough memory on the system to process the data.</span></span> <span data-ttu-id="9d5b4-111">Por exemplo, ao consultar dados do servidor, você deve verificar se há espaço suficiente na memória do cliente para armazená-los.</span><span class="sxs-lookup"><span data-stu-id="9d5b4-111">For example, when querying data from the server, you should verify there is enough room in memory on the client to receive it.</span></span> <span data-ttu-id="9d5b4-112">Da mesma forma, se você está carregando dados para o servidor, deve verificar se há memória disponível para processá-los e se há espaço disponível em disco no servidor para armazenar os dados.</span><span class="sxs-lookup"><span data-stu-id="9d5b4-112">Likewise, if you are loading data to the server, you need to verify there is enough available memory on the server to process it and enough available disk storage space on the server to store the data.</span></span>  
  
-   <span data-ttu-id="9d5b4-113">O SQLXML gera dinamicamente consultas de [!INCLUDE[tsql](../../../includes/tsql-md.md)] e atualiza comandos e os envia ao [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] para execução.</span><span class="sxs-lookup"><span data-stu-id="9d5b4-113">SQLXML dynamically generates [!INCLUDE[tsql](../../../includes/tsql-md.md)] queries and update commands and sends them to [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] for execution.</span></span> <span data-ttu-id="9d5b4-114">Esse é o único modo no qual o SQLXML consulta e atualiza o servidor.</span><span class="sxs-lookup"><span data-stu-id="9d5b4-114">This is the only way in which SQLXML queries and updates the server.</span></span> <span data-ttu-id="9d5b4-115">Os resultados serão recebidos como um fluxo (de XML) ou como um conjunto de linhas.</span><span class="sxs-lookup"><span data-stu-id="9d5b4-115">Results will be received either as a stream (of XML) or as a rowset.</span></span>  
  
-   <span data-ttu-id="9d5b4-116">Ao receber resultados de consulta, o SQLXML não executa nenhuma ação com base no conteúdo dos dados que recebe.</span><span class="sxs-lookup"><span data-stu-id="9d5b4-116">When receiving query results, SQLXML takes no actions based on the content of the data that it receives.</span></span> <span data-ttu-id="9d5b4-117">Nenhum processamento adicional é feito baseado no tipo ou no conteúdo dos dados.</span><span class="sxs-lookup"><span data-stu-id="9d5b4-117">No additional processing is done based on the type or contents of the data.</span></span> <span data-ttu-id="9d5b4-118">Os dados nunca são tratados como código com o qual as ações serão executadas.</span><span class="sxs-lookup"><span data-stu-id="9d5b4-118">The data is never treated as code with which to execute actions.</span></span>  
  
-   <span data-ttu-id="9d5b4-119">Ao executar modelos XML, o SQLXML converte as consultas XPath e DBObject contidas no modelo enviado em comandos de [!INCLUDE[tsql](../../../includes/tsql-md.md)] que são, por sua vez, executados no [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="9d5b4-119">When executing XML Templates, SQLXML translates the XPath and DBObject queries contained within the submitted template into [!INCLUDE[tsql](../../../includes/tsql-md.md)] commands that are then executed against [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="9d5b4-120">Esses comandos só afetam os dados existentes.</span><span class="sxs-lookup"><span data-stu-id="9d5b4-120">These commands only ever affect existing data.</span></span> <span data-ttu-id="9d5b4-121">Os comandos gerados pelo SQLXML nunca alterarão a estrutura do banco de dados.</span><span class="sxs-lookup"><span data-stu-id="9d5b4-121">Commands generated by SQLXML will never alter the structure of the database.</span></span> <span data-ttu-id="9d5b4-122">Os usuários devem executar comandos explícitos para alterar a estrutura do banco de dados.</span><span class="sxs-lookup"><span data-stu-id="9d5b4-122">Users must issue explicit commands to alter the database structure.</span></span> <span data-ttu-id="9d5b4-123">Por exemplo, incluindo-os em um bloco `sql:query` de um modelo.</span><span class="sxs-lookup"><span data-stu-id="9d5b4-123">For example, by including them in a `sql:query` block of a template.</span></span>  
  
-   <span data-ttu-id="9d5b4-124">Ao executar consultas DBObject e instruções XPath em arquivos de mapeamento, o SQLXML não alterará os dados no banco de dados.</span><span class="sxs-lookup"><span data-stu-id="9d5b4-124">When executing DBObject queries and XPath statements over mapping files, SQLXML will not alter the data in the database in any way.</span></span>  
  
-   <span data-ttu-id="9d5b4-125">O SQLXML pode fazer alterações de formatação nos dados especificados com base nas diferenças entre os XML e os modelos de dados do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="9d5b4-125">SQLXML may make formatting changes to the given data based on differences between the XML and [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] data models.</span></span> <span data-ttu-id="9d5b4-126">Por exemplo, o formato para especificar hora é diferente.</span><span class="sxs-lookup"><span data-stu-id="9d5b4-126">For example, the format for specifying a time is different.</span></span> <span data-ttu-id="9d5b4-127">O SQLXML tentará resolver essas diferenças.</span><span class="sxs-lookup"><span data-stu-id="9d5b4-127">SQLXML will attempt to resolve these differences.</span></span> <span data-ttu-id="9d5b4-128">Como resultado, algumas informações de precisão podem ser perdidas.</span><span class="sxs-lookup"><span data-stu-id="9d5b4-128">As a result, some precision information may be lost.</span></span>  
  
-   <span data-ttu-id="9d5b4-129">O SQLXML não define limites para o tempo que leva para processar os dados.</span><span class="sxs-lookup"><span data-stu-id="9d5b4-129">SQLXML sets no limit on the amount of time it takes to process the data.</span></span> <span data-ttu-id="9d5b4-130">O processamento continuará até que um erro ocorra ou o processamento seja concluído.</span><span class="sxs-lookup"><span data-stu-id="9d5b4-130">Processing will continue until an error occurs or processing is complete.</span></span>  
  
-   <span data-ttu-id="9d5b4-131">O SQLXML não grava no sistema de arquivos.</span><span class="sxs-lookup"><span data-stu-id="9d5b4-131">SQLXML does not write to the file system.</span></span> <span data-ttu-id="9d5b4-132">Se os usuários quiserem salvar os dados que recuperam do banco de dados, deverão usar seus códigos.</span><span class="sxs-lookup"><span data-stu-id="9d5b4-132">If users wish to save the data they retrieve from the database, they must do this in their code.</span></span>  
  
-   <span data-ttu-id="9d5b4-133">O SQLXML permite que os usuários executem qualquer consulta SQL que queiram no banco de dados.</span><span class="sxs-lookup"><span data-stu-id="9d5b4-133">SQLXML allows users to execute any SQL query they like against the database.</span></span> <span data-ttu-id="9d5b4-134">Essa funcionalidade nunca deve ser exposta para uma fonte não segura ou não controlada, já que ela está abrindo o banco de dados SQL para qualquer usuário.</span><span class="sxs-lookup"><span data-stu-id="9d5b4-134">This functionality should never be exposed to an unsecure or uncontrolled source, as this is essentially opening up the SQL database without provision to any users.</span></span>  
  
-   <span data-ttu-id="9d5b4-135">Ao executar diagramas de atualização, o SQLXML converte os blocos `updg:sync` em comandos DELETE, UPDATE e INSERT na instância do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="9d5b4-135">When executing Updategrams, SQLXML translates the `updg:sync` blocks into DELETE, UPDATE, and INSERT commands against the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] instance.</span></span> <span data-ttu-id="9d5b4-136">Esses comandos só afetam os dados existentes.</span><span class="sxs-lookup"><span data-stu-id="9d5b4-136">These commands only ever affect existing data.</span></span> <span data-ttu-id="9d5b4-137">Os comandos gerados pelo SQLXML nunca alterarão o banco de dados.</span><span class="sxs-lookup"><span data-stu-id="9d5b4-137">Commands generated by SQLXML will never alter the database.</span></span> <span data-ttu-id="9d5b4-138">Os usuários devem executar comandos explícitos para alterar a estrutura do banco de dados.</span><span class="sxs-lookup"><span data-stu-id="9d5b4-138">Users must issue explicit commands to alter the database structure.</span></span> <span data-ttu-id="9d5b4-139">Por exemplo, incluindo-os em um bloco `sql:query` de um modelo.</span><span class="sxs-lookup"><span data-stu-id="9d5b4-139">For example, by including them in a `sql:query` block of a template.</span></span>  
  
-   <span data-ttu-id="9d5b4-140">Ao executar diagramas de atualização, o SQLXML converte o diagrama em comandos DELETE, UPDATE e INSERT na instância do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="9d5b4-140">When executing DiffGrams, SQLXML translates the DiffGram into DELETE, UPDATE, and INSERT commands against the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] instance.</span></span> <span data-ttu-id="9d5b4-141">Esses comandos só afetam os dados existentes.</span><span class="sxs-lookup"><span data-stu-id="9d5b4-141">These commands only ever affect existing data.</span></span> <span data-ttu-id="9d5b4-142">Os comandos gerados pelo SQLXML nunca alterarão o banco de dados.</span><span class="sxs-lookup"><span data-stu-id="9d5b4-142">Commands generated by SQLXML will never alter the database.</span></span> <span data-ttu-id="9d5b4-143">Os usuários devem executar comandos explícitos para alterar a estrutura do banco de dados.</span><span class="sxs-lookup"><span data-stu-id="9d5b4-143">Users must issue explicit commands to alter the database structure.</span></span> <span data-ttu-id="9d5b4-144">Por exemplo, incluindo-os em um bloco `sql:query` de um modelo.</span><span class="sxs-lookup"><span data-stu-id="9d5b4-144">For example, by including them in a `sql:query` block of a template.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="9d5b4-145">Consulte Também</span><span class="sxs-lookup"><span data-stu-id="9d5b4-145">See Also</span></span>  
 [<span data-ttu-id="9d5b4-146">Considerações de segurança do SQLXML 4.0</span><span class="sxs-lookup"><span data-stu-id="9d5b4-146">SQLXML 4.0 Security Considerations</span></span>](sqlxml-4-0-security-considerations.md)  
  
  
