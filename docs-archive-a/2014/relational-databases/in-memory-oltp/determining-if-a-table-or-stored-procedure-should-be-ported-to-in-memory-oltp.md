---
title: Determinando se uma tabela ou um procedimento armazenado deve ser movido para o OLTP in-memory | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: in-memory-oltp
ms.topic: conceptual
helpviewer_keywords:
- Analyze, Migrate, Report
- AMR
ms.assetid: c1ef96f1-290d-4952-8369-2f49f27afee2
author: rothja
ms.author: jroth
ms.openlocfilehash: 8e517cff394bc0c813e34763469f75147a0a16c5
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87573982"
---
# <a name="determining-if-a-table-or-stored-procedure-should-be-ported-to-in-memory-oltp"></a><span data-ttu-id="8a000-102">Determinando se uma tabela ou um procedimento armazenado deve ser movido para o OLTP na memória</span><span class="sxs-lookup"><span data-stu-id="8a000-102">Determining if a Table or Stored Procedure Should Be Ported to In-Memory OLTP</span></span>
  <span data-ttu-id="8a000-103">O coletor de desempenho de transação no [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)] ajuda a avaliar se o OLTP na memória melhorará o desempenho do aplicativo de banco de dados.</span><span class="sxs-lookup"><span data-stu-id="8a000-103">The transaction performance collector in [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)] helps you evaluate if In-Memory OLTP will improve your database application's performance.</span></span> <span data-ttu-id="8a000-104">O relatório de análise de desempenho da transação também indica quanto trabalho você deverá executar para habilitar o OLTP na Memória no seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="8a000-104">The transaction performance analysis report also indicates how much work you must do to enable In-Memory OLTP in your application.</span></span> <span data-ttu-id="8a000-105">Depois de identificar uma tabela baseada em disco a ser transportada para o OLTP in-memory, você poderá usar o [Orientador de Otimização da Memória](memory-optimization-advisor.md)para ajudar na migração da tabela.</span><span class="sxs-lookup"><span data-stu-id="8a000-105">After you identify a disk-based table to port to In-Memory OLTP, you can use the [Memory Optimization Advisor](memory-optimization-advisor.md), to help you migrate the table.</span></span> <span data-ttu-id="8a000-106">De maneira semelhante, o [Native Compilation Advisor](native-compilation-advisor.md) o ajudará a transportar um procedimento armazenado para um procedimento armazenado compilado nativamente.</span><span class="sxs-lookup"><span data-stu-id="8a000-106">Similarly, the [Native Compilation Advisor](native-compilation-advisor.md) will help you port a stored procedure to a natively compiled stored procedure.</span></span>  
  
 <span data-ttu-id="8a000-107">Este tópico descreverá como:</span><span class="sxs-lookup"><span data-stu-id="8a000-107">This topic will discuss how to:</span></span>  
  
-   <span data-ttu-id="8a000-108">Configurar o Data Warehouse de Gerenciamento.</span><span class="sxs-lookup"><span data-stu-id="8a000-108">Configure Management Data Warehouse.</span></span>  
  
-   <span data-ttu-id="8a000-109">Configurar a coleta de dados.</span><span class="sxs-lookup"><span data-stu-id="8a000-109">Configure data collection.</span></span>  
  
-   <span data-ttu-id="8a000-110">Gerar relatórios de análise de desempenho de transação para identificar tabelas críticas de desempenho e procedimentos armazenados.</span><span class="sxs-lookup"><span data-stu-id="8a000-110">Generate transaction performance analysis reports to identify performance-critical tables and stored procedures.</span></span>  
  
 <span data-ttu-id="8a000-111">Para obter informações sobre as metodologias de migração, confira [In-Memory OLTP – Common Workload Patterns and Migration Considerations](https://msdn.microsoft.com/library/dn673538.aspx)(OLTP in-memory – Padrões comuns de carga de trabalho e considerações de migração).</span><span class="sxs-lookup"><span data-stu-id="8a000-111">For information about migration methodologies, see [In-Memory OLTP - Common Workload Patterns and Migration Considerations](https://msdn.microsoft.com/library/dn673538.aspx).</span></span>  
  
 <span data-ttu-id="8a000-112">O coletor de desempenho da transação e os relatórios de análise de desempenho da transação o ajudam a realizar as seguintes tarefas:</span><span class="sxs-lookup"><span data-stu-id="8a000-112">The transaction performance collector and the transaction performance analysis reports help you accomplish the following tasks:</span></span>  
  
-   <span data-ttu-id="8a000-113">Analisar sua carga de trabalho para determinar se o OLTP na memória melhorará o desempenho.</span><span class="sxs-lookup"><span data-stu-id="8a000-113">Analyze your workload to determine if In-Memory OLTP will improve performance.</span></span> <span data-ttu-id="8a000-114">O coletor de desempenho da transação coleta e avalia as características de desempenho de sua carga de trabalho.</span><span class="sxs-lookup"><span data-stu-id="8a000-114">The transaction performance collector collects and evaluates the performance characteristics of your workload.</span></span> <span data-ttu-id="8a000-115">.</span><span class="sxs-lookup"><span data-stu-id="8a000-115">.</span></span> <span data-ttu-id="8a000-116">Em seguida, o relatório de análise de desempenho da transação recomenda as tabelas e os procedimentos armazenados que serão mais beneficiados com a conversão em OLTP na memória.</span><span class="sxs-lookup"><span data-stu-id="8a000-116">The transaction performance analysis report then recommends tables and stored procedures that would benefit most from conversion to In-Memory OLTP.</span></span>  
  
-   <span data-ttu-id="8a000-117">Ajudar você a planejar e executar a migração para o OLTP na memória.</span><span class="sxs-lookup"><span data-stu-id="8a000-117">Help you plan and execute your migration to In-Memory OLTP.</span></span> <span data-ttu-id="8a000-118">O caminho de migração de uma tabela com base em disco para uma tabela com otimização de memória pode ser demorado.</span><span class="sxs-lookup"><span data-stu-id="8a000-118">The migration path from a disk based table to a memory-optimized table can be time consuming.</span></span> <span data-ttu-id="8a000-119">O Orientador de Otimização da Memória o ajuda a identificar as incompatibilidades na tabela que você deve remover antes de movê-la para o OLTP na memória.</span><span class="sxs-lookup"><span data-stu-id="8a000-119">The Memory-Optimization Advisor helps you identify the incompatibilities in your table that you must remove before moving the table to In-Memory OLTP.</span></span> <span data-ttu-id="8a000-120">O Orientador de Otimização em Memória também ajuda a entender o impacto que a migração de uma tabela para uma tabela com otimização de memória terá no seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="8a000-120">The Memory-Optimization Advisor also helps you understand the impact that the migration of a table to a memory-optimized table will have on your application.</span></span>  
  
     <span data-ttu-id="8a000-121">Você poderá verificar se seu aplicativo pode se beneficiar do OLTP na memória, quando desejar planejar a migração para o OLTP na memória e sempre que trabalhar para migrar alguma de suas tabelas e os procedimentos armazenados para o OLTP na memória.</span><span class="sxs-lookup"><span data-stu-id="8a000-121">You can see if your application would benefit from In-Memory OLTP, when you want to plan your migration to In-Memory OLTP, and whenever you work to migrate some of your tables and stored procedures to In-Memory OLTP.</span></span>  
  
    > [!IMPORTANT]  
    >  <span data-ttu-id="8a000-122">O desempenho de um sistema de banco de dados depende de vários fatores e nem todos podem ser observados e medidos pelo coletor de desempenho da transação.</span><span class="sxs-lookup"><span data-stu-id="8a000-122">The performance of a database system is dependent on a variety of factors, not all of which the transaction performance collector can observe and measure.</span></span> <span data-ttu-id="8a000-123">Portanto, o relatório de análise de desempenho da transação não garante que os ganhos de desempenho reais corresponderão a essas previsões, caso elas sejam feitas.</span><span class="sxs-lookup"><span data-stu-id="8a000-123">Therefore, the transaction performance analysis report does not guarantee actual performance gains will match its predictions, if any predictions are made.</span></span>  
  
 <span data-ttu-id="8a000-124">O coletor de desempenho de transação e a capacidade de gerar um relatório de análise de desempenho de transação são instalados quando você seleciona **ferramentas de gerenciamento-ferramentas básicas** ou **de gerenciamento-avançadas** quando você instala o [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="8a000-124">The transaction performance collector and the ability to generate a transaction performance analysis report are installed when you select **Management Tools-Basic** or **Management Tools-Advanced** when you install [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)].</span></span>  
  
## <a name="best-practices"></a><span data-ttu-id="8a000-125">Práticas Recomendadas</span><span class="sxs-lookup"><span data-stu-id="8a000-125">Best Practices</span></span>  
 <span data-ttu-id="8a000-126">O fluxo de trabalho recomendado é ilustrado no fluxograma a seguir.</span><span class="sxs-lookup"><span data-stu-id="8a000-126">The recommended workflow is illustrated in the following flowchart.</span></span> <span data-ttu-id="8a000-127">Os nós amarelos representam os procedimentos opcionais:</span><span class="sxs-lookup"><span data-stu-id="8a000-127">The yellow nodes represent optional procedures:</span></span>  
  
 <span data-ttu-id="8a000-128">![Fluxo de trabalho da AMR](../../database-engine/media/amr-1.gif "Fluxo de trabalho da AMR")</span><span class="sxs-lookup"><span data-stu-id="8a000-128">![AMR workflow](../../database-engine/media/amr-1.gif "AMR workflow")</span></span>  
  
 <span data-ttu-id="8a000-129">Você pode usar qualquer método para estabelecer uma linha de base de desempenho, incluindo, entre outros, usar logs do contador de desempenho ou o Monitor de Atividade do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="8a000-129">You can use any method to establish a performance baseline, including but not limited to using performance counter logs or the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Activity Monitor.</span></span> <span data-ttu-id="8a000-130">As informações a serem usadas na linha de base de desempenho e nas comparações são:</span><span class="sxs-lookup"><span data-stu-id="8a000-130">The information to use in your performance baseline and your comparisons are:</span></span>  
  
-   <span data-ttu-id="8a000-131">Consumo de CPU do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="8a000-131">CPU consumption of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span></span>  
  
-   <span data-ttu-id="8a000-132">Consumo de memória do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="8a000-132">Memory consumption of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span></span>  
  
-   <span data-ttu-id="8a000-133">Atividade de E/S do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="8a000-133">I/O activity of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span></span>  
  
-   <span data-ttu-id="8a000-134">Taxa de transferência de transações da instância durante o processamento de transações.</span><span class="sxs-lookup"><span data-stu-id="8a000-134">Transaction throughput of the instance while processing transactions.</span></span>  
  
 <span data-ttu-id="8a000-135">O coletor de desempenho da transação captura dados a cada 15 minutos.</span><span class="sxs-lookup"><span data-stu-id="8a000-135">The transaction performance collector captures data every 15 minutes.</span></span> <span data-ttu-id="8a000-136">Para obter resultados utilizáveis, execute o coletor de desempenho da transação por, pelo menos, uma hora.</span><span class="sxs-lookup"><span data-stu-id="8a000-136">To obtain usable results, run the transaction performance collector for at least one hour.</span></span> <span data-ttu-id="8a000-137">Para obter os melhores resultados, execute o coletor de desempenho da transação pelo tempo necessário para capturar dados de seus cenários primários.</span><span class="sxs-lookup"><span data-stu-id="8a000-137">To obtain best results, run the transaction performance collector for as much time as needed to capture data for your primary scenarios.</span></span> <span data-ttu-id="8a000-138">Gere um relatório de análise de desempenho da transação somente depois de concluir a coleta de dados.</span><span class="sxs-lookup"><span data-stu-id="8a000-138">Generate a transaction performance analysis report only after you have finished gathering data.</span></span>  
  
 <span data-ttu-id="8a000-139">Configure o coletor de desempenho da transação para ser executado na instância do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] em produção e colete os dados em uma instância do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] no ambiente de desenvolvimento (teste) para garantir uma sobrecarga mínima.</span><span class="sxs-lookup"><span data-stu-id="8a000-139">Configure the transaction performance collector to run on your [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] instance in production and collect the data on a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] instance in your development (test) environment to ensure minimum overhead.</span></span> <span data-ttu-id="8a000-140">Para obter informações sobre como salvar dados em um data warehouse de gerenciamento em uma [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] instância remota, consulte [Configurar a coleta de dados em uma instância de SQL Server remota](determining-if-a-table-or-stored-procedure-should-be-ported-to-in-memory-oltp.md#xxx).</span><span class="sxs-lookup"><span data-stu-id="8a000-140">For information on how to save data in a Management Data Warehouse database on a remote [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] instance, see [Configure Data Collection on a Remote SQL Server Instance](determining-if-a-table-or-stored-procedure-should-be-ported-to-in-memory-oltp.md#xxx).</span></span>  
  
## <a name="performance-impacts"></a><span data-ttu-id="8a000-141">Impactos do desempenho</span><span class="sxs-lookup"><span data-stu-id="8a000-141">Performance Impacts</span></span>  
 <span data-ttu-id="8a000-142">O coletor de desempenho da transação consiste em dois conjuntos de coleta de dados:</span><span class="sxs-lookup"><span data-stu-id="8a000-142">The transaction performance collector consists of two data collection sets:</span></span>  
  
-   <span data-ttu-id="8a000-143">Análise de uso da tabela</span><span class="sxs-lookup"><span data-stu-id="8a000-143">Table Usage Analysis</span></span>  
  
-   <span data-ttu-id="8a000-144">Análise do procedimento armazenado</span><span class="sxs-lookup"><span data-stu-id="8a000-144">Stored Procedure Analysis</span></span>  
  
 <span data-ttu-id="8a000-145">Os conjuntos de coletas coletam dados de três exibições de gerenciamento dinâmico (DMV) a cada quinze minutos e carregam os dados no banco de dados configurado para atuar como Data Warehouse de Gerenciamento.</span><span class="sxs-lookup"><span data-stu-id="8a000-145">The collection sets collect data from three dynamic management views (DMV) every fifteen minutes, and upload the data to the database configured to act as the Management Data Warehouse.</span></span> <span data-ttu-id="8a000-146">O carregamento dos dados coletados resulta em um impacto mínimo no desempenho.</span><span class="sxs-lookup"><span data-stu-id="8a000-146">Uploading the collected data incurs minimal performance impact.</span></span>  
  
## <a name="use-the-transaction-performance-collector"></a><span data-ttu-id="8a000-147">Usar o coletor de desempenho da transação</span><span class="sxs-lookup"><span data-stu-id="8a000-147">Use the Transaction Performance Collector</span></span>  
 <span data-ttu-id="8a000-148">As seguintes etapas exigem o [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)] no [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)].</span><span class="sxs-lookup"><span data-stu-id="8a000-148">The following steps require [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)] in [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)].</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="8a000-149">Não altere o esquema (por exemplo, para adicionar ou remover bancos de dados ou criar ou remover tabelas) durante a criação de perfil.</span><span class="sxs-lookup"><span data-stu-id="8a000-149">Do not change the schema (for example, add or remove databases or create or drop tables) during profiling.</span></span> <span data-ttu-id="8a000-150">Se você alterar o esquema de um banco de dados durante a coleta de dados, o banco de dados talvez não seja incluído com precisão no relatório.</span><span class="sxs-lookup"><span data-stu-id="8a000-150">If you change the schema of a database while collecting data, the database may not be accurately included in the report.</span></span>  
  
### <a name="configure-management-data-warehouse"></a><span data-ttu-id="8a000-151">Configurar o Data Warehouse de Gerenciamento</span><span class="sxs-lookup"><span data-stu-id="8a000-151">Configure Management Data Warehouse</span></span>  
 <span data-ttu-id="8a000-152">O data warehouse de gerenciamento deve ser configurado para usar o coletor de desempenho da transação.</span><span class="sxs-lookup"><span data-stu-id="8a000-152">Management Data Warehouse must be configured to use the transaction performance collector.</span></span>  
  
 <span data-ttu-id="8a000-153">A versão da instância do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] sobre a qual você coletará dados (perfil) deve ser a mesma versão ou mais antiga do que o [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] onde o Data Warehouse de Gerenciamento está configurado.</span><span class="sxs-lookup"><span data-stu-id="8a000-153">The version of the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] instance that you will collect data on (profile) should be the same version or older than the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] where Management Data Warehouse is configured.</span></span>  
  
1.  <span data-ttu-id="8a000-154">No Pesquisador de Objetos, expanda **Gerenciamento**.</span><span class="sxs-lookup"><span data-stu-id="8a000-154">In Object Explorer, expand **Management**.</span></span>  
  
2.  <span data-ttu-id="8a000-155">Clique com o botão direito do mouse em **coleta de dados** e selecione **tarefas** e **Configure Data warehouse de gerenciamento**.</span><span class="sxs-lookup"><span data-stu-id="8a000-155">Right click **Data Collection** and select **Tasks** and then **Configure Management Data Warehouse**.</span></span> <span data-ttu-id="8a000-156">O **Assistente para configurar data warehouse de gerenciamento** é iniciado.</span><span class="sxs-lookup"><span data-stu-id="8a000-156">The **Configure Management Data Warehouse Wizard** begins.</span></span>  
  
3.  <span data-ttu-id="8a000-157">Clique em **Avançar** para selecionar o banco de dados que atuará como o data warehouse de gerenciamento.</span><span class="sxs-lookup"><span data-stu-id="8a000-157">Click **Next** to select the database that will act as the Management Data Warehouse.</span></span>  
  
4.  <span data-ttu-id="8a000-158">Clique em **novo** para criar um novo banco de dados a fim de armazenar o perfil.</span><span class="sxs-lookup"><span data-stu-id="8a000-158">Click **New** to create a new database to hold the profile data.</span></span> <span data-ttu-id="8a000-159">Depois de concluir a criação do banco de dados, clique em **Avançar** no assistente.</span><span class="sxs-lookup"><span data-stu-id="8a000-159">After you finish creating the database, click **Next** in the wizard.</span></span>  
  
5.  <span data-ttu-id="8a000-160">A próxima etapa do assistente permite adicionar usuários e logons.</span><span class="sxs-lookup"><span data-stu-id="8a000-160">The next step in the wizard lets you add users and logins.</span></span> <span data-ttu-id="8a000-161">Você pode mapear logons para associações de função da instância do MDW.</span><span class="sxs-lookup"><span data-stu-id="8a000-161">You may map logins to role memberships for the MDW instance.</span></span> <span data-ttu-id="8a000-162">Isso não é necessário para coletar dados da instância local.</span><span class="sxs-lookup"><span data-stu-id="8a000-162">This is not required to collect data from the local instance.</span></span> <span data-ttu-id="8a000-163">Se não estiver coletando dados da instância local, você poderá conceder a associação de função de banco de dados `mdw_admin` à conta que executará transações cujo perfil está sendo criado.</span><span class="sxs-lookup"><span data-stu-id="8a000-163">If you are not collecting data from the local instance, you can grant database role membership `mdw_admin` to the account that will run transactions that will be profiled.</span></span> <span data-ttu-id="8a000-164">Quando terminar, clique em **Avançar**.</span><span class="sxs-lookup"><span data-stu-id="8a000-164">When done, click **Next**.</span></span>  
  
6.  <span data-ttu-id="8a000-165">Verifique se o [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Agent está em execução.</span><span class="sxs-lookup"><span data-stu-id="8a000-165">Make sure that [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Agent is running.</span></span>  
  
7.  <span data-ttu-id="8a000-166">Na próxima tela, clique em **concluir** para sair do assistente.</span><span class="sxs-lookup"><span data-stu-id="8a000-166">On the next screen, click **Finish** to exit the wizard.</span></span>  
  
### <a name="configure-data-collection-on-a-local-ssnoversion-instance"></a><span data-ttu-id="8a000-167">Configurar a coleta de dados em uma instância local do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]</span><span class="sxs-lookup"><span data-stu-id="8a000-167">Configure Data Collection on a Local [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Instance</span></span>  
 <span data-ttu-id="8a000-168">A coleta de dados exige que o [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Agente seja iniciado.</span><span class="sxs-lookup"><span data-stu-id="8a000-168">Data collection requires [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Agent to be started.</span></span> <span data-ttu-id="8a000-169">Você só precisará configurar um coletor de dados em um servidor.</span><span class="sxs-lookup"><span data-stu-id="8a000-169">You only need to configure one data collector on a server.</span></span>  
  
 <span data-ttu-id="8a000-170">Um coletor de dados pode ser configurado em uma versão SQL Server 2012 ou posterior do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="8a000-170">A data collector can be configured on a SQL Server 2012 or later version of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span></span>  
  
 <span data-ttu-id="8a000-171">Para configurar a coleta de dados para carregar um banco de dados do Data Warehouse de Gerenciamento na mesma instância,</span><span class="sxs-lookup"><span data-stu-id="8a000-171">To configure data collection to upload to a Management Data Warehouse database on the same instance,</span></span>  
  
1.  <span data-ttu-id="8a000-172">No Pesquisador de **objetos**, expanda **Gerenciamento**.</span><span class="sxs-lookup"><span data-stu-id="8a000-172">In **Object Explorer**, expand **Management**.</span></span>  
  
2.  <span data-ttu-id="8a000-173">Clique com o botão direito do mouse em **coleta de dados**, selecione **tarefas**e **Configurar coleta de dados**.</span><span class="sxs-lookup"><span data-stu-id="8a000-173">Right click **Data Collection**, select **Tasks**, and then **Configure Data Collection**.</span></span> <span data-ttu-id="8a000-174">O **Assistente para configurar coleta de dados** é iniciado.</span><span class="sxs-lookup"><span data-stu-id="8a000-174">The **Configure Data Collection Wizard** begins.</span></span>  
  
3.  <span data-ttu-id="8a000-175">Clique em **Avançar** para selecionar o banco de dados que coletará o perfil.</span><span class="sxs-lookup"><span data-stu-id="8a000-175">Click **Next** to select the database that will collect the profile data.</span></span>  
  
4.  <span data-ttu-id="8a000-176">Selecione a instância atual do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] e um banco de dados do Data Warehouse de Gerenciamento nessa instância.</span><span class="sxs-lookup"><span data-stu-id="8a000-176">Select the current [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] instance and a Management Data Warehouse database on that instance.</span></span>  
  
5.  <span data-ttu-id="8a000-177">Na caixa denominada **Selecionar conjuntos de coletores de dados que você deseja habilitar**, selecione **conjuntos de coleta de desempenho da transação**.</span><span class="sxs-lookup"><span data-stu-id="8a000-177">In the box labeled **Select data collector sets you want to enable**, select **Transaction Performance Collection Sets**.</span></span> <span data-ttu-id="8a000-178">Clique em **Avançar** quando terminar.</span><span class="sxs-lookup"><span data-stu-id="8a000-178">Click **Next** when done.</span></span>  
  
6.  <span data-ttu-id="8a000-179">Verifique as seleções.</span><span class="sxs-lookup"><span data-stu-id="8a000-179">Verify the selections.</span></span> <span data-ttu-id="8a000-180">Clique em **voltar** para modificar as configurações.</span><span class="sxs-lookup"><span data-stu-id="8a000-180">Click **Back** to modify the settings.</span></span> <span data-ttu-id="8a000-181">Clique em **Concluir** quando tiver terminado.</span><span class="sxs-lookup"><span data-stu-id="8a000-181">Click **Finish** when done.</span></span>  
  
###  <a name="configure-data-collection-on-a-remote-ssnoversion-instance"></a><a name="xxx"></a><span data-ttu-id="8a000-182">Configurar a coleta de dados em uma [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] instância remota</span><span class="sxs-lookup"><span data-stu-id="8a000-182">Configure Data Collection on a Remote [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Instance</span></span>  
 <span data-ttu-id="8a000-183">A coleta de dados exige que o Agente do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] seja iniciado na instância que coletará os dados.</span><span class="sxs-lookup"><span data-stu-id="8a000-183">Data collection requires [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Agent to be started on the instance that will collect the data.</span></span>  
  
 <span data-ttu-id="8a000-184">Um coletor de dados pode ser configurado em uma versão SQL Server 2012 ou posterior do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="8a000-184">A data collector can be configured on a SQL Server 2012 or later version of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span></span>  
  
 <span data-ttu-id="8a000-185">É necessário um proxy do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Agent estabelecido com a credencial correta para que o coletor de dados carregue os dados em um banco de dados do Data Warehouse de Gerenciamento em uma instância que seja diferente de onde as transações serão analisadas.</span><span class="sxs-lookup"><span data-stu-id="8a000-185">You need a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Agent proxy established with the correct credential for a data collector to upload data to a Management Data Warehouse database on an instance that is different from where transactions will be profiled.</span></span> <span data-ttu-id="8a000-186">Para habilitar um proxy do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Agent, primeiramente é preciso estabelecer uma credencial com um logon habilitado para domínio.</span><span class="sxs-lookup"><span data-stu-id="8a000-186">To enable a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Agent proxy, you must first establish a credential with a domain-enabled login.</span></span> <span data-ttu-id="8a000-187">O logon habilitado para domínio deve ser um membro do grupo `mdw_admin` do banco de dados do Data Warehouse de Gerenciamento.</span><span class="sxs-lookup"><span data-stu-id="8a000-187">The domain-enabled login must be a member of `mdw_admin` group for the Management Data Warehouse database.</span></span> <span data-ttu-id="8a000-188">Consulte [como: criar uma credencial (SQL Server Management Studio)](../security/authentication-access/create-a-credential.md) para obter informações sobre como criar uma credencial.</span><span class="sxs-lookup"><span data-stu-id="8a000-188">See [How to: Create a Credential (SQL Server Management Studio)](../security/authentication-access/create-a-credential.md) for information on how to create a credential.</span></span>  
  
 <span data-ttu-id="8a000-189">Para configurar a coleta de dados para carregar um banco de dados do Data Warehouse de Gerenciamento em outra instância,</span><span class="sxs-lookup"><span data-stu-id="8a000-189">To configure data collection to upload to a Management Data Warehouse database on a different instance,</span></span>  
  
1.  <span data-ttu-id="8a000-190">Na instância do que contém os objetos baseados em disco que você deseja migrar para o OLTP na memória, expanda o nó **Gerenciamento** no Pesquisador de objetos.</span><span class="sxs-lookup"><span data-stu-id="8a000-190">On the instance that contains the disk-based objects that you want to migrate to In-Memory OLTP, expand the **Management** node in Object Explorer.</span></span>  
  
2.  <span data-ttu-id="8a000-191">Clique com o botão direito do mouse em **coleta de dados** e selecione **tarefas** e configure a **coleta de dados**.</span><span class="sxs-lookup"><span data-stu-id="8a000-191">Right click **Data Collection** and select **Tasks** and then **Configure Data Collection**.</span></span> <span data-ttu-id="8a000-192">O **Assistente para configurar coleta de dados** é iniciado.</span><span class="sxs-lookup"><span data-stu-id="8a000-192">The **Configure Data Collection Wizard** begins.</span></span>  
  
3.  <span data-ttu-id="8a000-193">Clique em **Avançar** para selecionar o banco de dados que coletará o perfil.</span><span class="sxs-lookup"><span data-stu-id="8a000-193">Click **Next** to select the database that will collect the profile data.</span></span>  
  
4.  <span data-ttu-id="8a000-194">Verifique se um banco de dados do Data Warehouse de Gerenciamento existe em outra instância do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="8a000-194">Make sure that a Management Data Warehouse database exists on the other [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] instance.</span></span>  
  
5.  <span data-ttu-id="8a000-195">Selecione outra instância do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] e um banco de dados do Data Warehouse de Gerenciamento nessa instância.</span><span class="sxs-lookup"><span data-stu-id="8a000-195">Select another [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] instance and a Management Data Warehouse database on that instance.</span></span>  
  
     <span data-ttu-id="8a000-196">A versão da instância do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] sobre a qual você coletará dados (perfil) deve ser a mesma versão ou mais antiga do que o [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] onde o Data Warehouse de Gerenciamento está configurado.</span><span class="sxs-lookup"><span data-stu-id="8a000-196">The version of the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] instance that you will collect data on (profile) should be the same version or older than the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] where Management Data Warehouse is configured.</span></span>  
  
6.  <span data-ttu-id="8a000-197">Na caixa denominada **Selecionar conjuntos de coletores de dados que você deseja habilitar**, selecione **conjuntos de coleta de desempenho da transação**.</span><span class="sxs-lookup"><span data-stu-id="8a000-197">In the box labeled **Select data collector sets you want to enable**, select **Transaction Performance Collection Sets**.</span></span>  
  
7.  <span data-ttu-id="8a000-198">Selecione **usar um [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] proxy de agente para carregamentos remotos**.</span><span class="sxs-lookup"><span data-stu-id="8a000-198">Select **Use a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Agent proxy for remote uploads**.</span></span>  
  
8.  <span data-ttu-id="8a000-199">Clique em **Avançar** quando terminar.</span><span class="sxs-lookup"><span data-stu-id="8a000-199">Click **Next** when done.</span></span>  
  
9. <span data-ttu-id="8a000-200">Selecione o proxy.</span><span class="sxs-lookup"><span data-stu-id="8a000-200">Select the proxy.</span></span>  
  
     <span data-ttu-id="8a000-201">Se desejar criar um novo proxy do Agente do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)],</span><span class="sxs-lookup"><span data-stu-id="8a000-201">If you want to create a new [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Agent proxy,</span></span>  
  
    1.  <span data-ttu-id="8a000-202">Clique em **novo** para exibir a caixa de diálogo **nova conta proxy** .</span><span class="sxs-lookup"><span data-stu-id="8a000-202">Click **New** to display the **New Proxy Account** dialog box.</span></span>  
  
    2.  <span data-ttu-id="8a000-203">Na caixa de diálogo **nova conta proxy** , digite o nome do proxy, selecione a credencial e, opcionalmente, insira uma descrição.</span><span class="sxs-lookup"><span data-stu-id="8a000-203">In the **New Proxy Account** dialog box, enter the name of the proxy, select the credential, and optionally enter a description.</span></span> <span data-ttu-id="8a000-204">Em seguida, clique em **entidades de segurança**.</span><span class="sxs-lookup"><span data-stu-id="8a000-204">Then, click **Principals**.</span></span>  
  
    3.  <span data-ttu-id="8a000-205">Clique em **Adicionar** e selecione função **msdb** .</span><span class="sxs-lookup"><span data-stu-id="8a000-205">Click **Add** and select **Msdb** role.</span></span>  
  
    4.  <span data-ttu-id="8a000-206">Selecione `dc_proxy` e clique em **OK**.</span><span class="sxs-lookup"><span data-stu-id="8a000-206">Select `dc_proxy` and click **OK**.</span></span> <span data-ttu-id="8a000-207">Em seguida, clique em **OK**.</span><span class="sxs-lookup"><span data-stu-id="8a000-207">Then click **OK** again.</span></span>  
  
     <span data-ttu-id="8a000-208">Depois que o proxy correto for selecionado, clique em **Avançar**.</span><span class="sxs-lookup"><span data-stu-id="8a000-208">After the correct proxy is selected, click **Next**.</span></span>  
  
10. <span data-ttu-id="8a000-209">Para configurar conjuntos de coleta do sistema, verifique os **conjuntos de coleta do sistema** e clique em **Avançar**.</span><span class="sxs-lookup"><span data-stu-id="8a000-209">To configure System Collection Sets, check **System Collection Sets** and click **Next**.</span></span>  
  
11. <span data-ttu-id="8a000-210">Verifique as seleções.</span><span class="sxs-lookup"><span data-stu-id="8a000-210">Verify the selections.</span></span> <span data-ttu-id="8a000-211">Clique em **voltar** para modificar as configurações.</span><span class="sxs-lookup"><span data-stu-id="8a000-211">Click **Back** to modify the settings.</span></span> <span data-ttu-id="8a000-212">Clicck **concluir** quando terminar.</span><span class="sxs-lookup"><span data-stu-id="8a000-212">Clicck **Finish** when done.</span></span>  
  
 <span data-ttu-id="8a000-213">Os conjuntos de coleta de dados agora devem estar configurados e em execução na sua instância.</span><span class="sxs-lookup"><span data-stu-id="8a000-213">Data collection sets should now be configured and running on your instance.</span></span>  
  
### <a name="generate-reports"></a><span data-ttu-id="8a000-214">Gerar relatórios</span><span class="sxs-lookup"><span data-stu-id="8a000-214">Generate Reports</span></span>  
 <span data-ttu-id="8a000-215">Você pode gerar relatórios de análise de desempenho da transação clicando com o botão direito do mouse no banco de dados do data warehouse de gerenciamento e selecionando **relatórios**, **Gerenciamento data warehouse**e, em seguida, **visão geral da análise de desempenho da transação**.</span><span class="sxs-lookup"><span data-stu-id="8a000-215">You can generate transaction performance analysis reports by right clicking the database of the Management Data Warehouse and selecting **Reports**, then **Management Data Warehouse**, and then **Transaction Performance Analysis Overview**.</span></span>  
  
 <span data-ttu-id="8a000-216">O relatório coleta informações sobre todos os bancos de dados do usuário no servidor de carga de trabalho.</span><span class="sxs-lookup"><span data-stu-id="8a000-216">The report collects information about all user databases on the workload server.</span></span> <span data-ttu-id="8a000-217">Se seu banco de dados MDW (Data Warehouse de Gerenciamento) estiver no computador local, você verá o(s) banco de dado(s) do MDW no relatório.</span><span class="sxs-lookup"><span data-stu-id="8a000-217">If your Management Data Warehouse (MDW) database is on the local computer, you will see the MDW database(s) in the report.</span></span>  
  
 <span data-ttu-id="8a000-218">Um procedimento armazenado com alta taxa de tempo de CPU para o tempo decorrido é um candidato à migração.</span><span class="sxs-lookup"><span data-stu-id="8a000-218">A stored procedure with high ratio of CPU time to elapsed time is a candidate for migration.</span></span> <span data-ttu-id="8a000-219">O relatório mostra todas as referências de tabela, pois os procedimentos armazenados compilados nativamente podem fazer referência apenas a tabelas com otimização de memória, que podem ser adicionadas ao custo de migração.</span><span class="sxs-lookup"><span data-stu-id="8a000-219">The report shows all table references, because natively compiled stored procedures can only reference memory-optimized tables, which can add to the migration cost.</span></span>  
  
 <span data-ttu-id="8a000-220">Os detalhes relatados para uma tabela consistem em três seções:</span><span class="sxs-lookup"><span data-stu-id="8a000-220">The details report for a table consists of three sections:</span></span>  
  
-   <span data-ttu-id="8a000-221">Seção Estatísticas de Verificação</span><span class="sxs-lookup"><span data-stu-id="8a000-221">Scan Statistics Section</span></span>  
  
     <span data-ttu-id="8a000-222">Esta seção inclui uma única tabela que mostra as estatísticas que foram coletadas sobre verificações na tabela do banco de dados.</span><span class="sxs-lookup"><span data-stu-id="8a000-222">This section includes a single table that shows the statistics that were collected about scans on the database table.</span></span> <span data-ttu-id="8a000-223">As colunas são:</span><span class="sxs-lookup"><span data-stu-id="8a000-223">The columns are:</span></span>  
  
    -   <span data-ttu-id="8a000-224">Percentual de total de acessos.</span><span class="sxs-lookup"><span data-stu-id="8a000-224">Percent of total accesses.</span></span> <span data-ttu-id="8a000-225">O percentual de verificações e pesquisas nesta tabela em relação à atividade do banco de dados inteiro.</span><span class="sxs-lookup"><span data-stu-id="8a000-225">The percentage of scans and seeks on this table with respect to the activity of the entire database.</span></span> <span data-ttu-id="8a000-226">Quanto mais alto for esse percentual, mais intensa será a utilização da tabela em comparação com outras tabelas no banco de dados.</span><span class="sxs-lookup"><span data-stu-id="8a000-226">The higher this percentage, the more heavily used the table is compared to other tables in the database.</span></span>  
  
    -   <span data-ttu-id="8a000-227">Estatísticas de Pesquisa/Estatísticas de Verificação do Intervalo.</span><span class="sxs-lookup"><span data-stu-id="8a000-227">Lookup Statistics/Range Scan Statistics.</span></span> <span data-ttu-id="8a000-228">Essa coluna registra o número de pesquisas de ponto e de verificações de intervalo (verificações de índice e de tabela) realizadas na tabela durante a criação de perfil.</span><span class="sxs-lookup"><span data-stu-id="8a000-228">This column records the number of point lookups and range scans (index scans and table scans) conducted on the table during profiling.</span></span> <span data-ttu-id="8a000-229">A média por transação é uma estimativa.</span><span class="sxs-lookup"><span data-stu-id="8a000-229">Average per transaction is an estimate.</span></span>  
  
    -   <span data-ttu-id="8a000-230">Ganho de Interoperabilidade e Ganho Nativo.</span><span class="sxs-lookup"><span data-stu-id="8a000-230">Interop Gain and Native Gain.</span></span> <span data-ttu-id="8a000-231">Essas colunas calculam a quantidade de benefícios de desempenho uma pesquisa de ponto ou a verificação de intervalo teria se a tabela fosse convertida em uma tabela com otimização de memória.</span><span class="sxs-lookup"><span data-stu-id="8a000-231">These columns estimate the amount of performance benefit a point lookup or range scan would have if the table is converted to a memory-optimized table.</span></span>  
  
-   <span data-ttu-id="8a000-232">Seção de Estatísticas de Contenção</span><span class="sxs-lookup"><span data-stu-id="8a000-232">Contention Statistics Section</span></span>  
  
     <span data-ttu-id="8a000-233">Esta seção inclui uma tabela que mostra a contenção na tabela do banco de dados.</span><span class="sxs-lookup"><span data-stu-id="8a000-233">This section includes a table that shows contention on the database table.</span></span> <span data-ttu-id="8a000-234">Para obter mais informações sobre travas e bloqueios de banco de dados, consulte a [arquitetura de bloqueio](https://msdn.microsoft.com/library/aa224738\(v=sql.80\).aspx).</span><span class="sxs-lookup"><span data-stu-id="8a000-234">For more information regarding database latches and locks, please see [Locking Architecture](https://msdn.microsoft.com/library/aa224738\(v=sql.80\).aspx).</span></span> <span data-ttu-id="8a000-235">As colunas são apresentadas assim:</span><span class="sxs-lookup"><span data-stu-id="8a000-235">The columns are as follows:</span></span>  
  
    -   <span data-ttu-id="8a000-236">Porcentagem do total de esperas.</span><span class="sxs-lookup"><span data-stu-id="8a000-236">Percent of total waits.</span></span> <span data-ttu-id="8a000-237">O percentual de esperas de travas e bloqueios nessa tabela de banco de dados em comparação com a atividade do banco de dados.</span><span class="sxs-lookup"><span data-stu-id="8a000-237">The percentage of latch and lock waits on this database table compared to activity of the database.</span></span> <span data-ttu-id="8a000-238">Quanto mais alto for esse percentual, mais intensa será a utilização da tabela em comparação com outras tabelas no banco de dados.</span><span class="sxs-lookup"><span data-stu-id="8a000-238">The higher this percentage, the more heavily used the table is compared to other tables in the database.</span></span>  
  
    -   <span data-ttu-id="8a000-239">Estatísticas de Trava.</span><span class="sxs-lookup"><span data-stu-id="8a000-239">Latch Statistics.</span></span> <span data-ttu-id="8a000-240">Essas colunas registram o número de esperas de travas para consultas que envolvem essa tabela.</span><span class="sxs-lookup"><span data-stu-id="8a000-240">These columns record the number of latch waits for queries involving for this table.</span></span> <span data-ttu-id="8a000-241">Para obter informações sobre travas, consulte [travamento](https://msdn.microsoft.com/library/aa224727\(v=SQL.80\).aspx).</span><span class="sxs-lookup"><span data-stu-id="8a000-241">For information on latches, see [Latching](https://msdn.microsoft.com/library/aa224727\(v=SQL.80\).aspx).</span></span> <span data-ttu-id="8a000-242">Quanto mais alto for esse número, mais contenção de trava haverá na tabela.</span><span class="sxs-lookup"><span data-stu-id="8a000-242">The higher this number, the more latch contention on the table.</span></span>  
  
    -   <span data-ttu-id="8a000-243">Estatísticas de Bloqueio.</span><span class="sxs-lookup"><span data-stu-id="8a000-243">Lock Statistics.</span></span> <span data-ttu-id="8a000-244">Esse grupo de colunas registra o número de aquisições de bloqueio de página e esperas para consultas para essa tabela.</span><span class="sxs-lookup"><span data-stu-id="8a000-244">This group of columns record the number of page lock acquisitions and waits for queries for this table.</span></span> <span data-ttu-id="8a000-245">Para obter mais informações sobre bloqueios, consulte [Understanding locking in SQL Server](https://msdn.microsoft.com/library/aa213039\(v=SQL.80\).aspx).</span><span class="sxs-lookup"><span data-stu-id="8a000-245">For more information on locks, see [Understanding Locking in SQL Server](https://msdn.microsoft.com/library/aa213039\(v=SQL.80\).aspx).</span></span> <span data-ttu-id="8a000-246">Quanto mais esperas, maior a contenção de bloqueio na tabela.</span><span class="sxs-lookup"><span data-stu-id="8a000-246">The more waits, the more lock contention on the table.</span></span>  
  
-   <span data-ttu-id="8a000-247">Seção Dificuldades de Migração</span><span class="sxs-lookup"><span data-stu-id="8a000-247">Migration Difficulties Section</span></span>  
  
     <span data-ttu-id="8a000-248">Esta seção inclui uma tabela que mostra a dificuldade de converter essa tabela de banco de dados em uma tabela com otimização de memória.</span><span class="sxs-lookup"><span data-stu-id="8a000-248">This section includes a table that shows the difficulty of converting this database table to a memory-optimized table.</span></span> <span data-ttu-id="8a000-249">Uma classificação de dificuldade mais alta indica mais dificuldade para converter a tabela.</span><span class="sxs-lookup"><span data-stu-id="8a000-249">A higher difficulty rating indicates more difficultly to convert the table.</span></span> <span data-ttu-id="8a000-250">Para ver detalhes para converter esta tabela de banco de dados, use o [Orientador de otimização de memória](memory-optimization-advisor.md).</span><span class="sxs-lookup"><span data-stu-id="8a000-250">To see details to convert this database table, please use the [Memory Optimization Advisor](memory-optimization-advisor.md).</span></span>  
  
 <span data-ttu-id="8a000-251">As estatísticas de verificação e contenção no relatório detalhes da tabela são coletadas e agregadas de [Sys. dm_db_index_operational_stats &#40;&#41;Transact-SQL ](/sql/relational-databases/system-dynamic-management-views/sys-dm-db-index-operational-stats-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="8a000-251">Scan and contention statistics on the table details report is gathered and aggregated from [sys.dm_db_index_operational_stats &#40;Transact-SQL&#41;](/sql/relational-databases/system-dynamic-management-views/sys-dm-db-index-operational-stats-transact-sql).</span></span>  
  
 <span data-ttu-id="8a000-252">Os detalhes relatados para um procedimento armazenado consistem em duas seções:</span><span class="sxs-lookup"><span data-stu-id="8a000-252">The details report for a stored procedure consists of two sections:</span></span>  
  
-   <span data-ttu-id="8a000-253">Seção de Estatísticas de Execução</span><span class="sxs-lookup"><span data-stu-id="8a000-253">Execution Statistics Section</span></span>  
  
     <span data-ttu-id="8a000-254">Esta seção inclui uma tabela que mostra as estatísticas que foram coletadas sobre as execuções do procedimento armazenado.</span><span class="sxs-lookup"><span data-stu-id="8a000-254">This section includes a table that shows the statistics that were collected about the stored procedure's executions.</span></span> <span data-ttu-id="8a000-255">As colunas são apresentadas assim:</span><span class="sxs-lookup"><span data-stu-id="8a000-255">The columns are as follows:</span></span>  
  
    -   <span data-ttu-id="8a000-256">Tempo em Cache.</span><span class="sxs-lookup"><span data-stu-id="8a000-256">Cached Time.</span></span> <span data-ttu-id="8a000-257">O tempo que esse plano de execução permanece em cache.</span><span class="sxs-lookup"><span data-stu-id="8a000-257">The time this execution plan is cached.</span></span> <span data-ttu-id="8a000-258">Se o procedimento armazenado for removido do cache de plano e reinserido, haverá tempos para cada cache.</span><span class="sxs-lookup"><span data-stu-id="8a000-258">If the stored procedure drops out of the plan cache and re-enters, there will be times for each cache.</span></span>  
  
    -   <span data-ttu-id="8a000-259">Tempo Total de CPU.</span><span class="sxs-lookup"><span data-stu-id="8a000-259">Total CPU Time.</span></span> <span data-ttu-id="8a000-260">O tempo total de CPU que o procedimento armazenado consumiu durante a criação de perfil.</span><span class="sxs-lookup"><span data-stu-id="8a000-260">The total CPU time that the stored procedure consumed during profiling.</span></span> <span data-ttu-id="8a000-261">Quanto mais alto for esse número, mais CPU o procedimento armazenado usou.</span><span class="sxs-lookup"><span data-stu-id="8a000-261">The higher this number, the more CPU the stored procedure used.</span></span>  
  
    -   <span data-ttu-id="8a000-262">Tempo total de execução.</span><span class="sxs-lookup"><span data-stu-id="8a000-262">Total Execution Time.</span></span> <span data-ttu-id="8a000-263">A quantidade total de tempo de execução que o procedimento armazenado usou durante a criação de perfil.</span><span class="sxs-lookup"><span data-stu-id="8a000-263">The total amount of execution time the stored procedure used during profiling.</span></span> <span data-ttu-id="8a000-264">Quanto mais alta for a diferença entre esse número e o tempo de CPU, menos eficiente será o procedimento armazenado usando a CPU.</span><span class="sxs-lookup"><span data-stu-id="8a000-264">The higher the difference between this number and the CPU time is, the less efficiently the stored procedure is using the CPU.</span></span>  
  
    -   <span data-ttu-id="8a000-265">Total de Erros de Cache.</span><span class="sxs-lookup"><span data-stu-id="8a000-265">Total Cache Missed.</span></span> <span data-ttu-id="8a000-266">O número de erros de cache (leituras de armazenamento físico) provocados pelas execuções do procedimento armazenado durante a criação de perfil.</span><span class="sxs-lookup"><span data-stu-id="8a000-266">The number of cache misses (reads from physical storage) that is caused by the stored procedure's executions during profiling.</span></span>  
  
    -   <span data-ttu-id="8a000-267">Contagem de Execuções.</span><span class="sxs-lookup"><span data-stu-id="8a000-267">Execution Count.</span></span> <span data-ttu-id="8a000-268">O número de vezes em que esse procedimento armazenado foi executado durante a criação de perfil.</span><span class="sxs-lookup"><span data-stu-id="8a000-268">The number of times this stored procedure executed during profiling.</span></span>  
  
-   <span data-ttu-id="8a000-269">Seção Referências de Tabela</span><span class="sxs-lookup"><span data-stu-id="8a000-269">Table References Section</span></span>  
  
     <span data-ttu-id="8a000-270">Esta seção inclui uma tabela que mostra as tabelas às quais esse procedimento armazenado se refere.</span><span class="sxs-lookup"><span data-stu-id="8a000-270">This section includes a table that shows the tables to which this stored procedure refers.</span></span> <span data-ttu-id="8a000-271">Antes da conversão do procedimento armazenado em um procedimento armazenado compilado nativamente, todas essas tabelas devem ser convertidas em tabelas com otimização de memória e devem permanecer no mesmo servidor e banco de dados.</span><span class="sxs-lookup"><span data-stu-id="8a000-271">Before converting the stored procedure into a natively compiled stored procedure, all of these tables must be converted to memory-optimized tables, and they must stay on the same server and database.</span></span>  
  
 <span data-ttu-id="8a000-272">As estatísticas de execução no relatório detalhes do procedimento armazenado são coletadas e agregadas de [Sys. dm_exec_procedure_stats &#40;&#41;Transact-SQL ](/sql/relational-databases/system-dynamic-management-views/sys-dm-exec-procedure-stats-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="8a000-272">Execution Statistics on the stored procedure details report is gathered and aggregated from [sys.dm_exec_procedure_stats &#40;Transact-SQL&#41;](/sql/relational-databases/system-dynamic-management-views/sys-dm-exec-procedure-stats-transact-sql).</span></span> <span data-ttu-id="8a000-273">As referências são obtidas de [Sys. sql_expression_dependencies &#40;&#41;Transact-SQL ](/sql/relational-databases/system-catalog-views/sys-sql-expression-dependencies-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="8a000-273">The references are obtained from [sys.sql_expression_dependencies &#40;Transact-SQL&#41;](/sql/relational-databases/system-catalog-views/sys-sql-expression-dependencies-transact-sql).</span></span>  
  
 <span data-ttu-id="8a000-274">Para ver detalhes sobre como converter um procedimento armazenado em um procedimento armazenado compilado nativamente, use o [Native Compilation Advisor](native-compilation-advisor.md).</span><span class="sxs-lookup"><span data-stu-id="8a000-274">To see details about how to convert a stored procedure to a natively compiled stored procedure, please use the [Native Compilation Advisor](native-compilation-advisor.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="8a000-275">Consulte Também</span><span class="sxs-lookup"><span data-stu-id="8a000-275">See Also</span></span>  
 [<span data-ttu-id="8a000-276">Migrando para OLTP na memória</span><span class="sxs-lookup"><span data-stu-id="8a000-276">Migrating to In-Memory OLTP</span></span>](migrating-to-in-memory-oltp.md)  
  
  
