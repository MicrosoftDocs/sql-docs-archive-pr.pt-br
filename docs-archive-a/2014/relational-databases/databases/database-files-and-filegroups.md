---
title: Arquivos e grupos de Arquivos de Banco de Dados | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: configuration
ms.topic: conceptual
helpviewer_keywords:
- databases [SQL Server], files
- filegroups [SQL Server]
- transaction logs [SQL Server], about
- transaction logs [SQL Server], files
- .mdf files
- data files [SQL Server]
- default filegroups
- files [SQL Server], about files and filegroups
- secondary files [SQL Server]
- log files [SQL Server]
- .ndf files
- files [SQL Server]
- .ldf files
- database files [SQL Server]
- databases [SQL Server], filegroups
- filegroups [SQL Server], types
- primary filegroups [SQL Server]
- user-defined filegroups [SQL Server]
- filegroups [SQL Server], about filegroups
- primary files [SQL Server]
- file types [SQL Server]
ms.assetid: 9ca11918-480d-4838-9198-cec221ef6ad0
author: stevestein
ms.author: sstein
ms.openlocfilehash: 91e22e536a91878609feedf2977ffa7d78a54d61
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87573119"
---
# <a name="database-files-and-filegroups"></a><span data-ttu-id="cac48-102">Arquivos e grupos de arquivos do banco de dados</span><span class="sxs-lookup"><span data-stu-id="cac48-102">Database Files and Filegroups</span></span>
  <span data-ttu-id="cac48-103">Todo o banco de dados [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] tem, no mínimo, dois arquivos de sistema operacional: um arquivo de dados e um arquivo de log.</span><span class="sxs-lookup"><span data-stu-id="cac48-103">At a minimum, every [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] database has two operating system files: a data file and a log file.</span></span> <span data-ttu-id="cac48-104">Os arquivos de dados contêm dados e objetos como tabelas, índices, procedimentos armazenados e exibições.</span><span class="sxs-lookup"><span data-stu-id="cac48-104">Data files contain data and objects such as tables, indexes, stored procedures, and views.</span></span> <span data-ttu-id="cac48-105">Os arquivos de log contêm as informações necessárias para recuperar todas as transações no banco de dados.</span><span class="sxs-lookup"><span data-stu-id="cac48-105">Log files contain the information that is required to recover all transactions in the database.</span></span> <span data-ttu-id="cac48-106">Os arquivos de dados podem ser agrupados em grupos de arquivos para propósitos de alocação e administração.</span><span class="sxs-lookup"><span data-stu-id="cac48-106">Data files can be grouped together in filegroups for allocation and administration purposes.</span></span>  
  
## <a name="database-files"></a><span data-ttu-id="cac48-107">Arquivos do banco de dados</span><span class="sxs-lookup"><span data-stu-id="cac48-107">Database Files</span></span>  
 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="cac48-108">possuem três tipos de arquivos, como mostrado na tabela a seguir.</span><span class="sxs-lookup"><span data-stu-id="cac48-108">databases have three types of files, as shown in the following table.</span></span>  
  
|<span data-ttu-id="cac48-109">Arquivo</span><span class="sxs-lookup"><span data-stu-id="cac48-109">File</span></span>|<span data-ttu-id="cac48-110">Descrição</span><span class="sxs-lookup"><span data-stu-id="cac48-110">Description</span></span>|  
|----------|-----------------|  
|<span data-ttu-id="cac48-111">Primária</span><span class="sxs-lookup"><span data-stu-id="cac48-111">Primary</span></span>|<span data-ttu-id="cac48-112">O arquivo de dados primário contém as informações de inicialização do banco de dados e aponta para os outros arquivos no banco de dados.</span><span class="sxs-lookup"><span data-stu-id="cac48-112">The primary data file contains the startup information for the database and points to the other files in the database.</span></span> <span data-ttu-id="cac48-113">Dados do usuário e objetos podem ser armazenados neste arquivo ou em arquivos de dados secundários.</span><span class="sxs-lookup"><span data-stu-id="cac48-113">User data and objects can be stored in this file or in secondary data files.</span></span> <span data-ttu-id="cac48-114">Todo banco de dados possui um arquivo de dados primário.</span><span class="sxs-lookup"><span data-stu-id="cac48-114">Every database has one primary data file.</span></span> <span data-ttu-id="cac48-115">A extensão de nome de arquivo indicada para arquivos de dados primários é .mdf.</span><span class="sxs-lookup"><span data-stu-id="cac48-115">The recommended file name extension for primary data files is .mdf.</span></span>|  
|<span data-ttu-id="cac48-116">Secundário</span><span class="sxs-lookup"><span data-stu-id="cac48-116">Secondary</span></span>|<span data-ttu-id="cac48-117">Os arquivos de dados secundários são opcionais, definidos pelo usuário, e armazenam dados do usuário.</span><span class="sxs-lookup"><span data-stu-id="cac48-117">Secondary data files are optional, are user-defined, and store user data.</span></span> <span data-ttu-id="cac48-118">Arquivos secundários podem ser usados para distribuir os dados entre os diversos discos, colocando cada arquivo em uma unidade de disco diferente.</span><span class="sxs-lookup"><span data-stu-id="cac48-118">Secondary files can be used to spread data across multiple disks by putting each file on a different disk drive.</span></span> <span data-ttu-id="cac48-119">Além disso, caso um banco de dados exceda o tamanho máximo em um único arquivo Windows, será possível usar arquivos de dados secundários, assim, o banco de dados continuará a crescer.</span><span class="sxs-lookup"><span data-stu-id="cac48-119">Additionally, if a database exceeds the maximum size for a single Windows file, you can use secondary data files so the database can continue to grow.</span></span><br /><br /> <span data-ttu-id="cac48-120">A extensão de nome de arquivo indicada para arquivos de dados secundários é .ndf.</span><span class="sxs-lookup"><span data-stu-id="cac48-120">The recommended file name extension for secondary data files is .ndf.</span></span>|  
|<span data-ttu-id="cac48-121">Log de Transações</span><span class="sxs-lookup"><span data-stu-id="cac48-121">Transaction Log</span></span>|<span data-ttu-id="cac48-122">Os arquivos de log de transações armazenam as informações de log usadas para recuperar o banco de dados.</span><span class="sxs-lookup"><span data-stu-id="cac48-122">The transaction log files hold the log information that is used to recover the database.</span></span> <span data-ttu-id="cac48-123">Deve haver, no mínimo, um arquivo de log para cada banco de dados.</span><span class="sxs-lookup"><span data-stu-id="cac48-123">There must be at least one log file for each database.</span></span> <span data-ttu-id="cac48-124">A extensão de nome de arquivo indicada para arquivos de transação é .ldf.</span><span class="sxs-lookup"><span data-stu-id="cac48-124">The recommended file name extension for transaction logs is .ldf.</span></span>|  
  
 <span data-ttu-id="cac48-125">Por exemplo, pode-se criar um simples banco de dados nomeado como **Vendas** que tenha um arquivo primário com todos os dados e objetos, e um arquivo de log que tenha as informações de log de transação.</span><span class="sxs-lookup"><span data-stu-id="cac48-125">For example, a simple database named **Sales** can be created that includes one primary file that contains all data and objects and a log file that contains the transaction log information.</span></span> <span data-ttu-id="cac48-126">Como alternativa, pode-se criar um banco de dados mais complexo nomeado como **Pedidos** que tenha um arquivo primário e cinco arquivos secundários.</span><span class="sxs-lookup"><span data-stu-id="cac48-126">Alternatively, a more complex database named **Orders** can be created that includes one primary file and five secondary files.</span></span> <span data-ttu-id="cac48-127">Os dados e objetos no banco de dados distribuem-se pelos seis arquivos, e os quatro arquivos de log contêm as informações do log de transação.</span><span class="sxs-lookup"><span data-stu-id="cac48-127">The data and objects within the database spread across all six files, and the four log files contain the transaction log information.</span></span>  
  
 <span data-ttu-id="cac48-128">Por padrão, os dados e logs de transação são colocados na mesma unidade e caminho.</span><span class="sxs-lookup"><span data-stu-id="cac48-128">By default, the data and transaction logs are put on the same drive and path.</span></span> <span data-ttu-id="cac48-129">Isto é feito para controlar os sistemas de um único disco.</span><span class="sxs-lookup"><span data-stu-id="cac48-129">This is done to handle single-disk systems.</span></span> <span data-ttu-id="cac48-130">Porém, isto não é o ideal para ambientes de produção.</span><span class="sxs-lookup"><span data-stu-id="cac48-130">However, this may not be optimal for production environments.</span></span> <span data-ttu-id="cac48-131">Recomendamos que você coloque os dados e arquivos de log em discos separados.</span><span class="sxs-lookup"><span data-stu-id="cac48-131">We recommend that you put data and log files on separate disks.</span></span>  
  
## <a name="filegroups"></a><span data-ttu-id="cac48-132">Grupos de arquivos</span><span class="sxs-lookup"><span data-stu-id="cac48-132">Filegroups</span></span>  
 <span data-ttu-id="cac48-133">Todo banco de dados possui um grupo de arquivo primário.</span><span class="sxs-lookup"><span data-stu-id="cac48-133">Every database has a primary filegroup.</span></span> <span data-ttu-id="cac48-134">Este grupo de arquivo contém o arquivo de dados primário e qualquer um dos arquivos secundários que não foram colocados em outros grupos de arquivos.</span><span class="sxs-lookup"><span data-stu-id="cac48-134">This filegroup contains the primary data file and any secondary files that are not put into other filegroups.</span></span> <span data-ttu-id="cac48-135">Grupos de arquivos definidos pelo usuário podem ser criados para agrupar os arquivos de dados para fins administrativos, de alocação de dados e de posicionamento.</span><span class="sxs-lookup"><span data-stu-id="cac48-135">User-defined filegroups can be created to group data files together for administrative, data allocation, and placement purposes.</span></span>  
  
 <span data-ttu-id="cac48-136">Por exemplo, três arquivos, Data1.ndf, Data2.ndf, e Data3.ndf, podem ser criados em três unidades de disco, respectivamente, e atribuídos ao grupo de arquivos **fgroup1**.</span><span class="sxs-lookup"><span data-stu-id="cac48-136">For example, three files, Data1.ndf, Data2.ndf, and Data3.ndf, can be created on three disk drives, respectively, and assigned to the filegroup **fgroup1**.</span></span> <span data-ttu-id="cac48-137">Uma tabela pode ser criada especificamente no grupo de arquivos **fgroup1**.</span><span class="sxs-lookup"><span data-stu-id="cac48-137">A table can then be created specifically on the filegroup **fgroup1**.</span></span> <span data-ttu-id="cac48-138">As consultas para obter dados da tabela serão distribuídas pelos três discos; isso melhorará o desempenho.</span><span class="sxs-lookup"><span data-stu-id="cac48-138">Queries for data from the table will be spread across the three disks; this will improve performance.</span></span> <span data-ttu-id="cac48-139">A mesma melhora no desenvolvimento pode acontecer, usando um único arquivo criado em um conjunto distribuído RAID (redundant array of independent disks).</span><span class="sxs-lookup"><span data-stu-id="cac48-139">The same performance improvement can be accomplished by using a single file created on a RAID (redundant array of independent disks) stripe set.</span></span> <span data-ttu-id="cac48-140">Porém, arquivos e grupos de arquivos permitem que novos arquivos sejam facilmente adicionados aos novos discos.</span><span class="sxs-lookup"><span data-stu-id="cac48-140">However, files and filegroups let you easily add new files to new disks.</span></span>  
  
 <span data-ttu-id="cac48-141">Todos os arquivos de dados são armazenados nos grupos de arquivos listados na tabela a seguir.</span><span class="sxs-lookup"><span data-stu-id="cac48-141">All data files are stored in the filegroups listed in the following table.</span></span>  
  
|<span data-ttu-id="cac48-142">Grupo de arquivos</span><span class="sxs-lookup"><span data-stu-id="cac48-142">Filegroup</span></span>|<span data-ttu-id="cac48-143">Descrição</span><span class="sxs-lookup"><span data-stu-id="cac48-143">Description</span></span>|  
|---------------|-----------------|  
|<span data-ttu-id="cac48-144">Primária</span><span class="sxs-lookup"><span data-stu-id="cac48-144">Primary</span></span>|<span data-ttu-id="cac48-145">O grupo de arquivos que contém o arquivo primário.</span><span class="sxs-lookup"><span data-stu-id="cac48-145">The filegroup that contains the primary file.</span></span> <span data-ttu-id="cac48-146">Todas as tabelas do sistema são alocadas no grupo de arquivos primário.</span><span class="sxs-lookup"><span data-stu-id="cac48-146">All system tables are allocated to the primary filegroup.</span></span>|  
|<span data-ttu-id="cac48-147">Definido pelo usuário</span><span class="sxs-lookup"><span data-stu-id="cac48-147">User-defined</span></span>|<span data-ttu-id="cac48-148">Qualquer grupo de arquivos que seja criado especificamente pelo usuário quando o usuário cria primeiro ou modifica depois o banco de dados.</span><span class="sxs-lookup"><span data-stu-id="cac48-148">Any filegroup that is specifically created by the user when the user first creates or later modifies the database.</span></span>|  
  
### <a name="default-filegroup"></a><span data-ttu-id="cac48-149">Grupo de arquivos padrão</span><span class="sxs-lookup"><span data-stu-id="cac48-149">Default Filegroup</span></span>  
 <span data-ttu-id="cac48-150">Quando objetos são criados no banco de dados sem especificar a qual grupo de arquivos eles pertencem, os objetos são atribuídos ao grupo de arquivos padrão.</span><span class="sxs-lookup"><span data-stu-id="cac48-150">When objects are created in the database without specifying which filegroup they belong to, they are assigned to the default filegroup.</span></span> <span data-ttu-id="cac48-151">A qualquer hora, um grupo de arquivos é designado como o grupo de arquivos padrão.</span><span class="sxs-lookup"><span data-stu-id="cac48-151">At any time, exactly one filegroup is designated as the default filegroup.</span></span> <span data-ttu-id="cac48-152">Os arquivos no grupo de arquivos padrão devem ser grandes o suficientes para armazenar qualquer objeto novo alocado a outros grupos de arquivo.</span><span class="sxs-lookup"><span data-stu-id="cac48-152">The files in the default filegroup must be large enough to hold any new objects not allocated to other filegroups.</span></span>  
  
 <span data-ttu-id="cac48-153">O grupo de arquivos PRIMÁRIO é o grupo de arquivos padrão, a menos que seja alterado usando a instrução ALTER DATABASE.</span><span class="sxs-lookup"><span data-stu-id="cac48-153">The PRIMARY filegroup is the default filegroup unless it is changed by using the ALTER DATABASE statement.</span></span> <span data-ttu-id="cac48-154">A alocação para os objetos de sistema e de tabelas permanece no grupo de arquivos PRIMÁRIO, e não no novo grupo de arquivos padrão.</span><span class="sxs-lookup"><span data-stu-id="cac48-154">Allocation for the system objects and tables remains within the PRIMARY filegroup, not the new default filegroup.</span></span>  
  
## <a name="related-content"></a><span data-ttu-id="cac48-155">Conteúdo relacionado</span><span class="sxs-lookup"><span data-stu-id="cac48-155">Related Content</span></span>  
 [<span data-ttu-id="cac48-156">CREATE DATABASE &#40;SQL Server Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="cac48-156">CREATE DATABASE &#40;SQL Server Transact-SQL&#41;</span></span>](/sql/t-sql/statements/create-database-sql-server-transact-sql)  
  
 [<span data-ttu-id="cac48-157">Opções de arquivo e grupos de arquivos ALTER DATABASE &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="cac48-157">ALTER DATABASE File and Filegroup Options &#40;Transact-SQL&#41;</span></span>](/sql/t-sql/statements/alter-database-transact-sql-file-and-filegroup-options)  
  
 [<span data-ttu-id="cac48-158">Anexar e desanexar bancos de dados &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="cac48-158">Database Detach and Attach &#40;SQL Server&#41;</span></span>](database-detach-and-attach-sql-server.md)  
  
  
