---
title: Como funcionam as operações de índice online | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: table-view-index
ms.topic: conceptual
helpviewer_keywords:
- online index operations
- source indexes [SQL Server]
- preexisting indexes [SQL Server]
- target indexes [SQL Server]
- temporary mapping index [SQL Server]
- index temporary mappings [SQL Server]
ms.assetid: eef0c9d1-790d-46e4-a758-d0bf6742e6ae
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: 9b74690c9dfb980787087899200ffb45c2c4b6b6
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87583038"
---
# <a name="how-online-index-operations-work"></a><span data-ttu-id="24a96-102">Como funcionam as operações de índice online</span><span class="sxs-lookup"><span data-stu-id="24a96-102">How Online Index Operations Work</span></span>
  <span data-ttu-id="24a96-103">Esse tópico define as estruturas que existem durante uma operação de índice online e mostra as atividades associadas a elas.</span><span class="sxs-lookup"><span data-stu-id="24a96-103">This topic defines the structures that exist during an online index operation and shows the activities associated with these structures.</span></span>  
  
## <a name="online-index-structures"></a><span data-ttu-id="24a96-104">Estruturas de índice online</span><span class="sxs-lookup"><span data-stu-id="24a96-104">Online Index Structures</span></span>  
 <span data-ttu-id="24a96-105">Para permitir atividade de usuário simultânea durante uma operação DDL (linguagem de definição de dados) de índice, as seguintes estruturas são usadas durante a operação de índice online: índices de origem e preexistentes, destino e, para recompilar um heap ou remover um índice clusterizado online, um índice de mapeamento temporário.</span><span class="sxs-lookup"><span data-stu-id="24a96-105">To allow for concurrent user activity during an index data definition language (DDL) operation, the following structures are used during the online index operation: source and preexisting indexes, target, and for rebuilding a heap or dropping a clustered index online, a temporary mapping index.</span></span>  
  
-   <span data-ttu-id="24a96-106">**Índices de origem e preexistentes**</span><span class="sxs-lookup"><span data-stu-id="24a96-106">**Source and preexisting indexes**</span></span>  
  
     <span data-ttu-id="24a96-107">A origem é a tabela original ou os dados do índice clusterizado.</span><span class="sxs-lookup"><span data-stu-id="24a96-107">The source is the original table or clustered index data.</span></span> <span data-ttu-id="24a96-108">Índices preexistentes são quaisquer índices não clusterizados associados à estrutura de origem.</span><span class="sxs-lookup"><span data-stu-id="24a96-108">Preexisting indexes are any nonclustered indexes that are associated with the source structure.</span></span> <span data-ttu-id="24a96-109">Por exemplo, se a operação de índice online estiver recompilando um índice clusterizado que tenha quatro índices não clusterizados associados, a origem será o índice clusterizado existente, e os índices preexistentes serão os índices não clusterizados.</span><span class="sxs-lookup"><span data-stu-id="24a96-109">For example, if the online index operation is rebuilding a clustered index that has four associated nonclustered indexes, the source is the existing clustered index and the preexisting indexes are the nonclustered indexes.</span></span>  
  
     <span data-ttu-id="24a96-110">Os índices preexistentes estão disponíveis a usuários simultâneos para operações de seleção, inserção, atualização e exclusão.</span><span class="sxs-lookup"><span data-stu-id="24a96-110">The preexisting indexes are available to concurrent users for select, insert, update, and delete operations.</span></span> <span data-ttu-id="24a96-111">Isso inclui inserções em massa (aceitas mas não recomendadas) e atualizações implícitas por gatilhos e restrições de integridade referenciais.</span><span class="sxs-lookup"><span data-stu-id="24a96-111">This includes bulk inserts (supported but not recommended) and implicit updates by triggers and referential integrity constraints.</span></span> <span data-ttu-id="24a96-112">Todos os índices preexistentes estão disponíveis para consultas e pesquisas.</span><span class="sxs-lookup"><span data-stu-id="24a96-112">All preexisting indexes are available for queries and searches.</span></span> <span data-ttu-id="24a96-113">Isso significa eles podem ser selecionados pelo otimizador de consulta e, se necessário, especificados pelas dicas de índice.</span><span class="sxs-lookup"><span data-stu-id="24a96-113">This means they may be selected by the query optimizer and, if necessary, specified in index hints.</span></span>  
  
-   <span data-ttu-id="24a96-114">**Target (destino)**</span><span class="sxs-lookup"><span data-stu-id="24a96-114">**Target**</span></span>  
  
     <span data-ttu-id="24a96-115">O destino (ou destinos) é o novo índice (ou heap) ou um conjunto de novos índices sendo criados ou recompilados.</span><span class="sxs-lookup"><span data-stu-id="24a96-115">The target or targets is the new index (or heap) or a set of new indexes that is being created or rebuilt.</span></span> <span data-ttu-id="24a96-116">As operações de inserção, atualização e exclusão do destino são aplicadas pelo [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)] no destino durante a operação de índice.</span><span class="sxs-lookup"><span data-stu-id="24a96-116">User insert, update, and delete operations to the source are applied by the [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)] to the target during the index operation.</span></span> <span data-ttu-id="24a96-117">Por exemplo, se a operação de índice online estiver recompilando um índice online, o destino será o índice clusterizado recompilado; o [!INCLUDE[ssDE](../../includes/ssde-md.md)] não recompila índices não clusterizados quando um índice clusterizado é recompilado.</span><span class="sxs-lookup"><span data-stu-id="24a96-117">For example, if the online index operation is rebuilding a clustered index, the target is the rebuilt clustered index; the [!INCLUDE[ssDE](../../includes/ssde-md.md)] does not rebuild nonclustered indexes when a clustered index is rebuilt.</span></span>  
  
     <span data-ttu-id="24a96-118">O índice de destino não é pesquisado enquanto as instruções SELECT são processadas, até que a operação de índice esteja confirmada.</span><span class="sxs-lookup"><span data-stu-id="24a96-118">The target index is not searched while processing SELECT statements until the index operation is committed.</span></span> <span data-ttu-id="24a96-119">Internamente, o índice é marcado como somente leitura.</span><span class="sxs-lookup"><span data-stu-id="24a96-119">Internally, the index is marked as write-only.</span></span>  
  
-   <span data-ttu-id="24a96-120">**Índice de mapeamento temporário**</span><span class="sxs-lookup"><span data-stu-id="24a96-120">**Temporary mapping index**</span></span>  
  
     <span data-ttu-id="24a96-121">As operações de índice online que criam, removem ou recompilam um índice clusterizado também requerem um índice de mapeamento temporário.</span><span class="sxs-lookup"><span data-stu-id="24a96-121">Online index operations that create, drop, or rebuild a clustered index also require a temporary mapping index.</span></span> <span data-ttu-id="24a96-122">Esse índice temporário é usado por transações simultâneas para determinar quais registros devem ser excluídos dos novos índices sendo compilados quando as linhas na tabela subjacente são atualizadas ou excluídas.</span><span class="sxs-lookup"><span data-stu-id="24a96-122">This temporary index is used by concurrent transactions to determine which records to delete in the new indexes that are being built when rows in the underlying table are updated or deleted.</span></span> <span data-ttu-id="24a96-123">Esse índice não clusterizado é criado na mesma etapa do novo índice clusterizado (ou heap) e não requer uma operação de classificação separada.</span><span class="sxs-lookup"><span data-stu-id="24a96-123">This nonclustered index is created in the same step as the new clustered index (or heap) and does not require a separate sort operation.</span></span> <span data-ttu-id="24a96-124">As transações simultâneas também mantêm o índice de mapeamento temporário em todas as operações de inserção, atualização e exclusão.</span><span class="sxs-lookup"><span data-stu-id="24a96-124">Concurrent transactions also maintain the temporary mapping index in all their insert, update, and delete operations.</span></span>  
  
## <a name="online-index-activities"></a><span data-ttu-id="24a96-125">Atividades do índice online</span><span class="sxs-lookup"><span data-stu-id="24a96-125">Online Index Activities</span></span>  
 <span data-ttu-id="24a96-126">Durante uma operação de índice online simples, como por exemplo a criação de um índice clusterizado em uma tabela não indexada (heap), a origem e o destino passam por essas três fases: preparação, compilação e finalização.</span><span class="sxs-lookup"><span data-stu-id="24a96-126">During a simple online index operation, such as creating a clustered index on a nonindexed table (heap), the source and target go through three phases: preparation, build, and final.</span></span>  
  
 <span data-ttu-id="24a96-127">A ilustração a seguir mostra o processo para criar um índice clusterizado online inicial.</span><span class="sxs-lookup"><span data-stu-id="24a96-127">The following illustration shows the process for creating an initial clustered index online.</span></span> <span data-ttu-id="24a96-128">O objeto de origem (o heap) não tem outros índices.</span><span class="sxs-lookup"><span data-stu-id="24a96-128">The source object (the heap) has no other indexes.</span></span> <span data-ttu-id="24a96-129">As atividades de estrutura de origem e destino são mostradas para cada fase; as operações de seleção, inserção, atualização e exclusão de usuários simultâneos também são mostradas.</span><span class="sxs-lookup"><span data-stu-id="24a96-129">The source and target structure activities are shown for each phase; concurrent user select, insert, update, and delete operations are also shown.</span></span> <span data-ttu-id="24a96-130">As fases de preparação, compilação e finalização são indicadas junto com os modos de bloqueio usados em cada fase.</span><span class="sxs-lookup"><span data-stu-id="24a96-130">The preparation, build, and final phases are indicated together with the lock modes used in each phase.</span></span>  
  
 <span data-ttu-id="24a96-131">![Atividades executadas durante a operação de índice online](../../database-engine/media/online-index.gif "Atividades executadas durante a operação de índice online")</span><span class="sxs-lookup"><span data-stu-id="24a96-131">![Activities performed during online index operation](../../database-engine/media/online-index.gif "Activities performed during online index operation")</span></span>  
  
## <a name="source-structure-activities"></a><span data-ttu-id="24a96-132">Atividades da estrutura de origem</span><span class="sxs-lookup"><span data-stu-id="24a96-132">Source Structure Activities</span></span>  
 <span data-ttu-id="24a96-133">A tabela a seguir lista as atividades envolvendo as estruturas de origem durante cada fase da operação de índice e a estratégia de bloqueio correspondente.</span><span class="sxs-lookup"><span data-stu-id="24a96-133">The following table lists the activities involving the source structures during each phase of the index operation and the corresponding locking strategy.</span></span>  
  
|<span data-ttu-id="24a96-134">Fase</span><span class="sxs-lookup"><span data-stu-id="24a96-134">Phase</span></span>|<span data-ttu-id="24a96-135">Atividade de origem</span><span class="sxs-lookup"><span data-stu-id="24a96-135">Source activity</span></span>|<span data-ttu-id="24a96-136">Bloqueios de origem</span><span class="sxs-lookup"><span data-stu-id="24a96-136">Source locks</span></span>|  
|-----------|---------------------|------------------|  
|<span data-ttu-id="24a96-137">Preparação</span><span class="sxs-lookup"><span data-stu-id="24a96-137">Preparation</span></span><br /><br /> <span data-ttu-id="24a96-138">Fase muito curta</span><span class="sxs-lookup"><span data-stu-id="24a96-138">Very short phase</span></span>|<span data-ttu-id="24a96-139">Preparação dos metadados do sistema para criar uma nova estrutura de índice vazia.</span><span class="sxs-lookup"><span data-stu-id="24a96-139">System metadata preparation to create the new empty index structure.</span></span><br /><br /> <span data-ttu-id="24a96-140">Um instantâneo da tabela é definido.</span><span class="sxs-lookup"><span data-stu-id="24a96-140">A snapshot of the table is defined.</span></span> <span data-ttu-id="24a96-141">Ou seja, o controle de versão de linha é usado para fornecer uma consistência de leitura em nível de transação.</span><span class="sxs-lookup"><span data-stu-id="24a96-141">That is, row versioning is used to provide transaction-level read consistency.</span></span><br /><br /> <span data-ttu-id="24a96-142">As operações de usuário simultâneas de gravação na origem são bloqueadas por um período muito curto.</span><span class="sxs-lookup"><span data-stu-id="24a96-142">Concurrent user write operations on the source are blocked for a very short period.</span></span><br /><br /> <span data-ttu-id="24a96-143">Operações DLL não simultâneas são permitidas, exceto na criação de múltiplos índices não clusterizados.</span><span class="sxs-lookup"><span data-stu-id="24a96-143">No concurrent DDL operations are allowed except creating multiple nonclustered indexes.</span></span>|<span data-ttu-id="24a96-144">S (Shared) na tabela \*</span><span class="sxs-lookup"><span data-stu-id="24a96-144">S (Shared) on the table\*</span></span><br /><br /> <span data-ttu-id="24a96-145">IS (Intent Shared)</span><span class="sxs-lookup"><span data-stu-id="24a96-145">IS (Intent Shared)</span></span><br /><br /> <span data-ttu-id="24a96-146">INDEX_BUILD_INTERNAL_RESOURCE\*\*</span><span class="sxs-lookup"><span data-stu-id="24a96-146">INDEX_BUILD_INTERNAL_RESOURCE\*\*</span></span>|  
|<span data-ttu-id="24a96-147">Build</span><span class="sxs-lookup"><span data-stu-id="24a96-147">Build</span></span><br /><br /> <span data-ttu-id="24a96-148">Fase principal</span><span class="sxs-lookup"><span data-stu-id="24a96-148">Main phase</span></span>|<span data-ttu-id="24a96-149">Os dados são digitalizados, classificados, mesclados e inseridos na origem em operações de carregamento em massa.</span><span class="sxs-lookup"><span data-stu-id="24a96-149">The data is scanned, sorted, merged, and inserted into the target in bulk load operations.</span></span><br /><br /> <span data-ttu-id="24a96-150">As operações de usuário simultâneas de exclusão, atualização, inserção e seleção são aplicadas aos índices preexistentes e a quaisquer outros novos índices sendo compilados.</span><span class="sxs-lookup"><span data-stu-id="24a96-150">Concurrent user select, insert, update, and delete operations are applied to both the preexisting indexes and any new indexes being built.</span></span>|<span data-ttu-id="24a96-151">IS</span><span class="sxs-lookup"><span data-stu-id="24a96-151">IS</span></span><br /><br /> <span data-ttu-id="24a96-152">INDEX_BUILD_INTERNAL_RESOURCE\*\*</span><span class="sxs-lookup"><span data-stu-id="24a96-152">INDEX_BUILD_INTERNAL_RESOURCE\*\*</span></span>|  
|<span data-ttu-id="24a96-153">Final</span><span class="sxs-lookup"><span data-stu-id="24a96-153">Final</span></span><br /><br /> <span data-ttu-id="24a96-154">Fase muito curta</span><span class="sxs-lookup"><span data-stu-id="24a96-154">Very short phase</span></span>|<span data-ttu-id="24a96-155">Todas as transações atualizadas não confirmadas devem ser concluídas antes do início desta fase.</span><span class="sxs-lookup"><span data-stu-id="24a96-155">All uncommitted update transactions must complete before this phase starts.</span></span> <span data-ttu-id="24a96-156">Dependendo do bloqueio adquirido, todas as novas transações de usuário de leitura ou gravação devem ser bloqueadas por um período muito curto até que essa fase seja completada.</span><span class="sxs-lookup"><span data-stu-id="24a96-156">Depending on the acquired lock, all new user read or write transactions are blocked for a very short period until this phase is completed.</span></span><br /><br /> <span data-ttu-id="24a96-157">Os metadados do sistema estão atualizados para substituir a origem pelo destino.</span><span class="sxs-lookup"><span data-stu-id="24a96-157">System metadata is updated to replace the source with the target.</span></span><br /><br /> <span data-ttu-id="24a96-158">Se necessário, a origem será removida.</span><span class="sxs-lookup"><span data-stu-id="24a96-158">The source is dropped if it is required.</span></span> <span data-ttu-id="24a96-159">Por exemplo, depois de recompilar e remover um índice clusterizado.</span><span class="sxs-lookup"><span data-stu-id="24a96-159">For example, after rebuilding or dropping a clustered index.</span></span>|<span data-ttu-id="24a96-160">INDEX_BUILD_INTERNAL_RESOURCE\*\*</span><span class="sxs-lookup"><span data-stu-id="24a96-160">INDEX_BUILD_INTERNAL_RESOURCE\*\*</span></span><br /><br /> <span data-ttu-id="24a96-161">S na tabela se estiver criando um índice não clusterizado.\*</span><span class="sxs-lookup"><span data-stu-id="24a96-161">S on the table if creating a nonclustered index.\*</span></span><br /><br /> <span data-ttu-id="24a96-162">SCH-M (Schema Modification) se qualquer estrutura de origem (índice ou tabela) for removida.\*</span><span class="sxs-lookup"><span data-stu-id="24a96-162">SCH-M (Schema Modification) if any source structure (index or table) is dropped.\*</span></span>|  
  
 <span data-ttu-id="24a96-163">\* A operação de índice aguardará a conclusão de transações de atualização não confirmadas antes de adquirir o bloqueio S ou SCH-M na tabela.</span><span class="sxs-lookup"><span data-stu-id="24a96-163">\* The index operation will wait for any uncommitted update transactions to complete before acquiring the S lock or SCH-M lock on the table.</span></span>  
  
 <span data-ttu-id="24a96-164">\*\* O bloqueio de recurso INDEX_BUILD_INTERNAL_RESOURCE evita a execução de operações DDL (linguagem de definição de dados) simultâneas nas estruturas de origem e preexistentes enquanto a operação de índice está em andamento.</span><span class="sxs-lookup"><span data-stu-id="24a96-164">\*\* The resource lock INDEX_BUILD_INTERNAL_RESOURCE prevents the execution of concurrent data definition language (DDL) operations on the source and preexisting structures while the index operation is in progress.</span></span> <span data-ttu-id="24a96-165">Por exemplo, esse bloqueio evita a recompilação simultânea de dois índices na mesma tabela.</span><span class="sxs-lookup"><span data-stu-id="24a96-165">For example, this lock prevents concurrent rebuild of two indexes on the same table.</span></span> <span data-ttu-id="24a96-166">Embora esse bloqueio de recurso esteja associado ao bloqueio Sch-M, ele não evita as instruções de manipulação de dados.</span><span class="sxs-lookup"><span data-stu-id="24a96-166">Although this resource lock is associated with the Sch-M lock, it does not prevent data manipulation statements.</span></span>  
  
 <span data-ttu-id="24a96-167">A tabela anterior mostra um único bloqueio Shared (S) adquirido durante a fase de compilação de uma operação de índice online que envolve um único índice.</span><span class="sxs-lookup"><span data-stu-id="24a96-167">The previous table shows a single Shared (S) lock acquired during the build phase of an online index operation that involves a single index.</span></span> <span data-ttu-id="24a96-168">Quando índices clusterizados e não clusterizados são compilados ou recompilados em uma única operação de índice online (por exemplo, durante a criação de índice clusterizado inicial em uma tabela que contém um ou mais índices não clusterizados), dois bloqueios S de curto prazo são adquiridos durante a fase de compilação, seguidos de bloqueios IS (Tentativa Compartilhada) de longo prazo.</span><span class="sxs-lookup"><span data-stu-id="24a96-168">When clustered and nonclustered indexes are built, or rebuilt, in a single online index operation (for example, during the initial clustered index creation on a table that contains one or more nonclustered indexes) two short-term S locks are acquired during the build phase followed by long-term Intent Shared (IS) locks.</span></span> <span data-ttu-id="24a96-169">Um bloqueio S é adquirido primeiramente para a criação de índice clusterizado e, quando a criação do índice clusterizado é concluída, um bloqueio S de curta duração é adquirido para a criação dos índices não clusterizados.</span><span class="sxs-lookup"><span data-stu-id="24a96-169">One S lock is acquired first for the clustered index creation and when creating the clustered index is completed, a second short-term S lock is acquired for creating the nonclustered indexes.</span></span> <span data-ttu-id="24a96-170">Depois que os índices não clusterizados são criados, ocorre o downgrade do bloqueio S para um bloqueio IS até a fase final da operação de índice online.</span><span class="sxs-lookup"><span data-stu-id="24a96-170">After the nonclustered indexes are created, the S lock is downgraded to an IS lock until the final phase of the online index operation.</span></span>  
  
### <a name="target-structure-activities"></a><span data-ttu-id="24a96-171">Atividades da estrutura de destino</span><span class="sxs-lookup"><span data-stu-id="24a96-171">Target Structure Activities</span></span>  
 <span data-ttu-id="24a96-172">A tabela a seguir lista as atividades que envolvem as estruturas destino durante cada fase da operação de índice e a estratégia de bloqueio correspondente.</span><span class="sxs-lookup"><span data-stu-id="24a96-172">The following table lists the activities that involve the target structure during each phase of the index operation and the corresponding locking strategy.</span></span>  
  
|<span data-ttu-id="24a96-173">Fase</span><span class="sxs-lookup"><span data-stu-id="24a96-173">Phase</span></span>|<span data-ttu-id="24a96-174">Atividade de destino</span><span class="sxs-lookup"><span data-stu-id="24a96-174">Target activity</span></span>|<span data-ttu-id="24a96-175">Bloqueios de destino</span><span class="sxs-lookup"><span data-stu-id="24a96-175">Target locks</span></span>|  
|-----------|---------------------|------------------|  
|<span data-ttu-id="24a96-176">Preparação</span><span class="sxs-lookup"><span data-stu-id="24a96-176">Preparation</span></span>|<span data-ttu-id="24a96-177">Um novo índice é criado e definido como somente gravação.</span><span class="sxs-lookup"><span data-stu-id="24a96-177">New index is created and set to write-only.</span></span>|<span data-ttu-id="24a96-178">IS</span><span class="sxs-lookup"><span data-stu-id="24a96-178">IS</span></span>|  
|<span data-ttu-id="24a96-179">Build</span><span class="sxs-lookup"><span data-stu-id="24a96-179">Build</span></span>|<span data-ttu-id="24a96-180">Os dados são inseridos a partir da origem.</span><span class="sxs-lookup"><span data-stu-id="24a96-180">Data is inserted from source.</span></span><br /><br /> <span data-ttu-id="24a96-181">São aplicadas as modificações de usuário (inserções, atualizações, exclusões) aplicadas à origem.</span><span class="sxs-lookup"><span data-stu-id="24a96-181">User modifications (inserts, updates, deletes) applied to the source are applied.</span></span><br /><br /> <span data-ttu-id="24a96-182">Esta atividade é transparente ao usuário.</span><span class="sxs-lookup"><span data-stu-id="24a96-182">This activity is transparent to the user.</span></span>|<span data-ttu-id="24a96-183">IS</span><span class="sxs-lookup"><span data-stu-id="24a96-183">IS</span></span>|  
|<span data-ttu-id="24a96-184">Final</span><span class="sxs-lookup"><span data-stu-id="24a96-184">Final</span></span>|<span data-ttu-id="24a96-185">Os metadados do índice são atualizados.</span><span class="sxs-lookup"><span data-stu-id="24a96-185">Index metadata is updated.</span></span><br /><br /> <span data-ttu-id="24a96-186">O índice é definido para o status de leitura/gravação.</span><span class="sxs-lookup"><span data-stu-id="24a96-186">Index is set to read/write status.</span></span>|<span data-ttu-id="24a96-187">S</span><span class="sxs-lookup"><span data-stu-id="24a96-187">S</span></span><br /><br /> <span data-ttu-id="24a96-188">ou</span><span class="sxs-lookup"><span data-stu-id="24a96-188">or</span></span><br /><br /> <span data-ttu-id="24a96-189">SCH-M</span><span class="sxs-lookup"><span data-stu-id="24a96-189">SCH-M</span></span>|  
  
 <span data-ttu-id="24a96-190">O destino não é acessado por instruções SELECT emitidas pelo usuário até que a operação de índice seja concluída.</span><span class="sxs-lookup"><span data-stu-id="24a96-190">The target is not accessed by SELECT statements issued by the user until the index operation is completed.</span></span>  
  
 <span data-ttu-id="24a96-191">Após a conclusão da preparação e da fase final, os planos de consulta e atualização armazenados no cache de procedimento são invalidados.</span><span class="sxs-lookup"><span data-stu-id="24a96-191">After the preparation and final phase is completed, the query and update plans that are stored in the procedure cache are invalidated.</span></span> <span data-ttu-id="24a96-192">As consultas subsequentes usarão o novo índice.</span><span class="sxs-lookup"><span data-stu-id="24a96-192">Subsequent queries will use the new index.</span></span>  
  
 <span data-ttu-id="24a96-193">O tempo de vida de um cursor declarado em uma tabela que está envolvida em uma operação de índice online é limitado pelas fases de índice online.</span><span class="sxs-lookup"><span data-stu-id="24a96-193">The lifetime of a cursor declared on a table that is involved in an online index operation is limited by the online index phases.</span></span> <span data-ttu-id="24a96-194">Os cursores de atualização são invalidados em cada fase.</span><span class="sxs-lookup"><span data-stu-id="24a96-194">Update cursors are invalidated at each phase.</span></span> <span data-ttu-id="24a96-195">Os cursores somente leitura são invalidados somente após a fase final.</span><span class="sxs-lookup"><span data-stu-id="24a96-195">Read-only cursors are invalidated only after the final phase.</span></span>  
  
## <a name="related-content"></a><span data-ttu-id="24a96-196">Conteúdo relacionado</span><span class="sxs-lookup"><span data-stu-id="24a96-196">Related Content</span></span>  
 [<span data-ttu-id="24a96-197">Executar operações de índice online</span><span class="sxs-lookup"><span data-stu-id="24a96-197">Perform Index Operations Online</span></span>](perform-index-operations-online.md)  
  
 [<span data-ttu-id="24a96-198">Diretrizes para operações de índice online</span><span class="sxs-lookup"><span data-stu-id="24a96-198">Guidelines for Online Index Operations</span></span>](guidelines-for-online-index-operations.md)  
  
  
