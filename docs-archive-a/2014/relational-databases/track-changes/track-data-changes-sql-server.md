---
title: Controlar alterações de dados (SQL Server) | Microsoft Docs
ms.custom: ''
ms.date: 05/24/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: ''
ms.topic: conceptual
f1_keywords:
- CHANGE_TRACKING_CLEANUP_VERSION
- change_tracking_databases
- sys.change_tracking_databases
- WITH CHANGE_TRACKING_CONTEXT
- CHANGE_TRACKING_IS_COLUMN_IN_MASK
- sys.fn_change_tracking_dump_change_table
- fn_change_tracking_dump_change_table
- sys.fn_change_tracking_columns
- CHANGE_TRACKING_CURRENT_VERSION
- sys.change_tracking_tables
- fn_change_tracking_columns
- change_tracking_tables
- CHANGETABLE
helpviewer_keywords:
- change data capture [SQL Server], compared to change tracking
- change data capture vs. change tracking
- change data capture [SQL Server], data type behaviors
- Sync Services for ADO.NET
- change tracking [SQL Server], Sync Services for ADO.NET
- change tracking [SQL Server]
- change data capture [SQL Server], security
- change data capture [SQL Server], other SQL Server features and
ms.assetid: 7a34be46-15b4-4b6b-8497-cfd8f9f14234
author: rothja
ms.author: jroth
ms.openlocfilehash: 8e9fb2a89aff63a69d7ad8df111d36f2b7ccafdd
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87575686"
---
# <a name="track-data-changes-sql-server"></a><span data-ttu-id="16c3e-102">Controle de alterações de dados (SQL Server)</span><span class="sxs-lookup"><span data-stu-id="16c3e-102">Track Data Changes (SQL Server)</span></span>
  [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] <span data-ttu-id="16c3e-103">fornece dois recursos que controlam alterações em dados de bancos de dados: [captura de dados de alterações](#Capture) e [controle de alterações](#Tracking).</span><span class="sxs-lookup"><span data-stu-id="16c3e-103">provides two features that track changes to data in a database: [change data capture](#Capture) and [change tracking](#Tracking).</span></span> <span data-ttu-id="16c3e-104">Esses recursos permitem que os aplicativos determinem as alterações de DML (operações de inserção, atualização e exclusão) que foram feitas em tabelas de usuários em um banco de dados.</span><span class="sxs-lookup"><span data-stu-id="16c3e-104">These features enable applications to determine the DML changes (insert, update, and delete operations) that were made to user tables in a database.</span></span> <span data-ttu-id="16c3e-105">A captura de dados de alteração e o controle de alterações podem ser habilitados no mesmo banco de dados; nenhuma consideração especial necessária.</span><span class="sxs-lookup"><span data-stu-id="16c3e-105">Change data capture and change tracking can be enabled on the same database; no special considerations are required.</span></span> <span data-ttu-id="16c3e-106">Para as edições do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] que dão suporte à captura de dados de alteração e ao controle de alterações, consulte [recursos com suporte nas edições do SQL Server 2014](../../getting-started/features-supported-by-the-editions-of-sql-server-2014.md).</span><span class="sxs-lookup"><span data-stu-id="16c3e-106">For the editions of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] that support change data capture and change tracking, see [Features Supported by the Editions of SQL Server 2014](../../getting-started/features-supported-by-the-editions-of-sql-server-2014.md).</span></span>  
  
## <a name="benefits-of-using-change-data-capture-or-change-tracking"></a><span data-ttu-id="16c3e-107">Benefícios do uso da captura de dados de alterações ou do controle de alterações</span><span class="sxs-lookup"><span data-stu-id="16c3e-107">Benefits of Using Change Data Capture or Change Tracking</span></span>  
 <span data-ttu-id="16c3e-108">Um requisito importante para a eficiência de alguns aplicativos é a capacidade de consultar os dados que foram alterados em um banco de dados.</span><span class="sxs-lookup"><span data-stu-id="16c3e-108">The ability to query for data that has changed in a database is an important requirement for some applications to be efficient.</span></span> <span data-ttu-id="16c3e-109">Em geral, para determinar alterações de dados, os desenvolvedores de aplicativos devem implementar um método personalizado de controle nos aplicativos usando uma combinação de gatilhos, colunas de carimbo de data/hora e tabelas adicionais.</span><span class="sxs-lookup"><span data-stu-id="16c3e-109">Typically, to determine data changes, application developers must implement a custom tracking method in their applications by using a combination of triggers, timestamp columns, and additional tables.</span></span> <span data-ttu-id="16c3e-110">A criação desses aplicativos costumava envolve uma implementação muito trabalhosa, leva a atualizações de esquema e frequentemente acarreta uma sobrecarga de alto desempenho.</span><span class="sxs-lookup"><span data-stu-id="16c3e-110">Creating these applications usually involves a lot of work to implement, leads to schema updates, and often carries a high performance overhead.</span></span>  
  
 <span data-ttu-id="16c3e-111">Usar a captura de dados de alterações ou o controle de alterações em aplicativos para rastrear alterações em um banco de dados em vez de desenvolver uma solução personalizada tem os seguintes benefícios:</span><span class="sxs-lookup"><span data-stu-id="16c3e-111">Using change data capture or change tracking in applications to track changes in a database, instead of developing a custom solution, has the following benefits:</span></span>  
  
-   <span data-ttu-id="16c3e-112">O tempo de desenvolvimento é reduzido.</span><span class="sxs-lookup"><span data-stu-id="16c3e-112">There is reduced development time.</span></span> <span data-ttu-id="16c3e-113">Como a funcionalidade está disponível no [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)], não é necessário desenvolver uma solução personalizada.</span><span class="sxs-lookup"><span data-stu-id="16c3e-113">Because functionality is available in [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)], you do not have to develop a custom solution.</span></span>  
  
-   <span data-ttu-id="16c3e-114">Alterações de esquema não são necessárias.</span><span class="sxs-lookup"><span data-stu-id="16c3e-114">Schema changes are not required.</span></span> <span data-ttu-id="16c3e-115">Você não precisar adicionar colunas, gatilhos nem criar tabelas laterais nas quais rastrear linhas excluídas ou armazenar informações do controle de alterações se não for possível adicionar colunas a tabelas de usuário.</span><span class="sxs-lookup"><span data-stu-id="16c3e-115">You do not have to add columns, add triggers, or create side table in which to track deleted rows or to store change tracking information if columns cannot be added to the user tables.</span></span>  
  
-   <span data-ttu-id="16c3e-116">Há um mecanismo de limpeza interno.</span><span class="sxs-lookup"><span data-stu-id="16c3e-116">There is a built-in cleanup mechanism.</span></span> <span data-ttu-id="16c3e-117">A limpeza do controle de alterações é executada automaticamente em segundo plano.</span><span class="sxs-lookup"><span data-stu-id="16c3e-117">Cleanup for change tracking is performed automatically in the background.</span></span> <span data-ttu-id="16c3e-118">A limpeza personalizada de dados armazenados em uma tabela lateral não é necessária.</span><span class="sxs-lookup"><span data-stu-id="16c3e-118">Custom cleanup for data that is stored in a side table is not required.</span></span>  
  
-   <span data-ttu-id="16c3e-119">Funções são fornecidas para obter informações de alterações.</span><span class="sxs-lookup"><span data-stu-id="16c3e-119">Functions are provided to obtain change information.</span></span>  
  
-   <span data-ttu-id="16c3e-120">Há pouca sobrecarga em operações DML.</span><span class="sxs-lookup"><span data-stu-id="16c3e-120">There is low overhead to DML operations.</span></span> <span data-ttu-id="16c3e-121">O controle de alterações síncrono sempre terá alguma sobrecarga.</span><span class="sxs-lookup"><span data-stu-id="16c3e-121">Synchronous change tracking will always have some overhead.</span></span> <span data-ttu-id="16c3e-122">No entanto, o uso do controle de alterações pode ajudar a minimizar a sobrecarga.</span><span class="sxs-lookup"><span data-stu-id="16c3e-122">However, using change tracking can help minimize the overhead.</span></span> <span data-ttu-id="16c3e-123">A sobrecarga será frequentemente menor do que usar soluções alternativas, principalmente soluções que precisam usar gatilhos.</span><span class="sxs-lookup"><span data-stu-id="16c3e-123">The overhead will frequently be less than that of using alternative solutions, especially solutions that require the use triggers.</span></span>  
  
-   <span data-ttu-id="16c3e-124">O controle de alterações é baseado em transações confirmadas.</span><span class="sxs-lookup"><span data-stu-id="16c3e-124">Change tracking is based on committed transactions.</span></span> <span data-ttu-id="16c3e-125">A ordem das alterações é baseada na hora da confirmação da transação.</span><span class="sxs-lookup"><span data-stu-id="16c3e-125">The order of the changes is based on transaction commit time.</span></span> <span data-ttu-id="16c3e-126">Isso permite que resultados confiáveis sejam obtidos ao executar transações demoradas e sobrepostas.</span><span class="sxs-lookup"><span data-stu-id="16c3e-126">This allows for reliable results to be obtained when there are long-running and overlapping transactions.</span></span> <span data-ttu-id="16c3e-127">Soluções personalizadas que usem valores de `timestamp` devem ser criadas especificamente para tratar desses cenários.</span><span class="sxs-lookup"><span data-stu-id="16c3e-127">Custom solutions that use `timestamp` values must be specifically designed to handle these scenarios.</span></span>  
  
-   <span data-ttu-id="16c3e-128">Ferramentas padrão estão disponíveis para que você possa usar para configurar e gerenciar.</span><span class="sxs-lookup"><span data-stu-id="16c3e-128">Standard tools are available that you can use to configure and manage.</span></span> [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] <span data-ttu-id="16c3e-129">fornece instruções DDL padrão, [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)], exibições do catálogo e permissões de segurança.</span><span class="sxs-lookup"><span data-stu-id="16c3e-129">provides standard DDL statements, [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)], catalog views, and security permissions.</span></span>  
  
## <a name="feature-differences-between-change-data-capture-and-change-tracking"></a><span data-ttu-id="16c3e-130">Diferenças de recurso entre captura de dados de alterações e controle de alterações</span><span class="sxs-lookup"><span data-stu-id="16c3e-130">Feature Differences Between Change Data Capture and Change Tracking</span></span>  
 <span data-ttu-id="16c3e-131">A tabela a seguir lista as diferenças de recursos entre a captura de dados de alterações e o controle de alterações.</span><span class="sxs-lookup"><span data-stu-id="16c3e-131">The following table lists the feature differences between change data capture and change tracking.</span></span> <span data-ttu-id="16c3e-132">O mecanismo de controle na captura de dados de alteração envolve uma captura assíncrona de alterações no log de transação, de forma que as alterações fiquem disponíveis depois da operação de DML.</span><span class="sxs-lookup"><span data-stu-id="16c3e-132">The tracking mechanism in change data capture involves an asynchronous capture of changes from the transaction log so that changes are available after the DML operation.</span></span> <span data-ttu-id="16c3e-133">No controle de alteração, o mecanismo de controle envolve o controle síncrono de alterações embutidas nas operações de DML de forma que as informações de alteração fiquem disponíveis imediatamente.</span><span class="sxs-lookup"><span data-stu-id="16c3e-133">In change tracking, the tracking mechanism involves synchronous tracking of changes in line with DML operations so that change information is available immediately.</span></span>  
  
|<span data-ttu-id="16c3e-134">Recurso</span><span class="sxs-lookup"><span data-stu-id="16c3e-134">Feature</span></span>|<span data-ttu-id="16c3e-135">captura de dados de alterações</span><span class="sxs-lookup"><span data-stu-id="16c3e-135">Change data capture</span></span>|<span data-ttu-id="16c3e-136">Change tracking</span><span class="sxs-lookup"><span data-stu-id="16c3e-136">Change tracking</span></span>|  
|-------------|-------------------------|---------------------|  
|<span data-ttu-id="16c3e-137">**Alterações controladas**</span><span class="sxs-lookup"><span data-stu-id="16c3e-137">**Tracked changes**</span></span>|||  
|<span data-ttu-id="16c3e-138">Alterações de DML</span><span class="sxs-lookup"><span data-stu-id="16c3e-138">DML changes</span></span>|<span data-ttu-id="16c3e-139">Sim</span><span class="sxs-lookup"><span data-stu-id="16c3e-139">Yes</span></span>|<span data-ttu-id="16c3e-140">Sim</span><span class="sxs-lookup"><span data-stu-id="16c3e-140">Yes</span></span>|  
|<span data-ttu-id="16c3e-141">**Informações controladas**</span><span class="sxs-lookup"><span data-stu-id="16c3e-141">**Tracked information**</span></span>|||  
|<span data-ttu-id="16c3e-142">Dados do histórico</span><span class="sxs-lookup"><span data-stu-id="16c3e-142">Historical data</span></span>|<span data-ttu-id="16c3e-143">Sim</span><span class="sxs-lookup"><span data-stu-id="16c3e-143">Yes</span></span>|<span data-ttu-id="16c3e-144">Não</span><span class="sxs-lookup"><span data-stu-id="16c3e-144">No</span></span>|  
|<span data-ttu-id="16c3e-145">Se a coluna foi alterada</span><span class="sxs-lookup"><span data-stu-id="16c3e-145">Whether column was changed</span></span>|<span data-ttu-id="16c3e-146">Sim</span><span class="sxs-lookup"><span data-stu-id="16c3e-146">Yes</span></span>|<span data-ttu-id="16c3e-147">Sim</span><span class="sxs-lookup"><span data-stu-id="16c3e-147">Yes</span></span>|  
|<span data-ttu-id="16c3e-148">Tipo de DML</span><span class="sxs-lookup"><span data-stu-id="16c3e-148">DML type</span></span>|<span data-ttu-id="16c3e-149">Sim</span><span class="sxs-lookup"><span data-stu-id="16c3e-149">Yes</span></span>|<span data-ttu-id="16c3e-150">Sim</span><span class="sxs-lookup"><span data-stu-id="16c3e-150">Yes</span></span>|  
  
##  <a name="change-data-capture"></a><a name="Capture"></a> <span data-ttu-id="16c3e-151">Change Data Capture</span><span class="sxs-lookup"><span data-stu-id="16c3e-151">Change Data Capture</span></span>  
 <span data-ttu-id="16c3e-152">A captura de dados de alteração fornece informações de alteração de histórico para uma tabela de usuário, capturando o motivo pelo qual as alterações de DML foram feitas e os dados reais que foram alterados.</span><span class="sxs-lookup"><span data-stu-id="16c3e-152">Change data capture provides historical change information for a user table by capturing both the fact that DML changes were made and the actual data that was changed.</span></span> <span data-ttu-id="16c3e-153">As alterações são capturadas por meio de um processo assíncrono que lê o log de transações e tem baixo impacto no sistema.</span><span class="sxs-lookup"><span data-stu-id="16c3e-153">Changes are captured by using an asynchronous process that reads the transaction log and has a low impact on the system.</span></span>  
  
 <span data-ttu-id="16c3e-154">Como mostrado na ilustração a seguir, as alterações feitas para tabelas de usuários são capturadas nas tabelas de alteração correspondentes.</span><span class="sxs-lookup"><span data-stu-id="16c3e-154">As shown in the following illustration, the changes that were made to user tables are captured in corresponding change tables.</span></span> <span data-ttu-id="16c3e-155">Essas tabelas de alteração fornecem uma exibição histórica das alterações com o passar do tempo.</span><span class="sxs-lookup"><span data-stu-id="16c3e-155">These change tables provide an historical view of the changes over time.</span></span> <span data-ttu-id="16c3e-156">As funções da [captura de dados de alterações](/sql/relational-databases/system-functions/change-data-capture-functions-transact-sql)que o [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] fornece habilita o consumo fácil e sistemático dos dados de alteração.</span><span class="sxs-lookup"><span data-stu-id="16c3e-156">The [change data capture](/sql/relational-databases/system-functions/change-data-capture-functions-transact-sql)functions that [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] provides enable the change data to be consumed easily and systematically.</span></span>  
  
 <span data-ttu-id="16c3e-157">![Ilustração conceitual da captura de dados de alterações](../../database-engine/media/cdcart1.gif "Ilustração conceitual da captura de dados de alterações")</span><span class="sxs-lookup"><span data-stu-id="16c3e-157">![Conceptual illustration of change data capture](../../database-engine/media/cdcart1.gif "Conceptual illustration of change data capture")</span></span>  
  
### <a name="security-model"></a><span data-ttu-id="16c3e-158">Modelo de segurança</span><span class="sxs-lookup"><span data-stu-id="16c3e-158">Security Model</span></span>  
 <span data-ttu-id="16c3e-159">Esta seção descreve o modelo de segurança da captura de dados de alterações.</span><span class="sxs-lookup"><span data-stu-id="16c3e-159">This section describes the change data capture security model.</span></span>  
  
 <span data-ttu-id="16c3e-160">**Configuração e administração**</span><span class="sxs-lookup"><span data-stu-id="16c3e-160">**Configuration and Administration**</span></span>  
 <span data-ttu-id="16c3e-161">Para habilitar ou desabilitar o Change Data Capture para um banco de dados, o chamador de [Sys. sp_cdc_enable_db &#40;Transact-sql&#41;](/sql/relational-databases/system-stored-procedures/sys-sp-cdc-enable-db-transact-sql) ou [sys. Sp_cdc_disable_db &#40;o transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sys-sp-cdc-disable-db-transact-sql) deve ser um membro da função de servidor fixa `sysadmin` .</span><span class="sxs-lookup"><span data-stu-id="16c3e-161">To either enable or disable change data capture for a database, the caller of [sys.sp_cdc_enable_db &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sys-sp-cdc-enable-db-transact-sql) or [sys.sp_cdc_disable_db &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sys-sp-cdc-disable-db-transact-sql) must be a member of the fixed server `sysadmin` role.</span></span> <span data-ttu-id="16c3e-162">Habilitar e desabilitar a captura de dados de alterações no nível de tabela requer que o chamador de [Sys. sp_cdc_enable_table &#40;Transact-sql&#41;](/sql/relational-databases/system-stored-procedures/sys-sp-cdc-enable-table-transact-sql) e [sys. Sp_cdc_disable_table &#40;o transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sys-sp-cdc-disable-table-transact-sql) seja um membro da função sysadmin ou um membro da função de banco de dados `database db_owner` .</span><span class="sxs-lookup"><span data-stu-id="16c3e-162">Enabling and disabling change data capture at the table level requires the caller of [sys.sp_cdc_enable_table &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sys-sp-cdc-enable-table-transact-sql) and [sys.sp_cdc_disable_table &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sys-sp-cdc-disable-table-transact-sql) to either be a member of the sysadmin role or a member of the database `database db_owner` role.</span></span>  
  
 <span data-ttu-id="16c3e-163">O uso dos procedimentos armazenados para fornecer suporte aos trabalhos de captura de dados de alteração é restrito a membros da função `sysadmin` do servidor e a membros da função `database db_owner`.</span><span class="sxs-lookup"><span data-stu-id="16c3e-163">Use of the stored procedures to support the administration of change data capture jobs is restricted to members of the server `sysadmin` role and members of the `database db_owner` role.</span></span>  
  
 <span data-ttu-id="16c3e-164">**Consultas de metadados e enumeração de alteração**</span><span class="sxs-lookup"><span data-stu-id="16c3e-164">**Change Enumeration and Metadata Queries**</span></span>  
 <span data-ttu-id="16c3e-165">Para obter acesso aos dados de alteração associados a uma instância de captura, o usuário deve ter acesso de seleção a todas as colunas capturadas da tabela de origem associada.</span><span class="sxs-lookup"><span data-stu-id="16c3e-165">To gain access to the change data that is associated with a capture instance, the user must be granted select access to all the captured columns of the associated source table.</span></span> <span data-ttu-id="16c3e-166">Além disso, se uma função de acesso for especificada quando a instância de captura for criada, o chamador também deverá ser um membro da função de acesso especificada.</span><span class="sxs-lookup"><span data-stu-id="16c3e-166">In addition, if a gating role is specified when the capture instance is created, the caller must also be a member of the specified gating role.</span></span> <span data-ttu-id="16c3e-167">Outras funções gerais de captura de dados de alteração para o acesso aos metadados estarão acessíveis a todos os usuários de banco de dados por meio da função pública, embora o acesso aos metadados retornados será sempre concedido pelo uso do acesso de seleção às tabelas de origem subjacentes e pela associação em qualquer função gating definida.</span><span class="sxs-lookup"><span data-stu-id="16c3e-167">Other general change data capture functions for accessing metadata will be accessible to all database users through the public role, although access to the returned metadata will also typically be gated by using select access to the underlying source tables, and by membership in any defined gating roles.</span></span>  
  
 <span data-ttu-id="16c3e-168">**Operações de DDL para tabelas de origem habilitadas para captura de dados de alterações**</span><span class="sxs-lookup"><span data-stu-id="16c3e-168">**DDL Operations to Change Data Capture Enabled Source Tables**</span></span>  
 <span data-ttu-id="16c3e-169">Quando uma tabela é habilitada para a captura de dados de alteração, as operações de DDL podem ser aplicadas à tabela somente por um membro de função fixa de servidor `sysadmin`, um membro de `database role db_owner` ou um membro de `database role db_ddladmin`.</span><span class="sxs-lookup"><span data-stu-id="16c3e-169">When a table is enabled for change data capture, DDL operations can only be applied to the table by a member of the fixed server role `sysadmin`, a member of the `database role db_owner`, or a member of the `database role db_ddladmin`.</span></span> <span data-ttu-id="16c3e-170">Os usuários que têm acesso explícito para executar as operações de DDL na tabela receberão o erro 22914 se tentarem essas operações.</span><span class="sxs-lookup"><span data-stu-id="16c3e-170">Users who have explicit grants to perform DDL operations on the table will receive error 22914 if they try these operation.</span></span>  
  
### <a name="data-type-considerations-for-change-data-capture"></a><span data-ttu-id="16c3e-171">Considerações sobre tipos de dados para captura de dados de alteração</span><span class="sxs-lookup"><span data-stu-id="16c3e-171">Data Type Considerations for Change Data Capture</span></span>  
 <span data-ttu-id="16c3e-172">Todos os tipos de coluna base são suportados pela captura de dados de alteração.</span><span class="sxs-lookup"><span data-stu-id="16c3e-172">All base column types are supported by change data capture.</span></span> <span data-ttu-id="16c3e-173">A tabela a seguir lista o comportamento e as limitações de vários tipos de coluna.</span><span class="sxs-lookup"><span data-stu-id="16c3e-173">The following table lists the behavior and limitations for several column types.</span></span>  
  
|<span data-ttu-id="16c3e-174">Tipo de coluna</span><span class="sxs-lookup"><span data-stu-id="16c3e-174">Type of Column</span></span>|<span data-ttu-id="16c3e-175">Alterações capturadas em tabelas de alteração</span><span class="sxs-lookup"><span data-stu-id="16c3e-175">Changes Captured in Change Tables</span></span>|<span data-ttu-id="16c3e-176">Limitações</span><span class="sxs-lookup"><span data-stu-id="16c3e-176">Limitations</span></span>|  
|--------------------|---------------------------------------|-----------------|  
|<span data-ttu-id="16c3e-177">Colunas esparsas</span><span class="sxs-lookup"><span data-stu-id="16c3e-177">Sparse Columns</span></span>|<span data-ttu-id="16c3e-178">Sim</span><span class="sxs-lookup"><span data-stu-id="16c3e-178">Yes</span></span>|<span data-ttu-id="16c3e-179">Não dão suporte à captura de alterações durante o uso de columnset.</span><span class="sxs-lookup"><span data-stu-id="16c3e-179">Does not support capturing changes when using a columnset.</span></span>|  
|<span data-ttu-id="16c3e-180">Colunas computadas</span><span class="sxs-lookup"><span data-stu-id="16c3e-180">Computed Columns</span></span>|<span data-ttu-id="16c3e-181">Não</span><span class="sxs-lookup"><span data-stu-id="16c3e-181">No</span></span>|<span data-ttu-id="16c3e-182">As alterações feitas a colunas computadas não são rastreadas.</span><span class="sxs-lookup"><span data-stu-id="16c3e-182">Changes to computed columns are not tracked.</span></span> <span data-ttu-id="16c3e-183">A coluna aparecerá na tabela de alterações com o tipo apropriado, mas terá um valor de NULL.</span><span class="sxs-lookup"><span data-stu-id="16c3e-183">The column will appear in the change table with the appropriate type, but will have a value of NULL.</span></span>|  
|<span data-ttu-id="16c3e-184">XML</span><span class="sxs-lookup"><span data-stu-id="16c3e-184">XML</span></span>|<span data-ttu-id="16c3e-185">Sim</span><span class="sxs-lookup"><span data-stu-id="16c3e-185">Yes</span></span>|<span data-ttu-id="16c3e-186">As alterações a elementos XML individuais não são rastreadas.</span><span class="sxs-lookup"><span data-stu-id="16c3e-186">Changes to individual XML elements are not tracked.</span></span>|  
|<span data-ttu-id="16c3e-187">Timestamp</span><span class="sxs-lookup"><span data-stu-id="16c3e-187">Timestamp</span></span>|<span data-ttu-id="16c3e-188">Sim</span><span class="sxs-lookup"><span data-stu-id="16c3e-188">Yes</span></span>|<span data-ttu-id="16c3e-189">O tipo de dados na tabela de alterações é convertido em binário.</span><span class="sxs-lookup"><span data-stu-id="16c3e-189">The data type in the change table is converted to binary.</span></span>|  
|<span data-ttu-id="16c3e-190">Tipos de dados BLOB</span><span class="sxs-lookup"><span data-stu-id="16c3e-190">BLOB data types</span></span>|<span data-ttu-id="16c3e-191">Sim</span><span class="sxs-lookup"><span data-stu-id="16c3e-191">Yes</span></span>|<span data-ttu-id="16c3e-192">A imagem anterior da coluna BLOB somente será armazenada se a própria coluna for alterada.</span><span class="sxs-lookup"><span data-stu-id="16c3e-192">The previous image of the BLOB column is stored only if the column itself is changed.</span></span>|  
  
### <a name="change-data-capture-and-other-sql-server-features"></a><span data-ttu-id="16c3e-193">Change Data Capture e outros recursos do SQL Server</span><span class="sxs-lookup"><span data-stu-id="16c3e-193">Change Data Capture and Other SQL Server Features</span></span>  
 <span data-ttu-id="16c3e-194">Esta seção descreve como os seguintes recursos interagem com a captura de dados de alteração:</span><span class="sxs-lookup"><span data-stu-id="16c3e-194">This section describes how the following features interact with change data capture:</span></span>  
  
-   <span data-ttu-id="16c3e-195">Espelhamento de banco de dados</span><span class="sxs-lookup"><span data-stu-id="16c3e-195">Database mirroring</span></span>  
  
-   <span data-ttu-id="16c3e-196">Replicação transacional</span><span class="sxs-lookup"><span data-stu-id="16c3e-196">Transactional replication</span></span>  
  
-   <span data-ttu-id="16c3e-197">Restauração ou anexação de banco de dados</span><span class="sxs-lookup"><span data-stu-id="16c3e-197">Database restore or attach</span></span>  
  
#### <a name="database-mirroring"></a><span data-ttu-id="16c3e-198">Espelhamento de banco de dados</span><span class="sxs-lookup"><span data-stu-id="16c3e-198">Database Mirroring</span></span>  
 <span data-ttu-id="16c3e-199">Um banco de dados que é habilitado para captura de dados de alteração pode ser espelhado.</span><span class="sxs-lookup"><span data-stu-id="16c3e-199">A database that is enabled for change data capture can be mirrored.</span></span> <span data-ttu-id="16c3e-200">Para assegurar que a captura e a limpeza ocorram automaticamente no espelho, siga estas etapas:</span><span class="sxs-lookup"><span data-stu-id="16c3e-200">To ensure that capture and cleanup happen automatically on the mirror, follow these steps:</span></span>  
  
1.  <span data-ttu-id="16c3e-201">Verifique se o [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent está sendo executado no espelho.</span><span class="sxs-lookup"><span data-stu-id="16c3e-201">Ensure that [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent is running on the mirror.</span></span>  
  
2.  <span data-ttu-id="16c3e-202">Crie os trabalhos de captura e de limpeza no espelho depois que a entidade fizer failover no espelho.</span><span class="sxs-lookup"><span data-stu-id="16c3e-202">Create the capture job and cleanup job on the mirror after the principal has failed over to the mirror.</span></span> <span data-ttu-id="16c3e-203">Para criar os trabalhos, use o procedimento armazenado [sys.sp_cdc_add_job &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sys-sp-cdc-add-job-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="16c3e-203">To create the jobs, use the stored procedure [sys.sp_cdc_add_job &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sys-sp-cdc-add-job-transact-sql).</span></span>  
  
 <span data-ttu-id="16c3e-204">Para obter mais informações sobre o espelhamento de banco de dados, veja [Espelhamento de banco de dados &#40;SQL Server&#41;](../../database-engine/database-mirroring/database-mirroring-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="16c3e-204">For more information about database mirroring, see [Database Mirroring &#40;SQL Server&#41;](../../database-engine/database-mirroring/database-mirroring-sql-server.md).</span></span>  
  
#### <a name="transactional-replication"></a><span data-ttu-id="16c3e-205">Replicação transacional</span><span class="sxs-lookup"><span data-stu-id="16c3e-205">Transactional Replication</span></span>  
 <span data-ttu-id="16c3e-206">A captura de dados de alteração e a replicação transacional podem coexistir no mesmo banco de dados, mas a população das tabelas de alteração ocorre de modo diferente quando os dois recursos estão habilitados.</span><span class="sxs-lookup"><span data-stu-id="16c3e-206">Change data capture and transactional replication can coexist in the same database, but population of the change tables is handled differently when both features are enabled.</span></span> <span data-ttu-id="16c3e-207">A captura de dados de alteração e a replicação transacional sempre usam o mesmo procedimento, [sp_replcmds](/sql/relational-databases/system-stored-procedures/sp-replcmds-transact-sql), para ler alterações no log de transações.</span><span class="sxs-lookup"><span data-stu-id="16c3e-207">Change data capture and transactional replication always use the same procedure, [sp_replcmds](/sql/relational-databases/system-stored-procedures/sp-replcmds-transact-sql), to read changes from the transaction log.</span></span> <span data-ttu-id="16c3e-208">Quando a captura de dados de alteração é habilitada por iniciativa própria, um trabalho do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent chama `sp_replcmds`.</span><span class="sxs-lookup"><span data-stu-id="16c3e-208">When change data capture is enabled on its own, a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent job calls `sp_replcmds`.</span></span> <span data-ttu-id="16c3e-209">Quando ambos os recursos estão habilitados no mesmo banco de dados, o Agente de Leitor de Log chama `sp_replcmds` .</span><span class="sxs-lookup"><span data-stu-id="16c3e-209">When both features are enabled on the same database, the Log Reader Agent calls `sp_replcmds`.</span></span> <span data-ttu-id="16c3e-210">Esse agente preenche as tabelas de alteração e do banco de dados de distribuição.</span><span class="sxs-lookup"><span data-stu-id="16c3e-210">This agent populates both the change tables and the distribution database tables.</span></span> <span data-ttu-id="16c3e-211">Para obter mais informações, consulte [Replication Log Reader Agent](../replication/agents/replication-log-reader-agent.md).</span><span class="sxs-lookup"><span data-stu-id="16c3e-211">For more information, see [Replication Log Reader Agent](../replication/agents/replication-log-reader-agent.md).</span></span>  
  
 <span data-ttu-id="16c3e-212">Considere um cenário em que a captura de dados de alteração está habilitada no banco de dados [!INCLUDE[ssSampleDBobject](../../includes/sssampledbobject-md.md)] e há duas tabelas habilitadas para captura.</span><span class="sxs-lookup"><span data-stu-id="16c3e-212">Consider a scenario in which change data capture is enabled on the [!INCLUDE[ssSampleDBobject](../../includes/sssampledbobject-md.md)] database, and two tables are enabled for capture.</span></span> <span data-ttu-id="16c3e-213">Para popular as tabelas de alteração, as chamadas de trabalho de captura `sp_replcmds` .</span><span class="sxs-lookup"><span data-stu-id="16c3e-213">To populate the change tables, the capture job calls `sp_replcmds`.</span></span> <span data-ttu-id="16c3e-214">O banco de dados está habilitado para replicação transacional, e é criada uma publicação.</span><span class="sxs-lookup"><span data-stu-id="16c3e-214">The database is enabled for transactional replication, and a publication is created.</span></span> <span data-ttu-id="16c3e-215">Agora, o Agente de Leitor de Log é criado para o banco de dados, e o trabalho de captura é excluído.</span><span class="sxs-lookup"><span data-stu-id="16c3e-215">Now, the Log Reader Agent is created for the database and the capture job is deleted.</span></span> <span data-ttu-id="16c3e-216">O Agente de Leitor de Log continua a examinar o log do último número de sequência de log confirmado na tabela de alteração.</span><span class="sxs-lookup"><span data-stu-id="16c3e-216">The Log Reader Agent continues to scan the log from the last log sequence number that was committed to the change table.</span></span> <span data-ttu-id="16c3e-217">Isso assegura a consistência de dados nas tabelas de alteração.</span><span class="sxs-lookup"><span data-stu-id="16c3e-217">This ensures data consistency in the change tables.</span></span> <span data-ttu-id="16c3e-218">Se a replicação transacional estiver desabilitada nesse banco de dados, o Log Reader Agent será removido e o trabalho de captura, recriado.</span><span class="sxs-lookup"><span data-stu-id="16c3e-218">If transactional replication is disabled in this database, the Log Reader Agent is removed and the capture job is re-created.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="16c3e-219">Quando o Agente de Leitor de Log for usado para captura de dados e replicação transacional, as alterações replicadas serão gravadas primeiro no banco de dados de distribuição.</span><span class="sxs-lookup"><span data-stu-id="16c3e-219">When the Log Reader Agent is used for both change data capture and transactional replication, replicated changes are first written to the distribution database.</span></span> <span data-ttu-id="16c3e-220">Em seguida, as alterações capturadas são gravadas nas tabelas de alteração.</span><span class="sxs-lookup"><span data-stu-id="16c3e-220">Then, captured changes are written to the change tables.</span></span> <span data-ttu-id="16c3e-221">As duas operações são confirmadas ao mesmo tempo.</span><span class="sxs-lookup"><span data-stu-id="16c3e-221">Both operations are committed together.</span></span> <span data-ttu-id="16c3e-222">Se houver uma latência na gravação no banco de dados de distribuição, haverá uma latência correspondente antes de as alterações aparecerem nas tabelas de alteração.</span><span class="sxs-lookup"><span data-stu-id="16c3e-222">If there is any latency in writing to the distribution database, there will be a corresponding latency before changes appear in the change tables.</span></span>  
  
#### <a name="restoring-or-attaching-a-database-enabled-for-change-data-capture"></a><span data-ttu-id="16c3e-223">Restaurando ou anexando um banco de dados habilitado para captura de dados de alteração</span><span class="sxs-lookup"><span data-stu-id="16c3e-223">Restoring or Attaching a Database Enabled for Change Data Capture</span></span>  
 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="16c3e-224">usa a seguinte lógica para determinar se a captura de dados de alteração deve permanecer habilitada depois que um banco de dados for restaurado ou anexado:</span><span class="sxs-lookup"><span data-stu-id="16c3e-224">uses the following logic to determine if change data capture remains enabled after a database is restored or attached:</span></span>  
  
-   <span data-ttu-id="16c3e-225">Se um banco de dados for restaurado para o mesmo servidor com o mesmo nome de banco de dados, a captura de dados de alteração permanecerá habilitada.</span><span class="sxs-lookup"><span data-stu-id="16c3e-225">If a database is restored to the same server with the same database name, change data capture remains enabled.</span></span>  
  
-   <span data-ttu-id="16c3e-226">Se um banco de dados for restaurado para outro servidor, por padrão a captura de dados de alteração será desabilitada, e todos os metadados relacionados serão excluídos.</span><span class="sxs-lookup"><span data-stu-id="16c3e-226">If a database is restored to another server, by default change data capture is disabled and all related metadata is deleted.</span></span>  
  
     <span data-ttu-id="16c3e-227">Para manter a captura de dados de alteração, use a opção `KEEP_CDC` quando restaurar o banco de dados.</span><span class="sxs-lookup"><span data-stu-id="16c3e-227">To retain change data capture, use the `KEEP_CDC` option when restoring the database.</span></span> <span data-ttu-id="16c3e-228">Para obter mais informações sobre essa opção, consulte [RESTORE](/sql/t-sql/statements/restore-statements-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="16c3e-228">For more information about this option, see [RESTORE](/sql/t-sql/statements/restore-statements-transact-sql).</span></span>  
  
-   <span data-ttu-id="16c3e-229">Se um banco de dados for desanexado e anexado ao mesmo servidor ou a outro servidor, a captura de dados de alteração permanecerá habilitada.</span><span class="sxs-lookup"><span data-stu-id="16c3e-229">If a database is detached and attached to the same server or another server, change data capture remains enabled.</span></span>  
  
-   <span data-ttu-id="16c3e-230">Se um banco de dados for anexado ou restaurado com a `KEEP_CDC` opção para qualquer edição diferente de Enterprise, a operação será bloqueada porque a captura de dados de alterações requer [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Enterprise.</span><span class="sxs-lookup"><span data-stu-id="16c3e-230">If a database is attached or restored with the `KEEP_CDC` option to any edition other than Enterprise, the operation is blocked because change data capture requires [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Enterprise.</span></span> <span data-ttu-id="16c3e-231">A mensagem de erro 932 é exibida:</span><span class="sxs-lookup"><span data-stu-id="16c3e-231">Error message 932 is displayed:</span></span>  
  
     `SQL Server cannot load database '%.*ls' because change data capture is enabled. The currently installed edition of SQL Server does not support change data capture. Either disable change data capture in the database by using a supported edition of SQL Server, or upgrade the instance to one that supports change data capture.`  
  
 <span data-ttu-id="16c3e-232">Você pode usar [sys.sp_cdc_disable_db](/sql/relational-databases/system-stored-procedures/sys-sp-cdc-disable-db-transact-sql) para remover a captura de dados de alterações de um banco de dados restaurado ou anexado.</span><span class="sxs-lookup"><span data-stu-id="16c3e-232">You can use [sys.sp_cdc_disable_db](/sql/relational-databases/system-stored-procedures/sys-sp-cdc-disable-db-transact-sql) to remove change data capture from a restored or attached database.</span></span>  
 

  ##  <a name="change-tracking"></a><a name="Tracking"></a> <span data-ttu-id="16c3e-233">Controle de alterações</span><span class="sxs-lookup"><span data-stu-id="16c3e-233">Change Tracking</span></span>  
 <span data-ttu-id="16c3e-234">O controle de alteração captura o motivo pelo qual as linhas em uma tabela foram alteradas, mas não captura o que foi alterado.</span><span class="sxs-lookup"><span data-stu-id="16c3e-234">Change tracking captures the fact that rows in a table were changed, but does not capture the data that was changed.</span></span> <span data-ttu-id="16c3e-235">Isso permite que os aplicativos determinem as linhas que foram alteradas com os últimos dados de linha obtidos diretamente das tabelas de usuários.</span><span class="sxs-lookup"><span data-stu-id="16c3e-235">This enables applications to determine the rows that have changed with the latest row data being obtained directly from the user tables.</span></span> <span data-ttu-id="16c3e-236">Então, o controle de alterações é mais limitado nas perguntas de histórico do que pode responder comparado à captura de dados de alterações.</span><span class="sxs-lookup"><span data-stu-id="16c3e-236">Therefore, change tracking is more limited in the historical questions it can answer compared to change data capture.</span></span> <span data-ttu-id="16c3e-237">Entretanto, para aqueles aplicativos que não exigem informações de histórico, há menos sobrecarga de armazenamento pois os dados alterados não são capturados.</span><span class="sxs-lookup"><span data-stu-id="16c3e-237">However, for those applications that do not require the historical information, there is far less storage overhead because of the changed data not being captured.</span></span> <span data-ttu-id="16c3e-238">Um mecanismo de controle síncrono é usado para controlar as alterações.</span><span class="sxs-lookup"><span data-stu-id="16c3e-238">A synchronous tracking mechanism is used to track the changes.</span></span> <span data-ttu-id="16c3e-239">Isso foi projetado para ter o mínimo de sobrecarga nas operações de DML.</span><span class="sxs-lookup"><span data-stu-id="16c3e-239">This has been designed to have minimal overhead to the DML operations.</span></span>  
  
 <span data-ttu-id="16c3e-240">A ilustração a seguir mostra um cenário de sincronização que se beneficiaria com o uso do controle de alterações.</span><span class="sxs-lookup"><span data-stu-id="16c3e-240">The following illustration shows a synchronization scenario that would benefit by using change tracking.</span></span> <span data-ttu-id="16c3e-241">No cenário, um aplicativo requer as seguintes informações: todas as linhas na tabela que foram alteradas desde a última sincronização da tabela e apenas os dados da linha atual.</span><span class="sxs-lookup"><span data-stu-id="16c3e-241">In the scenario, an application requires the following information: all the rows in the table that were changed since in the last time that the table was synchronized, and only the current row data.</span></span> <span data-ttu-id="16c3e-242">Como um mecanismo síncrono é usado para controlar as alterações, um aplicativo pode executar a sincronização de duas vias e detectar de modo confiável qualquer conflito que possa ocorrer.</span><span class="sxs-lookup"><span data-stu-id="16c3e-242">Because a synchronous mechanism is used to track the changes, an application can perform two-way synchronization and reliably detect any conflicts that might have occurred.</span></span>  
  
 <span data-ttu-id="16c3e-243">![Ilustração conceitual do controle de alterações](../../database-engine/media/cdcart2.gif "Ilustração conceitual do controle de alterações")</span><span class="sxs-lookup"><span data-stu-id="16c3e-243">![Conceptual illustration of change tracking](../../database-engine/media/cdcart2.gif "Conceptual illustration of change tracking")</span></span>  
  
### <a name="change-tracking-and-sync-services-for-adonet"></a><span data-ttu-id="16c3e-244">Controle de alterações e serviços de sincronização para ADO.NET</span><span class="sxs-lookup"><span data-stu-id="16c3e-244">Change Tracking and Sync Services for ADO.NET</span></span>  
 [!INCLUDE[sql_sync_long](../../includes/sql-sync-long-md.md)] <span data-ttu-id="16c3e-245">permite a sincronização entre bancos de dados, fornecendo uma API intuitiva e flexível que pode ser usada para criar aplicativos que têm como destino cenários offline e de colaboração.</span><span class="sxs-lookup"><span data-stu-id="16c3e-245">enables synchronization between databases, providing an intuitive and flexible API that enables you to build applications that target offline and collaboration scenarios.</span></span> [!INCLUDE[sql_sync_long](../../includes/sql-sync-long-md.md)] <span data-ttu-id="16c3e-246">fornece uma API para sincronizar alterações, mas não controla de fato as alterações no servidor ou banco de dados par.</span><span class="sxs-lookup"><span data-stu-id="16c3e-246">provides an API to synchronize changes, but it does not actually track changes in the server or peer database.</span></span> <span data-ttu-id="16c3e-247">Você pode criar um sistema de controle de alterações personalizado, mas geralmente esse procedimento apresenta uma complexidade significativa e sobrecarga de desempenho.</span><span class="sxs-lookup"><span data-stu-id="16c3e-247">You can create a custom change tracking system, but this typically introduces significant complexity and performance overhead.</span></span> <span data-ttu-id="16c3e-248">Para controlar as alterações em um servidor ou banco de dados par, recomendamos usar o controle de alteração no [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] , pois sua configuração é fácil e ele oferece controle de alto desempenho.</span><span class="sxs-lookup"><span data-stu-id="16c3e-248">To track changes in a server or peer database, we recommend that you use change tracking in [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] because it is easy to configure and provides high performance tracking.</span></span>  
  
 <span data-ttu-id="16c3e-249">Para obter mais informações sobre o controle de alterações e o [!INCLUDE[sql_sync_long](../../includes/sql-sync-long-md.md)], use os seguintes links:</span><span class="sxs-lookup"><span data-stu-id="16c3e-249">For more information about change tracking and [!INCLUDE[sql_sync_long](../../includes/sql-sync-long-md.md)], use the following links:</span></span>  
  
-   [<span data-ttu-id="16c3e-250">Sobre o controle de alterações &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="16c3e-250">About Change Tracking &#40;SQL Server&#41;</span></span>](../track-changes/about-change-tracking-sql-server.md)  
  
     <span data-ttu-id="16c3e-251">Descreve o controle de alterações, fornece uma visão geral de alto nível sobre como o controle de alterações funciona e descreve como o controle de alterações interage com outros recursos do [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="16c3e-251">Describes change tracking, provides a high-level overview of how change tracking works, and describes how change tracking interacts with other [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)] features.</span></span>  
  
-   [<span data-ttu-id="16c3e-252">Central de Desenvolvedores do Microsoft Sync Framework</span><span class="sxs-lookup"><span data-stu-id="16c3e-252">Microsoft Sync Framework Developer Center</span></span>](https://go.microsoft.com/fwlink/?LinkId=108054)  
  
     <span data-ttu-id="16c3e-253">Fornece a documentação completa do [!INCLUDE[ssSyncFrameLong](../../includes/sssyncframelong-md.md)] e do [!INCLUDE[sql_sync_short](../../includes/sql-sync-short-md.md)].</span><span class="sxs-lookup"><span data-stu-id="16c3e-253">Provides complete documentation for [!INCLUDE[ssSyncFrameLong](../../includes/sssyncframelong-md.md)] and [!INCLUDE[sql_sync_short](../../includes/sql-sync-short-md.md)].</span></span> <span data-ttu-id="16c3e-254">Na documentação do [!INCLUDE[sql_sync_short](../../includes/sql-sync-short-md.md)], o tópico "Como usar o controle de alterações do SQL Server" contém informações detalhadas e exemplos de código.</span><span class="sxs-lookup"><span data-stu-id="16c3e-254">In the documentation for [!INCLUDE[sql_sync_short](../../includes/sql-sync-short-md.md)], the topic "How to: Use SQL Server Change Tracking" contains detailed information and code examples.</span></span>  
  
  
## <a name="related-tasks-required"></a><span data-ttu-id="16c3e-255">Tarefas relacionadas (necessárias)</span><span class="sxs-lookup"><span data-stu-id="16c3e-255">Related Tasks (required)</span></span>  
  
|||  
|-|-|  
|<span data-ttu-id="16c3e-256">**Tarefa**</span><span class="sxs-lookup"><span data-stu-id="16c3e-256">**Task**</span></span>|<span data-ttu-id="16c3e-257">**Tópico**</span><span class="sxs-lookup"><span data-stu-id="16c3e-257">**Topic**</span></span>|  
|<span data-ttu-id="16c3e-258">Fornece uma visão geral da captura de dados de alterações.</span><span class="sxs-lookup"><span data-stu-id="16c3e-258">Provides an overview of change data capture.</span></span>|[<span data-ttu-id="16c3e-259">Sobre a captura de dados de alterações &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="16c3e-259">About Change Data Capture &#40;SQL Server&#41;</span></span>](../track-changes/about-change-data-capture-sql-server.md)|  
|<span data-ttu-id="16c3e-260">Descreve como habilitar e desabilitar a captura de dados de alterações em um banco de dados ou uma tabela.</span><span class="sxs-lookup"><span data-stu-id="16c3e-260">Describes how to enable and disable change data capture on a database or table.</span></span>|[<span data-ttu-id="16c3e-261">Habilitar e desabilitar a captura de dados de alterações &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="16c3e-261">Enable and Disable Change Data Capture &#40;SQL Server&#41;</span></span>](../track-changes/enable-and-disable-change-data-capture-sql-server.md)|  
|<span data-ttu-id="16c3e-262">Descreve como administrar e monitorar a captura de dados de alterações.</span><span class="sxs-lookup"><span data-stu-id="16c3e-262">Describes how to administer and monitor change data capture.</span></span>|[<span data-ttu-id="16c3e-263">Administrar e monitorar a captura de dados de alteração &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="16c3e-263">Administer and Monitor Change Data Capture &#40;SQL Server&#41;</span></span>](../track-changes/administer-and-monitor-change-data-capture-sql-server.md)|  
|<span data-ttu-id="16c3e-264">Descreve como trabalhar com os dados de alteração que estão disponíveis para consumidores de captura de dados de alterações.</span><span class="sxs-lookup"><span data-stu-id="16c3e-264">Describes how to work with the change data that is available to change data capture consumers.</span></span> <span data-ttu-id="16c3e-265">Este tópico abrange a validação de limites de LSN, as funções de consulta e cenários de função de consulta.</span><span class="sxs-lookup"><span data-stu-id="16c3e-265">This topic covers validating LSN boundaries, the query functions, and query function scenarios.</span></span>|[<span data-ttu-id="16c3e-266">Trabalhar com dados de alterações &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="16c3e-266">Work with Change Data &#40;SQL Server&#41;</span></span>](../track-changes/work-with-change-data-sql-server.md)|  
|<span data-ttu-id="16c3e-267">Fornece uma visão geral do controle de alterações.</span><span class="sxs-lookup"><span data-stu-id="16c3e-267">Provides an overview of change tracking.</span></span>|[<span data-ttu-id="16c3e-268">Sobre o controle de alterações &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="16c3e-268">About Change Tracking &#40;SQL Server&#41;</span></span>](../track-changes/about-change-tracking-sql-server.md)|  
|<span data-ttu-id="16c3e-269">Descreve como habilitar e desabilitar o controle de alterações em um banco de dados ou uma tabela.</span><span class="sxs-lookup"><span data-stu-id="16c3e-269">Describes how to enable and disable change tracking on a database or table.</span></span>|[<span data-ttu-id="16c3e-270">Habilitar e desabilitar o controle de alterações &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="16c3e-270">Enable and Disable Change Tracking &#40;SQL Server&#41;</span></span>](../track-changes/enable-and-disable-change-tracking-sql-server.md)|  
|<span data-ttu-id="16c3e-271">Descreve como gerenciar o controle de alterações, configurar a segurança e identificar os efeitos sobre o armazenamento e o desempenho quando você usa o controle de alterações.</span><span class="sxs-lookup"><span data-stu-id="16c3e-271">Describes how to manage change tracking, configure security, and determine the effects on storage and performance when change tracking is used.</span></span>|[<span data-ttu-id="16c3e-272">Gerenciar o controle de alterações &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="16c3e-272">Manage Change Tracking &#40;SQL Server&#41;</span></span>](../track-changes/manage-change-tracking-sql-server.md)|  
|<span data-ttu-id="16c3e-273">Descreve como os aplicativos que usam o controle de alterações podem obter as alterações controladas, aplicá-las a outro repositório de dados e atualizar o banco de dados de origem.</span><span class="sxs-lookup"><span data-stu-id="16c3e-273">Describes how applications that use change tracking can obtain tracked changes, apply these changes to another data store, and update the source database.</span></span> <span data-ttu-id="16c3e-274">Este tópico também descreve a função que o controle de alterações desempenha quando ocorre um failover e um banco de dados precisa ser restaurado de um backup.</span><span class="sxs-lookup"><span data-stu-id="16c3e-274">This topic also describes the role change tracking plays when a failover occurs and a database must be restored from a backup.</span></span>|[<span data-ttu-id="16c3e-275">Trabalhar com o controle de alterações &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="16c3e-275">Work with Change Tracking &#40;SQL Server&#41;</span></span>](../track-changes/work-with-change-tracking-sql-server.md)|  
  
## <a name="see-also"></a><span data-ttu-id="16c3e-276">Consulte Também</span><span class="sxs-lookup"><span data-stu-id="16c3e-276">See Also</span></span>  
 <span data-ttu-id="16c3e-277">[Funções de captura de dados de alteração &#40;&#41;Transact-SQL](/sql/relational-databases/system-functions/change-data-capture-functions-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="16c3e-277">[Change Data Capture Functions &#40;Transact-SQL&#41;](/sql/relational-databases/system-functions/change-data-capture-functions-transact-sql) </span></span>  
 <span data-ttu-id="16c3e-278">[Funções de Controle de Alterações &#40;&#41;de Transact-SQL](/sql/relational-databases/system-functions/change-tracking-functions-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="16c3e-278">[Change Tracking Functions &#40;Transact-SQL&#41;](/sql/relational-databases/system-functions/change-tracking-functions-transact-sql) </span></span>  
 <span data-ttu-id="16c3e-279">[Procedimentos armazenados de captura de dados de alterações &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/change-data-capture-stored-procedures-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="16c3e-279">[Change Data Capture Stored Procedures &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/change-data-capture-stored-procedures-transact-sql) </span></span>  
 <span data-ttu-id="16c3e-280">[Tabelas de captura de dados de alterações &#40;&#41;Transact-SQL](/sql/relational-databases/system-tables/change-data-capture-tables-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="16c3e-280">[Change Data Capture Tables &#40;Transact-SQL&#41;](/sql/relational-databases/system-tables/change-data-capture-tables-transact-sql) </span></span>  
 [<span data-ttu-id="16c3e-281">Exibições de gerenciamento dinâmico relacionadas à captura de dados de alterações &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="16c3e-281">Change Data Capture Related Dynamic Management Views &#40;Transact-SQL&#41;</span></span>](../views/views.md)  
  
  
