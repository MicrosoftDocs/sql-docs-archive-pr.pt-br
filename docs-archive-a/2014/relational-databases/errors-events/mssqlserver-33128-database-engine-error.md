---
title: MSSQLSERVER_33128 | Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: supportability
ms.topic: conceptual
helpviewer_keywords:
- 33128 (Database Engine error)
ms.assetid: 12c1096f-d120-439b-85f3-f794859503c9
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: 158cc609a18cf3fe7b76708e351b78263cd80a9e
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87573061"
---
# <a name="mssqlserver_33128"></a><span data-ttu-id="66528-102">MSSQLSERVER_33128</span><span class="sxs-lookup"><span data-stu-id="66528-102">MSSQLSERVER_33128</span></span>
    
## <a name="details"></a><span data-ttu-id="66528-103">Detalhes</span><span class="sxs-lookup"><span data-stu-id="66528-103">Details</span></span>  
  
|||  
|-|-|  
|<span data-ttu-id="66528-104">Nome do Produto</span><span class="sxs-lookup"><span data-stu-id="66528-104">Product Name</span></span>|<span data-ttu-id="66528-105">SQL Server</span><span class="sxs-lookup"><span data-stu-id="66528-105">SQL Server</span></span>|  
|<span data-ttu-id="66528-106">ID do evento</span><span class="sxs-lookup"><span data-stu-id="66528-106">Event ID</span></span>|<span data-ttu-id="66528-107">33128</span><span class="sxs-lookup"><span data-stu-id="66528-107">33128</span></span>|  
|<span data-ttu-id="66528-108">Origem do Evento</span><span class="sxs-lookup"><span data-stu-id="66528-108">Event Source</span></span>|<span data-ttu-id="66528-109">MSSQLSERVER</span><span class="sxs-lookup"><span data-stu-id="66528-109">MSSQLSERVER</span></span>|  
|<span data-ttu-id="66528-110">Componente</span><span class="sxs-lookup"><span data-stu-id="66528-110">Component</span></span>|<span data-ttu-id="66528-111">SQLEngine</span><span class="sxs-lookup"><span data-stu-id="66528-111">SQLEngine</span></span>|  
|<span data-ttu-id="66528-112">Nome simbólico</span><span class="sxs-lookup"><span data-stu-id="66528-112">Symbolic Name</span></span>|<span data-ttu-id="66528-113">SEC_DEPRECATED_ALGO</span><span class="sxs-lookup"><span data-stu-id="66528-113">SEC_DEPRECATED_ALGO</span></span>|  
|<span data-ttu-id="66528-114">Texto da mensagem</span><span class="sxs-lookup"><span data-stu-id="66528-114">Message Text</span></span>|<span data-ttu-id="66528-115">A criptografia falhou.</span><span class="sxs-lookup"><span data-stu-id="66528-115">Encryption failed.</span></span> <span data-ttu-id="66528-116">A chave usa um algoritmo substituído '%. \* ls' que já não tão mais suporte.</span><span class="sxs-lookup"><span data-stu-id="66528-116">Key uses deprecated algorithm '%.\*ls' which is no longer supported.</span></span>|  
  
## <a name="explanation"></a><span data-ttu-id="66528-117">Explicação</span><span class="sxs-lookup"><span data-stu-id="66528-117">Explanation</span></span>  
 <span data-ttu-id="66528-118">Essa mensagem ocorre ao referenciar o algoritmo de criptografia RC4 (ou RC4_128).</span><span class="sxs-lookup"><span data-stu-id="66528-118">This message occurs when referencing the RC4 (or RC4_128) encryption algorithm.</span></span> <span data-ttu-id="66528-119">RC4 e RC4_128 são algoritmos fracos e estão obsoletos.</span><span class="sxs-lookup"><span data-stu-id="66528-119">RC4 and RC4_128 are weak algorithms and are deprecated.</span></span> <span data-ttu-id="66528-120">Use um algoritmo mais forte; por exemplo, um dos algoritmos AES.</span><span class="sxs-lookup"><span data-stu-id="66528-120">Use a stronger algorithm such as one of the AES algorithms instead.</span></span>  
  
 <span data-ttu-id="66528-121">Quando o nível de compatibilidade do banco de dados for 90 ou 100, a operação foi bem-sucedida, o evento de substituição é lançado e a mensagem aparece somente no buffer de anéis.</span><span class="sxs-lookup"><span data-stu-id="66528-121">When the database compatibility level is 90 or 100, the operation succeeds, the deprecation event is raised, and the message appears only in the ring buffer.</span></span>  
  
 <span data-ttu-id="66528-122">Quando o nível de compatibilidade do banco de dados for 110 ou superior operação foi bem-sucedida, o evento de substituição é lançado e a mensagem aparece somente no buffer de anéis.</span><span class="sxs-lookup"><span data-stu-id="66528-122">When the database compatibility level is 110 or higher, decryption operations succeed, the deprecation event is raised, and the message appears only in the ring buffer.</span></span> <span data-ttu-id="66528-123">As operações de criptografia falharão, o evento de substituição será lançado e a mensagem será exibida para o usuário e aparecerá no buffer de anéis.</span><span class="sxs-lookup"><span data-stu-id="66528-123">Encryption operations will fail, the deprecation event is raised, and the message is displayed for the user, and the message appears in the ring buffer.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="66528-124">O buffer de anéis é um componente interno que não é totalmente documentado e não deve ser usado por clientes.</span><span class="sxs-lookup"><span data-stu-id="66528-124">The ring buffer is an internal component which is not fully documented and is not intended to be used by customers.</span></span> <span data-ttu-id="66528-125">Mensagens do buffer de anéis são úteis ao entrar em contato com o Suporte ao Cliente do [!INCLUDE[msCoName](../../includes/msconame-md.md)].</span><span class="sxs-lookup"><span data-stu-id="66528-125">Messages from the ring buffer are useful when contacting [!INCLUDE[msCoName](../../includes/msconame-md.md)] Customer Support.</span></span> <span data-ttu-id="66528-126">Para exibir o buffer de anéis, consulte a exibição de gerenciamento dinâmico sys.dm_os_ring_buffers.</span><span class="sxs-lookup"><span data-stu-id="66528-126">To view the ring buffer, query the sys.dm_os_ring_buffers dynamic management view.</span></span>  
  
|<span data-ttu-id="66528-127">Estado</span><span class="sxs-lookup"><span data-stu-id="66528-127">State</span></span>|<span data-ttu-id="66528-128">Descrição</span><span class="sxs-lookup"><span data-stu-id="66528-128">Description</span></span>|  
|-----------|-----------------|  
|<span data-ttu-id="66528-129">1</span><span class="sxs-lookup"><span data-stu-id="66528-129">1</span></span>|<span data-ttu-id="66528-130">Uma chave RC4 é usada na função encryptbykey() interna.</span><span class="sxs-lookup"><span data-stu-id="66528-130">A RC4 key is used in the built-in encryptbykey() function.</span></span> <span data-ttu-id="66528-131">Função interna retorna NULL.</span><span class="sxs-lookup"><span data-stu-id="66528-131">Built-in function returns NULL.</span></span> <span data-ttu-id="66528-132">Esta mensagem aparece somente no buffer de anéis.</span><span class="sxs-lookup"><span data-stu-id="66528-132">This message only appears in the ring buffer.</span></span>|  
|<span data-ttu-id="66528-133">2</span><span class="sxs-lookup"><span data-stu-id="66528-133">2</span></span>|<span data-ttu-id="66528-134">Uma chave RC4 é usada pela função decryptbykey() interna.</span><span class="sxs-lookup"><span data-stu-id="66528-134">A RC4 key is used in by the built-in decryptbykey() function.</span></span> <span data-ttu-id="66528-135">Esta mensagem aparece somente no buffer de anéis.</span><span class="sxs-lookup"><span data-stu-id="66528-135">This message only appears in the ring buffer.</span></span>|  
|<span data-ttu-id="66528-136">3</span><span class="sxs-lookup"><span data-stu-id="66528-136">3</span></span>|<span data-ttu-id="66528-137">Uma chave RC4 key está sendo criptografada por uma chave simétrica.</span><span class="sxs-lookup"><span data-stu-id="66528-137">A deprecated RC4 key is being encrypted by a symmetric key.</span></span> <span data-ttu-id="66528-138">Vista pelos usuários no buffer de anéis.</span><span class="sxs-lookup"><span data-stu-id="66528-138">Seen by users and in the ring buffer.</span></span> <span data-ttu-id="66528-139">As chaves simétricas RC4 preteridas não podem mais ser alteradas no nível de compatibilidade 110.</span><span class="sxs-lookup"><span data-stu-id="66528-139">Deprecated RC4 symmetric keys cannot be altered in compatibility level 110.</span></span> <span data-ttu-id="66528-140">Tente usar chaves não RC4 para operações de criptografia.</span><span class="sxs-lookup"><span data-stu-id="66528-140">Try to use non-RC4 keys for crypto operations.</span></span> <span data-ttu-id="66528-141">Se necessário, defina nível de compatibilidade com versões anteriores a um 90 ou 100.</span><span class="sxs-lookup"><span data-stu-id="66528-141">If necessary, set backward compatibility level to a 90 or 100.</span></span>|  
|<span data-ttu-id="66528-142">4</span><span class="sxs-lookup"><span data-stu-id="66528-142">4</span></span>|<span data-ttu-id="66528-143">Uma chave não RC4 key está sendo criptografada por uma chave simétrica. RC4 preterida</span><span class="sxs-lookup"><span data-stu-id="66528-143">A non-RC4 key is being encrypted by a deprecated RC4 symmetric key.</span></span> <span data-ttu-id="66528-144">Vista pelos usuários no buffer de anéis.</span><span class="sxs-lookup"><span data-stu-id="66528-144">Seen by users and in the ring buffer.</span></span> <span data-ttu-id="66528-145">Modifique o aplicativo para usar chave simétricas não RC4 ou defina o nível de compatibilidade com versões anteriores para 90 ou 100.</span><span class="sxs-lookup"><span data-stu-id="66528-145">Modify the application to use non-RC4 symmetric keys or set backward compatibility level to 90 or 100.</span></span>|  
|<span data-ttu-id="66528-146">5</span><span class="sxs-lookup"><span data-stu-id="66528-146">5</span></span>|<span data-ttu-id="66528-147">Uma chave RC4 está sendo descriptografia por uma chave simétrica.</span><span class="sxs-lookup"><span data-stu-id="66528-147">A deprecated RC4 key is being decrypted by a symmetric key.</span></span> <span data-ttu-id="66528-148">Esta mensagem aparece somente no buffer de anéis.</span><span class="sxs-lookup"><span data-stu-id="66528-148">This message only appears in the ring buffer.</span></span>|  
|<span data-ttu-id="66528-149">6</span><span class="sxs-lookup"><span data-stu-id="66528-149">6</span></span>|<span data-ttu-id="66528-150">Uma chave não RC4 está sendo descriptografada por uma chave simétrica RC4.</span><span class="sxs-lookup"><span data-stu-id="66528-150">A non-RC4 key is being decrypted by an RC4 symmetric key.</span></span> <span data-ttu-id="66528-151">Esta mensagem aparece somente no buffer de anéis.</span><span class="sxs-lookup"><span data-stu-id="66528-151">This message only appears in the ring buffer.</span></span>|  
|<span data-ttu-id="66528-152">7</span><span class="sxs-lookup"><span data-stu-id="66528-152">7</span></span>|<span data-ttu-id="66528-153">Uma chave RC4 simétrica está sendo criptografada pelo certificado.</span><span class="sxs-lookup"><span data-stu-id="66528-153">A RC4 symmetric key is being encrypted by the certificate.</span></span> <span data-ttu-id="66528-154">Vista pelos usuários no buffer de anéis.</span><span class="sxs-lookup"><span data-stu-id="66528-154">Seen by users and in the ring buffer.</span></span>|  
|<span data-ttu-id="66528-155">8</span><span class="sxs-lookup"><span data-stu-id="66528-155">8</span></span>|<span data-ttu-id="66528-156">Uma chave RC4 simétrica está sendo descriptografada pelo certificado.</span><span class="sxs-lookup"><span data-stu-id="66528-156">A RC4 symmetric key is being decrypted by the certificate.</span></span> <span data-ttu-id="66528-157">Esta mensagem aparece somente no buffer de anéis.</span><span class="sxs-lookup"><span data-stu-id="66528-157">This message only appears in the ring buffer.</span></span>|  
|<span data-ttu-id="66528-158">9</span><span class="sxs-lookup"><span data-stu-id="66528-158">9</span></span>|<span data-ttu-id="66528-159">Uma chave RC4 simétrica está sendo criptografia por uma chave EKM.</span><span class="sxs-lookup"><span data-stu-id="66528-159">A RC4 symmetric key is being encrypted by the EKM key.</span></span>|  
|<span data-ttu-id="66528-160">10</span><span class="sxs-lookup"><span data-stu-id="66528-160">10</span></span>|<span data-ttu-id="66528-161">Uma chave RC4 simétrica está sendo descriptografada por uma chave EKM.</span><span class="sxs-lookup"><span data-stu-id="66528-161">A RC4 symmetric key is being decrypted by the EKM key.</span></span> <span data-ttu-id="66528-162">Esta mensagem aparece somente no buffer de anéis.</span><span class="sxs-lookup"><span data-stu-id="66528-162">This message only appears in the ring buffer.</span></span>|  
  
## <a name="user-action"></a><span data-ttu-id="66528-163">Ação do usuário</span><span class="sxs-lookup"><span data-stu-id="66528-163">User Action</span></span>  
 <span data-ttu-id="66528-164">Use um algoritmo mais forte; por exemplo, um dos algoritmos AES.</span><span class="sxs-lookup"><span data-stu-id="66528-164">Use a stronger algorithm such as one of the AES algorithms instead.</span></span> <span data-ttu-id="66528-165">(Recomendado)</span><span class="sxs-lookup"><span data-stu-id="66528-165">(Recommended)</span></span>  
  
 <span data-ttu-id="66528-166">Use ALTER DATABASE SET COMPATIBILITY_LEVEL para definir o banco de dados com o nível de compatibilidade 100.</span><span class="sxs-lookup"><span data-stu-id="66528-166">Use ALTER DATABASE SET COMPATIBILITY_LEVEL to set the database to compatibility level 100.</span></span> <span data-ttu-id="66528-167">(Não recomendável.)</span><span class="sxs-lookup"><span data-stu-id="66528-167">(Not recommended.)</span></span>  
  
  
