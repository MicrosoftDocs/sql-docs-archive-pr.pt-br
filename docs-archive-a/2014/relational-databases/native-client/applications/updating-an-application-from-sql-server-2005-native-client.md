---
title: Atualizando um aplicativo no SQL Server 2005 Native Client | Microsoft Docs
ms.custom: ''
ms.date: 03/09/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: native-client
ms.topic: reference
helpviewer_keywords:
- SQL Server Native Client, updating applications
ms.assetid: 1e1e570c-7f14-4e16-beab-c328e3fbdaa8
author: rothja
ms.author: jroth
ms.openlocfilehash: 6db02837b854d237607eba7583d204a4860906b9
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87684166"
---
# <a name="updating-an-application-from-sql-server-2005-native-client"></a><span data-ttu-id="d7384-102">Atualizando um aplicativo no SQL Server 2005 Native Client</span><span class="sxs-lookup"><span data-stu-id="d7384-102">Updating an Application from SQL Server 2005 Native Client</span></span>
  <span data-ttu-id="d7384-103">Este tópico aborda as últimas alterações no [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Native Client desde o [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Native Client no [!INCLUDE[ssVersion2005](../../../includes/ssversion2005-md.md)].</span><span class="sxs-lookup"><span data-stu-id="d7384-103">This topic discusses the breaking changes in [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Native Client since [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Native Client in [!INCLUDE[ssVersion2005](../../../includes/ssversion2005-md.md)].</span></span>  
  
 <span data-ttu-id="d7384-104">Ao atualizar do MDAC (Microsoft Data Access Components) para o [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Native Client, você também poderá observar algumas diferenças de comportamento.</span><span class="sxs-lookup"><span data-stu-id="d7384-104">When you upgrade from Microsoft Data Access Components (MDAC) to [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Native Client, you might also see some behavior differences.</span></span> <span data-ttu-id="d7384-105">Para obter mais informações, consulte [atualizando um aplicativo para SQL Server Native Client do MDAC](updating-an-application-to-sql-server-native-client-from-mdac.md).</span><span class="sxs-lookup"><span data-stu-id="d7384-105">For more information, see [Updating an Application to SQL Server Native Client from MDAC](updating-an-application-to-sql-server-native-client-from-mdac.md).</span></span>  
  
 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] <span data-ttu-id="d7384-106">Native Client 9.0 fornecido com o [!INCLUDE[ssVersion2005](../../../includes/ssversion2005-md.md)].</span><span class="sxs-lookup"><span data-stu-id="d7384-106">Native Client 9.0 shipped with [!INCLUDE[ssVersion2005](../../../includes/ssversion2005-md.md)].</span></span> [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] <span data-ttu-id="d7384-107">Native Client 10.0 fornecido com o [!INCLUDE[ssKatmai](../../../includes/sskatmai-md.md)].</span><span class="sxs-lookup"><span data-stu-id="d7384-107">Native Client 10.0 shipped with [!INCLUDE[ssKatmai](../../../includes/sskatmai-md.md)].</span></span>  [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] <span data-ttu-id="d7384-108">Native Client 10.5 fornecido com o [!INCLUDE[ssKilimanjaro](../../../includes/sskilimanjaro-md.md)].</span><span class="sxs-lookup"><span data-stu-id="d7384-108">Native Client 10.5 shipped with [!INCLUDE[ssKilimanjaro](../../../includes/sskilimanjaro-md.md)].</span></span> [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] <span data-ttu-id="d7384-109">Native Client 11.0 fornecido com o [!INCLUDE[ssSQL11](../../../includes/sssql11-md.md)] e o [!INCLUDE[ssSQL14](../../../includes/sssql14-md.md)].</span><span class="sxs-lookup"><span data-stu-id="d7384-109">Native Client 11.0 shipped with [!INCLUDE[ssSQL11](../../../includes/sssql11-md.md)] and [!INCLUDE[ssSQL14](../../../includes/sssql14-md.md)].</span></span>  
  
|<span data-ttu-id="d7384-110">Comportamento alterado no SQL Server Native Client desde o [!INCLUDE[ssVersion2005](../../../includes/ssversion2005-md.md)]</span><span class="sxs-lookup"><span data-stu-id="d7384-110">Changed behavior in SQL Server Native Client Since [!INCLUDE[ssVersion2005](../../../includes/ssversion2005-md.md)]</span></span>|<span data-ttu-id="d7384-111">Descrição</span><span class="sxs-lookup"><span data-stu-id="d7384-111">Description</span></span>|  
|------------------------------------------------------------------------------------|-----------------|  
|<span data-ttu-id="d7384-112">O OLE DB preenche apenas até a escala definida.</span><span class="sxs-lookup"><span data-stu-id="d7384-112">OLE DB pads only to the defined scale.</span></span>|<span data-ttu-id="d7384-113">Para conversões onde os dados convertidos são enviados ao servidor, o [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Native Client (a partir do [!INCLUDE[ssKatmai](../../../includes/sskatmai-md.md)]) preenche zeros à direita nos dados apenas até o comprimento máximo dos valores de `datetime`.</span><span class="sxs-lookup"><span data-stu-id="d7384-113">For conversions where converted data is sent to the server, [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Native Client (beginning in [!INCLUDE[ssKatmai](../../../includes/sskatmai-md.md)]) pads trailing zeros in data only up to the maximum length of `datetime` values.</span></span> <span data-ttu-id="d7384-114">O SQL Server Native Client 9.0 e preenchia até nove dígitos.</span><span class="sxs-lookup"><span data-stu-id="d7384-114">SQL Server Native Client 9.0 padded to 9 digits.</span></span>|  
|<span data-ttu-id="d7384-115">Validar DBTYPE_DBTIMESTAMP para ICommandWithParameter::SetParameterInfo.</span><span class="sxs-lookup"><span data-stu-id="d7384-115">Validate DBTYPE_DBTIMESTAMP for ICommandWithParameter::SetParameterInfo.</span></span>|[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]<span data-ttu-id="d7384-116">O Native Client (a partir do [!INCLUDE[ssKatmai](../../../includes/sskatmai-md.md)] ) implementa o requisito de OLE DB para *BScale* em ICommandWithParameter:: SetParameterInfo para ser definido como a precisão de segundos fracionários para DBTYPE_DBTIMESTAMP.</span><span class="sxs-lookup"><span data-stu-id="d7384-116">Native Client (beginning in [!INCLUDE[ssKatmai](../../../includes/sskatmai-md.md)]) implements the OLE DB requirement for *bScale* in ICommandWithParameter::SetParameterInfo to be set to the fractional seconds' precision for DBTYPE_DBTIMESTAMP.</span></span>|  
|<span data-ttu-id="d7384-117">O `sp_columns` procedimento armazenado agora retorna **"no"** em vez de **"no"** para a coluna IS_NULLABLE.</span><span class="sxs-lookup"><span data-stu-id="d7384-117">The `sp_columns` stored procedure now returns **"NO"** instead of **"NO "** for the IS_NULLABLE column.</span></span>|<span data-ttu-id="d7384-118">A partir do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Native Client 10,0 ( [!INCLUDE[ssKatmai](../../../includes/sskatmai-md.md)] ), `sp_columns` o procedimento armazenado agora retorna **"no"** em vez de **"no** " para uma coluna IS_NULLABLE.</span><span class="sxs-lookup"><span data-stu-id="d7384-118">Beginning in [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Native Client 10.0 ([!INCLUDE[ssKatmai](../../../includes/sskatmai-md.md)]), `sp_columns` stored procedure now returns **"NO"** instead of **"NO "** for an IS_NULLABLE column.</span></span>|  
|<span data-ttu-id="d7384-119">SQLSetDescRec, SQLBindParameter e SQLBindCol agora executam a verificação de consistência.</span><span class="sxs-lookup"><span data-stu-id="d7384-119">SQLSetDescRec, SQLBindParameter, and SQLBindCol now perform consistency checking.</span></span>|<span data-ttu-id="d7384-120">Antes [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] do Native Client 10,0, a configuração SQL_DESC_DATA_PTR não causou uma verificação de consistência para qualquer tipo de descritor em SQLSetDescRec, SQLBindParameter ou SQLBindCol.</span><span class="sxs-lookup"><span data-stu-id="d7384-120">Prior to [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Native Client 10.0, setting SQL_DESC_DATA_PTR did not cause a consistency check for any descriptor type in SQLSetDescRec, SQLBindParameter, or SQLBindCol.</span></span>|  
|<span data-ttu-id="d7384-121">SQLCopyDesc agora faz a verificação de consistência do descritor.</span><span class="sxs-lookup"><span data-stu-id="d7384-121">SQLCopyDesc now does descriptor consistency checking.</span></span>|<span data-ttu-id="d7384-122">Antes [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] do Native Client 10,0, o SQLCopyDesc não fazia uma verificação de consistência quando o campo SQL_DESC_DATA_PTR foi definido em um registro específico.</span><span class="sxs-lookup"><span data-stu-id="d7384-122">Prior to [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Native Client 10.0, SQLCopyDesc did not do a consistency check when the SQL_DESC_DATA_PTR field was set on a particular record.</span></span>|  
|<span data-ttu-id="d7384-123">O SQLGetDescRec não faz mais uma verificação de consistência do descritor.</span><span class="sxs-lookup"><span data-stu-id="d7384-123">SQLGetDescRec no longer does a descriptor consistency check.</span></span>|<span data-ttu-id="d7384-124">Antes [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] do Native Client 10,0, o SQLGetDescRec executou uma verificação de consistência de descritor quando o campo de SQL_DESC_DATA_PTR foi definido.</span><span class="sxs-lookup"><span data-stu-id="d7384-124">Prior to [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Native Client 10.0, SQLGetDescRec performed a descriptor consistency check when the SQL_DESC_DATA_PTR field was set.</span></span> <span data-ttu-id="d7384-125">Isso não era exigido pela especificação ODBC e, no [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Native Client 10.0 ([!INCLUDE[ssKatmai](../../../includes/sskatmai-md.md)]) e em versões posteriores, essa verificação de consistência não é mais executada.</span><span class="sxs-lookup"><span data-stu-id="d7384-125">This was not required by the ODBC specification and in [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Native Client 10.0 ([!INCLUDE[ssKatmai](../../../includes/sskatmai-md.md)]) and later versions, this consistency check is no longer performed.</span></span>|  
|<span data-ttu-id="d7384-126">Erro diferente retornado quando a data está fora do intervalo.</span><span class="sxs-lookup"><span data-stu-id="d7384-126">Different error returned when date is out of range.</span></span>|<span data-ttu-id="d7384-127">Para o tipo `datetime`, um número de erro diferente será retornado pelo [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Native Client (a partir do [!INCLUDE[ssKatmai](../../../includes/sskatmai-md.md)]) para uma data fora do intervalo em relação ao número que era retornado em versões anteriores.</span><span class="sxs-lookup"><span data-stu-id="d7384-127">For the `datetime` type, a different error number will be returned by [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Native Client (beginning in [!INCLUDE[ssKatmai](../../../includes/sskatmai-md.md)]) for an out-of-range date than was returned in earlier versions.</span></span><br /><br /> <span data-ttu-id="d7384-128">Especificamente, o [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Native Client 9.0 retornava 22007 para todos os valores de ano fora do intervalo em conversões de string em `datetime`, e o [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Native Client a partir da versão 10.0 ([!INCLUDE[ssKatmai](../../../includes/sskatmai-md.md)]) retorna 22008 quando a data está dentro do intervalo aceito por `datetime2`, mas fora do intervalo aceito por `datetime` ou `smalldatetime`.</span><span class="sxs-lookup"><span data-stu-id="d7384-128">Specifically, [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Native Client 9.0 returned 22007 for all out of range year values in string conversions to `datetime`, and [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Native Client beginning with version 10.0 ([!INCLUDE[ssKatmai](../../../includes/sskatmai-md.md)]) returns 22008 when the date is within the range supported by `datetime2` but outside the range supported by `datetime` or `smalldatetime`.</span></span>|  
|<span data-ttu-id="d7384-129">O valor `datetime` trunca segundos fracionários e não arredondará se o arredondamento alterar o dia.</span><span class="sxs-lookup"><span data-stu-id="d7384-129">`datetime` value truncates fractional seconds and not round if rounding will change the day.</span></span>|<span data-ttu-id="d7384-130">Antes do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Native Client 10.0, o comportamento do cliente para valores `datetime` enviados ao servidor era arredondá-los para o 1/300º de segundo mais próximo.</span><span class="sxs-lookup"><span data-stu-id="d7384-130">Prior to [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Native Client 10.0, the client behavior for `datetime` values sent to the server is to round them to nearest 1/300th of a second.</span></span> <span data-ttu-id="d7384-131">A partir do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Native Client 10.0, esse cenário provocará um truncamento de segundos fracionários, se o arredondamento alterar o dia.</span><span class="sxs-lookup"><span data-stu-id="d7384-131">Beginning in [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Native Client 10.0, this scenario causes a truncation of fractional seconds if rounding changes the day.</span></span>|  
|<span data-ttu-id="d7384-132">Possível truncamento de segundos para `datetime` valor.</span><span class="sxs-lookup"><span data-stu-id="d7384-132">Possible trunction of seconds for `datetime` value.</span></span>|<span data-ttu-id="d7384-133">Um aplicativo compilado com o [!INCLUDE[ssKatmai](../../../includes/sskatmai-md.md)] Native Client (ou posterior) que se conecta a um servidor [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] 2005 truncará segundos e segundos fracionários na parte de hora dos dados enviados ao servidor, se for feita uma associação com uma coluna datetime com um identificador de tipo DBTYPE_DBTIMESTAMP (OLE DB) ou SQL_TIMESTAMP (ODBC) e uma escala de 0.</span><span class="sxs-lookup"><span data-stu-id="d7384-133">An application built with [!INCLUDE[ssKatmai](../../../includes/sskatmai-md.md)] Native Client (or later) that connects to a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] 2005 server will truncate seconds and fractional seconds for time portion of data sent to the server if you bind to a datetime column with a type identifier of DBTYPE_DBTIMESTAMP (OLE DB) or SQL_TIMESTAMP (ODBC) and a scale of 0.</span></span><br /><br /> <span data-ttu-id="d7384-134">Por exemplo:</span><span class="sxs-lookup"><span data-stu-id="d7384-134">For example:</span></span><br /><br /> <span data-ttu-id="d7384-135">Dados de entrada: 1994-08-21 21:21:36.000</span><span class="sxs-lookup"><span data-stu-id="d7384-135">Input data: 1994-08-21 21:21:36.000</span></span><br /><br /> <span data-ttu-id="d7384-136">Dados inseridos: 1994-08-21 21:21:00.000</span><span class="sxs-lookup"><span data-stu-id="d7384-136">Inserted data: 1994-08-21 21:21:00.000</span></span>|  
|<span data-ttu-id="d7384-137">A conversão de dados OLE DB de DBTYPE_DBTIME em DBTYPE_DATE não faz mais com que o dia seja alterado.</span><span class="sxs-lookup"><span data-stu-id="d7384-137">OLE DB data conversion from DBTYPE_DBTIME to DBTYPE_DATE no longer can cause the day to change.</span></span>|<span data-ttu-id="d7384-138">Antes do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Native Client 10.0, se a parte de hora de DBTYPE_DATE estivesse dentro de meio segundo de meia-noite, o código de conversão OLE DB fazia com que o dia fosse alterado.</span><span class="sxs-lookup"><span data-stu-id="d7384-138">Prior to [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Native Client 10.0, if the time part of a DBTYPE_DATE was within a half second of midnight, OLE DB conversion code caused the day to change.</span></span> <span data-ttu-id="d7384-139">A partir do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Native Client 10.0, o dia não será alterado (segundos fracionários são truncados e não são arredondados).</span><span class="sxs-lookup"><span data-stu-id="d7384-139">Beginning in [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Native Client 10.0, the day will not change (fractional seconds are truncated and not rounded).</span></span>|  
|<span data-ttu-id="d7384-140">Alterações de conversão de IBCPSession::BCColFmt.</span><span class="sxs-lookup"><span data-stu-id="d7384-140">IBCPSession::BCColFmt conversion changes.</span></span>|<span data-ttu-id="d7384-141">A partir do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Native Client 10,0, quando você usa IBCPSession:: BCOColFmt para converter SQLDATETIME ou SqlDateTime em um tipo de cadeia de caracteres, um valor fracionário é exportado.</span><span class="sxs-lookup"><span data-stu-id="d7384-141">Beginning in [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Native Client 10.0, when you use IBCPSession::BCOColFmt to convert SQLDATETIME or SQLDATETIME to a string type, a fractional value is exported.</span></span> <span data-ttu-id="d7384-142">Por exemplo, na conversão do tipo SQLDATETIME no tipo SQLNVARCHARMAX, versões anteriores do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Native Client retornavam</span><span class="sxs-lookup"><span data-stu-id="d7384-142">For example, when converting type SQLDATETIME to type SQLNVARCHARMAX, earlier versions of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Native Client returned</span></span><br /><br /> <span data-ttu-id="d7384-143">1989-02-01 00:00:00.</span><span class="sxs-lookup"><span data-stu-id="d7384-143">1989-02-01 00:00:00.</span></span> [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] <span data-ttu-id="d7384-144">Native Client 10.0 e versões posteriores retornam 1989-02-01 00:00:00.0000000.</span><span class="sxs-lookup"><span data-stu-id="d7384-144">Native Client 10.0 and later versions return 1989-02-01 00:00:00.0000000.</span></span>|  
|<span data-ttu-id="d7384-145">O tamanho dos dados enviados deve corresponder ao comprimento especificado em SQL_LEN_DATA_AT_EXEC.</span><span class="sxs-lookup"><span data-stu-id="d7384-145">Size of data sent must match length specified in SQL_LEN_DATA_AT_EXEC.</span></span>|<span data-ttu-id="d7384-146">Quando SQL_LEN_DATA_AT_EXEC for usado, o tamanho dos dados deverá corresponder ao comprimento especificado com SQL_LEN_DATA_AT_EXEC.</span><span class="sxs-lookup"><span data-stu-id="d7384-146">When using SQL_LEN_DATA_AT_EXEC, the size of the data must match the length that you specified with SQL_LEN_DATA_AT_EXEC.</span></span> <span data-ttu-id="d7384-147">Você pode usar SQL_DATA_AT_EXEC, mas existem benefícios de desempenho potenciais em usar SQL_LEN_DATA_AT_EXEC.</span><span class="sxs-lookup"><span data-stu-id="d7384-147">You can use SQL_DATA_AT_EXEC but there are potential performance benefits to using SQL_LEN_DATA_AT_EXEC.</span></span>|  
|<span data-ttu-id="d7384-148">Os aplicativos personalizados que usam a API BCP agora podem ver um aviso.</span><span class="sxs-lookup"><span data-stu-id="d7384-148">Custom applications that use the BCP API can now see a warning.</span></span>|<span data-ttu-id="d7384-149">A API BCP gerará uma mensagem de aviso se o comprimento dos dados for maior do que o comprimento especificado para um campo para todos os tipos.</span><span class="sxs-lookup"><span data-stu-id="d7384-149">The BCP API will generate a warning message if data length is greater than the specified length for a field for all types.</span></span> <span data-ttu-id="d7384-150">Anteriormente, esse aviso era fornecido apenas para tipos de caracteres, mas não será emitido para todos os tipos.</span><span class="sxs-lookup"><span data-stu-id="d7384-150">Previously, this warning was only given for character types, but will not be issued for all types.</span></span>|  
|<span data-ttu-id="d7384-151">Inserir uma cadeia de caracteres vazia em uma associação `sql_variant` como um tipo de data/hora gera um erro.</span><span class="sxs-lookup"><span data-stu-id="d7384-151">Inserting an empty string into a `sql_variant` bound as a date/time type generates an error.</span></span>|<span data-ttu-id="d7384-152">No [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Native Client 9.0, a inserção de uma cadeia de caracteres vazia em uma associação `sql_variant` como um tipo de data/hora não gerava um erro.</span><span class="sxs-lookup"><span data-stu-id="d7384-152">In [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Native Client 9.0, inserting an empty string into a `sql_variant` bound as a date/time type did not generate an error.</span></span> <span data-ttu-id="d7384-153">O [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Native Client 10.0 (e posterior) gera corretamente um erro nessa situação.</span><span class="sxs-lookup"><span data-stu-id="d7384-153">[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Native Client 10.0 (and later) correctly generates an error in this situation.</span></span>|  
|<span data-ttu-id="d7384-154">Validação mais rígida dos parâmetros SQL_C_TYPE _TIMESTAMP e DBTYPE_DBTIMESTAMP.</span><span class="sxs-lookup"><span data-stu-id="d7384-154">Stricter SQL_C_TYPE _TIMESTAMP and DBTYPE_DBTIMESTAMP parameter validation.</span></span>|<span data-ttu-id="d7384-155">Antes [!INCLUDE[ssKatmai](../../../includes/sskatmai-md.md)] do Native Client, `datetime` os valores eram arredondados para ajustar a escala de `datetime` e `smalldatetime` colunas por [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="d7384-155">Prior to [!INCLUDE[ssKatmai](../../../includes/sskatmai-md.md)] Native Client, `datetime` values were rounded to fit the scale of `datetime` and `smalldatetime` columns by [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="d7384-156">O [!INCLUDE[ssKatmai](../../../includes/sskatmai-md.md)] Native Client (bem como as versões posteriores) aplica as regras de validação mais rígidas que são definidas na especificação ODBC principal para segundos fracionários.</span><span class="sxs-lookup"><span data-stu-id="d7384-156">[!INCLUDE[ssKatmai](../../../includes/sskatmai-md.md)] Native Client (and later) applies the stricter validation rules that are defined in the ODBC core specification for fractional seconds.</span></span> <span data-ttu-id="d7384-157">Se não for possível converter um valor de parâmetro no tipo SQL usando a escala especificada ou implícita pela associação de cliente sem truncamento de dígitos à direita, será retornado um erro.</span><span class="sxs-lookup"><span data-stu-id="d7384-157">If a parameter value cannot be converted to the SQL type by using the scale specified or implied by the client binding without truncation of trailing digits, an error is returned.</span></span>|  
|<span data-ttu-id="d7384-158">O [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] pode retornar resultados diferentes quando um gatilho é executado.</span><span class="sxs-lookup"><span data-stu-id="d7384-158">[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] might return different results when a trigger runs.</span></span>|<span data-ttu-id="d7384-159">As alterações introduzidas no [!INCLUDE[ssKatmai](../../../includes/sskatmai-md.md)] podem fazer com que um aplicativo retorne diferentes resultados de uma instrução que causou a execução de um gatilho quando `NOCOUNT OFF` estava em vigor.</span><span class="sxs-lookup"><span data-stu-id="d7384-159">Changes introduced in [!INCLUDE[ssKatmai](../../../includes/sskatmai-md.md)] might cause an application to have different results returned from a statement that caused a trigger to run when `NOCOUNT OFF` was in effect.</span></span> <span data-ttu-id="d7384-160">Nessa situação, o aplicativo pode gerar um erro.</span><span class="sxs-lookup"><span data-stu-id="d7384-160">In this situation, your application might generate an error.</span></span> <span data-ttu-id="d7384-161">Para resolver esse erro, defina `NOCOUNT ON` no gatilho ou chame SQLMoreResults para avançar para o próximo resultado.</span><span class="sxs-lookup"><span data-stu-id="d7384-161">To resolve this error, set `NOCOUNT ON` in the trigger or call SQLMoreResults to advance to the next result.</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="d7384-162">Consulte Também</span><span class="sxs-lookup"><span data-stu-id="d7384-162">See Also</span></span>  
 [<span data-ttu-id="d7384-163">Programação do SQL Server Native Client</span><span class="sxs-lookup"><span data-stu-id="d7384-163">SQL Server Native Client Programming</span></span>](../sql-server-native-client-programming.md)  
  
  
