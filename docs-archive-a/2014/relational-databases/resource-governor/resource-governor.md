---
title: Resource Governor | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: performance
ms.topic: conceptual
helpviewer_keywords:
- Resource Governor, overview
- Resource Governor
ms.assetid: 2bc89b66-e801-45ba-b30d-8ed197052212
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: 7660446a176b9535883a001318c8f8fc981f99c1
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87680341"
---
# <a name="resource-governor"></a><span data-ttu-id="4ffce-102">Administrador de Recursos</span><span class="sxs-lookup"><span data-stu-id="4ffce-102">Resource Governor</span></span>
  <span data-ttu-id="4ffce-103">O [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Resource Governor é um recurso que você pode usar para gerenciar a carga de trabalho e o consumo de recursos do sistema do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="4ffce-103">[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Resource Governor is a feature than you can use to manage [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] workload and system resource consumption.</span></span> <span data-ttu-id="4ffce-104">O Administrador de Recursos permite que você especifique os limites na quantidade de CPU, E/S física e memória que solicitações recebidas de aplicativos podem usar.</span><span class="sxs-lookup"><span data-stu-id="4ffce-104">Resource Governor enables you to specify limits on the amount of CPU, physical IO, and memory that incoming application requests can use.</span></span>  
  
## <a name="benefits-of-resource-governor"></a><span data-ttu-id="4ffce-105">Benefícios do Administrador de Recursos</span><span class="sxs-lookup"><span data-stu-id="4ffce-105">Benefits of Resource Governor</span></span>  
 <span data-ttu-id="4ffce-106">O Administrador de Recursos permite gerenciar cargas de trabalho e recursos do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] especificando limites de consumo de recursos por solicitações de entrada.</span><span class="sxs-lookup"><span data-stu-id="4ffce-106">Resource Governor enables you to manage [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] workloads and resources by specifying limits on resource consumption by incoming requests.</span></span> <span data-ttu-id="4ffce-107">No contexto do Administrador de Recursos, carga de trabalho é um conjunto de consultas ou solicitações de tamanho similar que podem e devem, ser tratadas como uma única entidade.</span><span class="sxs-lookup"><span data-stu-id="4ffce-107">In the Resource Governor context, workload is a set of similarly sized queries or requests that can, and should be, treated as a single entity.</span></span> <span data-ttu-id="4ffce-108">Não se trata de um requisito, mas quanto mais uniforme for o padrão de uso dos recursos de uma carga de trabalho, maior a probabilidade de obter benefícios derivados do Administrador de Recursos.</span><span class="sxs-lookup"><span data-stu-id="4ffce-108">This is not a requirement, but the more uniform the resource usage pattern of a workload is, the more benefit you are likely to derive from Resource Governor.</span></span> <span data-ttu-id="4ffce-109">Limites de recurso podem ser reconfigurados em tempo real, com impacto mínimo sobre as cargas de trabalho que se encontram em execução.</span><span class="sxs-lookup"><span data-stu-id="4ffce-109">Resource limits can be reconfigured in real time with minimal impact on workloads that are executing.</span></span>  
  
 <span data-ttu-id="4ffce-110">Em um ambiente com várias cargas de trabalho distintas presentes no mesmo servidor, o Administrador de Recursos permite diferenciá-las e alocar recursos compartilhados conforme forem solicitados, segundo os limites especificados.</span><span class="sxs-lookup"><span data-stu-id="4ffce-110">In an environment where multiple distinct workloads are present on the same server, Resource Governor enables you to differentiate these workloads and allocate shared resources as they are requested, based on the limits that you specify.</span></span> <span data-ttu-id="4ffce-111">Esses recursos são CPU, E/S física e memória.</span><span class="sxs-lookup"><span data-stu-id="4ffce-111">These resources are CPU, physical IO, and memory.</span></span>  
  
 <span data-ttu-id="4ffce-112">Ao usar o Administrador de Recursos, você pode:</span><span class="sxs-lookup"><span data-stu-id="4ffce-112">By using Resource Governor, you can:</span></span>  
  
-   <span data-ttu-id="4ffce-113">Fornecer isolamento de multilocatário e de recurso em instâncias únicas do SQL Server que atendem várias cargas de trabalho cliente.</span><span class="sxs-lookup"><span data-stu-id="4ffce-113">Provide multitenancy and resource isolation on single instances of SQL Server that serve multiple client workloads.</span></span> <span data-ttu-id="4ffce-114">Ou seja, você pode dividir os recursos disponíveis em um servidor entre as cargas de trabalho e minimizar os problemas que podem ocorrer quando as cargas de trabalho disputam os recursos.</span><span class="sxs-lookup"><span data-stu-id="4ffce-114">That is, you can divide the available resources on a server among the workloads and minimize the problems that can occur when workloads compete for resources.</span></span>  
  
-   <span data-ttu-id="4ffce-115">Forneça desempenho e SLAs de suporte previsíveis para locatários de cargas de trabalho em um ambiente de várias carga de trabalho e vários usuários.</span><span class="sxs-lookup"><span data-stu-id="4ffce-115">Provide predictable performance and support SLAs for workload tenants in a multi-workload and multi-user environment.</span></span>  
  
-   <span data-ttu-id="4ffce-116">Isole e limite as consultas sem controle ou limite os recursos de E/S para operações como DBCC CHECKDB que pode saturar o subsistema de E/S e afetar negativamente outras cargas de trabalho.</span><span class="sxs-lookup"><span data-stu-id="4ffce-116">Isolate and limit runaway queries or throttle IO resources for operations such as DBCC CHECKDB that can saturate the IO subsystem and negatively impact other workloads.</span></span>  
  
-   <span data-ttu-id="4ffce-117">Adicione o controle refinado de recursos para estornos de uso de recurso e forneça a cobrança previsível para consumidores dos recursos do servidor.</span><span class="sxs-lookup"><span data-stu-id="4ffce-117">Add fine-grained resource tracking for resource usage chargebacks and provide predictable billing to the consumers of the server resources.</span></span>  
  
## <a name="resource-governor-constraints"></a><span data-ttu-id="4ffce-118">Restrições do Administrador de Recursos</span><span class="sxs-lookup"><span data-stu-id="4ffce-118">Resource Governor Constraints</span></span>  
 <span data-ttu-id="4ffce-119">Essa versão do Administrador de Recursos possui as seguintes restrições:</span><span class="sxs-lookup"><span data-stu-id="4ffce-119">This release of Resource Governor has the following constraints:</span></span>  
  
-   <span data-ttu-id="4ffce-120">O gerenciamento de recursos se limita ao [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="4ffce-120">Resource management is limited to the [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)].</span></span> <span data-ttu-id="4ffce-121">O Administrador de Recursos não pode ser usado para o [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)], o [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)]e o [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="4ffce-121">Resource Governor can not be used for [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)], [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)], and [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)].</span></span>  
  
-   <span data-ttu-id="4ffce-122">Não há monitoramento ou gerenciamento de carga de trabalho entre instâncias do SQL Server.</span><span class="sxs-lookup"><span data-stu-id="4ffce-122">There is no workload monitoring or workload management between SQL Server instances.</span></span>  
  
-   <span data-ttu-id="4ffce-123">O Administrador de Recursos pode gerenciar cargas de trabalho OLTP, mas esses tipos de consulta, normalmente de duração bastante curta, nem sempre ficam na CPU o suficiente para a aplicação de controles de largura de banda.</span><span class="sxs-lookup"><span data-stu-id="4ffce-123">Resource Governor can manage OLTP workloads but these types of queries, which are typically very short in duration, are not always on the CPU long enough to apply bandwidth controls.</span></span> <span data-ttu-id="4ffce-124">Isso pode distorcer as estatísticas retornadas quanto à porcentagem de uso da CPU.</span><span class="sxs-lookup"><span data-stu-id="4ffce-124">This may skew in the statistics returned for CPU usage %.</span></span>  
  
-   <span data-ttu-id="4ffce-125">A capacidade de administrar E/S física aplica-se apenas a operações do usuário e não a tarefas do sistema.</span><span class="sxs-lookup"><span data-stu-id="4ffce-125">The ability to govern physical IO only applies to user operations and not system tasks.</span></span> <span data-ttu-id="4ffce-126">As tarefas do sistema incluem operações de gravação no log de transações e operações de E/S do Gravador Lento.</span><span class="sxs-lookup"><span data-stu-id="4ffce-126">System tasks include write operations to the transaction log and Lazy Writer IO operations.</span></span> <span data-ttu-id="4ffce-127">O Administrador de Recursos se aplica basicamente às operações de leitura do usuário, pois a maioria das operações de gravação normalmente é executada por tarefas do sistema.</span><span class="sxs-lookup"><span data-stu-id="4ffce-127">The Resource Govenor applies primarily to user read operations because most write operations are typically performed by system tasks.</span></span>  
  
-   <span data-ttu-id="4ffce-128">Você não pode definir limites de E/S no pool de recursos interno.</span><span class="sxs-lookup"><span data-stu-id="4ffce-128">You cannot set IO thresholds on the internal resource pool.</span></span>  
  
## <a name="resource-concepts"></a><span data-ttu-id="4ffce-129">Conceitos de recurso</span><span class="sxs-lookup"><span data-stu-id="4ffce-129">Resource Concepts</span></span>  
 <span data-ttu-id="4ffce-130">Os três conceitos a seguir são fundamentais para compreensão e uso do Administrador de Recursos:</span><span class="sxs-lookup"><span data-stu-id="4ffce-130">The following three concepts are fundamental to understanding and using Resource Governor:</span></span>  
  
-   <span data-ttu-id="4ffce-131">**Pools de recursos.**</span><span class="sxs-lookup"><span data-stu-id="4ffce-131">**Resource pools.**</span></span> <span data-ttu-id="4ffce-132">O pool de recursos representa os recursos físicos do servidor.</span><span class="sxs-lookup"><span data-stu-id="4ffce-132">A resource pool, represents the physical resources of the server.</span></span> <span data-ttu-id="4ffce-133">É possível pensar no pool como uma instância virtual do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] dentro de uma instância do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="4ffce-133">You can think of a pool as a virtual [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] instance inside of a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] instance.</span></span> <span data-ttu-id="4ffce-134">Dois pools de recursos (interno e padrão) são criados quando o [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] é instalado.</span><span class="sxs-lookup"><span data-stu-id="4ffce-134">Two resource pools (internal and default) are created when [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] is installed.</span></span> <span data-ttu-id="4ffce-135">O Administrador de Recursos também oferece suporte a pools de recursos definidos pelo usuário.</span><span class="sxs-lookup"><span data-stu-id="4ffce-135">Resource Governor also supports user-defined resource pools.</span></span> <span data-ttu-id="4ffce-136">Para obter mais informações, consulte [Pool de recursos do Administrador de Recursos](resource-governor-resource-pool.md).</span><span class="sxs-lookup"><span data-stu-id="4ffce-136">For more information, see [Resource Governor Resource Pool](resource-governor-resource-pool.md).</span></span>  
  
-   <span data-ttu-id="4ffce-137">**Grupos de carga de trabalho.**</span><span class="sxs-lookup"><span data-stu-id="4ffce-137">**Workload groups.**</span></span> <span data-ttu-id="4ffce-138">Um grupo de carga de trabalho funciona como um contêiner para as solicitações de sessão que têm critérios de classificação similares.</span><span class="sxs-lookup"><span data-stu-id="4ffce-138">A workload group serves as a container for session requests that have similar classification criteria.</span></span> <span data-ttu-id="4ffce-139">Uma carga de trabalho permite o monitoramento de agregação de sessões e define políticas para as sessões.</span><span class="sxs-lookup"><span data-stu-id="4ffce-139">A workload allows for aggregate monitoring of the sessions, and defines policies for the sessions.</span></span> <span data-ttu-id="4ffce-140">Cada grupo de cargas de trabalho está em um pool de recursos.</span><span class="sxs-lookup"><span data-stu-id="4ffce-140">Each workload group is in a resource pool.</span></span> <span data-ttu-id="4ffce-141">Dois grupos de carga de trabalho (interno e padrão) são criados e mapeados para os pools de recursos correspondentes quando o [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] é instalado.</span><span class="sxs-lookup"><span data-stu-id="4ffce-141">Two workload groups (internal and default) are created and mapped to their corresponding resource pools when [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] is installed.</span></span> <span data-ttu-id="4ffce-142">O Administrador de Recursos também oferece suporte a grupos de carga de trabalho definidos pelo usuário.</span><span class="sxs-lookup"><span data-stu-id="4ffce-142">Resource Governor also supports user-defined workload groups.</span></span> <span data-ttu-id="4ffce-143">Para obter mais informações, consulte [Grupos de carga de trabalho do Administrador de Recursos](resource-governor-workload-group.md).</span><span class="sxs-lookup"><span data-stu-id="4ffce-143">For more information see, [Resource Governor Workload Group](resource-governor-workload-group.md).</span></span>  
  
-   <span data-ttu-id="4ffce-144">**Classificação.**</span><span class="sxs-lookup"><span data-stu-id="4ffce-144">**Classification.**</span></span> <span data-ttu-id="4ffce-145">O processo de Classificação atribui sessões de entrada a um grupo de cargas de trabalho baseado nas características da sessão.</span><span class="sxs-lookup"><span data-stu-id="4ffce-145">The Classification process assigns incoming sessions to a workload group based on the characteristics of the session.</span></span> <span data-ttu-id="4ffce-146">Você pode personalizar a lógica de classificação gravando uma função definida pelo usuário, chamado de função de classificador.</span><span class="sxs-lookup"><span data-stu-id="4ffce-146">You can tailor the classification logic by writing a user-defined function, called a classifier function.</span></span> <span data-ttu-id="4ffce-147">O Administrador de Recursos também oferece suporte à função de classificação definida pelo usuário para implementar as regras de classificação.</span><span class="sxs-lookup"><span data-stu-id="4ffce-147">Resource Governor also supports a classifier user-defined function for implementing classification rules.</span></span> <span data-ttu-id="4ffce-148">Para obter mais informações, consulte [Função de classificação do Administrador de Recursos](resource-governor-classifier-function.md).</span><span class="sxs-lookup"><span data-stu-id="4ffce-148">For more information, see [Resource Governor Classifier Function](resource-governor-classifier-function.md).</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="4ffce-149">O Administrador de Recursos não impõe nenhum controle em uma conexão de administrador dedicada (DAC).</span><span class="sxs-lookup"><span data-stu-id="4ffce-149">Resource Governor does not impose any controls on a dedicated administrator connection (DAC).</span></span> <span data-ttu-id="4ffce-150">Não é necessário classificar as consultas de DAC que executam no grupo de carga de trabalho interno e no pool de recursos.</span><span class="sxs-lookup"><span data-stu-id="4ffce-150">There is no need to classify DAC queries, which run in the internal workload group and resource pool.</span></span>  
  
 <span data-ttu-id="4ffce-151">No contexto do Administrador de Recursos, é possível tratar os conceitos anteriores como componentes.</span><span class="sxs-lookup"><span data-stu-id="4ffce-151">In the context of Resource Governor, you can treat the preceding concepts as components.</span></span> <span data-ttu-id="4ffce-152">A ilustração a seguir mostra esses componentes e suas relações conforme surgem no ambiente do mecanismo de banco de dados.</span><span class="sxs-lookup"><span data-stu-id="4ffce-152">The following illustration shows these components and their relationship with each other as they exist in the database engine environment.</span></span> <span data-ttu-id="4ffce-153">Do ponto de vista do processamento, o fluxo simplificado é o seguinte:</span><span class="sxs-lookup"><span data-stu-id="4ffce-153">From a processing perspective, the simplified flow is as follows:</span></span>  
  
-   <span data-ttu-id="4ffce-154">Há uma conexão de entrada para uma sessão (Sessão 1 de *n*).</span><span class="sxs-lookup"><span data-stu-id="4ffce-154">There is an incoming connection for a session (Session 1 of *n*).</span></span>  
  
-   <span data-ttu-id="4ffce-155">A sessão é classificada (Classificação).</span><span class="sxs-lookup"><span data-stu-id="4ffce-155">The session is classified (Classification).</span></span>  
  
-   <span data-ttu-id="4ffce-156">A carga de trabalho de sessão é roteada para um grupo de carga de trabalho, por exemplo, Grupo 4.</span><span class="sxs-lookup"><span data-stu-id="4ffce-156">The session workload is routed to a workload group, for example, Group 4.</span></span>  
  
-   <span data-ttu-id="4ffce-157">O grupo de carga de trabalho usa o pool de recursos ao qual está associado, por exemplo, Pool 2.</span><span class="sxs-lookup"><span data-stu-id="4ffce-157">The workload group uses the resource pool it is associated with, for example, Pool 2.</span></span>  
  
-   <span data-ttu-id="4ffce-158">O pool de recursos fornece e limita os recursos requeridos pelo aplicativo, por exemplo, Aplicativo 3.</span><span class="sxs-lookup"><span data-stu-id="4ffce-158">The resource pool provides and limits the resources required by the application, for example, Application 3.</span></span>  
  
 <span data-ttu-id="4ffce-159">![Componentes funcionais do Resource Governor](../../database-engine/media/rg-basic-funct-components.gif "Componentes funcionais do Resource Governor")</span><span class="sxs-lookup"><span data-stu-id="4ffce-159">![Resource Governor Functional Components](../../database-engine/media/rg-basic-funct-components.gif "Resource Governor Functional Components")</span></span>  
  
## <a name="resource-governor-tasks"></a><span data-ttu-id="4ffce-160">Tarefas do Administrador de Recursos</span><span class="sxs-lookup"><span data-stu-id="4ffce-160">Resource Governor Tasks</span></span>  
  
|<span data-ttu-id="4ffce-161">Descrição da tarefa</span><span class="sxs-lookup"><span data-stu-id="4ffce-161">Task Description</span></span>|<span data-ttu-id="4ffce-162">Tópico</span><span class="sxs-lookup"><span data-stu-id="4ffce-162">Topic</span></span>|  
|----------------------|-----------|  
|<span data-ttu-id="4ffce-163">Descreve como habilitar o Administrador de Recursos.</span><span class="sxs-lookup"><span data-stu-id="4ffce-163">Describes how to enable Resource Governor.</span></span>|[<span data-ttu-id="4ffce-164">Habilitar o Resource Governor</span><span class="sxs-lookup"><span data-stu-id="4ffce-164">Enable Resource Governor</span></span>](resource-governor.md)|  
|<span data-ttu-id="4ffce-165">Descreve como desabilitar o Administrador de Recursos.</span><span class="sxs-lookup"><span data-stu-id="4ffce-165">Describes how to disable Resource Governor.</span></span>|[<span data-ttu-id="4ffce-166">Desabilitar o Resource Governor</span><span class="sxs-lookup"><span data-stu-id="4ffce-166">Disable Resource Governor</span></span>](disable-resource-governor.md)|  
|<span data-ttu-id="4ffce-167">Descreve como criar, alterar e descartar um pool de recursos.</span><span class="sxs-lookup"><span data-stu-id="4ffce-167">Describes how to create, alter, and drop a resource pool.</span></span>|[<span data-ttu-id="4ffce-168">Pool de recursos do Resource Governor</span><span class="sxs-lookup"><span data-stu-id="4ffce-168">Resource Governor Resource Pool</span></span>](resource-governor-resource-pool.md)|  
|<span data-ttu-id="4ffce-169">Descreve como criar, alterar, mover e descarregar um grupo de cargas de trabalho.</span><span class="sxs-lookup"><span data-stu-id="4ffce-169">Describes how to create, alter, move, and drop a workload group.</span></span>|[<span data-ttu-id="4ffce-170">Grupos de carga de trabalho do Resource Governor</span><span class="sxs-lookup"><span data-stu-id="4ffce-170">Resource Governor Workload Group</span></span>](resource-governor-workload-group.md)|  
|<span data-ttu-id="4ffce-171">Descreve como criar e testar uma função de classificação definida pelo usuário.</span><span class="sxs-lookup"><span data-stu-id="4ffce-171">Describes how to create and test a classifier user-defined function.</span></span>|[<span data-ttu-id="4ffce-172">Função de classificação do Administrador de Recursos</span><span class="sxs-lookup"><span data-stu-id="4ffce-172">Resource Governor Classifier Function</span></span>](resource-governor-classifier-function.md)|  
|<span data-ttu-id="4ffce-173">Descreve como configurar o Administrador de Recursos usando um modelo.</span><span class="sxs-lookup"><span data-stu-id="4ffce-173">Describes how to configure Resource Governor using a template.</span></span>|[<span data-ttu-id="4ffce-174">Configurar o Resource Governor usando um modelo</span><span class="sxs-lookup"><span data-stu-id="4ffce-174">Configure Resource Governor Using a Template</span></span>](configure-resource-governor-using-a-template.md)|  
|<span data-ttu-id="4ffce-175">Descreve como exibir as propriedades do Administrador de Recursos.</span><span class="sxs-lookup"><span data-stu-id="4ffce-175">Describes how to view Resource Governor properties.</span></span>|[<span data-ttu-id="4ffce-176">Exibir Propriedades do Administrador de Recursos</span><span class="sxs-lookup"><span data-stu-id="4ffce-176">View Resource Governor Properties</span></span>](view-resource-governor-properties.md)|  
  
## <a name="see-also"></a><span data-ttu-id="4ffce-177">Consulte Também</span><span class="sxs-lookup"><span data-stu-id="4ffce-177">See Also</span></span>  
 [<span data-ttu-id="4ffce-178">Instâncias do mecanismo de banco de dados &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="4ffce-178">Database Engine Instances &#40;SQL Server&#41;</span></span>](../../database-engine/configure-windows/database-engine-instances-sql-server.md)  
  
  
