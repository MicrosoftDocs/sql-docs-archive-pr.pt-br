---
title: Classe de evento Broker:Conversation | Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: supportability
ms.topic: conceptual
topic_type:
- apiref
helpviewer_keywords:
- Broker:Conversation event class
ms.assetid: 784707b5-cc67-46a3-8ae6-8f8ecf4b27c0
author: stevestein
ms.author: sstein
ms.openlocfilehash: 921b23c6aab8be27534d67d7a85bd7adc8258409
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87683532"
---
# <a name="brokerconversation-event-class"></a><span data-ttu-id="3e529-102">Classe de evento Broker:Conversation</span><span class="sxs-lookup"><span data-stu-id="3e529-102">Broker:Conversation Event Class</span></span>
  [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="3e529-103">gera uma classe de evento **Broker:Conversa** para relatar o progresso de uma conversa do Agente de Serviços.</span><span class="sxs-lookup"><span data-stu-id="3e529-103">generates a **Broker:Conversation** event to report the progress of a Service Broker conversation.</span></span>  
  
## <a name="brokerconversation-event-class-data-columns"></a><span data-ttu-id="3e529-104">Colunas de dados da classe de evento Broker:Conversation</span><span class="sxs-lookup"><span data-stu-id="3e529-104">Broker:Conversation Event Class Data Columns</span></span>  
  
|<span data-ttu-id="3e529-105">Coluna de dados</span><span class="sxs-lookup"><span data-stu-id="3e529-105">Data column</span></span>|<span data-ttu-id="3e529-106">Type</span><span class="sxs-lookup"><span data-stu-id="3e529-106">Type</span></span>|<span data-ttu-id="3e529-107">DESCRIÇÃO</span><span class="sxs-lookup"><span data-stu-id="3e529-107">Description</span></span>|<span data-ttu-id="3e529-108">Número da coluna</span><span class="sxs-lookup"><span data-stu-id="3e529-108">Column number</span></span>|<span data-ttu-id="3e529-109">Filtrável</span><span class="sxs-lookup"><span data-stu-id="3e529-109">Filterable</span></span>|  
|-----------------|----------|-----------------|-------------------|----------------|  
|<span data-ttu-id="3e529-110">**ApplicationName**</span><span class="sxs-lookup"><span data-stu-id="3e529-110">**ApplicationName**</span></span>|`nvarchar`|<span data-ttu-id="3e529-111">O nome do aplicativo cliente que criou a conexão com uma instância do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="3e529-111">The name of the client application that created the connection to an instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="3e529-112">Essa coluna é populada com os valores transmitidos pelo aplicativo e não com o nome exibido do programa.</span><span class="sxs-lookup"><span data-stu-id="3e529-112">This column is populated with the values passed by the application instead of the displayed name of the program.</span></span>|<span data-ttu-id="3e529-113">10</span><span class="sxs-lookup"><span data-stu-id="3e529-113">10</span></span>|<span data-ttu-id="3e529-114">Sim</span><span class="sxs-lookup"><span data-stu-id="3e529-114">Yes</span></span>|  
|<span data-ttu-id="3e529-115">**ClientProcessID**</span><span class="sxs-lookup"><span data-stu-id="3e529-115">**ClientProcessID**</span></span>|`int`|<span data-ttu-id="3e529-116">A ID atribuída pelo computador host ao processo em que está sendo executado o aplicativo cliente.</span><span class="sxs-lookup"><span data-stu-id="3e529-116">The ID assigned by the host computer to the process where the client application is running.</span></span> <span data-ttu-id="3e529-117">Essa coluna de dados será populada se a ID do processo do cliente for fornecida pelo cliente.</span><span class="sxs-lookup"><span data-stu-id="3e529-117">This data column is populated if the client process ID is provided by the client.</span></span>|<span data-ttu-id="3e529-118">9</span><span class="sxs-lookup"><span data-stu-id="3e529-118">9</span></span>|<span data-ttu-id="3e529-119">Sim</span><span class="sxs-lookup"><span data-stu-id="3e529-119">Yes</span></span>|  
|<span data-ttu-id="3e529-120">**DatabaseID**</span><span class="sxs-lookup"><span data-stu-id="3e529-120">**DatabaseID**</span></span>|`int`|<span data-ttu-id="3e529-121">A ID do banco de dados que é especificada pela instrução de *banco de dados* USE.</span><span class="sxs-lookup"><span data-stu-id="3e529-121">The ID of the database that is specified by the USE *database* statement.</span></span> <span data-ttu-id="3e529-122">A ID do banco de dados padrão, se nenhuma instrução de *banco de dados*USE tiver sido emitida.</span><span class="sxs-lookup"><span data-stu-id="3e529-122">If no USE *database*statement has been issued, the ID of the default database.</span></span> [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)] <span data-ttu-id="3e529-123">exibirá o nome do banco de dados se a coluna de dados **ServerName** for capturada no rastreamento e o servidor estiver disponível.</span><span class="sxs-lookup"><span data-stu-id="3e529-123">displays the name of the database if the **ServerName** data column is captured in the trace and the server is available.</span></span> <span data-ttu-id="3e529-124">Determine o valor de um banco de dados usando a função **DB_ID** .</span><span class="sxs-lookup"><span data-stu-id="3e529-124">Determine the value for a database by using the **DB_ID** function.</span></span>|<span data-ttu-id="3e529-125">3</span><span class="sxs-lookup"><span data-stu-id="3e529-125">3</span></span>|<span data-ttu-id="3e529-126">Sim</span><span class="sxs-lookup"><span data-stu-id="3e529-126">Yes</span></span>|  
|<span data-ttu-id="3e529-127">**EventClass**</span><span class="sxs-lookup"><span data-stu-id="3e529-127">**EventClass**</span></span>|`int`|<span data-ttu-id="3e529-128">O tipo de classe de evento capturado.</span><span class="sxs-lookup"><span data-stu-id="3e529-128">The type of event class captured.</span></span> <span data-ttu-id="3e529-129">Sempre **124** para **Broker:Conversa**.</span><span class="sxs-lookup"><span data-stu-id="3e529-129">Always **124** for **Broker:Conversation**.</span></span>|<span data-ttu-id="3e529-130">27</span><span class="sxs-lookup"><span data-stu-id="3e529-130">27</span></span>|<span data-ttu-id="3e529-131">Não</span><span class="sxs-lookup"><span data-stu-id="3e529-131">No</span></span>|  
|<span data-ttu-id="3e529-132">**EventSequence**</span><span class="sxs-lookup"><span data-stu-id="3e529-132">**EventSequence**</span></span>|`int`|<span data-ttu-id="3e529-133">Número de sequência para esse evento.</span><span class="sxs-lookup"><span data-stu-id="3e529-133">Sequence number for this event.</span></span>|<span data-ttu-id="3e529-134">51</span><span class="sxs-lookup"><span data-stu-id="3e529-134">51</span></span>|<span data-ttu-id="3e529-135">Não</span><span class="sxs-lookup"><span data-stu-id="3e529-135">No</span></span>|  
|<span data-ttu-id="3e529-136">**EventSubClass**</span><span class="sxs-lookup"><span data-stu-id="3e529-136">**EventSubClass**</span></span>|`nvarchar`|<span data-ttu-id="3e529-137">O tipo de subclasse de evento.</span><span class="sxs-lookup"><span data-stu-id="3e529-137">The type of event subclass.</span></span> <span data-ttu-id="3e529-138">Esse tipo fornece mais informações sobre cada classe de evento.</span><span class="sxs-lookup"><span data-stu-id="3e529-138">This provides more information about each event class.</span></span>|<span data-ttu-id="3e529-139">21</span><span class="sxs-lookup"><span data-stu-id="3e529-139">21</span></span>|<span data-ttu-id="3e529-140">Sim</span><span class="sxs-lookup"><span data-stu-id="3e529-140">Yes</span></span>|  
|<span data-ttu-id="3e529-141">**GUID**</span><span class="sxs-lookup"><span data-stu-id="3e529-141">**GUID**</span></span>|`uniqueidentifier`|<span data-ttu-id="3e529-142">A identificação de conversa do diálogo.</span><span class="sxs-lookup"><span data-stu-id="3e529-142">The conversation ID of the dialog.</span></span> <span data-ttu-id="3e529-143">Esse identificador é transmitido como parte da mensagem e é compartilhado por ambos os lados da conversa.</span><span class="sxs-lookup"><span data-stu-id="3e529-143">This identifier is transmitted as part of the message, and is shared between both sides of the conversation.</span></span>|<span data-ttu-id="3e529-144">54</span><span class="sxs-lookup"><span data-stu-id="3e529-144">54</span></span>|<span data-ttu-id="3e529-145">Não</span><span class="sxs-lookup"><span data-stu-id="3e529-145">No</span></span>|  
|<span data-ttu-id="3e529-146">**HostName**</span><span class="sxs-lookup"><span data-stu-id="3e529-146">**HostName**</span></span>|`nvarchar`|<span data-ttu-id="3e529-147">O nome do computador no qual o cliente está sendo executado.</span><span class="sxs-lookup"><span data-stu-id="3e529-147">The name of the computer on which the client is running.</span></span> <span data-ttu-id="3e529-148">Essa coluna de dados será populada se o nome do host for fornecido pelo cliente.</span><span class="sxs-lookup"><span data-stu-id="3e529-148">This data column is populated if the host name is provided by the client.</span></span> <span data-ttu-id="3e529-149">Para determinar o nome do host, use a função **HOST_NAME** .</span><span class="sxs-lookup"><span data-stu-id="3e529-149">To determine the host name, use the **HOST_NAME** function.</span></span>|<span data-ttu-id="3e529-150">8</span><span class="sxs-lookup"><span data-stu-id="3e529-150">8</span></span>|<span data-ttu-id="3e529-151">Sim</span><span class="sxs-lookup"><span data-stu-id="3e529-151">Yes</span></span>|  
|<span data-ttu-id="3e529-152">**IsSystem**</span><span class="sxs-lookup"><span data-stu-id="3e529-152">**IsSystem**</span></span>|`int`|<span data-ttu-id="3e529-153">Indica se o evento ocorreu em um processo do sistema ou do usuário.</span><span class="sxs-lookup"><span data-stu-id="3e529-153">Indicates whether the event occurred on a system process or a user process.</span></span><br /><br /> <span data-ttu-id="3e529-154">0 = usuário</span><span class="sxs-lookup"><span data-stu-id="3e529-154">0 = user</span></span><br /><br /> <span data-ttu-id="3e529-155">1 = sistema</span><span class="sxs-lookup"><span data-stu-id="3e529-155">1 = system</span></span>|<span data-ttu-id="3e529-156">60</span><span class="sxs-lookup"><span data-stu-id="3e529-156">60</span></span>|<span data-ttu-id="3e529-157">Não</span><span class="sxs-lookup"><span data-stu-id="3e529-157">No</span></span>|  
|<span data-ttu-id="3e529-158">**LoginSid**</span><span class="sxs-lookup"><span data-stu-id="3e529-158">**LoginSid**</span></span>|`image`|<span data-ttu-id="3e529-159">Número SID (identificação de segurança) do usuário que fez logon.</span><span class="sxs-lookup"><span data-stu-id="3e529-159">The security identification number (SID) of the logged-in user.</span></span> <span data-ttu-id="3e529-160">Cada SID é exclusivo para cada logon no servidor.</span><span class="sxs-lookup"><span data-stu-id="3e529-160">Each SID is unique for each login in the server.</span></span>|<span data-ttu-id="3e529-161">41</span><span class="sxs-lookup"><span data-stu-id="3e529-161">41</span></span>|<span data-ttu-id="3e529-162">Sim</span><span class="sxs-lookup"><span data-stu-id="3e529-162">Yes</span></span>|  
|<span data-ttu-id="3e529-163">**MethodName**</span><span class="sxs-lookup"><span data-stu-id="3e529-163">**MethodName**</span></span>|`nvarchar`|<span data-ttu-id="3e529-164">O grupo de conversa ao qual a conversa pertence.</span><span class="sxs-lookup"><span data-stu-id="3e529-164">The conversation group that the conversation belongs to.</span></span>|<span data-ttu-id="3e529-165">47</span><span class="sxs-lookup"><span data-stu-id="3e529-165">47</span></span>|<span data-ttu-id="3e529-166">Não</span><span class="sxs-lookup"><span data-stu-id="3e529-166">No</span></span>|  
|<span data-ttu-id="3e529-167">**NTDomainName**</span><span class="sxs-lookup"><span data-stu-id="3e529-167">**NTDomainName**</span></span>|`nvarchar`|<span data-ttu-id="3e529-168">O domínio do Windows ao qual o usuário pertence.</span><span class="sxs-lookup"><span data-stu-id="3e529-168">The Windows domain to which the user belongs.</span></span>|<span data-ttu-id="3e529-169">7</span><span class="sxs-lookup"><span data-stu-id="3e529-169">7</span></span>|<span data-ttu-id="3e529-170">Sim</span><span class="sxs-lookup"><span data-stu-id="3e529-170">Yes</span></span>|  
|<span data-ttu-id="3e529-171">**NTUserName**</span><span class="sxs-lookup"><span data-stu-id="3e529-171">**NTUserName**</span></span>|`nvarchar`|<span data-ttu-id="3e529-172">O nome do usuário proprietário da conexão que gerou este evento.</span><span class="sxs-lookup"><span data-stu-id="3e529-172">The name of the user that owns the connection that generated this event.</span></span>|<span data-ttu-id="3e529-173">6</span><span class="sxs-lookup"><span data-stu-id="3e529-173">6</span></span>|<span data-ttu-id="3e529-174">Sim</span><span class="sxs-lookup"><span data-stu-id="3e529-174">Yes</span></span>|  
|<span data-ttu-id="3e529-175">**ObjectName**</span><span class="sxs-lookup"><span data-stu-id="3e529-175">**ObjectName**</span></span>|`nvarchar`|<span data-ttu-id="3e529-176">O identificador de conversa do diálogo.</span><span class="sxs-lookup"><span data-stu-id="3e529-176">The conversation handle of the dialog.</span></span>|<span data-ttu-id="3e529-177">34</span><span class="sxs-lookup"><span data-stu-id="3e529-177">34</span></span>|<span data-ttu-id="3e529-178">Não</span><span class="sxs-lookup"><span data-stu-id="3e529-178">No</span></span>|  
|<span data-ttu-id="3e529-179">**Prioridade**</span><span class="sxs-lookup"><span data-stu-id="3e529-179">**Priority**</span></span>|`int`|<span data-ttu-id="3e529-180">O nível de prioridade da conversa.</span><span class="sxs-lookup"><span data-stu-id="3e529-180">The priority level of the conversation</span></span>|<span data-ttu-id="3e529-181">5</span><span class="sxs-lookup"><span data-stu-id="3e529-181">5</span></span>|<span data-ttu-id="3e529-182">Sim</span><span class="sxs-lookup"><span data-stu-id="3e529-182">Yes</span></span>|  
|<span data-ttu-id="3e529-183">**RoleName**</span><span class="sxs-lookup"><span data-stu-id="3e529-183">**RoleName**</span></span>|`nvarchar`|<span data-ttu-id="3e529-184">A função do identificador de conversa.</span><span class="sxs-lookup"><span data-stu-id="3e529-184">The role of the conversation handle.</span></span> <span data-ttu-id="3e529-185">É **initiator** (iniciador) ou **target**(destino).</span><span class="sxs-lookup"><span data-stu-id="3e529-185">This is either **initiator** or **target**.</span></span>|<span data-ttu-id="3e529-186">38</span><span class="sxs-lookup"><span data-stu-id="3e529-186">38</span></span>|<span data-ttu-id="3e529-187">Não</span><span class="sxs-lookup"><span data-stu-id="3e529-187">No</span></span>|  
|<span data-ttu-id="3e529-188">**ServerName**</span><span class="sxs-lookup"><span data-stu-id="3e529-188">**ServerName**</span></span>|`nvarchar`|<span data-ttu-id="3e529-189">O nome da instância do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] que está sendo rastreada.</span><span class="sxs-lookup"><span data-stu-id="3e529-189">The name of the instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] that is being traced.</span></span>|<span data-ttu-id="3e529-190">26</span><span class="sxs-lookup"><span data-stu-id="3e529-190">26</span></span>|<span data-ttu-id="3e529-191">Não</span><span class="sxs-lookup"><span data-stu-id="3e529-191">No</span></span>|  
|<span data-ttu-id="3e529-192">**Gravidade**</span><span class="sxs-lookup"><span data-stu-id="3e529-192">**Severity**</span></span>|`int`|<span data-ttu-id="3e529-193">A severidade do erro do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , se esse evento informar um erro.</span><span class="sxs-lookup"><span data-stu-id="3e529-193">The [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] error severity, if this event reports an error.</span></span>|<span data-ttu-id="3e529-194">29</span><span class="sxs-lookup"><span data-stu-id="3e529-194">29</span></span>|<span data-ttu-id="3e529-195">Não</span><span class="sxs-lookup"><span data-stu-id="3e529-195">No</span></span>|  
|<span data-ttu-id="3e529-196">**SPID**</span><span class="sxs-lookup"><span data-stu-id="3e529-196">**SPID**</span></span>|`int`|<span data-ttu-id="3e529-197">A identificação de processo do servidor atribuída pelo [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] ao processo associado ao cliente.</span><span class="sxs-lookup"><span data-stu-id="3e529-197">The server process ID that is assigned by [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] to the process that is associated with the client.</span></span>|<span data-ttu-id="3e529-198">12</span><span class="sxs-lookup"><span data-stu-id="3e529-198">12</span></span>|<span data-ttu-id="3e529-199">Sim</span><span class="sxs-lookup"><span data-stu-id="3e529-199">Yes</span></span>|  
|<span data-ttu-id="3e529-200">**StartTime**</span><span class="sxs-lookup"><span data-stu-id="3e529-200">**StartTime**</span></span>|`datetime`|<span data-ttu-id="3e529-201">Horário de início do evento, quando disponível.</span><span class="sxs-lookup"><span data-stu-id="3e529-201">The time when the event started, when available.</span></span>|<span data-ttu-id="3e529-202">14</span><span class="sxs-lookup"><span data-stu-id="3e529-202">14</span></span>|<span data-ttu-id="3e529-203">Sim</span><span class="sxs-lookup"><span data-stu-id="3e529-203">Yes</span></span>|  
|<span data-ttu-id="3e529-204">**TextData**</span><span class="sxs-lookup"><span data-stu-id="3e529-204">**TextData**</span></span>|`ntext`|<span data-ttu-id="3e529-205">O estado atual da conversa.</span><span class="sxs-lookup"><span data-stu-id="3e529-205">The current state of the conversation.</span></span> <span data-ttu-id="3e529-206">Um dos seguintes:</span><span class="sxs-lookup"><span data-stu-id="3e529-206">One of the following:</span></span><br /><br /> <span data-ttu-id="3e529-207">**Portanto**.</span><span class="sxs-lookup"><span data-stu-id="3e529-207">**SO**.</span></span> <span data-ttu-id="3e529-208">Saída iniciada.</span><span class="sxs-lookup"><span data-stu-id="3e529-208">Started outbound.</span></span> [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="3e529-209">processou um BEGIN CONVERSATION para esta conversa, mas nenhuma mensagem foi enviada.</span><span class="sxs-lookup"><span data-stu-id="3e529-209">processed a BEGIN CONVERSATION for this conversation, but no messages have been sent.</span></span><br /><br /> <span data-ttu-id="3e529-210">**Si**.</span><span class="sxs-lookup"><span data-stu-id="3e529-210">**SI**.</span></span> <span data-ttu-id="3e529-211">Entrada iniciada.</span><span class="sxs-lookup"><span data-stu-id="3e529-211">Started inbound.</span></span> <span data-ttu-id="3e529-212">Outra instância do [!INCLUDE[ssDE](../../includes/ssde-md.md)] iniciou uma nova conversa com a instância atual, mas a instância atual não terminou de receber a primeira mensagem.</span><span class="sxs-lookup"><span data-stu-id="3e529-212">Another instance of the [!INCLUDE[ssDE](../../includes/ssde-md.md)] started a new conversation with the current instance, but the current instance has not finished receiving the first message.</span></span> [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="3e529-213">poderá criar a conversa neste estado se a primeira mensagem estiver fragmentada ou se o [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] receber mensagens fora de ordem.</span><span class="sxs-lookup"><span data-stu-id="3e529-213">might create the conversation in this state if the first message is fragmented or [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] receives messages out of order.</span></span> <span data-ttu-id="3e529-214">Entretanto, o [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] poderá criar a conversa no estado CO se a primeira transmissão recebida para a conversa contiver a primeira mensagem completa.</span><span class="sxs-lookup"><span data-stu-id="3e529-214">However, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] might create the conversation in the CO state if the first transmission that was received for the conversation contains the complete first message.</span></span><br /><br /> <span data-ttu-id="3e529-215">**Co**.</span><span class="sxs-lookup"><span data-stu-id="3e529-215">**CO**.</span></span> <span data-ttu-id="3e529-216">Conversando.</span><span class="sxs-lookup"><span data-stu-id="3e529-216">Conversing.</span></span> <span data-ttu-id="3e529-217">A conversa foi estabelecida, e ambos os lados da conversa podem enviar mensagens.</span><span class="sxs-lookup"><span data-stu-id="3e529-217">The conversation is established, and both sides of the conversation can send messages.</span></span> <span data-ttu-id="3e529-218">A maioria das comunicações de um serviço típico acontece quando a conversa está nesse estado.</span><span class="sxs-lookup"><span data-stu-id="3e529-218">Most communication for a typical service happens when the conversation is in this state.</span></span><br /><br /> <span data-ttu-id="3e529-219">**Di**.</span><span class="sxs-lookup"><span data-stu-id="3e529-219">**DI**.</span></span> <span data-ttu-id="3e529-220">Entrada desconectada.</span><span class="sxs-lookup"><span data-stu-id="3e529-220">Disconnected inbound.</span></span> <span data-ttu-id="3e529-221">O lado remoto da conversa emitiu uma instrução END CONVERSATION.</span><span class="sxs-lookup"><span data-stu-id="3e529-221">The remote side of the conversation has issued an END CONVERSATION.</span></span> <span data-ttu-id="3e529-222">A conversa permanecerá nesse estado até o lado local emitir uma instrução END CONVERSATION.</span><span class="sxs-lookup"><span data-stu-id="3e529-222">The conversation remains in this state until the local side of the conversation issues an END CONVERSATION.</span></span> <span data-ttu-id="3e529-223">Um aplicativo ainda pode receber mensagens para a conversa.</span><span class="sxs-lookup"><span data-stu-id="3e529-223">An application can still receive messages for the conversation.</span></span> <span data-ttu-id="3e529-224">Como o lado remoto da conversa encerrou a conversa, um aplicativo não pode enviar mensagens nesta conversa.</span><span class="sxs-lookup"><span data-stu-id="3e529-224">Because the remote side of the conversation has ended the conversation, an application cannot send messages on this conversation.</span></span> <span data-ttu-id="3e529-225">Quando um aplicativo emite uma instrução END CONVERSATION, a conversa passa para o estado fechado (CD).</span><span class="sxs-lookup"><span data-stu-id="3e529-225">When an application issues an END CONVERSATION, the conversation moves to the Closed (CD) state.</span></span><br /><br /> <span data-ttu-id="3e529-226">**Fazer**.</span><span class="sxs-lookup"><span data-stu-id="3e529-226">**DO**.</span></span> <span data-ttu-id="3e529-227">Saída desconectada.</span><span class="sxs-lookup"><span data-stu-id="3e529-227">Disconnected outbound.</span></span> <span data-ttu-id="3e529-228">O lado local da conversa emitiu uma instrução END CONVERSATION.</span><span class="sxs-lookup"><span data-stu-id="3e529-228">The local side of the conversation has issued an END CONVERSATION.</span></span> <span data-ttu-id="3e529-229">A conversa permanecerá neste estado até o lado remoto da conversa reconhecer a instrução END CONVERSATION.</span><span class="sxs-lookup"><span data-stu-id="3e529-229">The conversation remains in this state until the remote side of the conversation acknowledges the END CONVERSATION.</span></span> <span data-ttu-id="3e529-230">Um aplicativo não pode enviar ou receber mensagens para a conversa.</span><span class="sxs-lookup"><span data-stu-id="3e529-230">An application cannot send or receive messages for the conversation.</span></span> <span data-ttu-id="3e529-231">Quando o lado remoto da conversa reconhece a instrução END CONVERSATION, a conversa passa para o estado fechado (CD).</span><span class="sxs-lookup"><span data-stu-id="3e529-231">When the remote side of the conversation acknowledges the END CONVERSATION, the conversation moves to the Closed (CD) state.</span></span><br /><br /> <span data-ttu-id="3e529-232">**Er**.</span><span class="sxs-lookup"><span data-stu-id="3e529-232">**ER**.</span></span> <span data-ttu-id="3e529-233">Erro.</span><span class="sxs-lookup"><span data-stu-id="3e529-233">Error.</span></span> <span data-ttu-id="3e529-234">Ocorreu um erro neste ponto de extremidade.</span><span class="sxs-lookup"><span data-stu-id="3e529-234">An error has occurred on this endpoint.</span></span> <span data-ttu-id="3e529-235">As colunas de erro, severidade e estado contêm informações sobre o erro específico que ocorreu.</span><span class="sxs-lookup"><span data-stu-id="3e529-235">The Error, Severity, and State columns contain information about the specific error that occurred.</span></span><br /><br /> <span data-ttu-id="3e529-236">**CD**.</span><span class="sxs-lookup"><span data-stu-id="3e529-236">**CD**.</span></span> <span data-ttu-id="3e529-237">Fechado.</span><span class="sxs-lookup"><span data-stu-id="3e529-237">Closed.</span></span> <span data-ttu-id="3e529-238">O ponto de extremidade da conversa não está mais em uso.</span><span class="sxs-lookup"><span data-stu-id="3e529-238">The conversation endpoint is no longer in use.</span></span>|<span data-ttu-id="3e529-239">1</span><span class="sxs-lookup"><span data-stu-id="3e529-239">1</span></span>|<span data-ttu-id="3e529-240">Sim</span><span class="sxs-lookup"><span data-stu-id="3e529-240">Yes</span></span>|  
|<span data-ttu-id="3e529-241">**ID da transação**</span><span class="sxs-lookup"><span data-stu-id="3e529-241">**Transaction ID**</span></span>|`bigint`|<span data-ttu-id="3e529-242">ID da transação atribuída pelo sistema.</span><span class="sxs-lookup"><span data-stu-id="3e529-242">The system-assigned ID of the transaction.</span></span>|<span data-ttu-id="3e529-243">4</span><span class="sxs-lookup"><span data-stu-id="3e529-243">4</span></span>|<span data-ttu-id="3e529-244">Não</span><span class="sxs-lookup"><span data-stu-id="3e529-244">No</span></span>|  
  
 <span data-ttu-id="3e529-245">A tabela a seguir lista os valores de subclasse para essa classe de evento.</span><span class="sxs-lookup"><span data-stu-id="3e529-245">The following table lists the subclass values for this event class.</span></span>  
  
|<span data-ttu-id="3e529-246">ID</span><span class="sxs-lookup"><span data-stu-id="3e529-246">ID</span></span>|<span data-ttu-id="3e529-247">Subclasse</span><span class="sxs-lookup"><span data-stu-id="3e529-247">Subclass</span></span>|<span data-ttu-id="3e529-248">Descrição</span><span class="sxs-lookup"><span data-stu-id="3e529-248">Description</span></span>|  
|--------|--------------|-----------------|  
|<span data-ttu-id="3e529-249">1</span><span class="sxs-lookup"><span data-stu-id="3e529-249">1</span></span>|<span data-ttu-id="3e529-250">SEND Message</span><span class="sxs-lookup"><span data-stu-id="3e529-250">SEND Message</span></span>|[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]<span data-ttu-id="3e529-251">gera um evento de **envio de mensagem** quando o [!INCLUDE[ssDE](../../includes/ssde-md.md)] executa uma instrução Send.</span><span class="sxs-lookup"><span data-stu-id="3e529-251">generates a **SEND Message** event when the [!INCLUDE[ssDE](../../includes/ssde-md.md)] executes a SEND statement.</span></span>|  
|<span data-ttu-id="3e529-252">2</span><span class="sxs-lookup"><span data-stu-id="3e529-252">2</span></span>|<span data-ttu-id="3e529-253">END CONVERSATION</span><span class="sxs-lookup"><span data-stu-id="3e529-253">END CONVERSATION</span></span>|[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]<span data-ttu-id="3e529-254">gera um evento **END CONVERSATION** quando o [!INCLUDE[ssDE](../../includes/ssde-md.md)] executa uma instrução END CONVERSATION que não inclui a cláusula WITH ERROR.</span><span class="sxs-lookup"><span data-stu-id="3e529-254">generates an **END CONVERSATION** event when the [!INCLUDE[ssDE](../../includes/ssde-md.md)] executes an END CONVERSATION statement that does not include the WITH ERROR clause.</span></span>|  
|<span data-ttu-id="3e529-255">3</span><span class="sxs-lookup"><span data-stu-id="3e529-255">3</span></span>|<span data-ttu-id="3e529-256">END CONVERSATION WITH ERROR</span><span class="sxs-lookup"><span data-stu-id="3e529-256">END CONVERSATION WITH ERROR</span></span>|[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]<span data-ttu-id="3e529-257">gera um evento **END CONVERSATION WITH ERROR** quando o [!INCLUDE[ssDE](../../includes/ssde-md.md)] executa uma instrução END CONVERSATION que inclui a cláusula WITH ERROR.</span><span class="sxs-lookup"><span data-stu-id="3e529-257">generates an **END CONVERSATION WITH ERROR** event when the [!INCLUDE[ssDE](../../includes/ssde-md.md)] executes an END CONVERSATION statement that includes the WITH ERROR clause.</span></span>|  
|<span data-ttu-id="3e529-258">4</span><span class="sxs-lookup"><span data-stu-id="3e529-258">4</span></span>|<span data-ttu-id="3e529-259">Broker Initiated Error</span><span class="sxs-lookup"><span data-stu-id="3e529-259">Broker Initiated Error</span></span>|[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]<span data-ttu-id="3e529-260">gera um evento de **erro iniciado pelo agente** sempre que [!INCLUDE[ssSB](../../includes/sssb-md.md)] o cria uma mensagem de erro.</span><span class="sxs-lookup"><span data-stu-id="3e529-260">generates a **Broker Initiated Error** event whenever [!INCLUDE[ssSB](../../includes/sssb-md.md)] creates an error message.</span></span> <span data-ttu-id="3e529-261">Por exemplo, quando o [!INCLUDE[ssSB](../../includes/sssb-md.md)] não pode encaminhar com êxito uma mensagem para um diálogo, o agente cria uma mensagem de erro para o diálogo e gera esse evento.</span><span class="sxs-lookup"><span data-stu-id="3e529-261">For example, when [!INCLUDE[ssSB](../../includes/sssb-md.md)] cannot successfully route a message for a dialog, the broker creates an error message for the dialog and generates this event.</span></span> [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="3e529-262">não gera esse evento quando um programa aplicativo encerra uma conversa com um erro.</span><span class="sxs-lookup"><span data-stu-id="3e529-262">does not generate this event when an application program ends a conversation with an error.</span></span>|  
|<span data-ttu-id="3e529-263">5</span><span class="sxs-lookup"><span data-stu-id="3e529-263">5</span></span>|<span data-ttu-id="3e529-264">Terminate Dialog</span><span class="sxs-lookup"><span data-stu-id="3e529-264">Terminate Dialog</span></span>|[!INCLUDE[ssSB](../../includes/sssb-md.md)] <span data-ttu-id="3e529-265">encerrou o diálogo.</span><span class="sxs-lookup"><span data-stu-id="3e529-265">terminated the dialog.</span></span> [!INCLUDE[ssSB](../../includes/sssb-md.md)] <span data-ttu-id="3e529-266">encerra os diálogos em respostas às condições que impedem que eles continuem, mas que não sejam erros ou o encerramento normal de uma conversa.</span><span class="sxs-lookup"><span data-stu-id="3e529-266">terminates dialogs in response to conditions that prevent the dialog from continuing, but which are not errors or the normal end of a conversation.</span></span> <span data-ttu-id="3e529-267">Por exemplo, remover um serviço fará com que o [!INCLUDE[ssSB](../../includes/sssb-md.md)] encerre todos os diálogos daquele serviço.</span><span class="sxs-lookup"><span data-stu-id="3e529-267">For example, dropping a service causes [!INCLUDE[ssSB](../../includes/sssb-md.md)] to terminate all dialogs for that service.</span></span>|  
|<span data-ttu-id="3e529-268">6</span><span class="sxs-lookup"><span data-stu-id="3e529-268">6</span></span>|<span data-ttu-id="3e529-269">Received Sequenced Message</span><span class="sxs-lookup"><span data-stu-id="3e529-269">Received Sequenced Message</span></span>|[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]<span data-ttu-id="3e529-270">gera uma classe de evento **Received Exsequenciated Message** quando [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] o recebe uma mensagem que contém um número de sequência de mensagem.</span><span class="sxs-lookup"><span data-stu-id="3e529-270">generates a **Received Sequenced Message** event class when [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] receives a message that contains a message sequence number.</span></span> <span data-ttu-id="3e529-271">Todos os tipos de mensagens definidos pelo usuário são mensagens sequenciadas.</span><span class="sxs-lookup"><span data-stu-id="3e529-271">All user-defined message types are sequenced messages.</span></span> [!INCLUDE[ssSB](../../includes/sssb-md.md)] <span data-ttu-id="3e529-272">gera uma mensagem não sequenciada em dois casos:</span><span class="sxs-lookup"><span data-stu-id="3e529-272">generates an unsequenced message in two cases:</span></span><br /><br /> <span data-ttu-id="3e529-273">Mensagens de erro geradas pelo [!INCLUDE[ssSB](../../includes/sssb-md.md)] não são sequenciadas.</span><span class="sxs-lookup"><span data-stu-id="3e529-273">Error messages generated by [!INCLUDE[ssSB](../../includes/sssb-md.md)] are unsequenced.</span></span><br /><br /> <span data-ttu-id="3e529-274">Confirmações de mensagens podem não ter sequência.</span><span class="sxs-lookup"><span data-stu-id="3e529-274">Message acknowledgements might be unsequenced.</span></span> <span data-ttu-id="3e529-275">Para eficiência, o [!INCLUDE[ssSB](../../includes/sssb-md.md)] inclui a mensagem de qualquer confirmação disponível como parte de uma mensagem sequenciada.</span><span class="sxs-lookup"><span data-stu-id="3e529-275">For efficiency, [!INCLUDE[ssSB](../../includes/sssb-md.md)] includes message any available acknowledgement as part of a sequenced message .</span></span> <span data-ttu-id="3e529-276">Porém, se um aplicativo não enviar uma mensagem sequenciada para o ponto de extremidade remoto em um período específico, o [!INCLUDE[ssSB](../../includes/sssb-md.md)] criará uma mensagem não sequenciada para a confirmação da mensagem.</span><span class="sxs-lookup"><span data-stu-id="3e529-276">However, if an application does not send a sequenced message to the remote endpoint within a certain period of time, [!INCLUDE[ssSB](../../includes/sssb-md.md)] creates an unsequenced message for the message acknowledgement.</span></span>|  
|<span data-ttu-id="3e529-277">7</span><span class="sxs-lookup"><span data-stu-id="3e529-277">7</span></span>|<span data-ttu-id="3e529-278">Received END CONVERSATION</span><span class="sxs-lookup"><span data-stu-id="3e529-278">Received END CONVERSATION</span></span>|[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="3e529-279">gera um evento Received END CONVERSATION quando o [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] recebe uma mensagem End Dialog do outro lado da conversa.</span><span class="sxs-lookup"><span data-stu-id="3e529-279">generates a Received END CONVERSATION event when [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] receives an End Dialog message from the other side of the conversation.</span></span>|  
|<span data-ttu-id="3e529-280">8</span><span class="sxs-lookup"><span data-stu-id="3e529-280">8</span></span>|<span data-ttu-id="3e529-281">Received END CONVERSATION WITH ERROR</span><span class="sxs-lookup"><span data-stu-id="3e529-281">Received END CONVERSATION WITH ERROR</span></span>|[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]<span data-ttu-id="3e529-282">gera um evento **recebido encerrar conversa com erro** quando o [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] recebe um erro definido pelo usuário do outro lado da conversa.</span><span class="sxs-lookup"><span data-stu-id="3e529-282">generates a **Received END CONVERSATION WITH ERROR** event when [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] receives a user-defined error from the other side of the conversation.</span></span> [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="3e529-283">não gera esse evento quando o [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] recebe um erro definido pelo agente.</span><span class="sxs-lookup"><span data-stu-id="3e529-283">does not generate this event when [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] receives a broker-defined error.</span></span>|  
|<span data-ttu-id="3e529-284">9</span><span class="sxs-lookup"><span data-stu-id="3e529-284">9</span></span>|<span data-ttu-id="3e529-285">Received Broker Error Message</span><span class="sxs-lookup"><span data-stu-id="3e529-285">Received Broker Error Message</span></span>|[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]<span data-ttu-id="3e529-286">gera um evento de **mensagem de erro do Broker recebido** quando o [!INCLUDE[ssSB](../../includes/sssb-md.md)] recebe uma mensagem de erro definida pelo agente do outro lado da conversa.</span><span class="sxs-lookup"><span data-stu-id="3e529-286">generates a **Received Broker Error Message** event when [!INCLUDE[ssSB](../../includes/sssb-md.md)] receives a broker-defined error message from the other side of the conversation.</span></span> [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="3e529-287">não gera esse evento quando o [!INCLUDE[ssSB](../../includes/sssb-md.md)] recebe uma mensagem de erro gerada por um aplicativo.</span><span class="sxs-lookup"><span data-stu-id="3e529-287">does not generate this event when [!INCLUDE[ssSB](../../includes/sssb-md.md)] receives an error message that was generated by an application.</span></span><br /><br /> <span data-ttu-id="3e529-288">Por exemplo, se o banco de dados atual contiver uma rota padrão para um banco de dados de encaminhamento, o [!INCLUDE[ssSB](../../includes/sssb-md.md)] encaminhará uma mensagem com um nome de serviço desconhecido para o banco de dados de encaminhamento.</span><span class="sxs-lookup"><span data-stu-id="3e529-288">For example, if the current database contains a default route to a forwarding database, [!INCLUDE[ssSB](../../includes/sssb-md.md)] routes a message with an unknown service name to the forwarding database.</span></span> <span data-ttu-id="3e529-289">Se esse banco de dados não puder rotear a mensagem, o agente nesse banco de dados criará uma mensagem de erro e retornará essa mensagem de erro para o banco de dados atual.</span><span class="sxs-lookup"><span data-stu-id="3e529-289">If that database cannot route the message, the broker in that database creates an error message and returns that error message to the current database.</span></span> <span data-ttu-id="3e529-290">Quando o banco de dados atual recebe o erro gerado pelo agente do banco de dados de encaminhamento, o banco de dados atual gera um evento **Received Broker Error Message** .</span><span class="sxs-lookup"><span data-stu-id="3e529-290">When the current database receives the broker-generated error from the forwarding database, the current database generates a **Received Broker Error Message** event.</span></span>|  
|<span data-ttu-id="3e529-291">10</span><span class="sxs-lookup"><span data-stu-id="3e529-291">10</span></span>|<span data-ttu-id="3e529-292">Received END CONVERSATION Ack</span><span class="sxs-lookup"><span data-stu-id="3e529-292">Received END CONVERSATION Ack</span></span>|[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]<span data-ttu-id="3e529-293">gera uma classe de evento **Received END CONVERSATION ACK** quando o outro lado de uma conversa reconhece uma caixa de diálogo end ou uma mensagem de erro enviada por esse lado da conversa.</span><span class="sxs-lookup"><span data-stu-id="3e529-293">generates a **Received END CONVERSATION Ack** event class when the other side of a conversation acknowledges an End Dialog or Error message sent by this side of the conversation.</span></span>|  
|<span data-ttu-id="3e529-294">11</span><span class="sxs-lookup"><span data-stu-id="3e529-294">11</span></span>|<span data-ttu-id="3e529-295">BEGIN DIALOG</span><span class="sxs-lookup"><span data-stu-id="3e529-295">BEGIN DIALOG</span></span>|[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]<span data-ttu-id="3e529-296">gera um evento **BEGIN DIALOG** quando o mecanismo de banco de dados executa um comando BEGIN DIALOG.</span><span class="sxs-lookup"><span data-stu-id="3e529-296">generates a **BEGIN DIALOG** event when the Database Engine executes a BEGIN DIALOG command.</span></span>|  
|<span data-ttu-id="3e529-297">12</span><span class="sxs-lookup"><span data-stu-id="3e529-297">12</span></span>|<span data-ttu-id="3e529-298">Dialog Created</span><span class="sxs-lookup"><span data-stu-id="3e529-298">Dialog Created</span></span>|[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]<span data-ttu-id="3e529-299">gera um evento de **caixa de diálogo criado** quando o [!INCLUDE[ssSB](../../includes/sssb-md.md)] cria um ponto de extremidade para uma caixa de diálogo.</span><span class="sxs-lookup"><span data-stu-id="3e529-299">generates a **Dialog Created** event when [!INCLUDE[ssSB](../../includes/sssb-md.md)] creates an endpoint for a dialog.</span></span> [!INCLUDE[ssSB](../../includes/sssb-md.md)] <span data-ttu-id="3e529-300">cria um ponto de extremidade sempre que um novo diálogo é estabelecido, independentemente de o banco de dados atual ser o iniciador ou o destino do diálogo.</span><span class="sxs-lookup"><span data-stu-id="3e529-300">creates an endpoint whenever a new dialog is established, regardless of whether the current database is the initiator or the target of the dialog.</span></span>|  
|<span data-ttu-id="3e529-301">13</span><span class="sxs-lookup"><span data-stu-id="3e529-301">13</span></span>|<span data-ttu-id="3e529-302">END CONVERSATION WITH CLEANUP</span><span class="sxs-lookup"><span data-stu-id="3e529-302">END CONVERSATION WITH CLEANUP</span></span>|[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="3e529-303">gera um evento END CONVERSATION WITH CLEANUP quando o [!INCLUDE[ssDE](../../includes/ssde-md.md)] executa uma instrução END CONVERSATION que inclui a cláusula WITH CLEANUP.</span><span class="sxs-lookup"><span data-stu-id="3e529-303">generates an END CONVERSATION WITH CLEANUP event when the [!INCLUDE[ssDE](../../includes/ssde-md.md)] executes an END CONVERSATION statement that includes the WITH CLEANUP clause.</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="3e529-304">Consulte Também</span><span class="sxs-lookup"><span data-stu-id="3e529-304">See Also</span></span>  
 [<span data-ttu-id="3e529-305">SQL Server Service Broker</span><span class="sxs-lookup"><span data-stu-id="3e529-305">SQL Server Service Broker</span></span>](../../database-engine/configure-windows/sql-server-service-broker.md)  
  
  
