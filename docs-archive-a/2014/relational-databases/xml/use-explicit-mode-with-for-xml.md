---
title: Usar o modo EXPLICIT com FOR XML | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: xml
ms.topic: conceptual
helpviewer_keywords:
- EXPLICIT FOR XML mode
- FOR XML clause, EXPLICIT mode
- FOR XML EXPLICIT mode
ms.assetid: 8b26e8ce-5465-4e7a-b237-98d0f4578ab1
author: rothja
ms.author: jroth
ms.openlocfilehash: 7e3db80333c74166301fcff7bb25edea4aca38a2
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87572962"
---
# <a name="use-explicit-mode-with-for-xml"></a><span data-ttu-id="24d74-102">Usar o modo EXPLICIT com FOR XML</span><span class="sxs-lookup"><span data-stu-id="24d74-102">Use EXPLICIT Mode with FOR XML</span></span>
  <span data-ttu-id="24d74-103">Conforme descrito no tópico [Construindo XML usando FOR XML](../xml/for-xml-sql-server.md), os modos RAW e AUTO não fornecem muito controle sobre a forma do XML gerado de um resultado da consulta.</span><span class="sxs-lookup"><span data-stu-id="24d74-103">As described in the topic, [Constructing XML Using FOR XML](../xml/for-xml-sql-server.md), RAW and AUTO mode do not provide much control over the shape of the XML generated from a query result.</span></span> <span data-ttu-id="24d74-104">No entanto o modo EXPLICIT fornece máxima flexibilidade para gerar o XML desejado de um resultado de consulta.</span><span class="sxs-lookup"><span data-stu-id="24d74-104">However, EXPLICIT mode provides the most flexibility in generating the XML you want from a query result.</span></span>  
  
 <span data-ttu-id="24d74-105">A consulta em modo EXPLICIT deve ser escrita de uma maneira específica para que as informações adicionais sobre o XML necessário, como aninhamento esperado no XML, sejam especificadas explicitamente como parte da consulta.</span><span class="sxs-lookup"><span data-stu-id="24d74-105">The EXPLICIT mode query must be written in a specific way so that the additional information about the required XML, such as expected nesting in the XML, is explicitly specified as part of the query.</span></span> <span data-ttu-id="24d74-106">Dependendo do XML solicitado, pode ser trabalhoso escrever consultas em modo EXPLICIT.</span><span class="sxs-lookup"><span data-stu-id="24d74-106">Depending on the XML you request, writing EXPLICIT mode queries can be cumbersome.</span></span> <span data-ttu-id="24d74-107">Você pode descobrir que [Usando o modo PATH](../xml/use-path-mode-with-for-xml.md) com aninhamento é uma alternativa mais simples para escrever consultas em modo EXPLICIT.</span><span class="sxs-lookup"><span data-stu-id="24d74-107">You may find that [Using PATH Mode](../xml/use-path-mode-with-for-xml.md) with nesting is a simpler alternative to writing EXPLICIT mode queries.</span></span>  
  
 <span data-ttu-id="24d74-108">Como você descreve o XML desejado como parte da consulta no modo EXPLICIT, você deve garantir que o XML gerado seja bem formado e válido.</span><span class="sxs-lookup"><span data-stu-id="24d74-108">Because you describe the XML you want as part of the query in EXPLICIT mode, you must ensure that the generated XML is well formed and valid.</span></span>  
  
## <a name="rowset-processing-in-explicit-mode"></a><span data-ttu-id="24d74-109">Processamento de conjunto de linhas modo EXPLICIT</span><span class="sxs-lookup"><span data-stu-id="24d74-109">Rowset Processing in EXPLICIT Mode</span></span>  
 <span data-ttu-id="24d74-110">O modo EXPLICIT transforma o conjunto de linhas resultante da execução de uma consulta em um documento XML.</span><span class="sxs-lookup"><span data-stu-id="24d74-110">The EXPLICIT mode transforms the rowset that results from the query execution into an XML document.</span></span> <span data-ttu-id="24d74-111">Para que o modo EXPLICIT produza o documento XML, o conjunto de linhas deve ter um formato específico.</span><span class="sxs-lookup"><span data-stu-id="24d74-111">In order for EXPLICIT mode to produce the XML document, the rowset must have a specific format.</span></span> <span data-ttu-id="24d74-112">Isso exige que você escreva a consulta SELECT para produzir o conjunto de linhas, a **tabela universal**, com um formato específico para que a lógica de processamento possa produzir o XML desejado.</span><span class="sxs-lookup"><span data-stu-id="24d74-112">This requires that you write the SELECT query to produce the rowset, the **universal table**, with a specific format so the processing logic can then produce the XML you want.</span></span>  
  
 <span data-ttu-id="24d74-113">Primeiro, a consulta deve produzir as duas colunas de metadados a seguir:</span><span class="sxs-lookup"><span data-stu-id="24d74-113">First, the query must produce the following two metadata columns:</span></span>  
  
-   <span data-ttu-id="24d74-114">A primeira coluna deve fornecer o número da marca, o tipo de inteiro, do elemento atual, e o nome da coluna deve ser **Tag**.</span><span class="sxs-lookup"><span data-stu-id="24d74-114">The first column must provide the tag number, integer type, of the current element, and the column name must be **Tag**.</span></span> <span data-ttu-id="24d74-115">A consulta deve fornecer um número de marca exclusivo para cada elemento que será construído do conjunto de linhas.</span><span class="sxs-lookup"><span data-stu-id="24d74-115">Your query must provide a unique tag number for each element that will be constructed from the rowset.</span></span>  
  
-   <span data-ttu-id="24d74-116">A segunda coluna deve fornecer um número de marca do elemento pai e esse nome de coluna deve ser **Parent**.</span><span class="sxs-lookup"><span data-stu-id="24d74-116">The second column must provide a tag number of the parent element, and this column name must be **Parent**.</span></span> <span data-ttu-id="24d74-117">Dessa maneira, as colunas Tag e Parent fornecem informações da hierarquia.</span><span class="sxs-lookup"><span data-stu-id="24d74-117">In this way, the Tag and the Parent column provide hierarchy information.</span></span>  
  
 <span data-ttu-id="24d74-118">Esses valores de colunas de metadados, juntamente com as informações nos nomes das colunas, são usados para produzir o XML desejado.</span><span class="sxs-lookup"><span data-stu-id="24d74-118">These metadata column values, together with the information in the column names, are used to produce the XML you want.</span></span> <span data-ttu-id="24d74-119">Observe que sua consulta deve fornecer nomes de coluna de uma maneira específica.</span><span class="sxs-lookup"><span data-stu-id="24d74-119">Note that your query must provide column names in a specific way.</span></span> <span data-ttu-id="24d74-120">Observe também que um 0 ou NULL na coluna **Parent** indica que o elemento correspondente não tem nenhum pai.</span><span class="sxs-lookup"><span data-stu-id="24d74-120">Also note that a 0 or NULL in the **Parent** column indicates that the corresponding element has no parent.</span></span> <span data-ttu-id="24d74-121">O elemento é adicionado ao XML como um elemento de nível superior.</span><span class="sxs-lookup"><span data-stu-id="24d74-121">The element is added to the XML as a top-level element.</span></span>  
  
 <span data-ttu-id="24d74-122">Para entender como a tabela universal gerada por uma consulta é processada na geração do resultado XML, assuma que você escreveu uma consulta que produz essa tabela universal:</span><span class="sxs-lookup"><span data-stu-id="24d74-122">To understand how the universal table generated by a query is processed into generating XML result, assume that you have written a query that produces this universal table:</span></span>  
  
 <span data-ttu-id="24d74-123">![Tabela universal de exemplo](../../database-engine/media/xmlutable.gif "Tabela universal de exemplo")</span><span class="sxs-lookup"><span data-stu-id="24d74-123">![Sample universal table](../../database-engine/media/xmlutable.gif "Sample universal table")</span></span>  
  
 <span data-ttu-id="24d74-124">Observe o seguinte sobre essa tabela universal:</span><span class="sxs-lookup"><span data-stu-id="24d74-124">Note the following about this universal table:</span></span>  
  
-   <span data-ttu-id="24d74-125">As primeiras duas colunas são **Tag** e **Parent** e são colunas de meta.</span><span class="sxs-lookup"><span data-stu-id="24d74-125">The first two columns are **Tag** and **Parent** and are meta columns.</span></span> <span data-ttu-id="24d74-126">Esses valores determinam a hierarquia.</span><span class="sxs-lookup"><span data-stu-id="24d74-126">These values determine the hierarchy.</span></span>  
  
-   <span data-ttu-id="24d74-127">Os nomes de coluna são especificados de uma certa maneira, conforme descrito mais adiante neste tópico.</span><span class="sxs-lookup"><span data-stu-id="24d74-127">The column names are specified in a certain way, as described later in this topic.</span></span>  
  
-   <span data-ttu-id="24d74-128">Para gerar o XML dessa tabela universal, os dados nessa tabela são particionados verticalmente em grupos de colunas.</span><span class="sxs-lookup"><span data-stu-id="24d74-128">In generating the XML from this universal table, the data in this table is partitioned vertically into column groups.</span></span> <span data-ttu-id="24d74-129">O agrupamento é determinado com base no valor da **Tag** e nos nomes de coluna.</span><span class="sxs-lookup"><span data-stu-id="24d74-129">The grouping is determined based on the **Tag** value and the column names.</span></span> <span data-ttu-id="24d74-130">Para construir XML, a lógica de processamento seleciona um grupo de colunas para cada linha e constrói um elemento.</span><span class="sxs-lookup"><span data-stu-id="24d74-130">In constructing XML, the processing logic selects one group of columns for each row and constructs an element.</span></span> <span data-ttu-id="24d74-131">O seguinte se aplica neste exemplo:</span><span class="sxs-lookup"><span data-stu-id="24d74-131">The following applies in this example:</span></span>  
  
    -   <span data-ttu-id="24d74-132">Para o valor 1 da coluna **Tag** na primeira linha, as colunas cujos nomes incluem o mesmo número de marca, **Customer!1!cid** e **Customer!1!name**formam um grupo.</span><span class="sxs-lookup"><span data-stu-id="24d74-132">For **Tag** column value 1 in the first row, the columns whose names include the same tag number, **Customer!1!cid** and **Customer!1!name**, form a group.</span></span> <span data-ttu-id="24d74-133">Essas colunas são usadas para processar a linha e você pode ter observado que a forma do elemento gerado é <`Customer id=... name=...`>.</span><span class="sxs-lookup"><span data-stu-id="24d74-133">These columns are used in processing the row, and you may have noticed that the shape of the generated element is <`Customer id=... name=...`>.</span></span> <span data-ttu-id="24d74-134">O formato do nome da coluna é descrito neste tópico.</span><span class="sxs-lookup"><span data-stu-id="24d74-134">Column name format is described later in this topic.</span></span>  
  
    -   <span data-ttu-id="24d74-135">Para o valor 2 da coluna **Tag**, as colunas **Order!2!id** e **Order!2!date** formam um grupo que é usado para construir elementos, <`Order id=... date=... /`>.</span><span class="sxs-lookup"><span data-stu-id="24d74-135">For rows with **Tag** column value 2, columns **Order!2!id** and **Order!2!date** form a group that is then used in constructing elements, <`Order id=... date=... /`>.</span></span>  
  
    -   <span data-ttu-id="24d74-136">Para linhas com valor 3 da coluna **Tag** valor 3, as colunas **OrderDetail!3!id!id** e **OrderDetail!3!pid!idref** formam um grupo.</span><span class="sxs-lookup"><span data-stu-id="24d74-136">For rows with **Tag** column value 3, columns **OrderDetail!3!id!id** and **OrderDetail!3!pid!idref** form a group.</span></span> <span data-ttu-id="24d74-137">Cada uma dessas linhas gera um elemento, <`OrderDetail id=... pid=...`>, dessas colunas.</span><span class="sxs-lookup"><span data-stu-id="24d74-137">Each of these rows generates an element, <`OrderDetail id=... pid=...`>, from these columns.</span></span>  
  
-   <span data-ttu-id="24d74-138">Observe que para gerar a hierarquia de XML, as linhas são processadas em ordem.</span><span class="sxs-lookup"><span data-stu-id="24d74-138">Note that in generating XML hierarchy, the rows are processed in order.</span></span> <span data-ttu-id="24d74-139">A hierarquia de XML é determinada conforme mostrado a seguir:</span><span class="sxs-lookup"><span data-stu-id="24d74-139">The XML hierarchy is determined as shown in the following:</span></span>  
  
    -   <span data-ttu-id="24d74-140">A primeira linha especifica valor 1 de **Tag** e valor NULL de **Parent** .</span><span class="sxs-lookup"><span data-stu-id="24d74-140">The first row specifies **Tag** value 1 and **Parent** value NULL.</span></span> <span data-ttu-id="24d74-141">Portanto, o elemento <`Customer`> correspondente é adicionado como um elemento de nível superior no XML.</span><span class="sxs-lookup"><span data-stu-id="24d74-141">Therefore, the corresponding element, <`Customer`> element, is added as a top-level element in the XML.</span></span>  
  
        ```  
        <Customer cid="C1" name="Janine">  
        ```  
  
    -   <span data-ttu-id="24d74-142">A segunda linha identifica valor 2 de **Tag** valor 1 de **Parent** .</span><span class="sxs-lookup"><span data-stu-id="24d74-142">The second row identifies **Tag** value 2 and **Parent** value 1.</span></span> <span data-ttu-id="24d74-143">Portanto o elemento <`Order`> é adicionado como um filho do elemento <`Customer`>.</span><span class="sxs-lookup"><span data-stu-id="24d74-143">Therefore, the element, <`Order`> element, is added as a child of the <`Customer`> element.</span></span>  
  
        ```  
        <Customer cid="C1" name="Janine">  
           <Order id="O1" date="1/20/1996">  
        ```  
  
    -   <span data-ttu-id="24d74-144">As próximas duas linhas identificam o valor 3 de **Tag** e o valor 2 de **Parent** .</span><span class="sxs-lookup"><span data-stu-id="24d74-144">The next two rows identify **Tag** value 3 and **Parent** value 2.</span></span> <span data-ttu-id="24d74-145">Portanto os dois elementos <`OrderDetail`> são adicionados como filhos do elemento <`Order`>.</span><span class="sxs-lookup"><span data-stu-id="24d74-145">Therefore, the two elements, <`OrderDetail`> elements, are added as children of the <`Order`> element.</span></span>  
  
        ```  
        <Customer cid="C1" name="Janine">  
           <Order id="O1" date="1/20/1996">  
              <OrderDetail id="OD1" pid="P1"/>  
              <OrderDetail id="OD2" pid="P2"/>  
        ```  
  
    -   <span data-ttu-id="24d74-146">A última linha identifica 2 como o número da **Tag** e 1 como o número da marca **Parent** .</span><span class="sxs-lookup"><span data-stu-id="24d74-146">The last row identifies 2 as the **Tag** number and 1 as the **Parent** tag number.</span></span> <span data-ttu-id="24d74-147">Portanto outro filho do elemento <`Order`> é adicionado ao elemento pai <`Customer`>.</span><span class="sxs-lookup"><span data-stu-id="24d74-147">Therefore, another <`Order`> element child is added to the <`Customer`> parent element.</span></span>  
  
        ```  
        <Customer cid="C1" name="Janine">  
           <Order id="O1" date="1/20/1996">  
              <OrderDetail id="OD1" pid="P1"/>  
              <OrderDetail id="OD2" pid="P2"/>  
           </Order>  
           <Order id="O2" date="3/29/1997">  
        </Customer>  
        ```  
  
 <span data-ttu-id="24d74-148">Para resumir, os valores nas colunas de meta **Tag** e **Parent** , as informações fornecidas na coluna names e a ordenação correta das linhas produzem o XML desejado quando o modo EXPLICIT é usado.</span><span class="sxs-lookup"><span data-stu-id="24d74-148">To summarize, the values in the **Tag** and **Parent** meta columns, the information provided in the column names, and the correct ordering of the rows produce the XML you want when you use EXPLICIT mode.</span></span>  
  
### <a name="universal-table-row-ordering"></a><span data-ttu-id="24d74-149">Ordenação de linhas da tabela universal</span><span class="sxs-lookup"><span data-stu-id="24d74-149">Universal Table Row Ordering</span></span>  
 <span data-ttu-id="24d74-150">Para construir o XML, as linhas na tabela universal são processadas na ordem.</span><span class="sxs-lookup"><span data-stu-id="24d74-150">In constructing the XML, the rows in the universal table are processed in order.</span></span> <span data-ttu-id="24d74-151">Portanto para recuperar as instâncias filho corretas associadas ao pai, as linhas no conjunto de linhas devem ser ordenadas de forma que cada nó pai seja imediatamente seguido por seus filhos.</span><span class="sxs-lookup"><span data-stu-id="24d74-151">Therefore, to retrieve the correct children instances associated with their parent, the rows in the rowset must be ordered so that each parent node is immediately followed by its children.</span></span>  
  
## <a name="specifying-column-names-in-a-universal-table"></a><span data-ttu-id="24d74-152">Especificando nomes de colunas em uma tabela universal</span><span class="sxs-lookup"><span data-stu-id="24d74-152">Specifying Column Names in a Universal Table</span></span>  
 <span data-ttu-id="24d74-153">Ao escrever consultas em modo EXPLICIT , os nomes das colunas no conjunto de linhas resultante devem ser especificados usando esse formato.</span><span class="sxs-lookup"><span data-stu-id="24d74-153">When writing EXPLICIT mode queries, column names in the resulting rowset must be specified by using this format.</span></span> <span data-ttu-id="24d74-154">Eles fornecem informações de transformação incluindo nomes de elementos e atributos e outras informações adicionais, especificadas usando diretivas.</span><span class="sxs-lookup"><span data-stu-id="24d74-154">They provide transformation information including element and attribute names and other additional information, specified by using directives.</span></span>  
  
 <span data-ttu-id="24d74-155">Esse é o formato geral:</span><span class="sxs-lookup"><span data-stu-id="24d74-155">This is the general format:</span></span>  
  
```  
  
ElementName!TagNumber!AttributeName!Directive  
```  
  
 <span data-ttu-id="24d74-156">Uma descrição das partes do formato é fornecida a seguir.</span><span class="sxs-lookup"><span data-stu-id="24d74-156">Following is the description of the parts of the format.</span></span>  
  
 <span data-ttu-id="24d74-157">*ElementName*</span><span class="sxs-lookup"><span data-stu-id="24d74-157">*ElementName*</span></span>  
 <span data-ttu-id="24d74-158">É o identificador genérico resultante do elemento.</span><span class="sxs-lookup"><span data-stu-id="24d74-158">Is the resulting generic identifier of the element.</span></span> <span data-ttu-id="24d74-159">Por exemplo, se **Customers** for especificado como *ElementName*, o elemento \<Customers> será gerado.</span><span class="sxs-lookup"><span data-stu-id="24d74-159">For example, if **Customers** is specified as *ElementName*, the \<Customers> element is generated.</span></span>  
  
 <span data-ttu-id="24d74-160">*TagNumber*</span><span class="sxs-lookup"><span data-stu-id="24d74-160">*TagNumber*</span></span>  
 <span data-ttu-id="24d74-161">É um valor de marca exclusivo atribuído a um elemento.</span><span class="sxs-lookup"><span data-stu-id="24d74-161">Is a unique tag value assigned to an element.</span></span> <span data-ttu-id="24d74-162">Esse valor, com a ajuda das duas colunas de metadados, **Tag** e **Parent**, determina o aninhamento dos elementos no XML resultante.</span><span class="sxs-lookup"><span data-stu-id="24d74-162">This value, with the help of the two metadata columns, **Tag** and **Parent**, determines the nesting of the elements in the resulting XML.</span></span>  
  
 <span data-ttu-id="24d74-163">*AttributeName*</span><span class="sxs-lookup"><span data-stu-id="24d74-163">*AttributeName*</span></span>  
 <span data-ttu-id="24d74-164">Fornece o nome do atributo a ser construído no *ElementName*especificado.</span><span class="sxs-lookup"><span data-stu-id="24d74-164">Provides the name of the attribute to construct in the specified *ElementName*.</span></span> <span data-ttu-id="24d74-165">Esse será o comportamento se *Directive* não for especificada.</span><span class="sxs-lookup"><span data-stu-id="24d74-165">This is the behavior if *Directive* is not specified.</span></span>  
  
 <span data-ttu-id="24d74-166">Se *Directive* for especificada e for **xml**, **cdata**ou **element**, esse valor será usado para construir um filho de *ElementName*e o valor da coluna será adicionado a ele.</span><span class="sxs-lookup"><span data-stu-id="24d74-166">If *Directive* is specified and it is **xml**, **cdata**, or **element**, this value is used to construct an element child of *ElementName*, and the column value is added to it.</span></span>  
  
 <span data-ttu-id="24d74-167">Se você especificar a *Directive*, o *AttributeName* poderá estar vazio.</span><span class="sxs-lookup"><span data-stu-id="24d74-167">If you specify the *Directive*, the *AttributeName* can be empty.</span></span> <span data-ttu-id="24d74-168">Por exemplo, ElementName!TagNumber!!Directive.</span><span class="sxs-lookup"><span data-stu-id="24d74-168">For example, ElementName!TagNumber!!Directive.</span></span> <span data-ttu-id="24d74-169">Nesse caso, o valor da coluna será contido diretamente pelo *ElementName*.</span><span class="sxs-lookup"><span data-stu-id="24d74-169">In this case, the column value is directly contained by the *ElementName*.</span></span>  
  
 <span data-ttu-id="24d74-170">*Directive*</span><span class="sxs-lookup"><span data-stu-id="24d74-170">*Directive*</span></span>  
 <span data-ttu-id="24d74-171">*Directive* é opcional e você pode usá-la para fornecer informações adicionais para construção do XML.</span><span class="sxs-lookup"><span data-stu-id="24d74-171">*Directive* is optional and you can use it to provide additional information for construction of the XML.</span></span> <span data-ttu-id="24d74-172">*Directive* tem dois propósitos.</span><span class="sxs-lookup"><span data-stu-id="24d74-172">*Directive* has two purposes.</span></span>  
  
 <span data-ttu-id="24d74-173">Um dos propósitos é codificar valores como ID, IDREF e IDREFS.</span><span class="sxs-lookup"><span data-stu-id="24d74-173">One of the purposes is to encode values as ID, IDREF, and IDREFS.</span></span> <span data-ttu-id="24d74-174">É possível especificar as palavras-chave **ID**, **IDREF**e **IDREFS** como *Directives*.</span><span class="sxs-lookup"><span data-stu-id="24d74-174">You can specify **ID**, **IDREF**, and **IDREFS** keywords as *Directives*.</span></span> <span data-ttu-id="24d74-175">Essas diretivas substituem os tipos de atributo.</span><span class="sxs-lookup"><span data-stu-id="24d74-175">These directives overwrite the attribute types.</span></span> <span data-ttu-id="24d74-176">Isso permite criar vínculos intradocumento.</span><span class="sxs-lookup"><span data-stu-id="24d74-176">This allows you to create intra-document links.</span></span>  
  
 <span data-ttu-id="24d74-177">Também é possível usar *Directive* para indicar como mapear os dados de cadeia de caracteres para XML.</span><span class="sxs-lookup"><span data-stu-id="24d74-177">Also, you can use *Directive* to indicate how to map the string data to XML.</span></span> <span data-ttu-id="24d74-178">É possível usar as palavras-chave **hide**, **element, elementxsinil**, **xml**, **xmltext**e **cdata** como a *Directive*.</span><span class="sxs-lookup"><span data-stu-id="24d74-178">The **hide**, **element, elementxsinil**, **xml**, **xmltext**, and **cdata** keywords can be used as the *Directive*.</span></span> <span data-ttu-id="24d74-179">A diretiva **hide** oculta o nó.</span><span class="sxs-lookup"><span data-stu-id="24d74-179">The **hide** directive hides the node.</span></span> <span data-ttu-id="24d74-180">Isso é útil para recuperar valores apenas para fins de classificação, mas não para tê-los no XML resultante.</span><span class="sxs-lookup"><span data-stu-id="24d74-180">This is useful when you retrieve values only for sorting purposes, but you do not want them in the resulting XML.</span></span>  
  
 <span data-ttu-id="24d74-181">A diretiva **element** gera um elemento contido em vez de um atributo.</span><span class="sxs-lookup"><span data-stu-id="24d74-181">The **element** directive generates a contained element instead of an attribute.</span></span> <span data-ttu-id="24d74-182">Os dados contidos são codificados como uma entidade.</span><span class="sxs-lookup"><span data-stu-id="24d74-182">The contained data is encoded as an entity.</span></span> <span data-ttu-id="24d74-183">Por exemplo, o caractere **<** se torna &lt;.</span><span class="sxs-lookup"><span data-stu-id="24d74-183">For example, the **<** character becomes &lt;.</span></span> <span data-ttu-id="24d74-184">Nenhum elemento é gerado para valores NULL da coluna.</span><span class="sxs-lookup"><span data-stu-id="24d74-184">For NULL column values, no element is generated.</span></span> <span data-ttu-id="24d74-185">Se você quiser um elemento gerado para obter valores de coluna nulos, poderá especificar a diretiva **elementxsinil** .</span><span class="sxs-lookup"><span data-stu-id="24d74-185">If you want an element generated for null column values, you can specify the **elementxsinil** directive.</span></span> <span data-ttu-id="24d74-186">Isso gerará um elemento que tem o atributo xsi:nil=TRUE.</span><span class="sxs-lookup"><span data-stu-id="24d74-186">This will generate an element that has the attribute xsi:nil=TRUE.</span></span>  
  
 <span data-ttu-id="24d74-187">A diretiva **xml** é igual a uma diretiva **element** , exceto que não ocorre nenhuma codificação de entidade.</span><span class="sxs-lookup"><span data-stu-id="24d74-187">The **xml** directive is the same as an **element** directive, except that no entity encoding occurs.</span></span> <span data-ttu-id="24d74-188">Observe que a diretiva **element** pode ser combinada com **ID**, **IDREF**ou **IDREFS**, enquanto que a diretiva **xml** não é permitida com nenhuma outra diretiva, exceto **hide**.</span><span class="sxs-lookup"><span data-stu-id="24d74-188">Note that the **element** directive can be combined with **ID**, **IDREF**, or **IDREFS**, whereas the **xml** directive is not allowed with any other directive, except **hide**.</span></span>  
  
 <span data-ttu-id="24d74-189">A diretiva **cdata** contém os dados encapsulando-os com uma seção CDATA.</span><span class="sxs-lookup"><span data-stu-id="24d74-189">The **cdata** directive contains the data by wrapping it with a CDATA section.</span></span> <span data-ttu-id="24d74-190">O conteúdo não é codificado pela entidade.</span><span class="sxs-lookup"><span data-stu-id="24d74-190">The content is not entity encoded.</span></span> <span data-ttu-id="24d74-191">O tipo de dados original deve ser um tipo de texto como **varchar**, **nvarchar**, **text**ou **ntext**.</span><span class="sxs-lookup"><span data-stu-id="24d74-191">The original data type must be a text type such as **varchar**, **nvarchar**, **text**, or **ntext**.</span></span> <span data-ttu-id="24d74-192">Essa diretiva pode ser usada apenas com **hide**.</span><span class="sxs-lookup"><span data-stu-id="24d74-192">This directive can be used only with **hide**.</span></span> <span data-ttu-id="24d74-193">Quando essa diretiva é usada, *AttributeName* não deve ser especificado.</span><span class="sxs-lookup"><span data-stu-id="24d74-193">When this directive is used, *AttributeName* must not be specified.</span></span>  
  
 <span data-ttu-id="24d74-194">A combinação de diretivas entre esses dois grupos é permitida na maioria dos casos, mas a combinação entre elas mesmas não é permitida.</span><span class="sxs-lookup"><span data-stu-id="24d74-194">Combining directives between these two groups is allowed in most cases, but combining them among themselves is not allowed.</span></span>  
  
 <span data-ttu-id="24d74-195">Se *Directive* e *AttributeName* não forem especificados, por exemplo, **Customer!1**, uma diretiva de **element** será implícita, como **Customer!1!!element**, e os dados da coluna serão contidos no *ElementName*.</span><span class="sxs-lookup"><span data-stu-id="24d74-195">If the *Directive* and the *AttributeName* is not specified, for example, **Customer!1**, an **element** directive is implied, such as **Customer!1!!element**, and column data is contained in the *ElementName*.</span></span>  
  
 <span data-ttu-id="24d74-196">Se a diretiva **xmltext** for especificada, o conteúdo da coluna será encapsulado em uma marca única que é integrada com o restante do documento.</span><span class="sxs-lookup"><span data-stu-id="24d74-196">If the **xmltext** directive is specified, the column content is wrapped in a single tag that is integrated with the rest of the document.</span></span> <span data-ttu-id="24d74-197">Essa diretiva é útil para buscar dados XML armazenados, excedentes e não consumidos em uma coluna por OPENXML.</span><span class="sxs-lookup"><span data-stu-id="24d74-197">This directive is useful in fetching overflow, unconsumed, XML data stored in a column by OPENXML.</span></span> <span data-ttu-id="24d74-198">Para obter mais informações, veja [OPENXML &#40;SQL Server&#41;](../xml/openxml-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="24d74-198">For more information, see [OPENXML &#40;SQL Server&#41;](../xml/openxml-sql-server.md).</span></span>  
  
 <span data-ttu-id="24d74-199">Se o *AttributeName* for especificado, o nome da marca será substituído pelo nome especificado.</span><span class="sxs-lookup"><span data-stu-id="24d74-199">If *AttributeName* is specified, the tag name is replaced by the specified name.</span></span> <span data-ttu-id="24d74-200">Caso contrário, o atributo será anexado à lista de atributos atual dos elementos circunscritos colocando o conteúdo no início do confinamento sem codificação de entidade.</span><span class="sxs-lookup"><span data-stu-id="24d74-200">Otherwise, the attribute is appended to the current list of attributes of the enclosing elements by putting the content at the beginning of the containment without entity encoding.</span></span> <span data-ttu-id="24d74-201">A coluna com essa diretiva deve ser de um tipo de texto, como **varchar**, **nvarchar**, **char**, **nchar**, **text**ou **ntext**.</span><span class="sxs-lookup"><span data-stu-id="24d74-201">The column with this directive must be a text type, such as **varchar**, **nvarchar**, **char**, **nchar**, **text**, or **ntext**.</span></span> <span data-ttu-id="24d74-202">Essa diretiva pode ser usada apenas com **hide**.</span><span class="sxs-lookup"><span data-stu-id="24d74-202">This directive can be used only with **hide**.</span></span> <span data-ttu-id="24d74-203">Essa diretiva é útil para buscar dados excedentes armazenados em uma coluna.</span><span class="sxs-lookup"><span data-stu-id="24d74-203">This directive is useful in fetching overflow data stored in a column.</span></span> <span data-ttu-id="24d74-204">Se o conteúdo não for um XML bem formado, o comportamento será indefinido.</span><span class="sxs-lookup"><span data-stu-id="24d74-204">If the content is not a well-formed XML, the behavior is undefined.</span></span>  
  
## <a name="in-this-section"></a><span data-ttu-id="24d74-205">Nesta seção</span><span class="sxs-lookup"><span data-stu-id="24d74-205">In This Section</span></span>  
 <span data-ttu-id="24d74-206">Os exemplos a seguir ilustram o uso do modo EXPLICIT.</span><span class="sxs-lookup"><span data-stu-id="24d74-206">The following examples illustrate the use of EXPLICIT mode.</span></span>  
  
-   [<span data-ttu-id="24d74-207">Exemplo: Recuperando informações de funcionários</span><span class="sxs-lookup"><span data-stu-id="24d74-207">Example: Retrieving Employee Information</span></span>](../xml/example-retrieving-employee-information.md)  
  
-   [<span data-ttu-id="24d74-208">Exemplo: Especificando a diretiva ELEMENT</span><span class="sxs-lookup"><span data-stu-id="24d74-208">Example: Specifying the ELEMENT Directive</span></span>](../xml/example-specifying-the-element-directive.md)  
  
-   [<span data-ttu-id="24d74-209">Exemplo: Especificando a diretiva ELEMENTXSINIL</span><span class="sxs-lookup"><span data-stu-id="24d74-209">Example: Specifying the ELEMENTXSINIL Directive</span></span>](../xml/example-specifying-the-elementxsinil-directive.md)  
  
-   [<span data-ttu-id="24d74-210">Exemplo: Construindo irmãos com o modo EXPLICIT</span><span class="sxs-lookup"><span data-stu-id="24d74-210">Example: Constructing Siblings with EXPLICIT Mode</span></span>](../xml/example-constructing-siblings-with-explicit-mode.md)  
  
-   [<span data-ttu-id="24d74-211">Exemplo: Especificando as diretivas ID e IDREF</span><span class="sxs-lookup"><span data-stu-id="24d74-211">Example: Specifying the ID and IDREF Directives</span></span>](../xml/example-specifying-the-id-and-idref-directives.md)  
  
-   [<span data-ttu-id="24d74-212">Exemplo: Especificando as diretivas ID e IDREFS</span><span class="sxs-lookup"><span data-stu-id="24d74-212">Example: Specifying the ID and IDREFS Directives</span></span>](../xml/example-specifying-the-id-and-idrefs-directives.md)  
  
-   [<span data-ttu-id="24d74-213">Exemplo: Especificando a diretiva HIDE</span><span class="sxs-lookup"><span data-stu-id="24d74-213">Example: Specifying the HIDE Directive</span></span>](../xml/example-specifying-the-hide-directive.md)  
  
-   [<span data-ttu-id="24d74-214">Exemplo: Especificando a diretiva ELEMENT e a codificação de entidade</span><span class="sxs-lookup"><span data-stu-id="24d74-214">Example: Specifying the ELEMENT Directive and Entity Encoding</span></span>](../xml/example-specifying-the-element-directive-and-entity-encoding.md)  
  
-   [<span data-ttu-id="24d74-215">Exemplo: Especificando a diretiva CDATA</span><span class="sxs-lookup"><span data-stu-id="24d74-215">Example: Specifying the CDATA Directive</span></span>](../xml/example-specifying-the-cdata-directive.md)  
  
-   [<span data-ttu-id="24d74-216">Exemplo: Especificando a diretiva XMLTEXT</span><span class="sxs-lookup"><span data-stu-id="24d74-216">Example: Specifying the XMLTEXT Directive</span></span>](../xml/example-specifying-the-xmltext-directive.md)  
  
## <a name="see-also"></a><span data-ttu-id="24d74-217">Consulte Também</span><span class="sxs-lookup"><span data-stu-id="24d74-217">See Also</span></span>  
 <span data-ttu-id="24d74-218">[Usar modo RAW com FOR XML](../xml/use-raw-mode-with-for-xml.md) </span><span class="sxs-lookup"><span data-stu-id="24d74-218">[Use RAW Mode with FOR XML](../xml/use-raw-mode-with-for-xml.md) </span></span>  
 <span data-ttu-id="24d74-219">[Usar o modo AUTO com FOR XML](../xml/use-auto-mode-with-for-xml.md) </span><span class="sxs-lookup"><span data-stu-id="24d74-219">[Use AUTO Mode with FOR XML](../xml/use-auto-mode-with-for-xml.md) </span></span>  
 <span data-ttu-id="24d74-220">[Usar o modo PATH com FOR XML](../xml/use-path-mode-with-for-xml.md) </span><span class="sxs-lookup"><span data-stu-id="24d74-220">[Use PATH Mode with FOR XML](../xml/use-path-mode-with-for-xml.md) </span></span>  
 <span data-ttu-id="24d74-221">[SELECT &#40;Transact-SQL&#41;](/sql/t-sql/queries/select-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="24d74-221">[SELECT &#40;Transact-SQL&#41;](/sql/t-sql/queries/select-transact-sql) </span></span>  
 [<span data-ttu-id="24d74-222">FOR XML &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="24d74-222">FOR XML &#40;SQL Server&#41;</span></span>](../xml/for-xml-sql-server.md)  
  
  
