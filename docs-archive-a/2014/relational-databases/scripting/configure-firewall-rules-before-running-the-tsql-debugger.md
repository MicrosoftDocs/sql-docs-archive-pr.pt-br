---
title: Configurar o Depurador Transact-SQL
ms.custom: seo-lt-2019
ms.date: 10/20/2016
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: database-engine
ms.topic: conceptual
f1_keywords:
- vs.debug.error.sqlde_register_failed
- vs.debug.error.sqlde_accessdenied
- vs.debug.error.sqlde_firewall.remotemachines
helpviewer_keywords:
- Transact-SQL debugger, remote connections
- Windows Firewall [Database Engine], Transact-SQL debugger
- Transact-SQL debugger, Windows Firewall
- Transact-SQL debugger, configuring
- ports [SQL Server], Transact-SQL debugger
- TCP/IP [SQL Server], port numbers
ms.assetid: f50e0b0d-eaf0-4f4a-be83-96f5be63e7ea
author: rothja
ms.author: jroth
ms.openlocfilehash: a320e77e86c933a33d96d708580d5050b0c06de2
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87581758"
---
# <a name="configure-the-transact-sql-debugger"></a><span data-ttu-id="b20a1-102">Configurar o Depurador Transact-SQL</span><span class="sxs-lookup"><span data-stu-id="b20a1-102">Configure the Transact-SQL Debugger</span></span>
  <span data-ttu-id="b20a1-103">As regras do Firewall do Windows devem ser configuradas para habilitar a depuração do [!INCLUDE[tsql](../../includes/tsql-md.md)] quando conectado a uma instância do [!INCLUDE[ssDE](../../includes/ssde-md.md)] que esteja em execução em outro computador que não o do Editor de Consultas do [!INCLUDE[ssDE](../../includes/ssde-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="b20a1-103">Windows Firewall rules must be configured to enable [!INCLUDE[tsql](../../includes/tsql-md.md)] debugging when connected to an instance of the [!INCLUDE[ssDE](../../includes/ssde-md.md)] that is running on a different computer than the [!INCLUDE[ssDE](../../includes/ssde-md.md)] Query Editor.</span></span>  
  
## <a name="configuring-the-transact-sql-debugger"></a><span data-ttu-id="b20a1-104">Configurando o Depurador Transact-SQL</span><span class="sxs-lookup"><span data-stu-id="b20a1-104">Configuring the Transact-SQL Debugger</span></span>  
 <span data-ttu-id="b20a1-105">O depurador [!INCLUDE[tsql](../../includes/tsql-md.md)] inclui componentes do lado do servidor e do lado do cliente.</span><span class="sxs-lookup"><span data-stu-id="b20a1-105">The [!INCLUDE[tsql](../../includes/tsql-md.md)] debugger includes both server-side and client-side components.</span></span> <span data-ttu-id="b20a1-106">Os componentes do depurador do servidor são instalados com cada instância do Mecanismo de Banco de Dados do [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] SP2 (Service Pack 2) ou posterior.</span><span class="sxs-lookup"><span data-stu-id="b20a1-106">The server-side debugger components are installed with each instance of the Database Engine from [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] Service Pack 2 (SP2) or later.</span></span> <span data-ttu-id="b20a1-107">Os componentes do depurador do lado do cliente são incluídos:</span><span class="sxs-lookup"><span data-stu-id="b20a1-107">The client-side debugger components are included:</span></span>  
  
-   <span data-ttu-id="b20a1-108">Ao instalar as ferramentas do lado do cliente do [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] ou posterior.</span><span class="sxs-lookup"><span data-stu-id="b20a1-108">When you install the client-side tools from [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] or later.</span></span>  
  
-   <span data-ttu-id="b20a1-109">Ao instalar o Microsoft Visual Studio 2010 ou posterior.</span><span class="sxs-lookup"><span data-stu-id="b20a1-109">When you install Microsoft Visual Studio 2010 or later.</span></span>  
  
-   <span data-ttu-id="b20a1-110">Ao instalar o [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)] via download da Web.</span><span class="sxs-lookup"><span data-stu-id="b20a1-110">When you install [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)] from the web download.</span></span>  
  
 <span data-ttu-id="b20a1-111">Não há requisitos de configuração para executar o depurador do [!INCLUDE[tsql](../../includes/tsql-md.md)] quando o [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] ou o [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)] está sendo executado no mesmo computador da instância do [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="b20a1-111">There are no configuration requirements to run the [!INCLUDE[tsql](../../includes/tsql-md.md)] debugger when [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] or [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)] is running on the same computer as the instance of the [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)].</span></span> <span data-ttu-id="b20a1-112">No entanto, para executar o depurador do [!INCLUDE[tsql](../../includes/tsql-md.md)] quando ele estiver conectado a uma instância remota do [!INCLUDE[ssDE](../../includes/ssde-md.md)], as regras de programas e portas no Firewall do Windows devem ser habilitadas nos dois computadores.</span><span class="sxs-lookup"><span data-stu-id="b20a1-112">However, to run the [!INCLUDE[tsql](../../includes/tsql-md.md)] debugger when connected to a remote instance of the [!INCLUDE[ssDE](../../includes/ssde-md.md)], program and port rules in the Windows Firewall must be enabled on both computers.</span></span> <span data-ttu-id="b20a1-113">Essas regras podem ser criadas na instalação do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="b20a1-113">These rules may be created by [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] setup.</span></span> <span data-ttu-id="b20a1-114">Se você obtiver erros ao tentar abrir uma sessão remota de depuração, verifique se as regras de firewall a seguir estão definidas em seu computador.</span><span class="sxs-lookup"><span data-stu-id="b20a1-114">If you get errors attempting to open a remote debugging session, ensure the following firewall rules are defined on your computer.</span></span>  
  
 <span data-ttu-id="b20a1-115">Use o aplicativo **Firewall do Windows com Segurança Avançada** para gerenciar as regras de firewall.</span><span class="sxs-lookup"><span data-stu-id="b20a1-115">Use the **Windows Firewall with Advanced Security** application to manage the firewall rules.</span></span> <span data-ttu-id="b20a1-116">No [!INCLUDE[win7](../../includes/win7-md.md)] e no [!INCLUDE[winserver2008r2](../../includes/winserver2008r2-md.md)], abra **Painel de Controle**, abra **Firewall do Windows**e selecione **Configurações avançadas**.</span><span class="sxs-lookup"><span data-stu-id="b20a1-116">In both [!INCLUDE[win7](../../includes/win7-md.md)] and [!INCLUDE[winserver2008r2](../../includes/winserver2008r2-md.md)], open **Control Panel**, open **Windows Firewall**, and select **Advanced settings**.</span></span> <span data-ttu-id="b20a1-117">No [!INCLUDE[winserver2008r2](../../includes/winserver2008r2-md.md)] , você também pode abrir **Service Manager**, expandir **Configuração** no painel esquerdo e expandir **Firewall do Windows com Segurança Avançada**.</span><span class="sxs-lookup"><span data-stu-id="b20a1-117">In [!INCLUDE[winserver2008r2](../../includes/winserver2008r2-md.md)] you can also open **Service Manager**, expand **Configuration** in the left pane, and expand **Windows Firewall with Advanced Security**.</span></span>  
  
> [!CAUTION]  
>  <span data-ttu-id="b20a1-118">A habilitação de regras no Firewall do Windows pode expor o computador a ameaças de segurança contra as quais o firewall foi projetado para bloquear.</span><span class="sxs-lookup"><span data-stu-id="b20a1-118">Enabling rules in the Windows Firewall may expose your computer to security threats that the firewall is designed to block.</span></span> <span data-ttu-id="b20a1-119">A habilitação de regras para depuração remota desbloqueia as portas e os programas listados neste tópico.</span><span class="sxs-lookup"><span data-stu-id="b20a1-119">Enabling rules for remote debugging unblocks the ports and programs listed in this topic.</span></span>  
  
## <a name="firewall-rules-on-the-server"></a><span data-ttu-id="b20a1-120">Regras de firewall no servidor</span><span class="sxs-lookup"><span data-stu-id="b20a1-120">Firewall Rules on the Server</span></span>  
 <span data-ttu-id="b20a1-121">No computador que executa a instância do [!INCLUDE[ssDE](../../includes/ssde-md.md)], use **Firewall do Windows com Segurança Avançada** para especificar as seguintes informações:</span><span class="sxs-lookup"><span data-stu-id="b20a1-121">On the computer that is running the instance of the [!INCLUDE[ssDE](../../includes/ssde-md.md)], use **Windows Firewall with Advanced Security** to specify the following information:</span></span>  
  
-   <span data-ttu-id="b20a1-122">Adicione uma regra de entrada de programa a sqlservr.exe.</span><span class="sxs-lookup"><span data-stu-id="b20a1-122">Add an inbound program rule for sqlservr.exe.</span></span> <span data-ttu-id="b20a1-123">Você deve ter uma regra para cada instância que precisa dar suportar a sessões remotas de depuração.</span><span class="sxs-lookup"><span data-stu-id="b20a1-123">You must have a rule for each instance that needs to support remote debugging sessions.</span></span>  
  
    1.  <span data-ttu-id="b20a1-124">Em **Firewall do Windows com Segurança Avançada**, no painel esquerdo, clique com o botão direito do mouse em **Regras de Entrada**e selecione **Nova Regra** no painel de ações.</span><span class="sxs-lookup"><span data-stu-id="b20a1-124">In **Windows Firewall with Advanced Security**, in the left pane, right-click **Inbound Rules**, and then select **New Rule** in the action pane.</span></span>  
  
    2.  <span data-ttu-id="b20a1-125">Na caixa de diálogo **Tipo de Regra** , selecione **Programa**e clique em **Avançar**.</span><span class="sxs-lookup"><span data-stu-id="b20a1-125">In the **Rule Type** dialog, select **Program**, and then click **Next**.</span></span>  
  
    3.  <span data-ttu-id="b20a1-126">Na caixa de diálogo **Programa** , selecione **Este caminho de programa:** e insira o caminho completo para sqlservr.exe dessa instância.</span><span class="sxs-lookup"><span data-stu-id="b20a1-126">In the **Program** dialog, select **This program path:** and enter the full path to sqlservr.exe for this instance.</span></span> <span data-ttu-id="b20a1-127">Por padrão, o sqlservr.exe é instalado em C:\Arquivos de Programas\microsoft SQL Server\MSSQL12. *InstanceName*\MSSQL\Binn, em que *InstanceName* é MSSQLSERVER para a instância padrão e o nome da instância para qualquer instância nomeada.</span><span class="sxs-lookup"><span data-stu-id="b20a1-127">By default, sqlservr.exe is installed in C:\Program Files\Microsoft SQL Server\MSSQL12.*InstanceName*\MSSQL\Binn, where *InstanceName* is MSSQLSERVER for the default instance, and the instance name for any named instance.</span></span>  
  
    4.  <span data-ttu-id="b20a1-128">Na caixa de diálogo **Ação** , selecione **Permitir a conexão**e clique em **Avançar**.</span><span class="sxs-lookup"><span data-stu-id="b20a1-128">In the **Action** dialog, select **Allow the connection**, and click **Next**.</span></span>  
  
    5.  <span data-ttu-id="b20a1-129">Na caixa de diálogo **Perfil** , selecione qualquer perfil que descreva o ambiente de conexão do computador quando você quiser abrir a sessão de depuração com a instância e clique em **Avançar**.</span><span class="sxs-lookup"><span data-stu-id="b20a1-129">In the **Profile** dialog, select any profiles that describe the computer connection environment when you want to open a debugging session with the instance, and click **Next**.</span></span>  
  
    6.  <span data-ttu-id="b20a1-130">Na caixa de diálogo **Nome** , digite um nome e uma descrição para essa regra e clique em **Concluir**.</span><span class="sxs-lookup"><span data-stu-id="b20a1-130">In the **Name** dialog, type a name and description for this rule and click **Finish**.</span></span>  
  
    7.  <span data-ttu-id="b20a1-131">Na lista **Regras de Entrada** , clique com o botão direito do mouse na regra que você criou e selecione **Propriedades** no painel de ações.</span><span class="sxs-lookup"><span data-stu-id="b20a1-131">In the **Inbound Rules** list, right click the rule you created, and then select **Properties** in the action pane.</span></span>  
  
    8.  <span data-ttu-id="b20a1-132">Selecione a guia **Protocolos e Portas** .</span><span class="sxs-lookup"><span data-stu-id="b20a1-132">Select the **Protocols and Ports** tab.</span></span>  
  
    9. <span data-ttu-id="b20a1-133">Selecione **TCP** na caixa **Tipo de protocolo:** , selecione **Portas Dinâmicas RPC** na caixa **Porta local:** , clique em **Aplicar**e clique em **OK**.</span><span class="sxs-lookup"><span data-stu-id="b20a1-133">Select **TCP** in the **Protocol type:** box, select **RPC Dynamic Ports** in the **Local port:** box, click **Apply**, and then click **OK**.</span></span>  
  
-   <span data-ttu-id="b20a1-134">Adicione uma regra de entrada de programa a svchost.exe para habilitar comunicações DCOM de sessões remotas do depurador.</span><span class="sxs-lookup"><span data-stu-id="b20a1-134">Add an inbound program rule for svchost.exe to enable DCOM communications from remote debugger sessions.</span></span>  
  
    1.  <span data-ttu-id="b20a1-135">Em **Firewall do Windows com Segurança Avançada**, no painel esquerdo, clique com o botão direito do mouse em **Regras de Entrada**e selecione **Nova Regra** no painel de ações.</span><span class="sxs-lookup"><span data-stu-id="b20a1-135">In **Windows Firewall with Advanced Security**, in the left pane, right-click **Inbound Rules**, and then select **New Rule** in the action pane.</span></span>  
  
    2.  <span data-ttu-id="b20a1-136">Na caixa de diálogo **Tipo de Regra** , selecione **Programa**e clique em **Avançar**.</span><span class="sxs-lookup"><span data-stu-id="b20a1-136">In the **Rule Type** dialog, select **Program**, and then click **Next**.</span></span>  
  
    3.  <span data-ttu-id="b20a1-137">Na caixa de diálogo **Programa** , selecione **Este caminho de programa:** e insira o caminho completo para sqlservr.exe.</span><span class="sxs-lookup"><span data-stu-id="b20a1-137">In the **Program** dialog, select **This program path:** and enter the full path to svchost.exe.</span></span> <span data-ttu-id="b20a1-138">Por padrão, svchost.exe é instalado em %systemroot%\ System32\svchost.exe.</span><span class="sxs-lookup"><span data-stu-id="b20a1-138">By default, svchost.exe is installed in %systemroot%\System32\svchost.exe.</span></span>  
  
    4.  <span data-ttu-id="b20a1-139">Na caixa de diálogo **Ação** , selecione **Permitir a conexão**e clique em **Avançar**.</span><span class="sxs-lookup"><span data-stu-id="b20a1-139">In the **Action** dialog, select **Allow the connection**, and click **Next**.</span></span>  
  
    5.  <span data-ttu-id="b20a1-140">Na caixa de diálogo **Perfil** , selecione qualquer perfil que descreva o ambiente de conexão do computador quando você quiser abrir a sessão de depuração com a instância e clique em **Avançar**.</span><span class="sxs-lookup"><span data-stu-id="b20a1-140">In the **Profile** dialog, select any profiles that describe the computer connection environment when you want to open a debugging session with the instance, and click **Next**.</span></span>  
  
    6.  <span data-ttu-id="b20a1-141">Na caixa de diálogo **Nome** , digite um nome e uma descrição para essa regra e clique em **Concluir**.</span><span class="sxs-lookup"><span data-stu-id="b20a1-141">In the **Name** dialog, type a name and description for this rule and click **Finish**.</span></span>  
  
    7.  <span data-ttu-id="b20a1-142">Na lista **Regras de Entrada** , clique com o botão direito do mouse na regra que você criou e selecione **Propriedades** no painel de ações.</span><span class="sxs-lookup"><span data-stu-id="b20a1-142">In the **Inbound Rules** list, right click the rule you created, and then select **Properties** in the action pane.</span></span>  
  
    8.  <span data-ttu-id="b20a1-143">Selecione a guia **Protocolos e Portas** .</span><span class="sxs-lookup"><span data-stu-id="b20a1-143">Select the **Protocols and Ports** tab.</span></span>  
  
    9. <span data-ttu-id="b20a1-144">Selecione **TCP** na caixa **Tipo de protocolo:** , selecione **Mapeador de Pontos de Extremidade RPC** na caixa **Porta local:** , clique em **Aplicar**e clique em **OK**.</span><span class="sxs-lookup"><span data-stu-id="b20a1-144">Select **TCP** in the **Protocol type:** box, select **RPC Endpoint Mapper** in the **Local port:** box, click **Apply**, and then click **OK**.</span></span>  
  
-   <span data-ttu-id="b20a1-145">Se a política do domínio exigir que as comunicações de rede sejam feitas via IPsec, você também deverá adicionar regras de entrada para abrir as portas UDP 4500 e 500.</span><span class="sxs-lookup"><span data-stu-id="b20a1-145">If the domain policy requires network communications to be done through IPsec, you must also add inbound rules opening UDP port 4500 and UDP port 500.</span></span>  
  
## <a name="firewall-rules-on-the-client"></a><span data-ttu-id="b20a1-146">Regras de firewall no cliente</span><span class="sxs-lookup"><span data-stu-id="b20a1-146">Firewall Rules on the Client</span></span>  
 <span data-ttu-id="b20a1-147">No computador que executa o Editor de Consultas do [!INCLUDE[ssDE](../../includes/ssde-md.md)] , a instalação do SQL Server ou a instalação do [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)] pode ter configurado o Firewall do Windows para permitir a depuração remota.</span><span class="sxs-lookup"><span data-stu-id="b20a1-147">On the computer that is running the [!INCLUDE[ssDE](../../includes/ssde-md.md)] Query Editor, the SQL Server setup or [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)] setup may have configured the Windows Firewall to allow remote debugging.</span></span>  
  
 <span data-ttu-id="b20a1-148">Se você obtiver erros ao tentar abrir uma sessão de depuração remota, poderá configurar as exceções de programas e portas usando o **Firewall do Windows com Segurança Avançada** para configurar regras de firewall:</span><span class="sxs-lookup"><span data-stu-id="b20a1-148">If you get errors attempting to open a remote debugging session, you can manually configure the program and port exceptions by using **Windows Firewall with Advanced Security** to configure firewall rules:</span></span>  
  
-   <span data-ttu-id="b20a1-149">Adicione uma entrada de programa a svchost:</span><span class="sxs-lookup"><span data-stu-id="b20a1-149">Add a program entry for svchost:</span></span>  
  
    1.  <span data-ttu-id="b20a1-150">Em **Firewall do Windows com Segurança Avançada**, no painel esquerdo, clique com o botão direito do mouse em **Regras de Entrada**e selecione **Nova Regra** no painel de ações.</span><span class="sxs-lookup"><span data-stu-id="b20a1-150">In **Windows Firewall with Advanced Security**, in the left pane, right-click **Inbound Rules**, and then select **New Rule** in the action pane.</span></span>  
  
    2.  <span data-ttu-id="b20a1-151">Na caixa de diálogo **Tipo de Regra** , selecione **Programa**e clique em **Avançar**.</span><span class="sxs-lookup"><span data-stu-id="b20a1-151">In the **Rule Type** dialog, select **Program**, and then click **Next**.</span></span>  
  
    3.  <span data-ttu-id="b20a1-152">Na caixa de diálogo **Programa** , selecione **Este caminho de programa:** e insira o caminho completo para sqlservr.exe.</span><span class="sxs-lookup"><span data-stu-id="b20a1-152">In the **Program** dialog, select **This program path:** and enter the full path to svchost.exe.</span></span> <span data-ttu-id="b20a1-153">Por padrão, svchost.exe é instalado em %systemroot%\ System32\svchost.exe.</span><span class="sxs-lookup"><span data-stu-id="b20a1-153">By default, svchost.exe is installed in %systemroot%\System32\svchost.exe.</span></span>  
  
    4.  <span data-ttu-id="b20a1-154">Na caixa de diálogo **Ação** , selecione **Permitir a conexão**e clique em **Avançar**.</span><span class="sxs-lookup"><span data-stu-id="b20a1-154">In the **Action** dialog, select **Allow the connection**, and click **Next**.</span></span>  
  
    5.  <span data-ttu-id="b20a1-155">Na caixa de diálogo **Perfil** , selecione qualquer perfil que descreva o ambiente de conexão do computador quando você quiser abrir a sessão de depuração com a instância e clique em **Avançar**.</span><span class="sxs-lookup"><span data-stu-id="b20a1-155">In the **Profile** dialog, select any profiles that describe the computer connection environment when you want to open a debugging session with the instance, and click **Next**.</span></span>  
  
    6.  <span data-ttu-id="b20a1-156">Na caixa de diálogo **Nome** , digite um nome e uma descrição para essa regra e clique em **Concluir**.</span><span class="sxs-lookup"><span data-stu-id="b20a1-156">In the **Name** dialog, type a name and description for this rule and click **Finish**.</span></span>  
  
    7.  <span data-ttu-id="b20a1-157">Na lista **Regras de Entrada** , clique com o botão direito do mouse na regra que você criou e selecione **Propriedades** no painel de ações.</span><span class="sxs-lookup"><span data-stu-id="b20a1-157">In the **Inbound Rules** list, right click the rule you created, and then select **Properties** in the action pane.</span></span>  
  
    8.  <span data-ttu-id="b20a1-158">Selecione a guia **Protocolos e Portas** .</span><span class="sxs-lookup"><span data-stu-id="b20a1-158">Select the **Protocols and Ports** tab.</span></span>  
  
    9. <span data-ttu-id="b20a1-159">Selecione **TCP** na caixa **Tipo de protocolo:** , selecione **Mapeador de Pontos de Extremidade RPC** na caixa **Porta local:** , clique em **Aplicar**e clique em **OK**.</span><span class="sxs-lookup"><span data-stu-id="b20a1-159">Select **TCP** in the **Protocol type:** box, select **RPC Endpoint Mapper** in the **Local port:** box, click **Apply**, and then click **OK**.</span></span>  
  
-   <span data-ttu-id="b20a1-160">Adicione uma entrada de programa ao aplicativo que hospeda o Editor de Consultas do [!INCLUDE[ssDE](../../includes/ssde-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="b20a1-160">Add a program entry for the application hosting the [!INCLUDE[ssDE](../../includes/ssde-md.md)] Query Editor.</span></span> <span data-ttu-id="b20a1-161">Se você precisar abrir sessões remotas de depuração no [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] e no [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)] no mesmo computador, adicione uma regra de programa a ambas:</span><span class="sxs-lookup"><span data-stu-id="b20a1-161">If you need to open remote debugging sessions from both [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] and [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)] on the same computer, you must add a program rule for both:</span></span>  
  
    1.  <span data-ttu-id="b20a1-162">Em **Firewall do Windows com Segurança Avançada**, no painel esquerdo, clique com o botão direito do mouse em **Regras de Entrada**e selecione **Nova Regra** no painel de ações.</span><span class="sxs-lookup"><span data-stu-id="b20a1-162">In **Windows Firewall with Advanced Security**, in the left pane, right-click **Inbound Rules**, and then select **New Rule** in the action pane.</span></span>  
  
    2.  <span data-ttu-id="b20a1-163">Na caixa de diálogo **Tipo de Regra** , selecione **Programa**e clique em **Avançar**.</span><span class="sxs-lookup"><span data-stu-id="b20a1-163">In the **Rule Type** dialog, select **Program**, and then click **Next**.</span></span>  
  
    3.  <span data-ttu-id="b20a1-164">Na caixa de diálogo **Programa** , selecione **Este caminho de programa:** e insira um destes três valores.</span><span class="sxs-lookup"><span data-stu-id="b20a1-164">In the **Program** dialog, select **This program path:** and enter one of these three values.</span></span>  
  
        -   <span data-ttu-id="b20a1-165">Para o [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)], insira o caminho completo para ssms.exe.</span><span class="sxs-lookup"><span data-stu-id="b20a1-165">For [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)], enter the full path to ssms.exe.</span></span> <span data-ttu-id="b20a1-166">Por padrão, ssms.exe é instalado em C:\Arquivos de Programas (x86)\Microsoft SQL Server\120\Tools\Management Studio.</span><span class="sxs-lookup"><span data-stu-id="b20a1-166">By default, ssms.exe is installed in C:\Program Files (x86)\Microsoft SQL Server\120\Tools\Binn\Management Studio.</span></span>  
  
        -   <span data-ttu-id="b20a1-167">Para o [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)] , insira o caminho completo para devenv.exe:</span><span class="sxs-lookup"><span data-stu-id="b20a1-167">For [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)] enter the full path to devenv.exe:</span></span>  
  
            1.  <span data-ttu-id="b20a1-168">Por padrão, o arquivo devenv.exe do Visual Studio 2010 está em C:\Arquivos de Programas (x86)\Microsoft Visual Studio 10.0\Common7\IDE.</span><span class="sxs-lookup"><span data-stu-id="b20a1-168">By default, the devenv.exe for Visual Studio 2010 is in C:\Program Files (x86)\Microsoft Visual Studio 10.0\Common7\IDE.</span></span>  
  
            2.  <span data-ttu-id="b20a1-169">Por padrão, o arquivo devenv.exe do Visual Studio 2012 está em C:\Arquivos de Programas (x86)\Microsoft Visual Studio 11.0\Common7\IDE</span><span class="sxs-lookup"><span data-stu-id="b20a1-169">By default, the devenv.exe for Visual Studio 2012 is in C:\Program Files (x86)\Microsoft Visual Studio 11.0\Common7\IDE</span></span>  
  
            3.  <span data-ttu-id="b20a1-170">Você pode encontrar o caminho para ssms.exe a partir do atalho usado para iniciar o [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span><span class="sxs-lookup"><span data-stu-id="b20a1-170">You can find the path to ssms.exe from the shortcut you use to launch [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span></span> <span data-ttu-id="b20a1-171">Você pode encontrar o caminho para devenv.exe a partir do atalho usado para iniciar o [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)].</span><span class="sxs-lookup"><span data-stu-id="b20a1-171">You can find the path to devenv.exe from the shortcut you use to launch [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)].</span></span> <span data-ttu-id="b20a1-172">Clique com o botão direito do mouse no atalho e selecione **Propriedades**.</span><span class="sxs-lookup"><span data-stu-id="b20a1-172">Right click the shortcut and select **Properties**.</span></span> <span data-ttu-id="b20a1-173">O executável e o caminho são listados na caixa de **Destino** .</span><span class="sxs-lookup"><span data-stu-id="b20a1-173">The executable and path are listed in the **Target** box.</span></span>  
  
    4.  <span data-ttu-id="b20a1-174">Na caixa de diálogo **Ação** , selecione **Permitir a conexão**e clique em **Avançar**.</span><span class="sxs-lookup"><span data-stu-id="b20a1-174">In the **Action** dialog, select **Allow the connection**, and click **Next**.</span></span>  
  
    5.  <span data-ttu-id="b20a1-175">Na caixa de diálogo **Perfil** , selecione qualquer perfil que descreva o ambiente de conexão do computador quando você quiser abrir a sessão de depuração com a instância e clique em **Avançar**.</span><span class="sxs-lookup"><span data-stu-id="b20a1-175">In the **Profile** dialog, select any profiles that describe the computer connection environment when you want to open a debugging session with the instance, and click **Next**.</span></span>  
  
    6.  <span data-ttu-id="b20a1-176">Na caixa de diálogo **Nome** , digite um nome e uma descrição para essa regra e clique em **Concluir**.</span><span class="sxs-lookup"><span data-stu-id="b20a1-176">In the **Name** dialog, type a name and description for this rule and click **Finish**.</span></span>  
  
    7.  <span data-ttu-id="b20a1-177">Na lista **Regras de Entrada** , clique com o botão direito do mouse na regra que você criou e selecione **Propriedades** no painel de ações.</span><span class="sxs-lookup"><span data-stu-id="b20a1-177">In the **Inbound Rules** list, right click the rule you created, and then select **Properties** in the action pane.</span></span>  
  
    8.  <span data-ttu-id="b20a1-178">Selecione a guia **Protocolos e Portas** .</span><span class="sxs-lookup"><span data-stu-id="b20a1-178">Select the **Protocols and Ports** tab.</span></span>  
  
    9. <span data-ttu-id="b20a1-179">Selecione **TCP** na caixa **Tipo de protocolo:** , selecione **Portas Dinâmicas RPC** na caixa **Porta local:** , clique em **Aplicar**e clique em **OK**.</span><span class="sxs-lookup"><span data-stu-id="b20a1-179">Select **TCP** in the **Protocol type:** box, select **RPC Dynamic Ports** in the **Local port:** box, click **Apply**, and then click **OK**.</span></span>  
  
## <a name="requirements-for-starting-the-debugger"></a><span data-ttu-id="b20a1-180">Requisitos para iniciar o depurador</span><span class="sxs-lookup"><span data-stu-id="b20a1-180">Requirements for Starting the Debugger</span></span>  
 <span data-ttu-id="b20a1-181">Todas as tentativas de iniciar o depurador do [!INCLUDE[tsql](../../includes/tsql-md.md)] também devem atender aos seguintes requisitos:</span><span class="sxs-lookup"><span data-stu-id="b20a1-181">All attempts to start the [!INCLUDE[tsql](../../includes/tsql-md.md)] debugger must also meet the following requirements:</span></span>  
  
* [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] <span data-ttu-id="b20a1-182">ou o [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)] deve estar sendo executado em uma conta do Windows que seja membro da função de servidor fixa sysadmin.</span><span class="sxs-lookup"><span data-stu-id="b20a1-182">or [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)] must be running under a Windows account that is a member of the sysadmin fixed server roll.</span></span>  
  
* <span data-ttu-id="b20a1-183">A janela do Editor de Consultas do [!INCLUDE[ssDE](../../includes/ssde-md.md)] deve ser conectada usando um logon de Autenticação do Windows ou Autenticação do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] que seja um membro da função de servidor fixa sysadmin.</span><span class="sxs-lookup"><span data-stu-id="b20a1-183">The [!INCLUDE[ssDE](../../includes/ssde-md.md)] Query Editor window must be connected by using either a Windows Authentication or [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Authentication login that is a member of the sysadmin fixed server role.</span></span>  
  
* <span data-ttu-id="b20a1-184">A janela do Editor de Consultas do [!INCLUDE[ssDE](../../includes/ssde-md.md)] deve estar conectada a uma instância do [!INCLUDE[ssDE](../../includes/ssde-md.md)] do [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] Service Pack 2 (SP2) ou posterior.</span><span class="sxs-lookup"><span data-stu-id="b20a1-184">The [!INCLUDE[ssDE](../../includes/ssde-md.md)] Query Editor window must be connected to an instance of the [!INCLUDE[ssDE](../../includes/ssde-md.md)] from [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] Service Pack 2 (SP2) or later.</span></span> <span data-ttu-id="b20a1-185">Não é possível executar o depurador quando a janela do Editor de Consultas está conectada a uma instância que está no modo de usuário único.</span><span class="sxs-lookup"><span data-stu-id="b20a1-185">You cannot run the debugger when the Query Editor window is connected to an instance that is in single-user mode.</span></span>

* <span data-ttu-id="b20a1-186">O servidor precisa se comunicar com o cliente via RPC.</span><span class="sxs-lookup"><span data-stu-id="b20a1-186">The server needs to communicate back to the client via RPC.</span></span> <span data-ttu-id="b20a1-187">A conta sob a qual o serviço de SQL Server está em execução deve ter permissões de autenticação para o cliente.</span><span class="sxs-lookup"><span data-stu-id="b20a1-187">The account under which SQL Server service is running should have authenticate permissions to the client.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="b20a1-188">Consulte Também</span><span class="sxs-lookup"><span data-stu-id="b20a1-188">See Also</span></span>  
 <span data-ttu-id="b20a1-189">[Depurador do Transact-SQL](transact-sql-debugger.md) </span><span class="sxs-lookup"><span data-stu-id="b20a1-189">[Transact-SQL Debugger](transact-sql-debugger.md) </span></span>  
 <span data-ttu-id="b20a1-190">[Executar o depurador Transact-SQL](run-the-transact-sql-debugger.md) </span><span class="sxs-lookup"><span data-stu-id="b20a1-190">[Run the Transact-SQL Debugger](run-the-transact-sql-debugger.md) </span></span>  
 <span data-ttu-id="b20a1-191">[Percorrer código Transact-SQL](step-through-transact-sql-code.md) </span><span class="sxs-lookup"><span data-stu-id="b20a1-191">[Step Through Transact-SQL Code](step-through-transact-sql-code.md) </span></span>  
 <span data-ttu-id="b20a1-192">[Informações do depurador Transact-SQL](transact-sql-debugger-information.md) </span><span class="sxs-lookup"><span data-stu-id="b20a1-192">[Transact-SQL Debugger Information](transact-sql-debugger-information.md) </span></span>  
 [<span data-ttu-id="b20a1-193">Editor de Consultas do Mecanismo de Banco de Dados &#40;SQL Server Management Studio&#41;</span><span class="sxs-lookup"><span data-stu-id="b20a1-193">Database Engine Query Editor &#40;SQL Server Management Studio&#41;</span></span>](database-engine-query-editor-sql-server-management-studio.md)  
  
  
