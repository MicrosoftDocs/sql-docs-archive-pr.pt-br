---
title: Conversões de C para SQL | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: native-client
ms.topic: reference
helpviewer_keywords:
- conversions [ODBC], C to SQL
ms.assetid: 7ac098db-9147-4883-8da9-a58ab24a0d31
author: rothja
ms.author: jroth
ms.openlocfilehash: 2ec8856b9c516ff3693da2ebf1077289d414e589
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87576337"
---
# <a name="conversions-from-c-to-sql"></a><span data-ttu-id="53a8f-102">Conversões do C para o SQL</span><span class="sxs-lookup"><span data-stu-id="53a8f-102">Conversions from C to SQL</span></span>
  <span data-ttu-id="53a8f-103">Este tópico lista os problemas a serem considerados quando você converte de tipos C em [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] tipos de data/hora.</span><span class="sxs-lookup"><span data-stu-id="53a8f-103">This topic lists issues to consider when you convert from C types to [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] date/time types.</span></span>  
  
 <span data-ttu-id="53a8f-104">As conversões descritas na tabela a seguir se aplicam a conversões feitas no cliente.</span><span class="sxs-lookup"><span data-stu-id="53a8f-104">The conversions described in the following table apply to conversions made on the client.</span></span> <span data-ttu-id="53a8f-105">Nos casos em que o cliente especifica uma precisão de frações de segundo para um parâmetro diferente daquela definida no servidor, a conversão do cliente pode ser bem-sucedida, mas o servidor irá retornar um erro quando `SQLExecute` ou `SQLExecuteDirect` for chamado.</span><span class="sxs-lookup"><span data-stu-id="53a8f-105">In cases where the client specifies fractional second precision for a parameter that differs from that defined on the server, the client conversion might succeed but the server will return an error when `SQLExecute` or `SQLExecuteDirect` is called.</span></span> <span data-ttu-id="53a8f-106">Em particular, o cliente trata qualquer truncamento de frações de segundo como um erro, enquanto o comportamento do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] é arredondar; por exemplo, o arredondamento ocorre quando você vai do `datetime2(6)` para o `datetime2(2)`.</span><span class="sxs-lookup"><span data-stu-id="53a8f-106">In particular, ODBC treats any truncation of fractional seconds as an error, whereas the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] behavior is to round; for example, rounding occurs when you go from `datetime2(6)` to `datetime2(2)`.</span></span> <span data-ttu-id="53a8f-107">Os valores da coluna datetime são arredondados para 1/300º de um segundo e as colunas smalldatetime têm os segundos definidos como zero pelo servidor.</span><span class="sxs-lookup"><span data-stu-id="53a8f-107">Datetime column values are rounded to 1/300th of a second and smalldatetime columns have seconds set to zero by the server.</span></span>  
  
|||||||||  
|-|-|-|-|-|-|-|-|  
||<span data-ttu-id="53a8f-108">SQL_TYPE_DATE</span><span class="sxs-lookup"><span data-stu-id="53a8f-108">SQL_TYPE_DATE</span></span>|<span data-ttu-id="53a8f-109">SQL_TYPE_TIME</span><span class="sxs-lookup"><span data-stu-id="53a8f-109">SQL_TYPE_TIME</span></span>|<span data-ttu-id="53a8f-110">SQL_SS_TIME2</span><span class="sxs-lookup"><span data-stu-id="53a8f-110">SQL_SS_TIME2</span></span>|<span data-ttu-id="53a8f-111">SQL_TYPE_TIMESTAMP</span><span class="sxs-lookup"><span data-stu-id="53a8f-111">SQL_TYPE_TIMESTAMP</span></span>|<span data-ttu-id="53a8f-112">SQL_SS_TIMSTAMPOFFSET</span><span class="sxs-lookup"><span data-stu-id="53a8f-112">SQL_SS_TIMSTAMPOFFSET</span></span>|<span data-ttu-id="53a8f-113">SQL_CHAR</span><span class="sxs-lookup"><span data-stu-id="53a8f-113">SQL_CHAR</span></span>|<span data-ttu-id="53a8f-114">SQL_WCHAR</span><span class="sxs-lookup"><span data-stu-id="53a8f-114">SQL_WCHAR</span></span>|  
|<span data-ttu-id="53a8f-115">SQL_C_DATE</span><span class="sxs-lookup"><span data-stu-id="53a8f-115">SQL_C_DATE</span></span>|<span data-ttu-id="53a8f-116">1</span><span class="sxs-lookup"><span data-stu-id="53a8f-116">1</span></span>|-|-|<span data-ttu-id="53a8f-117">1,6</span><span class="sxs-lookup"><span data-stu-id="53a8f-117">1,6</span></span>|<span data-ttu-id="53a8f-118">1,5,6</span><span class="sxs-lookup"><span data-stu-id="53a8f-118">1,5,6</span></span>|<span data-ttu-id="53a8f-119">1,13</span><span class="sxs-lookup"><span data-stu-id="53a8f-119">1,13</span></span>|<span data-ttu-id="53a8f-120">1,13</span><span class="sxs-lookup"><span data-stu-id="53a8f-120">1,13</span></span>|  
|<span data-ttu-id="53a8f-121">SQL_C_TIME</span><span class="sxs-lookup"><span data-stu-id="53a8f-121">SQL_C_TIME</span></span>|-|<span data-ttu-id="53a8f-122">1</span><span class="sxs-lookup"><span data-stu-id="53a8f-122">1</span></span>|<span data-ttu-id="53a8f-123">1</span><span class="sxs-lookup"><span data-stu-id="53a8f-123">1</span></span>|<span data-ttu-id="53a8f-124">1,7</span><span class="sxs-lookup"><span data-stu-id="53a8f-124">1,7</span></span>|<span data-ttu-id="53a8f-125">1, 5, 7</span><span class="sxs-lookup"><span data-stu-id="53a8f-125">1,5,7</span></span>|<span data-ttu-id="53a8f-126">1,13</span><span class="sxs-lookup"><span data-stu-id="53a8f-126">1,13</span></span>|<span data-ttu-id="53a8f-127">1,13</span><span class="sxs-lookup"><span data-stu-id="53a8f-127">1,13</span></span>|  
|<span data-ttu-id="53a8f-128">SQL_C_SS_TIME2</span><span class="sxs-lookup"><span data-stu-id="53a8f-128">SQL_C_SS_TIME2</span></span>|-|<span data-ttu-id="53a8f-129">1,3</span><span class="sxs-lookup"><span data-stu-id="53a8f-129">1,3</span></span>|<span data-ttu-id="53a8f-130">1,10</span><span class="sxs-lookup"><span data-stu-id="53a8f-130">1,10</span></span>|<span data-ttu-id="53a8f-131">1,7</span><span class="sxs-lookup"><span data-stu-id="53a8f-131">1,7</span></span>|<span data-ttu-id="53a8f-132">1, 5, 7</span><span class="sxs-lookup"><span data-stu-id="53a8f-132">1,5,7</span></span>|<span data-ttu-id="53a8f-133">1,13</span><span class="sxs-lookup"><span data-stu-id="53a8f-133">1,13</span></span>|<span data-ttu-id="53a8f-134">1,13</span><span class="sxs-lookup"><span data-stu-id="53a8f-134">1,13</span></span>|  
|<span data-ttu-id="53a8f-135">SQL_C_BINARY(SQL_SS_TIME2_STRUCT)</span><span class="sxs-lookup"><span data-stu-id="53a8f-135">SQL_C_BINARY(SQL_SS_TIME2_STRUCT)</span></span>|<span data-ttu-id="53a8f-136">N/D</span><span class="sxs-lookup"><span data-stu-id="53a8f-136">N/A</span></span>|<span data-ttu-id="53a8f-137">N/D</span><span class="sxs-lookup"><span data-stu-id="53a8f-137">N/A</span></span>|<span data-ttu-id="53a8f-138">1,10,11</span><span class="sxs-lookup"><span data-stu-id="53a8f-138">1,10,11</span></span>|<span data-ttu-id="53a8f-139">N/D</span><span class="sxs-lookup"><span data-stu-id="53a8f-139">N/A</span></span>|<span data-ttu-id="53a8f-140">N/D</span><span class="sxs-lookup"><span data-stu-id="53a8f-140">N/A</span></span>|<span data-ttu-id="53a8f-141">N/D</span><span class="sxs-lookup"><span data-stu-id="53a8f-141">N/A</span></span>|<span data-ttu-id="53a8f-142">N/D</span><span class="sxs-lookup"><span data-stu-id="53a8f-142">N/A</span></span>|  
|<span data-ttu-id="53a8f-143">SQL_C_TYPE_TIMESTAMP</span><span class="sxs-lookup"><span data-stu-id="53a8f-143">SQL_C_TYPE_TIMESTAMP</span></span>|<span data-ttu-id="53a8f-144">1,2</span><span class="sxs-lookup"><span data-stu-id="53a8f-144">1,2</span></span>|<span data-ttu-id="53a8f-145">1,3,4</span><span class="sxs-lookup"><span data-stu-id="53a8f-145">1,3,4</span></span>|<span data-ttu-id="53a8f-146">1,4,10</span><span class="sxs-lookup"><span data-stu-id="53a8f-146">1,4,10</span></span>|<span data-ttu-id="53a8f-147">1,10</span><span class="sxs-lookup"><span data-stu-id="53a8f-147">1,10</span></span>|<span data-ttu-id="53a8f-148">1,5,10</span><span class="sxs-lookup"><span data-stu-id="53a8f-148">1,5,10</span></span>|<span data-ttu-id="53a8f-149">1,13</span><span class="sxs-lookup"><span data-stu-id="53a8f-149">1,13</span></span>|<span data-ttu-id="53a8f-150">1,13</span><span class="sxs-lookup"><span data-stu-id="53a8f-150">1,13</span></span>|  
|<span data-ttu-id="53a8f-151">SQL_C_SS_TIMESTAMPOFFSET</span><span class="sxs-lookup"><span data-stu-id="53a8f-151">SQL_C_SS_TIMESTAMPOFFSET</span></span>|<span data-ttu-id="53a8f-152">1,2,8</span><span class="sxs-lookup"><span data-stu-id="53a8f-152">1,2,8</span></span>|<span data-ttu-id="53a8f-153">1,3,4,8</span><span class="sxs-lookup"><span data-stu-id="53a8f-153">1,3,4,8</span></span>|<span data-ttu-id="53a8f-154">1,4,8,10</span><span class="sxs-lookup"><span data-stu-id="53a8f-154">1,4,8,10</span></span>|<span data-ttu-id="53a8f-155">1,8,10</span><span class="sxs-lookup"><span data-stu-id="53a8f-155">1,8,10</span></span>|<span data-ttu-id="53a8f-156">1,10</span><span class="sxs-lookup"><span data-stu-id="53a8f-156">1,10</span></span>|<span data-ttu-id="53a8f-157">1,13</span><span class="sxs-lookup"><span data-stu-id="53a8f-157">1,13</span></span>|<span data-ttu-id="53a8f-158">1,13</span><span class="sxs-lookup"><span data-stu-id="53a8f-158">1,13</span></span>|  
|<span data-ttu-id="53a8f-159">SQL_C_BINARY(SQL_SS_TIMESTAMPOFFSET_STRUCT)</span><span class="sxs-lookup"><span data-stu-id="53a8f-159">SQL_C_BINARY(SQL_SS_TIMESTAMPOFFSET_STRUCT)</span></span>|<span data-ttu-id="53a8f-160">N/D</span><span class="sxs-lookup"><span data-stu-id="53a8f-160">N/A</span></span>|<span data-ttu-id="53a8f-161">N/D</span><span class="sxs-lookup"><span data-stu-id="53a8f-161">N/A</span></span>|<span data-ttu-id="53a8f-162">N/D</span><span class="sxs-lookup"><span data-stu-id="53a8f-162">N/A</span></span>|<span data-ttu-id="53a8f-163">N/D</span><span class="sxs-lookup"><span data-stu-id="53a8f-163">N/A</span></span>|<span data-ttu-id="53a8f-164">1,10,11</span><span class="sxs-lookup"><span data-stu-id="53a8f-164">1,10,11</span></span>|<span data-ttu-id="53a8f-165">N/D</span><span class="sxs-lookup"><span data-stu-id="53a8f-165">N/A</span></span>|<span data-ttu-id="53a8f-166">N/D</span><span class="sxs-lookup"><span data-stu-id="53a8f-166">N/A</span></span>|  
|<span data-ttu-id="53a8f-167">SQL_C_CHAR/SQL_WCHAR (date)</span><span class="sxs-lookup"><span data-stu-id="53a8f-167">SQL_C_CHAR/SQL_WCHAR (date)</span></span>|<span data-ttu-id="53a8f-168">9</span><span class="sxs-lookup"><span data-stu-id="53a8f-168">9</span></span>|<span data-ttu-id="53a8f-169">9</span><span class="sxs-lookup"><span data-stu-id="53a8f-169">9</span></span>|<span data-ttu-id="53a8f-170">9</span><span class="sxs-lookup"><span data-stu-id="53a8f-170">9</span></span>|<span data-ttu-id="53a8f-171">9,6</span><span class="sxs-lookup"><span data-stu-id="53a8f-171">9,6</span></span>|<span data-ttu-id="53a8f-172">9,5,6</span><span class="sxs-lookup"><span data-stu-id="53a8f-172">9,5,6</span></span>|<span data-ttu-id="53a8f-173">N/D</span><span class="sxs-lookup"><span data-stu-id="53a8f-173">N/A</span></span>|<span data-ttu-id="53a8f-174">N/D</span><span class="sxs-lookup"><span data-stu-id="53a8f-174">N/A</span></span>|  
|<span data-ttu-id="53a8f-175">SQL_C_CHAR/SQL_WCHAR (time2)</span><span class="sxs-lookup"><span data-stu-id="53a8f-175">SQL_C_CHAR/SQL_WCHAR (time2)</span></span>|<span data-ttu-id="53a8f-176">9</span><span class="sxs-lookup"><span data-stu-id="53a8f-176">9</span></span>|<span data-ttu-id="53a8f-177">9, 3</span><span class="sxs-lookup"><span data-stu-id="53a8f-177">9,3</span></span>|<span data-ttu-id="53a8f-178">9,10</span><span class="sxs-lookup"><span data-stu-id="53a8f-178">9,10</span></span>|<span data-ttu-id="53a8f-179">9,7,10</span><span class="sxs-lookup"><span data-stu-id="53a8f-179">9,7,10</span></span>|<span data-ttu-id="53a8f-180">9,5,7,10</span><span class="sxs-lookup"><span data-stu-id="53a8f-180">9,5,7,10</span></span>|<span data-ttu-id="53a8f-181">N/D</span><span class="sxs-lookup"><span data-stu-id="53a8f-181">N/A</span></span>|<span data-ttu-id="53a8f-182">N/D</span><span class="sxs-lookup"><span data-stu-id="53a8f-182">N/A</span></span>|  
|<span data-ttu-id="53a8f-183">SQL_C_CHAR/SQL_WCHAR (datetime)</span><span class="sxs-lookup"><span data-stu-id="53a8f-183">SQL_C_CHAR/SQL_WCHAR (datetime)</span></span>|<span data-ttu-id="53a8f-184">9,2</span><span class="sxs-lookup"><span data-stu-id="53a8f-184">9,2</span></span>|<span data-ttu-id="53a8f-185">9, 3, 4</span><span class="sxs-lookup"><span data-stu-id="53a8f-185">9,3,4</span></span>|<span data-ttu-id="53a8f-186">9,4,10</span><span class="sxs-lookup"><span data-stu-id="53a8f-186">9,4,10</span></span>|<span data-ttu-id="53a8f-187">9,10</span><span class="sxs-lookup"><span data-stu-id="53a8f-187">9,10</span></span>|<span data-ttu-id="53a8f-188">9,5,10</span><span class="sxs-lookup"><span data-stu-id="53a8f-188">9,5,10</span></span>|<span data-ttu-id="53a8f-189">N/D</span><span class="sxs-lookup"><span data-stu-id="53a8f-189">N/A</span></span>|<span data-ttu-id="53a8f-190">N/D</span><span class="sxs-lookup"><span data-stu-id="53a8f-190">N/A</span></span>|  
|<span data-ttu-id="53a8f-191">SQL_C_CHAR/SQL_WCHAR (datetimeoffset)</span><span class="sxs-lookup"><span data-stu-id="53a8f-191">SQL_C_CHAR/SQL_WCHAR (datetimeoffset)</span></span>|<span data-ttu-id="53a8f-192">9,2,8</span><span class="sxs-lookup"><span data-stu-id="53a8f-192">9,2,8</span></span>|<span data-ttu-id="53a8f-193">9, 3, 4, 8</span><span class="sxs-lookup"><span data-stu-id="53a8f-193">9,3,4,8</span></span>|<span data-ttu-id="53a8f-194">9,4,8,10</span><span class="sxs-lookup"><span data-stu-id="53a8f-194">9,4,8,10</span></span>|<span data-ttu-id="53a8f-195">9,8,10</span><span class="sxs-lookup"><span data-stu-id="53a8f-195">9,8,10</span></span>|<span data-ttu-id="53a8f-196">9,10</span><span class="sxs-lookup"><span data-stu-id="53a8f-196">9,10</span></span>|<span data-ttu-id="53a8f-197">N/D</span><span class="sxs-lookup"><span data-stu-id="53a8f-197">N/A</span></span>|<span data-ttu-id="53a8f-198">N/D</span><span class="sxs-lookup"><span data-stu-id="53a8f-198">N/A</span></span>|  
|<span data-ttu-id="53a8f-199">SQL_C_BINARY(SQL_DATE_STRUCT)</span><span class="sxs-lookup"><span data-stu-id="53a8f-199">SQL_C_BINARY(SQL_DATE_STRUCT)</span></span>|<span data-ttu-id="53a8f-200">1,11</span><span class="sxs-lookup"><span data-stu-id="53a8f-200">1,11</span></span>|<span data-ttu-id="53a8f-201">N/D</span><span class="sxs-lookup"><span data-stu-id="53a8f-201">N/A</span></span>|<span data-ttu-id="53a8f-202">N/D</span><span class="sxs-lookup"><span data-stu-id="53a8f-202">N/A</span></span>|<span data-ttu-id="53a8f-203">N/D</span><span class="sxs-lookup"><span data-stu-id="53a8f-203">N/A</span></span>|<span data-ttu-id="53a8f-204">N/D</span><span class="sxs-lookup"><span data-stu-id="53a8f-204">N/A</span></span>|<span data-ttu-id="53a8f-205">N/D</span><span class="sxs-lookup"><span data-stu-id="53a8f-205">N/A</span></span>|<span data-ttu-id="53a8f-206">N/D</span><span class="sxs-lookup"><span data-stu-id="53a8f-206">N/A</span></span>|  
|<span data-ttu-id="53a8f-207">SQL_C_BINARY(SQL_TIME_STRUCT)</span><span class="sxs-lookup"><span data-stu-id="53a8f-207">SQL_C_BINARY(SQL_TIME_STRUCT)</span></span>|<span data-ttu-id="53a8f-208">N/D</span><span class="sxs-lookup"><span data-stu-id="53a8f-208">N/A</span></span>|<span data-ttu-id="53a8f-209">N/D</span><span class="sxs-lookup"><span data-stu-id="53a8f-209">N/A</span></span>|<span data-ttu-id="53a8f-210">N/D</span><span class="sxs-lookup"><span data-stu-id="53a8f-210">N/A</span></span>|<span data-ttu-id="53a8f-211">N/D</span><span class="sxs-lookup"><span data-stu-id="53a8f-211">N/A</span></span>|<span data-ttu-id="53a8f-212">N/D</span><span class="sxs-lookup"><span data-stu-id="53a8f-212">N/A</span></span>|<span data-ttu-id="53a8f-213">N/D</span><span class="sxs-lookup"><span data-stu-id="53a8f-213">N/A</span></span>|<span data-ttu-id="53a8f-214">N/D</span><span class="sxs-lookup"><span data-stu-id="53a8f-214">N/A</span></span>|  
|<span data-ttu-id="53a8f-215">SQL_C_BINARY(SQL_TIMESTAMP_STRUCT)</span><span class="sxs-lookup"><span data-stu-id="53a8f-215">SQL_C_BINARY(SQL_TIMESTAMP_STRUCT)</span></span>|<span data-ttu-id="53a8f-216">N/D</span><span class="sxs-lookup"><span data-stu-id="53a8f-216">N/A</span></span>|<span data-ttu-id="53a8f-217">N/D</span><span class="sxs-lookup"><span data-stu-id="53a8f-217">N/A</span></span>|<span data-ttu-id="53a8f-218">N/D</span><span class="sxs-lookup"><span data-stu-id="53a8f-218">N/A</span></span>|<span data-ttu-id="53a8f-219">N/D</span><span class="sxs-lookup"><span data-stu-id="53a8f-219">N/A</span></span>|<span data-ttu-id="53a8f-220">N/D</span><span class="sxs-lookup"><span data-stu-id="53a8f-220">N/A</span></span>|<span data-ttu-id="53a8f-221">N/D</span><span class="sxs-lookup"><span data-stu-id="53a8f-221">N/A</span></span>|<span data-ttu-id="53a8f-222">N/D</span><span class="sxs-lookup"><span data-stu-id="53a8f-222">N/A</span></span>|  
  
## <a name="key-to-symbols"></a><span data-ttu-id="53a8f-223">Legenda dos símbolos</span><span class="sxs-lookup"><span data-stu-id="53a8f-223">Key to Symbols</span></span>  
  
|<span data-ttu-id="53a8f-224">Símbolo</span><span class="sxs-lookup"><span data-stu-id="53a8f-224">Symbol</span></span>|<span data-ttu-id="53a8f-225">Significado</span><span class="sxs-lookup"><span data-stu-id="53a8f-225">Meaning</span></span>|  
|------------|-------------|  
|-|<span data-ttu-id="53a8f-226">Não há suporte a nenhuma conversão.</span><span class="sxs-lookup"><span data-stu-id="53a8f-226">No conversion is supported.</span></span> <span data-ttu-id="53a8f-227">Será gerado um registro de diagnóstico com SQLSTATE 07006 e a mensagem "Violação do atributo de tipo de dados restrito".</span><span class="sxs-lookup"><span data-stu-id="53a8f-227">A diagnostic record is generated with SQLSTATE 07006 and the message "Restricted data type attribute violation".</span></span>|  
|<span data-ttu-id="53a8f-228">1</span><span class="sxs-lookup"><span data-stu-id="53a8f-228">1</span></span>|<span data-ttu-id="53a8f-229">Se os dados fornecidos não forem válidos, um registro de diagnóstico será gerado com SQLSTATE 22007 e a mensagem "Formato de datetime inválido".</span><span class="sxs-lookup"><span data-stu-id="53a8f-229">If the data supplied is not valid, a diagnostic record is generated with SQLSTATE 22007 and the message "Invalid datetime format".</span></span>|  
|<span data-ttu-id="53a8f-230">2</span><span class="sxs-lookup"><span data-stu-id="53a8f-230">2</span></span>|<span data-ttu-id="53a8f-231">Os campos de hora devem ser zero ou um registro de diagnóstico será gerado com SQLSTATE 22008 e a mensagem "Truncamento fracionário".</span><span class="sxs-lookup"><span data-stu-id="53a8f-231">Time fields must be zero or a diagnostic record is generated with SQLSTATE 22008 and the message "Fractional truncation".</span></span>|  
|<span data-ttu-id="53a8f-232">3</span><span class="sxs-lookup"><span data-stu-id="53a8f-232">3</span></span>|<span data-ttu-id="53a8f-233">Os segundos fracionais devem ser zero ou um registro de diagnóstico será gerado com SQLSTATE 22008 e a mensagem "Truncamento fracionário".</span><span class="sxs-lookup"><span data-stu-id="53a8f-233">Fractional seconds must be zero or a diagnostic record is generated with SQLSTATE 22008 and the message "Fractional truncation".</span></span>|  
|<span data-ttu-id="53a8f-234">4</span><span class="sxs-lookup"><span data-stu-id="53a8f-234">4</span></span>|<span data-ttu-id="53a8f-235">O componente de data é ignorado.</span><span class="sxs-lookup"><span data-stu-id="53a8f-235">The date component is ignored.</span></span>|  
|<span data-ttu-id="53a8f-236">5</span><span class="sxs-lookup"><span data-stu-id="53a8f-236">5</span></span>|<span data-ttu-id="53a8f-237">O fuso horário é definido com a configuração de fuso horário do cliente.</span><span class="sxs-lookup"><span data-stu-id="53a8f-237">The timezone is set to the client's timezone setting.</span></span>|  
|<span data-ttu-id="53a8f-238">6</span><span class="sxs-lookup"><span data-stu-id="53a8f-238">6</span></span>|<span data-ttu-id="53a8f-239">A hora é definida como zero.</span><span class="sxs-lookup"><span data-stu-id="53a8f-239">The time is set to zero.</span></span>|  
|<span data-ttu-id="53a8f-240">7</span><span class="sxs-lookup"><span data-stu-id="53a8f-240">7</span></span>|<span data-ttu-id="53a8f-241">A data é definida com a data atual.</span><span class="sxs-lookup"><span data-stu-id="53a8f-241">The date is set to the current date.</span></span>|  
|<span data-ttu-id="53a8f-242">8</span><span class="sxs-lookup"><span data-stu-id="53a8f-242">8</span></span>|<span data-ttu-id="53a8f-243">A hora é convertida do fuso horário do cliente para UTC.</span><span class="sxs-lookup"><span data-stu-id="53a8f-243">The time is converted from the client's timezone to UTC.</span></span> <span data-ttu-id="53a8f-244">Se ocorrer um erro durante esta conversão, um registro de diagnóstico será gerado com SQLSTATE 22008 e a mensagem "Estouro do campo datetime".</span><span class="sxs-lookup"><span data-stu-id="53a8f-244">If an error occurs during this conversion, a diagnostic record is generated with SQLSTATE 22008 and the message "Datetime field overflow".</span></span>|  
|<span data-ttu-id="53a8f-245">9</span><span class="sxs-lookup"><span data-stu-id="53a8f-245">9</span></span>|<span data-ttu-id="53a8f-246">A cadeia de caracteres é analisada e convertida em um valor date, datetime, datetimeoffset ou time, dependendo do primeiro caractere de pontuação encontrado e da presença dos componentes restantes.</span><span class="sxs-lookup"><span data-stu-id="53a8f-246">The string is parsed and converted to a date, datetime, datetimeoffset, or time value, depending on the first punctuation character encountered and the presence of remaining components.</span></span> <span data-ttu-id="53a8f-247">A cadeia de caracteres é então convertida no tipo de destino, seguindo as regras na tabela anterior para o tipo de origem descoberto por este processo.</span><span class="sxs-lookup"><span data-stu-id="53a8f-247">The string is then converted to the target type, following the rules in the preceding table for the source type discovered by this process.</span></span> <span data-ttu-id="53a8f-248">Se for detectado um erro ao analisar os dados, um registro de diagnóstico será gerado com SQLSTATE 22018 e a mensagem "Valor de caractere inválido para a especificação de difusão".</span><span class="sxs-lookup"><span data-stu-id="53a8f-248">If an error is detected while parsing the data, a diagnostic record is generated with SQLSTATE 22018 and the message "Invalid character value for cast specification".</span></span> <span data-ttu-id="53a8f-249">Para os parâmetros datetime e smalldatetime, se o ano estiver fora do intervalo ao qual esses tipos dão suporte, um registro de diagnóstico será gerado com SQLSATE 22007 e a mensagem "Formato de datetime inválido".</span><span class="sxs-lookup"><span data-stu-id="53a8f-249">For datetime and smalldatetime parameters, if the year is outside the range supported by these types, a diagnostic record is generated with SQLSTATE 22007 and the message "Invalid datetime format".</span></span><br /><br /> <span data-ttu-id="53a8f-250">Para datetimeoffset, o valor deve estar dentro do intervalo após a conversão em UTC, mesmo que nenhuma conversão em UTC seja solicitada.</span><span class="sxs-lookup"><span data-stu-id="53a8f-250">For datetimeoffset, the value must be within range after conversion to UTC, even if no conversion to UTC is requested.</span></span> <span data-ttu-id="53a8f-251">O motivo disso é que o TDS e o servidor sempre normalizam a hora em valores datetimeoffset para UTC, por isso o cliente deve verificar se os componentes time estão dentro do intervalo com suporte após a conversão em UTC.</span><span class="sxs-lookup"><span data-stu-id="53a8f-251">This is because TDS and the server always normalize the time in datetimeoffset values for UTC, so the client must verify that time components are within the range supported after conversion to UTC.</span></span> <span data-ttu-id="53a8f-252">Se o valor não estiver no intervalo de UTC com suporte, um registro de diagnóstico será gerado com SQLSTATE 22007 e a mensagem "Formato de datetime inválido".</span><span class="sxs-lookup"><span data-stu-id="53a8f-252">If the value is not within the supported UTC range, a diagnostic record is generated with SQLSTATE 22007 and the message "Invalid datetime format".</span></span>|  
|<span data-ttu-id="53a8f-253">10</span><span class="sxs-lookup"><span data-stu-id="53a8f-253">10</span></span>|<span data-ttu-id="53a8f-254">Se ocorrer truncamento com perda de dados, um registro de diagnóstico será gerado com SQLSTATE 22008 e a mensagem "Formato de hora inválido".</span><span class="sxs-lookup"><span data-stu-id="53a8f-254">If truncation with data loss occurs, a diagnostic record is generated with SQLSTATE 22008 and the message "Invalid time format".</span></span> <span data-ttu-id="53a8f-255">Esse erro também ocorrerá se o valor estiver fora do intervalo que pode ser representado pelo intervalo UTC usado pelo servidor.</span><span class="sxs-lookup"><span data-stu-id="53a8f-255">This error also occurs if the value falls outside the range that can be represented by the UTC range used by the server.</span></span>|  
|<span data-ttu-id="53a8f-256">11</span><span class="sxs-lookup"><span data-stu-id="53a8f-256">11</span></span>|<span data-ttu-id="53a8f-257">Se o comprimento de bytes dos dados não for igual ao tamanho da estrutura exigida pelo tipo SQL, um registro de diagnóstico será gerado com SQLSTATE 22003 e a mensagem "Valor numérico fora do intervalo".</span><span class="sxs-lookup"><span data-stu-id="53a8f-257">If the byte length of the data does not equal the size of the struct required by the SQL type, a diagnostic record is generated with SQLSTATE 22003 and the message "Numeric value out of range".</span></span>|  
|<span data-ttu-id="53a8f-258">12</span><span class="sxs-lookup"><span data-stu-id="53a8f-258">12</span></span>|<span data-ttu-id="53a8f-259">Se o comprimento de bytes dos dados for 4 ou 8, os dados serão enviados para o servidor no formato TDS bruto smalldatetime ou datetime.</span><span class="sxs-lookup"><span data-stu-id="53a8f-259">If the byte length of the data is 4 or 8, the data is sent to the server in raw TDS smalldatetime or datetime format.</span></span> <span data-ttu-id="53a8f-260">Se o comprimento de bytes dos dados corresponder exatamente ao tamanho de SQL_TIMESTAMP_STRUCT, os dados serão convertidos no formato TDS para datetime2.</span><span class="sxs-lookup"><span data-stu-id="53a8f-260">If the byte length of the data exactly matches the size of SQL_TIMESTAMP_STRUCT, the data is converted to the TDS format for datetime2.</span></span>|  
|<span data-ttu-id="53a8f-261">13</span><span class="sxs-lookup"><span data-stu-id="53a8f-261">13</span></span>|<span data-ttu-id="53a8f-262">Se ocorrer truncamento com perda de dados, um registro de diagnóstico será gerado com SQLSTATE 22001 e a mensagem "Dados de cadeia de caracteres truncados à direita".</span><span class="sxs-lookup"><span data-stu-id="53a8f-262">If truncation with data loss occurs, a diagnostic record is generated with SQLSTATE 22001 and the message "String data, right truncated".</span></span><br /><br /> <span data-ttu-id="53a8f-263">O número de dígitos de segundos fracionários (a escala) é determinado do tamanho da coluna de destino de acordo com o seguinte:</span><span class="sxs-lookup"><span data-stu-id="53a8f-263">The number of fractional seconds digits (the scale) is determined from the destination column's size according to the following:</span></span><br /><br /> <span data-ttu-id="53a8f-264">**Tipo:** SQL_C_TYPE_TIMESTAMP</span><span class="sxs-lookup"><span data-stu-id="53a8f-264">**Type:** SQL_C_TYPE_TIMESTAMP</span></span><br /><br /> <span data-ttu-id="53a8f-265">Escala implícita</span><span class="sxs-lookup"><span data-stu-id="53a8f-265">Implied Scale</span></span><br /><br /> <span data-ttu-id="53a8f-266">0</span><span class="sxs-lookup"><span data-stu-id="53a8f-266">0</span></span><br /><br /> <span data-ttu-id="53a8f-267">19</span><span class="sxs-lookup"><span data-stu-id="53a8f-267">19</span></span><br /><br /> <span data-ttu-id="53a8f-268">Escala implícita</span><span class="sxs-lookup"><span data-stu-id="53a8f-268">Implied Scale</span></span><br /><br /> <span data-ttu-id="53a8f-269">1.. 9</span><span class="sxs-lookup"><span data-stu-id="53a8f-269">1..9</span></span><br /><br /> <span data-ttu-id="53a8f-270">21..29</span><span class="sxs-lookup"><span data-stu-id="53a8f-270">21..29</span></span><br /><br /> <span data-ttu-id="53a8f-271">Entretanto, para SQL_C_TYPE_TIMESTAMP, se as frações de segundo puderem ser representadas com três dígitos sem perda de dados e o tamanho da coluna for 23 ou maior, serão gerados exatamente três dígitos de frações de segundo.</span><span class="sxs-lookup"><span data-stu-id="53a8f-271">However, for SQL_C_TYPE_TIMESTAMP, if the fractional seconds can be represented with three digits without data loss and the column size is 23 or larger, then exactly three fractional seconds' digits are generated.</span></span> <span data-ttu-id="53a8f-272">Esse comportamento assegura a compatibilidade com versões anteriores de aplicativos desenvolvidos usando drivers ODBC mais antigos.</span><span class="sxs-lookup"><span data-stu-id="53a8f-272">This behavior ensures backwards compatibility for applications developed using older ODBC drivers.</span></span><br /><br /> <span data-ttu-id="53a8f-273">Para tamanhos de coluna maiores do que o intervalo na tabela, é sugerida uma escala de 9.</span><span class="sxs-lookup"><span data-stu-id="53a8f-273">For column sizes larger than the range in the table, a scale of 9 is implied.</span></span> <span data-ttu-id="53a8f-274">Essa conversão deve permitir até nove dígitos de frações de segundo, o máximo permitido pelo ODBC.</span><span class="sxs-lookup"><span data-stu-id="53a8f-274">This conversion should allow for up to nine fractional seconds digits, the maximum allowed by ODBC.</span></span><br /><br /> <span data-ttu-id="53a8f-275">Um tamanho de coluna zero implica em tamanho ilimitado para tipos de caracteres de comprimento variável no ODBC (9 dígitos, a menos que a regra de 3 dígitos para SQL_C_TYPE_TIMESTAMP se aplique).</span><span class="sxs-lookup"><span data-stu-id="53a8f-275">A column size of zero implies unlimited size for variable length character types in ODBC (9 digits, unless the 3-digit rule for SQL_C_TYPE_TIMESTAMP applies).</span></span> <span data-ttu-id="53a8f-276">A especificação de um tamanho de coluna zero com um tipo de caractere de comprimento fixo é um erro.</span><span class="sxs-lookup"><span data-stu-id="53a8f-276">Specifying a column size of zero with a fixed length character type is an error.</span></span>|  
|<span data-ttu-id="53a8f-277">N/D</span><span class="sxs-lookup"><span data-stu-id="53a8f-277">N/A</span></span>|<span data-ttu-id="53a8f-278">O [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] existente e o comportamento anterior é mantido.</span><span class="sxs-lookup"><span data-stu-id="53a8f-278">Existing [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] and earlier behavior is maintained.</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="53a8f-279">Consulte Também</span><span class="sxs-lookup"><span data-stu-id="53a8f-279">See Also</span></span>  
 [<span data-ttu-id="53a8f-280">Melhorias de data e hora &#40;&#41;ODBC</span><span class="sxs-lookup"><span data-stu-id="53a8f-280">Date and Time Improvements &#40;ODBC&#41;</span></span>](date-and-time-improvements-odbc.md)  
  
  
