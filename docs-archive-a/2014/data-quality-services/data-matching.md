---
title: Correspondência de dados | Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: data-quality-services
ms.topic: conceptual
ms.assetid: fe66d098-bec3-4258-b42a-479ae460feb3
author: lrtoyou1223
ms.author: lle
ms.openlocfilehash: 42fcb346e46229d28c62b256d328d6af4fc6cfec
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87570882"
---
# <a name="data-matching"></a><span data-ttu-id="70d1b-102">Correspondência de dados</span><span class="sxs-lookup"><span data-stu-id="70d1b-102">Data Matching</span></span>
  <span data-ttu-id="70d1b-103">O processo de correspondência de dados do [!INCLUDE[ssDQSnoversion](../includes/ssdqsnoversion-md.md)] (DQS) ajuda você a reduzir a duplicação de dados e a aprimorar a exatidão dos dados em uma fonte de dados.</span><span class="sxs-lookup"><span data-stu-id="70d1b-103">The [!INCLUDE[ssDQSnoversion](../includes/ssdqsnoversion-md.md)] (DQS) data matching process enables you to reduce data duplication and improve data accuracy in a data source.</span></span> <span data-ttu-id="70d1b-104">A correspondência analisa o grau de duplicação em todos os registros de uma única fonte de dados, retornando probabilidades ponderadas de uma correspondência entre cada conjunto de registros comparados.</span><span class="sxs-lookup"><span data-stu-id="70d1b-104">Matching analyzes the degree of duplication in all records of a single data source, returning weighted probabilities of a match between each set of records compared.</span></span> <span data-ttu-id="70d1b-105">Você pode decidir então quais registros são correspondências e executar a ação apropriada nos dados de origem.</span><span class="sxs-lookup"><span data-stu-id="70d1b-105">You can then decide which records are matches and take the appropriate action on the source data.</span></span>

 <span data-ttu-id="70d1b-106">O processo de correspondência do DQS tem os seguintes benefícios:</span><span class="sxs-lookup"><span data-stu-id="70d1b-106">The DQS matching process has the following benefits:</span></span>

-   <span data-ttu-id="70d1b-107">A correspondência permite que você elimine as diferenças entre os valores de dados que deveriam ser iguais, determinando o valor correto e reduzindo os erros que as diferenças de dados podem causar.</span><span class="sxs-lookup"><span data-stu-id="70d1b-107">Matching enables you to eliminate differences between data values that should be equal, determining the correct value and reducing the errors that data differences can cause.</span></span> <span data-ttu-id="70d1b-108">Por exemplo, nomes e endereços são frequentemente os dados que identificam uma fonte de dados, em particular os dados do cliente, mas os dados podem se tornar incorretos e se deteriorar com o tempo.</span><span class="sxs-lookup"><span data-stu-id="70d1b-108">For example, names and addresses are often the identifying data for a data source, particularly customer data, but the data can become dirty and deteriorate over time.</span></span> <span data-ttu-id="70d1b-109">A execução da correspondência para identificar e corrigir esses erros pode facilitar muito o uso e a manutenção dos dados.</span><span class="sxs-lookup"><span data-stu-id="70d1b-109">Performing matching to identify and correct these errors can make data use and maintenance much easier.</span></span>

-   <span data-ttu-id="70d1b-110">A correspondência permite que você garanta que os valores equivalentes, mas inseridos em um formato ou estilo diferente, sejam renderizados de maneira uniforme.</span><span class="sxs-lookup"><span data-stu-id="70d1b-110">Matching enables you to ensure that values that are equivalent, but were entered in a different format or style, are rendered uniform.</span></span>

-   <span data-ttu-id="70d1b-111">A correspondência identifica correspondências exatas e aproximadas, permitindo que você remova dados duplicados na medida em que eles forem definidos.</span><span class="sxs-lookup"><span data-stu-id="70d1b-111">Matching identifies exact and approximate matches, enabling you to remove duplicate data as you define it.</span></span> <span data-ttu-id="70d1b-112">Você define o ponto no qual uma correspondência aproximada é realmente uma correspondência.</span><span class="sxs-lookup"><span data-stu-id="70d1b-112">You define the point at which an approximate match is in fact a match.</span></span> <span data-ttu-id="70d1b-113">Você define quais campos são avaliados para a correspondência e quais não são.</span><span class="sxs-lookup"><span data-stu-id="70d1b-113">You define which fields are assessed for matching, and which are not.</span></span>

-   <span data-ttu-id="70d1b-114">O DQS permite que você crie uma política de correspondência usando um processo auxiliado por computador, modifique-a interativamente com base nos resultados correspondentes e adicione-a a uma base de dados de conhecimento que seja reutilizável.</span><span class="sxs-lookup"><span data-stu-id="70d1b-114">DQS enables you to create a matching policy using a computer-assisted process, modify it interactively based upon matching results, and add it to a knowledge base that is reusable.</span></span>

-   <span data-ttu-id="70d1b-115">Você pode reindexar dados copiados da origem para a tabela de preparo ou não reindexá-los, dependendo do estado da política de correspondência e dos dados de origem.</span><span class="sxs-lookup"><span data-stu-id="70d1b-115">You can re-index data copied from the source to the staging table, or not re-index, depending on the state of the matching policy and the source data.</span></span> <span data-ttu-id="70d1b-116">Não reindexar pode melhorar o desempenho.</span><span class="sxs-lookup"><span data-stu-id="70d1b-116">Not re-indexing can improve performance.</span></span>

 <span data-ttu-id="70d1b-117">Você pode executar o processo de correspondência em conjunto com outros processos de limpeza de dados para melhorar qualidade de dados global.</span><span class="sxs-lookup"><span data-stu-id="70d1b-117">You can perform the matching process in conjunction with other data cleansing processes to improve overall data quality.</span></span> <span data-ttu-id="70d1b-118">Você também pode executar a eliminação de duplicação de dados usando a funcionalidade DQS interna do Master Data Services.</span><span class="sxs-lookup"><span data-stu-id="70d1b-118">You can also perform data de-duplication using DQS functionality built into Master Data Services.</span></span> <span data-ttu-id="70d1b-119">Para obter mais informações, consulte [Master Data Services Overview](../master-data-services/master-data-services-overview-mds.md).</span><span class="sxs-lookup"><span data-stu-id="70d1b-119">For more information, see [Master Data Services Overview](../master-data-services/master-data-services-overview-mds.md).</span></span>

 <span data-ttu-id="70d1b-120">A ilustração seguinte mostra como a correspondência de dados é feita no DQS:</span><span class="sxs-lookup"><span data-stu-id="70d1b-120">The following illustration displays how data matching is done in DQS:</span></span>

 <span data-ttu-id="70d1b-121">![Processo de Correspondência no DQS](../../2014/data-quality-services/media/dqs-matchingprocess.gif "Processo de Correspondência no DQS")</span><span class="sxs-lookup"><span data-stu-id="70d1b-121">![Matching Process in DQS](../../2014/data-quality-services/media/dqs-matchingprocess.gif "Matching Process in DQS")</span></span>

##  <a name="how-to-perform-data-matching"></a><a name="How"></a><span data-ttu-id="70d1b-122">Como executar a correspondência de dados</span><span class="sxs-lookup"><span data-stu-id="70d1b-122">How to Perform Data Matching</span></span>
 <span data-ttu-id="70d1b-123">Assim como acontece com outros processos de qualidade de dados no DQS, você executa a correspondência ao criar uma base de dados de conhecimento e ao executar uma atividade de correspondência em um projeto de qualidade de dados nas seguintes etapas:</span><span class="sxs-lookup"><span data-stu-id="70d1b-123">As with other data quality processes in DQS, you perform matching by building a knowledge base and executing a matching activity in a data quality project in the following steps:</span></span>

1.  <span data-ttu-id="70d1b-124">Criar uma política de correspondência na base de dados de conhecimento</span><span class="sxs-lookup"><span data-stu-id="70d1b-124">Create a matching policy in the knowledge base</span></span>

2.  <span data-ttu-id="70d1b-125">Executar um processo de eliminação de duplicação em uma atividade de correspondência que faça parte de um projeto de qualidade de dados.</span><span class="sxs-lookup"><span data-stu-id="70d1b-125">Perform a de-duplication process in a matching activity that is part of a data quality project.</span></span>

###  <a name="building-a-matching-policy"></a><a name="Policy"></a> <span data-ttu-id="70d1b-126">Criando uma política de correspondência</span><span class="sxs-lookup"><span data-stu-id="70d1b-126">Building a Matching Policy</span></span>
 <span data-ttu-id="70d1b-127">Você prepara a base de dados de conhecimento para executar a correspondência ao criar uma política de correspondência na base de dados de conhecimento para definir como o DQS atribui a probabilidade de correspondência.</span><span class="sxs-lookup"><span data-stu-id="70d1b-127">You prepare the knowledge base for performing matching by creating a matching policy in the knowledge base to define how DQS assigns matching probability.</span></span> <span data-ttu-id="70d1b-128">Uma política de correspondência consiste em uma ou mais regras de correspondência que identificam que domínios serão usados quando o DQS avaliar o grau de correspondência entre dois registros e que especificam o peso carregado por cada valor de domínio na avaliação de correspondência.</span><span class="sxs-lookup"><span data-stu-id="70d1b-128">A matching policy consists of one or more matching rules that identify which domains will be used when DQS assesses how well one record matches to another, and specify the weight that each domain value carries in the matching assessment.</span></span> <span data-ttu-id="70d1b-129">Você especifica na regra se os valores do domínio precisam ser uma correspondência exata ou se podem ser apenas semelhantes, e com que grau de semelhança.</span><span class="sxs-lookup"><span data-stu-id="70d1b-129">You specify in the rule whether domain values have to be an exact match or can just be similar, and to what degree of similarity.</span></span> <span data-ttu-id="70d1b-130">Você também especifica se a correspondência de domínio é um pré-requisito.</span><span class="sxs-lookup"><span data-stu-id="70d1b-130">You also specify whether a domain match is a prerequisite.</span></span>

 <span data-ttu-id="70d1b-131">A atividade de política de correspondência do assistente de Gerenciamento de Base de Conhecimento analisa dados de exemplo ao aplicar cada regra de correspondência para comparar dois registros por vez no intervalo de registros.</span><span class="sxs-lookup"><span data-stu-id="70d1b-131">The matching policy activity in the Knowledge Base Management wizard analyzes sample data by applying each matching rule to compare two records at a time throughout the range of records.</span></span> <span data-ttu-id="70d1b-132">Os registros cujas pontuações de correspondência sejam maiores do que um mínimo especificado são agrupados em clusters nos resultados correspondentes.</span><span class="sxs-lookup"><span data-stu-id="70d1b-132">Records whose matching scores are greater than a specified minimum are grouped in clusters in the matching results.</span></span> <span data-ttu-id="70d1b-133">Esses resultados correspondentes não são adicionados à base de dados de conhecimento; são utilizados para o ajuste das regras de correspondência.</span><span class="sxs-lookup"><span data-stu-id="70d1b-133">These matching results are not added to the knowledge base; you use them to tune the matching rules.</span></span> <span data-ttu-id="70d1b-134">A criação de uma política de correspondência pode ser um processo iterativo no qual você modifica regras de correspondência com base nos resultados correspondentes ou nas estatísticas de criação de perfis.</span><span class="sxs-lookup"><span data-stu-id="70d1b-134">Creating a matching policy can be an iterative process in which you modify matching rules based on the matching results or profiling statistics.</span></span>

 <span data-ttu-id="70d1b-135">Você pode especificar para um domínio que as cadeias de caracteres de dados sejam normalizadas no carregamento dos dados da fonte de dados para o domínio.</span><span class="sxs-lookup"><span data-stu-id="70d1b-135">You can specify for a domain that data strings will be normalized when you load data from the data source into the domain.</span></span> <span data-ttu-id="70d1b-136">Este processo consiste na substituição de caracteres especiais por um nulo ou um espaço, o que quase sempre remove a diferença entre duas cadeias de caracteres.</span><span class="sxs-lookup"><span data-stu-id="70d1b-136">This process consists of replacing special characters with a null or a space, which often removes the difference between two strings.</span></span> <span data-ttu-id="70d1b-137">Isso pode aumentar a precisão da correspondência e frequentemente permite que um resultado correspondente ultrapasse o limite mínimo de correspondência, sendo que sem a normalização ele não passaria.</span><span class="sxs-lookup"><span data-stu-id="70d1b-137">This can increase matching accuracy, and can often enable a matching result to surpass the minimum matching threshold, when without normalization it would not pass.</span></span>

> [!NOTE]
>  <span data-ttu-id="70d1b-138">Os valores nulos nos campos correspondentes de dois registros serão considerados como uma correspondência.</span><span class="sxs-lookup"><span data-stu-id="70d1b-138">Null values in the corresponding fields of two records will be considered a match.</span></span>

 <span data-ttu-id="70d1b-139">A política de correspondência é executada em domínios mapeados para os dados de exemplo.</span><span class="sxs-lookup"><span data-stu-id="70d1b-139">The matching policy is run on domains mapped to the sample data.</span></span> <span data-ttu-id="70d1b-140">Você pode especificar se os dados serão ou não copiados da fonte de dados para a tabela de preparo e reindexados quando a política de correspondência for executada.</span><span class="sxs-lookup"><span data-stu-id="70d1b-140">You can specify whether data is copied from the data source into the staging table and re-indexed when you run the matching policy, or not.</span></span> <span data-ttu-id="70d1b-141">Isso pode ser feito durante a criação da base de dados de conhecimento ou durante a execução do projeto de correspondência.</span><span class="sxs-lookup"><span data-stu-id="70d1b-141">You can do so both when building the knowledge base and when running the matching project.</span></span> <span data-ttu-id="70d1b-142">Não reindexar pode resultar em um desempenho aprimorado.</span><span class="sxs-lookup"><span data-stu-id="70d1b-142">Not re-indexing could result in improved performance.</span></span> <span data-ttu-id="70d1b-143">A reindexação não será necessária se o seguinte for verdade: a política de correspondência não foi alterada e você não atualizou a fonte de dados, remapeou a política, selecionou uma nova fonte de dados ou mapeou um ou mais domínios novos.</span><span class="sxs-lookup"><span data-stu-id="70d1b-143">Re-indexing is not necessary if the following is true: the matching policy has not changed, and you have not updated the data source, remapped the policy, selected a new data source, or mapped one or more new domains.</span></span>

 <span data-ttu-id="70d1b-144">Cada regra de correspondência é salva na base de dados de conhecimento quando criada.</span><span class="sxs-lookup"><span data-stu-id="70d1b-144">Each matching rule is saved in the knowledge base when it is created.</span></span> <span data-ttu-id="70d1b-145">Entretanto, uma base de dados de conhecimento só estará disponível para uso em um projeto de qualidade de dados quando for publicada.</span><span class="sxs-lookup"><span data-stu-id="70d1b-145">However, a knowledge base is available for use in a data quality project only when it is published.</span></span> <span data-ttu-id="70d1b-146">Além disso, até que a base de dados de conhecimento seja publicada, as regras de correspondência contidas nela não poderão ser alteradas por um usuário diferente da pessoa que a criou.</span><span class="sxs-lookup"><span data-stu-id="70d1b-146">In addition, until the knowledge base is published, the matching rules in it cannot be changed by a user other than the person who created it.</span></span>

###  <a name="running-a-matching-project"></a><a name="Project"></a> <span data-ttu-id="70d1b-147">Executando um projeto de correspondência</span><span class="sxs-lookup"><span data-stu-id="70d1b-147">Running a Matching Project</span></span>
 <span data-ttu-id="70d1b-148">O DQS executa a eliminação de duplicação de dados ao comparar cada linha dos dados de origem a todas as outras linhas, usando a política de correspondência definida na base de dados de conhecimento e gerando uma probabilidade de que as linhas sejam uma correspondência.</span><span class="sxs-lookup"><span data-stu-id="70d1b-148">DQS performs data de-duplication by comparing each row in the source data to every other row, using the matching policy defined in the knowledge base, and producing a probability that the rows are a match.</span></span> <span data-ttu-id="70d1b-149">Isso é feito em um projeto de qualidade de dados com um tipo de Correspondência.</span><span class="sxs-lookup"><span data-stu-id="70d1b-149">This is done in a data quality project with a type of Matching.</span></span> <span data-ttu-id="70d1b-150">A correspondência é uma das principais etapas de um projeto de qualidade de dados.</span><span class="sxs-lookup"><span data-stu-id="70d1b-150">Matching is one of the major steps in a data quality project.</span></span> <span data-ttu-id="70d1b-151">Ela é mais bem executada após a limpeza de dados, de forma que os dados a serem correspondidos estejam livres de erros.</span><span class="sxs-lookup"><span data-stu-id="70d1b-151">It is best performed after data cleansing, so that the data to be matched is free from error.</span></span> <span data-ttu-id="70d1b-152">Antes de executar um processo de correspondência, você pode exportar os resultados do projeto de limpeza para uma tabela de dados ou para um arquivo .csv e então criar um projeto de correspondência no qual serão mapeados os resultados da limpeza para os domínios do projeto de correspondência.</span><span class="sxs-lookup"><span data-stu-id="70d1b-152">Before running a matching process, you can export the results of the cleansing project into a data table or .csv file, and then create a matching project in which you map the cleansing results to domains in the matching project.</span></span>

 <span data-ttu-id="70d1b-153">Um projeto de correspondência de dados consiste em um processo auxiliado por computador e em um processo interativo.</span><span class="sxs-lookup"><span data-stu-id="70d1b-153">A data matching project consists of a computer-assisted process and an interactive process.</span></span> <span data-ttu-id="70d1b-154">O projeto de correspondência aplica as regras de correspondência da política de correspondência à fonte de dados a ser avaliada.</span><span class="sxs-lookup"><span data-stu-id="70d1b-154">The matching project applies the matching rules in the matching policy to the data source to be assessed.</span></span> <span data-ttu-id="70d1b-155">Esse processo avalia a probabilidade de quaisquer duas linhas serem correspondências em uma pontuação de correspondência.</span><span class="sxs-lookup"><span data-stu-id="70d1b-155">This process assesses the likelihood that any two rows are matches in a matching score.</span></span> <span data-ttu-id="70d1b-156">Somente os registros com uma probabilidade de correspondência maior do que um valor definido pelo administrador de dados na política de correspondência serão considerados como uma correspondência.</span><span class="sxs-lookup"><span data-stu-id="70d1b-156">Only those records with a probability of a match greater than a value set by the data steward in the matching policy will be considered a match.</span></span>

 <span data-ttu-id="70d1b-157">Quando o DQS executa a análise de correspondência, cria clusters de registros considerados como correspondências pelo DQS.</span><span class="sxs-lookup"><span data-stu-id="70d1b-157">When DQS performs the matching analysis, it creates clusters of records that DQS considers matches.</span></span> <span data-ttu-id="70d1b-158">O DQS identifica aleatoriamente um dos registros em cada cluster como o registro dinâmico ou inicial.</span><span class="sxs-lookup"><span data-stu-id="70d1b-158">DQS randomly identifies one of the records in each cluster as the pivot, or leading, record.</span></span> <span data-ttu-id="70d1b-159">O administrador de dados verifica os resultados correspondentes e rejeita qualquer registro que não seja uma correspondência adequada para um cluster.</span><span class="sxs-lookup"><span data-stu-id="70d1b-159">The data steward verifies the matching results, and rejects any record that is not an appropriate match for a cluster.</span></span> <span data-ttu-id="70d1b-160">Em seguida, o administrador de dados seleciona uma regra de sobrevivência que o DQS usará para determinar o registro que sobreviverá ao processo de correspondência e substituirá os registros correspondentes.</span><span class="sxs-lookup"><span data-stu-id="70d1b-160">The data steward then selects a survivorship rule that DQS will use to determine the record that will survive the matching process and replace the matching records.</span></span> <span data-ttu-id="70d1b-161">A regra de sobrevivência pode ser um "Registro dinâmico" (o padrão), "registro mais longo e mais completo", "registro mais completo" ou "registro mais longo".</span><span class="sxs-lookup"><span data-stu-id="70d1b-161">The survivorship rule can be "Pivot record" (the default), "most complete and longest record", "most complete record", or "longest record".</span></span> <span data-ttu-id="70d1b-162">O DQS determina o registro sobrevivente (inicial) de cada cluster baseado em que registro corresponde com mais exatidão aos critérios ou critério da regra de sobrevivência.</span><span class="sxs-lookup"><span data-stu-id="70d1b-162">DQS determines the survivor (leading) record in each cluster based upon which record most closely matches the criteria or criterion in the survivorship rule.</span></span> <span data-ttu-id="70d1b-163">Se vários registros de um determinado cluster cumprirem a regra de sobrevivência, o DQS selecionará um deles aleatoriamente.</span><span class="sxs-lookup"><span data-stu-id="70d1b-163">If multiple records in a given cluster comply with the survivorship rule, DQS selects one of those records randomly.</span></span> <span data-ttu-id="70d1b-164">O DQS oferece a você a opção de exibição de clusters com registros em comum como um único cluster por meio da seleção "mostrar clusters sem sobreposição".</span><span class="sxs-lookup"><span data-stu-id="70d1b-164">DQS gives you the choice of displaying clusters that have records in common as a single cluster by selecting "show non-overlapping clusters".</span></span> <span data-ttu-id="70d1b-165">Você deve executar o processo de correspondência para exibir os resultados de acordo com esta configuração.</span><span class="sxs-lookup"><span data-stu-id="70d1b-165">You must execute the matching process in order to display the results according to this setting.</span></span>

 <span data-ttu-id="70d1b-166">Você pode exportar os resultados do processo de correspondência para uma tabela do SQL Server ou para um arquivo .csv.</span><span class="sxs-lookup"><span data-stu-id="70d1b-166">You can export the results of the matching process either to a SQL Server table or a .csv file.</span></span> <span data-ttu-id="70d1b-167">Você pode exportar resultados correspondentes de duas formas: primeiro, os registros correspondentes e os registros não correspondentes, ou segundo, os registros de sobrevivência que incluem somente o registro sobrevivente para um cluster e os resultados não correspondentes.</span><span class="sxs-lookup"><span data-stu-id="70d1b-167">You can export matching results in two forms: first, the matched records and the unmatched records, or second, survivorship records that include only the survivor record for a cluster and the unmatched results.</span></span> <span data-ttu-id="70d1b-168">Nos registros de sobrevivência, se o mesmo registro for identificado como o sobrevivente para vários clusters, ele será exportado somente uma vez.</span><span class="sxs-lookup"><span data-stu-id="70d1b-168">In the survivorship records, if the same record is identified as the survivor for multiple clusters, that record will only be exported once.</span></span>

## <a name="in-this-section"></a><span data-ttu-id="70d1b-169">Nesta seção</span><span class="sxs-lookup"><span data-stu-id="70d1b-169">In This Section</span></span>
 <span data-ttu-id="70d1b-170">Você pode executar as seguintes tarefas relacionadas à correspondência no DQS:</span><span class="sxs-lookup"><span data-stu-id="70d1b-170">You can perform the following tasks related to matching in DQS:</span></span>

|||
|-|-|
|<span data-ttu-id="70d1b-171">Criar e testar regras de correspondência em uma política de correspondência</span><span class="sxs-lookup"><span data-stu-id="70d1b-171">Create and test matching rules in a matching policy</span></span>|[<span data-ttu-id="70d1b-172">Criar uma política de correspondência</span><span class="sxs-lookup"><span data-stu-id="70d1b-172">Create a Matching Policy</span></span>](../../2014/data-quality-services/create-a-matching-policy.md)|
|<span data-ttu-id="70d1b-173">Executar a correspondência em um projeto de qualidade de dados</span><span class="sxs-lookup"><span data-stu-id="70d1b-173">Run matching in a data quality project</span></span>|[<span data-ttu-id="70d1b-174">Executar um projeto de correspondência</span><span class="sxs-lookup"><span data-stu-id="70d1b-174">Run a Matching Project</span></span>](../../2014/data-quality-services/run-a-matching-project.md)|


