---
title: Anexar um domínio ou domínio de composição aos dados de referência | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: data-quality-services
ms.topic: conceptual
f1_keywords:
- sql12.dqs.dm.refdata.f1
- sql12.dqs.dm.refcatalog.f1
ms.assetid: 36af981c-d0d0-4dc6-afe5-bbb3c97845dc
author: lrtoyou1223
ms.author: lle
ms.openlocfilehash: d54dcb01823253eeda92cc3a576d73a45de4ef7d
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87570278"
---
# <a name="attach-a-domain-or-composite-domain-to-reference-data"></a><span data-ttu-id="089ae-102">Anexar domínio ou domínio de composição a dados de referência</span><span class="sxs-lookup"><span data-stu-id="089ae-102">Attach a Domain or Composite Domain to Reference Data</span></span>
  <span data-ttu-id="089ae-103">Este tópico descreve como anexar domínios/domínios compostos em uma base de conhecimento de qualidade de dados a um serviço de dados de referência no Azure Marketplace para criar conhecimento em relação aos dados de referência de alta qualidade.</span><span class="sxs-lookup"><span data-stu-id="089ae-103">This topic describes how to attach domains/composite domains in a data quality knowledge base to a reference data service in Azure Marketplace to build knowledge against the high-quality reference data.</span></span> <span data-ttu-id="089ae-104">Cada serviço de dados de referência contém um esquema (colunas de dados).</span><span class="sxs-lookup"><span data-stu-id="089ae-104">Each reference data service contains a schema (data columns).</span></span> <span data-ttu-id="089ae-105">Após anexar um domínio ou um domínio composto a um serviço de dados de referência, mapeie o domínio anexado ou os domínios individuais no domínio composto anexado para as colunas apropriadas em um esquema de serviço de dados de referência.</span><span class="sxs-lookup"><span data-stu-id="089ae-105">After attaching a domain or a composite domain to a reference data service, you must map the attached domain or the individual domains within the attached composite domain to the appropriate columns in a reference data service schema.</span></span> <span data-ttu-id="089ae-106">Ao anexar um domínio composto a um serviço de dados de referência, você pode anexar apenas um domínio a um serviço de dados de referência e, em seguida, mapear os domínios individuais no domínio composto para as colunas apropriadas no esquema de serviço de dados de referência.</span><span class="sxs-lookup"><span data-stu-id="089ae-106">Attaching a composite domain to a reference data service enables you to attach just one domain to a reference data service, and then map the individual domains within the composite domain to appropriate columns in the reference data service schema.</span></span>  
  
> [!WARNING]  
>  <span data-ttu-id="089ae-107">O domínio composto anexado a um serviço de dados de referência está disponível na lista suspensa dos domínios ao mapear domínios para colunas no esquema de serviço de dados de referência.</span><span class="sxs-lookup"><span data-stu-id="089ae-107">The composite domain attached to a reference data service is available in the domains drop-down list while mapping domains to the columns in the reference data service schema.</span></span> <span data-ttu-id="089ae-108">Não mapeie o domínio composto para uma coluna no esquema do serviço de dados de referência; mapeie apenas domínios individuais em um domínio composto para as colunas apropriadas no esquema de serviço de dados de referência.</span><span class="sxs-lookup"><span data-stu-id="089ae-108">Do not map the composite domain to a column in the reference data service schema; you must only map individual domains within a composite domain to the appropriate columns in the reference data service schema.</span></span> <span data-ttu-id="089ae-109">Caso contrário, isso resultará em um erro.</span><span class="sxs-lookup"><span data-stu-id="089ae-109">Otherwise, it will result in an error.</span></span>  
  
 <span data-ttu-id="089ae-110">Um esquema de serviço de dados de referência pode ter uma coluna obrigatória que deverá ser mapeada com o domínio apropriado se você optar por usar o serviço de dados de referência.</span><span class="sxs-lookup"><span data-stu-id="089ae-110">A reference data service schema can have a mandatory column that must be mapped with appropriate domain should you choose to use the reference data service.</span></span> <span data-ttu-id="089ae-111">A coluna obrigatória em um esquema de dados de referência é identificada com "(M)" no nome da coluna.</span><span class="sxs-lookup"><span data-stu-id="089ae-111">The mandatory column in a reference data schema is identified with "(M)" against the column name.</span></span> <span data-ttu-id="089ae-112">Por exemplo, **AddressLine** é a coluna de esquema obrigatória em **Melissa Data – Dados de Endereço** e **CompanyName** é a coluna de esquema obrigatória em **Digital Trowel Inc. – Dados de empresas norte-americanas e de profissionais para usuários do SQL**.</span><span class="sxs-lookup"><span data-stu-id="089ae-112">For example, **AddressLine** is the mandatory schema column in **Melissa Data - Address Data** and **CompanyName** is the mandatory schema column in **Digital Trowel Inc. - Us companies and professional data for SQL users**.</span></span>  
  
 <span data-ttu-id="089ae-113">Neste tópico, criaremos quatro domínios: **Linha de endereço**, **Cidade**, **Estado** e **CEP**, em um domínio composto, **Verificação de Endereço**, anexaremos o domínio composto para o serviço de dados de referência de **Melissa Data – Dados de Endereço** e mapearemos os domínios individuais no domínio composto para as colunas no esquema de serviço de dados de referência.</span><span class="sxs-lookup"><span data-stu-id="089ae-113">In this topic, we will create four domains: **Address Line**, **City**, **State**, and **Zip**, under a composite domain, **Address Verification**, attach the composite domain to the **Melissa Data - Address Check** reference data service, and then map the individual domains within the composite domain to appropriate columns in the reference data service schema.</span></span>  
  
## <a name="before-you-begin"></a><span data-ttu-id="089ae-114">Antes de começar</span><span class="sxs-lookup"><span data-stu-id="089ae-114">Before You Begin</span></span>  
  
###  <a name="prerequisites"></a><a name="Prerequisites"></a> <span data-ttu-id="089ae-115">Pré-requisitos</span><span class="sxs-lookup"><span data-stu-id="089ae-115">Prerequisites</span></span>  
 <span data-ttu-id="089ae-116">Você deve configurar o [!INCLUDE[ssDQSnoversion](../includes/ssdqsnoversion-md.md)] (DQS) para usar serviços de dados de referência.</span><span class="sxs-lookup"><span data-stu-id="089ae-116">You must have configured [!INCLUDE[ssDQSnoversion](../includes/ssdqsnoversion-md.md)] (DQS) to use reference data services.</span></span> <span data-ttu-id="089ae-117">Consulte [Configurar o DQS para usar dados de referência](../../2014/data-quality-services/configure-dqs-to-use-reference-data.md).</span><span class="sxs-lookup"><span data-stu-id="089ae-117">See [Configure DQS to Use Reference Data](../../2014/data-quality-services/configure-dqs-to-use-reference-data.md).</span></span>  
  
###  <a name="security"></a><a name="Security"></a> <span data-ttu-id="089ae-118">Segurança</span><span class="sxs-lookup"><span data-stu-id="089ae-118">Security</span></span>  
  
#### <a name="permissions"></a><span data-ttu-id="089ae-119">Permissões</span><span class="sxs-lookup"><span data-stu-id="089ae-119">Permissions</span></span>  
 <span data-ttu-id="089ae-120">Você deve ter a função dqs_kb_editor no banco de dados DQS_MAIN para mapear domínios para os dados de referência.</span><span class="sxs-lookup"><span data-stu-id="089ae-120">You must have the dqs_kb_editor role on the DQS_MAIN database to map domains to reference data.</span></span>  
  
##  <a name="map-domains-to-reference-data-from-melissa-data"></a><a name="Map"></a><span data-ttu-id="089ae-121">Mapear domínios para dados de referência de Melissa data</span><span class="sxs-lookup"><span data-stu-id="089ae-121">Map domains to reference data from Melissa Data</span></span>  
  
1.  [!INCLUDE[ssDQSInitialStep](../includes/ssdqsinitialstep-md.md)]<span data-ttu-id="089ae-122">[Execute o aplicativo Data Quality Client](../../2014/data-quality-services/run-the-data-quality-client-application.md).</span><span class="sxs-lookup"><span data-stu-id="089ae-122">[Run the Data Quality Client Application](../../2014/data-quality-services/run-the-data-quality-client-application.md).</span></span>  
  
2.  <span data-ttu-id="089ae-123">Na tela inicial do [!INCLUDE[ssDQSClient](../includes/ssdqsclient-md.md)] , em **Gerenciamento da Base de Dados de Conhecimento**, clique em **Nova base de dados de conhecimento**.</span><span class="sxs-lookup"><span data-stu-id="089ae-123">In the [!INCLUDE[ssDQSClient](../includes/ssdqsclient-md.md)] home screen, under **Knowledge Base Management**, click **New knowledge base**.</span></span>  
  
3.  <span data-ttu-id="089ae-124">Na tela **Nova base de dados de conhecimento** , digite um nome para a nova base de dados de conhecimento, clique na atividade **Gerenciamento de Domínio** e clique em **Criar**.</span><span class="sxs-lookup"><span data-stu-id="089ae-124">In the **New knowledge base** screen, type a name for the new knowledge base, click the **Domain Management** activity, and click **Create**.</span></span>  
  
4.  <span data-ttu-id="089ae-125">Na tela **Gerenciamento de Domínio** , clique no ícone **Criar um domínio** para criar um domínio.</span><span class="sxs-lookup"><span data-stu-id="089ae-125">In the **Domain Management** screen, click the **Create a domain** icon to create a domain.</span></span> <span data-ttu-id="089ae-126">Crie os quatro domínios a seguir: **Linha de Endereço**, **Cidade**, **Estado**e **CEP**.</span><span class="sxs-lookup"><span data-stu-id="089ae-126">Create the following four domains: **Address Line**, **City**, **State**, and **Zip**.</span></span>  
  
5.  <span data-ttu-id="089ae-127">Clique no ícone **Criar um domínio composto** para criar um domínio composto.</span><span class="sxs-lookup"><span data-stu-id="089ae-127">Click the **Create a composite domain** icon to create a composite domain.</span></span> <span data-ttu-id="089ae-128">Na caixa de diálogo **Criar um domínio composto** , digite **Verificação de Endereço** na caixa **Nome de Domínio Composto** e inclua todos os domínios criados na etapa 3 no domínio composto.</span><span class="sxs-lookup"><span data-stu-id="089ae-128">In the **Create a composite domain** dialog box, type **Address Verification** in the **Composite Domain Name** box, and include all the domains created in step 3 in the composite domain.</span></span> <span data-ttu-id="089ae-129">Clique em **OK**.</span><span class="sxs-lookup"><span data-stu-id="089ae-129">Click **OK**.</span></span>  
  
6.  <span data-ttu-id="089ae-130">No painel **Domínio** no lado esquerdo, selecione o domínio composto clicando em **Verificação de Endereço**e clique na guia **Dados de Referência** à direita.</span><span class="sxs-lookup"><span data-stu-id="089ae-130">In the **Domain** pane on the left side, select the composite domain by clicking **Address Verification**, and then click the **Reference Data** tab on the right side.</span></span>  
  
7.  <span data-ttu-id="089ae-131">Clique no ícone **Procurar** .</span><span class="sxs-lookup"><span data-stu-id="089ae-131">Click the **Browse** icon.</span></span>  
  
8.  <span data-ttu-id="089ae-132">Caixa de diálogo **Catálogo de Provedores de Dados de Referência Online** :</span><span class="sxs-lookup"><span data-stu-id="089ae-132">In the **Online Reference Data Providers Catalog** dialog box:</span></span>  
  
    1.  <span data-ttu-id="089ae-133">Em **DataMarket Data Quality Services**, selecione a caixa **Melissa Data – Verificação de Endereço**.</span><span class="sxs-lookup"><span data-stu-id="089ae-133">Under **DataMarket Data Quality Services**, select the **Melissa Data - Address Check** box.</span></span>  
  
    2.  <span data-ttu-id="089ae-134">Mapeie as colunas do serviço de dados de referência de Melissa Data – Verificação de Endereço com os domínios apropriados (Linha de Endereço, Cidade, Estado e CEP).</span><span class="sxs-lookup"><span data-stu-id="089ae-134">Map the columns of the Melissa Data - Address Check reference data service with the appropriate domains (Address Line, City, State, and Zip).</span></span> <span data-ttu-id="089ae-135">Você mapeia as colunas selecionando uma coluna de serviço de dados de referência na coluna **Esquema RDS** e, depois, selecionando o domínio apropriado na coluna **Domínio** .</span><span class="sxs-lookup"><span data-stu-id="089ae-135">You map the columns by selecting a reference data service column in the **RDS Schema** column, and then selecting the appropriate domain in the **Domain** column.</span></span> <span data-ttu-id="089ae-136">Para adicionar mais linhas à tabela, clique no ícone **Adicionar Entrada de Esquema** .</span><span class="sxs-lookup"><span data-stu-id="089ae-136">To add more rows in the table, click the **Add Schema Entry** icon.</span></span>  
  
    3.  <span data-ttu-id="089ae-137">Clique em **OK** para salvar as alterações e fechar a caixa de diálogo **Catálogo de Provedores de Dados de Referência Online** .</span><span class="sxs-lookup"><span data-stu-id="089ae-137">Click **OK** to save the changes, and close the **Online Reference Data Providers Catalog** dialog box.</span></span>  
  
         <span data-ttu-id="089ae-138">![Caixa de diálogo Catálogo de Provedores de Dados de Referência Online](../../2014/data-quality-services/media/dqs-onlinereferencedataproviderscatalog.gif "Caixa de diálogo Catálogo de Provedores de Dados de Referência Online")</span><span class="sxs-lookup"><span data-stu-id="089ae-138">![Online Reference Data Providers Catalog dialog box](../../2014/data-quality-services/media/dqs-onlinereferencedataproviderscatalog.gif "Online Reference Data Providers Catalog dialog box")</span></span>  
  
        > [!NOTE]  
        >  -   <span data-ttu-id="089ae-139">Na caixa de diálogo **Catálogo de provedores de dados de referência online** , o nó **Data Quality Services do DataMarket** exibe todos os provedores de serviço de dados de referência que você assinou no Azure Marketplace.</span><span class="sxs-lookup"><span data-stu-id="089ae-139">In the **Online Reference Data Providers Catalog** dialog box, the **DataMarket Data Quality Services** node displays all the reference data service providers that you have subscribed to in Azure Marketplace.</span></span> <span data-ttu-id="089ae-140">Se você tiver configurado provedores diretos de serviço de dados de referência online terceirizados no DQS, eles aparecerão em outro nó chamado **Provedores Online Diretos Terceirizados** (não disponível agora, pois nenhum provedor direto de serviço de dados de referência online terceirizado está configurado no DQS).</span><span class="sxs-lookup"><span data-stu-id="089ae-140">If you have configured direct online third-party reference data service providers in DQS, they will appear under another node called **3rd Party Direct Online Providers** (not available now as no direct online third-party reference data service providers are configured in DQS).</span></span>  
  
9. <span data-ttu-id="089ae-141">Você retornará à guia **dados de referência** . Na área **configurações do provedor** , altere os valores nas seguintes caixas, se necessário:</span><span class="sxs-lookup"><span data-stu-id="089ae-141">You will return to the **Reference Data** tab. In the **Provider Settings** area, change values in the following boxes, if required:</span></span>  
  
    -   <span data-ttu-id="089ae-142">**Limite de Correção Automática**: as correções do serviço de dados de referência com nível de confiança acima desses valores de limite serão feitas automaticamente.</span><span class="sxs-lookup"><span data-stu-id="089ae-142">**Auto Correction Threshold**: Corrections from reference data service with confidence level above this threshold values will be automatically done.</span></span> <span data-ttu-id="089ae-143">Insira um valor na notação decimal do valor percentual correspondente.</span><span class="sxs-lookup"><span data-stu-id="089ae-143">Enter a value in the decimal notation of the corresponding percentage value.</span></span> <span data-ttu-id="089ae-144">Por exemplo, insira 0,9 para 90%.</span><span class="sxs-lookup"><span data-stu-id="089ae-144">For example, enter 0.9 for 90%.</span></span>  
  
    -   <span data-ttu-id="089ae-145">**Candidatos Sugeridos**: número de candidatos sugeridos a serem exibidos pelo serviço de dados de referência.</span><span class="sxs-lookup"><span data-stu-id="089ae-145">**Suggested Candidates**: Number of suggested candidates to display from the reference data service.</span></span>  
  
    -   <span data-ttu-id="089ae-146">**Confiança Mínima**: as sugestões do serviço de dados de referência com nível de confiança inferior a esse valor serão ignoradas.</span><span class="sxs-lookup"><span data-stu-id="089ae-146">**Min Confidence**: Suggestions from reference data service with confidence level lower than this value will be ignored.</span></span> <span data-ttu-id="089ae-147">Insira um valor na notação decimal do valor percentual correspondente.</span><span class="sxs-lookup"><span data-stu-id="089ae-147">Enter a value in the decimal notation of the corresponding percentage value.</span></span> <span data-ttu-id="089ae-148">Por exemplo, insira 0,6 para 60%.</span><span class="sxs-lookup"><span data-stu-id="089ae-148">For example, enter 0.6 for 60%.</span></span>  
  
10. <span data-ttu-id="089ae-149">Clique em **Concluir** para publicar a base de dados de conhecimento.</span><span class="sxs-lookup"><span data-stu-id="089ae-149">Click **Finish** to publish the knowledge base.</span></span> <span data-ttu-id="089ae-150">Uma mensagem de confirmação aparece depois que a base de dados de conhecimento é publicada com êxito.</span><span class="sxs-lookup"><span data-stu-id="089ae-150">A confirmation message appears after the knowledge base is published successfully.</span></span>  
  
 <span data-ttu-id="089ae-151">Agora você pode usar essa base de dados de conhecimento para a atividade de limpeza em um projeto de qualidade de dados para padronizar e limpar os endereços dos EUA em seus dados de origem com base no conhecimento fornecido por Melissa data por meio do Azure Marketplace.</span><span class="sxs-lookup"><span data-stu-id="089ae-151">You can now use this knowledge base for cleansing activity in a data quality project to standardize and cleanse US addresses in your source data based on the knowledge provided by Melissa Data through Azure Marketplace.</span></span>  
  
##  <a name="follow-up-after-mapping-a-domain-to-reference-data"></a><a name="FollowUp"></a> <span data-ttu-id="089ae-152">Acompanhamento: Após mapear um domínio para os dados de referência</span><span class="sxs-lookup"><span data-stu-id="089ae-152">Follow Up: After Mapping a Domain to Reference Data</span></span>  
 <span data-ttu-id="089ae-153">Crie um projeto de qualidade de dados e execute a atividade de limpeza na fonte de dados que contém endereços americanos, comparando-a com a base de dados de conhecimento criada neste tópico.</span><span class="sxs-lookup"><span data-stu-id="089ae-153">Create a data quality project, and run the cleansing activity on your source data containing US addresses by comparing it against the knowledge base created in this topic.</span></span> <span data-ttu-id="089ae-154">Consulte [Limpar dados usando o conhecimento &#40;externo&#41; dos dados de referência](../../2014/data-quality-services/cleanse-data-using-reference-data-external-knowledge.md).</span><span class="sxs-lookup"><span data-stu-id="089ae-154">See [Cleanse Data Using Reference Data &#40;External&#41; Knowledge](../../2014/data-quality-services/cleanse-data-using-reference-data-external-knowledge.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="089ae-155">Consulte Também</span><span class="sxs-lookup"><span data-stu-id="089ae-155">See Also</span></span>  
 <span data-ttu-id="089ae-156">[Serviços de dados de referência no DQS](../../2014/data-quality-services/reference-data-services-in-dqs.md) </span><span class="sxs-lookup"><span data-stu-id="089ae-156">[Reference Data Services in DQS](../../2014/data-quality-services/reference-data-services-in-dqs.md) </span></span>  
 [<span data-ttu-id="089ae-157">Limpeza de dados</span><span class="sxs-lookup"><span data-stu-id="089ae-157">Data Cleansing</span></span>](../../2014/data-quality-services/data-cleansing.md)  
  
  
