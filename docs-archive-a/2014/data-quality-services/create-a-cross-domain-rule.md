---
title: Criar uma regra de domínio cruzado | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: data-quality-services
ms.topic: conceptual
f1_keywords:
- sql12.dqs.dm.testcdrule.f1
- sql12.dqs.dm.cdrules.f1
ms.assetid: 0f3f5ba4-cc47-4d66-866e-371a042d1f21
author: lrtoyou1223
ms.author: lle
ms.openlocfilehash: cddcd9bbd2fc8d95fe8645781de5fe4e936050a9
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87678970"
---
# <a name="create-a-cross-domain-rule"></a><span data-ttu-id="6a356-102">Criar uma regra de domínio cruzado</span><span class="sxs-lookup"><span data-stu-id="6a356-102">Create a Cross-Domain Rule</span></span>
  <span data-ttu-id="6a356-103">Este tópico descreve como criar uma regra de domínio cruzado para um domínio composto em uma base de dados de conhecimento no [!INCLUDE[ssDQSnoversion](../includes/ssdqsnoversion-md.md)] (DQS).</span><span class="sxs-lookup"><span data-stu-id="6a356-103">This topic describes how to create a cross-domain rule for a composite domain in a knowledge base in [!INCLUDE[ssDQSnoversion](../includes/ssdqsnoversion-md.md)] (DQS).</span></span> <span data-ttu-id="6a356-104">Uma regra de domínio cruzado testa a relação entre valores de domínios únicos que são incluídos em um domínio composto.</span><span class="sxs-lookup"><span data-stu-id="6a356-104">A cross-domain rule tests the relationship between values in single domains that are included in a composite domain.</span></span> <span data-ttu-id="6a356-105">A regra de domínio cruzado deve se repetir em um domínio composto para que os valores do domínio sejam considerados precisos e em conformidade com os requisitos comerciais.</span><span class="sxs-lookup"><span data-stu-id="6a356-105">A cross-domain rule must hold true across a composite domain in order for domain values to be considered accurate and conformant to business requirements.</span></span> <span data-ttu-id="6a356-106">Uma regra de domínio cruzado é usada para validar, corrigir e unificar valores de domínio.</span><span class="sxs-lookup"><span data-stu-id="6a356-106">A cross-domain rule is used to validate, correct, and standardize domain values.</span></span>  
  
 <span data-ttu-id="6a356-107">As cláusulas If e Then de uma regra de domínio cruzado são definidas para um dos domínios únicos do domínio composto.</span><span class="sxs-lookup"><span data-stu-id="6a356-107">The If clause and Then clause of a cross-domain rule are each defined for one of the single domains in the composite domain.</span></span> <span data-ttu-id="6a356-108">Cada cláusula deve ser definida para um único domínio diferente.</span><span class="sxs-lookup"><span data-stu-id="6a356-108">Each clause must be defined for a different single domain.</span></span> <span data-ttu-id="6a356-109">Uma regra de domínio cruzado deve se relacionar a vários domínios únicos; você não pode definir uma regra de domínio simples (destinada a um domínio único) para um domínio composto.</span><span class="sxs-lookup"><span data-stu-id="6a356-109">A cross-domain rule must relate to multiple single domains; you cannot define a simple domain rule (for only a single domain) for a composite domain.</span></span> <span data-ttu-id="6a356-110">Você faria isso definindo uma regra de domínio para um domínio único.</span><span class="sxs-lookup"><span data-stu-id="6a356-110">You would do so by defining a domain rule for a single domain.</span></span> <span data-ttu-id="6a356-111">As cláusulas If e Then podem contar uma ou mais condições cada uma.</span><span class="sxs-lookup"><span data-stu-id="6a356-111">The If clause and the Then clause can each contain one or more conditions.</span></span>  
  
 <span data-ttu-id="6a356-112">Uma regra de domínio cruzado que tem condições definitivas aplicará a lógica de regras a sinônimos do valor nas condições, bem como os próprios valores.</span><span class="sxs-lookup"><span data-stu-id="6a356-112">A cross-domain rule that has definitive conditions will apply the rules logic to synonyms of the value in the conditions, as well the values themselves.</span></span> <span data-ttu-id="6a356-113">As condições definitivas das cláusulas If e Then são Valor é igual a, Valor não é igual a, Valor está em ou Valor não está em.</span><span class="sxs-lookup"><span data-stu-id="6a356-113">The definitive conditions for the If and Then clauses are Value is equal to, Value is not equal to, Value is in, or Value is not in.</span></span> <span data-ttu-id="6a356-114">Por exemplo, suponhamos que você tenha a seguinte regra de domínio cruzado para um domínio composto: "Para ‘Cidade’, se Valor é igual a ‘Los Angeles’, então para ‘Estado’, Valor é igual a ‘CA’.</span><span class="sxs-lookup"><span data-stu-id="6a356-114">For example, suppose that you have the following cross-domain rule for a composite domain: "For 'City', if Value is equal to 'Los Angeles', then for 'State', Value is equal to 'CA'.</span></span> <span data-ttu-id="6a356-115">"Se 'Los Angeles' e 'LA' forem sinônimos, esta regra retornará correto para 'Los Angeles CA' e 'LA CA' e com erro para 'Los Angeles WA' e 'LA WA'.</span><span class="sxs-lookup"><span data-stu-id="6a356-115">"If 'Los Angeles' and 'LA' are synonyms, this rule will return correct for 'Los Angeles CA' and 'LA CA' and in error for 'Los Angeles WA' and 'LA WA'.</span></span>  
  
 <span data-ttu-id="6a356-116">Além de informar você sobre a validade de uma regra de domínio cruzado, a cláusula *Then* definitiva em uma regra de domínio cruzado, **Valor é igual a**, também corrige os dados durante a atividade de limpeza de dados.</span><span class="sxs-lookup"><span data-stu-id="6a356-116">Apart from just letting you know about the validity of a cross-domain rule, the definitive *Then* clause in a cross-domain rule, **Value is equal to**, also corrects the data during the data-cleansing activity.</span></span> <span data-ttu-id="6a356-117">Para obter mais informações, consulte [Data Correction using Definitive Cross-Domain Rules](../../2014/data-quality-services/cleanse-data-in-a-composite-domain.md#CDCorrection) em [Cleanse Data in a Composite Domain](../../2014/data-quality-services/cleanse-data-in-a-composite-domain.md).</span><span class="sxs-lookup"><span data-stu-id="6a356-117">For more information, see [Data Correction using Definitive Cross-Domain Rules](../../2014/data-quality-services/cleanse-data-in-a-composite-domain.md#CDCorrection) in [Cleanse Data in a Composite Domain](../../2014/data-quality-services/cleanse-data-in-a-composite-domain.md).</span></span>  
  
 <span data-ttu-id="6a356-118">As regras de domínio cruzado são levadas em consideração depois de todas as regras simples que afetam apenas um domínio único.</span><span class="sxs-lookup"><span data-stu-id="6a356-118">Cross-domain rules are taken into consideration after all simple rules that affect only a single domain.</span></span> <span data-ttu-id="6a356-119">Apenas se um valor estiver de acordo com as regras de domínio único (caso elas existam), a regra de domínio cruzado será aplicada.</span><span class="sxs-lookup"><span data-stu-id="6a356-119">Only if a value passes single domain rules (if they exist) is the cross-domain rule applied.</span></span> <span data-ttu-id="6a356-120">O domínio composto e os domínios únicos nos quais uma regra é executada devem ser definidos para que a regra possa ser executada.</span><span class="sxs-lookup"><span data-stu-id="6a356-120">The composite domain and the single domains that a rule is run on must all be defined before the rule can be executed.</span></span>  
  
##  <a name="before-you-begin"></a><a name="BeforeYouBegin"></a> <span data-ttu-id="6a356-121">Antes de começar</span><span class="sxs-lookup"><span data-stu-id="6a356-121">Before You Begin</span></span>  
  
###  <a name="prerequisites"></a><a name="Prerequisites"></a> <span data-ttu-id="6a356-122">Pré-requisitos</span><span class="sxs-lookup"><span data-stu-id="6a356-122">Prerequisites</span></span>  
 <span data-ttu-id="6a356-123">Para criar uma regra de domínio cruzado, você deve criar e abrir um domínio composto.</span><span class="sxs-lookup"><span data-stu-id="6a356-123">To create a cross-domain rule, you must have created and opened a composite domain.</span></span>  
  
###  <a name="security"></a><a name="Security"></a> <span data-ttu-id="6a356-124">Segurança</span><span class="sxs-lookup"><span data-stu-id="6a356-124">Security</span></span>  
  
####  <a name="permissions"></a><a name="Permissions"></a> <span data-ttu-id="6a356-125">Permissões</span><span class="sxs-lookup"><span data-stu-id="6a356-125">Permissions</span></span>  
 <span data-ttu-id="6a356-126">Você deve ter a função dqs_kb_editor ou dqs_administrator no banco de dados DQS_MAIN para criar uma regra de domínio cruzado.</span><span class="sxs-lookup"><span data-stu-id="6a356-126">You must have the dqs_kb_editor or the dqs_administrator role on the DQS_MAIN database to create a cross-domain rule.</span></span>  
  
##  <a name="create-cross-domain-rules"></a><a name="Create"></a><span data-ttu-id="6a356-127">Criar regras entre domínios</span><span class="sxs-lookup"><span data-stu-id="6a356-127">Create Cross-Domain Rules</span></span>  
  
1.  [!INCLUDE[ssDQSInitialStep](../includes/ssdqsinitialstep-md.md)]<span data-ttu-id="6a356-128">[Execute o aplicativo Data Quality Client](../../2014/data-quality-services/run-the-data-quality-client-application.md).</span><span class="sxs-lookup"><span data-stu-id="6a356-128">[Run the Data Quality Client Application](../../2014/data-quality-services/run-the-data-quality-client-application.md).</span></span>  
  
2.  <span data-ttu-id="6a356-129">Na tela inicial do [!INCLUDE[ssDQSClient](../includes/ssdqsclient-md.md)] , abra ou crie uma base de dados de conhecimento.</span><span class="sxs-lookup"><span data-stu-id="6a356-129">In the [!INCLUDE[ssDQSClient](../includes/ssdqsclient-md.md)] home screen, open or create a knowledge base.</span></span> <span data-ttu-id="6a356-130">Selecione **Gerenciamento de Domínio** como a atividade e, depois, clique em **Abrir** ou **Criar**.</span><span class="sxs-lookup"><span data-stu-id="6a356-130">Select **Domain Management** as the activity, and then click **Open** or **Create**.</span></span> <span data-ttu-id="6a356-131">Para obter mais informações, consulte [Criar uma base de dados de conhecimento](../../2014/data-quality-services/create-a-knowledge-base.md) ou [Abrir uma base de dados de conhecimento](../../2014/data-quality-services/open-a-knowledge-base.md).</span><span class="sxs-lookup"><span data-stu-id="6a356-131">For more information, see [Create a Knowledge Base](../../2014/data-quality-services/create-a-knowledge-base.md) or [Open a Knowledge Base](../../2014/data-quality-services/open-a-knowledge-base.md).</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="6a356-132">O gerenciamento de domínio é executado em uma página do cliente Data Quality Services que contém cinco guias para operações de gerenciamento de domínio separadas.</span><span class="sxs-lookup"><span data-stu-id="6a356-132">Domain management is performed in a page of the Data Quality Service client that contains five tabs for separate domain management operations.</span></span> <span data-ttu-id="6a356-133">Não se trata de um processo controlado por assistente; qualquer operação de gerenciamento pode ser executada separadamente.</span><span class="sxs-lookup"><span data-stu-id="6a356-133">It is not a wizard-driven process; any management operation can be performed separately.</span></span>  
  
3.  <span data-ttu-id="6a356-134">Na **Lista de domínios** na página **Gerenciamento de Domínio** , selecione o domínio composto para o qual você deseja criar uma regra de domínio ou crie um novo domínio composto.</span><span class="sxs-lookup"><span data-stu-id="6a356-134">From the **Domain list** on the **Domain Management** page, select the composite domain that you want to create a domain rule for, or create a new composite domain.</span></span> <span data-ttu-id="6a356-135">Se você precisar criar um novo domínio, consulte [Create a Composite Domain](../../2014/data-quality-services/create-a-composite-domain.md).</span><span class="sxs-lookup"><span data-stu-id="6a356-135">If you have to create a new domain, see [Create a Composite Domain](../../2014/data-quality-services/create-a-composite-domain.md).</span></span>  
  
4.  <span data-ttu-id="6a356-136">Clique na guia **Regras do CD** .</span><span class="sxs-lookup"><span data-stu-id="6a356-136">Click the **CD Rules** tab.</span></span>  
  
5.  <span data-ttu-id="6a356-137">Clique em **Adicione uma nova regra de domínio**e forneça um nome e uma descrição para a regra.</span><span class="sxs-lookup"><span data-stu-id="6a356-137">Click **Add a new domain rule**, and then enter a name and description for the rule.</span></span>  
  
6.  <span data-ttu-id="6a356-138">Selecione **Ativa** para especificar que a regra será executada (o padrão) e anule a seleção para impedir a execução da regra.</span><span class="sxs-lookup"><span data-stu-id="6a356-138">Select **Active** to specify that the rule will be run (the default), and deselect to prevent the rule from running.</span></span>  
  
7.  <span data-ttu-id="6a356-139">Crie a cláusula If da seguinte maneira:</span><span class="sxs-lookup"><span data-stu-id="6a356-139">Create the If clause as follows:</span></span>  
  
    1.  <span data-ttu-id="6a356-140">Na lista de domínios do painel da cláusula If, selecione um dos domínios únicos incluídos no domínio composto para ser o assunto da cláusula If.</span><span class="sxs-lookup"><span data-stu-id="6a356-140">In the domain list in the If clause pane, select one of the single domains included in the composite domain to be the subject of the If clause.</span></span> <span data-ttu-id="6a356-141">Você pode selecionar qualquer domínio único no domínio composto.</span><span class="sxs-lookup"><span data-stu-id="6a356-141">You can select any single domain in the composite domain.</span></span>  
  
    2.  <span data-ttu-id="6a356-142">Selecione uma condição na lista suspensa como a primeira condição da cláusula.</span><span class="sxs-lookup"><span data-stu-id="6a356-142">Select a condition from the drop-down list for the first condition of the clause.</span></span>  
  
    3.  <span data-ttu-id="6a356-143">Se a condição exigir um valor, insira o valor na caixa de texto associada à condição.</span><span class="sxs-lookup"><span data-stu-id="6a356-143">If the condition requires a value, enter the value in the text box associated with the condition.</span></span>  
  
    4.  <span data-ttu-id="6a356-144">Se a cláusula If exigir outra condição, clique em **Adiciona uma nova condição à cláusula selecionada**.</span><span class="sxs-lookup"><span data-stu-id="6a356-144">If the If clause requires another condition, click **Adds a new condition to the selected clause**.</span></span> <span data-ttu-id="6a356-145">Selecione o operador, selecione uma condição e insira um valor para a condição, se necessário.</span><span class="sxs-lookup"><span data-stu-id="6a356-145">Select the operator, select a condition, and enter a value for the condition, if necessary.</span></span>  
  
    5.  <span data-ttu-id="6a356-146">Para alterar a ordem das condições, selecione uma condição clicando à sua esquerda e clique na seta para cima ou seta para baixo.</span><span class="sxs-lookup"><span data-stu-id="6a356-146">To change the order of the conditions, select a condition by clicking to its left, and then click the up or down arrow.</span></span>  
  
    6.  <span data-ttu-id="6a356-147">Para ocultar as condições, clique no sinal de subtração à esquerda do nome do domínio.</span><span class="sxs-lookup"><span data-stu-id="6a356-147">To hide the conditions, click the minus sign to the left of the domain name.</span></span> <span data-ttu-id="6a356-148">Clique no sinal de adição para exibir as condições.</span><span class="sxs-lookup"><span data-stu-id="6a356-148">Click the plus ign to display the conditions.</span></span>  
  
8.  <span data-ttu-id="6a356-149">Crie a cláusula Then selecionando um domínio único, que não seja o assunto da cláusula If, na lista de domínios do painel da cláusula Then.</span><span class="sxs-lookup"><span data-stu-id="6a356-149">Create the Then clause by selecting a single domain, other than the subject of the If clause, in the domain list in the Then clause pane.</span></span> <span data-ttu-id="6a356-150">Em seguida, compile a cláusula Then usando as mesmas etapas executadas na compilação da cláusula If.</span><span class="sxs-lookup"><span data-stu-id="6a356-150">Then build the Then clause using the same steps that you did in building the If clause.</span></span>  
  
9. <span data-ttu-id="6a356-151">Continue o procedimento de teste a seguir.</span><span class="sxs-lookup"><span data-stu-id="6a356-151">Proceed to the testing procedure below.</span></span>  
  
##  <a name="test-cross-domain-rules"></a><a name="Test"></a><span data-ttu-id="6a356-152">Testar regras de domínio cruzado</span><span class="sxs-lookup"><span data-stu-id="6a356-152">Test Cross-Domain Rules</span></span>  
  
1.  <span data-ttu-id="6a356-153">Teste a regra de domínio cruzado da seguinte maneira:</span><span class="sxs-lookup"><span data-stu-id="6a356-153">Test the cross-domain rule as follows:</span></span>  
  
    1.  <span data-ttu-id="6a356-154">Clique no ícone **Executar a regra de domínio selecionada em dados de teste** no canto superior direito do painel de domínio composto.</span><span class="sxs-lookup"><span data-stu-id="6a356-154">Click the **Run the selected domain rule on test data to** icon in the upper right-hand corner of the composite domain pane.</span></span>  
  
    2.  <span data-ttu-id="6a356-155">Na caixa de diálogo **Testar Regra de Domínio** , clique no ícone **Adiciona um Novo Termo de Teste para a Regra de Domínio** .</span><span class="sxs-lookup"><span data-stu-id="6a356-155">In the **Test Domain Rule** dialog box, click the **Adds a New Testing Term for the Domain Rule** icon.</span></span>  
  
    3.  <span data-ttu-id="6a356-156">Insira valores de teste para o domínio único associado à cláusula If e o domínio único associado à cláusula Then.</span><span class="sxs-lookup"><span data-stu-id="6a356-156">Enter test values for the single domain associated with the If clause and the single domain associated with the Then clause.</span></span> <span data-ttu-id="6a356-157">Os valores de teste inseridos na cláusula If devem atender às condições dessa cláusula, ou um ponto de interrogação será inserido na coluna **Validade** indicando que a regra de domínio cruzado não se aplicará aos dados de teste.</span><span class="sxs-lookup"><span data-stu-id="6a356-157">The test values entered in the If clause must meet the conditions for that clause, or a question mark will be entered in the **Validity** column indicating that the cross-domain rule does not apply to the test data.</span></span>  
  
    4.  <span data-ttu-id="6a356-158">Clique no ícone **Adiciona um novo termo de teste para a regra de domínio** novamente para adicionar outro conjunto de valores de teste.</span><span class="sxs-lookup"><span data-stu-id="6a356-158">Click the **Adds a new testing term for the domain rule** icon again to add another set of test values.</span></span>  
  
    5.  <span data-ttu-id="6a356-159">Clique no ícone **testar a regra de domínio em todos os termos** .</span><span class="sxs-lookup"><span data-stu-id="6a356-159">Click the **Test the Domain Rule on All the Terms** icon.</span></span> <span data-ttu-id="6a356-160">Se um conjunto de valores de teste for válido, o DQS inserirá uma marca de verificação na coluna **Validade** para a linha.</span><span class="sxs-lookup"><span data-stu-id="6a356-160">If a set of test values is valid, DQS will enter a check in the **Validity** column for the row.</span></span> <span data-ttu-id="6a356-161">Se o conjunto de valores de teste não for válido, o DQS inserirá um triângulo com um ponto de exclamação na coluna Validade da linha.</span><span class="sxs-lookup"><span data-stu-id="6a356-161">If the set of test values is not valid, DQS will enter a triangle with an exclamation point in the Validity column for the row.</span></span>  
  
    6.  <span data-ttu-id="6a356-162">Depois que os testes forem concluídos, clique em **Fechar** na caixa de diálogo **Testar Regra de Domínio Composto** .</span><span class="sxs-lookup"><span data-stu-id="6a356-162">After your testing is complete, click **Close** in the **Test Composite Domain Rule** dialog box.</span></span>  
  
2.  <span data-ttu-id="6a356-163">Quando você concluído as regras de domínio cruzado, clique em **Concluir** para concluir a atividade de gerenciamento de domínio, conforme descrito em [End the Domain Management Activity](../../2014/data-quality-services/end-the-domain-management-activity.md).</span><span class="sxs-lookup"><span data-stu-id="6a356-163">When you have completed your cross-domain rules, click **Finish** to complete the domain management activity, as described in [End the Domain Management Activity](../../2014/data-quality-services/end-the-domain-management-activity.md).</span></span>  
  
##  <a name="follow-up-after-creating-a-cross-domain-rule"></a><a name="FollowUp"></a> <span data-ttu-id="6a356-164">Acompanhamento: Após a criação de uma regra de domínio cruzado</span><span class="sxs-lookup"><span data-stu-id="6a356-164">Follow Up: After Creating a Cross-Domain Rule</span></span>  
 <span data-ttu-id="6a356-165">Após criar uma regra de domínio cruzado, você poderá executar outras tarefas de gerenciamento de domínio no domínio, poderá executar a descoberta da base de dados de conhecimento para adicionar conhecimento ao domínio ou poderá adicionar uma política de correspondência ao domínio.</span><span class="sxs-lookup"><span data-stu-id="6a356-165">After you create a cross-down rule, you can perform other domain management tasks on the domain, you can perform knowledge discovery to add knowledge to the domain, or you can add a matching policy to the domain.</span></span> <span data-ttu-id="6a356-166">Para obter mais informações, consulte [Executar a descoberta de conhecimento](../../2014/data-quality-services/perform-knowledge-discovery.md), [Gerenciando um domínio](../../2014/data-quality-services/managing-a-domain.md) ou [Criar uma política de conciliação](../../2014/data-quality-services/create-a-matching-policy.md).</span><span class="sxs-lookup"><span data-stu-id="6a356-166">For more information, see [Perform Knowledge Discovery](../../2014/data-quality-services/perform-knowledge-discovery.md), [Managing a Domain](../../2014/data-quality-services/managing-a-domain.md), or [Create a Matching Policy](../../2014/data-quality-services/create-a-matching-policy.md).</span></span>  
  
  
