---
title: Gerenciar bancos de dados do DQS | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: data-quality-services
ms.topic: conceptual
ms.assetid: 655a67aa-d662-42f2-b982-c6217125ada8
author: lrtoyou1223
ms.author: lle
ms.openlocfilehash: 7228021dd3fe0af61312eeb891081cc24e1aa95d
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87582634"
---
# <a name="manage-dqs-databases"></a><span data-ttu-id="cc365-102">Gerenciar bancos de dados do DQS</span><span class="sxs-lookup"><span data-stu-id="cc365-102">Manage DQS Databases</span></span>
  <span data-ttu-id="cc365-103">Esta seção fornece informações sobre as atividades de gerenciamento de banco de dados que podem ser executadas nos bancos de dados DQS como backup/restauração ou anexar/desanexar.</span><span class="sxs-lookup"><span data-stu-id="cc365-103">This section provides information about database management activities that can be performed on the DQS databases such as backup/restore or detach/attach.</span></span>  
  
##  <a name="backup-and-restore-the-dqs-databases"></a><a name="BackupRestore"></a> <span data-ttu-id="cc365-104">Backup e restauração dos bancos de dados do DQS</span><span class="sxs-lookup"><span data-stu-id="cc365-104">Backup and Restore the DQS Databases</span></span>  
 <span data-ttu-id="cc365-105">O backup e a restauração de bancos de dados do SQL Server são operações comuns que administradores de banco de dados executam para impedir a perda de dados em caso de desastre, recuperando dados dos bancos de dados de backup.</span><span class="sxs-lookup"><span data-stu-id="cc365-105">Backup and restore of SQL Server databases are common operations that database administrators perform for preventing loss of data in a case of disaster by recovering data from the backup databases.</span></span> <span data-ttu-id="cc365-106">O[!INCLUDE[ssDQSServer](../includes/ssdqsserver-md.md)] é implementado basicamente por dois bancos de dados do SQL Server: DQS_MAIN e DQS_PROJECTS.</span><span class="sxs-lookup"><span data-stu-id="cc365-106">[!INCLUDE[ssDQSServer](../includes/ssdqsserver-md.md)] is primarily implemented by two SQL Server databases: DQS_MAIN and DQS_PROJECTS.</span></span> <span data-ttu-id="cc365-107">Os procedimentos de backup e restauração dos bancos de dados [!INCLUDE[ssDQSnoversion](../includes/ssdqsnoversion-md.md)] (DQS) são semelhante a qualquer outro banco de dados do SQL Server. Há três desafios associados com backup e restauração dos bancos de dados DQS:</span><span class="sxs-lookup"><span data-stu-id="cc365-107">The backup and restore procedures of the [!INCLUDE[ssDQSnoversion](../includes/ssdqsnoversion-md.md)] (DQS) databases are similar to any other SQL Server databases.There are three challenges that are associated with backup and restore of the DQS databases:</span></span>  
  
-   <span data-ttu-id="cc365-108">As operações de backup e restauração dos bancos de dados DQS devem estar sincronizadas.</span><span class="sxs-lookup"><span data-stu-id="cc365-108">The backup and restore operations of the DQS databases must be synchronized.</span></span> <span data-ttu-id="cc365-109">Caso contrário, o [!INCLUDE[ssDQSServer](../includes/ssdqsserver-md.md)] restaurado não será funcional.</span><span class="sxs-lookup"><span data-stu-id="cc365-109">Otherwise the restored [!INCLUDE[ssDQSServer](../includes/ssdqsserver-md.md)] will not be functional.</span></span>  
  
-   <span data-ttu-id="cc365-110">Os dois bancos de dados, DQS, DQS_MAIN e DQS_PROJECTS, contêm assemblies e outros objetos complexos, além de apenas objetos de banco de dados simples (como tabelas e procedimentos armazenados).</span><span class="sxs-lookup"><span data-stu-id="cc365-110">The two DQS databases, DQS_MAIN and DQS_PROJECTS, contain assemblies and other complex objects, apart from just simple database objects (such as tables and stored procedures).</span></span>  
  
-   <span data-ttu-id="cc365-111">Há algumas entidades fora dos bancos de dados de DQS que devem existir para que os bancos de dados de DQS sejam funcionais como o [!INCLUDE[ssDQSServer](../includes/ssdqsserver-md.md)], especificamente os dois logons do SQL Server (##MS_dqs_db_owner_login ## e ##MS_dqs_service_login ##), e um procedimento armazenado de inicialização (DQInitDQS_MAIN) no banco de dados mestre.</span><span class="sxs-lookup"><span data-stu-id="cc365-111">There are some entities outside of the DQS databases that must exist for the DQS databases to be functional as [!INCLUDE[ssDQSServer](../includes/ssdqsserver-md.md)], specifically the two SQL Server logins (##MS_dqs_db_owner_login## and ##MS_dqs_service_login##), and an initialization stored procedure (DQInitDQS_MAIN) in the master database.</span></span>  
  
 <span data-ttu-id="cc365-112">Para obter informações detalhadas sobre backup e restauração no SQL Server, consulte [Fazer backup e restaurar bancos de dados do SQL Server](../relational-databases/backup-restore/back-up-and-restore-of-sql-server-databases.md).</span><span class="sxs-lookup"><span data-stu-id="cc365-112">For detailed information about backup and restore in SQL Server, see [Back Up and Restore of SQL Server Databases](../relational-databases/backup-restore/back-up-and-restore-of-sql-server-databases.md).</span></span>  
  
### <a name="default-autogrowth-size-and-recovery-model-for-the-dqs-databases"></a><span data-ttu-id="cc365-113">Tamanho de crescimento automático padrão e modelo de recuperação para bancos de dados DQS</span><span class="sxs-lookup"><span data-stu-id="cc365-113">Default Autogrowth Size and Recovery Model for the DQS Databases</span></span>  
 <span data-ttu-id="cc365-114">Para impedir que os bancos de dados DQS e os logs de transação cresçam infinitamente e que potencialmente preencham o disco rígido:</span><span class="sxs-lookup"><span data-stu-id="cc365-114">To prevent DQS databases and transaction logs to grow infinitely and potentially fill the hard disk:</span></span>  
  
-   <span data-ttu-id="cc365-115">O tamanho **Aumento Automático** padrão dos bancos de dados DQS é definido para 10%.</span><span class="sxs-lookup"><span data-stu-id="cc365-115">The default **Autogrowth** size of the DQS databases is set to 10%.</span></span>  
  
-   <span data-ttu-id="cc365-116">O modelo de recuperação padrão do banco de dados DQS é definido como **Simples**.</span><span class="sxs-lookup"><span data-stu-id="cc365-116">The default recovery model of the DQS databases is set to **Simple**.</span></span> <span data-ttu-id="cc365-117">No modelo de recuperação Simples, as transações são registradas minimamente, e o truncamento de log acontece automaticamente depois que a transação é concluída para liberar espaço no log de transação (arquivo .ldf).</span><span class="sxs-lookup"><span data-stu-id="cc365-117">In the Simple recovery model, transactions are minimally logged, and the log truncation happens automatically after the transaction is complete to free up space in the transaction log (.ldf file).</span></span> <span data-ttu-id="cc365-118">Para obter informações detalhadas sobre o modelo de recuperação simples, consulte [Backups completos de banco de dados &#40;SQL Server&#41;](../relational-databases/backup-restore/full-database-backups-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="cc365-118">For detailed information about the simple recovery model, see [Full Database Backups &#40;SQL Server&#41;](../relational-databases/backup-restore/full-database-backups-sql-server.md).</span></span>  
  
> [!IMPORTANT]
>  -   <span data-ttu-id="cc365-119">No modelo de recuperação Simples, quando os registros de log permanecem ativos por muito tempo, (por exemplo, uma transação longa e demorada), o truncamento de log pode ser atrasado e, portanto, pode resultar no preenchimento do log de transação.</span><span class="sxs-lookup"><span data-stu-id="cc365-119">In the Simple recovery model, when log records remain active for a long time (for example, a long and time-consuming transaction), log truncation can be delayed, and therefore can result in the filling up of transaction log.</span></span> <span data-ttu-id="cc365-120">Além disso, o truncamento do log não reduz o tamanho do arquivo de log físico (arquivo .ldf).</span><span class="sxs-lookup"><span data-stu-id="cc365-120">Also, log truncation does not reduce the size of the physical log file (.ldf file).</span></span> <span data-ttu-id="cc365-121">Para reduzir o tamanho de um arquivo de log físico, você precisará reduzir o arquivo de log.</span><span class="sxs-lookup"><span data-stu-id="cc365-121">To reduce the size of a physical log file, you need to shrink the log file.</span></span> <span data-ttu-id="cc365-122">Para obter informações sobre a solução de problemas do log de transações, consulte [O Log de transações &#40;SQL Server&#41;](../relational-databases/logs/the-transaction-log-sql-server.md) ou o artigo do Suporte da Microsoft em [https://go.microsoft.com/fwlink/?LinkId=237446](https://go.microsoft.com/fwlink/?LinkId=237446).</span><span class="sxs-lookup"><span data-stu-id="cc365-122">For information about troubleshooting issues around transaction log, see [The Transaction Log &#40;SQL Server&#41;](../relational-databases/logs/the-transaction-log-sql-server.md) or the Microsoft Support article at [https://go.microsoft.com/fwlink/?LinkId=237446](https://go.microsoft.com/fwlink/?LinkId=237446).</span></span>  
> -   <span data-ttu-id="cc365-123">Você deve executar regularmente um backup completo ou diferencial dos bancos de dados DQS e deve fazer backup do log de transação assim como realizar a recuperação pontual de dados.</span><span class="sxs-lookup"><span data-stu-id="cc365-123">You must regularly perform a Full or Differential backup of the DQS databases and back up the transaction log as well to perform point-in-time recovery of data.</span></span> <span data-ttu-id="cc365-124">Para obter mais informações, consulte [Backups completos de banco de dados &#40;SQL Server&#41;](../relational-databases/backup-restore/full-database-backups-sql-server.md) e [Fazer backup de um log de transações &#40;SQL Server&#41;](../relational-databases/backup-restore/back-up-a-transaction-log-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="cc365-124">For more information, see [Full Database Backups &#40;SQL Server&#41;](../relational-databases/backup-restore/full-database-backups-sql-server.md) and [Back Up a Transaction Log &#40;SQL Server&#41;](../relational-databases/backup-restore/back-up-a-transaction-log-sql-server.md).</span></span>  
  
##  <a name="detachattach-the-dqs-databases"></a><a name="DetachAttach"></a> <span data-ttu-id="cc365-125">Anexar/desanexar bancos de dados DQS</span><span class="sxs-lookup"><span data-stu-id="cc365-125">Detach/Attach the DQS Databases</span></span>  
 <span data-ttu-id="cc365-126">Você pode desanexar os arquivos de dados e de log de transação dos bancos de dados DQS, e reanexá-los nos bancos de dados na mesma instância ou em outra do SQL Server se quiser alterar os bancos de dados DQS para uma instância diferente do SQL Server no mesmo computador ou para mover o banco de dados.</span><span class="sxs-lookup"><span data-stu-id="cc365-126">You can detach the data and transaction log files of the DQS databases, and then reattach the databases to the same or another instance of SQL Server if you want to change the DQS databases to a different instance of SQL Server on the same computer or to move the database.</span></span>  
  
 <span data-ttu-id="cc365-127">Para obter informações detalhadas sobre ideias a serem consideradas antes e durante a desanexação e anexação de bancos de dados no SQL Server, consulte [Anexar e desanexar bancos de dados &#40;SQL Server&#41;](../relational-databases/databases/database-detach-and-attach-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="cc365-127">For detailed information about things to consider before and during detaching and attaching databases in SQL Server, see [Database Detach and Attach &#40;SQL Server&#41;](../relational-databases/databases/database-detach-and-attach-sql-server.md).</span></span>  
  
## <a name="related-tasks"></a><span data-ttu-id="cc365-128">Related Tasks</span><span class="sxs-lookup"><span data-stu-id="cc365-128">Related Tasks</span></span>  
  
|<span data-ttu-id="cc365-129">Descrição da tarefa</span><span class="sxs-lookup"><span data-stu-id="cc365-129">Task Description</span></span>|<span data-ttu-id="cc365-130">Tópico</span><span class="sxs-lookup"><span data-stu-id="cc365-130">Topic</span></span>|  
|----------------------|-----------|  
|<span data-ttu-id="cc365-131">Descreve como fazer backup e restaurar os bancos de dados do DQS.</span><span class="sxs-lookup"><span data-stu-id="cc365-131">Describes how to back up and restore the DQS databases.</span></span>|[<span data-ttu-id="cc365-132">Fazendo backup e restaurando banco de dados do DQS</span><span class="sxs-lookup"><span data-stu-id="cc365-132">Backing Up and Restoring DQS Databases</span></span>](../../2014/data-quality-services/backing-up-and-restoring-dqs-databases.md)|  
|<span data-ttu-id="cc365-133">Descreve como desanexar e anexar bancos de dados DQS.</span><span class="sxs-lookup"><span data-stu-id="cc365-133">Describes how to detach and attach the DQS databases.</span></span>|[<span data-ttu-id="cc365-134">Desanexando e anexando bancos de dados do DQS</span><span class="sxs-lookup"><span data-stu-id="cc365-134">Detaching and Attaching DQS Databases</span></span>](../../2014/data-quality-services/detaching-and-attaching-dqs-databases.md)|  
  
## <a name="see-also"></a><span data-ttu-id="cc365-135">Consulte Também</span><span class="sxs-lookup"><span data-stu-id="cc365-135">See Also</span></span>  
 [<span data-ttu-id="cc365-136">administração do dqs</span><span class="sxs-lookup"><span data-stu-id="cc365-136">DQS Administration</span></span>](../../2014/data-quality-services/dqs-administration.md)  
  
  
