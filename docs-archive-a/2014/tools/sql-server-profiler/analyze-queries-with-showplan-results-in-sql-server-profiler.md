---
title: Analisar consultas com resultados de SHOWPLAN no SQL Server Profiler | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: profiler
ms.topic: conceptual
helpviewer_keywords:
- events [SQL Server], Showplan
- Profiler [SQL Server Profiler], Showplan results
- SQL Server Profiler, Showplan results
ms.assetid: 6a2f7727-141c-4f59-8613-2e452bc78467
author: stevestein
ms.author: sstein
ms.openlocfilehash: 2ada8b565a307bf636e06c7b5acb5fd4da5f30df
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87678420"
---
# <a name="analyze-queries-with-showplan-results-in-sql-server-profiler"></a><span data-ttu-id="16451-102">Analisar consultas com resultados do Plano de Execução no SQL Server Profiler</span><span class="sxs-lookup"><span data-stu-id="16451-102">Analyze Queries with SHOWPLAN Results in SQL Server Profiler</span></span>
  <span data-ttu-id="16451-103">Você pode adicionar classes de eventos de Plano de Execução a uma definição de rastreamento para fazer com que o [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)] reúna e exiba informações do plano de consulta no rastreamento.</span><span class="sxs-lookup"><span data-stu-id="16451-103">You can add Showplan event classes to a trace definition that cause [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)] to gather and display query plan information in the trace.</span></span> <span data-ttu-id="16451-104">Também é possível extrair eventos de Plano de Execução de outros eventos coletados no rastreamento e salvá-los em um arquivo XML separado.</span><span class="sxs-lookup"><span data-stu-id="16451-104">It is also possible to extract Showplan events from the other events collected in the trace and to save these Showplan events in a separate XML file.</span></span>  
  
 <span data-ttu-id="16451-105">Pode-se extrair eventos de Plano de Execução do rastreamento de uma das seguintes maneiras:</span><span class="sxs-lookup"><span data-stu-id="16451-105">Extracting Showplan events from the trace can be done in any of the following ways:</span></span>  
  
-   <span data-ttu-id="16451-106">No momento da configuração do rastreamento, usando a guia **Configurações de Extração de Eventos** . Observe que essa guia não aparece a menos que você selecione um dos eventos de Plano de Execução na guia **Seleção de Eventos** .</span><span class="sxs-lookup"><span data-stu-id="16451-106">At trace configuration time, using the **Events Extraction Settings** tab. Note that this tab does not appear until you select a one of the Showplan events on the **Events Selection** tab.</span></span>  
  
-   <span data-ttu-id="16451-107">Usando a opção **Extrair Eventos do SQL Server** no menu **Arquivo** .</span><span class="sxs-lookup"><span data-stu-id="16451-107">Using the **Extract SQL Server Events** option on the **File** menu.</span></span>  
  
-   <span data-ttu-id="16451-108">Extraindo e salvando eventos individuais, clicando com o botão direito do mouse em um evento específico e escolhendo **Extrair Dados de Eventos**.</span><span class="sxs-lookup"><span data-stu-id="16451-108">By extracting and saving individual events by right-clicking a specific event and choosing **Extract Event Data**.</span></span>  
  
## <a name="showplan-events"></a><span data-ttu-id="16451-109">Eventos de Plano de Execução</span><span class="sxs-lookup"><span data-stu-id="16451-109">Showplan Events</span></span>  
 <span data-ttu-id="16451-110">Os eventos de rastreamento de Plano de Execução são listados e descritos na tabela a seguir.</span><span class="sxs-lookup"><span data-stu-id="16451-110">The Showplan trace events are listed and described in the following table.</span></span>  
  
|<span data-ttu-id="16451-111">Nome do evento</span><span class="sxs-lookup"><span data-stu-id="16451-111">Event name</span></span>|<span data-ttu-id="16451-112">Descrição</span><span class="sxs-lookup"><span data-stu-id="16451-112">Description</span></span>|  
|----------------|-----------------|  
|<span data-ttu-id="16451-113">**Performance statistics**</span><span class="sxs-lookup"><span data-stu-id="16451-113">**Performance statistics**</span></span>|<span data-ttu-id="16451-114">Indica a primeira vez em que um Plano de Execução compilado é colocado em cache, quando é recompilado e quando é descartado do cache do plano.</span><span class="sxs-lookup"><span data-stu-id="16451-114">Indicates the first time a compiled Showplan is cached, when it is recompiled, and when it is dropped from the plan cache.</span></span> <span data-ttu-id="16451-115">A coluna **TextData** contém o Plano de Execução em formato XML.</span><span class="sxs-lookup"><span data-stu-id="16451-115">The **TextData** column contains the Showplan in XML format.</span></span> <span data-ttu-id="16451-116">Para obter mais informações, veja [Classe de evento Performance Statistics](../../relational-databases/event-classes/performance-statistics-event-class.md).</span><span class="sxs-lookup"><span data-stu-id="16451-116">For more information, see [Performance Statistics Event Class](../../relational-databases/event-classes/performance-statistics-event-class.md).</span></span>|  
|<span data-ttu-id="16451-117">**Showplan All**</span><span class="sxs-lookup"><span data-stu-id="16451-117">**Showplan All**</span></span>|<span data-ttu-id="16451-118">Exibe o plano de consulta com detalhes completos da compilação da instrução [!INCLUDE[tsql](../../includes/tsql-md.md)] executada.</span><span class="sxs-lookup"><span data-stu-id="16451-118">Displays the query plan with full compilation details of the executed [!INCLUDE[tsql](../../includes/tsql-md.md)] statement.</span></span> <span data-ttu-id="16451-119">Por exemplo, pode exibir estimativas de preço de custo e listas de colunas.</span><span class="sxs-lookup"><span data-stu-id="16451-119">For example, it might display costing estimates and column lists.</span></span> <span data-ttu-id="16451-120">Para obter mais informações, consulte [Showplan All Event Class](../../relational-databases/event-classes/showplan-all-event-class.md).</span><span class="sxs-lookup"><span data-stu-id="16451-120">For more information, see [Showplan All Event Class](../../relational-databases/event-classes/showplan-all-event-class.md).</span></span>|  
|<span data-ttu-id="16451-121">**Showplan All For Query Compile**</span><span class="sxs-lookup"><span data-stu-id="16451-121">**Showplan All For Query Compile**</span></span>|<span data-ttu-id="16451-122">Ocorre quando uma consulta é compilada ou recompilada em [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="16451-122">Occurs when a query is compiled or recompiled on [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="16451-123">Esta é a contraparte de tempo de compilação do evento **Showplan All** .</span><span class="sxs-lookup"><span data-stu-id="16451-123">This is the compile time counterpart of the **Showplan All** event.</span></span> <span data-ttu-id="16451-124">**Showplan All** ocorre quando uma consulta é executada.</span><span class="sxs-lookup"><span data-stu-id="16451-124">**Showplan All** occurs when a query is executed.</span></span> <span data-ttu-id="16451-125">O**Showplan All For Query Compile** ocorre quando uma consulta é compilada.</span><span class="sxs-lookup"><span data-stu-id="16451-125">**Showplan All For Query Compile** occurs when a query is compiled.</span></span> <span data-ttu-id="16451-126">Para obter mais informações, consulte [Showplan All for Query Compile Event Class](../../relational-databases/event-classes/showplan-all-for-query-compile-event-class.md).</span><span class="sxs-lookup"><span data-stu-id="16451-126">For more information, see [Showplan All for Query Compile Event Class](../../relational-databases/event-classes/showplan-all-for-query-compile-event-class.md).</span></span>|  
|<span data-ttu-id="16451-127">**Showplan Statistics Profile**</span><span class="sxs-lookup"><span data-stu-id="16451-127">**Showplan Statistics Profile**</span></span>|<span data-ttu-id="16451-128">Exibe o plano de consulta com detalhes completos do tempo de execução da instrução [!INCLUDE[tsql](../../includes/tsql-md.md)] que está sendo executada, inclusive o número real de linhas que passam em cada operação.</span><span class="sxs-lookup"><span data-stu-id="16451-128">Displays the query plan with full run-time details of the [!INCLUDE[tsql](../../includes/tsql-md.md)] statement being executed, including the actual number of rows passing through each operation.</span></span> <span data-ttu-id="16451-129">Para obter mais informações, consulte [Showplan Statistics Profile Event Class](../../relational-databases/event-classes/showplan-statistics-profile-event-class.md).</span><span class="sxs-lookup"><span data-stu-id="16451-129">For more information, see [Showplan Statistics Profile Event Class](../../relational-databases/event-classes/showplan-statistics-profile-event-class.md).</span></span>|  
|<span data-ttu-id="16451-130">**Showplan Text**</span><span class="sxs-lookup"><span data-stu-id="16451-130">**Showplan Text**</span></span>|<span data-ttu-id="16451-131">Exibe a árvore do plano de consulta da instrução [!INCLUDE[tsql](../../includes/tsql-md.md)] que está sendo executada como dados binários.</span><span class="sxs-lookup"><span data-stu-id="16451-131">Displays as binary data the query plan tree of the [!INCLUDE[tsql](../../includes/tsql-md.md)] statement being executed.</span></span> <span data-ttu-id="16451-132">Para obter mais informações, consulte [Showplan Text Event Class](../../relational-databases/event-classes/showplan-text-event-class.md).</span><span class="sxs-lookup"><span data-stu-id="16451-132">For more information, see [Showplan Text Event Class](../../relational-databases/event-classes/showplan-text-event-class.md).</span></span>|  
|<span data-ttu-id="16451-133">**Showplan Text (Unencoded)**</span><span class="sxs-lookup"><span data-stu-id="16451-133">**Showplan Text (Unencoded)**</span></span>|<span data-ttu-id="16451-134">Exibe a árvore do plano de consulta da instrução [!INCLUDE[tsql](../../includes/tsql-md.md)] que está sendo executada como texto.</span><span class="sxs-lookup"><span data-stu-id="16451-134">Displays as text the query plan tree of the [!INCLUDE[tsql](../../includes/tsql-md.md)] statement being executed.</span></span> <span data-ttu-id="16451-135">Essa classe de evento exibe as mesmas informações que Showplan Text, exibindo-as, porém, como texto, e não como dados binários.</span><span class="sxs-lookup"><span data-stu-id="16451-135">This event class displays the same information as Showplan Text, except that this event class displays text instead of binary data.</span></span> <span data-ttu-id="16451-136">Para obter mais informações, veja [Classe de evento Showplan Text &#40;Não codificada&#41;](../../relational-databases/event-classes/showplan-text-unencoded-event-class.md).</span><span class="sxs-lookup"><span data-stu-id="16451-136">For more information, see [Showplan Text &#40;Unencoded&#41; Event Class](../../relational-databases/event-classes/showplan-text-unencoded-event-class.md).</span></span>|  
|<span data-ttu-id="16451-137">**Showplan XML**</span><span class="sxs-lookup"><span data-stu-id="16451-137">**Showplan XML**</span></span>|<span data-ttu-id="16451-138">Exibe o plano de consulta com os dados completos coletados durante a otimização de consulta.</span><span class="sxs-lookup"><span data-stu-id="16451-138">Displays the query plan with full data collected during query optimization.</span></span> <span data-ttu-id="16451-139">Esse evento só é gerado quando um plano de consulta é otimizado.</span><span class="sxs-lookup"><span data-stu-id="16451-139">This event is generated only when a query plan is optimized.</span></span> <span data-ttu-id="16451-140">Para obter mais informações, consulte [Showplan XML Event Class](../../relational-databases/event-classes/showplan-xml-event-class.md).</span><span class="sxs-lookup"><span data-stu-id="16451-140">For more information, see [Showplan XML Event Class](../../relational-databases/event-classes/showplan-xml-event-class.md).</span></span>|  
|<span data-ttu-id="16451-141">**Showplan XML For Query Compile**</span><span class="sxs-lookup"><span data-stu-id="16451-141">**Showplan XML For Query Compile**</span></span>|<span data-ttu-id="16451-142">Exibe o plano de consulta quando a consulta é compilada.</span><span class="sxs-lookup"><span data-stu-id="16451-142">Displays the query plan when the query is compiled.</span></span> <span data-ttu-id="16451-143">Para obter mais informações, consulte [Showplan XML for Query Compile Event Class](../../relational-databases/event-classes/showplan-xml-for-query-compile-event-class.md).</span><span class="sxs-lookup"><span data-stu-id="16451-143">For more information, see [Showplan XML for Query Compile Event Class](../../relational-databases/event-classes/showplan-xml-for-query-compile-event-class.md).</span></span>|  
|<span data-ttu-id="16451-144">**Showplan XML Statistics Profile**</span><span class="sxs-lookup"><span data-stu-id="16451-144">**Showplan XML Statistics Profile**</span></span>|<span data-ttu-id="16451-145">Exibe o plano de consulta com detalhes completos do tempo de execução em formato XML.</span><span class="sxs-lookup"><span data-stu-id="16451-145">Displays the query plan with full run-time details in XML format.</span></span> <span data-ttu-id="16451-146">Por exemplo, essa classe de evento captura o número de linhas que passam em cada operador da instrução [!INCLUDE[tsql](../../includes/tsql-md.md)] que está sendo executada.</span><span class="sxs-lookup"><span data-stu-id="16451-146">For example, this event class captures the number of rows passing through each operator of the [!INCLUDE[tsql](../../includes/tsql-md.md)] statement that is executed.</span></span> <span data-ttu-id="16451-147">Para obter mais informações, consulte [Showplan XML Statistics Profile Event Class](../../relational-databases/event-classes/showplan-xml-statistics-profile-event-class.md).</span><span class="sxs-lookup"><span data-stu-id="16451-147">For more information, see [Showplan XML Statistics Profile Event Class](../../relational-databases/event-classes/showplan-xml-statistics-profile-event-class.md).</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="16451-148">Consulte Também</span><span class="sxs-lookup"><span data-stu-id="16451-148">See Also</span></span>  
 [<span data-ttu-id="16451-149">Categoria de evento Performance</span><span class="sxs-lookup"><span data-stu-id="16451-149">Performance Event Category</span></span>](../../relational-databases/event-classes/performance-event-category.md)  
  
  
