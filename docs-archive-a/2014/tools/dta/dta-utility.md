---
title: Utilitário dta | Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: tools-other
ms.topic: conceptual
helpviewer_keywords:
- physical design structures [SQL Server]
- command prompt utilities [SQL Server], dta
- dta utility
- tuning databases [SQL Server], Database Engine Tuning Advisor
- workloads [SQL Server], analyzing
- dta utility, about dta utility
- performance [SQL Server], Database Engine Tuning Advisor
- Database Engine Tuning Advisor [SQL Server], command prompt
- optimizing databases [SQL Server]
ms.assetid: a0b210ce-9b58-4709-80cb-9363b68a1f5a
author: stevestein
ms.author: sstein
ms.openlocfilehash: f9cd5a904993f1044c1cbeff8e1cdfc07332da64
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87684958"
---
# <a name="dta-utility"></a><span data-ttu-id="7f84a-102">utilitário dta</span><span class="sxs-lookup"><span data-stu-id="7f84a-102">dta Utility</span></span>
  <span data-ttu-id="7f84a-103">O utilitário **dta** é a versão do prompt de comando do Orientador de Otimização do Mecanismo de Banco de Dados.</span><span class="sxs-lookup"><span data-stu-id="7f84a-103">The **dta** utility is the command prompt version of Database Engine Tuning Advisor.</span></span> <span data-ttu-id="7f84a-104">O utilitário **dta** foi projetado para permitir o uso da funcionalidade do Orientador de Otimização do Mecanismo de Banco de Dados em aplicativos e scripts.</span><span class="sxs-lookup"><span data-stu-id="7f84a-104">The **dta** utility is designed to allow you to use Database Engine Tuning Advisor functionality in applications and scripts.</span></span>  
  
 <span data-ttu-id="7f84a-105">Assim como o Orientador de Otimização do Mecanismo de Banco de Dados, o utilitário **dta** analisa uma carga de trabalho e recomenda estruturas de design físico para melhorar o desempenho do servidor para a carga de trabalho.</span><span class="sxs-lookup"><span data-stu-id="7f84a-105">Like Database Engine Tuning Advisor, the **dta** utility analyzes a workload and recommends physical design structures to improve server performance for that workload.</span></span> <span data-ttu-id="7f84a-106">A carga de trabalho pode ser um cache de plano, um arquivo de rastreamento ou tabela do [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)] , ou um script [!INCLUDE[tsql](../../includes/tsql-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="7f84a-106">The workload can be a plan cache, a [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)] trace file or table, or a [!INCLUDE[tsql](../../includes/tsql-md.md)] script.</span></span> <span data-ttu-id="7f84a-107">Estruturas de design físico incluem índices, exibições indexadas e particionamento.</span><span class="sxs-lookup"><span data-stu-id="7f84a-107">Physical design structures include indexes, indexed views, and partitioning.</span></span> <span data-ttu-id="7f84a-108">Depois de analisar uma carga de trabalho, o utilitário **dta** produz uma recomendação para o design físico de bancos de dados e gera o script necessário para implementar a recomendação.</span><span class="sxs-lookup"><span data-stu-id="7f84a-108">After analyzing a workload, the **dta** utility produces a recommendation for the physical design of databases and can generate the necessary script to implement the recommendation.</span></span> <span data-ttu-id="7f84a-109">Podem ser especificadas cargas de trabalho no prompt de comando com o argumento **-if** ou **-it** .</span><span class="sxs-lookup"><span data-stu-id="7f84a-109">Workloads can be specified from the command prompt with the **-if** or the **-it** argument.</span></span> <span data-ttu-id="7f84a-110">Também é possível especificar um arquivo de entrada XML no prompt de comando com o argumento **-ix** .</span><span class="sxs-lookup"><span data-stu-id="7f84a-110">You can also specify an XML input file from the command prompt with the **-ix** argument.</span></span> <span data-ttu-id="7f84a-111">Nesse caso, a carga de trabalho é especificada no arquivo de entrada XML.</span><span class="sxs-lookup"><span data-stu-id="7f84a-111">In that case, the workload is specified in the XML input file.</span></span>  
  
## <a name="syntax"></a><span data-ttu-id="7f84a-112">Sintaxe</span><span class="sxs-lookup"><span data-stu-id="7f84a-112">Syntax</span></span>  
  
```  
  
      dta  
[ -? ] |  
[  
      [ -S server_name[ \instance ] ]  
      { { -U login_id [-P password ] } | -E  }  
      { -D database_name [ ,...n ] }  
      [ -ddatabase_name ]   
      [ -Tltable_list | -Tf table_list_file ]  
      { -if workload_file | -it workload_trace_table_name  |   
        -ip | -ipf }  
      { -ssession_name | -IDsession_ID }  
      [ -F ]  
      [ -of output_script_file_name ]  
      [ -oroutput_xml_report_file_name ]  
      [ -ox output_XML_file_name ]  
      [ -rl analysis_report_list [ ,...n ] ]  
      [ -ix input_XML_file_name ]  
      [ -A time_for_tuning_in_minutes ]  
      [ -nnumber_of_events ]  
      [ -m minimum_improvement ]  
      [ -fa physical_design_structures_to_add ]  
      [ -fi ]  
      [ -fppartitioning_strategy ]  
      [ -fk keep_existing_option ]  
      [ -fxdrop_only_mode ]  
      [ -B storage_size ]  
      [ -cmax_key_columns_in_index ]  
      [ -C max_columns_in_index ]  
      [ -e | -e tuning_log_name ]  
      [ -N online_option]  
      [ -q ]  
      [ -u ]  
      [ -x ]  
      [ -a ]  
]  
```  
  
## <a name="arguments"></a><span data-ttu-id="7f84a-113">Argumentos</span><span class="sxs-lookup"><span data-stu-id="7f84a-113">Arguments</span></span>  
 <span data-ttu-id="7f84a-114">**-?**</span><span class="sxs-lookup"><span data-stu-id="7f84a-114">**-?**</span></span>  
 <span data-ttu-id="7f84a-115">Exibe informações de uso.</span><span class="sxs-lookup"><span data-stu-id="7f84a-115">Displays usage information.</span></span>  
  
 <span data-ttu-id="7f84a-116">**-A** _time_for_tuning_in_minutes_</span><span class="sxs-lookup"><span data-stu-id="7f84a-116">**-A** _time_for_tuning_in_minutes_</span></span>  
 <span data-ttu-id="7f84a-117">Especifica o prazo de ajuste em minutos.</span><span class="sxs-lookup"><span data-stu-id="7f84a-117">Specifies the tuning time limit in minutes.</span></span> <span data-ttu-id="7f84a-118">O**dta** usa a quantidade especificada de tempo para ajustar a carga de trabalho e gerar um script com as mudanças de design físico recomendadas.</span><span class="sxs-lookup"><span data-stu-id="7f84a-118">**dta** uses the specified amount of time to tune the workload and generate a script with the recommended physical design changes.</span></span> <span data-ttu-id="7f84a-119">Por padrão, o **dta** assume um tempo de ajuste de 8 horas.</span><span class="sxs-lookup"><span data-stu-id="7f84a-119">By default **dta** assumes a tuning time of 8 hours.</span></span> <span data-ttu-id="7f84a-120">Especificar 0 permite um tempo de ajuste ilimitado.</span><span class="sxs-lookup"><span data-stu-id="7f84a-120">Specifying 0allows unlimited tuning time.</span></span> <span data-ttu-id="7f84a-121">O**dta** pode terminar o ajuste da carga de trabalho inteira antes que o prazo expire.</span><span class="sxs-lookup"><span data-stu-id="7f84a-121">**dta** might finish tuning the entire workload before the time limit expires.</span></span> <span data-ttu-id="7f84a-122">No entanto, para garantir que a carga de trabalho inteira seja ajustada, é aconselhável que você especifique um tempo de ajuste ilimitado (-A 0).</span><span class="sxs-lookup"><span data-stu-id="7f84a-122">However, to make sure that the entire workload is tuned, we recommend that you specify unlimited tuning time (-A 0).</span></span>  
  
 <span data-ttu-id="7f84a-123">**-a**</span><span class="sxs-lookup"><span data-stu-id="7f84a-123">**-a**</span></span>  
 <span data-ttu-id="7f84a-124">Ajusta a carga de trabalho e aplica a recomendação sem uma solicitação.</span><span class="sxs-lookup"><span data-stu-id="7f84a-124">Tunes workload and applies the recommendation without prompting you.</span></span>  
  
 <span data-ttu-id="7f84a-125">**-B** _storage_size_</span><span class="sxs-lookup"><span data-stu-id="7f84a-125">**-B** _storage_size_</span></span>  
 <span data-ttu-id="7f84a-126">Especifica o espaço máximo em megabytes que pode ser consumido pelo índice e particionamento recomendados.</span><span class="sxs-lookup"><span data-stu-id="7f84a-126">Specifies the maximum space in megabytes that can be consumed by the recommended index and partitioning.</span></span> <span data-ttu-id="7f84a-127">Quando múltiplos bancos de dados são ajustados, as recomendações para todos os bancos de dados são consideradas no cálculo do espaço.</span><span class="sxs-lookup"><span data-stu-id="7f84a-127">When multiple databases are tuned, recommendations for all databases are considered for the space calculation.</span></span> <span data-ttu-id="7f84a-128">Por padrão, **dta** assume o menor dos seguintes tamanhos de armazenamento:</span><span class="sxs-lookup"><span data-stu-id="7f84a-128">By default, **dta** assumes the smaller of the following storage sizes:</span></span>  
  
-   <span data-ttu-id="7f84a-129">Três vezes o tamanho de dados brutos atuais, o que inclui o tamanho total de heaps e índices cluster em tabelas no banco de dados.</span><span class="sxs-lookup"><span data-stu-id="7f84a-129">Three times the current raw data size, which includes the total size of heaps and clustered indexes on tables in the database.</span></span>  
  
-   <span data-ttu-id="7f84a-130">Os espaços livres em todas as unidades de disco anexas mais o tamanho dos dados brutos.</span><span class="sxs-lookup"><span data-stu-id="7f84a-130">The free space on all attached disk drives plus the raw data size.</span></span>  
  
 <span data-ttu-id="7f84a-131">O tamanho de armazenamento padrão não inclui índices não clusterizados e exibições indexadas.</span><span class="sxs-lookup"><span data-stu-id="7f84a-131">The default storage size does not include nonclustered indexes and indexed views.</span></span>  
  
 <span data-ttu-id="7f84a-132">**-C** _max_columns_in_index_</span><span class="sxs-lookup"><span data-stu-id="7f84a-132">**-C** _max_columns_in_index_</span></span>  
 <span data-ttu-id="7f84a-133">Especifica o número máximo de colunas nos índices proposto por **dta** .</span><span class="sxs-lookup"><span data-stu-id="7f84a-133">Specifies the maximum number of columns in indexes that **dta** proposes.</span></span> <span data-ttu-id="7f84a-134">O valor máximo é 1024.</span><span class="sxs-lookup"><span data-stu-id="7f84a-134">The maximum value  is 1024.</span></span> <span data-ttu-id="7f84a-135">Por padrão, esse argumento é definido como 16.</span><span class="sxs-lookup"><span data-stu-id="7f84a-135">By default, this argument is set to 16.</span></span>  
  
 <span data-ttu-id="7f84a-136">**-c** _max_key_columns_in_index_</span><span class="sxs-lookup"><span data-stu-id="7f84a-136">**-c** _max_key_columns_in_index_</span></span>  
 <span data-ttu-id="7f84a-137">Especifica o número máximo de colunas principais nos índices proposto por **dta** .</span><span class="sxs-lookup"><span data-stu-id="7f84a-137">Specifies the maximum number of key columns in indexes that **dta** proposes.</span></span> <span data-ttu-id="7f84a-138">O valor padrão é 16, o valor máximo permitido.</span><span class="sxs-lookup"><span data-stu-id="7f84a-138">The default value is 16, the maximum value allowed.</span></span> <span data-ttu-id="7f84a-139">O**dta** também considera a criação de índices com colunas incluídas.</span><span class="sxs-lookup"><span data-stu-id="7f84a-139">**dta** also considers creating indexes with included columns.</span></span> <span data-ttu-id="7f84a-140">Os índices recomendados com colunas incluídas podem exceder o número de colunas especificado neste argumento.</span><span class="sxs-lookup"><span data-stu-id="7f84a-140">Indexes recommended with included columns may exceed the number of columns specified in this argument.</span></span>  
  
 <span data-ttu-id="7f84a-141">**-D** _database_name_</span><span class="sxs-lookup"><span data-stu-id="7f84a-141">**-D** _database_name_</span></span>  
 <span data-ttu-id="7f84a-142">Especifica o nome de cada banco de dados que será ajustado.</span><span class="sxs-lookup"><span data-stu-id="7f84a-142">Specifies the name of each database that is to be tuned.</span></span> <span data-ttu-id="7f84a-143">O primeiro banco de dados é o banco de dados padrão.</span><span class="sxs-lookup"><span data-stu-id="7f84a-143">The first database is the default database.</span></span> <span data-ttu-id="7f84a-144">É possível especificar bancos de dados múltiplos separando os nomes do banco de dados com vírgulas, por exemplo:</span><span class="sxs-lookup"><span data-stu-id="7f84a-144">You can specify multiple databases by separating the database names with commas, for example:</span></span>  
  
```  
dta -D database_name1, database_name2...  
```  
  
 <span data-ttu-id="7f84a-145">Como alternativa, é possível especificar bancos de dados múltiplos usando o argumento **-D** para cada nome de banco de dados, por exemplo:</span><span class="sxs-lookup"><span data-stu-id="7f84a-145">Alternatively, you can specify multiple databases by using the **-D** argument for each database name, for example:</span></span>  
  
```  
dta -D database_name1 -D database_name2... n  
```  
  
 <span data-ttu-id="7f84a-146">O argumento **-D** é obrigatório.</span><span class="sxs-lookup"><span data-stu-id="7f84a-146">The **-D** argument is mandatory.</span></span> <span data-ttu-id="7f84a-147">Se o argumento **-d** não foi especificado, **dta** se conectará inicialmente ao banco de dados que é especificado com a primeira cláusula `USE database_name` na carga de trabalho.</span><span class="sxs-lookup"><span data-stu-id="7f84a-147">If the **-d** argument has not been specified, **dta** initially connects to the database that is specified with the first `USE database_name` clause in the workload.</span></span> <span data-ttu-id="7f84a-148">Se não houver a cláusula explícita `USE database_name` na carga de trabalho, será necessário usar o argumento **-d** .</span><span class="sxs-lookup"><span data-stu-id="7f84a-148">If there is not explicit `USE database_name` clause in the workload, you must use the **-d** argument.</span></span>  
  
 <span data-ttu-id="7f84a-149">Por exemplo, caso tenha uma carga de trabalho que não contém nenhuma cláusula `USE database_name` explícita e você usar o seguinte comando **dta** , uma recomendação não será gerada:</span><span class="sxs-lookup"><span data-stu-id="7f84a-149">For example, if you have a workload that contains no explicit `USE database_name` clause, and you use the following **dta** command, a recommendation will not be generated:</span></span>  
  
```  
dta -D db_name1, db_name2...  
```  
  
 <span data-ttu-id="7f84a-150">Mas, se você usar a mesma carga de trabalho e usar o seguinte comando **dta** que usa o argumento **-d** , uma recomendação será gerada:</span><span class="sxs-lookup"><span data-stu-id="7f84a-150">But if you use the same workload, and use the following **dta** command that uses the **-d** argument, a recommendation will be generated:</span></span>  
  
```  
dta -D db_name1, db_name2 -d db_name1  
```  
  
 <span data-ttu-id="7f84a-151">**-d** _database_name_</span><span class="sxs-lookup"><span data-stu-id="7f84a-151">**-d** _database_name_</span></span>  
 <span data-ttu-id="7f84a-152">Especifica o primeiro banco de dados ao qual **dta** se conecta ao ajustar uma carga de trabalho.</span><span class="sxs-lookup"><span data-stu-id="7f84a-152">Specifies the first database to which **dta** connects when tuning a workload.</span></span> <span data-ttu-id="7f84a-153">Apenas um banco de dados pode ser especificado para esse argumento.</span><span class="sxs-lookup"><span data-stu-id="7f84a-153">Only one database can be specified for this argument.</span></span> <span data-ttu-id="7f84a-154">Por exemplo:</span><span class="sxs-lookup"><span data-stu-id="7f84a-154">For example:</span></span>  
  
```  
dta -d AdventureWorks2012 ...  
```  
  
 <span data-ttu-id="7f84a-155">Se forem especificados vários nomes de banco de dados, **dta** retornará um erro.</span><span class="sxs-lookup"><span data-stu-id="7f84a-155">If multiple database names are specified, then **dta** returns an error.</span></span> <span data-ttu-id="7f84a-156">O argumento **-d** é opcional.</span><span class="sxs-lookup"><span data-stu-id="7f84a-156">The **-d** argument is optional.</span></span>  
  
 <span data-ttu-id="7f84a-157">Se você estiver usando um arquivo de entrada XML, poderá especificar o primeiro banco de dados ao qual o **DTA** se conecta usando o `DatabaseToConnect` elemento que está localizado sob o `TuningOptions` elemento.</span><span class="sxs-lookup"><span data-stu-id="7f84a-157">If you are using an XML input file, you can specify the first database to which **dta** connects by using the `DatabaseToConnect` element that is located under the `TuningOptions` element.</span></span> <span data-ttu-id="7f84a-158">Para obter mais informações, consulte [Database Engine Tuning Advisor](../../relational-databases/performance/database-engine-tuning-advisor.md).</span><span class="sxs-lookup"><span data-stu-id="7f84a-158">For more information, see [Database Engine Tuning Advisor](../../relational-databases/performance/database-engine-tuning-advisor.md).</span></span>  
  
 <span data-ttu-id="7f84a-159">Se você estiver ajustando apenas um banco de dados, o argumento **-d** fornecerá uma funcionalidade que é semelhante ao argumento **-d** no utilitário **sqlcmd** , mas não executará a instrução USE *database_name* .</span><span class="sxs-lookup"><span data-stu-id="7f84a-159">If you are tuning only one database, the **-d** argument provides functionality that is similar to the **-d** argument in the **sqlcmd** utility, but it does not execute the USE *database_name* statement.</span></span> <span data-ttu-id="7f84a-160">Para saber mais, confira [sqlcmd Utility](../sqlcmd-utility.md).</span><span class="sxs-lookup"><span data-stu-id="7f84a-160">For more information, see [sqlcmd Utility](../sqlcmd-utility.md).</span></span>  
  
 <span data-ttu-id="7f84a-161">**-E**</span><span class="sxs-lookup"><span data-stu-id="7f84a-161">**-E**</span></span>  
 <span data-ttu-id="7f84a-162">Usa uma conexão confiável em vez de pedir uma senha.</span><span class="sxs-lookup"><span data-stu-id="7f84a-162">Uses a trusted connection instead of requesting a password.</span></span> <span data-ttu-id="7f84a-163">O argumento **-E** ou **-U** , que especifica uma ID de logon, deve ser usado.</span><span class="sxs-lookup"><span data-stu-id="7f84a-163">Either the **-E** argument or the **-U** argument, which specifies a login ID, must be used.</span></span>  
  
 <span data-ttu-id="7f84a-164">**-e** _tuning_log_name_</span><span class="sxs-lookup"><span data-stu-id="7f84a-164">**-e** _tuning_log_name_</span></span>  
 <span data-ttu-id="7f84a-165">Especifica o nome da tabela ou do arquivo em que **dta** registra eventos que não puderam ser ajustados.</span><span class="sxs-lookup"><span data-stu-id="7f84a-165">Specifies the name of the table or file where **dta** records events that it could not tune.</span></span> <span data-ttu-id="7f84a-166">A tabela é criada no servidor onde o ajuste é executado.</span><span class="sxs-lookup"><span data-stu-id="7f84a-166">The table is created on the server where the tuning is performed.</span></span>  
  
 <span data-ttu-id="7f84a-167">Se uma tabela for usada, especifique seu nome no formato: *[database_name].[owner_name].table_name*.</span><span class="sxs-lookup"><span data-stu-id="7f84a-167">If a table is used, specify its name in the format: *[database_name].[owner_name].table_name*.</span></span> <span data-ttu-id="7f84a-168">A seguinte tabela mostra os valores padrão para cada parâmetro:</span><span class="sxs-lookup"><span data-stu-id="7f84a-168">The following table shows the default values for each parameter:</span></span>  
  
|<span data-ttu-id="7f84a-169">Parâmetro</span><span class="sxs-lookup"><span data-stu-id="7f84a-169">Parameter</span></span>|<span data-ttu-id="7f84a-170">Valor padrão</span><span class="sxs-lookup"><span data-stu-id="7f84a-170">Default value</span></span>|  
|---------------|-------------------|  
|<span data-ttu-id="7f84a-171">*database_name*</span><span class="sxs-lookup"><span data-stu-id="7f84a-171">*database_name*</span></span>|<span data-ttu-id="7f84a-172">*nome_do_banco_de_dados* especificado com a opção **-D**</span><span class="sxs-lookup"><span data-stu-id="7f84a-172">*database_name* specified with the **-D** option</span></span>|  
|<span data-ttu-id="7f84a-173">*owner_name*</span><span class="sxs-lookup"><span data-stu-id="7f84a-173">*owner_name*</span></span>|<span data-ttu-id="7f84a-174">**dbo**</span><span class="sxs-lookup"><span data-stu-id="7f84a-174">**dbo**</span></span><br /><br /> <span data-ttu-id="7f84a-175">Observação: *owner_name* deve ser **dbo**.</span><span class="sxs-lookup"><span data-stu-id="7f84a-175">Note: *owner_name* must be **dbo**.</span></span> <span data-ttu-id="7f84a-176">Se qualquer outro valor for especificado, a execução de **dta** falhará e retornará um erro.</span><span class="sxs-lookup"><span data-stu-id="7f84a-176">If any other value is specified, then **dta** execution fails and it returns an error.</span></span>|  
|<span data-ttu-id="7f84a-177">*table_name*</span><span class="sxs-lookup"><span data-stu-id="7f84a-177">*table_name*</span></span>|<span data-ttu-id="7f84a-178">Nenhum</span><span class="sxs-lookup"><span data-stu-id="7f84a-178">None</span></span>|  
  
 <span data-ttu-id="7f84a-179">Se um arquivo for usado, especifique .xml como sua extensão.</span><span class="sxs-lookup"><span data-stu-id="7f84a-179">If a file is used, specify .xml as its extension.</span></span> <span data-ttu-id="7f84a-180">Por exemplo, TuningLog.xml.</span><span class="sxs-lookup"><span data-stu-id="7f84a-180">For example, TuningLog.xml.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="7f84a-181">O utilitário **dta** não excluirá o conteúdo das tabelas de log de ajuste especificadas pelo usuário se a sessão for excluída.</span><span class="sxs-lookup"><span data-stu-id="7f84a-181">The **dta** utility does not delete the contents of user-specified tuning log tables if the session is deleted.</span></span> <span data-ttu-id="7f84a-182">Ao ajustar cargas de trabalho muito grandes, é recomendável que uma tabela seja especificada para o log de ajuste.</span><span class="sxs-lookup"><span data-stu-id="7f84a-182">When tuning very large workloads, we recommend that a table be specified for the tuning log.</span></span> <span data-ttu-id="7f84a-183">Como o ajuste de cargas de trabalho grandes pode resultar em logs de ajuste grandes, as sessões podem ser excluídas muito mais rapidamente ao usar uma tabela.</span><span class="sxs-lookup"><span data-stu-id="7f84a-183">Since tuning large workloads can result in large tuning logs, the sessions can be deleted much faster when a table is used.</span></span>  
  
 <span data-ttu-id="7f84a-184">**-F**</span><span class="sxs-lookup"><span data-stu-id="7f84a-184">**-F**</span></span>  
 <span data-ttu-id="7f84a-185">Permite que **dta** substitua um arquivo de saída existente.</span><span class="sxs-lookup"><span data-stu-id="7f84a-185">Permits **dta** to overwrite an existing output file.</span></span> <span data-ttu-id="7f84a-186">Se um arquivo de saída com o mesmo nome já existir e **-F** não for especificado, **dta**retornará um erro.</span><span class="sxs-lookup"><span data-stu-id="7f84a-186">If an output file with the same name already exists and **-F** is not specified, **dta**returns an error.</span></span> <span data-ttu-id="7f84a-187">Você pode usar **-F** com **-of**, **-or**ou **-ox**.</span><span class="sxs-lookup"><span data-stu-id="7f84a-187">You can use **-F** with **-of**, **-or**, or **-ox**.</span></span>  
  
 <span data-ttu-id="7f84a-188">**-fa** _physical_design_structures_to_add_</span><span class="sxs-lookup"><span data-stu-id="7f84a-188">**-fa** _physical_design_structures_to_add_</span></span>  
 <span data-ttu-id="7f84a-189">Especifica que tipos de estruturas de design físico **dta** deve incluir na recomendação.</span><span class="sxs-lookup"><span data-stu-id="7f84a-189">Specifies what types of physical design structures **dta** should include in the recommendation.</span></span> <span data-ttu-id="7f84a-190">A tabela a seguir lista e descreve os valores que podem ser especificados para esse argumento.</span><span class="sxs-lookup"><span data-stu-id="7f84a-190">The following table lists and describes the values that can be specified for this argument.</span></span> <span data-ttu-id="7f84a-191">Quando nenhum valor é especificado, o **DTA** usa o padrão **-FA** `IDX` .</span><span class="sxs-lookup"><span data-stu-id="7f84a-191">When no value is specified, **dta** uses the default **-fa**`IDX`.</span></span>  
  
|<span data-ttu-id="7f84a-192">Valor</span><span class="sxs-lookup"><span data-stu-id="7f84a-192">Value</span></span>|<span data-ttu-id="7f84a-193">Descrição</span><span class="sxs-lookup"><span data-stu-id="7f84a-193">Description</span></span>|  
|-----------|-----------------|  
|<span data-ttu-id="7f84a-194">IDX_IV</span><span class="sxs-lookup"><span data-stu-id="7f84a-194">IDX_IV</span></span>|<span data-ttu-id="7f84a-195">Índices e exibições indexadas.</span><span class="sxs-lookup"><span data-stu-id="7f84a-195">Indexes and indexed views.</span></span>|  
|<span data-ttu-id="7f84a-196">IDX</span><span class="sxs-lookup"><span data-stu-id="7f84a-196">IDX</span></span>|<span data-ttu-id="7f84a-197">Somente índices.</span><span class="sxs-lookup"><span data-stu-id="7f84a-197">Indexes only.</span></span>|  
|<span data-ttu-id="7f84a-198">IV</span><span class="sxs-lookup"><span data-stu-id="7f84a-198">IV</span></span>|<span data-ttu-id="7f84a-199">Somente exibições indexadas.</span><span class="sxs-lookup"><span data-stu-id="7f84a-199">Indexed views only.</span></span>|  
|<span data-ttu-id="7f84a-200">NCL_IDX</span><span class="sxs-lookup"><span data-stu-id="7f84a-200">NCL_IDX</span></span>|<span data-ttu-id="7f84a-201">Somente índices não clusterizados</span><span class="sxs-lookup"><span data-stu-id="7f84a-201">Nonclustered indexes only.</span></span>|  
  
 <span data-ttu-id="7f84a-202">**-fi**</span><span class="sxs-lookup"><span data-stu-id="7f84a-202">**-fi**</span></span>  
 <span data-ttu-id="7f84a-203">Especifica que os índices filtrados serão considerados em novas recomendações.</span><span class="sxs-lookup"><span data-stu-id="7f84a-203">Specifies that filtered indexes be considered for new recommendations.</span></span> <span data-ttu-id="7f84a-204">Para saber mais, confira [Create Filtered Indexes](../../relational-databases/indexes/create-filtered-indexes.md).</span><span class="sxs-lookup"><span data-stu-id="7f84a-204">For more information, see [Create Filtered Indexes](../../relational-databases/indexes/create-filtered-indexes.md).</span></span>  
  
 <span data-ttu-id="7f84a-205">**-fk** _keep_existing_option_</span><span class="sxs-lookup"><span data-stu-id="7f84a-205">**-fk** _keep_existing_option_</span></span>  
 <span data-ttu-id="7f84a-206">Especifica quais estruturas de design físico **dta** deve reter ao gerar sua recomendação.</span><span class="sxs-lookup"><span data-stu-id="7f84a-206">Specifies what existing physical design structures **dta** must retain when generating its recommendation.</span></span> <span data-ttu-id="7f84a-207">A tabela a seguir lista e descreve os valores que podem ser especificados para esse argumento.</span><span class="sxs-lookup"><span data-stu-id="7f84a-207">The following table lists and describes the values that can be specified for this argument:</span></span>  
  
|<span data-ttu-id="7f84a-208">Valor</span><span class="sxs-lookup"><span data-stu-id="7f84a-208">Value</span></span>|<span data-ttu-id="7f84a-209">Descrição</span><span class="sxs-lookup"><span data-stu-id="7f84a-209">Description</span></span>|  
|-----------|-----------------|  
|<span data-ttu-id="7f84a-210">Nenhuma</span><span class="sxs-lookup"><span data-stu-id="7f84a-210">NONE</span></span>|<span data-ttu-id="7f84a-211">Nenhuma estrutura existente</span><span class="sxs-lookup"><span data-stu-id="7f84a-211">No existing structures</span></span>|  
|<span data-ttu-id="7f84a-212">ALL</span><span class="sxs-lookup"><span data-stu-id="7f84a-212">ALL</span></span>|<span data-ttu-id="7f84a-213">Todas as estruturas existentes</span><span class="sxs-lookup"><span data-stu-id="7f84a-213">All existing structures</span></span>|  
|<span data-ttu-id="7f84a-214">ALIGNED</span><span class="sxs-lookup"><span data-stu-id="7f84a-214">ALIGNED</span></span>|<span data-ttu-id="7f84a-215">Todas as estruturas alinhadas por partição.</span><span class="sxs-lookup"><span data-stu-id="7f84a-215">All partition-aligned structures.</span></span>|  
|<span data-ttu-id="7f84a-216">CL_IDX</span><span class="sxs-lookup"><span data-stu-id="7f84a-216">CL_IDX</span></span>|<span data-ttu-id="7f84a-217">Todos os índices clusterizados em tabelas</span><span class="sxs-lookup"><span data-stu-id="7f84a-217">All clustered indexes on tables</span></span>|  
|<span data-ttu-id="7f84a-218">IDX</span><span class="sxs-lookup"><span data-stu-id="7f84a-218">IDX</span></span>|<span data-ttu-id="7f84a-219">Todos os índices clusterizados e não clusterizados em tabelas</span><span class="sxs-lookup"><span data-stu-id="7f84a-219">All clustered and nonclustered indexes on tables</span></span>|  
  
 <span data-ttu-id="7f84a-220">**-fp** _partitioning_strategy_</span><span class="sxs-lookup"><span data-stu-id="7f84a-220">**-fp** _partitioning_strategy_</span></span>  
 <span data-ttu-id="7f84a-221">Especifica se as novas estruturas de design físico (índices e exibições indexadas) propostas por **dta** devem ser particionadas e como particioná-las.</span><span class="sxs-lookup"><span data-stu-id="7f84a-221">Specifies whether new physical design structures (indexes and indexed views) that **dta** proposes should be partitioned, and how they should be partitioned.</span></span> <span data-ttu-id="7f84a-222">A tabela a seguir lista e descreve os valores que podem ser especificados para esse argumento.</span><span class="sxs-lookup"><span data-stu-id="7f84a-222">The following table lists and describes the values that can be specified for this argument:</span></span>  
  
|<span data-ttu-id="7f84a-223">Valor</span><span class="sxs-lookup"><span data-stu-id="7f84a-223">Value</span></span>|<span data-ttu-id="7f84a-224">Descrição</span><span class="sxs-lookup"><span data-stu-id="7f84a-224">Description</span></span>|  
|-----------|-----------------|  
|<span data-ttu-id="7f84a-225">Nenhuma</span><span class="sxs-lookup"><span data-stu-id="7f84a-225">NONE</span></span>|<span data-ttu-id="7f84a-226">Nenhum particionamento</span><span class="sxs-lookup"><span data-stu-id="7f84a-226">No partitioning</span></span>|  
|<span data-ttu-id="7f84a-227">FULL</span><span class="sxs-lookup"><span data-stu-id="7f84a-227">FULL</span></span>|<span data-ttu-id="7f84a-228">Particionamento completo (escolha para melhorar o desempenho).</span><span class="sxs-lookup"><span data-stu-id="7f84a-228">Full partitioning (choose to enhance performance)</span></span>|  
|<span data-ttu-id="7f84a-229">ALIGNED</span><span class="sxs-lookup"><span data-stu-id="7f84a-229">ALIGNED</span></span>|<span data-ttu-id="7f84a-230">Somente particionamento alinhado (escolha para melhorar a capacidade de gerenciamento)</span><span class="sxs-lookup"><span data-stu-id="7f84a-230">Aligned partitioning only (choose to enhance manageability)</span></span>|  
  
 <span data-ttu-id="7f84a-231">ALIGNED significa que, na recomendação gerada por **dta** , todo índice proposto é particionado exatamente do mesmo modo que a tabela subjacente para a qual o índice foi definido.</span><span class="sxs-lookup"><span data-stu-id="7f84a-231">ALIGNED means that in the recommendation generated by **dta** every proposed index is partitioned in exactly the same way as the underlying table for which the index is defined.</span></span> <span data-ttu-id="7f84a-232">Índices não clusterizados em uma exibição indexada são alinhados com a exibição indexada.</span><span class="sxs-lookup"><span data-stu-id="7f84a-232">Nonclustered indexes on an indexed view are aligned with the indexed view.</span></span> <span data-ttu-id="7f84a-233">Só um valor pode ser especificado para esse argumento.</span><span class="sxs-lookup"><span data-stu-id="7f84a-233">Only one value can be specified for this argument.</span></span> <span data-ttu-id="7f84a-234">O padrão é **-FP** `NONE` .</span><span class="sxs-lookup"><span data-stu-id="7f84a-234">The default is **-fp**`NONE`.</span></span>  
  
 <span data-ttu-id="7f84a-235">**-fx** _drop_only_mode_</span><span class="sxs-lookup"><span data-stu-id="7f84a-235">**-fx** _drop_only_mode_</span></span>  
 <span data-ttu-id="7f84a-236">Especifica que **dta** só considera a remoção das estruturas de design físico existentes.</span><span class="sxs-lookup"><span data-stu-id="7f84a-236">Specifies that **dta** only considers dropping existing physical design structures.</span></span> <span data-ttu-id="7f84a-237">Nenhuma estrutura de design físico nova é considerada.</span><span class="sxs-lookup"><span data-stu-id="7f84a-237">No new physical design structures are considered.</span></span> <span data-ttu-id="7f84a-238">Quando esta opção é especificada, o **dta** avalia a utilidade de estruturas de design físico existentes e recomenda descartar as estruturas raramente usadas.</span><span class="sxs-lookup"><span data-stu-id="7f84a-238">When this option is specified, **dta** evaluates the usefulness of existing physical design structures and recommends dropping seldom used structures.</span></span> <span data-ttu-id="7f84a-239">Este argumento não leva nenhum valor.</span><span class="sxs-lookup"><span data-stu-id="7f84a-239">This argument takes no values.</span></span> <span data-ttu-id="7f84a-240">Não pode ser usado com os argumentos **-fa**, **-fp**ou **-fk ALL**</span><span class="sxs-lookup"><span data-stu-id="7f84a-240">It cannot be used with the **-fa**, **-fp**, or **-fk ALL** arguments</span></span>  
  
 <span data-ttu-id="7f84a-241">**-ID** _session_ID_</span><span class="sxs-lookup"><span data-stu-id="7f84a-241">**-ID** _session_ID_</span></span>  
 <span data-ttu-id="7f84a-242">Especifica um identificador numérico para a sessão de ajuste.</span><span class="sxs-lookup"><span data-stu-id="7f84a-242">Specifies a numerical identifier for the tuning session.</span></span> <span data-ttu-id="7f84a-243">Se não estiver especificado, **dta** gerará um número de identificação.</span><span class="sxs-lookup"><span data-stu-id="7f84a-243">If not specified, then **dta** generates an ID number.</span></span> <span data-ttu-id="7f84a-244">Você pode usar esse identificador para exibir informações para sessões de ajuste existentes.</span><span class="sxs-lookup"><span data-stu-id="7f84a-244">You can use this identifier to view information for existing tuning sessions.</span></span> <span data-ttu-id="7f84a-245">Se você não especificar um valor para **-ID**, um nome de sessão deverá ser especificado com **-s**.</span><span class="sxs-lookup"><span data-stu-id="7f84a-245">If you do not specify a value for **-ID**, then a session name must be specified with **-s**.</span></span>  
  
 <span data-ttu-id="7f84a-246">**-ip**</span><span class="sxs-lookup"><span data-stu-id="7f84a-246">**-ip**</span></span>  
 <span data-ttu-id="7f84a-247">Especifica que o cache de plano seja usado como a carga de trabalho.</span><span class="sxs-lookup"><span data-stu-id="7f84a-247">Specifies that the plan cache be used as the workload.</span></span> <span data-ttu-id="7f84a-248">Os primeiros 1.000 eventos de cache de plano para bancos de dados selecionados explicitamente são analisados.</span><span class="sxs-lookup"><span data-stu-id="7f84a-248">The top 1,000 plan cache events for explicitly selected databases are analyzed.</span></span> <span data-ttu-id="7f84a-249">Esse valor pode ser alterado usando a opção **-n**.</span><span class="sxs-lookup"><span data-stu-id="7f84a-249">This value can be changed using the **-n** option.</span></span>  
  
 <span data-ttu-id="7f84a-250">**-ipf**</span><span class="sxs-lookup"><span data-stu-id="7f84a-250">**-ipf**</span></span>  
 <span data-ttu-id="7f84a-251">Especifica que o cache de plano seja usado como a carga de trabalho.</span><span class="sxs-lookup"><span data-stu-id="7f84a-251">Specifies that the plan cache be used as the workload.</span></span> <span data-ttu-id="7f84a-252">Os primeiros 1.000 eventos de cache de plano para todos os bancos de dados são analisados.</span><span class="sxs-lookup"><span data-stu-id="7f84a-252">The top 1,000 plan cache events for all databases are analyzed.</span></span> <span data-ttu-id="7f84a-253">Esse valor pode ser alterado usando a opção **-n**.</span><span class="sxs-lookup"><span data-stu-id="7f84a-253">This value can be changed using the **-n** option.</span></span>  
  
 <span data-ttu-id="7f84a-254">**-if** _workload_file_</span><span class="sxs-lookup"><span data-stu-id="7f84a-254">**-if** _workload_file_</span></span>  
 <span data-ttu-id="7f84a-255">Especifica o caminho e o nome do arquivo de carga de trabalho a ser usado como entrada para ajuste.</span><span class="sxs-lookup"><span data-stu-id="7f84a-255">Specifies the path and name of the workload file to use as input for tuning.</span></span> <span data-ttu-id="7f84a-256">O arquivo deve estar em um destes formatos: .trc (arquivo de rastreamento do SQL Server Profiler), .sql (arquivo de SQL) ou .log (arquivo de rastreamento do[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] ).</span><span class="sxs-lookup"><span data-stu-id="7f84a-256">The file must be in one of these formats: .trc (SQL Server Profiler trace file), .sql (SQL file), or .log ([!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] trace file).</span></span> <span data-ttu-id="7f84a-257">Um arquivo de carga de trabalho ou uma tabela de carga de trabalho deve ser especificada.</span><span class="sxs-lookup"><span data-stu-id="7f84a-257">Either one workload file or one workload table must be specified.</span></span>  
  
 <span data-ttu-id="7f84a-258">**-it** _workload_trace_table_name_</span><span class="sxs-lookup"><span data-stu-id="7f84a-258">**-it** _workload_trace_table_name_</span></span>  
 <span data-ttu-id="7f84a-259">Especifica o nome de uma tabela que contém o rastreamento de carga de trabalho para ajuste.</span><span class="sxs-lookup"><span data-stu-id="7f84a-259">Specifies the name of a table containing the workload trace for tuning.</span></span> <span data-ttu-id="7f84a-260">O nome é especificado no formato: [*database_name*] **.** [*owner_name*] **.** _table_name_.</span><span class="sxs-lookup"><span data-stu-id="7f84a-260">The name is specified in the format: [*database_name*]**.**[*owner_name*]**.**_table_name_.</span></span>  
  
 <span data-ttu-id="7f84a-261">A tabela a seguir mostra os valores padrão de cada um:</span><span class="sxs-lookup"><span data-stu-id="7f84a-261">The following table shows the default values for each:</span></span>  
  
|<span data-ttu-id="7f84a-262">Parâmetro</span><span class="sxs-lookup"><span data-stu-id="7f84a-262">Parameter</span></span>|<span data-ttu-id="7f84a-263">Valor padrão</span><span class="sxs-lookup"><span data-stu-id="7f84a-263">Default value</span></span>|  
|---------------|-------------------|  
|<span data-ttu-id="7f84a-264">*database_name*</span><span class="sxs-lookup"><span data-stu-id="7f84a-264">*database_name*</span></span>|<span data-ttu-id="7f84a-265">*nome_do_banco_de_dados* especificado com a opção **-D**.</span><span class="sxs-lookup"><span data-stu-id="7f84a-265">*database_name* specified with **-D** option.</span></span>|  
|<span data-ttu-id="7f84a-266">*owner_name*</span><span class="sxs-lookup"><span data-stu-id="7f84a-266">*owner_name*</span></span>|<span data-ttu-id="7f84a-267">**dbo**.</span><span class="sxs-lookup"><span data-stu-id="7f84a-267">**dbo**.</span></span>|  
|<span data-ttu-id="7f84a-268">*table_name*</span><span class="sxs-lookup"><span data-stu-id="7f84a-268">*table_name*</span></span>|<span data-ttu-id="7f84a-269">Nenhum.</span><span class="sxs-lookup"><span data-stu-id="7f84a-269">None.</span></span>|  
  
> [!NOTE]  
>  <span data-ttu-id="7f84a-270">*owner_name* deve ser **dbo**.</span><span class="sxs-lookup"><span data-stu-id="7f84a-270">*owner_name* must be **dbo**.</span></span> <span data-ttu-id="7f84a-271">Se qualquer outro valor for especificado, a execução de **dta** falhará e um erro será retornado.</span><span class="sxs-lookup"><span data-stu-id="7f84a-271">If any other value is specified, execution of **dta** fails and an error is returned.</span></span> <span data-ttu-id="7f84a-272">Também observe que uma tabela de carga de trabalho ou um arquivo de carga de trabalho deve ser especificado.</span><span class="sxs-lookup"><span data-stu-id="7f84a-272">Also note that either one workload table or one workload file must be specified.</span></span>  
  
 <span data-ttu-id="7f84a-273">**-ix** _input_XML_file_name_</span><span class="sxs-lookup"><span data-stu-id="7f84a-273">**-ix** _input_XML_file_name_</span></span>  
 <span data-ttu-id="7f84a-274">Especifica o nome do arquivo XML que contém informações de entrada de **dta** .</span><span class="sxs-lookup"><span data-stu-id="7f84a-274">Specifies the name of the XML file containing **dta** input information.</span></span> <span data-ttu-id="7f84a-275">Esse deve ser um documento XML válido em conformidade com o DTASchema.xsd.</span><span class="sxs-lookup"><span data-stu-id="7f84a-275">This must be a valid XML document conforming to DTASchema.xsd.</span></span> <span data-ttu-id="7f84a-276">Argumentos em conflito especificados no prompt de comando para opções de ajuste anulam o valor correspondente no arquivo XML.</span><span class="sxs-lookup"><span data-stu-id="7f84a-276">Conflicting arguments specified from the command prompt for tuning options override the corresponding value in this XML file.</span></span> <span data-ttu-id="7f84a-277">A única exceção será se uma configuração especificada pelo usuário for digitada dentro do modo de avaliação no arquivo de entrada XML.</span><span class="sxs-lookup"><span data-stu-id="7f84a-277">The only exception is if a user-specified configuration is entered in the evaluate mode in the XML input file.</span></span> <span data-ttu-id="7f84a-278">Por exemplo, se uma configuração for digitada no elemento **Configuration** do arquivo de entrada XML e o elemento **EvaluateConfiguration** também for especificado como um das opções de ajuste, as opções de ajuste especificadas no arquivo de entrada XML substituirão a opção de ajuste digitada no prompt de comando.</span><span class="sxs-lookup"><span data-stu-id="7f84a-278">For example, if a configuration is entered in the **Configuration** element of the XML input file and the **EvaluateConfiguration** element is also specified as one of the tuning options, the tuning options specified in the XML input file will override any tuning options entered from the command prompt.</span></span>  
  
 <span data-ttu-id="7f84a-279">**-m** _minimum_improvement_</span><span class="sxs-lookup"><span data-stu-id="7f84a-279">**-m** _minimum_improvement_</span></span>  
 <span data-ttu-id="7f84a-280">Especifica a porcentagem mínima de melhoria que a configuração recomendada deve satisfazer.</span><span class="sxs-lookup"><span data-stu-id="7f84a-280">Specifies the minimum percentage of improvement that the recommended configuration must satisfy.</span></span>  
  
 <span data-ttu-id="7f84a-281">**-N** _online_option_</span><span class="sxs-lookup"><span data-stu-id="7f84a-281">**-N** _online_option_</span></span>  
 <span data-ttu-id="7f84a-282">Especifica se são criadas estruturas de design físico online.</span><span class="sxs-lookup"><span data-stu-id="7f84a-282">Specifies whether physical design structures are created online.</span></span> <span data-ttu-id="7f84a-283">A tabela a seguir lista e descreve os valores que podem ser especificados para esse argumento.</span><span class="sxs-lookup"><span data-stu-id="7f84a-283">The following table lists and describes the values you can specify for this argument:</span></span>  
  
|<span data-ttu-id="7f84a-284">Valor</span><span class="sxs-lookup"><span data-stu-id="7f84a-284">Value</span></span>|<span data-ttu-id="7f84a-285">Descrição</span><span class="sxs-lookup"><span data-stu-id="7f84a-285">Description</span></span>|  
|-----------|-----------------|  
|<span data-ttu-id="7f84a-286">OFF</span><span class="sxs-lookup"><span data-stu-id="7f84a-286">OFF</span></span>|<span data-ttu-id="7f84a-287">Nenhuma estrutura de design físico recomendada pode ser criada online.</span><span class="sxs-lookup"><span data-stu-id="7f84a-287">No recommended physical design structures can be created online.</span></span>|  
|<span data-ttu-id="7f84a-288">ATIVADO</span><span class="sxs-lookup"><span data-stu-id="7f84a-288">ON</span></span>|<span data-ttu-id="7f84a-289">Todas as estruturas de design físico recomendadas podem ser criadas online.</span><span class="sxs-lookup"><span data-stu-id="7f84a-289">All recommended physical design structures can be created online.</span></span>|  
|<span data-ttu-id="7f84a-290">MIXED</span><span class="sxs-lookup"><span data-stu-id="7f84a-290">MIXED</span></span>|<span data-ttu-id="7f84a-291">O Orientador de Otimização do Mecanismo de Banco de Dados tenta recomendar estruturas de design físico que podem ser criadas online quando possível.</span><span class="sxs-lookup"><span data-stu-id="7f84a-291">Database Engine Tuning Advisor attempts to recommend physical design structures that can be created online when possible.</span></span>|  
  
 <span data-ttu-id="7f84a-292">Se forem criados índices online, ONLINE = ON será anexado à definição de objeto.</span><span class="sxs-lookup"><span data-stu-id="7f84a-292">If indexes are created online, ONLINE = ON is appended to its object definition.</span></span>  
  
 <span data-ttu-id="7f84a-293">**-n** _number_of_events_</span><span class="sxs-lookup"><span data-stu-id="7f84a-293">**-n** _number_of_events_</span></span>  
 <span data-ttu-id="7f84a-294">Especifica o número de eventos na carga de trabalho que **dta** deve ajustar.</span><span class="sxs-lookup"><span data-stu-id="7f84a-294">Specifies the number of events in the workload that **dta** should tune.</span></span> <span data-ttu-id="7f84a-295">Se esse argumento for especificado e a carga de trabalho for um arquivo de rastreamento que contém informações de duração, **dta** ajustará os eventos em ordem decrescente de duração.</span><span class="sxs-lookup"><span data-stu-id="7f84a-295">If this argument is specified and the workload is a trace file that contains duration information, then **dta** tunes events in decreasing order of duration.</span></span> <span data-ttu-id="7f84a-296">Esse argumento é útil para comparar duas configurações de estruturas de design físico.</span><span class="sxs-lookup"><span data-stu-id="7f84a-296">This argument is useful to compare two configurations of physical design structures.</span></span> <span data-ttu-id="7f84a-297">Para comparar duas configurações, especifique o mesmo número de eventos a serem ajustados para ambas as configurações e também especifique um tempo de ajuste ilimitado para ambos como segue:</span><span class="sxs-lookup"><span data-stu-id="7f84a-297">To compare two configurations, specify the same number of events to be tuned for both configurations and then specify an unlimited tuning time for both also as follows:</span></span>  
  
```  
dta -n number_of_events -A 0  
```  
  
 <span data-ttu-id="7f84a-298">Nessecaso, é importante especificar um tempo de ajuste ilimitado (`-A 0`).</span><span class="sxs-lookup"><span data-stu-id="7f84a-298">In this case, it is important to specify an unlimited tuning time (`-A 0`).</span></span> <span data-ttu-id="7f84a-299">Caso contrário, o Orientador de Otimização do Mecanismo de Banco de Dados assume, por padrão, um tempo de ajuste de 8 horas.</span><span class="sxs-lookup"><span data-stu-id="7f84a-299">Otherwise, Database Engine Tuning Advisor assumes an 8 hour tuning time by default.</span></span>  
  
 <span data-ttu-id="7f84a-300">**-of** _output_script_file_name_</span><span class="sxs-lookup"><span data-stu-id="7f84a-300">**-of** _output_script_file_name_</span></span>  
 <span data-ttu-id="7f84a-301">Especifica que **dta** grava a recomendação como um script [!INCLUDE[tsql](../../includes/tsql-md.md)] no nome de arquivo e destino especificados.</span><span class="sxs-lookup"><span data-stu-id="7f84a-301">Specifies that **dta** writes the recommendation as a [!INCLUDE[tsql](../../includes/tsql-md.md)] script to the file name and destination specified.</span></span>  
  
 <span data-ttu-id="7f84a-302">Você pode usar **-F** com essa opção.</span><span class="sxs-lookup"><span data-stu-id="7f84a-302">You can use **-F** with this option.</span></span> <span data-ttu-id="7f84a-303">Verifique se o nome de arquivo é exclusivo, especialmente se você também estiver usando **-or** e **-ox**.</span><span class="sxs-lookup"><span data-stu-id="7f84a-303">Make sure that the file name is unique, especially if you are also using **-or** and **-ox**.</span></span>  
  
 <span data-ttu-id="7f84a-304">**-or** _output_xml_report_file_name_</span><span class="sxs-lookup"><span data-stu-id="7f84a-304">**-or** _output_xml_report_file_name_</span></span>  
 <span data-ttu-id="7f84a-305">Especifica que **dta** grava a recomendação em um relatório de saída em XML.</span><span class="sxs-lookup"><span data-stu-id="7f84a-305">Specifies that **dta** writes the recommendation to an output report in XML.</span></span> <span data-ttu-id="7f84a-306">Se um nome de arquivo for fornecido, as recomendações serão gravadas nesse destino.</span><span class="sxs-lookup"><span data-stu-id="7f84a-306">If a file name is supplied, then the recommendations are written to that destination.</span></span> <span data-ttu-id="7f84a-307">Caso contrário, o **dta** usa o nome de sessão para gerar o nome de arquivo e grava-o no diretório atual.</span><span class="sxs-lookup"><span data-stu-id="7f84a-307">Otherwise, **dta** uses the session name to generate the file name and writes it to the current directory.</span></span>  
  
 <span data-ttu-id="7f84a-308">Você pode usar **-F** com essa opção.</span><span class="sxs-lookup"><span data-stu-id="7f84a-308">You can use **-F** with this option.</span></span> <span data-ttu-id="7f84a-309">Verifique se o nome de arquivo é exclusivo, especialmente se você também estiver usando **-of** e **-ox**.</span><span class="sxs-lookup"><span data-stu-id="7f84a-309">Make sure that the file name is unique, especially if you are also using **-of** and **-ox**.</span></span>  
  
 <span data-ttu-id="7f84a-310">**-ox** _output_XML_file_name_</span><span class="sxs-lookup"><span data-stu-id="7f84a-310">**-ox** _output_XML_file_name_</span></span>  
 <span data-ttu-id="7f84a-311">Especifica que **dta** grava a recomendação como um arquivo XML no nome de arquivo e destino fornecidos.</span><span class="sxs-lookup"><span data-stu-id="7f84a-311">Specifies that **dta** writes the recommendation as an XML file to the file name and destination supplied.</span></span> <span data-ttu-id="7f84a-312">Verifique se o Orientador de Otimização do Mecanismo de Banco de Dados tem permissões para gravar no diretório de destino.</span><span class="sxs-lookup"><span data-stu-id="7f84a-312">Ensure that Database Engine Tuning Advisor has permissions to write to the destination directory.</span></span>  
  
 <span data-ttu-id="7f84a-313">Você pode usar **-F** com essa opção.</span><span class="sxs-lookup"><span data-stu-id="7f84a-313">You can use **-F** with this option.</span></span> <span data-ttu-id="7f84a-314">Verifique se o nome de arquivo é exclusivo, especialmente se você também estiver usando **-of** e **-or**.</span><span class="sxs-lookup"><span data-stu-id="7f84a-314">Make sure that the file name is unique, especially if you are also using **-of** and **-or**.</span></span>  
  
 <span data-ttu-id="7f84a-315">**-P** _password_</span><span class="sxs-lookup"><span data-stu-id="7f84a-315">**-P** _password_</span></span>  
 <span data-ttu-id="7f84a-316">Especifica a senha para a ID de logon.</span><span class="sxs-lookup"><span data-stu-id="7f84a-316">Specifies the password for the login ID.</span></span> <span data-ttu-id="7f84a-317">Se essa opção não for usada, o **dta** solicitará a senha.</span><span class="sxs-lookup"><span data-stu-id="7f84a-317">If this option is not used, **dta** prompts for a password.</span></span>  
  
 <span data-ttu-id="7f84a-318">**-q**</span><span class="sxs-lookup"><span data-stu-id="7f84a-318">**-q**</span></span>  
 <span data-ttu-id="7f84a-319">Define o modo silencioso.</span><span class="sxs-lookup"><span data-stu-id="7f84a-319">Sets quiet mode.</span></span> <span data-ttu-id="7f84a-320">Nenhuma informação é gravada no console, inclusive informações de progresso e de cabeçalho.</span><span class="sxs-lookup"><span data-stu-id="7f84a-320">No information is written to the console, including progress and header information.</span></span>  
  
 <span data-ttu-id="7f84a-321">**-rl** _analysis_report_list_</span><span class="sxs-lookup"><span data-stu-id="7f84a-321">**-rl** _analysis_report_list_</span></span>  
 <span data-ttu-id="7f84a-322">Especifica a lista de relatórios de análise a serem gerados.</span><span class="sxs-lookup"><span data-stu-id="7f84a-322">Specifies the list of analysis reports to generate.</span></span> <span data-ttu-id="7f84a-323">A seguinte tabela lista os valores que podem ser especificados para esse argumento:</span><span class="sxs-lookup"><span data-stu-id="7f84a-323">The following table lists the values that can be specified for this argument:</span></span>  
  
|<span data-ttu-id="7f84a-324">Valor</span><span class="sxs-lookup"><span data-stu-id="7f84a-324">Value</span></span>|<span data-ttu-id="7f84a-325">Relatório</span><span class="sxs-lookup"><span data-stu-id="7f84a-325">Report</span></span>|  
|-----------|------------|  
|<span data-ttu-id="7f84a-326">ALL</span><span class="sxs-lookup"><span data-stu-id="7f84a-326">ALL</span></span>|<span data-ttu-id="7f84a-327">Todos os relatórios de análise</span><span class="sxs-lookup"><span data-stu-id="7f84a-327">All analysis reports</span></span>|  
|<span data-ttu-id="7f84a-328">STMT_COST</span><span class="sxs-lookup"><span data-stu-id="7f84a-328">STMT_COST</span></span>|<span data-ttu-id="7f84a-329">Relatório de custo da instrução</span><span class="sxs-lookup"><span data-stu-id="7f84a-329">Statement cost report</span></span>|  
|<span data-ttu-id="7f84a-330">EVT_FREQ</span><span class="sxs-lookup"><span data-stu-id="7f84a-330">EVT_FREQ</span></span>|<span data-ttu-id="7f84a-331">Relatório de frequência de evento</span><span class="sxs-lookup"><span data-stu-id="7f84a-331">Event frequency report</span></span>|  
|<span data-ttu-id="7f84a-332">STMT_DET</span><span class="sxs-lookup"><span data-stu-id="7f84a-332">STMT_DET</span></span>|<span data-ttu-id="7f84a-333">Relatório de detalhe de instrução</span><span class="sxs-lookup"><span data-stu-id="7f84a-333">Statement detail report</span></span>|  
|<span data-ttu-id="7f84a-334">CUR_STMT_IDX</span><span class="sxs-lookup"><span data-stu-id="7f84a-334">CUR_STMT_IDX</span></span>|<span data-ttu-id="7f84a-335">Relatório de relações do índice de instrução (configuração atual)</span><span class="sxs-lookup"><span data-stu-id="7f84a-335">Statement-index relations report (current configuration)</span></span>|  
|<span data-ttu-id="7f84a-336">REC_STMT_IDX</span><span class="sxs-lookup"><span data-stu-id="7f84a-336">REC_STMT_IDX</span></span>|<span data-ttu-id="7f84a-337">Relatório de relações do índice de instrução (configuração recomendada)</span><span class="sxs-lookup"><span data-stu-id="7f84a-337">Statement-index relations report (recommended configuration)</span></span>|  
|<span data-ttu-id="7f84a-338">STMT_COSTRANGE</span><span class="sxs-lookup"><span data-stu-id="7f84a-338">STMT_COSTRANGE</span></span>|<span data-ttu-id="7f84a-339">Relatório de intervalo de custo da instrução</span><span class="sxs-lookup"><span data-stu-id="7f84a-339">Statement cost range report</span></span>|  
|<span data-ttu-id="7f84a-340">CUR_IDX_USAGE</span><span class="sxs-lookup"><span data-stu-id="7f84a-340">CUR_IDX_USAGE</span></span>|<span data-ttu-id="7f84a-341">Relatório de uso de índice (configuração atual)</span><span class="sxs-lookup"><span data-stu-id="7f84a-341">Index usage report (current configuration)</span></span>|  
|<span data-ttu-id="7f84a-342">REC_IDX_USAGE</span><span class="sxs-lookup"><span data-stu-id="7f84a-342">REC_IDX_USAGE</span></span>|<span data-ttu-id="7f84a-343">Relatório de uso de índice (configuração recomendada)</span><span class="sxs-lookup"><span data-stu-id="7f84a-343">Index usage report (recommended configuration)</span></span>|  
|<span data-ttu-id="7f84a-344">CUR_IDX_DET</span><span class="sxs-lookup"><span data-stu-id="7f84a-344">CUR_IDX_DET</span></span>|<span data-ttu-id="7f84a-345">Relatório de detalhe de índice (configuração atual)</span><span class="sxs-lookup"><span data-stu-id="7f84a-345">Index detail report (current configuration)</span></span>|  
|<span data-ttu-id="7f84a-346">REC_IDX_DET</span><span class="sxs-lookup"><span data-stu-id="7f84a-346">REC_IDX_DET</span></span>|<span data-ttu-id="7f84a-347">Relatório de detalhe de índice (configuração recomendada)</span><span class="sxs-lookup"><span data-stu-id="7f84a-347">Index detail report (recommended configuration)</span></span>|  
|<span data-ttu-id="7f84a-348">VIW_TAB</span><span class="sxs-lookup"><span data-stu-id="7f84a-348">VIW_TAB</span></span>|<span data-ttu-id="7f84a-349">Relatório de relações da tabela de exibição</span><span class="sxs-lookup"><span data-stu-id="7f84a-349">View-table relations report</span></span>|  
|<span data-ttu-id="7f84a-350">WKLD_ANL</span><span class="sxs-lookup"><span data-stu-id="7f84a-350">WKLD_ANL</span></span>|<span data-ttu-id="7f84a-351">Relatório de análise da carga de trabalho</span><span class="sxs-lookup"><span data-stu-id="7f84a-351">Workload analysis report</span></span>|  
|<span data-ttu-id="7f84a-352">DB_ACCESS</span><span class="sxs-lookup"><span data-stu-id="7f84a-352">DB_ACCESS</span></span>|<span data-ttu-id="7f84a-353">Relatório de acesso ao banco de dados</span><span class="sxs-lookup"><span data-stu-id="7f84a-353">Database access report</span></span>|  
|<span data-ttu-id="7f84a-354">TAB_ACCESS</span><span class="sxs-lookup"><span data-stu-id="7f84a-354">TAB_ACCESS</span></span>|<span data-ttu-id="7f84a-355">Relatório de acesso à tabela</span><span class="sxs-lookup"><span data-stu-id="7f84a-355">Table access report</span></span>|  
|<span data-ttu-id="7f84a-356">COL_ACCESS</span><span class="sxs-lookup"><span data-stu-id="7f84a-356">COL_ACCESS</span></span>|<span data-ttu-id="7f84a-357">Relatório de acesso à coluna</span><span class="sxs-lookup"><span data-stu-id="7f84a-357">Column access report</span></span>|  
  
 <span data-ttu-id="7f84a-358">Especifica relatórios múltiplos separando os valores com vírgulas, por exemplo:</span><span class="sxs-lookup"><span data-stu-id="7f84a-358">Specify multiple reports by separating the values with commas, for example:</span></span>  
  
```  
... -rl EVT_FREQ, VIW_TAB, WKLD_ANL ...  
```  
  
 <span data-ttu-id="7f84a-359">**-S** _server_name_[ *\instance*]</span><span class="sxs-lookup"><span data-stu-id="7f84a-359">**-S** _server_name_[ *\instance*]</span></span>  
 <span data-ttu-id="7f84a-360">Especifica o nome do computador e a instância do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] para conexão.</span><span class="sxs-lookup"><span data-stu-id="7f84a-360">Specifies the name of the computer and instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] to connect to.</span></span> <span data-ttu-id="7f84a-361">Se nenhum *server_name* for especificado, **dta** se conectará à instância padrão do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] no computador local.</span><span class="sxs-lookup"><span data-stu-id="7f84a-361">If no *server_name* is specified, **dta** connects to the default instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] on the local computer.</span></span> <span data-ttu-id="7f84a-362">Essa opção é requerida na conexão à uma instância nomeada ou na execução de **dta** de um computador remoto na rede.</span><span class="sxs-lookup"><span data-stu-id="7f84a-362">This option is required when connecting to a named instance or when executing **dta** from a remote computer on the network.</span></span>  
  
 <span data-ttu-id="7f84a-363">**-s** _session_name_</span><span class="sxs-lookup"><span data-stu-id="7f84a-363">**-s** _session_name_</span></span>  
 <span data-ttu-id="7f84a-364">Especifica o nome da sessão de ajuste.</span><span class="sxs-lookup"><span data-stu-id="7f84a-364">Specifies the name of the tuning session.</span></span> <span data-ttu-id="7f84a-365">Isso será obrigatório se **-ID** não for especificado.</span><span class="sxs-lookup"><span data-stu-id="7f84a-365">This is required if **-ID** is not specified.</span></span>  
  
 <span data-ttu-id="7f84a-366">**-Tf** _table_list_file_</span><span class="sxs-lookup"><span data-stu-id="7f84a-366">**-Tf** _table_list_file_</span></span>  
 <span data-ttu-id="7f84a-367">Especifica o nome de um arquivo que contém uma lista de tabelas a ser ajustada.</span><span class="sxs-lookup"><span data-stu-id="7f84a-367">Specifies the name of a file containing a list of tables to be tuned.</span></span> <span data-ttu-id="7f84a-368">Cada tabela listada dentro do arquivo deve começar em uma linha nova.</span><span class="sxs-lookup"><span data-stu-id="7f84a-368">Each table listed within the file should begin on a new line.</span></span> <span data-ttu-id="7f84a-369">Nomes de tabela devem ser qualificados com nomeação de três partes, por exemplo, **AdventureWorks2012.HumanResources.Department**.</span><span class="sxs-lookup"><span data-stu-id="7f84a-369">Table names should be qualified with three-part naming, for example, **AdventureWorks2012.HumanResources.Department**.</span></span> <span data-ttu-id="7f84a-370">Opcionalmente, para invocar o recurso do escalamento de tabela, o nome de uma tabela existente pode ser seguido de um número que indica o número projetado de linhas na tabela.</span><span class="sxs-lookup"><span data-stu-id="7f84a-370">Optionally, to invoke the table-scaling feature, the name of an existing table can be followed by a number indicating the projected number of rows in the table.</span></span> <span data-ttu-id="7f84a-371">O Orientador de Otimização do Mecanismo de Banco de Dados leva em conta o número projetado de linhas ao ajustar ou avaliar as instruções na carga de trabalho que referenciam estas tabelas.</span><span class="sxs-lookup"><span data-stu-id="7f84a-371">Database Engine Tuning Advisor takes into consideration the projected number of rows while tuning or evaluating statements in the workload that reference these tables.</span></span> <span data-ttu-id="7f84a-372">Observe que pode haver um ou mais espaços entre a contagem *number_of_rows* e *table_name*.</span><span class="sxs-lookup"><span data-stu-id="7f84a-372">Note that there can be one or more spaces between the *number_of_rows* count and the *table_name*.</span></span>  
  
 <span data-ttu-id="7f84a-373">Este é o formato de arquivo para *table_list_file*:</span><span class="sxs-lookup"><span data-stu-id="7f84a-373">This is the file format for *table_list_file*:</span></span>  
  
 <span data-ttu-id="7f84a-374">*database_name*.[*schema_name*].*table_name* [*number_of_rows*]</span><span class="sxs-lookup"><span data-stu-id="7f84a-374">*database_name*.[*schema_name*].*table_name* [*number_of_rows*]</span></span>  
  
 <span data-ttu-id="7f84a-375">*database_name*.[*schema_name*].*table_name* [*number_of_rows*]</span><span class="sxs-lookup"><span data-stu-id="7f84a-375">*database_name*.[*schema_name*].*table_name* [*number_of_rows*]</span></span>  
  
 <span data-ttu-id="7f84a-376">*database_name*.[*schema_name*].*table_name* [*number_of_rows*]</span><span class="sxs-lookup"><span data-stu-id="7f84a-376">*database_name*.[*schema_name*].*table_name* [*number_of_rows*]</span></span>  
  
 <span data-ttu-id="7f84a-377">Esse argumento é uma alternativa à inserção de uma lista de tabela no prompt de comando ( **-Tl**).</span><span class="sxs-lookup"><span data-stu-id="7f84a-377">This argument is an alternative to entering a table list at the command prompt (**-Tl**).</span></span> <span data-ttu-id="7f84a-378">Não use um arquivo de lista de tabela ( **-Tf**) se você estiver usando **-Tl**.</span><span class="sxs-lookup"><span data-stu-id="7f84a-378">Do not use a table list file (**-Tf**) if you are using **-Tl**.</span></span> <span data-ttu-id="7f84a-379">Se ambos os argumentos forem usados, o **dta** falhará e retornará um erro.</span><span class="sxs-lookup"><span data-stu-id="7f84a-379">If both arguments are used, **dta** fails and returns an error.</span></span>  
  
 <span data-ttu-id="7f84a-380">Se os argumentos **-Tf** e **-Tl** forem omitidos, todas as tabelas de usuário nos bancos de dados especificados serão consideradas para o ajuste.</span><span class="sxs-lookup"><span data-stu-id="7f84a-380">If the **-Tf** and **-Tl** arguments are omitted, all user tables in the specified databases are considered for tuning.</span></span>  
  
 <span data-ttu-id="7f84a-381">**-Tl** _table_list_</span><span class="sxs-lookup"><span data-stu-id="7f84a-381">**-Tl** _table_list_</span></span>  
 <span data-ttu-id="7f84a-382">Especifica ao prompt de comando uma lista de tabelas a serem ajustadas.</span><span class="sxs-lookup"><span data-stu-id="7f84a-382">Specifies at the command prompt a list of tables to be tuned.</span></span> <span data-ttu-id="7f84a-383">Coloque vírgulas entre os nomes de tabela para separá-los.</span><span class="sxs-lookup"><span data-stu-id="7f84a-383">Place commas between table names to separate them.</span></span> <span data-ttu-id="7f84a-384">Se apenas um banco de dados for especificado com o argumento **-D** , os nomes de tabela não precisarão ser qualificados com um nome de banco de dados.</span><span class="sxs-lookup"><span data-stu-id="7f84a-384">If only one database is specified with the **-D** argument, then table names do not need to be qualified with a database name.</span></span> <span data-ttu-id="7f84a-385">Caso contrário, o nome totalmente qualificado no formato: *database_name.schema_name.table_name* será obrigatório para cada tabela.</span><span class="sxs-lookup"><span data-stu-id="7f84a-385">Otherwise, the fully qualified name in the format: *database_name.schema_name.table_name* is required for each table.</span></span>  
  
 <span data-ttu-id="7f84a-386">Esse argumento é uma alternativa ao uso de um arquivo de lista de tabela ( **-Tf**).</span><span class="sxs-lookup"><span data-stu-id="7f84a-386">This argument is an alternative to using a table list file (**-Tf**).</span></span> <span data-ttu-id="7f84a-387">Se **-Tl** e **-Tf** forem usados, **dta** falhará e retornará um erro.</span><span class="sxs-lookup"><span data-stu-id="7f84a-387">If both **-Tl** and **-Tf** are used, **dta** fails and returns an error.</span></span>  
  
 <span data-ttu-id="7f84a-388">**-U** _login_id_</span><span class="sxs-lookup"><span data-stu-id="7f84a-388">**-U** _login_id_</span></span>  
 <span data-ttu-id="7f84a-389">Especifica a ID de logon usada para conectar-se ao [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="7f84a-389">Specifies the login ID used to connect to [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span>  
  
 <span data-ttu-id="7f84a-390">**-u**</span><span class="sxs-lookup"><span data-stu-id="7f84a-390">**-u**</span></span>  
 <span data-ttu-id="7f84a-391">Inicia a GUI do Orientador de Otimização do Mecanismo de Banco de Dados.</span><span class="sxs-lookup"><span data-stu-id="7f84a-391">Launches the Database Engine Tuning Advisor GUI.</span></span> <span data-ttu-id="7f84a-392">Todos os parâmetros são tratados como as configurações iniciais para a interface com o usuário.</span><span class="sxs-lookup"><span data-stu-id="7f84a-392">All parameters are treated as the initial settings for the user interface.</span></span>  
  
 <span data-ttu-id="7f84a-393">**-x**</span><span class="sxs-lookup"><span data-stu-id="7f84a-393">**-x**</span></span>  
 <span data-ttu-id="7f84a-394">Inicia a sessão de ajuste e sai.</span><span class="sxs-lookup"><span data-stu-id="7f84a-394">Starts tuning session and exits.</span></span>  
  
## <a name="remarks"></a><span data-ttu-id="7f84a-395">Comentários</span><span class="sxs-lookup"><span data-stu-id="7f84a-395">Remarks</span></span>  
 <span data-ttu-id="7f84a-396">Pressione CTRL+C uma vez para parar a sessão de ajuste e gerar recomendações com base na análise do **dta** concluída até este ponto.</span><span class="sxs-lookup"><span data-stu-id="7f84a-396">Press CTRL+C once to stop the tuning session and generate recommendations based on the analysis **dta** has completed up to this point.</span></span> <span data-ttu-id="7f84a-397">Você será solicitado a indicar se deseja ou não gerar recomendações.</span><span class="sxs-lookup"><span data-stu-id="7f84a-397">You will be prompted to decide whether you want to generate recommendations or not.</span></span> <span data-ttu-id="7f84a-398">Pressione CTRL+C novamente para parar a sessão de ajuste sem gerar recomendações.</span><span class="sxs-lookup"><span data-stu-id="7f84a-398">Press CTRL+C again to stop the tuning session without generating recommendations.</span></span>  
  
## <a name="examples"></a><span data-ttu-id="7f84a-399">Exemplos</span><span class="sxs-lookup"><span data-stu-id="7f84a-399">Examples</span></span>  
 <span data-ttu-id="7f84a-400">**A. Ajustar uma carga de trabalho que inclui índices e exibições indexadas em sua recomendação**</span><span class="sxs-lookup"><span data-stu-id="7f84a-400">**A. Tune a workload that includes indexes and indexed views in its recommendation**</span></span>  
  
 <span data-ttu-id="7f84a-401">Esse exemplo usa uma conexão segura (`-E`) para se conectar ao banco de dados **tpcd1G** no MyServer para analisar uma carga de trabalho e criar recomendações.</span><span class="sxs-lookup"><span data-stu-id="7f84a-401">This example uses a secure connection (`-E`) to connect to the **tpcd1G** database on MyServer to analyze a workload and create recommendations.</span></span> <span data-ttu-id="7f84a-402">Grava a saída em um arquivo de script nomeado script.sql.</span><span class="sxs-lookup"><span data-stu-id="7f84a-402">It writes the output to a script file named script.sql.</span></span> <span data-ttu-id="7f84a-403">Se o script.sql já existir, **dta** substituirá o arquivo porque o argumento `-F` foi especificado.</span><span class="sxs-lookup"><span data-stu-id="7f84a-403">If script.sql already exists, then **dta** will overwrite the file because the `-F` argument has been specified.</span></span> <span data-ttu-id="7f84a-404">A sessão de ajuste é executada por um tempo ilimitado para garantir uma análise completa da carga de trabalho (`-A 0`).</span><span class="sxs-lookup"><span data-stu-id="7f84a-404">The tuning session runs for an unlimited length of time to ensure a complete analysis of the workload (`-A 0`).</span></span> <span data-ttu-id="7f84a-405">A recomendação deve fornecer uma melhoria mínima de 5% (`-m 5`).</span><span class="sxs-lookup"><span data-stu-id="7f84a-405">The recommendation must provide a minimum improvement of 5% (`-m 5`).</span></span> <span data-ttu-id="7f84a-406">**dta** deve incluir índices e exibições indexadas em sua recomendação final (`-fa IDX_IV`).</span><span class="sxs-lookup"><span data-stu-id="7f84a-406">**dta** should include indexes and indexed views in its final recommendation (`-fa IDX_IV`).</span></span>  
  
```  
dta -S MyServer -E -D tpcd1G -if tpcd_22.sql -F -of script.sql -A 0 -m 5 -fa IDX_IV  
```  
  
 <span data-ttu-id="7f84a-407">**B. Limitar o uso do disco**</span><span class="sxs-lookup"><span data-stu-id="7f84a-407">**B. Limit disk use**</span></span>  
  
 <span data-ttu-id="7f84a-408">Esse exemplo limita o tamanho de banco de dados total, que inclui os dados brutos e os índices adicionais, a 3 gigabytes (GB) (`-B 3000`) e direciona a saída para d:\result_dir\script1.sql.</span><span class="sxs-lookup"><span data-stu-id="7f84a-408">This example limits the total database size, which includes the raw data and the additional indexes, to 3 gigabytes (GB) (`-B 3000`) and directs the output to d:\result_dir\script1.sql.</span></span> <span data-ttu-id="7f84a-409">Ele é executado por no máximo 1 hora (`-A 60`).</span><span class="sxs-lookup"><span data-stu-id="7f84a-409">It runs for no more than 1 hour (`-A 60`).</span></span>  
  
```  
dta -D tpcd1G -if tpcd_22.sql -B 3000 -of "d:\result_dir\script1.sql" -A 60  
```  
  
 <span data-ttu-id="7f84a-410">**C. Limitar o número de consultas ajustadas**</span><span class="sxs-lookup"><span data-stu-id="7f84a-410">**C. Limit the number of tuned queries**</span></span>  
  
 <span data-ttu-id="7f84a-411">Esse exemplo limita o número de consultas lidas do arquivo orders_wkld.sql a um máximo de 10 (`-n 10`) e é executado por 15 minutos (`-A 15`), o que ocorrer primeiro.</span><span class="sxs-lookup"><span data-stu-id="7f84a-411">This example limits the number of queries read from the file orders_wkld.sql to a maximum of 10 (`-n 10`) and runs for 15 minutes (`-A 15`), whichever comes first.</span></span> <span data-ttu-id="7f84a-412">Para garantir que todas as 10 consultas sejam ajustadas, especifique um tempo de ajuste ilimitado com `-A 0`.</span><span class="sxs-lookup"><span data-stu-id="7f84a-412">To make sure that all 10 queries are tuned, specify an unlimited tuning time with `-A 0`.</span></span> <span data-ttu-id="7f84a-413">Se o tempo for importante, determine um prazo apropriado, especificando o número de minutos que estão disponíveis para ajuste com o argumento `-A` , como mostrado neste exemplo.</span><span class="sxs-lookup"><span data-stu-id="7f84a-413">If time is important, specify an appropriate time limit by specifying the number of minutes that are available for tuning with the `-A` argument as shown in this example.</span></span>  
  
```  
dta -D orders -if orders_wkld.sql -of script.sql -A 15 -n 10  
```  
  
 <span data-ttu-id="7f84a-414">**D. Ajustar tabelas específicas listadas em um arquivo**</span><span class="sxs-lookup"><span data-stu-id="7f84a-414">**D. Tune specific tables listed in a file**</span></span>  
  
 <span data-ttu-id="7f84a-415">Este exemplo demonstra o uso de *table_list_file* (o argumento **-Tf** ).</span><span class="sxs-lookup"><span data-stu-id="7f84a-415">This example demonstrates the use of *table_list_file* (the **-Tf** argument).</span></span> <span data-ttu-id="7f84a-416">O conteúdo do arquivo table_list.txt é:</span><span class="sxs-lookup"><span data-stu-id="7f84a-416">The contents of the file table_list.txt are as follows:</span></span>  
  
```  
AdventureWorks2012.Sales.Customer  100000  
AdventureWorks2012.Sales.Store  
AdventureWorks2012.Production.Product  2000000  
```  
  
 <span data-ttu-id="7f84a-417">O conteúdo de table_list.txt especifica que:</span><span class="sxs-lookup"><span data-stu-id="7f84a-417">The contents of table_list.txt specifies that:</span></span>  
  
-   <span data-ttu-id="7f84a-418">Deve-se ajustar apenas as tabelas **Customer**, **Store**e **Product** no banco de dados.</span><span class="sxs-lookup"><span data-stu-id="7f84a-418">Only the **Customer**, **Store**, and **Product** tables in the database should be tuned.</span></span>  
  
-   <span data-ttu-id="7f84a-419">Presume-se que o número de linhas nas tabelas **Customer** e **Product** seja 100.000 e 2.000.000, respectivamente.</span><span class="sxs-lookup"><span data-stu-id="7f84a-419">The number of rows in the **Customer** and **Product** tables are assumed to be 100,000 and 2,000,000, respectively.</span></span>  
  
-   <span data-ttu-id="7f84a-420">Presume-se que em **Store** o número de linhas seja o número atual de linhas na tabela.</span><span class="sxs-lookup"><span data-stu-id="7f84a-420">The number of rows in **Store** are assumed to be the current number of rows in the table.</span></span>  
  
 <span data-ttu-id="7f84a-421">Observe que pode haver um ou mais espaços entre a contagem de número de linhas e o nome de tabela anterior em *table_list_file*.</span><span class="sxs-lookup"><span data-stu-id="7f84a-421">Note that there can be one or more spaces between the number of rows count and the preceding table name in the *table_list_file*.</span></span>  
  
 <span data-ttu-id="7f84a-422">O tempo de ajuste é de 2 horas (`-A 120`) e a saída é gravada em um arquivo XML (`-ox XMLTune.xml`).</span><span class="sxs-lookup"><span data-stu-id="7f84a-422">The tuning time is 2 hours (`-A 120`) and the output is written to an XML file (`-ox XMLTune.xml`).</span></span>  
  
```  
dta -D pubs -if pubs_wkld.sql -ox XMLTune.xml -A 120 -Tf table_list.txt  
```  
  
## <a name="see-also"></a><span data-ttu-id="7f84a-423">Consulte Também</span><span class="sxs-lookup"><span data-stu-id="7f84a-423">See Also</span></span>  
 <span data-ttu-id="7f84a-424">[Referência do utilitário de prompt de comando &#40;Mecanismo de Banco de Dados&#41;](../command-prompt-utility-reference-database-engine.md) </span><span class="sxs-lookup"><span data-stu-id="7f84a-424">[Command Prompt Utility Reference &#40;Database Engine&#41;](../command-prompt-utility-reference-database-engine.md) </span></span>  
 [<span data-ttu-id="7f84a-425">Database Engine Tuning Advisor</span><span class="sxs-lookup"><span data-stu-id="7f84a-425">Database Engine Tuning Advisor</span></span>](../../relational-databases/performance/database-engine-tuning-advisor.md)  
  
  
