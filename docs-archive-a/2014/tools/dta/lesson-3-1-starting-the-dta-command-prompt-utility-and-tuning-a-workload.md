---
title: Iniciando o utilitário de prompt de comando dta e ajustando uma carga de trabalho | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: database-engine
ms.topic: conceptual
helpviewer_keywords:
- Database Engine [SQL Server], tutorials
ms.assetid: f34a5acf-1f3b-4484-a770-6470cb925ab0
author: stevestein
ms.author: sstein
ms.openlocfilehash: 4b2b1755a2ce8299556ab7d0ae14c89d3b2c8554
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87678439"
---
# <a name="starting-the-dta-command-prompt-utility-and-tuning-a-workload"></a><span data-ttu-id="5901c-102">Iniciando o utilitário de prompt de comando dta e ajustando uma carga de trabalho</span><span class="sxs-lookup"><span data-stu-id="5901c-102">Starting the dta Command Prompt Utility and Tuning a Workload</span></span>
  <span data-ttu-id="5901c-103"> Essa tarefa descreve a inicialização do utilitário **dta**, a exibição da Ajuda e o uso do utilitário para ajustar uma carga de trabalho usando o prompt de comando.</span><span class="sxs-lookup"><span data-stu-id="5901c-103">This task guides you through starting the **dta** utility, viewing its Help, and then using it to tune a workload from the command prompt.</span></span> <span data-ttu-id="5901c-104">Ele usa a carga de trabalho, MyScript. SQL, que você criou para a prática de Orientador de Otimização do Mecanismo de Banco de Dados a GUI (interface gráfica do usuário) [ajustar uma carga de trabalho](lesson-1-1-tuning-a-workload.md).</span><span class="sxs-lookup"><span data-stu-id="5901c-104">It uses the workload, MyScript.sql, which you created for the Database Engine Tuning Advisor graphical user interface (GUI) practice [Tuning a Workload](lesson-1-1-tuning-a-workload.md).</span></span>  
  
 <span data-ttu-id="5901c-105">O tutorial usa o banco de dados de exemplo [!INCLUDE[ssSampleDBobject](../../includes/sssampledbobject-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="5901c-105">The tutorial uses the [!INCLUDE[ssSampleDBobject](../../includes/sssampledbobject-md.md)] sample database.</span></span> <span data-ttu-id="5901c-106">Por motivos de segurança, os bancos de dados de exemplo não são instalados por padrão.</span><span class="sxs-lookup"><span data-stu-id="5901c-106">For security reasons, the sample databases are not installed by default.</span></span> <span data-ttu-id="5901c-107">Para instalar os bancos de dados de exemplo, consulte [Instalando amostras e bancos de dados de exemplo do SQL Server](http://sqlserversamples.codeplex.com).</span><span class="sxs-lookup"><span data-stu-id="5901c-107">To install the sample databases, see [Installing SQL Server Samples and Sample Databases](http://sqlserversamples.codeplex.com).</span></span>  
  
 <span data-ttu-id="5901c-108">As tarefas a seguir descrevem a abertura de um prompt de comando, a inicialização do utilitário de prompt de comando **dta** , a exibição da Ajuda sobre a sintaxe e o ajuste de uma carga de trabalho simples, MyScript.sql, que você criou em [Ajustando uma carga de trabalho](lesson-1-1-tuning-a-workload.md).</span><span class="sxs-lookup"><span data-stu-id="5901c-108">The following tasks guide you through opening a command prompt, starting the **dta** command prompt utility, viewing its syntax Help, and tuning a simple workload, MyScript.sql, which you created in [Tuning a Workload](lesson-1-1-tuning-a-workload.md).</span></span>  
  
### <a name="to-start-the-dta-command-prompt-utility-and-view-help"></a><span data-ttu-id="5901c-109">Para iniciar o utilitário de prompt de comando dta e exibir a Ajuda</span><span class="sxs-lookup"><span data-stu-id="5901c-109">To start the dta command prompt utility and view Help</span></span>  
  
1.  <span data-ttu-id="5901c-110">No menu **Iniciar** , aponte para **Todos os Programas**, aponte para **Acessórios**e clique em **Prompt de Comando**.</span><span class="sxs-lookup"><span data-stu-id="5901c-110">On the **Start** menu, point to **All Programs**, point to **Accessories**, and then click **Command Prompt**.</span></span>  
  
2.  <span data-ttu-id="5901c-111">No prompt de comando, digite o seguinte e pressione ENTER:</span><span class="sxs-lookup"><span data-stu-id="5901c-111">At the command prompt, type the following, and press ENTER:</span></span>  
  
    ```  
    dta -? | more  
    ```  
  
     <span data-ttu-id="5901c-112">A parte `| more` desse comando é opcional.</span><span class="sxs-lookup"><span data-stu-id="5901c-112">The `| more` part of this command is optional.</span></span> <span data-ttu-id="5901c-113">Porém, seu uso permite que você pesquise na sintaxe de ajuda do utilitário.</span><span class="sxs-lookup"><span data-stu-id="5901c-113">However, using it enables you to page through the syntax help for the utility.</span></span> <span data-ttu-id="5901c-114">Pressione ENTER para avançar o texto de ajuda pela linha ou pressione a SPACEBAR para avançar por página.</span><span class="sxs-lookup"><span data-stu-id="5901c-114">Press ENTER to advance the help text by the line, or press the SPACEBAR to advance it by the page.</span></span>  
  
### <a name="to-tune-a-simple-workload-by-using-the-dta-command-prompt-utility"></a><span data-ttu-id="5901c-115">Para ajustar uma carga de trabalho simples usando o utilitário de prompt de comando dta</span><span class="sxs-lookup"><span data-stu-id="5901c-115">To tune a simple workload by using the dta command prompt utility</span></span>  
  
1.  <span data-ttu-id="5901c-116">No prompt de comando, navegue até o diretório em que você armazenou o arquivo MyScript.sql.</span><span class="sxs-lookup"><span data-stu-id="5901c-116">At the command prompt, navigate to the directory where you have stored the MyScript.sql file.</span></span>  
  
2.  <span data-ttu-id="5901c-117">No prompt de comando, digite o seguinte e pressione ENTER para executar o comando e iniciar a sessão de ajuste (observe que o utilitário faz diferenciação de maiúsculas e minúsculas na análise de comandos):</span><span class="sxs-lookup"><span data-stu-id="5901c-117">At the command prompt, type the following, and press ENTER to run the command and start the tuning session (note that the utility is case-sensitive when it parses commands):</span></span>  
  
    ```  
    dta -S YourServerName\YourSQLServerInstanceName -E -D AdventureWorks2012 -if MyScript.sql -s MySession2 -of MySession2OutputScript.sql -ox MySession2Output.xml -fa IDX_IV -fp NONE -fk NONE  
    ```  
  
     <span data-ttu-id="5901c-118">onde `-S` especifica o nome de seu servidor e a instância [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] em que o banco de dados [!INCLUDE[ssSampleDBobject](../../includes/sssampledbobject-md.md)] é instalado.</span><span class="sxs-lookup"><span data-stu-id="5901c-118">where `-S` specifies the name of your server and the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] instance where the [!INCLUDE[ssSampleDBobject](../../includes/sssampledbobject-md.md)] database is installed.</span></span> <span data-ttu-id="5901c-119">A configuração `-E` especifica que você quer usar uma conexão confiável com a instância, o que é apropriado se você estiver se conectando com uma conta de domínio Windows.</span><span class="sxs-lookup"><span data-stu-id="5901c-119">The setting `-E` specifies that you want to use a trusted connection to the instance, which is appropriate if you are connecting with a Windows domain account.</span></span> <span data-ttu-id="5901c-120">A configuração `-D` especifica o banco de dados que você quer ajustar, `-if` especifica o arquivo de carga de trabalho, `-s` especifica o nome de sessão, `-of` especifica o arquivo para o qual você deseja que a ferramenta escreva o script de recomendações [!INCLUDE[tsql](../../includes/tsql-md.md)] e `-ox` especifica o arquivo para o qual você deseja que a ferramenta escreva as recomendações no formato XML.</span><span class="sxs-lookup"><span data-stu-id="5901c-120">The setting `-D` specifies the database that you want to tune, `-if` specifies the workload file, `-s` specifies the session name, `-of` specifies the file to which you want the tool to write the [!INCLUDE[tsql](../../includes/tsql-md.md)] recommendations script, and `-ox` specifies the file to which you want the tool to write the recommendations in XML format.</span></span> <span data-ttu-id="5901c-121">As três últimas opções especificam opções de ajuste como segue: `-fa IDX_IV` especifica que o Orientador de Otimização do Mecanismo de Banco de Dados só deve considerar adicionar índices (clusterizado e não clusterizado) e exibições indexadas; `-fp NONE` especifica que nenhuma estratégia de partição deve ser considerada durante a análise; e `-fk NONE` especifica que nenhuma estrutura de design física existente no banco de dados deve ser mantida quando o Orientador de Otimização do Mecanismo de Banco de Dados faz suas recomendações.</span><span class="sxs-lookup"><span data-stu-id="5901c-121">The last three switches specify tuning options as follows: `-fa IDX_IV` specifies that Database Engine Tuning Advisor should only consider adding indexes (both clustered and nonclustered) and indexed views; `-fp NONE` specifies that no partition strategy should be considered during analysis; and `-fk NONE` specifies that no existing physical design structures in the database must be kept when Database Engine Tuning Advisor makes its recommendations.</span></span>  
  
3.  <span data-ttu-id="5901c-122">Depois que o Orientador de Otimização do Mecanismo de Banco de Dados termina de ajustar a carga de trabalho, exibe uma mensagem que indica que a sessão de ajuste foi concluída com êxito.</span><span class="sxs-lookup"><span data-stu-id="5901c-122">After Database Engine Tuning Advisor finishes tuning the workload, it displays a message indicating that your tuning session completed successfully.</span></span> <span data-ttu-id="5901c-123">Você pode exibir os resultados do ajuste, usando o [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] para abrir os arquivos MySession2OutputScript.sql e MySession2Output.xml.</span><span class="sxs-lookup"><span data-stu-id="5901c-123">You can view the tuning results, by using [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] to open the files MySession2OutputScript.sql and MySession2Output.xml.</span></span> <span data-ttu-id="5901c-124">Como alternativa, você também pode abrir a sessão de ajuste MySession2 na GUI do Orientador de Otimização do Mecanismo de Banco de Dados e exibir suas recomendações e relatórios da mesma forma que fez em [Exibindo recomendações de ajuste](lesson-1-2-viewing-tuning-recommendations.md) e [Exibindo relatórios de ajuste](lesson-1-3-viewing-tuning-reports.md).</span><span class="sxs-lookup"><span data-stu-id="5901c-124">Alternatively, you can also open the MySession2 tuning session in the Database Engine Tuning Advisor GUI and view its recommendations and reports in the same way that you did in [Viewing Tuning Recommendations](lesson-1-2-viewing-tuning-recommendations.md) and [Viewing Tuning Reports](lesson-1-3-viewing-tuning-reports.md).</span></span>  
  
## <a name="summary"></a><span data-ttu-id="5901c-125">Resumo</span><span class="sxs-lookup"><span data-stu-id="5901c-125">Summary</span></span>  
 <span data-ttu-id="5901c-126">Você concluiu o ajuste de uma carga de trabalho simples no prompt de comando usando o utilitário **dta** .</span><span class="sxs-lookup"><span data-stu-id="5901c-126">You have completed tuning a simple workload from the command prompt by using the **dta** utility.</span></span> <span data-ttu-id="5901c-127">Essa ferramenta fornece muitas outras opções de ajuste.</span><span class="sxs-lookup"><span data-stu-id="5901c-127">This tool provides many other tuning options.</span></span> <span data-ttu-id="5901c-128">Veja a Ajuda da ferramenta (**dta -?**) e o tópico de referência [Utilitário dta](dta-utility.md) para obter mais informações.</span><span class="sxs-lookup"><span data-stu-id="5901c-128">Refer to the tool Help (**dta -?**) and the reference topic [dta Utility](dta-utility.md) for more information.</span></span>  
  
## <a name="after-you-finish-this-tutorial"></a><span data-ttu-id="5901c-129">Depois de você concluir este tutorial</span><span class="sxs-lookup"><span data-stu-id="5901c-129">After You Finish This Tutorial</span></span>  
 <span data-ttu-id="5901c-130">Depois de você terminar as lições deste tutorial, recorra aos tópicos a seguir para obter mais informações sobre o Orientador de Otimização do Mecanismo de Banco de Dados:</span><span class="sxs-lookup"><span data-stu-id="5901c-130">After you finish the lessons in this tutorial, refer to the following topics for more information about Database Engine Tuning Advisor:</span></span>  
  
-   <span data-ttu-id="5901c-131">[Orientador de Otimização do Mecanismo de Banco de Dados](../../relational-databases/performance/database-engine-tuning-advisor.md) para obter descrições sobre como executar tarefas com essa ferramenta.</span><span class="sxs-lookup"><span data-stu-id="5901c-131">[Database Engine Tuning Advisor](../../relational-databases/performance/database-engine-tuning-advisor.md) for descriptions of how to perform tasks with this tool.</span></span>  
  
-   <span data-ttu-id="5901c-132">[dta Utility](dta-utility.md) para obter material de referência sobre o utilitário de prompt de comando e o arquivo XML opcional que você pode usar para controlar a operação do utilitário.</span><span class="sxs-lookup"><span data-stu-id="5901c-132">[dta Utility](dta-utility.md) for reference material on the command prompt utility and the optional XML file you can use to control the operation of the utility.</span></span>  
  
 <span data-ttu-id="5901c-133">Para retornar ao início do tutorial, consulte [Tutorial: Orientador de Otimização do Mecanismo de Banco de Dados](tutorial-database-engine-tuning-advisor.md).</span><span class="sxs-lookup"><span data-stu-id="5901c-133">To return to the start of the tutorial, see [Tutorial: Database Engine Tuning Advisor](tutorial-database-engine-tuning-advisor.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="5901c-134">Consulte Também</span><span class="sxs-lookup"><span data-stu-id="5901c-134">See Also</span></span>  
 [<span data-ttu-id="5901c-135">Tutoriais do Mecanismo de Banco de Dados</span><span class="sxs-lookup"><span data-stu-id="5901c-135">Database Engine Tutorials</span></span>](../../relational-databases/database-engine-tutorials.md)  
  
  
