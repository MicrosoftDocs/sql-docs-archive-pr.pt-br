---
title: Exibindo recomendações de ajuste | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: database-engine
ms.topic: conceptual
helpviewer_keywords:
- Database Engine [SQL Server], tutorials
ms.assetid: e4e690c9-434f-4b01-b4de-0b905323ddd6
author: stevestein
ms.author: sstein
ms.openlocfilehash: 6d938767d874edd8f14bdaa91c0cf52023478f53
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87682011"
---
# <a name="viewing-tuning-recommendations"></a><span data-ttu-id="40b48-102">Exibindo recomendações de ajuste</span><span class="sxs-lookup"><span data-stu-id="40b48-102">Viewing Tuning Recommendations</span></span>
  <span data-ttu-id="40b48-103"> Essa tarefa usa a sessão de ajuste que você criou em [Ajustando uma carga de trabalho](lesson-1-1-tuning-a-workload.md).</span><span class="sxs-lookup"><span data-stu-id="40b48-103">This task uses the tuning session that you created in [Tuning a Workload](lesson-1-1-tuning-a-workload.md).</span></span> <span data-ttu-id="40b48-104">Depois de ajustar o [!INCLUDE[ssSampleDBobject](../../includes/sssampledbobject-md.md)] banco de dados usando o script MyScript. SQL [!INCLUDE[tsql](../../includes/tsql-md.md)] , [!INCLUDE[ssDE](../../includes/ssde-md.md)] o Orientador de otimização exibirá seus resultados na guia **recomendações** . A tarefa a seguir apresenta a guia **recomendações** da [!INCLUDE[ssDE](../../includes/ssde-md.md)] GUI (interface gráfica do usuário) do Orientador de otimização e orienta você a explorar as informações que ele fornece sobre os resultados da sessão de ajuste.</span><span class="sxs-lookup"><span data-stu-id="40b48-104">After you have tuned the [!INCLUDE[ssSampleDBobject](../../includes/sssampledbobject-md.md)] database by using the MyScript.sql [!INCLUDE[tsql](../../includes/tsql-md.md)] script, [!INCLUDE[ssDE](../../includes/ssde-md.md)] Tuning Advisor displays its results on the **Recommendations** tab. The following task introduces the **Recommendations** tab of the [!INCLUDE[ssDE](../../includes/ssde-md.md)] Tuning Advisor graphical user interface (GUI) and guides you to explore the information it provides about the tuning session results.</span></span>  
  
### <a name="view-tuning-recommendations"></a><span data-ttu-id="40b48-105">Exibir recomendações de ajuste</span><span class="sxs-lookup"><span data-stu-id="40b48-105">View tuning recommendations</span></span>  
  
1.  <span data-ttu-id="40b48-106">Iniciar o Orientador de Otimização do [!INCLUDE[ssDE](../../includes/ssde-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="40b48-106">Start [!INCLUDE[ssDE](../../includes/ssde-md.md)] Tuning Advisor.</span></span> <span data-ttu-id="40b48-107">Consulte [Iniciando o Orientador de Otimização do Mecanismo de Banco de Dados](../../relational-databases/performance/database-engine-tuning-advisor.md).</span><span class="sxs-lookup"><span data-stu-id="40b48-107">See [Launching Database Engine Tuning Advisor](../../relational-databases/performance/database-engine-tuning-advisor.md).</span></span> <span data-ttu-id="40b48-108">Verifique se você está conectado à mesma instância do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] usada na prática [Ajustando uma carga de trabalho](lesson-1-1-tuning-a-workload.md).</span><span class="sxs-lookup"><span data-stu-id="40b48-108">Make sure that you connect to the same [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] instance that you used in the practice [Tuning a Workload](lesson-1-1-tuning-a-workload.md).</span></span>  
  
2.  <span data-ttu-id="40b48-109">Clique duas vezes em **MySession** no painel **Monitor de Sessão** .</span><span class="sxs-lookup"><span data-stu-id="40b48-109">Double-click **MySession** in the **Session Monitor** pane.</span></span> [!INCLUDE[ssDE](../../includes/ssde-md.md)]<span data-ttu-id="40b48-110">O Orientador de otimização carrega as informações de sessão de sua sessão de ajuste anterior e exibe a guia **recomendações** . Observe que o [!INCLUDE[ssDE](../../includes/ssde-md.md)] Orientador de otimização não fez nenhuma **recomendação de partição** porque você aceitou todos os padrões de opção de ajuste e **nenhum particionamento** foi selecionado na guia **Opções de ajuste** .</span><span class="sxs-lookup"><span data-stu-id="40b48-110">Tuning Advisor loads the session information from your previous tuning session and displays the **Recommendations** tab. Note that [!INCLUDE[ssDE](../../includes/ssde-md.md)] Tuning Advisor made no **Partition Recommendations** because you accepted all the tuning option defaults and **No partitioning** was selected on the **Tuning Options** tab.</span></span>  
  
3.  <span data-ttu-id="40b48-111">Na guia **Recomendações** , use a barra de rolagem na parte inferior da página da guia para exibir todas as colunas de **Recomendações de Índice** .</span><span class="sxs-lookup"><span data-stu-id="40b48-111">On the **Recommendations** tab, use the scroll bar at the bottom of the tabbed page to view all of the **Index Recommendations** columns.</span></span> <span data-ttu-id="40b48-112">Cada linha representa um objeto de banco de dados (índices ou exibições indexadas) que o Orientador de Otimização do [!INCLUDE[ssDE](../../includes/ssde-md.md)] recomenda que sejam descartadas ou criadas.</span><span class="sxs-lookup"><span data-stu-id="40b48-112">Each row represents a database object (indexes or indexed views) that [!INCLUDE[ssDE](../../includes/ssde-md.md)] Tuning Advisor recommends be dropped or created.</span></span> <span data-ttu-id="40b48-113">Role a tela até a coluna mais à direita e clique em **Definição**.</span><span class="sxs-lookup"><span data-stu-id="40b48-113">Scroll to the right-most column and click a **Definition**.</span></span> [!INCLUDE[ssDE](../../includes/ssde-md.md)] <span data-ttu-id="40b48-114">exibe uma janela **Visualização de Script SQL** , na qual você pode exibir o script [!INCLUDE[tsql](../../includes/tsql-md.md)] que cria ou descarta o objeto de banco de dados nessa linha.</span><span class="sxs-lookup"><span data-stu-id="40b48-114">Tuning Advisor displays a **SQL Script Preview** window where you can view the [!INCLUDE[tsql](../../includes/tsql-md.md)] script that creates or drops the database object on that row.</span></span> <span data-ttu-id="40b48-115">Clique em **Fechar** para fechar a janela de visualização.</span><span class="sxs-lookup"><span data-stu-id="40b48-115">Click **Close** to close the preview window.</span></span>  
  
     <span data-ttu-id="40b48-116">Se você estiver tendo dificuldades em localizar uma **Definição** que contenha um link, clique para desmarcar a caixa de seleção **Mostrar objetos existentes** na parte inferior da página da guia, o que diminuirá o número de linhas exibidas.</span><span class="sxs-lookup"><span data-stu-id="40b48-116">If you are having difficulty locating a **Definition** that contains a link, click to clear the **Show existing objects** check box at the bottom of the tabbed page, which will decrease the number of rows displayed.</span></span> <span data-ttu-id="40b48-117">Quando você desmarca essa caixa de seleção, o Orientador de Otimização do [!INCLUDE[ssDE](../../includes/ssde-md.md)] mostra só os objetos para os quais gerou uma recomendação.</span><span class="sxs-lookup"><span data-stu-id="40b48-117">When you clear this checkbox, [!INCLUDE[ssDE](../../includes/ssde-md.md)] Tuning Advisor shows you only the objects for which it has generated a recommendation.</span></span> <span data-ttu-id="40b48-118">Marque a caixa de seleção **Mostrar objetos existentes** para exibir todos os objetos do banco de dados que existem atualmente no banco de dados [!INCLUDE[ssSampleDBobject](../../includes/sssampledbobject-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="40b48-118">Select the **Show existing objects** check box to view all the database objects that currently exist in the [!INCLUDE[ssSampleDBobject](../../includes/sssampledbobject-md.md)] database.</span></span> <span data-ttu-id="40b48-119">Use a barra de rolagem à direita da página da guia para exibir todos os objetos.</span><span class="sxs-lookup"><span data-stu-id="40b48-119">Use the scroll bar at the right side of the tabbed page to view all of the objects.</span></span>  
  
4.  <span data-ttu-id="40b48-120">Clique com o botão direito do mouse na grade do painel **Recomendações de Índice** .</span><span class="sxs-lookup"><span data-stu-id="40b48-120">Right-click the grid in the **Index Recommendations** pane.</span></span> <span data-ttu-id="40b48-121">Esse menu permite marcar e desmarcar recomendações.</span><span class="sxs-lookup"><span data-stu-id="40b48-121">This right-click menu enables you to select and deselect recommendations.</span></span> <span data-ttu-id="40b48-122">Permite também alterar a fonte do texto da grade.</span><span class="sxs-lookup"><span data-stu-id="40b48-122">It also enables you to change the font for the grid text.</span></span>  
  
5.  <span data-ttu-id="40b48-123">No menu **Ações** , clique em **Salvar Recomendações** para salvar todas as recomendações em um script [!INCLUDE[tsql](../../includes/tsql-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="40b48-123">On the **Actions** menu, click **Save Recommendations** to save all of the recommendations into one [!INCLUDE[tsql](../../includes/tsql-md.md)] script.</span></span> <span data-ttu-id="40b48-124">Nomeie o script `MySessionRecommendations.sql`.</span><span class="sxs-lookup"><span data-stu-id="40b48-124">Name the script `MySessionRecommendations.sql`.</span></span>  
  
     <span data-ttu-id="40b48-125">Abra o script MySessionRecommendations.sql no Editor de Consultas do [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] para exibi-lo.</span><span class="sxs-lookup"><span data-stu-id="40b48-125">Open the MySessionRecommendations.sql script in the Query Editor of [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] to view it.</span></span> <span data-ttu-id="40b48-126">Você poderia aplicar as recomendações ao banco de dados de exemplo [!INCLUDE[ssSampleDBobject](../../includes/sssampledbobject-md.md)] executando o script no Editor de Consultas, mas não faça isso.</span><span class="sxs-lookup"><span data-stu-id="40b48-126">You could apply the recommendations to the [!INCLUDE[ssSampleDBobject](../../includes/sssampledbobject-md.md)] sample database by executing the script in the Query Editor, but do not do this.</span></span> <span data-ttu-id="40b48-127">Feche o script no Editor de Consultas sem executá-lo.</span><span class="sxs-lookup"><span data-stu-id="40b48-127">Close the script in Query Editor without running it.</span></span>  
  
     <span data-ttu-id="40b48-128">Como uma alternativa, você também pode aplicar as recomendações clicando em **Aplicar Recomendações** no menu **Ações** do Orientador de Otimização do [!INCLUDE[ssDE](../../includes/ssde-md.md)] , mas não aplique essas recomendações nesta prática.</span><span class="sxs-lookup"><span data-stu-id="40b48-128">As an alternative, you could also apply the recommendations by clicking **Apply Recommendations** on the **Actions** menu of [!INCLUDE[ssDE](../../includes/ssde-md.md)] Tuning Advisor, but do not apply these recommendations now in this practice.</span></span>  
  
6.  <span data-ttu-id="40b48-129">Se houver mais de uma recomendação na guia **Recomendações** , desmarque algumas das linhas que listam objetos do banco de dados na grade **Recomendações de Índice** .</span><span class="sxs-lookup"><span data-stu-id="40b48-129">If more than one recommendation exists on the **Recommendations** tab, clear some of the rows that list database objects in the **Index Recommendations** grid.</span></span>  
  
7.  <span data-ttu-id="40b48-130">No menu **Ações** , clique em **Avaliar Recomendações**.</span><span class="sxs-lookup"><span data-stu-id="40b48-130">On the **Actions** menu, click **Evaluate Recommendations**.</span></span> [!INCLUDE[ssDE](../../includes/ssde-md.md)] <span data-ttu-id="40b48-131">cria uma nova sessão de ajuste em que você pode avaliar um subconjunto das recomendações originais em MySession.</span><span class="sxs-lookup"><span data-stu-id="40b48-131">Tuning Advisor creates a new tuning session where you can evaluate a subset of the original recommendations from MySession.</span></span>  
  
8.  <span data-ttu-id="40b48-132">Digite `EvaluateMySession` para o **nome**da nova sessão e clique no botão **iniciar análise** na barra de ferramentas.</span><span class="sxs-lookup"><span data-stu-id="40b48-132">Type `EvaluateMySession` for your new **Session name**, and click the **Start Analysis** button on the toolbar.</span></span> <span data-ttu-id="40b48-133">Você pode repetir os passos 2 e 3 para esta nova sessão de ajuste a fim de exibir suas recomendações.</span><span class="sxs-lookup"><span data-stu-id="40b48-133">You can repeat Steps 2 and 3 for this new tuning session to view its recommendations.</span></span>  
  
## <a name="summary"></a><span data-ttu-id="40b48-134">Resumo</span><span class="sxs-lookup"><span data-stu-id="40b48-134">Summary</span></span>  
 <span data-ttu-id="40b48-135">Você exibiu o conteúdo da guia **Recomendações** para a sessão de ajuste MySession e avaliou um subconjunto de recomendações na nova sessão de ajuste EvaluateMySession.</span><span class="sxs-lookup"><span data-stu-id="40b48-135">You have viewed the contents of the **Recommendations** tab for the MySession tuning session and evaluated a subset of its recommendations in the new EvaluateMySession tuning session.</span></span>  
  
 <span data-ttu-id="40b48-136">A avaliação de um subconjunto de recomendações de ajuste poderá ser necessária se você descobrir que deve alterar as opções de ajuste depois de executar uma sessão.</span><span class="sxs-lookup"><span data-stu-id="40b48-136">Evaluating a subset of tuning recommendations may be necessary if you find you must change tuning options after you run a session.</span></span> <span data-ttu-id="40b48-137">Por exemplo, se você pedir ao Orientador de Otimização do [!INCLUDE[ssDE](../../includes/ssde-md.md)] para considerar exibições indexadas quando você especificar as opções de ajuste para uma sessão, mas depois que a recomendação for gerada você decidir não usar as exibições indexadas.</span><span class="sxs-lookup"><span data-stu-id="40b48-137">For example, if you ask [!INCLUDE[ssDE](../../includes/ssde-md.md)] Tuning Advisor to consider indexed views when you specify tuning options for a session, but after the recommendation is generated you decide against using indexed views.</span></span> <span data-ttu-id="40b48-138">Em seguida, você pode usar a opção **avaliar recomendações** no menu **ações** para que o Orientador de [!INCLUDE[ssDE](../../includes/ssde-md.md)] otimização reavalie a sessão sem considerar as exibições indexadas.</span><span class="sxs-lookup"><span data-stu-id="40b48-138">You can then use the **Evaluate Recommendations** option on the **Actions** menu to have [!INCLUDE[ssDE](../../includes/ssde-md.md)] Tuning Advisor re-evaluate the session without considering indexed views.</span></span> <span data-ttu-id="40b48-139">Quando você usa a opção **Avaliar Recomendações** , as recomendações geradas previamente são aplicadas hipoteticamente ao design físico atual para chegar ao design físico para a segunda sessão de ajuste.</span><span class="sxs-lookup"><span data-stu-id="40b48-139">When you use the **Evaluate Recommendations** option the previously generated recommendations are hypothetically applied to the current physical design to arrive at the physical design for the second tuning session.</span></span>  
  
 <span data-ttu-id="40b48-140">Poderão ser exibidas mais informações sobre resultados de ajuste na guia **Relatórios** , que é descrita na próxima tarefa desta lição.</span><span class="sxs-lookup"><span data-stu-id="40b48-140">More tuning result information can be viewed in the **Reports** tab, which is described in the next task of this lesson.</span></span>  
  
## <a name="next-task-in-lesson"></a><span data-ttu-id="40b48-141">Próxima tarefa da lição</span><span class="sxs-lookup"><span data-stu-id="40b48-141">Next Task in Lesson</span></span>  
 [<span data-ttu-id="40b48-142">Exibindo relatórios de ajuste</span><span class="sxs-lookup"><span data-stu-id="40b48-142">Viewing Tuning Reports</span></span>](lesson-1-3-viewing-tuning-reports.md)  
  
  
