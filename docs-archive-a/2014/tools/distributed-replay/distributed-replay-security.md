---
title: Segurança do Distributed Replay | Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: tools-other
ms.topic: conceptual
ms.assetid: 7e2e586d-947d-4fe2-86c5-f06200ebf139
author: stevestein
ms.author: sstein
ms.openlocfilehash: 7b05c6bbe3998faa46d56684b77b8d2a4dec4466
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87573326"
---
# <a name="distributed-replay-security"></a><span data-ttu-id="311fa-102">Segurança do Distributed Replay</span><span class="sxs-lookup"><span data-stu-id="311fa-102">Distributed Replay Security</span></span>
  <span data-ttu-id="311fa-103">Antes de instalar e usar o recurso [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Distributed Replay, examine as informações de segurança importantes neste tópico.</span><span class="sxs-lookup"><span data-stu-id="311fa-103">Before you install and use the [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Distributed Replay feature, you should review the important security information in this topic.</span></span> <span data-ttu-id="311fa-104">Este tópico descreve as etapas de configuração de segurança pós-instalação que são necessárias antes de usar o Distributed Replay.</span><span class="sxs-lookup"><span data-stu-id="311fa-104">This topic describes the post-installation security configuration steps that are required before you can use Distributed Replay.</span></span> <span data-ttu-id="311fa-105">Este tópico também descreve considerações importantes referentes à proteção de dados e etapas de remoção importantes.</span><span class="sxs-lookup"><span data-stu-id="311fa-105">This topic also describes important considerations with regard to data protection and important removal steps.</span></span>  
  
## <a name="user-and-service-accounts"></a><span data-ttu-id="311fa-106">Contas de usuário e serviço</span><span class="sxs-lookup"><span data-stu-id="311fa-106">User and Service Accounts</span></span>  
 <span data-ttu-id="311fa-107">A tabela a seguir descreve as contas usadas no Distributed Replay.</span><span class="sxs-lookup"><span data-stu-id="311fa-107">The following table describes the accounts that are used for Distributed Replay.</span></span> <span data-ttu-id="311fa-108">Depois da instalação do Distributed Replay, atribua as entidades de segurança com que as contas de controlador e serviço cliente serão executadas.</span><span class="sxs-lookup"><span data-stu-id="311fa-108">After the Distributed Replay installation, you must assign the security principals that the controller and client service accounts will run as.</span></span> <span data-ttu-id="311fa-109">Portanto, é recomendável configurar as contas de usuário de domínio correspondentes antes de instalar os recursos do Distributed Replay.</span><span class="sxs-lookup"><span data-stu-id="311fa-109">Therefore, we recommend that you configure the corresponding domain user accounts before you install the Distributed Replay features.</span></span>  
  
|<span data-ttu-id="311fa-110">Conta de usuário</span><span class="sxs-lookup"><span data-stu-id="311fa-110">User Account</span></span>|<span data-ttu-id="311fa-111">Requisitos</span><span class="sxs-lookup"><span data-stu-id="311fa-111">Requirements</span></span>|  
|------------------|------------------|  
|[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="311fa-112">Distributed Replay</span><span class="sxs-lookup"><span data-stu-id="311fa-112">Distributed Replay controller service account</span></span>|<span data-ttu-id="311fa-113">Pode ser uma conta de usuário de domínio ou uma conta de usuário local.</span><span class="sxs-lookup"><span data-stu-id="311fa-113">Can be a domain user account or local user account.</span></span> <span data-ttu-id="311fa-114">Se você usar uma conta de usuário local, a ferramenta de administração, o controlador e o cliente deverão estar em execução no mesmo computador.</span><span class="sxs-lookup"><span data-stu-id="311fa-114">If you use a local user account, the administration tool, controller, and client must all be running on the same computer.</span></span><br /><br /> <span data-ttu-id="311fa-115">**\*\* Observação de Segurança \*\*** É recomendável que a conta não seja membro do grupo Administradores local no Windows.</span><span class="sxs-lookup"><span data-stu-id="311fa-115">**\*\* Security Note \*\*** We recommend that the account is not a member of the local Administrators group in Windows.</span></span>|  
|[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="311fa-116">Conta de serviço do cliente do Distributed Replay</span><span class="sxs-lookup"><span data-stu-id="311fa-116">Distributed Replay client service account</span></span>|<span data-ttu-id="311fa-117">Pode ser uma conta de usuário de domínio ou uma conta de usuário local.</span><span class="sxs-lookup"><span data-stu-id="311fa-117">Can be a domain user account or local user account.</span></span> <span data-ttu-id="311fa-118">Se você usar uma conta de usuário local, o controlador, o cliente e o SQL Server de destino deverão estar em execução no mesmo computador.</span><span class="sxs-lookup"><span data-stu-id="311fa-118">If you use a local user account, the controller, client, and target SQL Server must all be running on the same computer.</span></span><br /><br /> <span data-ttu-id="311fa-119">**\*\* Observação de Segurança \*\*** É recomendável que a conta não seja membro do grupo Administradores local no Windows.</span><span class="sxs-lookup"><span data-stu-id="311fa-119">**\*\* Security Note \*\*** We recommend that the account is not a member of the local Administrators group in Windows.</span></span>|  
|<span data-ttu-id="311fa-120">Conta de usuário interativa que é usada para executar a ferramenta de administração do Distributed Replay</span><span class="sxs-lookup"><span data-stu-id="311fa-120">Interactive user account that is used to run the Distributed Replay administration tool</span></span>|<span data-ttu-id="311fa-121">Pode ser uma conta de usuário local ou uma conta de usuário de domínio.</span><span class="sxs-lookup"><span data-stu-id="311fa-121">Can be either a local user or a domain user account.</span></span> <span data-ttu-id="311fa-122">Para usar uma conta de usuário local, a ferramenta de administração e o controlador devem estar em execução no mesmo computador.</span><span class="sxs-lookup"><span data-stu-id="311fa-122">To use a local user account, the administration tool and controller must be running on the same computer.</span></span>|  
  
 <span data-ttu-id="311fa-123">**Importante**: Ao configurar o Distributed Replay Controller é possível especificar uma ou mais contas de usuário que serão usadas para executar os serviços de cliente do Distributed Replay.</span><span class="sxs-lookup"><span data-stu-id="311fa-123">**Important**: When you configure Distributed Replay controller, you can specify one or more user accounts that will be used to run the Distributed Replay client services.</span></span> <span data-ttu-id="311fa-124">Esta é a lista das contas com suporte:</span><span class="sxs-lookup"><span data-stu-id="311fa-124">The following is the list of supported accounts:</span></span>  
  
-   <span data-ttu-id="311fa-125">Conta de usuário do domínio</span><span class="sxs-lookup"><span data-stu-id="311fa-125">Domain user account</span></span>  
  
-   <span data-ttu-id="311fa-126">Conta de usuário local criada pelo usuário</span><span class="sxs-lookup"><span data-stu-id="311fa-126">User created local user account</span></span>  
  
-   <span data-ttu-id="311fa-127">Administrador</span><span class="sxs-lookup"><span data-stu-id="311fa-127">Administrator</span></span>  
  
-   <span data-ttu-id="311fa-128">Conta virtual e MSA (Conta de Serviço Gerenciada)</span><span class="sxs-lookup"><span data-stu-id="311fa-128">Virtual account and MSA (Managed Service Account)</span></span>  
  
-   <span data-ttu-id="311fa-129">Serviços de rede, serviços locais e sistema</span><span class="sxs-lookup"><span data-stu-id="311fa-129">Network Services, Local Services, and System</span></span>  
  
 <span data-ttu-id="311fa-130">Não são aceitas contas de grupo (local ou domínio) e outras contas internas (como Todos).</span><span class="sxs-lookup"><span data-stu-id="311fa-130">Group accounts (local or domain) and other built-in accounts (like Everyone) are not accepted.</span></span>  
  
 <span data-ttu-id="311fa-131">Para definir as contas de serviço ou suas senhas depois de instalar o Distributed Replay, você pode usar a ferramenta Serviços do Windows.</span><span class="sxs-lookup"><span data-stu-id="311fa-131">To set the service accounts or their passwords after you install Distributed Replay, you can use the Windows Services tool.</span></span> <span data-ttu-id="311fa-132">Para alterar as contas de serviço associadas com serviços de controlador ou cliente do Distributed Replay, siga estas etapas:</span><span class="sxs-lookup"><span data-stu-id="311fa-132">To change the service accounts associated with the Distributed Replay controller or client services, follow these steps:</span></span>  
  
1.  <span data-ttu-id="311fa-133">Execute um destes procedimentos, dependendo do sistema operacional:</span><span class="sxs-lookup"><span data-stu-id="311fa-133">Do either of the following, depending on the operating system:</span></span>  
  
    -   <span data-ttu-id="311fa-134">Clique em **Iniciar**, digite `services.msc` na caixa **Pesquisar** e pressione ENTER.</span><span class="sxs-lookup"><span data-stu-id="311fa-134">Click **Start**, type `services.msc` in the **Search** box, and then press ENTER.</span></span>  
  
    -   <span data-ttu-id="311fa-135">Clique em **Iniciar**, **executar**, digite `services.msc` e pressione Enter.</span><span class="sxs-lookup"><span data-stu-id="311fa-135">Click **Start**, click **Run**, type `services.msc`, and then press ENTER.</span></span>  
  
2.  <span data-ttu-id="311fa-136">Na caixa de diálogo **Serviços** , clique com o botão direito do mouse no serviço a ser configurado e clique em **Propriedades**.</span><span class="sxs-lookup"><span data-stu-id="311fa-136">In the **Services** dialog box, right-click the service that you want to configure, and then click **Properties**.</span></span>  
  
3.  <span data-ttu-id="311fa-137">Na guia **Fazer Logon** , clique em **Esta conta**.</span><span class="sxs-lookup"><span data-stu-id="311fa-137">On the **Log On** tab, click **This account**.</span></span>  
  
4.  <span data-ttu-id="311fa-138">Configure a conta de usuário a ser usada.</span><span class="sxs-lookup"><span data-stu-id="311fa-138">Configure the user account that you want to use.</span></span>  
  
## <a name="file-and-folder-permissions"></a><span data-ttu-id="311fa-139">Permissões de arquivo e pasta</span><span class="sxs-lookup"><span data-stu-id="311fa-139">File and Folder Permissions</span></span>  
 <span data-ttu-id="311fa-140">Depois que as contas de serviço forem especificadas, conceda as permissões necessárias de arquivo e pasta a essas contas de serviço.</span><span class="sxs-lookup"><span data-stu-id="311fa-140">After the service accounts have been specified, you must grant the necessary file and folder permissions to those service accounts.</span></span> <span data-ttu-id="311fa-141">Configure permissões de arquivo e pasta de acordo com a seguinte tabela:</span><span class="sxs-lookup"><span data-stu-id="311fa-141">Configure file and folder permissions according to the following table:</span></span>  
  
|<span data-ttu-id="311fa-142">Conta</span><span class="sxs-lookup"><span data-stu-id="311fa-142">Account</span></span>|<span data-ttu-id="311fa-143">Permissões de pasta</span><span class="sxs-lookup"><span data-stu-id="311fa-143">Folder Permissions</span></span>|  
|-------------|------------------------|  
|[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="311fa-144">Distributed Replay</span><span class="sxs-lookup"><span data-stu-id="311fa-144">Distributed Replay controller service account</span></span>|<span data-ttu-id="311fa-145">`<Controller_Installation_Path>\DReplayController` (Leitura, Gravação, Exclusão)</span><span class="sxs-lookup"><span data-stu-id="311fa-145">`<Controller_Installation_Path>\DReplayController` (Read, Write, Delete)</span></span><br /><br /> <span data-ttu-id="311fa-146">`DReplayServer.xml` arquivo (Leitura, Gravação)</span><span class="sxs-lookup"><span data-stu-id="311fa-146">`DReplayServer.xml` file (Read, Write)</span></span>|  
|[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="311fa-147">Conta de serviço do cliente do Distributed Replay</span><span class="sxs-lookup"><span data-stu-id="311fa-147">Distributed Replay client service account</span></span>|<span data-ttu-id="311fa-148">`<Client_Installation_Path>\DReplayClient` (Leitura, Gravação, Exclusão)</span><span class="sxs-lookup"><span data-stu-id="311fa-148">`<Client_Installation_Path>\DReplayClient` (Read, Write, Delete)</span></span><br /><br /> <span data-ttu-id="311fa-149">`DReplayClient.xml` arquivo (Leitura, Gravação)</span><span class="sxs-lookup"><span data-stu-id="311fa-149">`DReplayClient.xml` file (Read, Write)</span></span><br /><br /> <span data-ttu-id="311fa-150">Os diretórios de trabalho e resultado, conforme especificado no arquivo de configuração de cliente pelos elementos `WorkingDirectory` e `ResultDirectory` , respectivamente.</span><span class="sxs-lookup"><span data-stu-id="311fa-150">The working and result directories, as specified in the client configuration file by the `WorkingDirectory` and `ResultDirectory` elements, respectively.</span></span> <span data-ttu-id="311fa-151">(Leitura, Gravação)</span><span class="sxs-lookup"><span data-stu-id="311fa-151">(Read, Write)</span></span>|  
  
## <a name="dcom-permissions"></a><span data-ttu-id="311fa-152">Permissões DCOM</span><span class="sxs-lookup"><span data-stu-id="311fa-152">DCOM Permissions</span></span>  
 <span data-ttu-id="311fa-153">O DCOM é usado na RPC (chamada de procedimento remoto) entre o controlador e a ferramenta de administração, e entre o controlador e todos os clientes.</span><span class="sxs-lookup"><span data-stu-id="311fa-153">DCOM is used for remote procedure call (RPC) communication between the controller and the administration tool, and between the controller and all clients.</span></span> <span data-ttu-id="311fa-154">Você deve configurar permissões DCOM específicas do aplicativo no computador inteiro no controlador após a instalação de recursos do Distributed Replay.</span><span class="sxs-lookup"><span data-stu-id="311fa-154">You must configure computer-wide and application-specific DCOM permissions on the controller after the Distributed Replay features have been installed.</span></span>  
  
 <span data-ttu-id="311fa-155">Para configurar permissões do controlador DCOM, siga estas etapas:</span><span class="sxs-lookup"><span data-stu-id="311fa-155">To configure the controller DCOM permissions, follow these steps:</span></span>  
  
1.  <span data-ttu-id="311fa-156">**Abra dcomcnfg.exe, o snap-in de Serviços de componentes**: Essa é a ferramenta usada para configurar permissões DCOM.</span><span class="sxs-lookup"><span data-stu-id="311fa-156">**Open dcomcnfg.exe, the Component Services snap-in**: This is the tool that is used to configure DCOM permissions.</span></span>  
  
    1.  <span data-ttu-id="311fa-157">No computador do controlador, clique em **Iniciar**.</span><span class="sxs-lookup"><span data-stu-id="311fa-157">On the controller computer, click **Start**.</span></span>  
  
    2.  <span data-ttu-id="311fa-158">Tipo `dcomcnfg.exe` na caixa **Pesquisa**.</span><span class="sxs-lookup"><span data-stu-id="311fa-158">Type `dcomcnfg.exe` in the **Search** box.</span></span>  
  
    3.  <span data-ttu-id="311fa-159">Pressione ENTER.</span><span class="sxs-lookup"><span data-stu-id="311fa-159">Press ENTER.</span></span>  
  
2.  <span data-ttu-id="311fa-160">**Configurar permissões DCOM em todo o computador**: conceda as permissões DCOM correspondentes no computador inteiro para cada conta listada na tabela a seguir.</span><span class="sxs-lookup"><span data-stu-id="311fa-160">**Configure computer-wide DCOM permissions**: Grant the corresponding computer-wide DCOM permissions for each account listed in the following table.</span></span> <span data-ttu-id="311fa-161">Para obter mais informações sobre como definir permissões no computador inteiro, confira [Lista de verificação: Gerenciar aplicativos DCOM.](https://go.microsoft.com/fwlink/?LinkId=185842)</span><span class="sxs-lookup"><span data-stu-id="311fa-161">For more information about how to set computer-wide permissions, see [Checklist: Manage DCOM Applications](https://go.microsoft.com/fwlink/?LinkId=185842).</span></span>  
  
3.  <span data-ttu-id="311fa-162">**Configurar as permissões DCOM específicas do aplicativo**: conceda as permissões DCOM específicas do aplicativo correspondentes para cada conta listada na tabela a seguir.</span><span class="sxs-lookup"><span data-stu-id="311fa-162">**Configure application-specific DCOM permissions**: Grant the corresponding application-specific DCOM permissions for each account listed in the following table.</span></span> <span data-ttu-id="311fa-163">O nome do aplicativo DCOM para o serviço do controlador é **DReplayController**.</span><span class="sxs-lookup"><span data-stu-id="311fa-163">The DCOM application name for the controller service is **DReplayController**.</span></span> <span data-ttu-id="311fa-164">Para obter mais informações sobre como definir permissões específicas do aplicativo, veja [Lista de verificação: Gerenciar aplicativos DCOM.](https://go.microsoft.com/fwlink/?LinkId=185842)</span><span class="sxs-lookup"><span data-stu-id="311fa-164">For more information about how to set application-specific permissions, see [Checklist: Manage DCOM Applications](https://go.microsoft.com/fwlink/?LinkId=185842).</span></span>  
  
 <span data-ttu-id="311fa-165">A seguinte tabela descreve quais permissões DCOM são necessárias para a conta de usuário interativa da ferramenta de administração e para as contas de serviço cliente:</span><span class="sxs-lookup"><span data-stu-id="311fa-165">The following table describes which DCOM permissions are required for the administration tool interactive user account and the client service accounts:</span></span>  
  
|<span data-ttu-id="311fa-166">Recurso</span><span class="sxs-lookup"><span data-stu-id="311fa-166">Feature</span></span>|<span data-ttu-id="311fa-167">Conta</span><span class="sxs-lookup"><span data-stu-id="311fa-167">Account</span></span>|<span data-ttu-id="311fa-168">Permissões DCOM necessárias no controlador</span><span class="sxs-lookup"><span data-stu-id="311fa-168">Required DCOM Permissions on Controller</span></span>|  
|-------------|-------------|---------------------------------------------|  
|<span data-ttu-id="311fa-169">Ferramenta de administração Distributed Replay</span><span class="sxs-lookup"><span data-stu-id="311fa-169">Distributed Replay administration tool</span></span>|<span data-ttu-id="311fa-170">A conta de usuário interativa</span><span class="sxs-lookup"><span data-stu-id="311fa-170">The interactive user account</span></span>|<span data-ttu-id="311fa-171">Acesso local</span><span class="sxs-lookup"><span data-stu-id="311fa-171">Local Access</span></span><br /><br /> <span data-ttu-id="311fa-172">Acesso remoto</span><span class="sxs-lookup"><span data-stu-id="311fa-172">Remote Access</span></span><br /><br /> <span data-ttu-id="311fa-173">Inicialização local</span><span class="sxs-lookup"><span data-stu-id="311fa-173">Local Launch</span></span><br /><br /> <span data-ttu-id="311fa-174">Inicialização remota</span><span class="sxs-lookup"><span data-stu-id="311fa-174">Remote Launch</span></span><br /><br /> <span data-ttu-id="311fa-175">Ativação local</span><span class="sxs-lookup"><span data-stu-id="311fa-175">Local Activation</span></span><br /><br /> <span data-ttu-id="311fa-176">Ativação remota</span><span class="sxs-lookup"><span data-stu-id="311fa-176">Remote Activation</span></span>|  
|<span data-ttu-id="311fa-177">Distributed Replay Client</span><span class="sxs-lookup"><span data-stu-id="311fa-177">Distributed Replay client</span></span>|[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="311fa-178">Conta de serviço do cliente do Distributed Replay</span><span class="sxs-lookup"><span data-stu-id="311fa-178">Distributed Replay client service account</span></span>|<span data-ttu-id="311fa-179">Acesso local</span><span class="sxs-lookup"><span data-stu-id="311fa-179">Local Access</span></span><br /><br /> <span data-ttu-id="311fa-180">Acesso remoto</span><span class="sxs-lookup"><span data-stu-id="311fa-180">Remote Access</span></span><br /><br /> <span data-ttu-id="311fa-181">Inicialização local</span><span class="sxs-lookup"><span data-stu-id="311fa-181">Local Launch</span></span><br /><br /> <span data-ttu-id="311fa-182">Inicialização remota</span><span class="sxs-lookup"><span data-stu-id="311fa-182">Remote Launch</span></span><br /><br /> <span data-ttu-id="311fa-183">Ativação local</span><span class="sxs-lookup"><span data-stu-id="311fa-183">Local Activation</span></span><br /><br /> <span data-ttu-id="311fa-184">Ativação remota</span><span class="sxs-lookup"><span data-stu-id="311fa-184">Remote Activation</span></span>|  
  
> [!IMPORTANT]  
>  <span data-ttu-id="311fa-185">Para ajudar a proteger contra consultas mal-intencionadas ou ataques de negação de serviço, verifique se está usando apenas uma conta de usuário de confiança para a conta de serviço do cliente.</span><span class="sxs-lookup"><span data-stu-id="311fa-185">To help protect against malicious queries or denial of service attacks, make sure that you only use a trusted user account for the client service account.</span></span> <span data-ttu-id="311fa-186">Esta conta poderá se conectar e reproduzir cargas de trabalho na instância de destino do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="311fa-186">This account will be able to connect and replay workloads against the target instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span>  
  
## <a name="sql-server-permissions"></a><span data-ttu-id="311fa-187">Permissões do SQL Server</span><span class="sxs-lookup"><span data-stu-id="311fa-187">SQL Server Permissions</span></span>  
 <span data-ttu-id="311fa-188">As contas de serviço de cliente do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Distributed Replay são usadas na conexão à instância de destino da carga de trabalho do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="311fa-188">The [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Distributed Replay client service accounts are used to connect to the workload's target instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="311fa-189">Apenas o modo de Autenticação do Windows tem suporte para essas conexões.</span><span class="sxs-lookup"><span data-stu-id="311fa-189">Only Windows Authentication mode is supported for these connections.</span></span>  
  
 <span data-ttu-id="311fa-190">Depois de instalar o serviço de cliente do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Distributed Replay em um conjunto de computadores, conceda à entidade de segurança usada para essas contas de serviço a função de servidor sysadmin na instância do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] em que você pretende reproduzir a carga de trabalho de rastreamento.</span><span class="sxs-lookup"><span data-stu-id="311fa-190">After you install the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Distributed Replay client service on a set of computers, the security principal used for those service accounts must be granted the sysadmin server role on the instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] that you intend to replay the trace workload against.</span></span> <span data-ttu-id="311fa-191">Esta etapa não é executada automaticamente durante a Instalação do Distributed Replay.</span><span class="sxs-lookup"><span data-stu-id="311fa-191">This step is not performed automatically during Distributed Replay Setup.</span></span>  
  
## <a name="data-protection"></a><span data-ttu-id="311fa-192">Proteção de dados</span><span class="sxs-lookup"><span data-stu-id="311fa-192">Data Protection</span></span>  
 <span data-ttu-id="311fa-193">No ambiente do Distributed Replay, é concedido total acesso das seguintes contas de usuário à instância de servidor de destino do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], aos dados de rastreamento de entrada e aos arquivos de rastreamento de resultado:</span><span class="sxs-lookup"><span data-stu-id="311fa-193">In the Distributed Replay environment, the following user accounts are granted full access to the target server instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], the input trace data and result trace files:</span></span>  
  
-   <span data-ttu-id="311fa-194">A conta de usuário interativa que é usada para executar a ferramenta de administração.</span><span class="sxs-lookup"><span data-stu-id="311fa-194">The interactive user account that is used to run the administration tool.</span></span>  
  
-   <span data-ttu-id="311fa-195">A conta de serviço do controlador.</span><span class="sxs-lookup"><span data-stu-id="311fa-195">The controller service account.</span></span>  
  
-   <span data-ttu-id="311fa-196">A conta de serviço do cliente.</span><span class="sxs-lookup"><span data-stu-id="311fa-196">The client service account.</span></span>  
  
-   <span data-ttu-id="311fa-197">Membros do grupo Administradores local no controlador.</span><span class="sxs-lookup"><span data-stu-id="311fa-197">Members of the local Administrators group on the controller.</span></span>  
  
-   <span data-ttu-id="311fa-198">Membros do grupo Administradores local nos clientes.</span><span class="sxs-lookup"><span data-stu-id="311fa-198">Members of the local Administrators group on the clients.</span></span>  
  
    > [!IMPORTANT]  
    >  <span data-ttu-id="311fa-199">Estas contas têm total acesso a PII (informações pessoalmente identificáveis) ou a informações confidenciais que estão contidas nos arquivos de rastreamento, intermediários, de distribuição ou de dados do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] que foram usados pelo Distributed Replay.</span><span class="sxs-lookup"><span data-stu-id="311fa-199">These accounts have full access to any personally identifiable information (PII) or sensitive information that is contained in the trace, intermediate, dispatch, or [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] data files that were used by Distributed Replay.</span></span>  
  
 <span data-ttu-id="311fa-200">É recomendável adotar estas medidas de segurança:</span><span class="sxs-lookup"><span data-stu-id="311fa-200">We recommend that you take the following security precautions:</span></span>  
  
-   <span data-ttu-id="311fa-201">Armazene os dados de rastreamento de entrada, os resultados de rastreamento de saída e os arquivos de banco de dados em um local que use o NTFS (sistema de arquivos NTFS) e aplique as ACLs (listas de controle de acesso) apropriadas.</span><span class="sxs-lookup"><span data-stu-id="311fa-201">Store the input trace data, output trace results, and database files in a location that uses the NTFS file system (NTFS), and apply the appropriate access control lists (ACLs).</span></span> <span data-ttu-id="311fa-202">Se for preciso, criptografe os dados que são armazenados no computador do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="311fa-202">If it is needed, encrypt the data that is stored on the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] computer.</span></span> <span data-ttu-id="311fa-203">Lembre-se de que ACLs não são aplicados aos arquivos de rastreamento e não há mascaramentos ou ofuscamentos de dados.</span><span class="sxs-lookup"><span data-stu-id="311fa-203">Be aware that ACLs are not applied to the trace files and there is no data masking or obfuscation.</span></span> <span data-ttu-id="311fa-204">Você deve excluir estes arquivos rapidamente após usá-los.</span><span class="sxs-lookup"><span data-stu-id="311fa-204">You should delete these files quickly after use.</span></span>  
  
-   <span data-ttu-id="311fa-205">Aplique as ACLs apropriadas e a política de retenção a todos os arquivos intermediários e de distribuição gerados através do Distributed Replay.</span><span class="sxs-lookup"><span data-stu-id="311fa-205">Apply the appropriate ACLs and retention policy to all intermediate and dispatch files that are generated by Distributed Replay.</span></span>  
  
-   <span data-ttu-id="311fa-206">Use o Protocolo SSL para ajudar a proteger o transporte de rede.</span><span class="sxs-lookup"><span data-stu-id="311fa-206">Use Secure Sockets Layer (SSL) to help secure the network transport.</span></span>  
  
## <a name="important-removal-steps"></a><span data-ttu-id="311fa-207">Etapas de remoção importantes</span><span class="sxs-lookup"><span data-stu-id="311fa-207">Important Removal Steps</span></span>  
 <span data-ttu-id="311fa-208">É recomendável usar o Distributed Replay apenas em um ambiente de teste.</span><span class="sxs-lookup"><span data-stu-id="311fa-208">We recommend that you only use Distributed Replay in a test environment.</span></span> <span data-ttu-id="311fa-209">Após concluir os testes, e antes de provisionar esses computadores para uma tarefa diferente, siga estes procedimentos:</span><span class="sxs-lookup"><span data-stu-id="311fa-209">After you have completed testing, and before you provision those computers for a different task, make sure that you do the following:</span></span>  
  
-   <span data-ttu-id="311fa-210">Desinstale recursos do Distributed Replay e remova os arquivos de configuração relacionados do controlador e de todos os clientes.</span><span class="sxs-lookup"><span data-stu-id="311fa-210">Uninstall the Distributed Replay features and remove the related configuration files from the controller and all clients.</span></span>  
  
-   <span data-ttu-id="311fa-211">Exclua qualquer arquivo de rastreamento, intermediário, de distribuição e de banco de dados do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] que tenham sido usados em testes.</span><span class="sxs-lookup"><span data-stu-id="311fa-211">Delete any trace, intermediate, dispatch, and [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] database files that were used for testing.</span></span> <span data-ttu-id="311fa-212">Os arquivos intermediários e de distribuição são armazenados no diretório de trabalho no controlador e no cliente, respectivamente.</span><span class="sxs-lookup"><span data-stu-id="311fa-212">The intermediate and dispatch files are stored in the working directory on the controller and client, respectively.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="311fa-213">Consulte Também</span><span class="sxs-lookup"><span data-stu-id="311fa-213">See Also</span></span>  
 <span data-ttu-id="311fa-214">[SQL Server Distributed Replay](sql-server-distributed-replay.md) </span><span class="sxs-lookup"><span data-stu-id="311fa-214">[SQL Server Distributed Replay](sql-server-distributed-replay.md) </span></span>  
 [<span data-ttu-id="311fa-215">Instalar o Distributed Replay</span><span class="sxs-lookup"><span data-stu-id="311fa-215">Install Distributed Replay</span></span>](install-distributed-replay-overview.md)  
  
  
