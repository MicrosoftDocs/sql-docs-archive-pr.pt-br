---
title: Armazenar dados criptografados do servidor de relatório (Gerenciador de Configurações do SSRS) | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: database-engine
ms.topic: conceptual
helpviewer_keywords:
- report servers [Reporting Services], encryption
- credentials [Reporting Services]
- cryptography [Reporting Services]
- confidential reports [Reporting Services]
- encryption [Reporting Services]
- databases [Reporting Services], encryption
ms.assetid: ac0f4d4d-fc4b-4c62-a693-b86e712e75f2
author: maggiesMSFT
ms.author: maggies
manager: kfile
ms.openlocfilehash: 0cbc414918a15d19f0f211a572878dc7f93ca277
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87686110"
---
# <a name="store-encrypted-report-server-data-ssrs-configuration-manager"></a><span data-ttu-id="23697-102">Armazenar dados criptografados do servidor de relatório (Gerenciador de configurações do SSRS)</span><span class="sxs-lookup"><span data-stu-id="23697-102">Store Encrypted Report Server Data (SSRS Configuration Manager)</span></span>
  [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] <span data-ttu-id="23697-103">armazena valores criptografados no banco de dados do servidor de relatório e em arquivos de configuração.</span><span class="sxs-lookup"><span data-stu-id="23697-103">stores encrypted values in the report server database and in configuration files.</span></span> <span data-ttu-id="23697-104">A maioria dos valores criptografados é credencial usada para acessar fontes de dados externas que fornecem dados a relatórios.</span><span class="sxs-lookup"><span data-stu-id="23697-104">Most encrypted values are credentials that are used for accessing external data sources that provide data to reports.</span></span> <span data-ttu-id="23697-105">Este tópico descreve quais valores são criptografados, a funcionalidade de criptografia usada no [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)], entre outros tipos de dados confidenciais armazenados sobre os quais é útil saber mais a respeito.</span><span class="sxs-lookup"><span data-stu-id="23697-105">This topic describes which values are encrypted, the encryption functionality used in [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)], and other kinds of stored confidential data that you should know about.</span></span>  
  
## <a name="encrypted-values"></a><span data-ttu-id="23697-106">Valores criptografados</span><span class="sxs-lookup"><span data-stu-id="23697-106">Encrypted Values</span></span>  
 <span data-ttu-id="23697-107">A lista a seguir descreve os valores armazenados em uma instalação do [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="23697-107">The following list describes the values that are stored in a [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] installation.</span></span>  
  
-   <span data-ttu-id="23697-108">As informações e credenciais de conexão usadas por um servidor de relatório para conexão com um banco de dados de servidor de relatório que armazena dados internos do servidor.</span><span class="sxs-lookup"><span data-stu-id="23697-108">Connection information and credentials used by a report server to connect to a report server database that stores internal server data.</span></span>  
  
     <span data-ttu-id="23697-109">Esses valores são especificados e criptografados durante a instalação ou configuração do servidor de relatório.</span><span class="sxs-lookup"><span data-stu-id="23697-109">These values are specified and encrypted during setup or report server configuration.</span></span> <span data-ttu-id="23697-110">É possível atualizar as informações de conexão a qualquer momento usando a ferramenta Configuração do Reporting Services ou o utilitário **rsconfig** .</span><span class="sxs-lookup"><span data-stu-id="23697-110">You can update the connection information at any time using the Reporting Services Configuration tool or the **rsconfig** utility.</span></span> <span data-ttu-id="23697-111">A criptografia das configurações é realizada usando a chave no nível da máquina do computador local disponível para todos os usuários.</span><span class="sxs-lookup"><span data-stu-id="23697-111">Encryption of configuration settings is performed by using the machine-level key of the local computer that is available to all users.</span></span> <span data-ttu-id="23697-112">As informações criptografadas de conexão de servidor de relatório são armazenadas no arquivo rsreportserver.config (nenhum outro arquivo de configuração contém configurações criptografadas).</span><span class="sxs-lookup"><span data-stu-id="23697-112">Encrypted report server connection information is stored in the rsreportserver.config file (no other configuration file contains encrypted settings).</span></span> <span data-ttu-id="23697-113">Para obter mais informações, consulte [Configurar uma conexão de banco de dados do servidor de relatório &#40;SSRS Configuration Manager&#41;](../../sql-server/install/configure-a-report-server-database-connection-ssrs-configuration-manager.md).</span><span class="sxs-lookup"><span data-stu-id="23697-113">For more information, see [Configure a Report Server Database Connection  &#40;SSRS Configuration Manager&#41;](../../sql-server/install/configure-a-report-server-database-connection-ssrs-configuration-manager.md).</span></span>  
  
-   <span data-ttu-id="23697-114">Credenciais armazenadas usadas por um servidor de relatório para conexão com fontes de dados externas que fornecem dados a um relatório.</span><span class="sxs-lookup"><span data-stu-id="23697-114">Stored credentials that are used by a report server to connect to external data sources that provide data to a report.</span></span>  
  
     <span data-ttu-id="23697-115">Esses valores são definidos ao configurar informações de fonte de dados para um relatório e, em seguida, são armazenados como valores criptografados em um banco de dados de servidor de relatório.</span><span class="sxs-lookup"><span data-stu-id="23697-115">These values are defined when you configure data source information for a report, and then stored as encrypted values in a report server database.</span></span> <span data-ttu-id="23697-116">O servidor de relatório usa uma chave simétrica para criptografar e decifrar esses dados.</span><span class="sxs-lookup"><span data-stu-id="23697-116">The report server uses a symmetric key to encrypt and decrypt this data.</span></span> <span data-ttu-id="23697-117">Para obter mais informações sobre credenciais armazenadas, confira [Especificar informações de credenciais e de conexão para fontes de dados de relatório](../../integration-services/connection-manager/data-sources.md) nos Manuais Online do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="23697-117">For more information about stored credentials, see [Specify Credential and Connection Information for Report Data Sources](../../integration-services/connection-manager/data-sources.md) in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Books Online.</span></span>  
  
-   <span data-ttu-id="23697-118">Uma conta de usuário autônoma usada pelo servidor de relatório para conexão com outros computadores para recuperar arquivos de imagem externos ou dados externos usados em um relatório.</span><span class="sxs-lookup"><span data-stu-id="23697-118">An unattended user account used by the report server to connect to other computers to retrieve external images files or external data that is used in a report.</span></span>  
  
     <span data-ttu-id="23697-119">Essa conta é usada quando uma conexão com um computador remoto é necessária e não há nenhuma outra credencial disponível para efetuar a conexão.</span><span class="sxs-lookup"><span data-stu-id="23697-119">This account is used when a connection to a remote computer is required and no other credentials are available to make the connection.</span></span> <span data-ttu-id="23697-120">Essa conta é usada principalmente para oferecer suporte ao processamento de relatórios autônomos que não usam credenciais para acessar uma fonte de dados.</span><span class="sxs-lookup"><span data-stu-id="23697-120">This account is primarily used to support unattended report processing for reports that do not use credentials to access a data source.</span></span> <span data-ttu-id="23697-121">Se você criar relatórios com base em fontes de dados que não exigem nem usam credenciais para acessar dados, será necessário configurar essa conta para o servidor de relatório a ser usado.</span><span class="sxs-lookup"><span data-stu-id="23697-121">If you create reports based on data sources that do not require or use credentials when accessing data, you must configure this account for the report server to use.</span></span>  
  
     <span data-ttu-id="23697-122">Essa conta é necessária em determinadas circunstâncias e pode ser criada somente por meio da ferramenta Configuração do Reporting Services ou do **rsconfig**.</span><span class="sxs-lookup"><span data-stu-id="23697-122">This account is required under certain circumstances and can only be created through the Reporting Services Configuration tool or **rsconfig**.</span></span> <span data-ttu-id="23697-123">Esse valor também é armazenado no arquivo rsreportserver.config.</span><span class="sxs-lookup"><span data-stu-id="23697-123">This value is also stored in the rsreportserver.config file.</span></span> <span data-ttu-id="23697-124">É necessário criar essa conta manualmente.</span><span class="sxs-lookup"><span data-stu-id="23697-124">You must create this account manually.</span></span> <span data-ttu-id="23697-125">Para obter mais informações sobre essa conta e como ela é usada, consulte [Configurar a conta de execução autônoma &#40; 	Gerenciador de Configurações do SSRS&#41;](configure-the-unattended-execution-account-ssrs-configuration-manager.md).</span><span class="sxs-lookup"><span data-stu-id="23697-125">For more information about this account and how it is used, see [Configure the Unattended Execution Account &#40;SSRS Configuration Manager&#41;](configure-the-unattended-execution-account-ssrs-configuration-manager.md).</span></span>  
  
-   <span data-ttu-id="23697-126">A chave simétrica usada para criptografia.</span><span class="sxs-lookup"><span data-stu-id="23697-126">The symmetric key used for encryption.</span></span>  
  
     <span data-ttu-id="23697-127">Esse valor é criado durante a instalação ou configuração do servidor e, em seguida, é armazenado como um valor criptografado no banco de dados do servidor de relatório.</span><span class="sxs-lookup"><span data-stu-id="23697-127">This value is created during setup or server configuration, and then stored as an encrypted value in the report server database.</span></span> <span data-ttu-id="23697-128">O serviço Servidor de Relatório do Windows usa essa chave para criptografar e decifrar dados armazenados no banco de dados do servidor de relatório.</span><span class="sxs-lookup"><span data-stu-id="23697-128">The Report Server Windows service uses this key to encrypt and decrypt data that is stored in the report server database.</span></span>  
  
## <a name="encryption-functionality-in-reporting-services"></a><span data-ttu-id="23697-129">Funcionalidade de criptografia no Reporting Services</span><span class="sxs-lookup"><span data-stu-id="23697-129">Encryption Functionality in Reporting Services</span></span>  
 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] <span data-ttu-id="23697-130">usa funções criptográficas que fazem parte do sistema operacional Windows.</span><span class="sxs-lookup"><span data-stu-id="23697-130">uses cryptographic functions that are part of the Windows operating system.</span></span> <span data-ttu-id="23697-131">São usadas as criptografias simétrica e assimétrica.</span><span class="sxs-lookup"><span data-stu-id="23697-131">Both symmetric and asymmetric encryption are used.</span></span>  
  
 <span data-ttu-id="23697-132">Dados no banco de dados do servidor de relatório são criptografados por meio de uma chave simétrica.</span><span class="sxs-lookup"><span data-stu-id="23697-132">Data in the report server database is encrypted using a symmetric key.</span></span> <span data-ttu-id="23697-133">Há uma única chave simétrica para cada banco de dados de servidor de relatório.</span><span class="sxs-lookup"><span data-stu-id="23697-133">There is a single symmetric key for each report server database.</span></span> <span data-ttu-id="23697-134">Essa chave simétrica é criptografada usando a chave pública de um par de chaves assimétricas gerado pelo Windows.</span><span class="sxs-lookup"><span data-stu-id="23697-134">This symmetric key is itself encrypted using the public key of an asymmetric key pair generated by Windows.</span></span> <span data-ttu-id="23697-135">A chave privada é mantida pela conta do serviço Servidor de Relatório do Windows.</span><span class="sxs-lookup"><span data-stu-id="23697-135">The private key is held by the Report Server Windows service account.</span></span>  
  
 <span data-ttu-id="23697-136">Em uma implantação em expansão do servidor de relatório, na qual várias instâncias do servidor de relatório compartilham o mesmo banco de dados de servidor de relatório, uma única chave simétrica é usada por todos os nós do servidor de relatório.</span><span class="sxs-lookup"><span data-stu-id="23697-136">In a report server scale-out deployment where multiple report server instances share the same report server database, a single symmetric key is used by all report server nodes.</span></span> <span data-ttu-id="23697-137">É necessário que cada nó tenha uma cópia da chave simétrica compartilhada.</span><span class="sxs-lookup"><span data-stu-id="23697-137">Each node must have a copy of the shared symmetric key.</span></span> <span data-ttu-id="23697-138">Uma cópia da chave simétrica é criada automaticamente para cada nó quando a implantação de extensão é configurada.</span><span class="sxs-lookup"><span data-stu-id="23697-138">A copy of the symmetric key is created for each node automatically when the scale-out deployment is configured.</span></span> <span data-ttu-id="23697-139">Cada nó criptografa a sua cópia da chave simétrica usando uma chave pública de um par de chaves específico para a sua conta do serviço do Windows.</span><span class="sxs-lookup"><span data-stu-id="23697-139">Each node encrypts its copy of the symmetric key using the public key of a key pair specific to its Windows service account.</span></span> <span data-ttu-id="23697-140">Para saber mais sobre como a chave simétrica é criada para implantações escaláveis e de instância única, consulte [Inicializar um servidor de relatório &#40;Gerenciador de Configurações do SSRS&#41;](ssrs-encryption-keys-initialize-a-report-server.md).</span><span class="sxs-lookup"><span data-stu-id="23697-140">To learn more about how the symmetric key is created for both single instance and scale-out deployments, see [Initialize a Report Server &#40;SSRS Configuration Manager&#41;](ssrs-encryption-keys-initialize-a-report-server.md).</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="23697-141">Ao alterar a conta do serviço Servidor de Relatório do Windows, as chaves assimétricas podem se tornar inválidas, o que interromperá operações do servidor.</span><span class="sxs-lookup"><span data-stu-id="23697-141">When you change the Report Server Windows service account, the asymmetric keys can become invalid, which will disrupt server operations.</span></span> <span data-ttu-id="23697-142">Para evitar esse problema, use sempre a ferramenta Configuração do Reporting Services para modificar configurações da conta do serviço.</span><span class="sxs-lookup"><span data-stu-id="23697-142">To avoid this problem, always use the Reporting Services Configuration tool to modify service account settings.</span></span> <span data-ttu-id="23697-143">Ao usar a ferramenta de configuração, as chaves são atualizadas automaticamente.</span><span class="sxs-lookup"><span data-stu-id="23697-143">When you use the configuration tool, the keys are updated for you automatically.</span></span> <span data-ttu-id="23697-144">Para obter mais informações, veja [Configurar a conta de serviço do servidor de relatório &#40;SSRS Configuration Manager&#41;](configure-the-report-server-service-account-ssrs-configuration-manager.md).</span><span class="sxs-lookup"><span data-stu-id="23697-144">For more information, see [Configure the Report Server Service Account &#40;SSRS Configuration Manager&#41;](configure-the-report-server-service-account-ssrs-configuration-manager.md).</span></span>  
  
## <a name="other-sources-of-confidential-data"></a><span data-ttu-id="23697-145">Outras fontes de dados confidenciais</span><span class="sxs-lookup"><span data-stu-id="23697-145">Other Sources of Confidential Data</span></span>  
 <span data-ttu-id="23697-146">Um servidor de relatório armazena outros dados que não são criptografados, mas que podem conter informações confidenciais que você quer proteger.</span><span class="sxs-lookup"><span data-stu-id="23697-146">A report server stores other data that is not encrypted, yet may contain sensitive information that you want to protect.</span></span> <span data-ttu-id="23697-147">Mais especificamente, instantâneos do histórico do relatório e instantâneos de execução do relatório contêm resultados de consultas que podem incluir dados destinados a usuários autorizados.</span><span class="sxs-lookup"><span data-stu-id="23697-147">Specifically, report history snapshots and report execution snapshots contain query results that may include data that is intended for authorized users.</span></span> <span data-ttu-id="23697-148">Se você estiver usando a funcionalidade de instantâneo para relatórios que contêm dados confidenciais, saiba que os usuários que podem abrir tabelas em um banco de dados de servidor de relatório talvez possam visualizar partes de um relatório armazenado ao inspecionar o conteúdo da tabela.</span><span class="sxs-lookup"><span data-stu-id="23697-148">If you are using snapshot functionality for reports that contain confidential data, be aware that users who can open tables in a report server database may be able to view portions of a stored report by inspecting the contents of the table.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="23697-149">O [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] não dá suporte ao armazenamento em cache nem ao histórico de relatórios que usam parâmetros com base na identificação de segurança do usuário.</span><span class="sxs-lookup"><span data-stu-id="23697-149">[!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] does not support caching or report history for reports that use parameters based on the security identify of the user.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="23697-150">Consulte Também</span><span class="sxs-lookup"><span data-stu-id="23697-150">See Also</span></span>  
 [<span data-ttu-id="23697-151">Configurar e gerenciar chaves de criptografia &#40;SSRS Configuration Manager&#41;</span><span class="sxs-lookup"><span data-stu-id="23697-151">Configure and Manage Encryption Keys &#40;SSRS Configuration Manager&#41;</span></span>](ssrs-encryption-keys-manage-encryption-keys.md)  
  
  
