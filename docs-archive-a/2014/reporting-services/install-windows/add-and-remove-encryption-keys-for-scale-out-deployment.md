---
title: Adicionar e remover chaves de criptografia para implantação em expansão (SSRS Configuration Manager) | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: database-engine
ms.topic: conceptual
helpviewer_keywords:
- encryption keys [Reporting Services]
- deleting encryption keys
- removing encryption keys
- adding encryption keys
- rskeymgmt utility
- scale-out deployments [Reporting Services]
ms.assetid: 2da86fb3-4b4d-407f-9825-74dcc42486f5
author: maggiesMSFT
ms.author: maggies
manager: kfile
ms.openlocfilehash: 3926e57c1ad3bb884af8debf7f831092b223a3cb
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87686131"
---
# <a name="add-and-remove-encryption-keys-for-scale-out-deployment-ssrs-configuration-manager"></a><span data-ttu-id="8af92-102">Adicionar e remover chaves de criptografia para implantação em expansão (Gerenciador de configurações do SSRS)</span><span class="sxs-lookup"><span data-stu-id="8af92-102">Add and Remove Encryption Keys for Scale-Out Deployment (SSRS Configuration Manager)</span></span>
  <span data-ttu-id="8af92-103">É possível executar o [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] em um modelo de implantação de expansão com a configuração de vários servidores de relatório para usarem um banco de dados do servidor de relatório compartilhado.</span><span class="sxs-lookup"><span data-stu-id="8af92-103">You can run [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] in a scale-out deployment model by configuring multiple report servers to use a shared report server database.</span></span> <span data-ttu-id="8af92-104">A associação em uma implantação de expansão tem como base o fato de o servidor de relatório armazenar uma chave de criptografia no banco de dados do servidor de relatório.</span><span class="sxs-lookup"><span data-stu-id="8af92-104">Membership in a scale-out deployment is based on whether the report server stores an encryption key in the report server database.</span></span> <span data-ttu-id="8af92-105">Você pode controlar a associação de implantação de expansão pela adição ou remoção de chaves de criptografia para instâncias específicas do servidor de relatório.</span><span class="sxs-lookup"><span data-stu-id="8af92-105">You can control scale-out deployment membership by adding and removing encryption keys for specific report server instances.</span></span> <span data-ttu-id="8af92-106">Se estiver removendo nós da implantação, você poderá os removê-los em qualquer ordem.</span><span class="sxs-lookup"><span data-stu-id="8af92-106">If you are removing nodes from the deployment, you can remove them in any order.</span></span> <span data-ttu-id="8af92-107">Se estiver adicionando nós a uma implantação, você deverá unir quaisquer novas instâncias de um servidor de relatório que já faça parte da implantação.</span><span class="sxs-lookup"><span data-stu-id="8af92-107">If you are adding nodes to a deployment, you must join any new instances from a report server that is already part of the deployment.</span></span>  
  
## <a name="using-the-reporting-services-configuration-tool-to-configure-scale-out-deployment"></a><span data-ttu-id="8af92-108">Usando a ferramenta Configuração do Reporting Services para configurar a implantação de expansão</span><span class="sxs-lookup"><span data-stu-id="8af92-108">Using the Reporting Services Configuration Tool to Configure Scale-Out Deployment</span></span>  
 <span data-ttu-id="8af92-109">O modo mais fácil para configurar uma implantação de expansão é usar a ferramenta Configuração do Reporting Services.</span><span class="sxs-lookup"><span data-stu-id="8af92-109">The easiest way to configure a scale-out deployment is to use the Reporting Services Configuration tool.</span></span> <span data-ttu-id="8af92-110">Para obter mais informações e instruções passo a passo, consulte [Configurar uma implantação escalável do servidor de relatório no modo nativo &#40;Gerenciador de Configurações do SSRS&#41;](configure-a-native-mode-report-server-scale-out-deployment.md).</span><span class="sxs-lookup"><span data-stu-id="8af92-110">For more information and step-by-step instructions, see [Configure a Native Mode Report Server Scale-Out Deployment &#40;SSRS Configuration Manager&#41;](configure-a-native-mode-report-server-scale-out-deployment.md).</span></span>  
  
## <a name="using-rskeymgmt-to-configure-scale-out-deployment"></a><span data-ttu-id="8af92-111">Usando Rskeymgmt para configurar a implantação de expansão</span><span class="sxs-lookup"><span data-stu-id="8af92-111">Using Rskeymgmt to Configure Scale-Out Deployment</span></span>  
 <span data-ttu-id="8af92-112">Use o utilitário **rskeymgmt** para inicializar uma instância do servidor de relatório a fim de usar um banco de dados de servidor de relatório compartilhado.</span><span class="sxs-lookup"><span data-stu-id="8af92-112">Use the **rskeymgmt** utility to initialize a report server instance to use a shared report server database.</span></span> <span data-ttu-id="8af92-113">A adição de um servidor de relatório para uma implantação de expansão exige que você inicialize o servidor de relatório.</span><span class="sxs-lookup"><span data-stu-id="8af92-113">Adding a report server to a scale-out deployment requires that you initialize the report server.</span></span> <span data-ttu-id="8af92-114">A inicialização exige permissões de administrador.</span><span class="sxs-lookup"><span data-stu-id="8af92-114">Initialization requires administrator permissions.</span></span> <span data-ttu-id="8af92-115">Você deve ter credenciais de administrador para o computador remoto que hospeda o servidor de relatório que está sendo associado à implantação.</span><span class="sxs-lookup"><span data-stu-id="8af92-115">You must have administrator credentials for the remote computer that hosts the report server you are joining to the deployment.</span></span>  
  
#### <a name="how-to-join-a-report-server-to-a-scale-out-deployment-rskeymgmt"></a><span data-ttu-id="8af92-116">Como unir um servidor de relatório a uma implantação de expansão (rskeymgmt)</span><span class="sxs-lookup"><span data-stu-id="8af92-116">How to join a report server to a scale-out deployment (rskeymgmt)</span></span>  
  
1.  <span data-ttu-id="8af92-117">Execute **rskeymgmt.exe** localmente no computador que hospeda um servidor de relatório que já seja um membro da implantação de expansão do servidor de relatório.</span><span class="sxs-lookup"><span data-stu-id="8af92-117">Run **rskeymgmt.exe** locally on the computer that hosts a report server that is already a member of the report server scale-out deployment.</span></span>  
  
2.  <span data-ttu-id="8af92-118">Use o argumento `-j` para unir um servidor de relatório ao banco de dados do servidor de relatório.</span><span class="sxs-lookup"><span data-stu-id="8af92-118">Use the `-j` argument to join a report server to the report server database.</span></span> <span data-ttu-id="8af92-119">Use os argumentos `-m` e `-n` para especificar a instância do servidor de relatório remoto que deseja adicionar à implantação.</span><span class="sxs-lookup"><span data-stu-id="8af92-119">Use the `-m` and `-n` arguments to specify the remote report server instance you want to add to the deployment.</span></span> <span data-ttu-id="8af92-120">Use os argumentos `-u` e `-v` para especificar uma conta de administrador no computador remoto.</span><span class="sxs-lookup"><span data-stu-id="8af92-120">Use the `-u` and `-v` arguments to specify an administrator account on the remote computer.</span></span> <span data-ttu-id="8af92-121">Se estiver criando uma implantação de expansão com o uso de várias instâncias de servidor de relatório no mesmo computador, a sintaxe a ser usada é um pouco diferente.</span><span class="sxs-lookup"><span data-stu-id="8af92-121">If you are creating a scale-out deployment using multiple report server instances on the same computer, the syntax to use is slightly different.</span></span> <span data-ttu-id="8af92-122">Para obter mais informações sobre a sintaxe que deve ser usada, consulte [Utilitário rskeymgmt &#40;SSRS&#41;](../tools/rskeymgmt-utility-ssrs.md).</span><span class="sxs-lookup"><span data-stu-id="8af92-122">For more information about the syntax you should use, see [rskeymgmt Utility &#40;SSRS&#41;](../tools/rskeymgmt-utility-ssrs.md).</span></span>  
  
     <span data-ttu-id="8af92-123">O exemplo a seguir ilustra os argumentos que devem ser especificados se você estiver associando um servidor de relatório remoto a uma implantação de expansão (essas credenciais podem ser omitidas se você tiver permissões de administrador no computador remoto):</span><span class="sxs-lookup"><span data-stu-id="8af92-123">The following example illustrates the arguments you must specify if you are joining a remote report server to a scale-out deployment (you can omit credentials if you have administrator permissions on the remote computer):</span></span>  
  
    ```  
    rskeymgmt -j -m <remotecomputer> -n <namedreportserverinstance> -u <administratoraccount> -v <administratorpassword>  
    ```  
  
#### <a name="how-to-remove-a-report-server-from-a-scale-out-deployment-rskeymgmt"></a><span data-ttu-id="8af92-124">Como remover um servidor de relatório de uma implantação de expansão (rskeymgmt)</span><span class="sxs-lookup"><span data-stu-id="8af92-124">How to remove a report server from a scale-out deployment (rskeymgmt)</span></span>  
  
1.  <span data-ttu-id="8af92-125">Abra o arquivo rsreportserver.config do servidor de relatório que deseja remover e localize o ID da instalação.</span><span class="sxs-lookup"><span data-stu-id="8af92-125">Open the rsreportserver.config file of the report server you want to remove and find the installation ID.</span></span> <span data-ttu-id="8af92-126">Por padrão, esse arquivo está localizado em Arquivos de Programas\Microsoft SQL Server\MSSQL.*n*\Reporting Services\ReportServer).</span><span class="sxs-lookup"><span data-stu-id="8af92-126">By default, this file is located at Program Files\Microsoft SQL Server\MSSQL.*n*\Reporting Services\ReportServer).</span></span>  
  
     <span data-ttu-id="8af92-127">Se você instalou uma única instância, haverá apenas um arquivo rsreportserver.config no computador.</span><span class="sxs-lookup"><span data-stu-id="8af92-127">If you installed a single instance, there will only be one rsreportserver.config file on the computer.</span></span> <span data-ttu-id="8af92-128">Se várias instâncias do [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] estiverem instaladas, use a página Status do Servidor na ferramenta Configuração do Reporting Services para localizar o identificador da instância (por exemplo, MSSQL.2) do servidor de relatório que deseja remover.</span><span class="sxs-lookup"><span data-stu-id="8af92-128">If multiple instances of [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] are installed, use the Server Status page in the Reporting Services Configuration tool to find the instance identifier (for example, MSSQL.2) for the report server that you want to remove.</span></span> <span data-ttu-id="8af92-129">O nome da pasta que armazena os arquivos de programas da instância do servidor de relatório terá como base o identificador da instância (por exemplo, Arquivos de Programas\Microsoft SQL Server\MSSQL.2).</span><span class="sxs-lookup"><span data-stu-id="8af92-129">The name of the folder that stores the program files for the report server instance will be based on the instance identifier (for example, Program Files\Microsoft SQL Server\MSSQL.2).</span></span>  
  
2.  <span data-ttu-id="8af92-130">Execute **rskeymgmt.exe**.</span><span class="sxs-lookup"><span data-stu-id="8af92-130">Run **rskeymgmt.exe**.</span></span> <span data-ttu-id="8af92-131">Isso pode ser executado em qualquer servidor de relatório que faça parte da implantação de expansão do servidor de relatório.</span><span class="sxs-lookup"><span data-stu-id="8af92-131">You can run it on any report server that is part of the report server scale-out deployment.</span></span>  
  
3.  <span data-ttu-id="8af92-132">Use o argumento `-r` para liberar a instância do servidor de relatório da implantação de expansão.</span><span class="sxs-lookup"><span data-stu-id="8af92-132">Use the `-r` argument to release the report server instance from the scale-out deployment.</span></span> <span data-ttu-id="8af92-133">O exemplo a seguir ilustra os argumentos que você deve especificar:</span><span class="sxs-lookup"><span data-stu-id="8af92-133">The following example illustrates the arguments you must specify:</span></span>  
  
    ```  
    rskeymgmt -r <installation ID>  
    ```  
  
 <span data-ttu-id="8af92-134">Essas etapas removem o servidor de relatório de uma implantação em expansão, mas não desinstalam a instância do [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] no servidor de relatório.</span><span class="sxs-lookup"><span data-stu-id="8af92-134">These steps remove the report server from a scale-out deployment, but they do not uninstall the [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] instance on the report server.</span></span> <span data-ttu-id="8af92-135">Depois de remover o servidor de relatório da implantação em expansão, você pode desinstalar o [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] do servidor de relatório se não precisar mais do [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] nesse servidor.</span><span class="sxs-lookup"><span data-stu-id="8af92-135">After you remove the report server from the scale-out deployment, you can uninstall [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] from the server if you no longer need [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] on that server.</span></span> <span data-ttu-id="8af92-136">Para obter informações, consulte [Desinstalar uma instância existente do SQL Server &#40;Instalação&#41;](../../sql-server/install/uninstall-an-existing-instance-of-sql-server-setup.md) nos Manuais online do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="8af92-136">For information, see [Uninstall an Existing Instance of SQL Server &#40;Setup&#41;](../../sql-server/install/uninstall-an-existing-instance-of-sql-server-setup.md) in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Books Online.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="8af92-137">Consulte Também</span><span class="sxs-lookup"><span data-stu-id="8af92-137">See Also</span></span>  
 <span data-ttu-id="8af92-138">[Configurar e gerenciar chaves de criptografia &#40;Configuration Manager SSRS&#41;](ssrs-encryption-keys-manage-encryption-keys.md) </span><span class="sxs-lookup"><span data-stu-id="8af92-138">[Configure and Manage Encryption Keys &#40;SSRS Configuration Manager&#41;](ssrs-encryption-keys-manage-encryption-keys.md) </span></span>  
 [<span data-ttu-id="8af92-139">Inicializar um servidor de relatório &#40; Configuration Manager do SSRS&#41;</span><span class="sxs-lookup"><span data-stu-id="8af92-139">Initialize a Report Server &#40;SSRS Configuration Manager&#41;</span></span>](ssrs-encryption-keys-initialize-a-report-server.md)  
  
  
