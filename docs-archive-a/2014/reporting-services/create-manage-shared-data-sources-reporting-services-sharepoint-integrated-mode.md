---
title: Criar e gerenciar fontes de dados compartilhadas (Reporting Services no modo integrado do SharePoint) | Microsoft Docs
ms.custom: ''
ms.date: 03/07/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: reporting-services-native
ms.topic: conceptual
helpviewer_keywords:
- SharePoint integration [Reporting Services], shared data sources
- shared data sources [Reporting Services]
ms.assetid: 2d3428e4-a810-4e66-a287-ff18e57fad76
author: maggiesMSFT
ms.author: maggies
manager: kfile
ms.openlocfilehash: 5eedb74dd5a24f40469b3ee6a4a24e97e6e59174
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87571334"
---
# <a name="create-and-manage-shared-data-sources-reporting-services-in-sharepoint-integrated-mode"></a><span data-ttu-id="4fdac-102">Criar e gerenciar fontes de dados compartilhadas (Reporting Services no modo integrado do SharePoint)</span><span class="sxs-lookup"><span data-stu-id="4fdac-102">Create and Manage Shared Data Sources (Reporting Services in SharePoint Integrated Mode)</span></span>
  <span data-ttu-id="4fdac-103">Ao executar um relatório a partir de uma biblioteca do SharePoint, as informações de conexão podem ser definidas no relatório ou em um arquivo externo vinculado ao relatório.</span><span class="sxs-lookup"><span data-stu-id="4fdac-103">When you run a report from a SharePoint library, connection information can be defined inside the report or in an external file that is linked to the report.</span></span> <span data-ttu-id="4fdac-104">Se as informações de conexão estiverem inseridas no relatório, ele será denominado uma fonte de dados personalizada.</span><span class="sxs-lookup"><span data-stu-id="4fdac-104">If the connection information is embedded within the report, it is called a custom data source.</span></span> <span data-ttu-id="4fdac-105">Se as informações de conexão estiverem definidas em um arquivo externo, ele será denominado uma fonte de dados compartilhados.</span><span class="sxs-lookup"><span data-stu-id="4fdac-105">If the connection information is defined in an external file, it is called a shared data source.</span></span> <span data-ttu-id="4fdac-106">O arquivo externo pode ser um arquivo de fonte de dados do servidor de relatório (.rsds) ou um arquivo de conexão de dados do Office (.odc).</span><span class="sxs-lookup"><span data-stu-id="4fdac-106">The external file can be a report server data source (.rsds) file or an Office Data Connection (.odc) file.</span></span>  
  
 <span data-ttu-id="4fdac-107">Um arquivo .rsds é semelhante a um arquivo .rds, mas tem um esquema diferente.</span><span class="sxs-lookup"><span data-stu-id="4fdac-107">An .rsds file is similar to an .rds file, but it has a different schema.</span></span> <span data-ttu-id="4fdac-108">Para criar um arquivo .rsds, você pode publicar um arquivo .rds do Designer de Relatórios ou do Designer de Modelo em uma biblioteca do SharePoint (um novo arquivo .rsds é criado a partir do arquivo .rds original).</span><span class="sxs-lookup"><span data-stu-id="4fdac-108">To create an .rsds file, you can publish an .rds from Report Designer or Model Designer to a SharePoint library (a new .rsds file is created from the original .rds file).</span></span> <span data-ttu-id="4fdac-109">Se preferir, você pode criar um novo arquivo em uma biblioteca em um site do SharePoint.</span><span class="sxs-lookup"><span data-stu-id="4fdac-109">Or, you can create a new file in a library on a SharePoint Site.</span></span>  
  
 <span data-ttu-id="4fdac-110">Após criar ou publicar uma fonte de dados compartilhada, você pode editar propriedades de conexão ou excluir o arquivo caso não seja mais utilizado.</span><span class="sxs-lookup"><span data-stu-id="4fdac-110">After you create or publish a shared data source, you can edit connection properties or delete the file if it is no longer used.</span></span> <span data-ttu-id="4fdac-111">Antes de excluir uma fonte de dados compartilhada, descubra se ela é usada por relatórios e modelos de relatório.</span><span class="sxs-lookup"><span data-stu-id="4fdac-111">Before you delete a shared data source, you should determine whether it is used by reports and report models.</span></span> <span data-ttu-id="4fdac-112">Para tal exiba itens dependentes que fazem referência à fonte de dados compartilhada.</span><span class="sxs-lookup"><span data-stu-id="4fdac-112">You can do this by viewing dependent items that reference the shared data source.</span></span>  
  
 <span data-ttu-id="4fdac-113">Embora a lista de itens dependentes informe se existe referência a uma fonte de dados compartilhada, ela não informa se o item está sendo usado ativamente.</span><span class="sxs-lookup"><span data-stu-id="4fdac-113">Although the list of dependent items tells you whether the shared data source is referenced, it does not tell you whether the item is actively used.</span></span> <span data-ttu-id="4fdac-114">Para descobrir se uma fonte de dados compartilhados ou um modelo está sendo usado ativamente, você pode revisar os arquivos de log no servidor de relatórios.</span><span class="sxs-lookup"><span data-stu-id="4fdac-114">To determine whether the shared data source or model is actively used, you can review the log files on the report server computer.</span></span> <span data-ttu-id="4fdac-115">Se você não tiver acesso aos arquivos de log ou se os arquivos não contiverem as informações desejadas, você poderá mover o relatório para uma pasta inacessível enquanto descobre seu status real.</span><span class="sxs-lookup"><span data-stu-id="4fdac-115">If you do not have access to the log files or if the files do not contain the information you want, consider moving the report to an inaccessible folder while you determine its actual status.</span></span>  
  
### <a name="to-create-a-shared-data-source-rsds-file-sharepoint-2010"></a><span data-ttu-id="4fdac-116">Para criar um arquivo .rsds (SharePoint 2010)</span><span class="sxs-lookup"><span data-stu-id="4fdac-116">To create a shared data source (.rsds) file (SharePoint 2010)</span></span>  
  
1.  <span data-ttu-id="4fdac-117">Clique na guia **Documentos** na faixa de opções da biblioteca.</span><span class="sxs-lookup"><span data-stu-id="4fdac-117">Click the **Documents** tab on the library ribbon.</span></span>  
  
2.  <span data-ttu-id="4fdac-118">No menu **Novo Documento** , clique em **Fonte de Dados de Relatório**</span><span class="sxs-lookup"><span data-stu-id="4fdac-118">On the **New Document** menu, click **Report Data Source**</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="4fdac-119">Caso você não veja o item **Fonte de Dados de Relatório** no menu, isso significa que o tipo de conteúdo da fonte de dados de relatório não foi habilitado.</span><span class="sxs-lookup"><span data-stu-id="4fdac-119">If you do not see the **Report Data Source** item on the menu, the report data source content type has not been enabled.</span></span> <span data-ttu-id="4fdac-120">Para obter mais informações, consulte [adicionar tipos de conteúdo do servidor de relatório a uma biblioteca &#40;Reporting Services no modo integrado do SharePoint&#41;](../../2014/reporting-services/add-reporting-services-content-types-to-a-sharepoint-library.md).</span><span class="sxs-lookup"><span data-stu-id="4fdac-120">For more information, see [Add Report Server Content Types to a Library &#40;Reporting Services in SharePoint Integrated Mode&#41;](../../2014/reporting-services/add-reporting-services-content-types-to-a-sharepoint-library.md).</span></span>  
  
3.  <span data-ttu-id="4fdac-121">Em **Nome**, insira um nome descritivo para o arquivo .rsds.</span><span class="sxs-lookup"><span data-stu-id="4fdac-121">In **Name**, enter a descriptive name for the .rsds file.</span></span>  
  
4.  <span data-ttu-id="4fdac-122">Em **Tipo de Fonte de Dados**, selecione o tipo de fonte de dados na lista.</span><span class="sxs-lookup"><span data-stu-id="4fdac-122">In **Data Source Type**, select the type of data source from the list.</span></span> <span data-ttu-id="4fdac-123">Para obter mais informações, consulte [Fontes de dados com suporte no Reporting Services &#40;SSRS&#41;](create-deploy-and-manage-mobile-and-paginated-reports.md).</span><span class="sxs-lookup"><span data-stu-id="4fdac-123">For more information, see [Data Sources Supported by Reporting Services &#40;SSRS&#41;](create-deploy-and-manage-mobile-and-paginated-reports.md).</span></span>  
  
5.  <span data-ttu-id="4fdac-124">Em **Cadeia de Conexão**, especifique um ponteiro para a fonte de dados e outras configurações necessárias para estabelecer uma conexão com a fonte de dados externa.</span><span class="sxs-lookup"><span data-stu-id="4fdac-124">In **Connection String**, specify a pointer to the data source and any other settings that are necessary for establishing a connection to the external data source.</span></span> <span data-ttu-id="4fdac-125">O tipo de fonte de dados usado determina a sintaxe da cadeia de caracteres de conexão.</span><span class="sxs-lookup"><span data-stu-id="4fdac-125">The type of data source you are using determines the syntax of the connection string.</span></span> <span data-ttu-id="4fdac-126">Para obter mais informações e exemplos, consulte [conexões de dados, fontes de dados e cadeias de conexão no Reporting Services](../../2014/reporting-services/data-connections-data-sources-and-connection-strings-in-reporting-services.md).</span><span class="sxs-lookup"><span data-stu-id="4fdac-126">For more information and examples, see [Data Connections, Data Sources, and Connection Strings in Reporting Services](../../2014/reporting-services/data-connections-data-sources-and-connection-strings-in-reporting-services.md).</span></span>  
  
6.  <span data-ttu-id="4fdac-127">Em **Credenciais**, especifique como o servidor de relatório obtém credenciais para acessar a fonte de dados externa.</span><span class="sxs-lookup"><span data-stu-id="4fdac-127">In **Credentials**, specify how the report server obtains credentials to access the external data source.</span></span> <span data-ttu-id="4fdac-128">Credenciais podem ser armazenadas, solicitadas, integradas ou configuradas para processamento autônomo do relatório.</span><span class="sxs-lookup"><span data-stu-id="4fdac-128">Credentials can be stored, prompted, integrated, or configured for unattended report processing.</span></span>  
  
    -   <span data-ttu-id="4fdac-129">Selecione **Autenticação do Windows (integrada)** se desejar acessar os dados usando as credenciais do usuário que abriu o relatório.</span><span class="sxs-lookup"><span data-stu-id="4fdac-129">Select **Windows authentication (integrated)** if you want to access the data using the credentials of the user who opened the report.</span></span> <span data-ttu-id="4fdac-130">Não selecione essa opção se o site ou farm do SharePoint utilizar autenticação de formulários ou se conectar com o servidor de relatório usando uma conta confiável.</span><span class="sxs-lookup"><span data-stu-id="4fdac-130">Do not select this option if the SharePoint site or farm uses forms authentication or connects to the report server through a trusted account.</span></span> <span data-ttu-id="4fdac-131">Não selecione essa opção se desejar agendar a assinatura ou o processamento de dados para esse relatório.</span><span class="sxs-lookup"><span data-stu-id="4fdac-131">Do not select this option if you want to schedule subscription or data processing for this report.</span></span> <span data-ttu-id="4fdac-132">Essa opção funciona melhor quando a autenticação Kerberos está habilitada para seu domínio ou quando a fonte de dados está no mesmo computador que o servidor de relatórios.</span><span class="sxs-lookup"><span data-stu-id="4fdac-132">This option works best when Kerberos authentication is enabled for your domain, or when the data source is on the same computer as the report server.</span></span> <span data-ttu-id="4fdac-133">Se a autenticação Kerberos não estiver habilitada, as credenciais do Windows poderão ser passadas apenas para outro computador.</span><span class="sxs-lookup"><span data-stu-id="4fdac-133">If Kerberos authentication is not enabled, Windows credentials can only be passed to one other computer.</span></span> <span data-ttu-id="4fdac-134">Isso significa que, se a fonte de dados externa estiver em outro computador, exigindo uma conexão adicional, você receberá uma mensagem de erro em vez dos dados esperados.</span><span class="sxs-lookup"><span data-stu-id="4fdac-134">This means that if the external data source is on another computer, requiring an additional connection, you will get an error instead of the data you expect.</span></span>  
  
    -   <span data-ttu-id="4fdac-135">Selecione **Prompt para credenciais** se quiser que o usuário insira suas credenciais sempre que executar o relatório.</span><span class="sxs-lookup"><span data-stu-id="4fdac-135">Select **Prompt for credentials** if you want the user to enter his or her credentials each time he or she runs the report.</span></span> <span data-ttu-id="4fdac-136">Não selecione essa opção se desejar agendar a assinatura ou o processamento de dados para esse relatório.</span><span class="sxs-lookup"><span data-stu-id="4fdac-136">Do not select this option if you want to schedule subscription or data processing for this report.</span></span>  
  
    -   <span data-ttu-id="4fdac-137">Selecione **Credenciais armazenadas** se quiser acessar os dados usando um único conjunto de credenciais.</span><span class="sxs-lookup"><span data-stu-id="4fdac-137">Select **Stored credentials** if you want to access the data using a single set of credentials.</span></span> <span data-ttu-id="4fdac-138">As credenciais são criptografadas antes de serem armazenadas.</span><span class="sxs-lookup"><span data-stu-id="4fdac-138">The credentials are encrypted before they are stored.</span></span> <span data-ttu-id="4fdac-139">Você pode selecionar opções que determinam como as credenciais armazenadas são autenticadas.</span><span class="sxs-lookup"><span data-stu-id="4fdac-139">You can select options that determine how the stored credentials are authenticated.</span></span> <span data-ttu-id="4fdac-140">Selecione Usar como credenciais do Windows se as credenciais armazenadas pertencerem a uma conta de usuário do Windows.</span><span class="sxs-lookup"><span data-stu-id="4fdac-140">Select Use as Windows credentials if the stored credentials belong to a Windows user account.</span></span> <span data-ttu-id="4fdac-141">Selecione **Definir o contexto de execução para esta conta** se desejar definir o contexto de execução no servidor de banco de dados.</span><span class="sxs-lookup"><span data-stu-id="4fdac-141">Select **Set execution context to this account** if you want to set the execution context on the database server.</span></span> <span data-ttu-id="4fdac-142">No caso de bancos de dados do [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] , essa opção define a função SETUSER.</span><span class="sxs-lookup"><span data-stu-id="4fdac-142">For [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] databases, this option sets the SETUSER function.</span></span> <span data-ttu-id="4fdac-143">Para obter mais informações, consulte [SETUSER &#40;Transact-SQL&#41;](/sql/t-sql/statements/setuser-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="4fdac-143">For more information, see [SETUSER &#40;Transact-SQL&#41;](/sql/t-sql/statements/setuser-transact-sql).</span></span>  
  
    -   <span data-ttu-id="4fdac-144">Selecione **Não são necessárias credenciais** se quiser especificar credenciais na cadeia de conexão ou se quiser executar o relatório usando uma conta de privilégios mínimos configurada no servidor de relatório.</span><span class="sxs-lookup"><span data-stu-id="4fdac-144">Select **Credentials are not required** if you want to specify credentials in the connection string, or if you want to run the report using a least-privilege account that is configured on the report server.</span></span> <span data-ttu-id="4fdac-145">Se essa conta não estiver configurada no servidor de relatório, os usuários serão solicitados a fornecer suas credenciais, e as operações agendadas que você definir para o relatório não serão executadas.</span><span class="sxs-lookup"><span data-stu-id="4fdac-145">If this account is not configured on the report server, users will be prompted for credentials and any scheduled operations that you define for the report will not run.</span></span>  
  
7.  <span data-ttu-id="4fdac-146">Selecione **Habilitar esta fonte de dados** se desejar que a fonte de dados esteja ativa.</span><span class="sxs-lookup"><span data-stu-id="4fdac-146">Select **Enable this data source** if you want the data source to be active.</span></span> <span data-ttu-id="4fdac-147">Se a fonte de dados estiver configurada mas não ativa, os usuários verão uma mensagem de erro quando tentarem usar um relatório com base na fonte de dados.</span><span class="sxs-lookup"><span data-stu-id="4fdac-147">If the data source is configured but not active, users will see an error message when they attempt to use a report based on the data source.</span></span>  
  
8.  <span data-ttu-id="4fdac-148">Clique no botão **Testar Conexão** para validar a configuração da fonte de dados.</span><span class="sxs-lookup"><span data-stu-id="4fdac-148">Click the **Test Connection** button to validate the data source configuration.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="4fdac-149">O botão Testar Conexão não tem suporte para o tipo de fonte de dados XML.</span><span class="sxs-lookup"><span data-stu-id="4fdac-149">The Test Connection button is not supported for the XML data source type.</span></span>  
  
9. <span data-ttu-id="4fdac-150">Clique em **OK** para salvar e criar a fonte de dados compartilhada.</span><span class="sxs-lookup"><span data-stu-id="4fdac-150">Click **OK** to save create the shared data source.</span></span>  
  
### <a name="to-view-dependent-items"></a><span data-ttu-id="4fdac-151">Para exibir itens dependentes</span><span class="sxs-lookup"><span data-stu-id="4fdac-151">To view dependent items</span></span>  
  
1.  <span data-ttu-id="4fdac-152">Abra a biblioteca que contém o arquivo .rsds.</span><span class="sxs-lookup"><span data-stu-id="4fdac-152">Open the library that contains the .rsds file.</span></span>  
  
2.  <span data-ttu-id="4fdac-153">Aponte para a fonte de dados compartilhada.</span><span class="sxs-lookup"><span data-stu-id="4fdac-153">Point to the shared data source.</span></span>  
  
3.  <span data-ttu-id="4fdac-154">Clique para exibir uma seta para baixo e selecione **Exibir Itens Dependentes**.</span><span class="sxs-lookup"><span data-stu-id="4fdac-154">Click to display a down arrow, and select **View Dependent Items**.</span></span>  
  
     <span data-ttu-id="4fdac-155">No caso de modelos de relatórios, a lista de itens dependentes mostra os relatórios criados no Construtor de Relatórios.</span><span class="sxs-lookup"><span data-stu-id="4fdac-155">For report models, the list of dependent items shows the reports that were created in Report Builder.</span></span> <span data-ttu-id="4fdac-156">No caso de fontes de dados compartilhadas, a lista de itens dependentes pode incluir relatórios e modelos de relatório.</span><span class="sxs-lookup"><span data-stu-id="4fdac-156">For shared data sources, the dependent items list can include both reports and report models.</span></span>  
  
### <a name="to-delete-a-shared-data-source-rsds-file"></a><span data-ttu-id="4fdac-157">Para excluir um arquivo da fonte de dados compartilhada (.rsds)</span><span class="sxs-lookup"><span data-stu-id="4fdac-157">To delete a shared data source (.rsds) file</span></span>  
  
1.  <span data-ttu-id="4fdac-158">Abra a biblioteca que contém o arquivo .rsds.</span><span class="sxs-lookup"><span data-stu-id="4fdac-158">Open the library that contains the .rsds file.</span></span>  
  
2.  <span data-ttu-id="4fdac-159">Aponte para a fonte de dados compartilhada.</span><span class="sxs-lookup"><span data-stu-id="4fdac-159">Point to the shared data source.</span></span>  
  
3.  <span data-ttu-id="4fdac-160">Clique para exibir uma seta para baixo e clique em **Excluir**.</span><span class="sxs-lookup"><span data-stu-id="4fdac-160">Click to display a down arrow, and click **Delete**.</span></span>  
  
 <span data-ttu-id="4fdac-161">Se, por engano, você excluir uma fonte de dados compartilhada que pretendia manter, crie uma nova fonte de dados que contenha as mesmas informações de conexão.</span><span class="sxs-lookup"><span data-stu-id="4fdac-161">If you mistakenly delete a shared data source that you meant to keep, you can create a new one that contains the same connection information.</span></span> <span data-ttu-id="4fdac-162">Depois de recriar a fonte de dados compartilhada, você deve abrir cada relatório e cada modelo que usava essa fonte de dados e selecionar a fonte de dados compartilhada.</span><span class="sxs-lookup"><span data-stu-id="4fdac-162">After you recreate the shared data source, you must open each report and model that used that data source and select the shared data source.</span></span> <span data-ttu-id="4fdac-163">O novo item da fonte de dados compartilhada pode ter nome, credenciais ou sintaxe de cadeia de caracteres de conexão diferentes daquele que foi excluído.</span><span class="sxs-lookup"><span data-stu-id="4fdac-163">The new shared data source item can have a different name, credentials, or connection string syntax from the one you delete.</span></span> <span data-ttu-id="4fdac-164">Desde que a conexão leve à mesma fonte de dados, as propriedades de conexão podem variar em relação aos valores originais.</span><span class="sxs-lookup"><span data-stu-id="4fdac-164">As long as the connection resolves to the same data source, data source properties can vary from the original values.</span></span>  
  
 <span data-ttu-id="4fdac-165">Tenha cuidado ao excluir um modelo de relatório.</span><span class="sxs-lookup"><span data-stu-id="4fdac-165">Use caution when deleting a report model.</span></span> <span data-ttu-id="4fdac-166">Se você excluir um modelo, não será mais possível abrir e modificar relatórios baseados nesse modelo no Construtor de Relatórios.</span><span class="sxs-lookup"><span data-stu-id="4fdac-166">If you delete a model, you can no longer open and modify any reports that are based on that model in Report Builder.</span></span> <span data-ttu-id="4fdac-167">Se você excluir por engano um modelo usado por relatórios existentes, será preciso gerar novamente o modelo, recriar e salvar os relatórios que usam o modelo e especificar novamente a segurança de todos os itens do modelo que deseje usar.</span><span class="sxs-lookup"><span data-stu-id="4fdac-167">If you inadvertently delete a model that is used by existing reports, you must regenerate the model, re-create and save any reports that use the model, and re-specify any model item security that you want to use.</span></span> <span data-ttu-id="4fdac-168">Você não pode simplesmente gerar o modelo de novo e, em seguida, anexá-lo a um relatório existente.</span><span class="sxs-lookup"><span data-stu-id="4fdac-168">You cannot simply regenerate the model and then attach it to an existing report.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="4fdac-169">Consulte Também</span><span class="sxs-lookup"><span data-stu-id="4fdac-169">See Also</span></span>  
 [<span data-ttu-id="4fdac-170">Especificar informações de credenciais e de conexão para fontes de dados de relatório</span><span class="sxs-lookup"><span data-stu-id="4fdac-170">Specify Credential and Connection Information for Report Data Sources</span></span>](report-data/specify-credential-and-connection-information-for-report-data-sources.md)  
  
  
