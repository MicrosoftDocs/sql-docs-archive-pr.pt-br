---
title: Armazenando relatórios em cache (SSRS) | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: reporting-services-native
ms.topic: conceptual
helpviewer_keywords:
- report execution properties [Reporting Services]
- cache [Reporting Services]
- report processing [Reporting Services], caching
- cached instances [Reporting Services]
- refreshing cache
- cached reports [Reporting Services]
- preloading cache
- invalid cached reports [Reporting Services]
- performance [Reporting Services]
- expiration [Reporting Services]
- snapshots [Reporting Services], caching
ms.assetid: 146542c3-8efd-4b89-a8d8-77d22896630e
author: maggiesMSFT
ms.author: maggies
manager: kfile
ms.openlocfilehash: e1af19dd3848ba39f91c2fc640a57ca53c35a4fb
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87575616"
---
# <a name="caching-reports-ssrs"></a><span data-ttu-id="ec688-102">Armazenando relatórios em cache (SSRS)</span><span class="sxs-lookup"><span data-stu-id="ec688-102">Caching Reports (SSRS)</span></span>
  <span data-ttu-id="ec688-103">Um servidor de relatório pode armazenar em cache uma cópia de um relatório processado e devolvê-la quando um usuário abrir o relatório.</span><span class="sxs-lookup"><span data-stu-id="ec688-103">A report server can cache a copy of a processed report and return that copy when a user opens the report.</span></span> <span data-ttu-id="ec688-104">Para o usuário, a única evidência disponível indicativa de que o relatório é uma cópia armazenada em cache são os dados de data e hora de processamento do relatório.</span><span class="sxs-lookup"><span data-stu-id="ec688-104">To a user, the only evidence available to indicate the report is a cached copy is the date and time that the report ran.</span></span> <span data-ttu-id="ec688-105">Se a data ou a hora não for atual e o relatório não for um instantâneo, ele terá sido recuperado do cache.</span><span class="sxs-lookup"><span data-stu-id="ec688-105">If the date or time is not current and the report is not a snapshot, the report was retrieved from cache.</span></span>  
  
 <span data-ttu-id="ec688-106">O armazenamento em cache pode diminuir o tempo necessário para recuperar um relatório, caso ele seja grande ou acessado frequentemente.</span><span class="sxs-lookup"><span data-stu-id="ec688-106">Caching can shorten the time required to retrieve a report if the report is large or accessed frequently.</span></span> <span data-ttu-id="ec688-107">Se o servidor for reinicializado, todas as instâncias armazenadas em cache serão reintegradas quando o serviço da Web do Servidor de Relatório ficar online.</span><span class="sxs-lookup"><span data-stu-id="ec688-107">If the server is rebooted, all cached instances are reinstated when the Report Server Web service comes back online.</span></span>  
  
 <span data-ttu-id="ec688-108">O armazenamento em cache é uma técnica de aprimoramento de desempenho.</span><span class="sxs-lookup"><span data-stu-id="ec688-108">Caching is a performance-enhancement technique.</span></span> <span data-ttu-id="ec688-109">O conteúdo do cache é volátil e pode mudar à medida que relatórios são adicionados, substituídos ou removidos.</span><span class="sxs-lookup"><span data-stu-id="ec688-109">The contents of the cache are volatile and can change as reports are added, replaced, or removed.</span></span> <span data-ttu-id="ec688-110">Se for necessária uma estratégia mais previsível de armazenamento em cache, você deverá criar um instantâneo de relatório.</span><span class="sxs-lookup"><span data-stu-id="ec688-110">If you require a more predictable caching strategy, you should create a report snapshot.</span></span> <span data-ttu-id="ec688-111">Para obter mais informações, consulte [Definir as propriedades do processamento de relatórios](set-report-processing-properties.md).</span><span class="sxs-lookup"><span data-stu-id="ec688-111">For more information, see [Set Report Processing Properties](set-report-processing-properties.md).</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="ec688-112">O [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] armazena arquivos temporários em um banco de dados para dar suporte a sessões de usuário e processamento de relatório.</span><span class="sxs-lookup"><span data-stu-id="ec688-112">[!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] stores temporary files in a database to support user sessions and report processing.</span></span> <span data-ttu-id="ec688-113">Esses arquivos são armazenados em cache para uso interno e para oferecer suporte a uma experiência de visualização consistente durante uma única sessão de navegador.</span><span class="sxs-lookup"><span data-stu-id="ec688-113">These files are cached for internal use and to support a consistent viewing experience during a single browser session.</span></span> <span data-ttu-id="ec688-114">Para obter mais informações sobre como os arquivos temporários de uso interno são armazenados em cache, consulte [Banco de dados do servidor de relatório &#40;modo nativo do SSRS&#41;](report-server-database-ssrs-native-mode.md).</span><span class="sxs-lookup"><span data-stu-id="ec688-114">For more information about how internal-use temporary files are cached, see [Report Server Database &#40;SSRS Native Mode&#41;](report-server-database-ssrs-native-mode.md).</span></span>  
  
## <a name="cached-instances"></a><span data-ttu-id="ec688-115">Instâncias armazenadas em cache</span><span class="sxs-lookup"><span data-stu-id="ec688-115">Cached Instances</span></span>  
 <span data-ttu-id="ec688-116">Uma instância armazenada em cache de um relatório baseia-se no formato intermediário de um relatório.</span><span class="sxs-lookup"><span data-stu-id="ec688-116">A cached instance of a report is based on the intermediate format of a report.</span></span> <span data-ttu-id="ec688-117">O servidor de relatório geralmente armazena em cache uma instância de um relatório com base no nome de relatório.</span><span class="sxs-lookup"><span data-stu-id="ec688-117">The report server generally caches one instance of a report based on the report name.</span></span> <span data-ttu-id="ec688-118">No entanto, se um relatório puder conter dados diferentes com base nos parâmetros de consulta, várias versões do relatório poderão ser armazenadas em cache em um determinado momento.</span><span class="sxs-lookup"><span data-stu-id="ec688-118">However, if a report can contain different data based on query parameters, multiple versions of the report may be cached at any given time.</span></span> <span data-ttu-id="ec688-119">Por exemplo, suponha que você tem um relatório com parâmetros que assume um código de região como um valor de parâmetro.</span><span class="sxs-lookup"><span data-stu-id="ec688-119">For example, suppose you have a parameterized report that takes a region code as a parameter value.</span></span> <span data-ttu-id="ec688-120">Se quatro usuários diferentes especificarem quatro códigos de região exclusivos, serão criadas quatro cópias armazenadas em cache.</span><span class="sxs-lookup"><span data-stu-id="ec688-120">If four different users specify four unique region codes, four cached copies are created.</span></span>  
  
 <span data-ttu-id="ec688-121">O primeiro usuário que executar o relatório com um único código de região cria um relatório armazenado em cache que contém dados para essa região.</span><span class="sxs-lookup"><span data-stu-id="ec688-121">The first user who runs the report with a unique region code creates a cached report that contains data for that region.</span></span> <span data-ttu-id="ec688-122">Usuários subsequentes que solicitam o relatório usando o mesmo código de região obtêm a cópia armazenada em cache.</span><span class="sxs-lookup"><span data-stu-id="ec688-122">Subsequent users who request the report using the same region code get the cached copy.</span></span>  
  
 <span data-ttu-id="ec688-123">Nem todos os relatórios podem ser armazenados em cache.</span><span class="sxs-lookup"><span data-stu-id="ec688-123">Not all reports can be cached.</span></span> <span data-ttu-id="ec688-124">Se um relatório incluir dados que dependem do usuário, ele solicitará aos usuários as credenciais ou usará a Autenticação do Windows, ele não poderá ser armazenado em cache.</span><span class="sxs-lookup"><span data-stu-id="ec688-124">If a report includes user-dependent data, prompts users for credentials, or uses Windows Authentication, it cannot be cached.</span></span>  
  
## <a name="refreshing-the-cache"></a><span data-ttu-id="ec688-125">Atualizando o cache</span><span class="sxs-lookup"><span data-stu-id="ec688-125">Refreshing the Cache</span></span>  
 <span data-ttu-id="ec688-126">Um relatório armazenado em cache é substituído por uma versão mais nova quando um usuário o seleciona após a expiração da cópia anteriormente armazenada em cache.</span><span class="sxs-lookup"><span data-stu-id="ec688-126">A cached report is replaced with a newer version when a user selects the report after the previously cached copy has expired.</span></span> <span data-ttu-id="ec688-127">Os relatórios configurados para execução como instâncias armazenadas em cache são removidos do cache em intervalos com base nas configurações de expiração.</span><span class="sxs-lookup"><span data-stu-id="ec688-127">Reports that are configured to run as cached instances are removed from the cache at regular intervals based on expiration settings.</span></span> <span data-ttu-id="ec688-128">Você pode definir a expiração de um relatório em minutos ou em um horário agendado, conforme determinado pela condição de necessidade imediata dos dados.</span><span class="sxs-lookup"><span data-stu-id="ec688-128">You can set a report's expiration in minutes or at a scheduled time, as determined by the data's immediacy requirement.</span></span> <span data-ttu-id="ec688-129">Não é possível excluir relatórios do cache diretamente, a menos que você use a API SOAP.</span><span class="sxs-lookup"><span data-stu-id="ec688-129">You cannot delete reports from the cache directly unless you use the SOAP API.</span></span>  
  
 <span data-ttu-id="ec688-130">Para configurar a expiração de cache, você pode usar uma agenda compartilhada ou específica do relatório.</span><span class="sxs-lookup"><span data-stu-id="ec688-130">To configure cache expiration, you can use a shared schedule or report-specific schedule.</span></span> <span data-ttu-id="ec688-131">Se você usar uma agenda compartilhada e ela sofrer pausa subsequente, o cache não expirará enquanto a agenda estiver inoperante.</span><span class="sxs-lookup"><span data-stu-id="ec688-131">If you use a shared schedule and it is subsequently paused, the cache does not expire while the schedule is inoperative.</span></span> <span data-ttu-id="ec688-132">Se a agenda compartilhada for excluída em seguida, terá uma cópia salva como agenda específica do relatório.</span><span class="sxs-lookup"><span data-stu-id="ec688-132">If the shared schedule is subsequently deleted, a copy of the schedule settings is saved as a report-specific schedule.</span></span>  
  
 <span data-ttu-id="ec688-133">Se uma agenda expirar ou se o mecanismo de agendamento não estiver disponível em uma data de expiração de cache, o servidor de relatório executará um relatório dinâmico até que as operações agendadas possam ser retomadas (estendendo a agenda ou iniciando o serviço de agendamento).</span><span class="sxs-lookup"><span data-stu-id="ec688-133">If a schedule expires or if the scheduling engine is unavailable at a cache expiration date, the report server runs a live report until scheduled operations can be resumed (by either extending the schedule or starting the scheduling service).</span></span>  
  
## <a name="preloading-the-cache"></a><span data-ttu-id="ec688-134">Pré-carregando o cache</span><span class="sxs-lookup"><span data-stu-id="ec688-134">Preloading the Cache</span></span>  
 <span data-ttu-id="ec688-135">Para melhorar o desempenho do servidor, você pode pré-carregar o cache.</span><span class="sxs-lookup"><span data-stu-id="ec688-135">To improve server performance, you can preload the cache.</span></span> <span data-ttu-id="ec688-136">Você pode pré-carregar o cache com uma coleção de instâncias de relatório parametrizadas de duas maneiras:</span><span class="sxs-lookup"><span data-stu-id="ec688-136">You can preload the cache with a collection of parameterized report instances in two ways:</span></span>  
  
1.  <span data-ttu-id="ec688-137">Crie um plano de atualização de cache.</span><span class="sxs-lookup"><span data-stu-id="ec688-137">Create a cache refresh plan.</span></span> <span data-ttu-id="ec688-138">Quando você cria um plano de atualização, pode especificar uma agenda para um único relatório ou pode especificar uma agenda compartilhada.</span><span class="sxs-lookup"><span data-stu-id="ec688-138">When you create a refresh plan, you can specify a schedule for a single report or specify a shared schedule.</span></span>  
  
2.  <span data-ttu-id="ec688-139">Crie uma assinatura controlada por dados que usa o Provedor de Entrega Nulo.</span><span class="sxs-lookup"><span data-stu-id="ec688-139">Create a data-driven subscription that uses the Null Delivery Provider.</span></span> <span data-ttu-id="ec688-140">Quando você especificar o Provedor de Entrega Nulo como método de entrega na assinatura, o servidor de relatório apontará o banco de dados do servidor de relatório como o destino de entrega e usará uma extensão de renderização especializada chamada de extensão de renderização nula.</span><span class="sxs-lookup"><span data-stu-id="ec688-140">When you specify the Null Delivery Provider as the method of delivery in the subscription, the report server targets the report server database as the delivery destination and uses a specialized rendering extension called the null rendering extension.</span></span> <span data-ttu-id="ec688-141">Em comparação com outras extensões de entrega, o Provedor de Entrega Nulo não tem configurações de entrega que podem ser configuradas por uma definição de assinatura.</span><span class="sxs-lookup"><span data-stu-id="ec688-141">In contrast with other delivery extensions, the Null Delivery Provider does not have delivery settings that you can configure through a subscription definition.</span></span>  
  
 <span data-ttu-id="ec688-142">Armazenar um relatório em cache é especialmente útil se você deseja armazenar em cache múltiplas instâncias de um relatório parametrizado, em que diferentes valores de parâmetro são usados para produzir diferentes instâncias de relatório.</span><span class="sxs-lookup"><span data-stu-id="ec688-142">Caching a report is especially useful if you want to cache multiple instances of a parameterized report where different parameter values are used to produce different report instances.</span></span> <span data-ttu-id="ec688-143">Observe que você só pode especificar parâmetros com base em consultas no relatório.</span><span class="sxs-lookup"><span data-stu-id="ec688-143">Note that you can only specify query-based parameters on the report.</span></span>  
  
 <span data-ttu-id="ec688-144">Ao especificar uma agenda ou criar uma assinatura controlada por dados, você agenda a frequência de entrega desses relatórios ao cache.</span><span class="sxs-lookup"><span data-stu-id="ec688-144">When you specify a schedule or when you create the data-driven subscription, you schedule how often the reports are delivered to the cache.</span></span> <span data-ttu-id="ec688-145">Para que cópias novas sejam entregues ao cache, as cópias antigas devem ter expirado.</span><span class="sxs-lookup"><span data-stu-id="ec688-145">In order for new copies to be delivered to the cache, the old copies must have expired.</span></span> <span data-ttu-id="ec688-146">Portanto, as propriedades de Execução do relatório devem ser configuradas para incluir as configurações de expiração de cache.</span><span class="sxs-lookup"><span data-stu-id="ec688-146">Therefore, the Execution properties of the report must be configured to include cache expiration settings.</span></span> <span data-ttu-id="ec688-147">A configuração de expiração deve ser consistente com a agenda de assinatura definida.</span><span class="sxs-lookup"><span data-stu-id="ec688-147">The expiration setting must be consistent with the subscription schedule that you define.</span></span> <span data-ttu-id="ec688-148">Por exemplo, se você criar uma assinatura que é executada todas as noites, o cache também deverá expirar todas as noites antes do tempo de execução da assinatura.</span><span class="sxs-lookup"><span data-stu-id="ec688-148">For example, if you create a subscription that runs every night, the cache should also expire every night prior to the subscription's run time.</span></span> <span data-ttu-id="ec688-149">Se as propriedades de Execução não incluírem momentos de expiração, novas entregas serão desconsideradas.</span><span class="sxs-lookup"><span data-stu-id="ec688-149">If the Execution properties do not include expiration times, newer deliveries are disregarded.</span></span> <span data-ttu-id="ec688-150">Para obter mais informações sobre planos de atualização de cache, consulte [Agendamentos](../subscriptions/schedules.md).</span><span class="sxs-lookup"><span data-stu-id="ec688-150">For more information about cache refresh plans, see [Schedules](../subscriptions/schedules.md).</span></span> <span data-ttu-id="ec688-151">Para obter mais informações sobre como definir as propriedades, consulte [Definir as propriedades do processamento de relatórios](set-report-processing-properties.md).</span><span class="sxs-lookup"><span data-stu-id="ec688-151">For more information about setting properties, see [Set Report Processing Properties](set-report-processing-properties.md).</span></span> <span data-ttu-id="ec688-152">Para obter mais informações sobre o uso de assinaturas controladas por dados, consulte [Assinaturas controladas por dados](../subscriptions/data-driven-subscriptions.md).</span><span class="sxs-lookup"><span data-stu-id="ec688-152">For more information about using data-driven subscriptions, see [Data-Driven Subscriptions](../subscriptions/data-driven-subscriptions.md).</span></span>  
  
## <a name="conditions-that-cause-cache-expiration"></a><span data-ttu-id="ec688-153">Condições que causam a expiração de cache</span><span class="sxs-lookup"><span data-stu-id="ec688-153">Conditions That Cause Cache Expiration</span></span>  
 <span data-ttu-id="ec688-154">Um relatório armazenado em cache é invalidado em resposta aos seguintes eventos: a definição do relatório é modificada, os parâmetros do relatório são modificados, as credenciais de fonte de dados mudam ou as opções de execução do relatório mudam.</span><span class="sxs-lookup"><span data-stu-id="ec688-154">A cached report is invalidated in response to the following events: the report definition is modified, report parameters are modified, data source credentials change, or report execution options change.</span></span> <span data-ttu-id="ec688-155">Se você excluir um relatório armazenado em cache, a versão armazenada também será excluída.</span><span class="sxs-lookup"><span data-stu-id="ec688-155">If you delete a report that is stored in the cache, the cached version is also deleted.</span></span>  
  
 <span data-ttu-id="ec688-156">Se um relatório não puder ser processado a partir de uma instância armazenada em cache por qualquer motivo (por exemplo, se os valores de parâmetro que um usuário especifica forem diferentes daqueles usados para produzir o relatório armazenado em cache), o servidor de relatório executará novamente o relatório.</span><span class="sxs-lookup"><span data-stu-id="ec688-156">If a report cannot be rendered from a cached instance for any reason (for example, if the parameter values that a user specifies are different from those used to produce the cached report), the report server reruns the report.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="ec688-157">Consulte Também</span><span class="sxs-lookup"><span data-stu-id="ec688-157">See Also</span></span>  
 <span data-ttu-id="ec688-158">[Definir opções de processamento &#40;Reporting Services no modo integrado do SharePoint&#41;](../set-processing-options-reporting-services-in-sharepoint-integrated-mode.md) </span><span class="sxs-lookup"><span data-stu-id="ec688-158">[Set Processing Options &#40;Reporting Services in SharePoint Integrated Mode&#41;](../set-processing-options-reporting-services-in-sharepoint-integrated-mode.md) </span></span>  
 <span data-ttu-id="ec688-159">[Definir as propriedades do processamento de relatórios](set-report-processing-properties.md) </span><span class="sxs-lookup"><span data-stu-id="ec688-159">[Set Report Processing Properties](set-report-processing-properties.md) </span></span>  
 <span data-ttu-id="ec688-160">[Conceitos do Reporting Services &#40;SSRS&#41;](../reporting-services-concepts-ssrs.md) </span><span class="sxs-lookup"><span data-stu-id="ec688-160">[Reporting Services Concepts &#40;SSRS&#41;](../reporting-services-concepts-ssrs.md) </span></span>  
 <span data-ttu-id="ec688-161">[Pré-carregar o cache &#40;Report Manager&#41;](preload-the-cache-report-manager.md) </span><span class="sxs-lookup"><span data-stu-id="ec688-161">[Preload the Cache &#40;Report Manager&#41;](preload-the-cache-report-manager.md) </span></span>  
 <span data-ttu-id="ec688-162">[Agendas](../subscriptions/schedules.md) </span><span class="sxs-lookup"><span data-stu-id="ec688-162">[Schedules](../subscriptions/schedules.md) </span></span>  
 <span data-ttu-id="ec688-163">[Conjuntos de &#40;de armazenamento compartilhados do cache&#41;SSRS](cache-shared-datasets-ssrs.md) </span><span class="sxs-lookup"><span data-stu-id="ec688-163">[Cache Shared Datasets &#40;SSRS&#41;](cache-shared-datasets-ssrs.md) </span></span>  
 [<span data-ttu-id="ec688-164">Opções de atualização do cache &#40;Gerenciador de Relatórios&#41;</span><span class="sxs-lookup"><span data-stu-id="ec688-164">Cache Refresh Options &#40;Report Manager&#41;</span></span>](../cache-refresh-options-report-manager.md)  
  
  
