---
title: Modo de exibição de Design do conjunto de dados compartilhado (Construtor de Relatórios) | Microsoft Docs
ms.custom: ''
ms.date: 04/27/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: reporting-services-native
ms.topic: conceptual
ms.assetid: 47c502da-d163-45d9-bf04-0849e5ba7929
author: maggiesMSFT
ms.author: maggies
manager: kfile
ms.openlocfilehash: 4a3c34b984ab3aca5bbd6313d088695f22ef2255
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87571318"
---
# <a name="shared-dataset-design-view-report-builder"></a><span data-ttu-id="73bab-102">Exibição do design de conjunto de dados compartilhados (Construtor de Relatórios)</span><span class="sxs-lookup"><span data-stu-id="73bab-102">Shared Dataset Design View (Report Builder)</span></span>
  <span data-ttu-id="73bab-103">A janela Design do Conjunto de Dados Compartilhado ajuda a criar uma consulta de conjunto de dados que você pode compartilhar com os outros.</span><span class="sxs-lookup"><span data-stu-id="73bab-103">The Shared Dataset Design window helps you create a dataset query that you can share with others.</span></span> <span data-ttu-id="73bab-104">A janela permite selecionar uma fonte de dados compartilhada, especificar propriedades para o conjunto de dados compartilhado e criar uma consulta no designer de consulta.</span><span class="sxs-lookup"><span data-stu-id="73bab-104">The window lets you select a shared data source, specify properties for the shared dataset, and create a query in the query designer.</span></span>  
  
 <span data-ttu-id="73bab-105">![rs_SharedDatasetDesignMode](../media/rs-shareddatasetdesignmode.gif "rs_SharedDatasetDesignMode")</span><span class="sxs-lookup"><span data-stu-id="73bab-105">![rs_SharedDatasetDesignMode](../media/rs-shareddatasetdesignmode.gif "rs_SharedDatasetDesignMode")</span></span>  
  
 <span data-ttu-id="73bab-106">Para obter mais informações sobre como trabalhar com dados em um relatório, consulte [Adicionar dados a um relatório &#40;Construtor de relatórios e SSRS&#41;](../report-data/report-datasets-ssrs.md).</span><span class="sxs-lookup"><span data-stu-id="73bab-106">For more information about working with data in a report, see [Add Data to a Report &#40;Report Builder and SSRS&#41;](../report-data/report-datasets-ssrs.md).</span></span>  
  
##  <a name="the-ribbon"></a><a name="Ribbon"></a><span data-ttu-id="73bab-107">A faixa de faixas</span><span class="sxs-lookup"><span data-stu-id="73bab-107">The Ribbon</span></span>  
 <span data-ttu-id="73bab-108">A Faixa de Opções o ajuda a localizar os comandos de que você precisa para executar uma tarefa.</span><span class="sxs-lookup"><span data-stu-id="73bab-108">The Ribbon helps you quickly find the commands that you need to complete a task.</span></span> <span data-ttu-id="73bab-109">Os comandos são organizados nos seguintes grupos lógicos: Conexão, Conjunto de Dados e Designer de Consulta.</span><span class="sxs-lookup"><span data-stu-id="73bab-109">Commands are organized into the following logical groups: Connection, Dataset, and Query Designer.</span></span>  
  
### <a name="connection"></a><span data-ttu-id="73bab-110">Conexão</span><span class="sxs-lookup"><span data-stu-id="73bab-110">Connection</span></span>  
 <span data-ttu-id="73bab-111">Use o botão **Selecionar** no grupo Conexão para selecionar uma fonte de dados compartilhada no relatório ou navegar até uma fonte de dados compartilhada no servidor de relatório.</span><span class="sxs-lookup"><span data-stu-id="73bab-111">Use the **Select** button in the Connection group to select a shared data source in your report, or browse to a shared data source on the report server.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="73bab-112">Um conjunto de dados compartilhado deve ser baseado em uma fonte de dados compartilhada.</span><span class="sxs-lookup"><span data-stu-id="73bab-112">A shared dataset must be based on a shared data source.</span></span> <span data-ttu-id="73bab-113">Se a fonte de dados da que você precisa não estiver disponível, você deve criar uma no servidor de relatório.</span><span class="sxs-lookup"><span data-stu-id="73bab-113">If the data source that you need is not available, you must create one on the report server.</span></span> <span data-ttu-id="73bab-114">Para obter mais informações, consulte [criar, excluir ou modificar uma fonte de dados compartilhada &#40;Report Manager&#41;](../create-delete-or-modify-a-shared-data-source-report-manager.md) na documentação do Reporting Services nos [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] [manuais online](https://go.microsoft.com/fwlink/?linkid=121312)do.</span><span class="sxs-lookup"><span data-stu-id="73bab-114">For more information, see [Create, Delete, or Modify a Shared Data Source &#40;Report Manager&#41;](../create-delete-or-modify-a-shared-data-source-report-manager.md) in the Reporting Services documentation in [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)][Books Online](https://go.microsoft.com/fwlink/?linkid=121312).</span></span>  
  
 <span data-ttu-id="73bab-115">Para obter mais informações, consulte [Conexões de dados, fontes de dados e cadeias de conexão](../data-connections-data-sources-and-connection-strings-in-report-builder.md).</span><span class="sxs-lookup"><span data-stu-id="73bab-115">For more information, see [Data Connections, Data Sources, and Connection Strings in Report Builder](../data-connections-data-sources-and-connection-strings-in-report-builder.md).</span></span>  
  
### <a name="dataset"></a><span data-ttu-id="73bab-116">Conjunto de dados</span><span class="sxs-lookup"><span data-stu-id="73bab-116">Dataset</span></span>  
 <span data-ttu-id="73bab-117">Use o botão **Definir Opções** para definir propriedades de conjunto de dados compartilhadas.</span><span class="sxs-lookup"><span data-stu-id="73bab-117">Use the **Set Options** button to set shared dataset properties.</span></span> <span data-ttu-id="73bab-118">Entre elas estão as seguintes:</span><span class="sxs-lookup"><span data-stu-id="73bab-118">These include the following:</span></span>  
  
-   <span data-ttu-id="73bab-119">Campos.</span><span class="sxs-lookup"><span data-stu-id="73bab-119">Fields.</span></span> <span data-ttu-id="73bab-120">Você pode adicionar ou editar um campo na coleção de campos.</span><span class="sxs-lookup"><span data-stu-id="73bab-120">You can add a field or edit a field in the field collection.</span></span>  
  
-   <span data-ttu-id="73bab-121">Opções de dados.</span><span class="sxs-lookup"><span data-stu-id="73bab-121">Data options.</span></span> <span data-ttu-id="73bab-122">Você pode definir opções que afetam os critérios de correspondência e a ordem de classificação, como diferenciar maiúsculas de minúsculas e ordenação.</span><span class="sxs-lookup"><span data-stu-id="73bab-122">You can set options that affect match criteria and sort order, such as case sensitivity and collation.</span></span>  
  
-   <span data-ttu-id="73bab-123">Filtros.</span><span class="sxs-lookup"><span data-stu-id="73bab-123">Filters.</span></span> <span data-ttu-id="73bab-124">Você pode definir filtros que limitam os dados em um relatório depois que eles são recuperados da conexão de dados.</span><span class="sxs-lookup"><span data-stu-id="73bab-124">You can define filters that limit the data in a report after it is retrieved from the data connection.</span></span>  
  
-   <span data-ttu-id="73bab-125">Parâmetros.</span><span class="sxs-lookup"><span data-stu-id="73bab-125">Parameters.</span></span> <span data-ttu-id="73bab-126">Você pode adicionar um parâmetro ou editar opções de parâmetro.</span><span class="sxs-lookup"><span data-stu-id="73bab-126">You can add a parameter or edit parameter options.</span></span> <span data-ttu-id="73bab-127">Por exemplo, é possível especificar um valor padrão para cada parâmetro de forma que você possa criar um plano de atualização de cache para esse conjunto de dados compartilhado no servidor de relatório.</span><span class="sxs-lookup"><span data-stu-id="73bab-127">For example, you can specify a default value for each parameter so that you can create a cache refresh plan for this shared dataset on the report server.</span></span>  
  
 <span data-ttu-id="73bab-128">Os valores que você define tornam-se parte da definição do conjunto de dados compartilhado no servidor de relatório.</span><span class="sxs-lookup"><span data-stu-id="73bab-128">The values that you set become part of the shared dataset definition on the report server.</span></span> <span data-ttu-id="73bab-129">Quando um autor de relatório inclui o conjunto de dados compartilhado em um relatório, as opções que você especifica se aplicam a essa instância de conjunto de dados.</span><span class="sxs-lookup"><span data-stu-id="73bab-129">When a report author includes this shared dataset in a report, the options that you specify apply to that dataset instance.</span></span>  
  
 <span data-ttu-id="73bab-130">Depois que um conjunto de dados compartilhado é adicionado a um relatório, o autor do relatório pode substituir as seguintes opções: ordenação, diferenciação de maiúsculas e minúsculas, diferenciação de acentuação, diferenciação de kanatype, diferenciação de largura, subtotais.</span><span class="sxs-lookup"><span data-stu-id="73bab-130">After a shared dataset is added to a report, a report author can override the following options: collation, case sensitivity, accent sensitivity, kanatype sensitivity, width sensitivity, subtotals.</span></span> <span data-ttu-id="73bab-131">Eles também podem criar filtros de conjunto de dados adicionais para limitar os dados no relatório.</span><span class="sxs-lookup"><span data-stu-id="73bab-131">They can also create additional dataset filters to limit the data in the report.</span></span>  
  
 <span data-ttu-id="73bab-132">Para obter mais informações, consulte [Conjuntos de dados inseridos e compartilhados de relatório &#40;Construtor de Relatórios e SSRS&#41;](../report-data/report-embedded-datasets-and-shared-datasets-report-builder-and-ssrs.md).</span><span class="sxs-lookup"><span data-stu-id="73bab-132">For more information, see [Report Embedded Datasets and Shared Datasets &#40;Report Builder and SSRS&#41;](../report-data/report-embedded-datasets-and-shared-datasets-report-builder-and-ssrs.md).</span></span>  
  
 <span data-ttu-id="73bab-133">Para obter mais informações sobre planos de atualização de cache, consulte conjuntos de dados [compartilhados do cache &#40;SSRS&#41;](../report-server/cache-shared-datasets-ssrs.md) na documentação do Reporting Services nos [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] [manuais online](https://go.microsoft.com/fwlink/?linkid=121312)do.</span><span class="sxs-lookup"><span data-stu-id="73bab-133">For more information about cache refresh plans, see [Cache Shared Datasets &#40;SSRS&#41;](../report-server/cache-shared-datasets-ssrs.md) in the Reporting Services documentation in [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] [Books Online](https://go.microsoft.com/fwlink/?linkid=121312).</span></span>  
  
### <a name="query-designer"></a><span data-ttu-id="73bab-134">Designer de Consulta</span><span class="sxs-lookup"><span data-stu-id="73bab-134">Query Designer</span></span>  
 <span data-ttu-id="73bab-135">Use a barra de ferramentas do designer de consulta para ajudar criar uma consulta que especifique quais dados serão recuperados da conexão de dados.</span><span class="sxs-lookup"><span data-stu-id="73bab-135">Use the query designer toolbar to help build a query that specifies which data to retrieve from the data connection.</span></span> <span data-ttu-id="73bab-136">A barra de ferramentas exibida depende do designer de consulta associado ao tipo de fonte de dados na conexão de dados.</span><span class="sxs-lookup"><span data-stu-id="73bab-136">The toolbar that you see depends on the query designer that is associated with the data source type from the data connection.</span></span>  
  
 <span data-ttu-id="73bab-137">Para obter mais informações, consulte o tópico que corresponde ao tipo de fonte de dados em [Adicionar dados de fontes de dados externas &#40;SSRS&#41;](../report-data/add-data-from-external-data-sources-ssrs.md) e [Designers de consulta &#40;Construtor de relatórios&#41;](../query-designers-report-builder.md).</span><span class="sxs-lookup"><span data-stu-id="73bab-137">For more information, see the topic that corresponds to the data source type in [Add Data from External Data Sources &#40;SSRS&#41;](../report-data/add-data-from-external-data-sources-ssrs.md) and [Query Designers &#40;Report Builder&#41;](../query-designers-report-builder.md).</span></span>  
  

  
##  <a name="the-query-designer-surface"></a><a name="DesignSurface"></a><span data-ttu-id="73bab-138">A superfície do designer de consulta</span><span class="sxs-lookup"><span data-stu-id="73bab-138">The Query Designer Surface</span></span>  
 <span data-ttu-id="73bab-139">Um designer de consulta o ajuda a criar uma consulta na sintaxe exigida pela fonte de dados externa.</span><span class="sxs-lookup"><span data-stu-id="73bab-139">A query designer helps you to build a query in the syntax that is required by the external data source.</span></span>  
  
 <span data-ttu-id="73bab-140">Alguns tipos de fontes de dados fornecem um designer de consultas gráficas que você pode usar para explorar os metadados em uma fonte de dados externa.</span><span class="sxs-lookup"><span data-stu-id="73bab-140">Some data source types provide a graphical query designer that you can use to explore the metadata on an external data source.</span></span> <span data-ttu-id="73bab-141">Você pode arrastar nomes interativamente do painel de metadados para a superfície do design de consulta ou interativamente seleciona os nomes a serem usados.</span><span class="sxs-lookup"><span data-stu-id="73bab-141">You can interactively drag names from the metadata pane to the query design surface, or interactively select the names to use.</span></span>  
  
 <span data-ttu-id="73bab-142">Alguns tipos de fonte de dados dão suporte a um designer de consultas baseadas em texto que você pode usar para colar nas consultas que você criou em outras ferramentas, como o [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span><span class="sxs-lookup"><span data-stu-id="73bab-142">Some data source types support a text-based query designer that you can use to paste in queries that you have created in other tools, such as [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span></span>  
  
 <span data-ttu-id="73bab-143">Cada tipo de fonte de dados possui requisitos específicos para a consulta que funcionará na fonte de dados externa.</span><span class="sxs-lookup"><span data-stu-id="73bab-143">Each data source type has specific requirements for the query that will work against the external data source.</span></span> <span data-ttu-id="73bab-144">Para obter mais informações, consulte o tópico que corresponde ao tipo de fonte de dados em [Adicionar dados de fontes de dados externas &#40;ssrs&#41;](../report-data/add-data-from-external-data-sources-ssrs.md) e [fontes de dados com suporte Reporting Services &#40;SSRS&#41;](../create-deploy-and-manage-mobile-and-paginated-reports.md) na documentação do Reporting Services nos [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] [manuais online](https://go.microsoft.com/fwlink/?linkid=121312)do.</span><span class="sxs-lookup"><span data-stu-id="73bab-144">For more information, see the topic that corresponds to the data source type in [Add Data from External Data Sources &#40;SSRS&#41;](../report-data/add-data-from-external-data-sources-ssrs.md) and [Data Sources Supported by Reporting Services &#40;SSRS&#41;](../create-deploy-and-manage-mobile-and-paginated-reports.md) in the Reporting Services documentation in [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] [Books Online](https://go.microsoft.com/fwlink/?linkid=121312).</span></span>  
  

  
##  <a name="viewing-query-results"></a><a name="Results"></a><span data-ttu-id="73bab-145">Exibindo resultados da consulta</span><span class="sxs-lookup"><span data-stu-id="73bab-145">Viewing Query Results</span></span>  
 <span data-ttu-id="73bab-146">No modo de design do conjunto de dados compartilhado, você está criando uma consulta que recupera dados da conexão de dados quando o relatório é processado.</span><span class="sxs-lookup"><span data-stu-id="73bab-146">In shared dataset design view, you are building a query that will retrieve data from the data connection when the report is processed.</span></span>  
  
 <span data-ttu-id="73bab-147">Execute a consulta para consultar dados de exemplo da conexão de dados e verificar se a consulta retorna o tipo de dados que você espera.</span><span class="sxs-lookup"><span data-stu-id="73bab-147">Run the query to see example data from the data connection to verify that the query returns the type of data that you expect.</span></span> <span data-ttu-id="73bab-148">As colunas no conjunto de resultados provêm dos metadados para esquemas de dados da conexão de dados.</span><span class="sxs-lookup"><span data-stu-id="73bab-148">The columns in the result set come from the metadata for data schemas from the data connection.</span></span> <span data-ttu-id="73bab-149">Os nomes de coluna tornam-se a coleção de campos de conjunto de dados.</span><span class="sxs-lookup"><span data-stu-id="73bab-149">The column names become the dataset field collection.</span></span> <span data-ttu-id="73bab-150">Os valores dos dados exibidos no conjunto de resultados da consulta são dados de tempo de design.</span><span class="sxs-lookup"><span data-stu-id="73bab-150">The values of the data that you see in the query result set is design time data.</span></span> <span data-ttu-id="73bab-151">Depois que você salva o conjunto de dados compartilhado como uma definição de conjunto de dados compartilhado no servidor de relatório, apenas o texto da consulta é salvo.</span><span class="sxs-lookup"><span data-stu-id="73bab-151">After you save the shared dataset as a shared dataset definition on the report server, only the query text is saved.</span></span> <span data-ttu-id="73bab-152">Os dados no conjunto de resultados da consulta não são salvos.</span><span class="sxs-lookup"><span data-stu-id="73bab-152">The data in the query result set is not saved.</span></span>  
  
 <span data-ttu-id="73bab-153">Quando um autor de relatório adiciona esse conjunto de dados compartilhado a um relatório, um ponteiro para a definição de conjunto de dados no servidor de relatório é adicionado.</span><span class="sxs-lookup"><span data-stu-id="73bab-153">When a report author adds this shared dataset to a report, a pointer to the dataset definition on the report server is added.</span></span> <span data-ttu-id="73bab-154">No relatório, a coleção de campos de conjunto de dados é exibida no painel de dados do relatório.</span><span class="sxs-lookup"><span data-stu-id="73bab-154">In the report, the dataset field collection appears in the Report Data pane.</span></span> <span data-ttu-id="73bab-155">O texto da consulta não está disponível.</span><span class="sxs-lookup"><span data-stu-id="73bab-155">The query text is not available.</span></span>  
  
 <span data-ttu-id="73bab-156">As credenciais que você usa para executar uma consulta são independentes das credenciais usadas para visualizar um relatório ou executar um relatório do servidor de relatório.</span><span class="sxs-lookup"><span data-stu-id="73bab-156">The credentials that you use to run a query are separate from the credentials that are used to preview a report or to run a report from the report server.</span></span> <span data-ttu-id="73bab-157">Para obter mais informações, consulte [Especificar as credenciais no Construtor de Relatórios](../specify-credentials-in-report-builder.md).</span><span class="sxs-lookup"><span data-stu-id="73bab-157">For more information, see [Specify Credentials in Report Builder](../specify-credentials-in-report-builder.md).</span></span>  
  
### <a name="running-a-report-with-parameters"></a><span data-ttu-id="73bab-158">Executando um relatório com parâmetros</span><span class="sxs-lookup"><span data-stu-id="73bab-158">Running a Report with Parameters</span></span>  
 <span data-ttu-id="73bab-159">Quando uma consulta inclui variáveis de consulta, os parâmetros de conjunto de dados são criados automaticamente.</span><span class="sxs-lookup"><span data-stu-id="73bab-159">When your query includes query variables, dataset parameters are created automatically for you.</span></span> <span data-ttu-id="73bab-160">Por sua vez, quando você conclui a criação da consulta de conjunto de dados, os parâmetros da consulta definidos como parâmetros de conjunto de dados são criados automaticamente.</span><span class="sxs-lookup"><span data-stu-id="73bab-160">In turn, when you finish building the dataset query, report parameters that are set to dataset parameters are created automatically.</span></span>  
  
 <span data-ttu-id="73bab-161">Se um relatório contiver parâmetros, todos os parâmetros deverão ter valores padrão para que o relatório possa ser executado automaticamente.</span><span class="sxs-lookup"><span data-stu-id="73bab-161">If a report contains parameters, all the parameters must have default values before the report can run automatically.</span></span> <span data-ttu-id="73bab-162">Se um parâmetro não tiver um valor padrão, quando o relatório for executado, você deverá escolher um valor para o parâmetro e clicar em **Exibir Relatório** na guia **Executar** .</span><span class="sxs-lookup"><span data-stu-id="73bab-162">If a parameter does not have a default value, when you run the report you must choose a value for the parameter, and then click **View Report** on the **Run** tab.</span></span>  
  
 <span data-ttu-id="73bab-163">Para obter mais informações, consulte [Parâmetros de relatório &#40;Construtor de Relatórios e Designer de Relatórios&#41;](../report-design/report-parameters-report-builder-and-report-designer.md).</span><span class="sxs-lookup"><span data-stu-id="73bab-163">For more information, see [Report Parameters &#40;Report Builder and Report Designer&#41;](../report-design/report-parameters-report-builder-and-report-designer.md).</span></span>  
  

  
##  <a name="saving-the-shared-dataset"></a><a name="Save"></a> <span data-ttu-id="73bab-164">Salvando o conjunto de dados compartilhado</span><span class="sxs-lookup"><span data-stu-id="73bab-164">Saving the Shared Dataset</span></span>  
 <span data-ttu-id="73bab-165">Para salvar a consulta que você criou, no botão **Construtor de Relatórios** , clique em **Salvar** ou em **Salvar como**.</span><span class="sxs-lookup"><span data-stu-id="73bab-165">To save the query that you built, on the **Report Builder** button, click **Save** or **Save As**.</span></span> <span data-ttu-id="73bab-166">Navegue até a pasta apropriada no servidor de relatório e salve a definição de conjunto de dados compartilhada.</span><span class="sxs-lookup"><span data-stu-id="73bab-166">Navigate to the appropriate folder on the report server and save the shared dataset definition.</span></span> <span data-ttu-id="73bab-167">O conjunto de dados compartilhado não estará disponível para os outros até que você o salve no servidor de relatório.</span><span class="sxs-lookup"><span data-stu-id="73bab-167">The shared dataset is not available to others until you save it to the report server.</span></span>  
  

  
## <a name="see-also"></a><span data-ttu-id="73bab-168">Consulte Também</span><span class="sxs-lookup"><span data-stu-id="73bab-168">See Also</span></span>  
 <span data-ttu-id="73bab-169">[Adicionar dados a um relatório &#40;Construtor de Relatórios e SSRS&#41;](../report-data/report-datasets-ssrs.md) </span><span class="sxs-lookup"><span data-stu-id="73bab-169">[Add Data to a Report &#40;Report Builder and SSRS&#41;](../report-data/report-datasets-ssrs.md) </span></span>  
 <span data-ttu-id="73bab-170">[Filtrar, agrupar e classificar dados &#40;Construtor de Relatórios e SSRS&#41;](../report-design/filter-group-and-sort-data-report-builder-and-ssrs.md) </span><span class="sxs-lookup"><span data-stu-id="73bab-170">[Filter, Group, and Sort Data &#40;Report Builder and SSRS&#41;](../report-design/filter-group-and-sort-data-report-builder-and-ssrs.md) </span></span>  
 [<span data-ttu-id="73bab-171">Parâmetros de relatório &#40;Construtor de Relatórios e Designer de Relatórios&#41;</span><span class="sxs-lookup"><span data-stu-id="73bab-171">Report Parameters &#40;Report Builder and Report Designer&#41;</span></span>](../report-design/report-parameters-report-builder-and-report-designer.md)  
  
  
