---
title: Segurança de acesso do código no Reporting Services | Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: reporting-services
ms.topic: reference
helpviewer_keywords:
- code groups [Reporting Services]
- code access security [Reporting Services]
- permission sets [Reporting Services]
- evidence [Reporting Services]
- code access security [Reporting Services], about code access security
- named permission sets [Reporting Services]
ms.assetid: 97480368-1fc3-4c32-b1b0-63edfb54e472
author: maggiesMSFT
ms.author: maggies
manager: kfile
ms.openlocfilehash: ebe023b13a003895845bbb119f0bc93a0d01203a
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87584015"
---
# <a name="code-access-security-in-reporting-services"></a><span data-ttu-id="67809-102">Segurança de acesso do código no Reporting Services</span><span class="sxs-lookup"><span data-stu-id="67809-102">Code Access Security in Reporting Services</span></span>
  <span data-ttu-id="67809-103">A segurança de acesso do código gira em torno desses conceitos centrais: evidência, grupos de código e conjuntos de permissões nomeadas.</span><span class="sxs-lookup"><span data-stu-id="67809-103">Code access security centers on these core concepts: evidence, code groups, and named permission sets.</span></span> <span data-ttu-id="67809-104">No [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)], os componentes Gerenciador de Relatórios, Desingner de Relatórios e Servidor de Relatório têm um arquivo de política que configura a segurança de acesso do código para assemblies personalizados, bem como para extensões de dados, entrega, renderização e segurança.</span><span class="sxs-lookup"><span data-stu-id="67809-104">In [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)], the Report Manager, Report Designer, and Report Server components each have a policy file that configures code access security for custom assemblies as well as data, delivery, rendering, and security extensions.</span></span> <span data-ttu-id="67809-105">As seções a seguir fornecem uma visão geral da segurança de acesso do código.</span><span class="sxs-lookup"><span data-stu-id="67809-105">The following sections provide an overview of code access security.</span></span> <span data-ttu-id="67809-106">Para obter informações mais detalhadas sobre os tópicos abordados nesta seção, confira “Modelo de Política de Segurança” na documentação do SDK do [!INCLUDE[msCoName](../../../includes/msconame-md.md)] [!INCLUDE[dnprdnshort](../../../includes/dnprdnshort-md.md)].</span><span class="sxs-lookup"><span data-stu-id="67809-106">For more detailed information about the topics covered in this section, see "Security Policy Model" in the [!INCLUDE[msCoName](../../../includes/msconame-md.md)] [!INCLUDE[dnprdnshort](../../../includes/dnprdnshort-md.md)] SDK documentation.</span></span>  
  
 <span data-ttu-id="67809-107">O [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)] usa a segurança de acesso do código porque, embora o servidor de relatório esteja incorporado na tecnologia [!INCLUDE[vstecasp](../../../includes/vstecasp-md.md)], há uma diferença significativa entre um aplicativo [!INCLUDE[vstecasp](../../../includes/vstecasp-md.md)] típico e o servidor de relatório.</span><span class="sxs-lookup"><span data-stu-id="67809-107">[!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)] uses code access security because, although the report server is built on [!INCLUDE[vstecasp](../../../includes/vstecasp-md.md)] technology, there is a substantial difference between a typical [!INCLUDE[vstecasp](../../../includes/vstecasp-md.md)] application and the report server.</span></span> <span data-ttu-id="67809-108">Um aplicativo [!INCLUDE[vstecasp](../../../includes/vstecasp-md.md)] típico não executa o código de usuário.</span><span class="sxs-lookup"><span data-stu-id="67809-108">A typical [!INCLUDE[vstecasp](../../../includes/vstecasp-md.md)] application does not execute user code.</span></span> <span data-ttu-id="67809-109">Por outro lado, o [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)] usa uma arquitetura aberta e extensível que permite aos usuários programar nos arquivos de definição de relatório usando o elemento **Code** da linguagem RDL e desenvolver funcionalidades especializadas em um assembly personalizado para uso em relatórios.</span><span class="sxs-lookup"><span data-stu-id="67809-109">In contrast, [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)] uses an open and extensible architecture that allows users to program against the report definition files using the **Code** element of the Report Definition Language and to develop specialized functionality into a custom assembly for use in reports.</span></span> <span data-ttu-id="67809-110">Além disso, os desenvolvedores podem projetar e implantar extensões avançadas que aumentam as capacidades do servidor de relatório.</span><span class="sxs-lookup"><span data-stu-id="67809-110">Furthermore, developers can design and deploy powerful extensions that enhance the capabilities of the report server.</span></span> <span data-ttu-id="67809-111">Junto com este avanço e flexibilidade, existe a necessidade de fornecer o máximo de proteção e segurança possível.</span><span class="sxs-lookup"><span data-stu-id="67809-111">With this power and flexibility comes the need to provide as much protection and security as possible.</span></span>  
  
 <span data-ttu-id="67809-112">Os desenvolvedores de [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)] podem usar qualquer assembly do [!INCLUDE[dnprdnshort](../../../includes/dnprdnshort-md.md)] em seus relatórios e chamar de modo nativo toda a funcionalidade dos assemblies implantados no cache de assembly global.</span><span class="sxs-lookup"><span data-stu-id="67809-112">[!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)] developers can use any [!INCLUDE[dnprdnshort](../../../includes/dnprdnshort-md.md)] assembly in their reports and natively call upon all of the functionality of assemblies deployed to the global assembly cache.</span></span> <span data-ttu-id="67809-113">A única coisa que o servidor de relatório pode controlar são as permissões concedidas para expressões de relatório e assemblies personalizados carregados.</span><span class="sxs-lookup"><span data-stu-id="67809-113">The only thing that the report server can control is what permissions are given for report expressions and loaded custom assemblies.</span></span> <span data-ttu-id="67809-114">No [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)], os assemblies personalizados recebem as permissões somente **Executar** por padrão.</span><span class="sxs-lookup"><span data-stu-id="67809-114">In [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)], custom assemblies receive **Execute**-only permissions by default.</span></span>  
  
## <a name="evidence"></a><span data-ttu-id="67809-115">Evidência</span><span class="sxs-lookup"><span data-stu-id="67809-115">Evidence</span></span>  
 <span data-ttu-id="67809-116">Evidência são as informações que a CLR (Common Language Runtime) usa para determinar uma política de segurança para assemblies de código.</span><span class="sxs-lookup"><span data-stu-id="67809-116">Evidence is the information that the common language runtime (CLR) uses to determine a security policy for code assemblies.</span></span> <span data-ttu-id="67809-117">A evidência indica ao runtime que o código tem uma característica específica.</span><span class="sxs-lookup"><span data-stu-id="67809-117">Evidence indicates to the runtime that code has a particular characteristic.</span></span> <span data-ttu-id="67809-118">As formas comuns de evidência incluem assinaturas digitais e o local de um assembly.</span><span class="sxs-lookup"><span data-stu-id="67809-118">Common forms of evidence include digital signatures and the location of an assembly.</span></span> <span data-ttu-id="67809-119">A evidência também pode ser personalizada para representar outras informações que são significativas para o aplicativo.</span><span class="sxs-lookup"><span data-stu-id="67809-119">Evidence can also be custom designed to represent other information that is meaningful to the application.</span></span>  
  
 <span data-ttu-id="67809-120">Os domínios de assembly e de aplicativo recebem permissões com base na evidência.</span><span class="sxs-lookup"><span data-stu-id="67809-120">Both assemblies and application domains receive permissions based on evidence.</span></span> <span data-ttu-id="67809-121">Por exemplo, o local de um assembly que o [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)] está tentando acessar é uma forma comum de evidência para assemblies nomeados fracos.</span><span class="sxs-lookup"><span data-stu-id="67809-121">For example, the location of an assembly that [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)] is attempting to access is one common form of evidence for weak-named assemblies.</span></span> <span data-ttu-id="67809-122">Isto é conhecido como evidência de URL.</span><span class="sxs-lookup"><span data-stu-id="67809-122">This is known as URL evidence.</span></span> <span data-ttu-id="67809-123">A evidência de URL para uma extensão personalizada de processamento de dados implantada em um servidor de relatório seria “C:\Arquivos de Programas\Microsoft SQL Server\MSRS10_50.MSSQLSERVER\Reporting Services\ReportServer\bin\Microsoft.Samples.ReportingServices.FsiDataExtension.dll".</span><span class="sxs-lookup"><span data-stu-id="67809-123">URL evidence for a custom data processing extension deployed to a report server might be "C:\Program Files\Microsoft SQL Server\MSRS10_50.MSSQLSERVER\Reporting Services\ReportServer\bin\Microsoft.Samples.ReportingServices.FsiDataExtension.dll".</span></span> <span data-ttu-id="67809-124">O nome forte ou a assinatura digital de um assembly é outra forma comum de evidência.</span><span class="sxs-lookup"><span data-stu-id="67809-124">The strong name or digital signature of an assembly is another common form of evidence.</span></span> <span data-ttu-id="67809-125">Neste caso, a evidência corresponde às informações de chave pública para um assembly.</span><span class="sxs-lookup"><span data-stu-id="67809-125">In this case, the evidence is the public key information for an assembly.</span></span>  
  
## <a name="code-groups"></a><span data-ttu-id="67809-126">Grupos de código</span><span class="sxs-lookup"><span data-stu-id="67809-126">Code Groups</span></span>  
 <span data-ttu-id="67809-127">Um grupo de código é um agrupamento lógico de código que tem uma condição especificada para associação.</span><span class="sxs-lookup"><span data-stu-id="67809-127">A code group is a logical grouping of code that has a specified condition for membership.</span></span> <span data-ttu-id="67809-128">Qualquer código que satisfaça a condição de associação é incluído no grupo.</span><span class="sxs-lookup"><span data-stu-id="67809-128">Any code that meets the membership condition is included in the group.</span></span> <span data-ttu-id="67809-129">Os administradores configuram uma política de segurança gerenciando grupos de código e os conjuntos de permissões associados.</span><span class="sxs-lookup"><span data-stu-id="67809-129">Administrators configure a security policy by managing code groups and their associated permission sets.</span></span>  
  
 <span data-ttu-id="67809-130">A condição de associação para um grupo de código é baseada na evidência.</span><span class="sxs-lookup"><span data-stu-id="67809-130">A membership condition for a code group is based on evidence.</span></span> <span data-ttu-id="67809-131">Por exemplo, uma associação de URL para um grupo de código é baseada na evidência de URL.</span><span class="sxs-lookup"><span data-stu-id="67809-131">For example, a URL membership for a code group is based on URL evidence.</span></span> <span data-ttu-id="67809-132">A CLR (Common Language Runtime) usa características de identificação, como a evidência de URL, para descrever o código e determinar se a condição de associação de um grupo foi cumprida.</span><span class="sxs-lookup"><span data-stu-id="67809-132">The common language runtime (CLR) uses identifying characteristics such as URL evidence to describe the code and to determine whether a group's membership condition has been met.</span></span> <span data-ttu-id="67809-133">Por exemplo, se a condição de associação de um grupo de código for “código no assembly C:\Arquivos de Programas\Microsoft SQL Server\MSRS10_50.MSSQLSERVER\Reporting Services\ReportServer\bin\Microsoft.Samples.ReportingServices.FsiDataExtension.dll", o runtime examinará a evidência para determinar se o código é originado desse local.</span><span class="sxs-lookup"><span data-stu-id="67809-133">For example, if the membership condition of a code group is "code in the assembly C:\Program Files\Microsoft SQL Server\MSRS10_50.MSSQLSERVER\Reporting Services\ReportServer\bin\Microsoft.Samples.ReportingServices.FsiDataExtension.dll", the runtime examines the evidence to determine whether the code originates from that location.</span></span> <span data-ttu-id="67809-134">O exemplo de uma entrada de configuração para este tipo de grupo de código poderia parecer com o seguinte:</span><span class="sxs-lookup"><span data-stu-id="67809-134">An example of a configuration entry for this type of code group might look like the following:</span></span>  
  
```  
<CodeGroup class="UnionCodeGroup"  
   version="1"  
   PermissionSetName="FullTrust"  
   Name="MyCodeGroup"  
   Description="Code group for my data processing extension">  
      <IMembershipCondition class="UrlMembershipCondition"  
         version="1"  
         Url="C:\Program Files\Microsoft SQL Server\MSRS10_50.MSSQLSERVER\Reporting Services\ReportServer\bin\Microsoft.Samples.ReportingServices.FsiDataExtension.dll"  
       />  
</CodeGroup>  
```  
  
 <span data-ttu-id="67809-135">Você deve trabalhar junto com o administrador do sistema ou o especialista em implantação do aplicativo para determinar o tipo de segurança de acesso do código e os grupos de código necessários para os assemblies personalizados ou para as extensões do [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="67809-135">You should work with your system administrator or application deployment expert to determine the type of code access security and code groups that your custom assemblies or [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)] extensions require.</span></span>  
  
## <a name="named-permission-sets"></a><span data-ttu-id="67809-136">Conjuntos de permissões nomeadas</span><span class="sxs-lookup"><span data-stu-id="67809-136">Named Permission Sets</span></span>  
 <span data-ttu-id="67809-137">Um conjunto de permissões nomeadas é um conjunto de permissões pode ser associado a um grupo de código pelos administradores.</span><span class="sxs-lookup"><span data-stu-id="67809-137">A named permission set is a set of permissions that administrators can associate with a code group.</span></span> <span data-ttu-id="67809-138">A maioria dos conjuntos de permissões nomeadas consiste em pelo menos uma permissão, um nome e uma descrição para o conjunto de permissões.</span><span class="sxs-lookup"><span data-stu-id="67809-138">Most named permission sets consist of at least one permission, a name, and description for the permission set.</span></span> <span data-ttu-id="67809-139">Os administradores podem usar conjuntos de permissões nomeadas para estabelecer ou modificar a política de segurança para grupos de código.</span><span class="sxs-lookup"><span data-stu-id="67809-139">Administrators can use named permission sets to establish or modify the security policy for code groups.</span></span> <span data-ttu-id="67809-140">Mais de um grupo de código pode ser associado ao mesmo conjunto de permissões nomeadas.</span><span class="sxs-lookup"><span data-stu-id="67809-140">More than one code group can be associated with the same named permission set.</span></span> <span data-ttu-id="67809-141">A CLR fornece conjuntos de permissões nomeados internos; entre eles estão **Nothing**, **Execution**, **Internet**, **LocalIntranet**, **Everything** e **FullTrust**.</span><span class="sxs-lookup"><span data-stu-id="67809-141">The CLR provides built-in named permission sets; among these are **Nothing**, **Execution**, **Internet**, **LocalIntranet**, **Everything**, and **FullTrust**.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="67809-142">As extensões personalizadas de dados, entrega, renderização e segurança do [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)] devem ser executadas no conjunto de permissões **FullTrust**.</span><span class="sxs-lookup"><span data-stu-id="67809-142">Custom data, delivery, rendering, and security extensions in [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)] must run under the **FullTrust** permission set.</span></span> <span data-ttu-id="67809-143">Trabalhe junto com o administrador do sistema para adicionar o grupo de código apropriado e as condições de associação às extensões do [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="67809-143">Work with your system administrator to add the appropriate code group and membership conditions for your [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)] extensions.</span></span>  
  
 <span data-ttu-id="67809-144">Você pode associar seus próprios níveis personalizados de permissões para assemblies personalizados usados com os relatórios.</span><span class="sxs-lookup"><span data-stu-id="67809-144">You can associate your own custom levels of permissions for custom assemblies that you use with reports.</span></span> <span data-ttu-id="67809-145">Por exemplo, se desejar permitir que um assembly acesse um arquivo específico, você pode criar um novo conjunto de permissões nomeadas com acesso de E/S específico do arquivo e, em seguida, atribuir o conjunto de permissões ao seu grupo de código.</span><span class="sxs-lookup"><span data-stu-id="67809-145">For example, if you want to allow an assembly to access a specific file, you can create a new named permission set with specific file I/O access and then assign the permission set to your code group.</span></span> <span data-ttu-id="67809-146">O conjunto de permissões a seguir concede acesso somente leitura ao arquivo MyFile.xml:</span><span class="sxs-lookup"><span data-stu-id="67809-146">The following permission set grants read-only access to the file MyFile.xml:</span></span>  
  
```  
<PermissionSet class="NamedPermissionSet"  
   version="1"  
   Name="MyNewFilePermissionSet"  
   Description="A special permission set that grants read access to my file.">  
    <IPermission class="FileIOPermission"  
       version="1"  
       Read="C:\MyFile.xml"/>  
    <IPermission class="SecurityPermission"  
       version="1"  
       Flags="Assertion, Execution"/>  
</PermissionSet>  
```  
  
 <span data-ttu-id="67809-147">Um grupo de código com este conjunto de permissões poderia parecer com o seguinte:</span><span class="sxs-lookup"><span data-stu-id="67809-147">A code group that you grant this permission set might look like the following:</span></span>  
  
```  
<CodeGroup class="UnionCodeGroup"  
   version="1"  
   PermissionSetName="MyNewFilePermissionSet"  
   Name="MyNewCodeGroup"  
   Description="A special code group for my custom assembly.">  
   <IMembershipCondition class="UrlMembershipCondition"  
      version="1"  
      Url="C:\Program Files\Microsoft SQL Server\MSRS10_50.MSSQLSERVER\Reporting Services\ReportServer\bin\MyCustomAssembly.dll"/>  
</CodeGroup>  
```  
  
## <a name="see-also"></a><span data-ttu-id="67809-148">Consulte Também</span><span class="sxs-lookup"><span data-stu-id="67809-148">See Also</span></span>  
 [<span data-ttu-id="67809-149">Desenvolvimento seguro &#40;Reporting Services&#41;</span><span class="sxs-lookup"><span data-stu-id="67809-149">Secure Development &#40;Reporting Services&#41;</span></span>](secure-development-reporting-services.md)  
  
  
