---
title: Interface do usuário do Designer de Consultas baseado em texto (Construtor de Relatórios) | Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: reporting-services-native
ms.topic: conceptual
f1_keywords:
- "10010"
helpviewer_keywords:
- query designers, text-based
ms.assetid: 89fddca5-bd96-4128-9072-5348d1b6e02c
author: maggiesMSFT
ms.author: maggies
manager: kfile
ms.openlocfilehash: c1415bdfada46ac09c9ab04047d63484593933e8
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87569115"
---
# <a name="text-based-query-designer-user-interface-report-builder"></a><span data-ttu-id="b7fcf-102">Interface de usuário do Designer de Consulta baseado em texto (Construtor de Relatórios)</span><span class="sxs-lookup"><span data-stu-id="b7fcf-102">Text-based Query Designer User Interface (Report Builder)</span></span>
  <span data-ttu-id="b7fcf-103">Use o designer de consulta baseado em texto para especificar uma consulta usando o idioma de consulta suportado pela fonte de dados, execute a consulta e exiba os resultados no tempo de design.</span><span class="sxs-lookup"><span data-stu-id="b7fcf-103">Use the text-based query designer to specify a query using the query language supported by the data source, run the query, and view the results at design time.</span></span> <span data-ttu-id="b7fcf-104">Você pode especificar várias instruções do [!INCLUDE[tsql](../../../includes/tsql-md.md)] , consulta ou sintaxe de comando para as extensões de processamento de dados e consultas que são especificadas como expressões.</span><span class="sxs-lookup"><span data-stu-id="b7fcf-104">You can specify multiple [!INCLUDE[tsql](../../../includes/tsql-md.md)] statements, query or command syntax for custom data processing extensions, and queries that are specified as expressions.</span></span> <span data-ttu-id="b7fcf-105">Como o designer de consulta baseado em texto não processa previamente a consulta e pode acomodar qualquer tipo de sintaxe de consulta, esta é a ferramenta de designer de consulta padrão para muitos tipos de fontes de dados.</span><span class="sxs-lookup"><span data-stu-id="b7fcf-105">Because the text-based query designer does not preprocess the query and can accommodate any kind of query syntax, this is the default query designer tool for many data source types.</span></span>

> [!IMPORTANT]
>  <span data-ttu-id="b7fcf-106">Os usuários acessam fontes de dados quando criam e executam consultas.</span><span class="sxs-lookup"><span data-stu-id="b7fcf-106">Users access data sources when they create and run queries.</span></span> <span data-ttu-id="b7fcf-107">Você deve conceder permissões mínimas nas fontes de dados, como permissões somente leitura.</span><span class="sxs-lookup"><span data-stu-id="b7fcf-107">You should grant minimal permissions on the data sources, such as read-only permissions.</span></span>

 <span data-ttu-id="b7fcf-108">O designer de consulta baseado em texto exibe uma barra de ferramentas e os dois painéis a seguir:</span><span class="sxs-lookup"><span data-stu-id="b7fcf-108">The text-based query designer displays a toolbar and the following two panes:</span></span>

-   <span data-ttu-id="b7fcf-109">**Consulta** Mostra o texto da consulta, o nome da tabela ou o nome do procedimento armazenado, dependendo do tipo de consulta.</span><span class="sxs-lookup"><span data-stu-id="b7fcf-109">**Query** Shows the query text, table name, or stored procedure name depending on the query type.</span></span> <span data-ttu-id="b7fcf-110">Nem todos os tipos de consulta estão disponíveis para todos os tipos de fontes de dados.</span><span class="sxs-lookup"><span data-stu-id="b7fcf-110">Not all query types are available for all data source types.</span></span> <span data-ttu-id="b7fcf-111">Por exemplo, nome da tabela tem suporte apenas para o tipo de fonte de dados OLE DB.</span><span class="sxs-lookup"><span data-stu-id="b7fcf-111">For example, table name is supported only for the data source type OLE DB.</span></span>

-   <span data-ttu-id="b7fcf-112">**Resultado** Mostra os resultados da execução da consulta em tempo de design.</span><span class="sxs-lookup"><span data-stu-id="b7fcf-112">**Result** Shows the results of running the query at design time.</span></span>

## <a name="text-based-query-designer-toolbar"></a><span data-ttu-id="b7fcf-113">Barra de ferramentas do Designer de Consulta baseado em texto</span><span class="sxs-lookup"><span data-stu-id="b7fcf-113">Text-based Query Designer Toolbar</span></span>
 <span data-ttu-id="b7fcf-114">O designer de consulta baseado em texto fornece uma única barra de ferramentas para todos os tipos de comando.</span><span class="sxs-lookup"><span data-stu-id="b7fcf-114">The text-based query designer provides a single toolbar for all the command types.</span></span> <span data-ttu-id="b7fcf-115">A tabela a seguir lista cada botão da barra de ferramentas e suas respectivas funções.</span><span class="sxs-lookup"><span data-stu-id="b7fcf-115">The following table lists each button on the toolbar and its function.</span></span>

|<span data-ttu-id="b7fcf-116">Botão</span><span class="sxs-lookup"><span data-stu-id="b7fcf-116">Button</span></span>|<span data-ttu-id="b7fcf-117">Descrição</span><span class="sxs-lookup"><span data-stu-id="b7fcf-117">Description</span></span>|
|------------|-----------------|
|<span data-ttu-id="b7fcf-118">**Editar como Texto**</span><span class="sxs-lookup"><span data-stu-id="b7fcf-118">**Edit As Text**</span></span>|<span data-ttu-id="b7fcf-119">Alterna entre o designer de consulta baseado em texto e o designer de consultas gráficas.</span><span class="sxs-lookup"><span data-stu-id="b7fcf-119">Toggle between the text-based query designer and the graphical query designer.</span></span> <span data-ttu-id="b7fcf-120">Nem todos os tipos de fonte de dados dão suporte aos designers de consultas gráficas.</span><span class="sxs-lookup"><span data-stu-id="b7fcf-120">Not all data source types support graphical query designers.</span></span>|
|<span data-ttu-id="b7fcf-121">**Importaçãoação**</span><span class="sxs-lookup"><span data-stu-id="b7fcf-121">**Import**</span></span>|<span data-ttu-id="b7fcf-122">Importa uma consulta existente de um arquivo ou relatório.</span><span class="sxs-lookup"><span data-stu-id="b7fcf-122">Import an existing query from a file or report.</span></span> <span data-ttu-id="b7fcf-123">Apenas os tipos de arquivo .sql e .rdl têm suporte</span><span class="sxs-lookup"><span data-stu-id="b7fcf-123">Only file types sql and rdl are supported</span></span>|
|<span data-ttu-id="b7fcf-124">![Executar a consulta](../../analysis-services/media/rsqdicon-run.gif "Executar a consulta")</span><span class="sxs-lookup"><span data-stu-id="b7fcf-124">![Run the query](../../analysis-services/media/rsqdicon-run.gif "Run the query")</span></span>|<span data-ttu-id="b7fcf-125">Executa a consulta e exibe o conjunto de resultados no painel Resultado.</span><span class="sxs-lookup"><span data-stu-id="b7fcf-125">Run the query and display the result set in the Result pane.</span></span>|
|<span data-ttu-id="b7fcf-126">**Tipo de Comando**</span><span class="sxs-lookup"><span data-stu-id="b7fcf-126">**Command Type**</span></span>|<span data-ttu-id="b7fcf-127">Selecione **Text**, **StoredProcedure**ou **TableDirect**.</span><span class="sxs-lookup"><span data-stu-id="b7fcf-127">Select **Text**, **StoredProcedure**, or **TableDirect**.</span></span> <span data-ttu-id="b7fcf-128">Se um procedimento armazenado tiver parâmetros, a caixa de diálogo **Definir Parâmetros de Consulta** será aberta quando você clicar em **Executar** na barra de ferramentas e os valores poderão ser preenchidos conforme necessário.</span><span class="sxs-lookup"><span data-stu-id="b7fcf-128">If a stored procedure has parameters, the **Define Query Parameters** dialog box appears when you click **Run** on the toolbar, and you can fill in values as needed.</span></span><br /><br /> <span data-ttu-id="b7fcf-129">Observação: Se um procedimento armazenado retornar mais de um conjunto de resultados, somente o primeiro será usado para popular o conjunto de dados.</span><span class="sxs-lookup"><span data-stu-id="b7fcf-129">Note: If a stored procedure returns more than one result set, only the first result set is used to populate the dataset.</span></span>|

### <a name="command-type-text"></a><span data-ttu-id="b7fcf-130">Tipo de comando Text</span><span class="sxs-lookup"><span data-stu-id="b7fcf-130">Command Type Text</span></span>
 <span data-ttu-id="b7fcf-131">Quando você cria um conjunto de dados [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , o designer de consulta relacional é aberto por padrão.</span><span class="sxs-lookup"><span data-stu-id="b7fcf-131">When you create a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] dataset, the relational query designer opens by default.</span></span> <span data-ttu-id="b7fcf-132">Para mudar para o designer de consulta baseado em texto, clique no botão de alternância **Editar como Texto** na barra de ferramentas.</span><span class="sxs-lookup"><span data-stu-id="b7fcf-132">To switch to the text-based query designer, click the **Edit As Text** toggle button on the toolbar.</span></span> <span data-ttu-id="b7fcf-133">O designer de consulta baseado em texto apresenta dois painéis: Consulta e Resultado.</span><span class="sxs-lookup"><span data-stu-id="b7fcf-133">The text-based query designer presents two panes: the Query pane and the Result pane.</span></span> <span data-ttu-id="b7fcf-134">A imagem a seguir define cada painel.</span><span class="sxs-lookup"><span data-stu-id="b7fcf-134">The following figure labels each pane.</span></span>

 <span data-ttu-id="b7fcf-135">![Designer de consultas genérico para a consulta de dados relacionais](../../analysis-services/media/rsqd-dsaw-sql-generic.gif "Designer de consultas genérico para a consulta de dados relacionais")</span><span class="sxs-lookup"><span data-stu-id="b7fcf-135">![Generic query designer, for relational data query](../../analysis-services/media/rsqd-dsaw-sql-generic.gif "Generic query designer, for relational data query")</span></span>

 <span data-ttu-id="b7fcf-136">A tabela a seguir descreve a função de cada painel.</span><span class="sxs-lookup"><span data-stu-id="b7fcf-136">The following table describes the function of each pane.</span></span>

|<span data-ttu-id="b7fcf-137">Painel</span><span class="sxs-lookup"><span data-stu-id="b7fcf-137">Pane</span></span>|<span data-ttu-id="b7fcf-138">Função</span><span class="sxs-lookup"><span data-stu-id="b7fcf-138">Function</span></span>|
|----------|--------------|
|<span data-ttu-id="b7fcf-139">Consulta</span><span class="sxs-lookup"><span data-stu-id="b7fcf-139">Query</span></span>|<span data-ttu-id="b7fcf-140">Exibe o texto da consulta do [!INCLUDE[tsql](../../../includes/tsql-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="b7fcf-140">Displays the [!INCLUDE[tsql](../../../includes/tsql-md.md)] query text.</span></span> <span data-ttu-id="b7fcf-141">Use esse painel para gravar ou editar uma consulta do [!INCLUDE[tsql](../../../includes/tsql-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="b7fcf-141">Use this pane to write or edit a [!INCLUDE[tsql](../../../includes/tsql-md.md)] query.</span></span>|
|<span data-ttu-id="b7fcf-142">Result</span><span class="sxs-lookup"><span data-stu-id="b7fcf-142">Result</span></span>|<span data-ttu-id="b7fcf-143">Exibe os resultados da consulta.</span><span class="sxs-lookup"><span data-stu-id="b7fcf-143">Displays the results of the query.</span></span> <span data-ttu-id="b7fcf-144">Para executar a consulta, clique com o botão direito do mouse em qualquer painel e clique em **Executar**ou clique no botão **Executar** na barra de ferramentas.</span><span class="sxs-lookup"><span data-stu-id="b7fcf-144">To run the query, right-click in any pane and click **Run**, or click the **Run** button on the toolbar.</span></span>|

#### <a name="example"></a><span data-ttu-id="b7fcf-145">Exemplo</span><span class="sxs-lookup"><span data-stu-id="b7fcf-145">Example</span></span>
 <span data-ttu-id="b7fcf-146">A consulta a seguir retorna a lista de sobrenomes da [!INCLUDE[ssSampleDBobject](../../../includes/sssampledbobject-md.md)] tabela de banco de dados **2008** `ContactType` para o `Person` esquema.</span><span class="sxs-lookup"><span data-stu-id="b7fcf-146">The following query returns the list of last names from the [!INCLUDE[ssSampleDBobject](../../../includes/sssampledbobject-md.md)]**2008** database `ContactType` table for the `Person` schema.</span></span>

```
SELECT Name FROM Person.ContactType
```

 <span data-ttu-id="b7fcf-147">Ao clicar em **Executar** , na barra de ferramentas, o comando no painel **Consulta** será executado e os resultados serão exibidos no painel **Resultado** .</span><span class="sxs-lookup"><span data-stu-id="b7fcf-147">When you click **Run** on the toolbar, the command in the **Query** pane runs and the results are displayed in the **Result** pane.</span></span> <span data-ttu-id="b7fcf-148">O conjunto de resultados exibe uma lista de 20 tipos de contatos, por exemplo, Proprietário ou Agente de Vendas.</span><span class="sxs-lookup"><span data-stu-id="b7fcf-148">The resultset displays a list of 20 types of contacts, for example, Owner or Sales Agent.</span></span>

### <a name="command-type-storedprocedure"></a><span data-ttu-id="b7fcf-149">Tipo de comando StoredProcedure</span><span class="sxs-lookup"><span data-stu-id="b7fcf-149">Command Type StoredProcedure</span></span>
 <span data-ttu-id="b7fcf-150">Quando você seleciona o **Comando typeStoredProcedure**, o designer de consulta baseado em texto apresenta dois painéis: Consulta e Resultado.</span><span class="sxs-lookup"><span data-stu-id="b7fcf-150">When you select **Command typeStoredProcedure**, the text-based query designer presents two panes: the Query pane and the Result pane.</span></span> <span data-ttu-id="b7fcf-151">Insira o nome do procedimento armazenado no painel Consulta e clique em **Executar** na barra de ferramentas.</span><span class="sxs-lookup"><span data-stu-id="b7fcf-151">Enter the stored procedure name in the Query pane and click **Run** on the toolbar.</span></span> <span data-ttu-id="b7fcf-152">Se o procedimento armazenado usar parâmetros, a caixa de diálogo **Definir Parâmetros de Consulta** será aberta.</span><span class="sxs-lookup"><span data-stu-id="b7fcf-152">If the stored procedures uses parameters, the **Define Query Parameters** dialog box opens.</span></span> <span data-ttu-id="b7fcf-153">Insira os valores dos parâmetros do procedimento armazenado.</span><span class="sxs-lookup"><span data-stu-id="b7fcf-153">Enter the parameter values for the stored procedure.</span></span> <span data-ttu-id="b7fcf-154">Um parâmetro de relatório é criado para cada parâmetro de entrada de procedimento armazenado.</span><span class="sxs-lookup"><span data-stu-id="b7fcf-154">A report parameter is created for every stored procedure input parameter.</span></span>

 <span data-ttu-id="b7fcf-155">A figura a seguir mostra os painéis Consulta e Resultados quando você executa um procedimento armazenado.</span><span class="sxs-lookup"><span data-stu-id="b7fcf-155">The following figure shows the Query and Results panes when you run a stored procedure.</span></span> <span data-ttu-id="b7fcf-156">Neste caso, os parâmetros de entrada são constantes.</span><span class="sxs-lookup"><span data-stu-id="b7fcf-156">In this case, the input parameters are constants.</span></span>

 <span data-ttu-id="b7fcf-157">![Procedimento armazenado no designer de consultas baseadas em texto](../../analysis-services/media/rs-relational-text-sp.gif "Procedimento armazenado no designer de consultas baseadas em texto")</span><span class="sxs-lookup"><span data-stu-id="b7fcf-157">![Stored procedure in text-based query designer](../../analysis-services/media/rs-relational-text-sp.gif "Stored procedure in text-based query designer")</span></span>

 <span data-ttu-id="b7fcf-158">A tabela a seguir descreve a função de cada painel.</span><span class="sxs-lookup"><span data-stu-id="b7fcf-158">The following table describes the function of each pane.</span></span>

|<span data-ttu-id="b7fcf-159">Painel</span><span class="sxs-lookup"><span data-stu-id="b7fcf-159">Pane</span></span>|<span data-ttu-id="b7fcf-160">Função</span><span class="sxs-lookup"><span data-stu-id="b7fcf-160">Function</span></span>|
|----------|--------------|
|<span data-ttu-id="b7fcf-161">Consulta</span><span class="sxs-lookup"><span data-stu-id="b7fcf-161">Query</span></span>|<span data-ttu-id="b7fcf-162">Exibe o nome do procedimento armazenado e os parâmetros de entrada.</span><span class="sxs-lookup"><span data-stu-id="b7fcf-162">Displays the name of the stored procedure and any input parameters.</span></span>|
|<span data-ttu-id="b7fcf-163">Result</span><span class="sxs-lookup"><span data-stu-id="b7fcf-163">Result</span></span>|<span data-ttu-id="b7fcf-164">Exibe os resultados da consulta.</span><span class="sxs-lookup"><span data-stu-id="b7fcf-164">Displays the results of the query.</span></span> <span data-ttu-id="b7fcf-165">Para executar a consulta, clique com o botão direito do mouse em qualquer painel e clique em **Executar**ou clique no botão **Executar** na barra de ferramentas.</span><span class="sxs-lookup"><span data-stu-id="b7fcf-165">To run the query, right-click in any pane and click **Run**, or click the **Run** button on the toolbar.</span></span>|

#### <a name="example"></a><span data-ttu-id="b7fcf-166">Exemplo</span><span class="sxs-lookup"><span data-stu-id="b7fcf-166">Example</span></span>
 <span data-ttu-id="b7fcf-167">A consulta a seguir chama o [!INCLUDE[ssSampleDBobject](../../../includes/sssampledbobject-md.md)] procedimento armazenado **2008** `uspGetWhereUsedProductID` .</span><span class="sxs-lookup"><span data-stu-id="b7fcf-167">The following query calls the [!INCLUDE[ssSampleDBobject](../../../includes/sssampledbobject-md.md)]**2008** stored procedure `uspGetWhereUsedProductID`.</span></span> <span data-ttu-id="b7fcf-168">Você deve inserir um valor para o parâmetro do número de identificação do produto quando executar a consulta.</span><span class="sxs-lookup"><span data-stu-id="b7fcf-168">You must enter a value for the product identification number parameter when you run the query.</span></span>

```
uspGetWhereUsedProductID
```

 <span data-ttu-id="b7fcf-169">Clique no botão **Executar** ( **!** ).</span><span class="sxs-lookup"><span data-stu-id="b7fcf-169">Click the **Run** (**!**) button.</span></span> <span data-ttu-id="b7fcf-170">Quando os parâmetros de consulta forem solicitados, use a seguinte tabela para digitar valores.</span><span class="sxs-lookup"><span data-stu-id="b7fcf-170">When prompted for the query parameters, use the following table to enter values.</span></span>

|||
|-|-|
|*@StartProductID*|<span data-ttu-id="b7fcf-171">820</span><span class="sxs-lookup"><span data-stu-id="b7fcf-171">820</span></span>|
|*@CheckDate*|<span data-ttu-id="b7fcf-172">20010115</span><span class="sxs-lookup"><span data-stu-id="b7fcf-172">20010115</span></span>|

 <span data-ttu-id="b7fcf-173">Para a data especificada, o conjunto de resultados exibe uma lista de 13 identificadores de produtos que usaram o número de componente especificado.</span><span class="sxs-lookup"><span data-stu-id="b7fcf-173">For the specified date, the result set displays a list of 13 product identifiers that used the specified component number.</span></span>

### <a name="command-type-tabledirect"></a><span data-ttu-id="b7fcf-174">Tipo de comando TableDirect</span><span class="sxs-lookup"><span data-stu-id="b7fcf-174">Command Type TableDirect</span></span>
 <span data-ttu-id="b7fcf-175">Quando você seleciona o **Comando typeTableDirect**, o designer de consulta baseado em texto apresenta dois painéis: Consulta e Resultado.</span><span class="sxs-lookup"><span data-stu-id="b7fcf-175">When you select **Command typeTableDirect**, the text-based query designer presents two panes: the Query pane and the Result pane.</span></span> <span data-ttu-id="b7fcf-176">Se você inserir uma tabela e clicar no botão **Executar** , todas as colunas dessa tabela serão retornadas.</span><span class="sxs-lookup"><span data-stu-id="b7fcf-176">When you enter a table and click the **Run** button, all the columns for that table are returned.</span></span>

#### <a name="example"></a><span data-ttu-id="b7fcf-177">Exemplo</span><span class="sxs-lookup"><span data-stu-id="b7fcf-177">Example</span></span>
 <span data-ttu-id="b7fcf-178">Para um tipo de fonte de dados OLE DB, a seguinte consulta de conjunto retorna um conjunto de resultados para todos os tipos de contato no banco de dados [!INCLUDE[ssSampleDBobject](../../../includes/sssampledbobject-md.md)] **2008** .</span><span class="sxs-lookup"><span data-stu-id="b7fcf-178">For a data source type OLE DB, the following dataset query returns a result set for all contact types in the [!INCLUDE[ssSampleDBobject](../../../includes/sssampledbobject-md.md)]**2008** database.</span></span>

 `Person.ContactType`

 <span data-ttu-id="b7fcf-179">Quando você insere o nome da tabela Person.ContactType, esse procedimento equivale à criação da instrução [!INCLUDE[tsql](../../../includes/tsql-md.md)] do `SELECT * FROM Person.ContactType`.</span><span class="sxs-lookup"><span data-stu-id="b7fcf-179">When you enter the table name Person.ContactType, it is the equivalent of creating the [!INCLUDE[tsql](../../../includes/tsql-md.md)] statement `SELECT * FROM Person.ContactType`.</span></span>

## <a name="see-also"></a><span data-ttu-id="b7fcf-180">Consulte Também</span><span class="sxs-lookup"><span data-stu-id="b7fcf-180">See Also</span></span>
 <span data-ttu-id="b7fcf-181">[Interface do usuário do designer de consulta relacional &#40;Construtor de Relatórios&#41;](relational-query-designer-user-interface-report-builder.md) [Designers de consulta &#40;Construtor de relatórios&#41;](../query-designers-report-builder.md)</span><span class="sxs-lookup"><span data-stu-id="b7fcf-181">[Relational Query Designer User Interface &#40;Report Builder&#41;](relational-query-designer-user-interface-report-builder.md) [Query Designers &#40;Report Builder&#41;](../query-designers-report-builder.md)</span></span>


