---
title: Tipo de conexão do SQL do Azure (SSRS) | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: reporting-services-native
ms.topic: conceptual
ms.assetid: c84def6c-e8cf-43d9-9912-098171a7ce79
author: maggiesMSFT
ms.author: maggies
manager: kfile
ms.openlocfilehash: e2c3d3e75117996f088cff96b2b7a8d4cd504127
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87576235"
---
# <a name="sql-azure-connection-type-ssrs"></a><span data-ttu-id="43927-102">Tipo de conexão do SQL Azure (SSRS)</span><span class="sxs-lookup"><span data-stu-id="43927-102">SQL Azure Connection Type (SSRS)</span></span>
  [!INCLUDE[msCoName](../../includes/msconame-md.md)]<span data-ttu-id="43927-103">[!INCLUDE[ssSDSfull](../../includes/sssdsfull-md.md)]o é um banco de dados relacional hospedado, baseado em nuvem, criado em [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] tecnologias.</span><span class="sxs-lookup"><span data-stu-id="43927-103">[!INCLUDE[ssSDSfull](../../includes/sssdsfull-md.md)] is a cloud-based, hosted relational database built on [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] technologies.</span></span> <span data-ttu-id="43927-104">Para incluir dados de um cubo do [!INCLUDE[ssSDS](../../includes/sssds-md.md)] no seu relatório, é necessário ter um conjunto de dados baseado na fonte de dados do relatório do tipo [!INCLUDE[ssSDS](../../includes/sssds-md.md)].</span><span class="sxs-lookup"><span data-stu-id="43927-104">To include data from [!INCLUDE[ssSDS](../../includes/sssds-md.md)] in your report, you must have a dataset that is based on a report data source of type [!INCLUDE[ssSDS](../../includes/sssds-md.md)].</span></span> <span data-ttu-id="43927-105">Esse tipo de fonte de dados interna é baseado na extensão de dados do [!INCLUDE[ssSDS](../../includes/sssds-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="43927-105">This built-in data source type is based on the [!INCLUDE[ssSDS](../../includes/sssds-md.md)] data extension.</span></span> <span data-ttu-id="43927-106">Use esse tipo de fonte de dados para se conectar a e recuperar dados do [!INCLUDE[ssSDS](../../includes/sssds-md.md)].</span><span class="sxs-lookup"><span data-stu-id="43927-106">Use this data source type to connect to and retrieve data from [!INCLUDE[ssSDS](../../includes/sssds-md.md)].</span></span>

 <span data-ttu-id="43927-107">Essa extensão de dados oferece suporte a parâmetros de vários valores, a agregações de servidor e a credenciais gerenciadas separadamente da cadeia de conexão.</span><span class="sxs-lookup"><span data-stu-id="43927-107">This data extension supports multivalued parameters, server aggregates, and credentials managed separately from the connection string.</span></span>

 [!INCLUDE[ssSDS](../../includes/sssds-md.md)] <span data-ttu-id="43927-108">é semelhante a uma instância do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] em suas premissas, e a obtenção de dados do [!INCLUDE[ssSDS](../../includes/sssds-md.md)] , com poucas exceções, é idêntica à obtenção de dados do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="43927-108">is similar to an instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] on your premises and getting data from [!INCLUDE[ssSDS](../../includes/sssds-md.md)] is, with a few exceptions, identical to getting data from [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span>

> [!NOTE]
>  <span data-ttu-id="43927-109">Ao abrir uma conexão com um [!INCLUDE[ssSDS](../../includes/sssds-md.md)], defina o tempo limite da conexão para 30 segundos.</span><span class="sxs-lookup"><span data-stu-id="43927-109">When opening a connection to a [!INCLUDE[ssSDS](../../includes/sssds-md.md)], set the connection timeout to 30 seconds.</span></span>

 <span data-ttu-id="43927-110">Para obter mais informações, consulte a [documentação do banco de dados SQL do Azure](https://docs.microsoft.com/azure/sql-database/).</span><span class="sxs-lookup"><span data-stu-id="43927-110">For more information, see [Azure SQL Database Documentation](https://docs.microsoft.com/azure/sql-database/).</span></span>

 <span data-ttu-id="43927-111">Use as informações deste tópico para criar uma fonte de dados.</span><span class="sxs-lookup"><span data-stu-id="43927-111">Use the information in this topic to build a data source.</span></span> <span data-ttu-id="43927-112">Para obter instruções detalhadas, consulte [Adicionar e verificar uma &#40;de conexão de dados ou fonte de dados Construtor de relatórios e SSRS&#41;](add-and-verify-a-data-connection-report-builder-and-ssrs.md).</span><span class="sxs-lookup"><span data-stu-id="43927-112">For step-by-step instructions, see [Add and Verify a Data Connection or Data Source &#40;Report Builder and SSRS&#41;](add-and-verify-a-data-connection-report-builder-and-ssrs.md).</span></span>

##  <a name="connection-string"></a><a name="Connection"></a><span data-ttu-id="43927-113">Cadeia de conexão</span><span class="sxs-lookup"><span data-stu-id="43927-113">Connection String</span></span>
 <span data-ttu-id="43927-114">Ao se conectar ao [!INCLUDE[ssSDS](../../includes/sssds-md.md)], você está se conectando a um objeto de banco de dados na nuvem.</span><span class="sxs-lookup"><span data-stu-id="43927-114">When you connect to [!INCLUDE[ssSDS](../../includes/sssds-md.md)], you are connecting to a database object in the cloud.</span></span> <span data-ttu-id="43927-115">Assim como nos bancos de dados no local, o banco de dados hospedado pode ter vários esquemas que tenham várias tabelas, exibições e procedimentos armazenados.</span><span class="sxs-lookup"><span data-stu-id="43927-115">Just like onsite databases, the hosted database might have multiple schemas that have multiple tables, views, and stored procedures.</span></span> <span data-ttu-id="43927-116">Especifique o objeto de banco de dados a ser usado no designer de consulta.</span><span class="sxs-lookup"><span data-stu-id="43927-116">You specify the database object to use in the query designer.</span></span> <span data-ttu-id="43927-117">Se não especificar um banco de dados na cadeia de conexão, você se conectará ao banco de dados padrão atribuído pelo administrador.</span><span class="sxs-lookup"><span data-stu-id="43927-117">If you do not specify a database in the connection string, you connect to the default database that the administrator assigned to you.</span></span>

 <span data-ttu-id="43927-118">Contate o administrador do banco de dados para obter informações sobre a conexão e as credenciais que devem ser usadas para se conectar à fonte de dados.</span><span class="sxs-lookup"><span data-stu-id="43927-118">Contact your database administrator for connection information and for the credentials to use to connect to the data source.</span></span> <span data-ttu-id="43927-119">O exemplo de cadeia de conexão a seguir especifica um banco de dados hospedado de exemplo chamado AdventureWorks.</span><span class="sxs-lookup"><span data-stu-id="43927-119">The following connection string example specifies a hosted sample database named AdventureWorks.</span></span>

```
Data Source=<host>;Initial Catalog=AdventureWorks; Encrypt=True;
```

 <span data-ttu-id="43927-120">Além disso, você usa a caixa de diálogo **Propriedades de Fontes de dados** para fornecer credenciais como nome de usuário e senha.</span><span class="sxs-lookup"><span data-stu-id="43927-120">In addition, you use the **Data Sources Properties** dialog box to provide credentials such as user name and password.</span></span> <span data-ttu-id="43927-121">As opções `User Id` e `Password` são adicionadas automaticamente à cadeia de conexão; você não precisa digitá-las como parte da cadeia de conexão.</span><span class="sxs-lookup"><span data-stu-id="43927-121">The `User Id` and `Password` options are automatically appended to the connection string; you do not need to type them as part of the connection string.</span></span>

 <span data-ttu-id="43927-122">Para obter mais informações e exemplos de cadeias de conexão, consulte [Conexões de dados, fontes de dados e cadeias de conexão no Construtor de Relatórios](../data-connections-data-sources-and-connection-strings-in-report-builder.md).</span><span class="sxs-lookup"><span data-stu-id="43927-122">For more information and connection string examples, see [Data Connections, Data Sources, and Connection Strings in Report Builder](../data-connections-data-sources-and-connection-strings-in-report-builder.md).</span></span>

##  <a name="credentials"></a><a name="Credentials"></a><span data-ttu-id="43927-123">Fornecidas</span><span class="sxs-lookup"><span data-stu-id="43927-123">Credentials</span></span>
 <span data-ttu-id="43927-124">Não há suporte para a Autenticação do Windows (segurança integrada).</span><span class="sxs-lookup"><span data-stu-id="43927-124">Windows Authentication (integrated security) is not supported.</span></span> <span data-ttu-id="43927-125">Se você tentar se conectar ao [!INCLUDE[ssSDS](../../includes/sssds-md.md)] usando a Autenticação do Windows, ocorrerá um erro.</span><span class="sxs-lookup"><span data-stu-id="43927-125">If you attempt to connect to [!INCLUDE[ssSDS](../../includes/sssds-md.md)] using Windows Authentication an error occurs.</span></span> [!INCLUDE[ssSDS](../../includes/sssds-md.md)] <span data-ttu-id="43927-126">só dá suporte à Autenticação do SQL Server (nome de usuário e senha), e os usuários devem fornecer credenciais (logon e senha) toda vez que se conectam ao [!INCLUDE[ssSDS](../../includes/sssds-md.md)].</span><span class="sxs-lookup"><span data-stu-id="43927-126">supports only SQL Server Authentication (user name and password) and users must provide credentials (login and password) every time they connect to [!INCLUDE[ssSDS](../../includes/sssds-md.md)].</span></span>

 <span data-ttu-id="43927-127">As credenciais devem ser suficientes para acessar o banco de dados.</span><span class="sxs-lookup"><span data-stu-id="43927-127">Credentials must be sufficient to access the database.</span></span> <span data-ttu-id="43927-128">Dependendo da consulta, você talvez precise de outras permissões, como permissões suficientes para executar procedimentos armazenados e acessar tabelas e exibições.</span><span class="sxs-lookup"><span data-stu-id="43927-128">Depending on your query, you might need other permissions, such as sufficient permissions to run stored procedures and access tables and views.</span></span> <span data-ttu-id="43927-129">O proprietário da fonte de dados externa deve configurar credenciais que sejam suficientes para fornecer acesso somente leitura aos objetos de banco de dados de que você precisa.</span><span class="sxs-lookup"><span data-stu-id="43927-129">The owner of the external data source must configure credentials that are sufficient to provide read-only access to the database objects that you need.</span></span>

 <span data-ttu-id="43927-130">Em um cliente de criação de relatório, as seguintes opções estão disponíveis para especificar credenciais:</span><span class="sxs-lookup"><span data-stu-id="43927-130">From a report authoring client, the following options are available to specify credentials:</span></span>

-   <span data-ttu-id="43927-131">Usar um nome de usuário e senha armazenados.</span><span class="sxs-lookup"><span data-stu-id="43927-131">Use a stored user name and password.</span></span> <span data-ttu-id="43927-132">Para negociar o salto duplo que ocorre quando o banco de dados que contém os dados de relatório é diferente do servidor de relatório, selecione as opções para usar as credenciais como credenciais do Windows.</span><span class="sxs-lookup"><span data-stu-id="43927-132">To negotiate the double hop that occurs when the database that contains the report data is different than the report server, select options to use credentials as Windows credentials.</span></span> <span data-ttu-id="43927-133">Também é possível optar por representar o usuário autenticado depois de se conectar à fonte de dados.</span><span class="sxs-lookup"><span data-stu-id="43927-133">You can also chose to impersonate the authenticated user after connecting to the data source.</span></span>

-   <span data-ttu-id="43927-134">Nenhuma credencial é necessária.</span><span class="sxs-lookup"><span data-stu-id="43927-134">No credentials are required.</span></span> <span data-ttu-id="43927-135">Para usar essa opção, você deve ter a conta de execução autônoma configurada no servidor de relatório.</span><span class="sxs-lookup"><span data-stu-id="43927-135">To use this option, you must have the unattended execution account configured on the report server.</span></span> <span data-ttu-id="43927-136">Para obter mais informações, consulte [Configurar a conta de execução autônoma &#40;Gerenciador de Configurações do SSRS&#41;](../install-windows/configure-the-unattended-execution-account-ssrs-configuration-manager.md) na [documentação do Reporting Services](https://go.microsoft.com/fwlink/?linkid=121312) em msdn.microsoft.com.</span><span class="sxs-lookup"><span data-stu-id="43927-136">For more information, see [Configure the Unattended Execution Account &#40;SSRS Configuration Manager&#41;](../install-windows/configure-the-unattended-execution-account-ssrs-configuration-manager.md) in the [Reporting Services documentation](https://go.microsoft.com/fwlink/?linkid=121312) in on msdn.microsoft.com.</span></span>

 <span data-ttu-id="43927-137">Para obter mais informações, consulte [conexões de dados, fontes de dados e cadeias de conexão em Reporting Services](../data-connections-data-sources-and-connection-strings-in-reporting-services.md) ou [especificar credenciais no construtor de relatórios](../specify-credentials-in-report-builder.md).</span><span class="sxs-lookup"><span data-stu-id="43927-137">For more information, see [Data Connections, Data Sources, and Connection Strings in Reporting Services](../data-connections-data-sources-and-connection-strings-in-reporting-services.md) or [Specify Credentials in Report Builder](../specify-credentials-in-report-builder.md).</span></span>

 

##  <a name="queries"></a><a name="Query"></a><span data-ttu-id="43927-138">Procura</span><span class="sxs-lookup"><span data-stu-id="43927-138">Queries</span></span>
 <span data-ttu-id="43927-139">Uma consulta especifica os dados a serem recuperados de um conjunto de dados de relatório.</span><span class="sxs-lookup"><span data-stu-id="43927-139">A query specifies which data to retrieve for a report dataset.</span></span> <span data-ttu-id="43927-140">As colunas no conjunto de resultados para uma consulta populam a coleção de campos para um conjunto de dados.</span><span class="sxs-lookup"><span data-stu-id="43927-140">The columns in the result set for a query populate the field collection for a dataset.</span></span> <span data-ttu-id="43927-141">Se a consulta retornar vários conjuntos de resultados, o relatório só processará o primeiro conjunto de resultados recuperado por uma consulta.</span><span class="sxs-lookup"><span data-stu-id="43927-141">If the query returns multiple result sets, the report processes only the first result set that the query retrieves.</span></span> <span data-ttu-id="43927-142">Embora haja algumas diferenças entre os [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] e [!INCLUDE[ssSDS](../../includes/sssds-md.md)]como os tamanhos de bancos de dados têm suporte, escrever consultas nos [!INCLUDE[ssSDS](../../includes/sssds-md.md)]é o mesmo que escrever consultas nos bancos de dados do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="43927-142">Although there are some differences between [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] and [!INCLUDE[ssSDS](../../includes/sssds-md.md)]s such as the sizes of databases supported, writing queries against [!INCLUDE[ssSDS](../../includes/sssds-md.md)]s is similar to writing queries against [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] databases.</span></span> <span data-ttu-id="43927-143">Não são suportadas algumas instruções [!INCLUDE[tsql](../../includes/tsql-md.md)] como BACKUP no [!INCLUDE[ssSDS](../../includes/sssds-md.md)], mas elas não são as que você usa nas consultas de relatório.</span><span class="sxs-lookup"><span data-stu-id="43927-143">Some [!INCLUDE[tsql](../../includes/tsql-md.md)] statements such as BACKUP are not supported in [!INCLUDE[ssSDS](../../includes/sssds-md.md)], but they are not ones that you use in report queries.</span></span> <span data-ttu-id="43927-144">Para obter mais informações, consulte [Tipo de conexão do SQL Server &#40;SSRS&#41;](sql-server-connection-type-ssrs.md).</span><span class="sxs-lookup"><span data-stu-id="43927-144">For more information, see [SQL Server Connection Type &#40;SSRS&#41;](sql-server-connection-type-ssrs.md).</span></span>

 <span data-ttu-id="43927-145">Por padrão, se você criar uma nova consulta ou abrir uma consulta existente que possa ser representada no designer de consultas gráficas, o designer de consultas relacionais estará disponível.</span><span class="sxs-lookup"><span data-stu-id="43927-145">By default, if you create a new query or open an existing query that can be represented in the graphical query designer, the relational query designer is available.</span></span> <span data-ttu-id="43927-146">Você pode especificar uma consulta das seguintes formas:</span><span class="sxs-lookup"><span data-stu-id="43927-146">You can specify a query in the following ways:</span></span>

-   <span data-ttu-id="43927-147">Crie uma consulta interativamente.</span><span class="sxs-lookup"><span data-stu-id="43927-147">Build a query interactively.</span></span> <span data-ttu-id="43927-148">Use o designer de consultas relacionais, que mostra uma exibição hierárquica de tabelas, exibições, procedimentos armazenados e outros itens de banco de dados, organizado por esquema de banco de dados.</span><span class="sxs-lookup"><span data-stu-id="43927-148">Use the relational query designer that displays a hierarchical view of tables, views, stored procedures, and other database items, organized by database schema.</span></span> <span data-ttu-id="43927-149">Selecione colunas em tabelas ou exibições, ou especifique procedimentos armazenados ou funções de valor de tabela.</span><span class="sxs-lookup"><span data-stu-id="43927-149">Select columns from tables or views, or specify stored procedures or table-valued functions.</span></span> <span data-ttu-id="43927-150">Limite o número de linhas de dados a serem recuperadas especificando critérios de filtragem.</span><span class="sxs-lookup"><span data-stu-id="43927-150">Limit the number of rows of data to retrieve by specifying filter criteria.</span></span> <span data-ttu-id="43927-151">Personalize o filtro quando o relatório for executado definindo a opção de parâmetro.</span><span class="sxs-lookup"><span data-stu-id="43927-151">Customize the filter when the report runs by setting the parameter option.</span></span>

-   <span data-ttu-id="43927-152">Digite ou cole uma consulta.</span><span class="sxs-lookup"><span data-stu-id="43927-152">Type or paste a query.</span></span> <span data-ttu-id="43927-153">Use o designer de consulta baseado em texto para inserir o texto do [!INCLUDE[tsql](../../includes/tsql-md.md)] diretamente, colar texto de consulta de outra fonte, inserir consultas complexas que não podem ser criadas com o designer de consultas relacionais ou inserir expressões baseadas em consulta.</span><span class="sxs-lookup"><span data-stu-id="43927-153">Use the text-based query designer to enter [!INCLUDE[tsql](../../includes/tsql-md.md)] text directly, to paste query text from another source, to enter complex queries that cannot be built by using the relational query designer, or to enter query-based expressions.</span></span>

-   <span data-ttu-id="43927-154">Importa uma consulta existente de um arquivo ou relatório.</span><span class="sxs-lookup"><span data-stu-id="43927-154">Import an existing query from a file or report.</span></span> <span data-ttu-id="43927-155">Use o botão **Importar** consulta em qualquer designer de consulta para navegar até um arquivo .sql ou .rdl e importar uma consulta.</span><span class="sxs-lookup"><span data-stu-id="43927-155">Use the **Import** query button from either query designer to browse to a .sql file or .rdl file and import a query.</span></span>

 <span data-ttu-id="43927-156">O designer de consultas com base em texto oferece aos dois modos a seguir:</span><span class="sxs-lookup"><span data-stu-id="43927-156">The text-based query designer supports the following two modes:</span></span>

-   <span data-ttu-id="43927-157">[Texto](#QueryText) Digite os comandos do [!INCLUDE[tsql](../../includes/tsql-md.md)] que selecionam dados da fonte de dados.</span><span class="sxs-lookup"><span data-stu-id="43927-157">[Text](#QueryText) Type [!INCLUDE[tsql](../../includes/tsql-md.md)] commands that select data from the data source.</span></span>

-   <span data-ttu-id="43927-158">[Procedimento armazenado](#QueryStoredProcedure) Escolha em uma lista de procedimentos armazenados.</span><span class="sxs-lookup"><span data-stu-id="43927-158">[Stored Procedure](#QueryStoredProcedure) Choose from a list of stored procedures.</span></span>

 <span data-ttu-id="43927-159">Para obter mais informações, consulte [Interface do usuário do Designer de Consultas Relacionais &#40;Construtor de Relatórios&#41;](relational-query-designer-user-interface-report-builder.md) e [Interface do usuário do Designer de Consultas Baseadas em Texto &#40;Construtor de Relatórios&#41;](text-based-query-designer-user-interface-report-builder.md).</span><span class="sxs-lookup"><span data-stu-id="43927-159">For more information, see [Relational Query Designer User Interface &#40;Report Builder&#41;](relational-query-designer-user-interface-report-builder.md) and [Text-based Query Designer User Interface &#40;Report Builder&#41;](text-based-query-designer-user-interface-report-builder.md).</span></span>

 <span data-ttu-id="43927-160">O designer de consultas gráficas usado pelo [!INCLUDE[ssSDS](../../includes/sssds-md.md)] fornece suporte interno ao agrupamento e às agregações para ajudar a escrever consultas que só recuperam dados resumidos.</span><span class="sxs-lookup"><span data-stu-id="43927-160">The graphical query designer that [!INCLUDE[ssSDS](../../includes/sssds-md.md)] uses provides built-in support for grouping and aggregates to help you write queries that retrieve only summary data.</span></span> <span data-ttu-id="43927-161">Os recursos de linguagem do [!INCLUDE[tsql](../../includes/tsql-md.md)] são: a cláusula GROUP BY, a palavra-chave DISTINCT e agregações, como SUM e COUNT.</span><span class="sxs-lookup"><span data-stu-id="43927-161">The [!INCLUDE[tsql](../../includes/tsql-md.md)] language features are: the GROUP BY clause, DISTINCT keyword, and aggregates such as SUM and COUNT.</span></span> <span data-ttu-id="43927-162">O designer de consultas baseado em texto dá suporte completo para a linguagem do [!INCLUDE[tsql](../../includes/tsql-md.md)] , incluindo agrupamentos e agregações.</span><span class="sxs-lookup"><span data-stu-id="43927-162">The text-based query designer provides full support for the [!INCLUDE[tsql](../../includes/tsql-md.md)] language, including grouping and aggregates.</span></span> <span data-ttu-id="43927-163">Para obter mais informações sobre o [!INCLUDE[tsql](../../includes/tsql-md.md)], consulte [Referência do Transact-SQL &#40;Mecanismo de Banco de Dados&#41;](/sql/t-sql/language-reference)nos [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [Manuais Online](https://go.microsoft.com/fwlink/?LinkId=141687) do  em msdn.microsoft.com.</span><span class="sxs-lookup"><span data-stu-id="43927-163">For more information about [!INCLUDE[tsql](../../includes/tsql-md.md)], see [Transact-SQL Reference &#40;Database Engine&#41;](/sql/t-sql/language-reference)in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [Books Online](https://go.microsoft.com/fwlink/?LinkId=141687) on msdn.microsoft.com.</span></span>

###  <a name="using-query-type-text"></a><a name="QueryText"></a><span data-ttu-id="43927-164">Usando o tipo de consulta Text</span><span class="sxs-lookup"><span data-stu-id="43927-164">Using Query Type Text</span></span>
 <span data-ttu-id="43927-165">No designer de consulta baseado em texto, você digita os comandos do [!INCLUDE[tsql](../../includes/tsql-md.md)] para definir os dados em um conjunto de dados.</span><span class="sxs-lookup"><span data-stu-id="43927-165">In the text-based query designer, you type [!INCLUDE[tsql](../../includes/tsql-md.md)] commands to define the data in a dataset.</span></span> <span data-ttu-id="43927-166">Por exemplo, a seguinte consulta [!INCLUDE[tsql](../../includes/tsql-md.md)] seleciona os nomes de todos os funcionários que são assistentes de marketing:</span><span class="sxs-lookup"><span data-stu-id="43927-166">For example, the following [!INCLUDE[tsql](../../includes/tsql-md.md)] query selects the names of all employees who are marketing assistants:</span></span>

```
SELECT
  HumanResources.Employee.BusinessEntityID
  ,HumanResources.Employee.JobTitle
  ,Person.Person.FirstName
  ,Person.Person.LastName
FROM
  Person.Person
  INNER JOIN HumanResources.Employee
    ON Person.Person.BusinessEntityID = HumanResources.Employee.BusinessEntityID
WHERE HumanResources.Employee.JobTitle = 'Marketing Assistant' 
```

 <span data-ttu-id="43927-167">Clique no botão **Executar** (**!**) na barra de ferramentas para executar a consulta e exibir um conjunto de resultados.</span><span class="sxs-lookup"><span data-stu-id="43927-167">Click the **Run** button (**!**) on the toolbar to run the query and display a result set.</span></span>

 <span data-ttu-id="43927-168">Para parametrizar essa consulta, adicione um parâmetro de consulta.</span><span class="sxs-lookup"><span data-stu-id="43927-168">To parameterize this query, add a query parameter.</span></span> <span data-ttu-id="43927-169">Por exemplo, altere a cláusula WHERE para o seguinte:</span><span class="sxs-lookup"><span data-stu-id="43927-169">For example, change the WHERE clause to the following:</span></span>

```
WHERE HumanResources.Employee.JobTitle = (@JobTitle)
```

 <span data-ttu-id="43927-170">Quando você executa a consulta, os parâmetros do relatório que correspondem aos parâmetros da consulta serão criados automaticamente.</span><span class="sxs-lookup"><span data-stu-id="43927-170">When you run the query, report parameters that correspond to query parameters are automatically created.</span></span> <span data-ttu-id="43927-171">Para obter mais informações, consulte [Parâmetros de consulta](#Parameters) mais adiante neste tópico.</span><span class="sxs-lookup"><span data-stu-id="43927-171">For more information, see [Query Parameters](#Parameters) later in this topic.</span></span>



###  <a name="using-query-type-storedprocedure"></a><a name="QueryStoredProcedure"></a><span data-ttu-id="43927-172">Usando o tipo de consulta StoredProcedure</span><span class="sxs-lookup"><span data-stu-id="43927-172">Using Query Type StoredProcedure</span></span>
 <span data-ttu-id="43927-173">Você pode especificar um procedimento armazenado para uma consulta de conjunto de dados das seguintes maneiras:</span><span class="sxs-lookup"><span data-stu-id="43927-173">You can specify a stored procedure for a dataset query in one of the following ways:</span></span>

-   <span data-ttu-id="43927-174">Na caixa de diálogo **Propriedades do Conjunto de dados** , defina a opção **Procedimento Armazenado** .</span><span class="sxs-lookup"><span data-stu-id="43927-174">In the **Dataset Properties** dialog box, set the **Stored Procedure** option.</span></span> <span data-ttu-id="43927-175">Faça suas escolhas na lista suspensa de procedimentos armazenados e funções avaliadas por tabela.</span><span class="sxs-lookup"><span data-stu-id="43927-175">Choose from the drop-down list of stored procedures and table-valued functions.</span></span>

-   <span data-ttu-id="43927-176">No designer de consulta relacional, no painel de exibição Banco de Dados, selecione um procedimento armazenado ou função avaliada por tabela.</span><span class="sxs-lookup"><span data-stu-id="43927-176">In the relational query designer, in the Database view pane, select a stored procedure or table-valued function.</span></span>

-   <span data-ttu-id="43927-177">No designer de consulta baseado em texto, selecione **StoredProcedure** na barra de ferramentas.</span><span class="sxs-lookup"><span data-stu-id="43927-177">In the text-based query designer, select **StoredProcedure** from the toolbar.</span></span>

 <span data-ttu-id="43927-178">Após selecionar um procedimento armazenado ou função avaliada por tabela, você pode executar a consulta.</span><span class="sxs-lookup"><span data-stu-id="43927-178">After you select a stored procedure or table-valued function, you can run the query.</span></span> <span data-ttu-id="43927-179">Você receberá uma solicitação para obter valores de parâmetro de entrada.</span><span class="sxs-lookup"><span data-stu-id="43927-179">You will be prompted for input parameter values.</span></span> <span data-ttu-id="43927-180">Quando você executa a consulta, os parâmetros do relatório que correspondem aos parâmetros de entrada serão criados automaticamente.</span><span class="sxs-lookup"><span data-stu-id="43927-180">When you run the query, report parameters that correspond to input parameters are automatically created.</span></span> <span data-ttu-id="43927-181">Para obter mais informações, consulte [Parâmetros de consulta](#Parameters) mais adiante neste tópico.</span><span class="sxs-lookup"><span data-stu-id="43927-181">For more information, see [Query Parameters](#Parameters) later in this topic.</span></span>

 <span data-ttu-id="43927-182">Somente o primeiro conjunto de resultados recuperado para um procedimento armazenado é suportado.</span><span class="sxs-lookup"><span data-stu-id="43927-182">Only the first result set that is retrieved for a stored procedure is supported.</span></span> <span data-ttu-id="43927-183">Se um procedimento armazenado retornar vários conjuntos de resultados, somente o primeiro será usado.</span><span class="sxs-lookup"><span data-stu-id="43927-183">If a stored procedure returns multiple result sets, only the first one is used.</span></span>

 <span data-ttu-id="43927-184">Se um procedimento armazenado tiver um parâmetro com um valor padrão, você poderá acessar esse valor usando a palavra-chave DEFAULT como valor para o parâmetro.</span><span class="sxs-lookup"><span data-stu-id="43927-184">If a stored procedure has a parameter that has a default value, you can access that value by using the DEFAULT keyword as a value for the parameter.</span></span> <span data-ttu-id="43927-185">Se o parâmetro de consulta estiver vinculado a um parâmetro de relatório, o usuário poderá digitar ou selecionar a palavra DEFAULT na caixa de entrada do parâmetro de relatório.</span><span class="sxs-lookup"><span data-stu-id="43927-185">If the query parameter is linked to a report parameter, the user can type or select the word DEFAULT in the input box for the report parameter.</span></span>

 <span data-ttu-id="43927-186">Para obter mais informações sobre procedimentos armazenados, consulte "Procedimentos armazenados (mecanismo de banco de dados)" nos [Manuais Online do SQL Server](https://go.microsoft.com/fwlink/?linkid=98335) em msdn.microsoft.com.</span><span class="sxs-lookup"><span data-stu-id="43927-186">For more information about stored procedures, see "Stored Procedures (Database Engine)" in [SQL Server Books Online](https://go.microsoft.com/fwlink/?linkid=98335) on msdn.microsoft.com.</span></span>



##  <a name="parameters"></a><a name="Parameters"></a> <span data-ttu-id="43927-187">Parâmetros</span><span class="sxs-lookup"><span data-stu-id="43927-187">Parameters</span></span>
 <span data-ttu-id="43927-188">Quando o texto de consulta contém variáveis ou procedimentos armazenados com parâmetros de entrada, os parâmetros de consulta para o conjunto de dados e os parâmetros de relatório para o relatório são automaticamente gerados.</span><span class="sxs-lookup"><span data-stu-id="43927-188">When query text contains query variables or stored procedures that have input parameters, the corresponding query parameters for the dataset and report parameters for the report are automatically generated.</span></span> <span data-ttu-id="43927-189">O texto de consulta não deve incluir uma instrução DECLARE para cada variável de consulta.</span><span class="sxs-lookup"><span data-stu-id="43927-189">The query text must not include the DECLARE statement for each query variable.</span></span>

 <span data-ttu-id="43927-190">Por exemplo, a consulta SQL a seguir cria um parâmetro de relatório chamado `EmpID`:</span><span class="sxs-lookup"><span data-stu-id="43927-190">For example, the following SQL query creates a report parameter named `EmpID`:</span></span>

```
SELECT FirstName, LastName FROM HumanResources.Employee E INNER JOIN
       Person.Contact C ON  E.ContactID=C.ContactID 
WHERE EmployeeID = (@EmpID)
```

 <span data-ttu-id="43927-191">Por padrão, cada parâmetro de relatório tem o tipo de dados Texto e um conjunto de dados criado automaticamente para fornecer uma lista suspensa dos valores disponíveis.</span><span class="sxs-lookup"><span data-stu-id="43927-191">By default, each report parameter has data type Text and an automatically created dataset to provide a drop-down list of available values.</span></span> <span data-ttu-id="43927-192">Depois que os parâmetros de relatório forem criados, talvez seja necessário alterar os valores padrão.</span><span class="sxs-lookup"><span data-stu-id="43927-192">After the report parameters are created, you might have to change default values.</span></span> <span data-ttu-id="43927-193">Para obter mais informações, consulte [Parâmetros de relatório &#40;Construtor de Relatórios e Designer de Relatórios&#41;](../report-design/report-parameters-report-builder-and-report-designer.md).</span><span class="sxs-lookup"><span data-stu-id="43927-193">For more information, see [Report Parameters &#40;Report Builder and Report Designer&#41;](../report-design/report-parameters-report-builder-and-report-designer.md).</span></span>



##  <a name="remarks"></a><a name="Remarks"></a> <span data-ttu-id="43927-194">Comentários</span><span class="sxs-lookup"><span data-stu-id="43927-194">Remarks</span></span>

###### <a name="alternate-data-extensions"></a><span data-ttu-id="43927-195">Extensões de dados alternativas</span><span class="sxs-lookup"><span data-stu-id="43927-195">Alternate Data Extensions</span></span>
 <span data-ttu-id="43927-196">Também é possível recuperar dados de um banco de dados do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] usando um tipo de fonte de dados ODBC.</span><span class="sxs-lookup"><span data-stu-id="43927-196">You can also retrieve data from a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] database by using an ODBC data source type.</span></span> <span data-ttu-id="43927-197">Não há suporte para a conexão ao [!INCLUDE[ssSDS](../../includes/sssds-md.md)] com o uso do OLE DB.</span><span class="sxs-lookup"><span data-stu-id="43927-197">Connecting to [!INCLUDE[ssSDS](../../includes/sssds-md.md)] by using OLE DB is not supported.</span></span>

 <span data-ttu-id="43927-198">Para obter mais informações, consulte [Tipo de conexão ODBC &#40;SSRS&#41;](odbc-connection-type-ssrs.md).</span><span class="sxs-lookup"><span data-stu-id="43927-198">For more information, see [ODBC Connection Type &#40;SSRS&#41;](odbc-connection-type-ssrs.md).</span></span>

###### <a name="platform-and-version-information"></a><span data-ttu-id="43927-199">Informações sobre plataforma e versão</span><span class="sxs-lookup"><span data-stu-id="43927-199">Platform and Version Information</span></span>
 <span data-ttu-id="43927-200">Para obter mais informações sobre o suporte de plataforma e à versão, consulte [Fontes de dados com suporte no Reporting Services &#40;SSRS&#41;](../create-deploy-and-manage-mobile-and-paginated-reports.md) na documentação do [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)] nos [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [Manuais Online](https://go.microsoft.com/fwlink/?linkid=121312) do .</span><span class="sxs-lookup"><span data-stu-id="43927-200">For more information about platform and version support, see [Data Sources Supported by Reporting Services &#40;SSRS&#41;](../create-deploy-and-manage-mobile-and-paginated-reports.md) in the [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)] documentation in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [Books Online](https://go.microsoft.com/fwlink/?linkid=121312).</span></span>



##  <a name="how-to-topics"></a><a name="HowTo"></a><span data-ttu-id="43927-201">Tópicos de instruções</span><span class="sxs-lookup"><span data-stu-id="43927-201">How-To Topics</span></span>
 <span data-ttu-id="43927-202">Esta seção contém instruções passo a passo para trabalhar com conexões de dados, fontes de dados e conjuntos de dados.</span><span class="sxs-lookup"><span data-stu-id="43927-202">This section contains step-by-step instructions for working with data connections, data sources, and datasets.</span></span>

 [<span data-ttu-id="43927-203">Adicionar e verificar uma conexão de dados ou uma fonte de dados &#40;Construtor de Relatórios e SSRS&#41;</span><span class="sxs-lookup"><span data-stu-id="43927-203">Add and Verify a Data Connection or Data Source &#40;Report Builder and SSRS&#41;</span></span>](add-and-verify-a-data-connection-report-builder-and-ssrs.md)

 [<span data-ttu-id="43927-204">Criar um conjunto de dados compartilhado ou um conjunto de dados inserido &#40;Construtor de Relatórios e SSRS&#41;</span><span class="sxs-lookup"><span data-stu-id="43927-204">Create a Shared Dataset or Embedded Dataset &#40;Report Builder and SSRS&#41;</span></span>](create-a-shared-dataset-or-embedded-dataset-report-builder-and-ssrs.md)

 [<span data-ttu-id="43927-205">Adicionar um filtro a um conjunto de dados &#40;Construtor de Relatórios e SSRS&#41;</span><span class="sxs-lookup"><span data-stu-id="43927-205">Add a Filter to a Dataset &#40;Report Builder and SSRS&#41;</span></span>](add-a-filter-to-a-dataset-report-builder-and-ssrs.md)



##  <a name="related-sections"></a><a name="Related"></a><span data-ttu-id="43927-206">Seções relacionadas</span><span class="sxs-lookup"><span data-stu-id="43927-206">Related Sections</span></span>
 <span data-ttu-id="43927-207">Estas seções da documentação especificam informações conceituais detalhadas sobre os dados do relatório e informações de procedimentos sobre como definir, personalizar e usar partes de um relatório relacionadas aos dados.</span><span class="sxs-lookup"><span data-stu-id="43927-207">These sections of the documentation provide in-depth conceptual information about report data, and procedural information about how to define, customize, and use parts of a report that are related to data.</span></span>

 <span data-ttu-id="43927-208">[Adicionar dados a um relatório &#40;Construtor de relatórios e SSRS&#41;](report-datasets-ssrs.md) Fornece uma visão geral de como acessar dados para seu relatório.</span><span class="sxs-lookup"><span data-stu-id="43927-208">[Add Data to a Report &#40;Report Builder and SSRS&#41;](report-datasets-ssrs.md) Provides an overview of accessing data for your report.</span></span>

 <span data-ttu-id="43927-209">[Conexões de dados, fontes de dados e cadeias de conexão no construtor de relatórios](../data-connections-data-sources-and-connection-strings-in-report-builder.md) Fornece informações sobre conexões de dados e fontes de dados.</span><span class="sxs-lookup"><span data-stu-id="43927-209">[Data Connections, Data Sources, and Connection Strings in Report Builder](../data-connections-data-sources-and-connection-strings-in-report-builder.md) Provides information about data connections and data sources.</span></span>

 <span data-ttu-id="43927-210">[Conjuntos de itens de relatório inseridos e conjuntos de &#40;compartilhados Construtor de relatórios e SSRS&#41;](report-embedded-datasets-and-shared-datasets-report-builder-and-ssrs.md) Fornece informações sobre conjuntos de dados inseridos e compartilhados.</span><span class="sxs-lookup"><span data-stu-id="43927-210">[Report Embedded Datasets and Shared Datasets &#40;Report Builder and SSRS&#41;](report-embedded-datasets-and-shared-datasets-report-builder-and-ssrs.md) Provides information about embedded and shared datasets.</span></span>

 <span data-ttu-id="43927-211">[Coleção de campos de conjunto de &#40;Construtor de relatórios e SSRS&#41;](dataset-fields-collection-report-builder-and-ssrs.md) Fornece informações sobre a coleção de campos de conjunto de dados gerada pela consulta.</span><span class="sxs-lookup"><span data-stu-id="43927-211">[Dataset Fields Collection &#40;Report Builder and SSRS&#41;](dataset-fields-collection-report-builder-and-ssrs.md) Provides information about the dataset field collection generated by the query.</span></span>

 <span data-ttu-id="43927-212">[Fontes de dados com suporte no Reporting Services &#40;SSRS&#41;](../create-deploy-and-manage-mobile-and-paginated-reports.md) na documentação do [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)] nos [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [Manuais Online](https://go.microsoft.com/fwlink/?linkid=121312) do .</span><span class="sxs-lookup"><span data-stu-id="43927-212">[Data Sources Supported by Reporting Services &#40;SSRS&#41;](../create-deploy-and-manage-mobile-and-paginated-reports.md) in the [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)] documentation in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [Books Online](https://go.microsoft.com/fwlink/?linkid=121312).</span></span>
<span data-ttu-id="43927-213">Fornece informações detalhadas sobre suporte à plataforma e à versão para cada extensão de dados.</span><span class="sxs-lookup"><span data-stu-id="43927-213">Provides in-depth information about platform and version support for each data extension.</span></span>



## <a name="see-also"></a><span data-ttu-id="43927-214">Consulte Também</span><span class="sxs-lookup"><span data-stu-id="43927-214">See Also</span></span>
 <span data-ttu-id="43927-215">[Parâmetros de relatório &#40;Construtor de relatórios e Report Designer&#41;](../report-design/report-parameters-report-builder-and-report-designer.md) [Filtrar, agrupar e classificar dados &#40;Construtor de Relatórios e SSRS&#41;](../report-design/filter-group-and-sort-data-report-builder-and-ssrs.md) [expressões &#40;Construtor de relatórios e SSRS&#41;](../report-design/expressions-report-builder-and-ssrs.md)</span><span class="sxs-lookup"><span data-stu-id="43927-215">[Report Parameters &#40;Report Builder and Report Designer&#41;](../report-design/report-parameters-report-builder-and-report-designer.md) [Filter, Group, and Sort Data &#40;Report Builder and SSRS&#41;](../report-design/filter-group-and-sort-data-report-builder-and-ssrs.md) [Expressions &#40;Report Builder and SSRS&#41;](../report-design/expressions-report-builder-and-ssrs.md)</span></span>


