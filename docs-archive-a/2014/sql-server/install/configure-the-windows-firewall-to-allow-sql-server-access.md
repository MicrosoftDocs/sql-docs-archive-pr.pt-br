---
title: Configurar o Firewall do Windows para permitir acesso ao SQL Server | Microsoft Docs
ms.custom: ''
ms.date: 06/22/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: install
ms.topic: conceptual
helpviewer_keywords:
- Windows Firewall ports
- WMI firewall ports
- Windows Firewall [Database Engine]
- firewall systems, configuring
- advfirewall
- firewall systems
- rules firewall
- firewall systems, overview and port list
- 1433 TCP port
- portopening using netsh
- ports [SQL Server], TCP
- netsh to open firewall ports
ms.assetid: f55c6a0e-b6bd-4803-b51a-f3a419803024
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: d1a0bc32040fc90e5f73faa708f314722bc8f3b5
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87571789"
---
# <a name="configure-the-windows-firewall-to-allow-sql-server-access"></a><span data-ttu-id="cbf26-102">Configure the Windows Firewall to Allow SQL Server Access</span><span class="sxs-lookup"><span data-stu-id="cbf26-102">Configure the Windows Firewall to Allow SQL Server Access</span></span>
  <span data-ttu-id="cbf26-103">Os sistemas de Firewall ajudam a impedir o acesso não autorizado aos recursos do computador.</span><span class="sxs-lookup"><span data-stu-id="cbf26-103">Firewall systems help prevent unauthorized access to computer resources.</span></span> <span data-ttu-id="cbf26-104">Se um firewall estiver ativado mas não corretamente configurado, as tentativas de conexão ao [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] poderão ser bloqueadas.</span><span class="sxs-lookup"><span data-stu-id="cbf26-104">If a firewall is turned on but not correctly configured, attempts to connect to [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] might be blocked.</span></span>  
  
 <span data-ttu-id="cbf26-105">Para acessar uma instância do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] através de um firewall, é necessário configurar o firewall no computador que está executando o [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="cbf26-105">To access an instance of the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] through a firewall, you must configure the firewall on the computer that is running [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] to allow access.</span></span> <span data-ttu-id="cbf26-106">O firewall é um componente do [!INCLUDE[msCoName](../../includes/msconame-md.md)] Windows.</span><span class="sxs-lookup"><span data-stu-id="cbf26-106">The firewall is a component of [!INCLUDE[msCoName](../../includes/msconame-md.md)] Windows.</span></span> <span data-ttu-id="cbf26-107">Você também pode instalar um firewall de outra empresa.</span><span class="sxs-lookup"><span data-stu-id="cbf26-107">You can also install a firewall from another company.</span></span> <span data-ttu-id="cbf26-108">Este tópico discute como configurar o firewall do Windows, mas os princípios básicos se aplicam a outros programas de firewall.</span><span class="sxs-lookup"><span data-stu-id="cbf26-108">This topic discusses how to configure the Windows firewall, but the basic principles apply to other firewall programs.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="cbf26-109">Este tópico apresenta uma visão geral da configuração do firewall e resume informações de interesse de um administrador do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="cbf26-109">This topic provides an overview of firewall configuration and summarizes information of interest to a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] administrator.</span></span> <span data-ttu-id="cbf26-110">Para obter mais informações sobre o firewall e informações sobre firewall autoritativo, consulte a documentação do firewall, como [Windows Firewall with Advanced Security and IPsec](https://go.microsoft.com/fwlink/?LinkID=116904).</span><span class="sxs-lookup"><span data-stu-id="cbf26-110">For more information about the firewall and for authoritative firewall information, see the firewall documentation, such as [Windows Firewall with Advanced Security and IPsec](https://go.microsoft.com/fwlink/?LinkID=116904).</span></span>  
  
 <span data-ttu-id="cbf26-111">Os usuários que já estão familiarizados com o item **Firewall do Windows** no Painel de Controle e com o snap-in Firewall do Windows com Segurança Avançada do MMC (Console de Gerenciamento Microsoft) e sabem as configurações de firewall que desejam definir podem passar diretamente para os tópicos desta lista:</span><span class="sxs-lookup"><span data-stu-id="cbf26-111">Users familiar with the **Windows Firewall** item in Control Panel and with the Windows Firewall with Advanced Security Microsoft Management Console (MMC) snap-in and who know which firewall settings they want to configure can move directly to the topics in the following list:</span></span>  
  
-   [<span data-ttu-id="cbf26-112">Configurar um Firewall do Windows para acesso ao Mecanismo de Banco de Dados</span><span class="sxs-lookup"><span data-stu-id="cbf26-112">Configure a Windows Firewall for Database Engine Access</span></span>](../../database-engine/configure-windows/configure-a-windows-firewall-for-database-engine-access.md)  
  
-   [<span data-ttu-id="cbf26-113">Configurar o Firewall do Windows para permitir o acesso ao Analysis Services</span><span class="sxs-lookup"><span data-stu-id="cbf26-113">Configure the Windows Firewall to Allow Analysis Services Access</span></span>](../../../2014/analysis-services/instances/configure-the-windows-firewall-to-allow-analysis-services-access.md)  
  
-   [<span data-ttu-id="cbf26-114">Configurar um firewall para acesso ao servidor de relatório</span><span class="sxs-lookup"><span data-stu-id="cbf26-114">Configure a Firewall for Report Server Access</span></span>](../../reporting-services/report-server/configure-a-firewall-for-report-server-access.md)  
  

  
##  <a name="basic-firewall-information"></a><a name="BKMK_basic"></a> <span data-ttu-id="cbf26-115">Informações básicas sobre o firewall</span><span class="sxs-lookup"><span data-stu-id="cbf26-115">Basic Firewall Information</span></span>  
 <span data-ttu-id="cbf26-116">Os firewalls inspecionam pacotes recebidos e os comparam a um conjunto de regras.</span><span class="sxs-lookup"><span data-stu-id="cbf26-116">Firewalls work by inspecting incoming packets, and comparing them against a set of rules.</span></span> <span data-ttu-id="cbf26-117">Se as regras autorizarem o pacote, o firewall o transmitirá ao protocolo TCP/IP para processamento adicional.</span><span class="sxs-lookup"><span data-stu-id="cbf26-117">If the rules allow the packet, the firewall passes the packet to the TCP/IP protocol for additional processing.</span></span> <span data-ttu-id="cbf26-118">Se as regras não autorizarem o pacote, o firewall o descartará e, se o log estiver habilitado, criará uma entrada em seu arquivo de log.</span><span class="sxs-lookup"><span data-stu-id="cbf26-118">If the rules do not allow the packet, the firewall discards the packet and, if logging is enabled, creates an entry in the firewall logging file.</span></span>  
  
 <span data-ttu-id="cbf26-119">A lista de tráfego permitido é preenchida de uma das seguintes maneiras:</span><span class="sxs-lookup"><span data-stu-id="cbf26-119">The list of allowed traffic is populated in one of the following ways:</span></span>  
  
-   <span data-ttu-id="cbf26-120">Quando o computador que tem o firewall habilitado inicia a comunicação, o firewall cria uma entrada na lista de forma que a resposta seja permitida.</span><span class="sxs-lookup"><span data-stu-id="cbf26-120">When the computer that has the firewall enabled initiates communication, the firewall creates an entry in the list so that the response is allowed.</span></span> <span data-ttu-id="cbf26-121">A resposta recebida é considerada tráfego solicitado, e você não precisa configurá-la.</span><span class="sxs-lookup"><span data-stu-id="cbf26-121">The incoming response is considered solicited traffic and you do not have to configure this.</span></span>  
  
-   <span data-ttu-id="cbf26-122">Um administrador configura as exceções do firewall.</span><span class="sxs-lookup"><span data-stu-id="cbf26-122">An administrator configures exceptions to the firewall.</span></span> <span data-ttu-id="cbf26-123">Isto permite acesso a determinados programas executados em seu computador ou acesso a portas de conexão especificadas do computador.</span><span class="sxs-lookup"><span data-stu-id="cbf26-123">This allows either access to specified programs running on your computer, or access to specified connection ports on your computer.</span></span> <span data-ttu-id="cbf26-124">Nesse caso, o computador aceita tráfego de entrada não solicitado quando funciona como servidor, ouvinte ou item par.</span><span class="sxs-lookup"><span data-stu-id="cbf26-124">In this case, the computer accepts unsolicited incoming traffic when acting as a server, a listener, or a peer.</span></span> <span data-ttu-id="cbf26-125">Esse é o tipo de configuração que deve ser concluída para que se possa estabelecer conexão com o [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="cbf26-125">This is the type of configuration that must be completed to connect to [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span>  
  
 <span data-ttu-id="cbf26-126">Escolher a estratégia de firewall é uma tarefa mais complexa do que simplesmente decidir se uma dada porta deve ficar aberta ou fechada.</span><span class="sxs-lookup"><span data-stu-id="cbf26-126">Choosing a firewall strategy is more complex than just deciding if a given port should be open or closed.</span></span> <span data-ttu-id="cbf26-127">Ao elaborar uma estratégia de firewall para sua empresa, é importante que você considere todas as regras e opções de configuração disponíveis.</span><span class="sxs-lookup"><span data-stu-id="cbf26-127">When designing a firewall strategy for your enterprise, make sure that you consider all the rules and configuration options available to you.</span></span> <span data-ttu-id="cbf26-128">Este tópico não examina todas as possíveis opções de firewall.</span><span class="sxs-lookup"><span data-stu-id="cbf26-128">This topic does not review all the possible firewall options.</span></span> <span data-ttu-id="cbf26-129">É recomendável analisar os seguintes documentos:</span><span class="sxs-lookup"><span data-stu-id="cbf26-129">We recommend that you review the following documents:</span></span>  
  
 [<span data-ttu-id="cbf26-130">Guia de Introdução ao Firewall do Windows com Segurança Avançada</span><span class="sxs-lookup"><span data-stu-id="cbf26-130">Windows Firewall with Advanced Security Getting Started Guide</span></span>](https://go.microsoft.com/fwlink/?LinkId=116080)  
  
 [<span data-ttu-id="cbf26-131">Windows Firewall with Advanced Security Design Guide</span><span class="sxs-lookup"><span data-stu-id="cbf26-131">Windows Firewall with Advanced Security Design Guide</span></span>](https://go.microsoft.com/fwlink/?LinkId=116904)  
  
 [<span data-ttu-id="cbf26-132">Introduction to Server and Domain Isolation</span><span class="sxs-lookup"><span data-stu-id="cbf26-132">Introduction to Server and Domain Isolation</span></span>](https://go.microsoft.com/fwlink/?LinkId=116081)  
  
##  <a name="default-firewall-settings"></a><a name="BKMK_default"></a> <span data-ttu-id="cbf26-133">Configurações padrão do firewall</span><span class="sxs-lookup"><span data-stu-id="cbf26-133">Default Firewall Settings</span></span>  
 <span data-ttu-id="cbf26-134">A primeira etapa do planejamento da configuração do firewall é determinar o status atual do firewall do sistema operacional.</span><span class="sxs-lookup"><span data-stu-id="cbf26-134">The first step in planning your firewall configuration is to determine the current status of the firewall for your operating system.</span></span> <span data-ttu-id="cbf26-135">Se o sistema operacional foi atualizado de uma versão anterior, as configurações de firewall anteriores podem ter sido preservadas.</span><span class="sxs-lookup"><span data-stu-id="cbf26-135">If the operating system was upgraded from a previous version, the earlier firewall settings may have been preserved.</span></span> <span data-ttu-id="cbf26-136">Além disso, as configurações de firewall podem ter sido alteradas por outro administrador ou por uma Política de Grupo do seu domínio.</span><span class="sxs-lookup"><span data-stu-id="cbf26-136">Also, the firewall settings could have been changed by another administrator or by a Group Policy in your domain.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="cbf26-137">A ativação do firewall afetará outros programas que acessam este computador, como o compartilhamento de arquivos e impressoras, e conexões de área de trabalho remota.</span><span class="sxs-lookup"><span data-stu-id="cbf26-137">Turning on the firewall will affect other programs that access this computer, such as file and print sharing, and remote desktop connections.</span></span> <span data-ttu-id="cbf26-138">Os administradores devem considerar todos os aplicativos que estão em execução no computador antes de ajustar as configurações do firewall.</span><span class="sxs-lookup"><span data-stu-id="cbf26-138">Administrators should consider all applications that are running on the computer before adjusting the firewall settings.</span></span>  
  
##  <a name="programs-to-configure-the-firewall"></a><a name="BKMK_programs"></a> <span data-ttu-id="cbf26-139">Programas para configurar o firewall</span><span class="sxs-lookup"><span data-stu-id="cbf26-139">Programs to Configure the Firewall</span></span>  
 <span data-ttu-id="cbf26-140">Há três maneiras de configurar o Firewall do Windows.</span><span class="sxs-lookup"><span data-stu-id="cbf26-140">There are three ways to configure the Windows Firewall settings.</span></span>  
  
-   <span data-ttu-id="cbf26-141">**Item Firewall do Windows no Painel de Controle**</span><span class="sxs-lookup"><span data-stu-id="cbf26-141">**Windows Firewall item in Control Panel**</span></span>  
  
     <span data-ttu-id="cbf26-142">O item **Firewall do Windows** pode ser aberto do Painel de Controle.</span><span class="sxs-lookup"><span data-stu-id="cbf26-142">The **Windows Firewall** item can be opened from Control Panel.</span></span>  
  
    > [!IMPORTANT]  
    >  <span data-ttu-id="cbf26-143">Alterações feitas no item **Firewall do Windows** do Painel de Controle afetam somente o perfil atual.</span><span class="sxs-lookup"><span data-stu-id="cbf26-143">Changes made in the **Windows Firewall** item in Control Panel only affect the current profile.</span></span> <span data-ttu-id="cbf26-144">Dispositivos móveis, como laptops, não devem usar o item **Firewall do Windows** do Painel de Controle, uma vez que o perfil pode mudar quando conectado em uma configuração diferente.</span><span class="sxs-lookup"><span data-stu-id="cbf26-144">Mobile devices, for example a laptop, should not use the **Windows Firewall** item in Control Panel as the profile might change when it is connected in a different configuration.</span></span> <span data-ttu-id="cbf26-145">Assim, o perfil anteriormente configurado não terá efeito.</span><span class="sxs-lookup"><span data-stu-id="cbf26-145">Then the previously-configured profile will not be in effect.</span></span> <span data-ttu-id="cbf26-146">Para obter mais informações sobre perfis, consulte [Guia de introdução ao Firewall do Windows com Segurança Avançada](https://go.microsoft.com/fwlink/?LinkId=116080).</span><span class="sxs-lookup"><span data-stu-id="cbf26-146">For more information about profiles, see [Windows Firewall with Advanced Security Getting Started Guide](https://go.microsoft.com/fwlink/?LinkId=116080).</span></span>  
  
     <span data-ttu-id="cbf26-147">O item **Firewall do Windows** no Painel de Controle permite configurar opções básicas.</span><span class="sxs-lookup"><span data-stu-id="cbf26-147">The **Windows Firewall** item in Control Panel allows you to configure basic options.</span></span> <span data-ttu-id="cbf26-148">Entre elas estão as seguintes:</span><span class="sxs-lookup"><span data-stu-id="cbf26-148">These include the following:</span></span>  
  
    -   <span data-ttu-id="cbf26-149">Ativar ou desativar o item **Firewall do Windows** no Painel de Controle</span><span class="sxs-lookup"><span data-stu-id="cbf26-149">Turning the **Windows Firewall** item in Control Panel on or off</span></span>  
  
    -   <span data-ttu-id="cbf26-150">Habilitar e desabilitar regras</span><span class="sxs-lookup"><span data-stu-id="cbf26-150">Enabling and disabling rules</span></span>  
  
    -   <span data-ttu-id="cbf26-151">Conceder exceções para portas e programas</span><span class="sxs-lookup"><span data-stu-id="cbf26-151">Granting exceptions for ports and programs</span></span>  
  
    -   <span data-ttu-id="cbf26-152">Definir algumas restrições de escopo</span><span class="sxs-lookup"><span data-stu-id="cbf26-152">Setting some scope restrictions</span></span>  
  
     <span data-ttu-id="cbf26-153">O item **Firewall do Windows** no Painel de Controle é mais apropriado para usuários que não têm experiência em configuração de firewall e que estão configurando opções básicas do firewall para computadores que não são móveis.</span><span class="sxs-lookup"><span data-stu-id="cbf26-153">The **Windows Firewall** item in Control Panel is most appropriate for users who are not experienced in firewall configuration, and who are configuring basic firewall options for computers that are not mobile.</span></span> <span data-ttu-id="cbf26-154">Você também pode abrir o item **Firewall do Windows** no painel de controle do `run` comando usando o seguinte procedimento:</span><span class="sxs-lookup"><span data-stu-id="cbf26-154">You can also open the **Windows Firewall** item in Control Panel from the `run` command by using the following procedure:</span></span>  
  
    #### <a name="to-open-the-windows-firewall-item"></a><span data-ttu-id="cbf26-155">Para abrir o item Firewall do Windows</span><span class="sxs-lookup"><span data-stu-id="cbf26-155">To open the Windows Firewall item</span></span>  
  
    1.  <span data-ttu-id="cbf26-156">No menu **Iniciar** , clique em **Executar**e digite `firewall.cpl`.</span><span class="sxs-lookup"><span data-stu-id="cbf26-156">On the **Start** menu, click **Run**, and then enter `firewall.cpl`.</span></span>  
  
    2.  [!INCLUDE[clickOK](../../includes/clickok-md.md)]  
  
-   <span data-ttu-id="cbf26-157">**Console de Gerenciamento Microsoft (MMC)**</span><span class="sxs-lookup"><span data-stu-id="cbf26-157">**Microsoft Management Console (MMC)**</span></span>  
  
     <span data-ttu-id="cbf26-158">O snap-in do MMC Firewall do Windows com Segurança Avançada permite definir configurações de firewall mais avançadas.</span><span class="sxs-lookup"><span data-stu-id="cbf26-158">The Windows Firewall with Advanced Security MMC snap-in lets you configure more advanced firewall settings.</span></span> <span data-ttu-id="cbf26-159">Este snap-in apresenta a maioria das opções de firewall de um jeito fácil de usar, além de todos os perfis de firewall.</span><span class="sxs-lookup"><span data-stu-id="cbf26-159">This snap-in presents most of the firewall options in an easy-to-use manner, and presents all firewall profiles.</span></span> <span data-ttu-id="cbf26-160">Para obter mais informações, veja [Usando o snap-in Firewall do Windows com Segurança Avançada](#BKMK_WF_msc) , mais adiante neste tópico.</span><span class="sxs-lookup"><span data-stu-id="cbf26-160">For more information, see [Using the Windows Firewall with Advanced Security Snap-in](#BKMK_WF_msc) later in this topic.</span></span>  
  
-   <span data-ttu-id="cbf26-161">**netsh**</span><span class="sxs-lookup"><span data-stu-id="cbf26-161">**netsh**</span></span>  
  
     <span data-ttu-id="cbf26-162">A ferramenta **netsh.exe** pode ser usada por um administrador para configurar e monitorar computadores baseados no Windows em um prompt de comando ou por meio de um arquivo em lotes **.**</span><span class="sxs-lookup"><span data-stu-id="cbf26-162">The **netsh.exe** tool can be used by an administrator to configure and monitor Windows-based computers at a command prompt or using a batch file **.**</span></span> <span data-ttu-id="cbf26-163">Com a ferramenta **netsh** , você pode direcionar os comandos de contexto inseridos para o auxiliar apropriado que, em seguida, executará o comando.</span><span class="sxs-lookup"><span data-stu-id="cbf26-163">By using the **netsh** tool, you can direct the context commands you enter to the appropriate helper, and the helper then performs the command.</span></span> <span data-ttu-id="cbf26-164">Um auxiliar é um arquivo .dll (Dynamic Link Library) que estende a funcionalidade da ferramenta **netsh** fornecendo configuração, monitoramento e suporte para um ou mais serviços, utilitários ou protocolos.</span><span class="sxs-lookup"><span data-stu-id="cbf26-164">A helper is a Dynamic Link Library (.dll) file that extends the functionality of the **netsh** tool by providing configuration, monitoring, and support for one or more services, utilities, or protocols.</span></span> <span data-ttu-id="cbf26-165">Todos os sistemas operacionais que dão suporte ao [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] têm um auxiliar de firewall.</span><span class="sxs-lookup"><span data-stu-id="cbf26-165">All operating systems that support [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] have a firewall helper.</span></span> [!INCLUDE[firstref_longhorn](../../includes/firstref-longhorn-md.md)] <span data-ttu-id="cbf26-166">também possui um auxiliar avançado de firewall chamado **advfirewall**.</span><span class="sxs-lookup"><span data-stu-id="cbf26-166">also has an advanced firewall helper called **advfirewall**.</span></span> <span data-ttu-id="cbf26-167">Os detalhes sobre como usar o **netsh** não são abordados neste tópico.</span><span class="sxs-lookup"><span data-stu-id="cbf26-167">The details of using **netsh** are not discussed in this topic.</span></span> <span data-ttu-id="cbf26-168">No entanto, muitas das opções de configuração descritas podem ser configuradas usando o **netsh**.</span><span class="sxs-lookup"><span data-stu-id="cbf26-168">However, many of the configuration options described can be configured by using **netsh**.</span></span> <span data-ttu-id="cbf26-169">Por exemplo, execute o seguinte script em um prompt de comando para abrir a porta TCP 1433:</span><span class="sxs-lookup"><span data-stu-id="cbf26-169">For example, run the following script at a command prompt to open TCP port 1433:</span></span>  
  
    ```  
    netsh firewall set portopening protocol = TCP port = 1433 name = SQLPort mode = ENABLE scope = SUBNET profile = CURRENT  
    ```  
  
     <span data-ttu-id="cbf26-170">Um exemplo semelhante usando o auxiliar do Firewall do Windows para Segurança Avançada:</span><span class="sxs-lookup"><span data-stu-id="cbf26-170">A similar example using the Windows Firewall for Advanced Security helper:</span></span>  
  
    ```  
    netsh advfirewall firewall add rule name = SQLPort dir = in protocol = tcp action = allow localport = 1433 remoteip = localsubnet profile = DOMAIN  
    ```  
  
     <span data-ttu-id="cbf26-171">Para obter mais informações sobre o **netsh**, consulte os seguintes links:</span><span class="sxs-lookup"><span data-stu-id="cbf26-171">For more information about **netsh**, see the following links:</span></span>  
  
    -   [<span data-ttu-id="cbf26-172">Como usar a ferramenta Netsh.exe e as opções de linha de comando</span><span class="sxs-lookup"><span data-stu-id="cbf26-172">How to Use the Netsh.exe Tool and Command-Line Switches</span></span>](https://support.microsoft.com/kb/242468)  
  
    -   [<span data-ttu-id="cbf26-173">Como usar o contexto de "netsh advfirewall firewall" em vez do contexto "netsh firewall" para controlar o comportamento do Firewall do Windows no Windows Server 2008 e no Windows Vista</span><span class="sxs-lookup"><span data-stu-id="cbf26-173">How to use the "netsh advfirewall firewall" context instead of the "netsh firewall" context to control Windows Firewall behavior in Windows Server 2008 and in Windows Vista</span></span>](https://support.microsoft.com/kb/947709)  
  
    -   [<span data-ttu-id="cbf26-174">Comando "netsh firewall" juntamente com o parâmetro "perfil = all" não configura o perfil público em um computador com Windows Vista</span><span class="sxs-lookup"><span data-stu-id="cbf26-174">The "netsh firewall" command together with the "profile=all" parameter does not configure the public profile on a Windows Vista-based computer</span></span>](https://support.microsoft.com/kb/947213)  
  
## <a name="ports-used-by-ssnoversion"></a><span data-ttu-id="cbf26-175">Portas usadas pelo [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]</span><span class="sxs-lookup"><span data-stu-id="cbf26-175">Ports Used By [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]</span></span>  
 <span data-ttu-id="cbf26-176">As tabelas a seguir podem ajudar a identificar as portas que são usadas pelo [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="cbf26-176">The following tables can help you identify the ports being used by [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span>  
  
###  <a name="ports-used-by-the-database-engine"></a><a name="BKMK_ssde"></a> <span data-ttu-id="cbf26-177">Ports Used By the Database Engine</span><span class="sxs-lookup"><span data-stu-id="cbf26-177">Ports Used By the Database Engine</span></span>  
 <span data-ttu-id="cbf26-178">A tabela a seguir lista as portas que são mais usadas pelo [!INCLUDE[ssDE](../../includes/ssde-md.md)].</span><span class="sxs-lookup"><span data-stu-id="cbf26-178">The following table lists the ports that are frequently used by the [!INCLUDE[ssDE](../../includes/ssde-md.md)].</span></span>  
  
|<span data-ttu-id="cbf26-179">Cenário</span><span class="sxs-lookup"><span data-stu-id="cbf26-179">Scenario</span></span>|<span data-ttu-id="cbf26-180">Porta</span><span class="sxs-lookup"><span data-stu-id="cbf26-180">Port</span></span>|<span data-ttu-id="cbf26-181">Comentários</span><span class="sxs-lookup"><span data-stu-id="cbf26-181">Comments</span></span>|  
|--------------|----------|--------------|  
|[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="cbf26-182">executando sobre TCP</span><span class="sxs-lookup"><span data-stu-id="cbf26-182">default instance running over TCP</span></span>|<span data-ttu-id="cbf26-183">Porta TCP 1433</span><span class="sxs-lookup"><span data-stu-id="cbf26-183">TCP port 1433</span></span>|<span data-ttu-id="cbf26-184">Esta é a porta mais comum permitida pelo firewall.</span><span class="sxs-lookup"><span data-stu-id="cbf26-184">This is the most common port allowed through the firewall.</span></span> <span data-ttu-id="cbf26-185">Ela se aplica a conexões de rotina com a instalação padrão do [!INCLUDE[ssDE](../../includes/ssde-md.md)]ou com uma instância nomeada, que é a única em execução no computador.</span><span class="sxs-lookup"><span data-stu-id="cbf26-185">It applies to routine connections to the default installation of the [!INCLUDE[ssDE](../../includes/ssde-md.md)], or a named instance that is the only instance running on the computer.</span></span> <span data-ttu-id="cbf26-186">(Existem considerações especiais para instâncias nomeadas.</span><span class="sxs-lookup"><span data-stu-id="cbf26-186">(Named instances have special considerations.</span></span> <span data-ttu-id="cbf26-187">Consulte [portas dinâmicas](#BKMK_dynamic_ports) mais adiante neste tópico.)</span><span class="sxs-lookup"><span data-stu-id="cbf26-187">See [Dynamic Ports](#BKMK_dynamic_ports) later in this topic.)</span></span>|  
|[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="cbf26-188">na configuração padrão</span><span class="sxs-lookup"><span data-stu-id="cbf26-188">named instances in the default configuration</span></span>|<span data-ttu-id="cbf26-189">A porta TCP é uma porta dinâmica determinada no momento em que o [!INCLUDE[ssDE](../../includes/ssde-md.md)] é iniciado.</span><span class="sxs-lookup"><span data-stu-id="cbf26-189">The TCP port is a dynamic port determined at the time the [!INCLUDE[ssDE](../../includes/ssde-md.md)] starts.</span></span>|<span data-ttu-id="cbf26-190">Consulte a discussão abaixo, na seção [Portas dinâmicas](#BKMK_dynamic_ports).</span><span class="sxs-lookup"><span data-stu-id="cbf26-190">See the discussion below in the section [Dynamic Ports](#BKMK_dynamic_ports).</span></span> <span data-ttu-id="cbf26-191">A porta UDP 1434 pode ser necessária para o Serviço Navegador do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] quando você usa instâncias nomeadas.</span><span class="sxs-lookup"><span data-stu-id="cbf26-191">UDP port 1434 might be required for the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Browser Service when you are using named instances.</span></span>|  
|[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="cbf26-192">quando configuradas para usar uma porta fixa</span><span class="sxs-lookup"><span data-stu-id="cbf26-192">named instances when they are configured to use a fixed port</span></span>|<span data-ttu-id="cbf26-193">O número de porta configurado pelo administrador.</span><span class="sxs-lookup"><span data-stu-id="cbf26-193">The port number configured by the administrator.</span></span>|<span data-ttu-id="cbf26-194">Consulte a discussão abaixo, na seção [Portas dinâmicas](#BKMK_dynamic_ports).</span><span class="sxs-lookup"><span data-stu-id="cbf26-194">See the discussion below in the section [Dynamic Ports](#BKMK_dynamic_ports).</span></span>|  
|<span data-ttu-id="cbf26-195">Conexão de Administrador Dedicada</span><span class="sxs-lookup"><span data-stu-id="cbf26-195">Dedicated Admin Connection</span></span>|<span data-ttu-id="cbf26-196">Porta TCP 1434 para a instância padrão.</span><span class="sxs-lookup"><span data-stu-id="cbf26-196">TCP port 1434 for the default instance.</span></span> <span data-ttu-id="cbf26-197">Outras portas são usadas para instâncias nomeadas.</span><span class="sxs-lookup"><span data-stu-id="cbf26-197">Other ports are used for named instances.</span></span> <span data-ttu-id="cbf26-198">Verifique o número da porta no log de erros.</span><span class="sxs-lookup"><span data-stu-id="cbf26-198">Check the error log for the port number.</span></span>|<span data-ttu-id="cbf26-199">Por padrão, as conexões remotas com a Conexão de Administrador Dedicada (DAC) não são habilitadas.</span><span class="sxs-lookup"><span data-stu-id="cbf26-199">By default, remote connections to the Dedicated Administrator Connection (DAC) are not enabled.</span></span> <span data-ttu-id="cbf26-200">Para habilitar a DAC remota, use a faceta Configuração da Área da Superfície.</span><span class="sxs-lookup"><span data-stu-id="cbf26-200">To enable remote DAC, use the Surface Area Configuration facet.</span></span> <span data-ttu-id="cbf26-201">Para obter mais informações, consulte [Surface Area Configuration](../../relational-databases/security/surface-area-configuration.md).</span><span class="sxs-lookup"><span data-stu-id="cbf26-201">For more information, see [Surface Area Configuration](../../relational-databases/security/surface-area-configuration.md).</span></span>|  
|[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="cbf26-202">Serviço Navegador</span><span class="sxs-lookup"><span data-stu-id="cbf26-202">Browser service</span></span>|<span data-ttu-id="cbf26-203">Porta UDP 1434</span><span class="sxs-lookup"><span data-stu-id="cbf26-203">UDP port 1434</span></span>|<span data-ttu-id="cbf26-204">O serviço Navegador do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] verifica se há conexões de entrada com uma instância nomeada e informa para o cliente o número da porta TCP que corresponde a essa instância nomeada.</span><span class="sxs-lookup"><span data-stu-id="cbf26-204">The [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Browser service listens for incoming connections to a named instance and provides the client the TCP port number that corresponds to that named instance.</span></span> <span data-ttu-id="cbf26-205">Normalmente o serviço Navegador do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] é iniciado sempre que são usadas instâncias nomeadas do [!INCLUDE[ssDE](../../includes/ssde-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="cbf26-205">Normally the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Browser service is started whenever named instances of the [!INCLUDE[ssDE](../../includes/ssde-md.md)] are used.</span></span> <span data-ttu-id="cbf26-206">O serviço Navegador do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] não precisa ser iniciado se o cliente está configurado para se conectar à porta específica da instância nomeada.</span><span class="sxs-lookup"><span data-stu-id="cbf26-206">The [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Browser service does not have to be started if the client is configured to connect to the specific port of the named instance.</span></span>|  
|[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="cbf26-207">executando em um ponto de extremidade HTTP.</span><span class="sxs-lookup"><span data-stu-id="cbf26-207">instance running over an HTTP endpoint.</span></span>|<span data-ttu-id="cbf26-208">Pode ser especificada quando um ponto de extremidade HTTP é criado.</span><span class="sxs-lookup"><span data-stu-id="cbf26-208">Can be specified when an HTTP endpoint is created.</span></span> <span data-ttu-id="cbf26-209">O padrão é a porta TCP 80 para tráfego CLEAR_PORT e 443 para tráfego SSL_PORT.</span><span class="sxs-lookup"><span data-stu-id="cbf26-209">The default is TCP port 80 for CLEAR_PORT traffic and 443 for SSL_PORT traffic.</span></span>|<span data-ttu-id="cbf26-210">Usada para uma conexão HTTP por meio de uma URL.</span><span class="sxs-lookup"><span data-stu-id="cbf26-210">Used for an HTTP connection through a URL.</span></span>|  
|[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="cbf26-211">executando sobre um ponto de extremidade HTTPS</span><span class="sxs-lookup"><span data-stu-id="cbf26-211">default instance running over an HTTPS endpoint.</span></span>|<span data-ttu-id="cbf26-212">Porta TCP 443</span><span class="sxs-lookup"><span data-stu-id="cbf26-212">TCP port 443</span></span>|<span data-ttu-id="cbf26-213">Usada para uma conexão HTTPS por meio de uma URL.</span><span class="sxs-lookup"><span data-stu-id="cbf26-213">Used for an HTTPS connection through a URL.</span></span> <span data-ttu-id="cbf26-214">HTTPS é uma conexão HTTP que usa o protocolo SSL.</span><span class="sxs-lookup"><span data-stu-id="cbf26-214">HTTPS is an HTTP connection that uses secure sockets layer (SSL).</span></span>|  
|[!INCLUDE[ssSB](../../includes/sssb-md.md)]|<span data-ttu-id="cbf26-215">Porta TCP 4022.</span><span class="sxs-lookup"><span data-stu-id="cbf26-215">TCP port 4022.</span></span> <span data-ttu-id="cbf26-216">Para verificar a porta usada, execute a seguinte consulta:</span><span class="sxs-lookup"><span data-stu-id="cbf26-216">To verify the port used, execute the following query:</span></span><br /><br /> `SELECT name, protocol_desc, port, state_desc`<br /><br /> `FROM sys.tcp_endpoints`<br /><br /> `WHERE type_desc = 'SERVICE_BROKER'`|<span data-ttu-id="cbf26-217">Não existe uma porta padrão para o [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)][!INCLUDE[ssSB](../../includes/sssb-md.md)], mas esta é a configuração convencional usada nos exemplos dos Manuais Online.</span><span class="sxs-lookup"><span data-stu-id="cbf26-217">There is no default port for [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)][!INCLUDE[ssSB](../../includes/sssb-md.md)], but this is the conventional configuration used in Books Online examples.</span></span>|  
|<span data-ttu-id="cbf26-218">Espelhamento de banco de dados</span><span class="sxs-lookup"><span data-stu-id="cbf26-218">Database Mirroring</span></span>|<span data-ttu-id="cbf26-219">Porta escolhida pelo administrador.</span><span class="sxs-lookup"><span data-stu-id="cbf26-219">Administrator chosen port.</span></span> <span data-ttu-id="cbf26-220">Para determinar a porta, execute a seguinte consulta:</span><span class="sxs-lookup"><span data-stu-id="cbf26-220">To determine the port, execute the following query:</span></span><br /><br /> `SELECT name, protocol_desc, port, state_desc FROM sys.tcp_endpoints`<br /><br /> `WHERE type_desc = 'DATABASE_MIRRORING'`|<span data-ttu-id="cbf26-221">Não existe uma porta padrão para o espelhamento de banco de dados, mas os exemplos dos Manuais Online usam a porta TCP 7022.</span><span class="sxs-lookup"><span data-stu-id="cbf26-221">There is no default port for database mirroring however Books Online examples use TCP port 7022.</span></span> <span data-ttu-id="cbf26-222">É muito importante evitar interromper um ponto de extremidade de espelhamento em uso, principalmente no modo de alta segurança com failover automático.</span><span class="sxs-lookup"><span data-stu-id="cbf26-222">It is very important to avoid interrupting an in-use mirroring endpoint, especially in high-safety mode with automatic failover.</span></span> <span data-ttu-id="cbf26-223">Sua configuração de firewall deve evitar dividir o quorum.</span><span class="sxs-lookup"><span data-stu-id="cbf26-223">Your firewall configuration must avoid breaking quorum.</span></span> <span data-ttu-id="cbf26-224">Para obter mais informações, consulte [Especificar um endereço de rede do servidor &#40;Espelhamento de banco de dados&#41;](../../database-engine/database-mirroring/specify-a-server-network-address-database-mirroring.md).</span><span class="sxs-lookup"><span data-stu-id="cbf26-224">For more information, see [Specify a Server Network Address &#40;Database Mirroring&#41;](../../database-engine/database-mirroring/specify-a-server-network-address-database-mirroring.md).</span></span>|  
|<span data-ttu-id="cbf26-225">Replicação</span><span class="sxs-lookup"><span data-stu-id="cbf26-225">Replication</span></span>|<span data-ttu-id="cbf26-226">As conexões de replicação com o [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] usam as portas normais típicas do [!INCLUDE[ssDE](../../includes/ssde-md.md)] (porta TCP 1433 para a instância padrão etc.)</span><span class="sxs-lookup"><span data-stu-id="cbf26-226">Replication connections to [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] use the typical regular [!INCLUDE[ssDE](../../includes/ssde-md.md)] ports (TCP port 1433 for the default instance, etc.)</span></span><br /><br /> <span data-ttu-id="cbf26-227">A sincronização da Web e o acesso FTP/UNC para instantâneo de replicação exigem a abertura de portas adicionais no firewall.</span><span class="sxs-lookup"><span data-stu-id="cbf26-227">Web synchronization and FTP/UNC access for replication snapshot require additional ports to be opened on the firewall.</span></span> <span data-ttu-id="cbf26-228">Para transferir o esquema e os dados iniciais de um local para outro, a replicação pode usar o FTP (porta TCP 21) ou sincronizar via HTTP (porta TCP 80) ou Compartilhamento de Arquivos.</span><span class="sxs-lookup"><span data-stu-id="cbf26-228">To transfer initial data and schema from one location to another, replication can use FTP (TCP port 21), or sync over HTTP (TCP port 80) or File Sharing.</span></span> <span data-ttu-id="cbf26-229">O compartilhamento de arquivos usa a porta UDP 137 e 138, e a porta TCP 139 caso esteja usando o NetBIOS.</span><span class="sxs-lookup"><span data-stu-id="cbf26-229">File sharing uses UDP port 137 and 138, and TCP port 139 if it using NetBIOS.</span></span> <span data-ttu-id="cbf26-230">O compartilhamento de arquivos usa a porta TCP 445.</span><span class="sxs-lookup"><span data-stu-id="cbf26-230">File Sharing uses TCP port 445.</span></span>|<span data-ttu-id="cbf26-231">Para sincronização por HTTP, a replicação usa o ponto de extremidade do IIS (portas configuráveis, mas o padrão é a porta 80), mas o processo do IIS se conecta ao [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] back-end através das portas padrão (1433 para a instância padrão).</span><span class="sxs-lookup"><span data-stu-id="cbf26-231">For sync over HTTP, replication uses the IIS endpoint (ports for which are configurable but is port 80 by default), but the IIS process connects to the backend [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] through the standard ports (1433 for the default instance.</span></span><br /><br /> <span data-ttu-id="cbf26-232">Durante a sincronização da Web usando FTP, a transferência por FTP ocorre entre o IIS e o publicador do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , e não entre o assinante e o IIS.</span><span class="sxs-lookup"><span data-stu-id="cbf26-232">During Web synchronization using FTP, the FTP transfer is between IIS and the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] publisher, not between subscriber and IIS.</span></span>|  
|[!INCLUDE[tsql](../../includes/tsql-md.md)] <span data-ttu-id="cbf26-233">depurador</span><span class="sxs-lookup"><span data-stu-id="cbf26-233">debugger</span></span>|<span data-ttu-id="cbf26-234">Porta TCP 135</span><span class="sxs-lookup"><span data-stu-id="cbf26-234">TCP port 135</span></span><br /><br /> <span data-ttu-id="cbf26-235">Consulte [Considerações especiais sobre a porta 135](#BKMK_port_135)</span><span class="sxs-lookup"><span data-stu-id="cbf26-235">See [Special Considerations for Port 135](#BKMK_port_135)</span></span><br /><br /> <span data-ttu-id="cbf26-236">A exceção [IPsec](#BKMK_additional_ports) também pode ser necessária.</span><span class="sxs-lookup"><span data-stu-id="cbf26-236">The [IPsec](#BKMK_additional_ports) exception might also be required.</span></span>|<span data-ttu-id="cbf26-237">Se estiver usando [!INCLUDE[vsprvs](../../includes/vsprvs-md.md)], no computador host [!INCLUDE[vsprvs](../../includes/vsprvs-md.md)] , você também deverá adicionar **Devenv.exe** à lista Exceções e abrir a porta TCP 135.</span><span class="sxs-lookup"><span data-stu-id="cbf26-237">If using [!INCLUDE[vsprvs](../../includes/vsprvs-md.md)], on the [!INCLUDE[vsprvs](../../includes/vsprvs-md.md)] host computer, you must also add **Devenv.exe** to the Exceptions list and open TCP port 135.</span></span><br /><br /> <span data-ttu-id="cbf26-238">Se estiver usando o [!INCLUDE[ssManStudio](../../includes/ssmanstudio-md.md)], no computador host [!INCLUDE[ssManStudio](../../includes/ssmanstudio-md.md)] , você também deverá adicionar **ssms.exe** à lista Exceções e abrir a porta TCP 135.</span><span class="sxs-lookup"><span data-stu-id="cbf26-238">If using [!INCLUDE[ssManStudio](../../includes/ssmanstudio-md.md)], on the [!INCLUDE[ssManStudio](../../includes/ssmanstudio-md.md)] host computer, you must also add **ssms.exe** to the Exceptions list and open TCP port 135.</span></span> <span data-ttu-id="cbf26-239">Para obter mais informações, consulte [Configurar o depurador Transact-SQL](../../relational-databases/scripting/configure-firewall-rules-before-running-the-tsql-debugger.md).</span><span class="sxs-lookup"><span data-stu-id="cbf26-239">For more information, see [Configure the Transact-SQL Debugger](../../relational-databases/scripting/configure-firewall-rules-before-running-the-tsql-debugger.md).</span></span>|  
  
 <span data-ttu-id="cbf26-240">Para obter instruções passo a passo para configurar o Firewall do Windows para o [!INCLUDE[ssDE](../../includes/ssde-md.md)], veja [Configurar um Firewall do Windows para acesso ao Mecanismo de Banco de Dados](../../database-engine/configure-windows/configure-a-windows-firewall-for-database-engine-access.md).</span><span class="sxs-lookup"><span data-stu-id="cbf26-240">For step by step instructions to configure the Windows Firewall for the [!INCLUDE[ssDE](../../includes/ssde-md.md)], see [Configure a Windows Firewall for Database Engine Access](../../database-engine/configure-windows/configure-a-windows-firewall-for-database-engine-access.md).</span></span>  
  
####  <a name="dynamic-ports"></a><a name="BKMK_dynamic_ports"></a> <span data-ttu-id="cbf26-241">Portas dinâmicas</span><span class="sxs-lookup"><span data-stu-id="cbf26-241">Dynamic Ports</span></span>  
 <span data-ttu-id="cbf26-242">Por padrão, as instâncias nomeadas (incluindo [!INCLUDE[ssExpress](../../includes/ssexpress-md.md)]) usam portas dinâmicas.</span><span class="sxs-lookup"><span data-stu-id="cbf26-242">By default, named instances (including [!INCLUDE[ssExpress](../../includes/ssexpress-md.md)]) use dynamic ports.</span></span> <span data-ttu-id="cbf26-243">Isso significa que sempre que o [!INCLUDE[ssDE](../../includes/ssde-md.md)] é iniciado, identifica uma porta disponível e usa esse número de porta.</span><span class="sxs-lookup"><span data-stu-id="cbf26-243">That means that every time that the [!INCLUDE[ssDE](../../includes/ssde-md.md)] starts, it identifies an available port and uses that port number.</span></span> <span data-ttu-id="cbf26-244">Se a instância nomeada for a única instância do [!INCLUDE[ssDE](../../includes/ssde-md.md)] instalada, provavelmente ele usará a porta TCP 1433.</span><span class="sxs-lookup"><span data-stu-id="cbf26-244">If the named instance is the only instance of the [!INCLUDE[ssDE](../../includes/ssde-md.md)] installed, it will probably use TCP port 1433.</span></span> <span data-ttu-id="cbf26-245">Se outras instâncias do [!INCLUDE[ssDE](../../includes/ssde-md.md)] estiverem instaladas, provavelmente ele usará outra porta TCP.</span><span class="sxs-lookup"><span data-stu-id="cbf26-245">If other instances of the [!INCLUDE[ssDE](../../includes/ssde-md.md)] are installed, it will probably use a different TCP port.</span></span> <span data-ttu-id="cbf26-246">Como a porta selecionada pode mudar cada vez que o [!INCLUDE[ssDE](../../includes/ssde-md.md)] é iniciado, é difícil configurar o firewall para permitir acesso para o número de porta correto.</span><span class="sxs-lookup"><span data-stu-id="cbf26-246">Because the port selected might change every time that the [!INCLUDE[ssDE](../../includes/ssde-md.md)] is started, it is difficult to configure the firewall to enable access to the correct port number.</span></span> <span data-ttu-id="cbf26-247">Portanto, se um firewall for usado, é recomendável reconfigurar o [!INCLUDE[ssDE](../../includes/ssde-md.md)] para usar sempre o mesmo número de porta.</span><span class="sxs-lookup"><span data-stu-id="cbf26-247">Therefore, if a firewall is used, we recommend reconfiguring the [!INCLUDE[ssDE](../../includes/ssde-md.md)] to use the same port number every time.</span></span> <span data-ttu-id="cbf26-248">Isso é chamado de porta fixa ou porta estática.</span><span class="sxs-lookup"><span data-stu-id="cbf26-248">This is called a fixed port or a static port.</span></span> <span data-ttu-id="cbf26-249">Para obter mais informações, veja [Configurar um servidor para escuta em uma porta TCP específica &#40;SQL Server Configuration Manager&#41;](../../database-engine/configure-windows/configure-a-server-to-listen-on-a-specific-tcp-port.md).</span><span class="sxs-lookup"><span data-stu-id="cbf26-249">For more information, see [Configure a Server to Listen on a Specific TCP Port &#40;SQL Server Configuration Manager&#41;](../../database-engine/configure-windows/configure-a-server-to-listen-on-a-specific-tcp-port.md).</span></span>  
  
 <span data-ttu-id="cbf26-250">Uma alternativa à configuração de uma instância nomeada para escutar em uma porta fixa é criar uma exceção no firewall para um programa do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] como o **sqlservr.exe** (para o [!INCLUDE[ssDE](../../includes/ssde-md.md)]).</span><span class="sxs-lookup"><span data-stu-id="cbf26-250">An alternative to configuring a named instance to listen on a fixed port is to create an exception in the firewall for a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] program such as **sqlservr.exe** (for the [!INCLUDE[ssDE](../../includes/ssde-md.md)]).</span></span> <span data-ttu-id="cbf26-251">Isso pode ser conveniente, mas o número da porta não será exibido na coluna **Porta Local** da página **Regras de Entrada** quando você usar o snap-in Firewall do Windows com Segurança Avançada do MMC.</span><span class="sxs-lookup"><span data-stu-id="cbf26-251">This can be convenient, but the port number will not appear in the **Local Port** column of the **Inbound Rules** page when you are using the Windows Firewall with Advanced Security MMC snap-in.</span></span> <span data-ttu-id="cbf26-252">Isso pode tornar mais difícil auditar quais portas estão abertas.</span><span class="sxs-lookup"><span data-stu-id="cbf26-252">This can make it more difficult to audit which ports are open.</span></span> <span data-ttu-id="cbf26-253">Outra consideração é que um service pack ou atualização cumulativa pode alterar o caminho para o executável do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , o que invalidará a regra do firewall.</span><span class="sxs-lookup"><span data-stu-id="cbf26-253">Another consideration is that a service pack or cumulative update can change the path to the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] executable which will invalidate the firewall rule.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="cbf26-254">O procedimento a seguir usa o item **Firewall do Windows** no Painel de Controle.</span><span class="sxs-lookup"><span data-stu-id="cbf26-254">The following procedure uses the **Windows Firewall** item in Control Panel.</span></span> <span data-ttu-id="cbf26-255">O snap-in Firewall do Windows com Segurança Avançada do MMC pode configurar uma regra mais complexa.</span><span class="sxs-lookup"><span data-stu-id="cbf26-255">The Windows Firewall with Advanced Security MMC snap-in can configure a more complex rule.</span></span> <span data-ttu-id="cbf26-256">Isso inclui configurar uma exceção de serviço, que pode ser útil para proporcionar defesa mais vigorosa.</span><span class="sxs-lookup"><span data-stu-id="cbf26-256">This includes configuring a service exception which can be useful for providing defense in depth.</span></span> <span data-ttu-id="cbf26-257">Veja abaixo [Usando o snap-in Firewall do Windows com Segurança Avançada](#BKMK_WF_msc) .</span><span class="sxs-lookup"><span data-stu-id="cbf26-257">See [Using the Windows Firewall with Advanced Security Snap-in](#BKMK_WF_msc) below.</span></span>  
  
###### <a name="to-add-a-program-exception-to-the-firewall-using-the-windows-firewall-item-in-control-panel"></a><span data-ttu-id="cbf26-258">Para adicionar uma exceção de programa ao firewall usando o item Firewall do Windows no Painel de Controle</span><span class="sxs-lookup"><span data-stu-id="cbf26-258">To add a program exception to the firewall using the Windows Firewall item in Control Panel.</span></span>  
  
1.  <span data-ttu-id="cbf26-259">Na guia **Exceções** do item **Firewall do Windows** , clique em **Adicionar um programa**.</span><span class="sxs-lookup"><span data-stu-id="cbf26-259">On the **Exceptions** tab of the **Windows Firewall** item in Control Panel, click **Add a program**.</span></span>  
  
2.  <span data-ttu-id="cbf26-260">Navegue até o local da instância do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] que você deseja permitir por meio do firewall, por exemplo, **C:\Program Files\Microsoft SQL Server\MSSQL12. <instance_name> \MSSQL\Binn**, selecione **sqlservr.exe**e clique em **abrir**.</span><span class="sxs-lookup"><span data-stu-id="cbf26-260">Browse to the location of the instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] that you want to allow through the firewall, for example **C:\Program Files\Microsoft SQL Server\MSSQL12.<instance_name>\MSSQL\Binn**, select **sqlservr.exe**, and then click **Open**.</span></span>  
  
3.  [!INCLUDE[clickOK](../../includes/clickok-md.md)]  
  
 <span data-ttu-id="cbf26-261">Para obter mais informações sobre pontos de extremidade, veja [Configurar o Mecanismo de Banco de Dados para escutar em várias portas TCP](../../database-engine/configure-windows/configure-the-database-engine-to-listen-on-multiple-tcp-ports.md) e [Exibições de catálogo de pontos de extremidade &#40;Transact-SQL&#41;](/sql/relational-databases/system-catalog-views/endpoints-catalog-views-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="cbf26-261">For more information about endpoints, see [Configure the Database Engine to Listen on Multiple TCP Ports](../../database-engine/configure-windows/configure-the-database-engine-to-listen-on-multiple-tcp-ports.md) and [Endpoints Catalog Views &#40;Transact-SQL&#41;](/sql/relational-databases/system-catalog-views/endpoints-catalog-views-transact-sql).</span></span>  
  
###  <a name="ports-used-by-analysis-services"></a><a name="BKMK_ssas"></a> <span data-ttu-id="cbf26-262">Portas usadas pelo Analysis Services</span><span class="sxs-lookup"><span data-stu-id="cbf26-262">Ports Used By Analysis Services</span></span>  
 <span data-ttu-id="cbf26-263">A tabela a seguir lista as portas que são mais usadas pelo [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="cbf26-263">The following table lists the ports that are frequently used by [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)].</span></span>  
  
|<span data-ttu-id="cbf26-264">Recurso</span><span class="sxs-lookup"><span data-stu-id="cbf26-264">Feature</span></span>|<span data-ttu-id="cbf26-265">Porta</span><span class="sxs-lookup"><span data-stu-id="cbf26-265">Port</span></span>|<span data-ttu-id="cbf26-266">Comentários</span><span class="sxs-lookup"><span data-stu-id="cbf26-266">Comments</span></span>|  
|-------------|----------|--------------|  
|[!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)]|<span data-ttu-id="cbf26-267">Porta TCP 2383 para a instância padrão</span><span class="sxs-lookup"><span data-stu-id="cbf26-267">TCP port 2383 for the default instance</span></span>|<span data-ttu-id="cbf26-268">A porta padrão para a instância padrão do [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="cbf26-268">The standard port for the default instance of [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)].</span></span>|  
|[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="cbf26-269">Serviço Navegador</span><span class="sxs-lookup"><span data-stu-id="cbf26-269">Browser service</span></span>|<span data-ttu-id="cbf26-270">A porta TCP 2382 só é necessária para uma instância nomeada do [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)]</span><span class="sxs-lookup"><span data-stu-id="cbf26-270">TCP port 2382 only needed for an [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] named instance</span></span>|<span data-ttu-id="cbf26-271">As solicitações de conexão de clientes para uma instância nomeada do [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] que não especificam um número de porta são direcionadas para a 2382, que é a porta em que o Navegador do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] escuta.</span><span class="sxs-lookup"><span data-stu-id="cbf26-271">Client connection requests for a named instance of [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] that do not specify a port number are directed to port 2382, the port on which [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Browser listens.</span></span> [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="cbf26-272">redireciona a solicitação à porta usada pela instância nomeada.</span><span class="sxs-lookup"><span data-stu-id="cbf26-272">Browser then redirects the request to the port that the named instance uses.</span></span>|  
|[!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] <span data-ttu-id="cbf26-273">configurado para uso por IIS/HTTP</span><span class="sxs-lookup"><span data-stu-id="cbf26-273">configured for use through IIS/HTTP</span></span><br /><br /> <span data-ttu-id="cbf26-274">(A tabela dinâmica??</span><span class="sxs-lookup"><span data-stu-id="cbf26-274">(The PivotTable??</span></span> <span data-ttu-id="cbf26-275">O serviço usa HTTP ou HTTPS)</span><span class="sxs-lookup"><span data-stu-id="cbf26-275">Service uses HTTP or HTTPS)</span></span>|<span data-ttu-id="cbf26-276">Porta TCP 80</span><span class="sxs-lookup"><span data-stu-id="cbf26-276">TCP port 80</span></span>|<span data-ttu-id="cbf26-277">Usada para uma conexão HTTP por meio de uma URL.</span><span class="sxs-lookup"><span data-stu-id="cbf26-277">Used for an HTTP connection through a URL.</span></span>|  
|[!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] <span data-ttu-id="cbf26-278">configurado para uso por IIS/HTTPS</span><span class="sxs-lookup"><span data-stu-id="cbf26-278">configured for use through IIS/HTTPS</span></span><br /><br /> <span data-ttu-id="cbf26-279">(A tabela dinâmica??</span><span class="sxs-lookup"><span data-stu-id="cbf26-279">(The PivotTable??</span></span> <span data-ttu-id="cbf26-280">O serviço usa HTTP ou HTTPS)</span><span class="sxs-lookup"><span data-stu-id="cbf26-280">Service uses HTTP or HTTPS)</span></span>|<span data-ttu-id="cbf26-281">Porta TCP 443</span><span class="sxs-lookup"><span data-stu-id="cbf26-281">TCP port 443</span></span>|<span data-ttu-id="cbf26-282">Usada para uma conexão HTTPS por meio de uma URL.</span><span class="sxs-lookup"><span data-stu-id="cbf26-282">Used for an HTTPS connection through a URL.</span></span> <span data-ttu-id="cbf26-283">HTTPS é uma conexão HTTP que usa o protocolo SSL.</span><span class="sxs-lookup"><span data-stu-id="cbf26-283">HTTPS is an HTTP connection that uses secure sockets layer (SSL).</span></span>|  
  
 <span data-ttu-id="cbf26-284">Se usuários acessarem o [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] por meio do IIS ou da Internet, você deverá abrir a porta em que o IIS está escutando e especificá-la na cadeia de conexão do cliente.</span><span class="sxs-lookup"><span data-stu-id="cbf26-284">If users access [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] through IIS and the Internet, you must open the port on which IIS is listening and specify that port in the client connection string.</span></span> <span data-ttu-id="cbf26-285">Nesse caso, nenhuma porta deve ser aberta para acessar diretamente o [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="cbf26-285">In this case, no ports have to be open for direct access to [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)].</span></span> <span data-ttu-id="cbf26-286">A porta padrão 2389 e a porta 2382 devem ser limitadas juntas com todas as outras portas que não são necessárias.</span><span class="sxs-lookup"><span data-stu-id="cbf26-286">The default port 2389, and port 2382, should be restricted together with all other ports that are not required.</span></span>  
  
 <span data-ttu-id="cbf26-287">Para obter instruções passo a passo para configurar o Firewall do Windows para o [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)], veja [Configurar o Firewall do Windows para permitir acesso ao Analysis Services](../../../2014/analysis-services/instances/configure-the-windows-firewall-to-allow-analysis-services-access.md).</span><span class="sxs-lookup"><span data-stu-id="cbf26-287">For step by step instructions to configure the Windows Firewall for [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)], see [Configure the Windows Firewall to Allow Analysis Services Access](../../../2014/analysis-services/instances/configure-the-windows-firewall-to-allow-analysis-services-access.md).</span></span>  
  
###  <a name="ports-used-by-reporting-services"></a><a name="BKMK_ssrs"></a> <span data-ttu-id="cbf26-288">Portas usadas pelo Reporting Services</span><span class="sxs-lookup"><span data-stu-id="cbf26-288">Ports Used By Reporting Services</span></span>  
 <span data-ttu-id="cbf26-289">A tabela a seguir lista as portas que são mais usadas pelo [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="cbf26-289">The following table lists the ports that are frequently used by [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)].</span></span>  
  
|<span data-ttu-id="cbf26-290">Recurso</span><span class="sxs-lookup"><span data-stu-id="cbf26-290">Feature</span></span>|<span data-ttu-id="cbf26-291">Porta</span><span class="sxs-lookup"><span data-stu-id="cbf26-291">Port</span></span>|<span data-ttu-id="cbf26-292">Comentários</span><span class="sxs-lookup"><span data-stu-id="cbf26-292">Comments</span></span>|  
|-------------|----------|--------------|  
|[!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] <span data-ttu-id="cbf26-293">Serviços Web</span><span class="sxs-lookup"><span data-stu-id="cbf26-293">Web Services</span></span>|<span data-ttu-id="cbf26-294">Porta TCP 80</span><span class="sxs-lookup"><span data-stu-id="cbf26-294">TCP port 80</span></span>|<span data-ttu-id="cbf26-295">Usada para uma conexão HTTP com o [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] por meio de uma URL.</span><span class="sxs-lookup"><span data-stu-id="cbf26-295">Used for an HTTP connection to [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] through a URL.</span></span> <span data-ttu-id="cbf26-296">Não é recomendável usar a regra pré-configurada **Serviços da World Wide Web (HTTP)** .</span><span class="sxs-lookup"><span data-stu-id="cbf26-296">We recommend that you do not use the preconfigured rule **World Wide Web Services (HTTP)**.</span></span> <span data-ttu-id="cbf26-297">Para obter mais informações, consulte a seção [Interação com outras regras do firewall](#BKMK_other_rules) abaixo.</span><span class="sxs-lookup"><span data-stu-id="cbf26-297">For more information, see the [Interaction with Other Firewall Rules](#BKMK_other_rules) section below.</span></span>|  
|[!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] <span data-ttu-id="cbf26-298">configurado para uso por HTTPS</span><span class="sxs-lookup"><span data-stu-id="cbf26-298">configured for use through HTTPS</span></span>|<span data-ttu-id="cbf26-299">Porta TCP 443</span><span class="sxs-lookup"><span data-stu-id="cbf26-299">TCP port 443</span></span>|<span data-ttu-id="cbf26-300">Usada para uma conexão HTTPS por meio de uma URL.</span><span class="sxs-lookup"><span data-stu-id="cbf26-300">Used for an HTTPS connection through a URL.</span></span> <span data-ttu-id="cbf26-301">HTTPS é uma conexão HTTP que usa o protocolo SSL.</span><span class="sxs-lookup"><span data-stu-id="cbf26-301">HTTPS is an HTTP connection that uses secure sockets layer (SSL).</span></span> <span data-ttu-id="cbf26-302">Não é recomendável usar a regra pré-configurada **Serviços Seguros da World Wide Web (HTTPS)** .</span><span class="sxs-lookup"><span data-stu-id="cbf26-302">We recommend that you do not use the preconfigured rule **Secure World Wide Web Services (HTTPS)**.</span></span> <span data-ttu-id="cbf26-303">Para obter mais informações, consulte a seção [Interação com outras regras do firewall](#BKMK_other_rules) abaixo.</span><span class="sxs-lookup"><span data-stu-id="cbf26-303">For more information, see the [Interaction with Other Firewall Rules](#BKMK_other_rules) section below.</span></span>|  
  
 <span data-ttu-id="cbf26-304">Quando o [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] se conecta a uma instância do [!INCLUDE[ssDE](../../includes/ssde-md.md)] ou [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)], você também deve abrir as portas apropriadas para esses serviços.</span><span class="sxs-lookup"><span data-stu-id="cbf26-304">When [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] connects to an instance of the [!INCLUDE[ssDE](../../includes/ssde-md.md)] or [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)], you must also open the appropriate ports for those services.</span></span> <span data-ttu-id="cbf26-305">Para obter instruções passo a passo para configurar o Firewall do Windows para o [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)], veja [Configurar um Firewall para acesso ao Servidor de Relatório](../../reporting-services/report-server/configure-a-firewall-for-report-server-access.md).</span><span class="sxs-lookup"><span data-stu-id="cbf26-305">For step-by-step instructions to configure the Windows Firewall for [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)], [Configure a Firewall for Report Server Access](../../reporting-services/report-server/configure-a-firewall-for-report-server-access.md).</span></span>  
  
###  <a name="ports-used-by-integration-services"></a><a name="BKMK_ssis"></a> <span data-ttu-id="cbf26-306">Portas usadas pelo Integration Services</span><span class="sxs-lookup"><span data-stu-id="cbf26-306">Ports Used By Integration Services</span></span>  
 <span data-ttu-id="cbf26-307">A tabela a seguir lista as portas que são usadas pelo serviço [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="cbf26-307">The following table lists the ports that are used by the [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] service.</span></span>  
  
|<span data-ttu-id="cbf26-308">Recurso</span><span class="sxs-lookup"><span data-stu-id="cbf26-308">Feature</span></span>|<span data-ttu-id="cbf26-309">Porta</span><span class="sxs-lookup"><span data-stu-id="cbf26-309">Port</span></span>|<span data-ttu-id="cbf26-310">Comentários</span><span class="sxs-lookup"><span data-stu-id="cbf26-310">Comments</span></span>|  
|-------------|----------|--------------|  
|[!INCLUDE[msCoName](../../includes/msconame-md.md)] <span data-ttu-id="cbf26-311">chamadas de procedimento remoto (MS RPC)</span><span class="sxs-lookup"><span data-stu-id="cbf26-311">remote procedure calls (MS RPC)</span></span><br /><br /> <span data-ttu-id="cbf26-312">Usada pelo runtime do [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="cbf26-312">Used by the [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] runtime.</span></span>|<span data-ttu-id="cbf26-313">Porta TCP 135</span><span class="sxs-lookup"><span data-stu-id="cbf26-313">TCP port 135</span></span><br /><br /> <span data-ttu-id="cbf26-314">Consulte [Considerações especiais sobre a porta 135](#BKMK_port_135)</span><span class="sxs-lookup"><span data-stu-id="cbf26-314">See [Special Considerations for Port 135](#BKMK_port_135)</span></span>|<span data-ttu-id="cbf26-315">O serviço [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] usa o DCOM na porta 135.</span><span class="sxs-lookup"><span data-stu-id="cbf26-315">The [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] service uses DCOM on port 135.</span></span> <span data-ttu-id="cbf26-316">O Gerenciador de Controle de Serviços usa a porta 135 para executa tarefas como iniciar e parar o serviço [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] e transmitir solicitações de controle ao serviço em execução.</span><span class="sxs-lookup"><span data-stu-id="cbf26-316">The Service Control Manager uses port 135 to perform tasks such as starting and stopping the [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] service and transmitting control requests to the running service.</span></span> <span data-ttu-id="cbf26-317">O número da porta não pode ser alterado.</span><span class="sxs-lookup"><span data-stu-id="cbf26-317">The port number cannot be changed.</span></span><br /><br /> <span data-ttu-id="cbf26-318">Esta porta só precisa ser aberta se você está se conectando a uma instância remota do serviço [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] a partir do [!INCLUDE[ssManStudio](../../includes/ssmanstudio-md.md)] ou de um aplicativo personalizado.</span><span class="sxs-lookup"><span data-stu-id="cbf26-318">This port is only required to be open if you are connecting to a remote instance of the [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] service from [!INCLUDE[ssManStudio](../../includes/ssmanstudio-md.md)] or a custom application.</span></span>|  
  
 <span data-ttu-id="cbf26-319">Para obter instruções passo a passo para configurar o Firewall do Windows para o [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)], veja [Configurar um Firewall do Windows para acessar o Serviço SSIS](../../../2014/integration-services/configure-a-windows-firewall-for-access-to-the-ssis-service.md).</span><span class="sxs-lookup"><span data-stu-id="cbf26-319">For step-by-step instructions to configure the Windows Firewall for [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)], see [Configure a Windows Firewall for Access to the SSIS Service](../../../2014/integration-services/configure-a-windows-firewall-for-access-to-the-ssis-service.md).</span></span>  
  
###  <a name="additional-ports-and-services"></a><a name="BKMK_additional_ports"></a> <span data-ttu-id="cbf26-320">Portas e serviços adicionais</span><span class="sxs-lookup"><span data-stu-id="cbf26-320">Additional Ports and Services</span></span>  
 <span data-ttu-id="cbf26-321">A tabela a seguir lista portas e serviços dos quais o [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] pode depender.</span><span class="sxs-lookup"><span data-stu-id="cbf26-321">The following table lists ports and services that [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] might depend on.</span></span>  
  
|<span data-ttu-id="cbf26-322">Cenário</span><span class="sxs-lookup"><span data-stu-id="cbf26-322">Scenario</span></span>|<span data-ttu-id="cbf26-323">Porta</span><span class="sxs-lookup"><span data-stu-id="cbf26-323">Port</span></span>|<span data-ttu-id="cbf26-324">Comentários</span><span class="sxs-lookup"><span data-stu-id="cbf26-324">Comments</span></span>|  
|--------------|----------|--------------|  
|<span data-ttu-id="cbf26-325">Instrumentação de Gerenciamento do Windows</span><span class="sxs-lookup"><span data-stu-id="cbf26-325">Windows Management Instrumentation</span></span><br /><br /> <span data-ttu-id="cbf26-326">Para obter mais informações sobre a WMI, consulte [WMI Provider for Configuration Management Concepts](../../relational-databases/wmi-provider-configuration/wmi-provider-for-configuration-management.md).</span><span class="sxs-lookup"><span data-stu-id="cbf26-326">For more information about WMI, see [WMI Provider for Configuration Management Concepts](../../relational-databases/wmi-provider-configuration/wmi-provider-for-configuration-management.md)</span></span>|<span data-ttu-id="cbf26-327">A WMI é executada como parte de um host de serviço compartilhado com portas atribuídas por DCOM.</span><span class="sxs-lookup"><span data-stu-id="cbf26-327">WMI runs as part of a shared service host with ports assigned through DCOM.</span></span> <span data-ttu-id="cbf26-328">A WMI pode estar usando a porta TCP 135.</span><span class="sxs-lookup"><span data-stu-id="cbf26-328">WMI might be using TCP port 135.</span></span><br /><br /> <span data-ttu-id="cbf26-329">Consulte [Considerações especiais sobre a porta 135](#BKMK_port_135)</span><span class="sxs-lookup"><span data-stu-id="cbf26-329">See [Special Considerations for Port 135](#BKMK_port_135)</span></span>|[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="cbf26-330">Configuration Manager usa a WMI para listar e gerenciar serviços.</span><span class="sxs-lookup"><span data-stu-id="cbf26-330">Configuration Manager uses WMI to list and manage services.</span></span> <span data-ttu-id="cbf26-331">É recomendável usar o grupo de regras pré-configuradas **WMI (Instrumentação de Gerenciamento do Windows)** .</span><span class="sxs-lookup"><span data-stu-id="cbf26-331">We recommend that you use the preconfigured rule group **Windows Management Instrumentation (WMI)**.</span></span> <span data-ttu-id="cbf26-332">Para obter mais informações, consulte a seção [Interação com outras regras do firewall](#BKMK_other_rules) abaixo.</span><span class="sxs-lookup"><span data-stu-id="cbf26-332">For more information, see the [Interaction with Other Firewall Rules](#BKMK_other_rules) section below.</span></span>|  
|[!INCLUDE[msCoName](../../includes/msconame-md.md)] <span data-ttu-id="cbf26-333">MS DTC (Coordenador de Transações Distribuídas)</span><span class="sxs-lookup"><span data-stu-id="cbf26-333">Distributed Transaction Coordinator (MS DTC)</span></span>|<span data-ttu-id="cbf26-334">Porta TCP 135</span><span class="sxs-lookup"><span data-stu-id="cbf26-334">TCP port 135</span></span><br /><br /> <span data-ttu-id="cbf26-335">Consulte [Considerações especiais sobre a porta 135](#BKMK_port_135)</span><span class="sxs-lookup"><span data-stu-id="cbf26-335">See [Special Considerations for Port 135](#BKMK_port_135)</span></span>|<span data-ttu-id="cbf26-336">Se o seu aplicativo usa transações distribuídas, talvez seja necessário configurar o firewall para permitir que o tráfego do Coordenador de Transações Distribuídas da [!INCLUDE[msCoName](../../includes/msconame-md.md)] (MS DTC) flua entre instâncias separadas do MS DTC e entre o MS DTC e gerenciadores de recursos, como o [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="cbf26-336">If your application uses distributed transactions, you might have to configure the firewall to allow [!INCLUDE[msCoName](../../includes/msconame-md.md)] Distributed Transaction Coordinator (MS DTC) traffic to flow between separate MS DTC instances, and between the MS DTC and resource managers such as [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="cbf26-337">É recomendável usar o grupo de regras pré-configuradas **Coordenador de Transações Distribuídas** .</span><span class="sxs-lookup"><span data-stu-id="cbf26-337">We recommend that you use the preconfigured **Distributed Transaction Coordinator** rule group.</span></span><br /><br /> <span data-ttu-id="cbf26-338">Quando um único MS DTC compartilhado é configurado para o cluster inteiro em um grupo de recursos separado, você deve adicionar sqlservr.exe como uma exceção ao firewall.</span><span class="sxs-lookup"><span data-stu-id="cbf26-338">When a single shared MS DTC is configured for the entire cluster in a separate resource group you should add sqlservr.exe as an exception to the firewall.</span></span>|  
|<span data-ttu-id="cbf26-339">O botão Procurar do [!INCLUDE[ssManStudio](../../includes/ssmanstudio-md.md)] usa UDP para se conectar ao Serviço Navegador do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="cbf26-339">The browse button in [!INCLUDE[ssManStudio](../../includes/ssmanstudio-md.md)] uses UDP to connect to the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Browser Service.</span></span> <span data-ttu-id="cbf26-340">Para obter mais informações, veja [Serviço SQL Server Browser &#40;Mecanismo de Banco de Dados e SSAS&#41;](../../database-engine/configure-windows/sql-server-browser-service-database-engine-and-ssas.md).</span><span class="sxs-lookup"><span data-stu-id="cbf26-340">For more information, see [SQL Server Browser Service &#40;Database Engine and SSAS&#41;](../../database-engine/configure-windows/sql-server-browser-service-database-engine-and-ssas.md).</span></span>|<span data-ttu-id="cbf26-341">Porta UDP 1434</span><span class="sxs-lookup"><span data-stu-id="cbf26-341">UDP port 1434</span></span>|<span data-ttu-id="cbf26-342">UDP é um protocolo sem-conexão.</span><span class="sxs-lookup"><span data-stu-id="cbf26-342">UDP is a connectionless protocol.</span></span><br /><br /> <span data-ttu-id="cbf26-343">O firewall tem uma configuração, chamada [Propriedade UnicastResponsesToMulticastBroadcastDisabled da Interface INetFwProfile](https://go.microsoft.com/fwlink/?LinkId=118371) , que controla seu comportamento no que diz respeito a respostas unicast para uma solicitação UDP difusão (ou multicast).</span><span class="sxs-lookup"><span data-stu-id="cbf26-343">The firewall has a setting, which is named [UnicastResponsesToMulticastBroadcastDisabled Property of the INetFwProfile Interface](https://go.microsoft.com/fwlink/?LinkId=118371) which controls the behavior of the firewall with respect to unicast responses to a broadcast (or multicast) UDP request.</span></span>  <span data-ttu-id="cbf26-344">Ele tem dois comportamentos:</span><span class="sxs-lookup"><span data-stu-id="cbf26-344">It has two behaviors:</span></span><br /><br /> <span data-ttu-id="cbf26-345">Se a configuração for TRUE, não serão permitidas respostas unicast para uma difusão.</span><span class="sxs-lookup"><span data-stu-id="cbf26-345">If the setting is TRUE, no unicast responses to a broadcast are permitted at all.</span></span> <span data-ttu-id="cbf26-346">A enumeração de serviços falhará.</span><span class="sxs-lookup"><span data-stu-id="cbf26-346">Enumerating services will fail.</span></span><br /><br /> <span data-ttu-id="cbf26-347">Se a configuração for FALSE (padrão), serão permitidas respostas unicast durante 3 segundos.</span><span class="sxs-lookup"><span data-stu-id="cbf26-347">If the setting is FALSE (default), unicast responses are permitted for 3 seconds.</span></span> <span data-ttu-id="cbf26-348">O período de tempo não é configurável.</span><span class="sxs-lookup"><span data-stu-id="cbf26-348">The length of time is not configurable.</span></span> <span data-ttu-id="cbf26-349">em uma rede congestionada ou de alta latência, ou para servidores com grandes cargas, as tentativas de enumerar instâncias do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] podem retornar uma lista parcial, o que pode enganar os usuários.</span><span class="sxs-lookup"><span data-stu-id="cbf26-349">in a congested or high-latency network, or for heavily loaded servers, tries to enumerate instances of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] might return a partial list, which might mislead users.</span></span>|  
|<span data-ttu-id="cbf26-350">Tráfego IPsec</span><span class="sxs-lookup"><span data-stu-id="cbf26-350">IPsec traffic</span></span>|<span data-ttu-id="cbf26-351">Portas UDP 500 e 4500</span><span class="sxs-lookup"><span data-stu-id="cbf26-351">UDP port 500 and UDP port 4500</span></span>|<span data-ttu-id="cbf26-352">Se a política do domínio exigir que as comunicações de rede sejam feitas por meio de IPsec, você também deverá adicionar as portas UDP 4500 e 500 à lista de exceções.</span><span class="sxs-lookup"><span data-stu-id="cbf26-352">If the domain policy requires network communications to be done through IPsec, you must also add UDP port 4500 and UDP port 500 to the exception list.</span></span> <span data-ttu-id="cbf26-353">IPsec é uma opção que usa o **Assistente para Nova Regra de Entrada** no snap-in Firewall do Windows.</span><span class="sxs-lookup"><span data-stu-id="cbf26-353">IPsec is an option using the **New Inbound Rule Wizard** in the Windows Firewall snap-in.</span></span> <span data-ttu-id="cbf26-354">Para obter mais informações, veja [Usando o snap-in Firewall do Windows com Segurança Avançada](#BKMK_WF_msc) abaixo.</span><span class="sxs-lookup"><span data-stu-id="cbf26-354">For more information, see [Using the Windows Firewall with Advanced Security Snap-in](#BKMK_WF_msc) below.</span></span>|  
|<span data-ttu-id="cbf26-355">Usando a Autenticação do Windows com domínios confiáveis</span><span class="sxs-lookup"><span data-stu-id="cbf26-355">Using Windows Authentication with Trusted Domains</span></span>|<span data-ttu-id="cbf26-356">Os firewalls devem ser configurados para permitir solicitações de autenticação.</span><span class="sxs-lookup"><span data-stu-id="cbf26-356">Firewalls must be configured to allow authentication requests.</span></span>|<span data-ttu-id="cbf26-357">Para obter mais informações, consulte [Como configurar um firewall para domínios e relações de confiança](https://support.microsoft.com/kb/179442/).</span><span class="sxs-lookup"><span data-stu-id="cbf26-357">For more information, see [How to configure a firewall for domains and trusts](https://support.microsoft.com/kb/179442/).</span></span>|  
|[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="cbf26-358">e clustering do Windows</span><span class="sxs-lookup"><span data-stu-id="cbf26-358">and Windows Clustering</span></span>|<span data-ttu-id="cbf26-359">O clustering requer portas adicionais que não estão diretamente relacionadas ao [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="cbf26-359">Clustering requires additional ports that are not directly related to [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span>|<span data-ttu-id="cbf26-360">Para obter mais informações, consulte [Enable a network for cluster use](https://go.microsoft.com/fwlink/?LinkId=118372).</span><span class="sxs-lookup"><span data-stu-id="cbf26-360">For more information, see [Enable a network for cluster use](https://go.microsoft.com/fwlink/?LinkId=118372).</span></span>|  
|<span data-ttu-id="cbf26-361">Namespaces URL reservados na API de servidor HTTP (HTTP.SYS)</span><span class="sxs-lookup"><span data-stu-id="cbf26-361">URL namespaces reserved in the HTTP Server API (HTTP.SYS)</span></span>|<span data-ttu-id="cbf26-362">Provavelmente a porta TCP 80, mas podem ser configurados para outras portas.</span><span class="sxs-lookup"><span data-stu-id="cbf26-362">Probably TCP port 80, but can be configured to other ports.</span></span> <span data-ttu-id="cbf26-363">Para obter informações gerais, consulte [Configuring HTTP and HTTPS](https://go.microsoft.com/fwlink/?LinkId=118373).</span><span class="sxs-lookup"><span data-stu-id="cbf26-363">For general information, see [Configuring HTTP and HTTPS](https://go.microsoft.com/fwlink/?LinkId=118373).</span></span>|<span data-ttu-id="cbf26-364">Para obter informações específicas do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] sobre como reservar um ponto de extremidade HTTP.SYS usando HttpCfg.exe, veja [Sobre reservas e registro de URL &#40;SSRS Configuration Manager&#41;](../../reporting-services/install-windows/about-url-reservations-and-registration-ssrs-configuration-manager.md).</span><span class="sxs-lookup"><span data-stu-id="cbf26-364">For [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] specific information about reserving an HTTP.SYS endpoint using HttpCfg.exe, see [About URL Reservations and Registration  &#40;SSRS Configuration Manager&#41;](../../reporting-services/install-windows/about-url-reservations-and-registration-ssrs-configuration-manager.md).</span></span>|  
  
##  <a name="special-considerations-for-port-135"></a><a name="BKMK_port_135"></a> <span data-ttu-id="cbf26-365">Considerações especiais sobre a porta 135</span><span class="sxs-lookup"><span data-stu-id="cbf26-365">Special Considerations for Port 135</span></span>  
 <span data-ttu-id="cbf26-366">Quando você usa RPC com TCP/IP ou com UDP/IP como transporte, as portas de entrada costumam ser atribuídas dinamicamente para serviços do sistema de acordo com a necessidade; as portas TCP/IP e UDP/IP maiores que a 1024 são usadas.</span><span class="sxs-lookup"><span data-stu-id="cbf26-366">When you use RPC with TCP/IP or with UDP/IP as the transport, inbound ports are frequently dynamically assigned to system services as required; TCP/IP and UDP/IP ports that are larger than port 1024 are used.</span></span> <span data-ttu-id="cbf26-367">Essas portas normalmente são chamadas informalmente de “portas RPC aleatórias”.</span><span class="sxs-lookup"><span data-stu-id="cbf26-367">These are frequently informally referred to as "random RPC ports."</span></span> <span data-ttu-id="cbf26-368">Nesses casos, os clientes RPC dependem do mapeador de ponto de extremidade RPC para saber quais portas dinâmicas foram atribuídas ao servidor.</span><span class="sxs-lookup"><span data-stu-id="cbf26-368">In these cases, RPC clients rely on the RPC endpoint mapper to tell them which dynamic ports were assigned to the server.</span></span> <span data-ttu-id="cbf26-369">Para alguns serviços baseados em RPC, você pode configurar uma porta específica em vez de deixar que a RPC atribua uma dinamicamente.</span><span class="sxs-lookup"><span data-stu-id="cbf26-369">For some RPC-based services, you can configure a specific port instead of letting RPC assign one dynamically.</span></span> <span data-ttu-id="cbf26-370">Você também pode diminuir o intervalo de portas que a RPC atribui dinamicamente, seja qual for o serviço.</span><span class="sxs-lookup"><span data-stu-id="cbf26-370">You can also restrict the range of ports that RPC dynamically assigns to a small range, regardless of the service.</span></span> <span data-ttu-id="cbf26-371">Como a porta 135 é usada para muitos serviços, ela é invadida por usuários mal-intencionados com bastante frequência.</span><span class="sxs-lookup"><span data-stu-id="cbf26-371">Because port 135 is used for many services it is frequently attacked by malicious users.</span></span> <span data-ttu-id="cbf26-372">Quando abrir a porta 135, considere a possibilidade de restringir o escopo da regra do firewall.</span><span class="sxs-lookup"><span data-stu-id="cbf26-372">When opening port 135, consider restricting the scope of the firewall rule.</span></span>  
  
 <span data-ttu-id="cbf26-373">Para obter mais informações sobre a porta 135, consulte as seguintes referências:</span><span class="sxs-lookup"><span data-stu-id="cbf26-373">For more information about port 135, see the following references:</span></span>  
  
-   [<span data-ttu-id="cbf26-374">Visão geral de serviços e requisitos de porta de rede para o sistema do Windows Server</span><span class="sxs-lookup"><span data-stu-id="cbf26-374">Service overview and network port requirements for the Windows Server system</span></span>](https://support.microsoft.com/kb/832017)  
  
-   [<span data-ttu-id="cbf26-375">Solucionando erros de Mapeador de ponto de extremidade RPC utilizando as ferramentas de suporte do Windows Server 2003 do CD do produto</span><span class="sxs-lookup"><span data-stu-id="cbf26-375">Troubleshooting RPC Endpoint Mapper errors using the Windows Server 2003 Support Tools from the product CD</span></span>](https://support.microsoft.com/kb/839880)  
  
-   [<span data-ttu-id="cbf26-376">RPC (Chamada de Procedimento Remoto)</span><span class="sxs-lookup"><span data-stu-id="cbf26-376">Remote procedure call (RPC)</span></span>](https://go.microsoft.com/fwlink/?LinkId=118375)  
  
-   [<span data-ttu-id="cbf26-377">Como configurar a alocação de porta dinâmica da RPC para funcionar com os firewalls</span><span class="sxs-lookup"><span data-stu-id="cbf26-377">How to configure RPC dynamic port allocation to work with firewalls</span></span>](https://support.microsoft.com/kb/154596/)  
  
##  <a name="interaction-with-other-firewall-rules"></a><a name="BKMK_other_rules"></a> <span data-ttu-id="cbf26-378">Interação com outras regras do firewall</span><span class="sxs-lookup"><span data-stu-id="cbf26-378">Interaction with Other Firewall Rules</span></span>  
 <span data-ttu-id="cbf26-379">O Firewall do Windows usa regras e grupos de regras para estabelecer sua configuração.</span><span class="sxs-lookup"><span data-stu-id="cbf26-379">The Windows Firewall uses rules and rule groups to establish its configuration.</span></span> <span data-ttu-id="cbf26-380">Cada regra ou grupo de regras geralmente está associado a um determinado programa ou serviço, que, por sua vez, pode modificar ou excluir a regra sem que você saiba.</span><span class="sxs-lookup"><span data-stu-id="cbf26-380">Each rule or rule group is generally associated with a particular program or service, and that program or service might modify or delete that rule without your knowledge.</span></span> <span data-ttu-id="cbf26-381">Por exemplo, o grupo de regras **Serviços da World Wide Web (HTTP)** e **Serviços Seguros da World Wide Web (HTTPS)** está associado ao IIS.</span><span class="sxs-lookup"><span data-stu-id="cbf26-381">For example, the rule groups **World Wide Web Services (HTTP)** and **World Wide Web Services (HTTPS)** are associated with IIS.</span></span> <span data-ttu-id="cbf26-382">Se essas regras foram habilitadas, as portas 80 e 443 serão abertas, e os recursos do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] que dependem delas funcionarão corretamente.</span><span class="sxs-lookup"><span data-stu-id="cbf26-382">Enabling those rules will open ports 80 and 443, and [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] features that depend on ports 80 and 443 will function if those rules are enabled.</span></span> <span data-ttu-id="cbf26-383">Porém, os administradores que configuram o IIS podem modificar ou desabilitar essas regras.</span><span class="sxs-lookup"><span data-stu-id="cbf26-383">However, administrators configuring IIS might modify or disable those rules.</span></span> <span data-ttu-id="cbf26-384">Por isso, se você estiver usando as portas 80 ou 443 para o [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], deverá criar sua própria regra ou seu próprio grupo de regras que mantenha a configuração de porta desejada, independentemente das outras regras do IIS.</span><span class="sxs-lookup"><span data-stu-id="cbf26-384">Therefore, if you are using port 80 or port 443 for [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], you should create your own rule or rule group that maintains your desired port configuration independently of the other IIS rules.</span></span>  
  
 <span data-ttu-id="cbf26-385">O snap-in Firewall do Windows com Segurança Avançada do MMC permite qualquer tráfego que corresponda a qualquer regra de permissão aplicável.</span><span class="sxs-lookup"><span data-stu-id="cbf26-385">The Windows Firewall with Advanced Security MMC snap-in allows any traffic that matches any applicable allow rule.</span></span> <span data-ttu-id="cbf26-386">Assim, se houver duas regras que se aplicam à porta 80 (com parâmetros diferentes), o tráfego que corresponder a uma delas será permitido.</span><span class="sxs-lookup"><span data-stu-id="cbf26-386">So if there are two rules that both apply to port 80 (with different parameters), traffic that matches either rule will be permitted.</span></span> <span data-ttu-id="cbf26-387">Portanto, se uma regra permitir o tráfego pela porta 80 da sub-rede local e outra regra permitir o tráfego de qualquer endereço, o resultado é que todo o tráfego para a porta 80 será permitido independentemente da origem.</span><span class="sxs-lookup"><span data-stu-id="cbf26-387">So if one rule allows traffic over port 80 from local subnet and one rule allows traffic from any address, the net effect is that all traffic to port 80 is permitted regardless of the source.</span></span> <span data-ttu-id="cbf26-388">Para gerenciar o acesso ao [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]com eficiência, os administradores devem revisar periodicamente todas as regras de firewall habilitadas no servidor.</span><span class="sxs-lookup"><span data-stu-id="cbf26-388">To effectively manage access to [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], administrators should periodically review all firewall rules enabled on the server.</span></span>  
  
##  <a name="overview-of-firewall-profiles"></a><a name="BKMK_profiles"></a> <span data-ttu-id="cbf26-389">Visão geral de perfis do firewall</span><span class="sxs-lookup"><span data-stu-id="cbf26-389">Overview of Firewall Profiles</span></span>  
 <span data-ttu-id="cbf26-390">Os perfis de firewall são discutidos no [Guia de introdução ao Firewall do Windows com Segurança Avançada](https://go.microsoft.com/fwlink/?LinkId=116080) na seção **Firewall de host com reconhecimento de local de rede**.</span><span class="sxs-lookup"><span data-stu-id="cbf26-390">Firewall profiles are discussed in [Windows Firewall with Advanced Security Getting Started Guide](https://go.microsoft.com/fwlink/?LinkId=116080) in the section **Network location-aware host firewall**.</span></span> <span data-ttu-id="cbf26-391">Para resumir, os sistemas operacionais identificam e memorizam cada uma das redes com as quais se conectam no que diz respeito à conectividade, às conexões e à categoria.</span><span class="sxs-lookup"><span data-stu-id="cbf26-391">To summarize, the operating systems identify and remember each of the networks to which they connect with regard to connectivity, connections, and category.</span></span>  
  
 <span data-ttu-id="cbf26-392">Há três tipos de local de rede no Firewall do Windows com Segurança Avançada:</span><span class="sxs-lookup"><span data-stu-id="cbf26-392">There are three network location types in Windows Firewall with Advanced Security:</span></span>  
  
-   <span data-ttu-id="cbf26-393">Domínio.</span><span class="sxs-lookup"><span data-stu-id="cbf26-393">Domain.</span></span> <span data-ttu-id="cbf26-394">O Windows pode autenticar o acesso ao controlador de domínio do domínio em que o computador ingressou.</span><span class="sxs-lookup"><span data-stu-id="cbf26-394">Windows can authenticate access to the domain controller for the domain to which the computer is joined.</span></span>  
  
-   <span data-ttu-id="cbf26-395">Público.</span><span class="sxs-lookup"><span data-stu-id="cbf26-395">Public.</span></span> <span data-ttu-id="cbf26-396">Diferentemente das redes de domínio, todas as redes são inicialmente classificadas como públicas.</span><span class="sxs-lookup"><span data-stu-id="cbf26-396">Other than domain networks, all networks are initially categorized as public.</span></span> <span data-ttu-id="cbf26-397">Redes que representam conexões diretas à Internet ou estão em locais públicos, como aeroportos e cafés, devem ser configuradas como públicas.</span><span class="sxs-lookup"><span data-stu-id="cbf26-397">Networks that represent direct connections to the Internet or are in public locations, such as airports and coffee shops should be left public.</span></span>  
  
-   <span data-ttu-id="cbf26-398">Privado.</span><span class="sxs-lookup"><span data-stu-id="cbf26-398">Private.</span></span> <span data-ttu-id="cbf26-399">Uma rede identificada por um usuário ou aplicativo como privada.</span><span class="sxs-lookup"><span data-stu-id="cbf26-399">A network identified by a user or application as private.</span></span> <span data-ttu-id="cbf26-400">Somente redes confiáveis devem ser identificadas como redes privadas.</span><span class="sxs-lookup"><span data-stu-id="cbf26-400">Only trusted networks should be identified as private networks.</span></span> <span data-ttu-id="cbf26-401">Os usuários normalmente desejam identificar redes domésticas ou de pequena empresa como privadas.</span><span class="sxs-lookup"><span data-stu-id="cbf26-401">Users will likely want to identify home or small business networks as private.</span></span>  
  
 <span data-ttu-id="cbf26-402">O administrador pode criar um perfil para cada tipo de local de rede, com cada perfil contendo políticas de firewall diferentes.</span><span class="sxs-lookup"><span data-stu-id="cbf26-402">The administrator can create a profile for each network location type, with each profile containing different firewall policies.</span></span> <span data-ttu-id="cbf26-403">Somente um perfil é aplicado a qualquer momento.</span><span class="sxs-lookup"><span data-stu-id="cbf26-403">Only one profile is applied at any time.</span></span> <span data-ttu-id="cbf26-404">A ordem de perfis é aplicada da seguinte maneira:</span><span class="sxs-lookup"><span data-stu-id="cbf26-404">Profile order is applied as follows:</span></span>  
  
1.  <span data-ttu-id="cbf26-405">Se todas as interfaces forem autenticadas no controlador de domínio para o domínio do qual o computador é membro, será aplicado o perfil de domínio.</span><span class="sxs-lookup"><span data-stu-id="cbf26-405">If all interfaces are authenticated to the domain controller for the domain of which the computer is a member, the domain profile is applied.</span></span>  
  
2.  <span data-ttu-id="cbf26-406">Se todas as interfaces forem autenticadas no controlador de domínio ou conectadas a redes classificadas como locais de rede privados, será aplicado o perfil privado.</span><span class="sxs-lookup"><span data-stu-id="cbf26-406">If all interfaces are either authenticated to the domain controller or are connected to networks that are classified as private network locations, the private profile is applied.</span></span>  
  
3.  <span data-ttu-id="cbf26-407">Caso contrário, será aplicado o perfil público.</span><span class="sxs-lookup"><span data-stu-id="cbf26-407">Otherwise, the public profile is applied.</span></span>  
  
 <span data-ttu-id="cbf26-408">Use o snap-in Firewall do Windows com Segurança Avançada do MMC para exibir e configurar todos os perfis do firewall.</span><span class="sxs-lookup"><span data-stu-id="cbf26-408">Use the Windows Firewall with Advanced Security MMC snap-in to view and configure all firewall profiles.</span></span> <span data-ttu-id="cbf26-409">O item **Firewall do Windows** no Painel de Controle configura apenas o perfil atual.</span><span class="sxs-lookup"><span data-stu-id="cbf26-409">The **Windows Firewall** item in Control Panel only configures the current profile.</span></span>  
  
##  <a name="additional-firewall-settings-using-the-windows-firewall-item-in-control-panel"></a><a name="BKMK_additional_settings"></a> <span data-ttu-id="cbf26-410">Configurações adicionais do firewall usando o item Firewall do Windows no Painel de Controle</span><span class="sxs-lookup"><span data-stu-id="cbf26-410">Additional Firewall Settings Using the Windows Firewall Item in Control Panel</span></span>  
 <span data-ttu-id="cbf26-411">As exceções que você adiciona ao firewall podem restringir a abertura da porta a conexões de entrada de computadores específicos ou da sub-rede local.</span><span class="sxs-lookup"><span data-stu-id="cbf26-411">Exceptions that you add to the firewall can restrict the opening of the port to incoming connections from specific computers or the local subnet.</span></span> <span data-ttu-id="cbf26-412">Essa restrição do escopo da abertura de porta pode reduzir o nível de exposição do seu computador a usuários mal-intencionados e é recomendável.</span><span class="sxs-lookup"><span data-stu-id="cbf26-412">This restriction of the scope of the port opening can reduce how much your computer is exposed to malicious users, and is recommended.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="cbf26-413">Se você usar o item **Firewall do Windows** no Painel de Controle configurará apenas o perfil do firewall.</span><span class="sxs-lookup"><span data-stu-id="cbf26-413">Using the **Windows Firewall** item in Control Panel only configures the current firewall profile.</span></span>  
  
#### <a name="to-change-the-scope-of-a-firewall-exception-using-the-windows-firewall-item-in-control-panel"></a><span data-ttu-id="cbf26-414">Para alterar o escopo de uma exceção do firewall usando o item Firewall do Windows no Painel de Controle</span><span class="sxs-lookup"><span data-stu-id="cbf26-414">To change the scope of a firewall exception using the Windows Firewall item in Control Panel</span></span>  
  
1.  <span data-ttu-id="cbf26-415">No item **Firewall do Windows** do Painel de Controle, selecione um programa ou porta na guia **Exceções** e clique em **Propriedades** ou em **Editar**.</span><span class="sxs-lookup"><span data-stu-id="cbf26-415">In the **Windows Firewall** item in Control Panel, select a program or port on the **Exceptions** tab, and then click **Properties** or **Edit**.</span></span>  
  
2.  <span data-ttu-id="cbf26-416">Na caixa de diálogo **Editar um Programa** ou **Editar uma Porta** , clique em **Alterar Escopo**.</span><span class="sxs-lookup"><span data-stu-id="cbf26-416">In the **Edit a Program** or **Edit a Port** dialog box, click **Change Scope**.</span></span>  
  
3.  <span data-ttu-id="cbf26-417">Escolha uma das seguintes opções:</span><span class="sxs-lookup"><span data-stu-id="cbf26-417">Choose one of the following options:</span></span>  
  
    -   <span data-ttu-id="cbf26-418">**Qualquer computador (inclusive na Internet)**</span><span class="sxs-lookup"><span data-stu-id="cbf26-418">**Any computer (including those on the Internet)**</span></span>  
  
         <span data-ttu-id="cbf26-419">Não recomendável.</span><span class="sxs-lookup"><span data-stu-id="cbf26-419">Not recommended.</span></span> <span data-ttu-id="cbf26-420">Isso permitirá que qualquer computador que pode se dirigir a seu computador se conecte ao programa ou à porta especificada.</span><span class="sxs-lookup"><span data-stu-id="cbf26-420">This will allow any computer that can address your computer to connect to the specified program or port.</span></span> <span data-ttu-id="cbf26-421">Esta configuração pode ser necessária para permitir a apresentação de informações a usuários anônimos na Internet, mas aumenta sua exposição a usuários mal-intencionados.</span><span class="sxs-lookup"><span data-stu-id="cbf26-421">This setting might be necessary to allow information to be presented to anonymous users on the internet, but increases your exposure to malicious users.</span></span> <span data-ttu-id="cbf26-422">Sua exposição pode ser ainda maior se você habilitar esta configuração e também permitir NAT transversal, como a opção Permitir percurso de borda.</span><span class="sxs-lookup"><span data-stu-id="cbf26-422">Your exposure can be further increased if you enable this setting and also allow Network Address Translation (NAT) traversal, such as the Allow edge traversal option.</span></span>  
  
    -   <span data-ttu-id="cbf26-423">**Somente minha rede (sub-rede)**</span><span class="sxs-lookup"><span data-stu-id="cbf26-423">**My network (subnet) only**</span></span>  
  
         <span data-ttu-id="cbf26-424">Esta configuração é mais segura do que **Qualquer computador**.</span><span class="sxs-lookup"><span data-stu-id="cbf26-424">This is a more secure setting than **Any computer**.</span></span> <span data-ttu-id="cbf26-425">Somente computadores da sub-rede local da sua rede podem se conectar ao programa ou à porta.</span><span class="sxs-lookup"><span data-stu-id="cbf26-425">Only computers on the local subnet of your network can connect to the program or port.</span></span>  
  
    -   <span data-ttu-id="cbf26-426">**Lista personalizada:**</span><span class="sxs-lookup"><span data-stu-id="cbf26-426">**Custom list:**</span></span>  
  
     <span data-ttu-id="cbf26-427">Somente computadores que têm os endereços IP contidos na lista podem se conectar.</span><span class="sxs-lookup"><span data-stu-id="cbf26-427">Only computers that have the IP addresses you list can connect.</span></span> <span data-ttu-id="cbf26-428">Esta configuração pode ser mais segura do que **Somente minha rede (sub-rede)** , mas os computadores cliente que usam DHCP podem alterar o endereço IP ocasionalmente.</span><span class="sxs-lookup"><span data-stu-id="cbf26-428">This can be a more secure setting than **My network (subnet) only**, however, client computers using DHCP can occasionally change their IP address.</span></span> <span data-ttu-id="cbf26-429">Por isso o computador desejado não poderá se conectar.</span><span class="sxs-lookup"><span data-stu-id="cbf26-429">Then the intended computer will not be able to connect.</span></span> <span data-ttu-id="cbf26-430">Outro computador, que você não pretendia autorizar, pode aceitar o endereço IP listado e se conectar.</span><span class="sxs-lookup"><span data-stu-id="cbf26-430">Another computer, which you had not intended to authorize, might accept the listed IP address and then be able to connect.</span></span> <span data-ttu-id="cbf26-431">A opção **Lista personalizada** pode ser apropriada para listar outros servidores configurados para usar um endereço IP fixo, mas os endereços IP podem ser falsificados por um invasor.</span><span class="sxs-lookup"><span data-stu-id="cbf26-431">The **Custom list** option might be appropriate for listing other servers which are configured to use a fixed IP address; however, IP addresses might be spoofed by an intruder.</span></span> <span data-ttu-id="cbf26-432">Restringir regras de firewall é um procedimento apenas tão seguro quanto sua infraestrutura de rede.</span><span class="sxs-lookup"><span data-stu-id="cbf26-432">Restricting firewall rules are only as strong as your network infrastructure.</span></span>  
  
##  <a name="using-the-windows-firewall-with-advanced-security-snap-in"></a><a name="BKMK_WF_msc"></a> <span data-ttu-id="cbf26-433">Usando o snap-in Firewall do Windows com Segurança Avançada</span><span class="sxs-lookup"><span data-stu-id="cbf26-433">Using the Windows Firewall with Advanced Security Snap-in</span></span>  
 <span data-ttu-id="cbf26-434">Outras configurações avançadas do firewall podem ser definidas usando o snap-in do MMC Firewall do Windows com Segurança Avançada.</span><span class="sxs-lookup"><span data-stu-id="cbf26-434">Additional advanced firewall settings can be configured by using the Windows Firewall with Advanced Security MMC snap-in.</span></span> <span data-ttu-id="cbf26-435">O snap-in inclui um assistente de regra e expõe configurações adicionais que não estão disponível no item **Firewall do Windows** do Painel de Controle.</span><span class="sxs-lookup"><span data-stu-id="cbf26-435">The snap-in includes a rule wizard and exposes additional settings that are not available in the **Windows Firewall** item in Control Panel.</span></span> <span data-ttu-id="cbf26-436">Essas configurações incluem o seguinte:</span><span class="sxs-lookup"><span data-stu-id="cbf26-436">These settings include the following:</span></span>  
  
-   <span data-ttu-id="cbf26-437">Configurações de criptografia</span><span class="sxs-lookup"><span data-stu-id="cbf26-437">Encryption settings</span></span>  
  
-   <span data-ttu-id="cbf26-438">Restrições de serviços</span><span class="sxs-lookup"><span data-stu-id="cbf26-438">Services restrictions</span></span>  
  
-   <span data-ttu-id="cbf26-439">Restrição de conexões de computadores por nome</span><span class="sxs-lookup"><span data-stu-id="cbf26-439">Restricting connections for computers by name</span></span>  
  
-   <span data-ttu-id="cbf26-440">Restrição de conexões para usuários ou perfis específicos</span><span class="sxs-lookup"><span data-stu-id="cbf26-440">Restricting connections to specific users or profiles</span></span>  
  
-   <span data-ttu-id="cbf26-441">Percurso de borda que permita que o tráfego ignore os roteadores de conversão de endereço de rede (NAT)</span><span class="sxs-lookup"><span data-stu-id="cbf26-441">Edge traversal allowing traffic to bypass Network Address Translation (NAT) routers</span></span>  
  
-   <span data-ttu-id="cbf26-442">Configuração de regras de saída</span><span class="sxs-lookup"><span data-stu-id="cbf26-442">Configuring outbound rules</span></span>  
  
-   <span data-ttu-id="cbf26-443">Configuração de regras de segurança</span><span class="sxs-lookup"><span data-stu-id="cbf26-443">Configuring security rules</span></span>  
  
-   <span data-ttu-id="cbf26-444">Exigência de IPsec para conexões de entrada</span><span class="sxs-lookup"><span data-stu-id="cbf26-444">Requiring IPsec for incoming connections</span></span>  
  
#### <a name="to-create-a-new-firewall-rule-using-the-new-rule-wizard"></a><span data-ttu-id="cbf26-445">Para criar uma nova regra de firewall usando o assistente de Nova Regra</span><span class="sxs-lookup"><span data-stu-id="cbf26-445">To create a new firewall rule using the New Rule wizard</span></span>  
  
1.  <span data-ttu-id="cbf26-446">No menu Iniciar , clique em **Executar**, digite **WF.msc**e clique em **OK**.</span><span class="sxs-lookup"><span data-stu-id="cbf26-446">On the Start menu, click **Run**, type **WF.msc**, and then click **OK**.</span></span>  
  
2.  <span data-ttu-id="cbf26-447">No painel esquerdo do **Firewall do Windows com Segurança Avançada**, clique com o botão direito do mouse em **Regras de Entrada**e clique em **Nova Regra**.</span><span class="sxs-lookup"><span data-stu-id="cbf26-447">In the **Windows Firewall with Advanced Security**, in the left pane, right-click **Inbound Rules**, and then click **New Rule**.</span></span>  
  
3.  <span data-ttu-id="cbf26-448">Complete o **Assistente de Nova Regra de Entrada** usando as configurações desejadas.</span><span class="sxs-lookup"><span data-stu-id="cbf26-448">Complete the **New Inbound Rule Wizard** using the settings that you want.</span></span>  
  
##  <a name="troubleshooting-firewall-settings"></a><a name="BKMK_troubleshooting"></a> <span data-ttu-id="cbf26-449">Solucionando problemas de configurações do firewall</span><span class="sxs-lookup"><span data-stu-id="cbf26-449">Troubleshooting Firewall Settings</span></span>  
 <span data-ttu-id="cbf26-450">As seguintes ferramentas e técnicas podem ser úteis para solucionar problemas de firewall:</span><span class="sxs-lookup"><span data-stu-id="cbf26-450">The following tools and techniques can be useful in troubleshooting firewall issues:</span></span>  
  
-   <span data-ttu-id="cbf26-451">O status efetivo da porta é a combinação de todas as regras relacionadas a ela.</span><span class="sxs-lookup"><span data-stu-id="cbf26-451">The effective port status is the union of all rules related to the port.</span></span> <span data-ttu-id="cbf26-452">Quando se tenta bloquear o acesso por uma porta, pode ser útil revisar todas as regras que citam o número da porta.</span><span class="sxs-lookup"><span data-stu-id="cbf26-452">When trying to block access through a port, it can be helpful to review all the rules which cite the port number.</span></span> <span data-ttu-id="cbf26-453">Para isso, use o snap-in Firewall do Windows com Segurança Avançada do MMC e classifique as regras de entrada e de saída por número de porta.</span><span class="sxs-lookup"><span data-stu-id="cbf26-453">To do this, use the Windows Firewall with Advanced Security MMC snap-in and sort the inbound and outbound rules by port number.</span></span>  
  
-   <span data-ttu-id="cbf26-454">Revise as portas que estão ativas no computador em que o [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] está em execução.</span><span class="sxs-lookup"><span data-stu-id="cbf26-454">Review the ports that are active on the computer on which [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] is running.</span></span> <span data-ttu-id="cbf26-455">Esse processo inclui a verificação de quais portas TCP/IP estão sendo escutadas e também a verificação do status das portas.</span><span class="sxs-lookup"><span data-stu-id="cbf26-455">This review process includes verifying which TCP/IP ports are listening and also verifying the status of the ports.</span></span>  
  
     <span data-ttu-id="cbf26-456">Para verificar quais portas estão sendo escutadas, use o utilitário de linha de comando **netstat** .</span><span class="sxs-lookup"><span data-stu-id="cbf26-456">To verify which ports are listening, use the **netstat** command-line utility.</span></span> <span data-ttu-id="cbf26-457">Além de exibir as conexões TCP ativas, o utilitário **netstat** também exibe uma variedade de estatísticas e informações de IP.</span><span class="sxs-lookup"><span data-stu-id="cbf26-457">In addition to displaying active TCP connections, the **netstat** utility also displays a variety of IP statistics and information.</span></span>  
  
    #### <a name="to-list-which-tcpip-ports-are-listening"></a><span data-ttu-id="cbf26-458">Para listar quais portas TCP/IP estão escutando</span><span class="sxs-lookup"><span data-stu-id="cbf26-458">To list which TCP/IP ports are listening</span></span>  
  
    1.  <span data-ttu-id="cbf26-459">Abra a janela do prompt de comando.</span><span class="sxs-lookup"><span data-stu-id="cbf26-459">Open the Command Prompt window.</span></span>  
  
    2.  <span data-ttu-id="cbf26-460">No prompt de comando, digite `netstat -n -a`.</span><span class="sxs-lookup"><span data-stu-id="cbf26-460">At the command prompt, type `netstat -n -a`.</span></span>  
  
         <span data-ttu-id="cbf26-461">A opção **-n** instrui o **netstat** para exibir numericamente o endereço e o número da porta das conexões TCP ativas.</span><span class="sxs-lookup"><span data-stu-id="cbf26-461">The **-n** switch instructs **netstat** to numerically display the address and port number of active TCP connections.</span></span> <span data-ttu-id="cbf26-462">A opção **-a** instrui o **netstat** a exibir as portas TCP e UDP escutadas pelo computador.</span><span class="sxs-lookup"><span data-stu-id="cbf26-462">The **-a** switch instructs **netstat** to display the TCP and UDP ports on which the computer is listening.</span></span>  
  
-   <span data-ttu-id="cbf26-463">O utilitário **PortQry** pode ser usado para relatar o status das portas TCP/IP como escutando, não escutando ou filtrado.</span><span class="sxs-lookup"><span data-stu-id="cbf26-463">The **PortQry** utility can be used to report the status of TCP/IP ports as listening, not listening, or filtered.</span></span> <span data-ttu-id="cbf26-464">(Com o status filtrado, a porta pode ou não estar escutando; esse status indica que o utilitário não recebeu uma resposta da porta.) O utilitário **PortQry** está disponível para download no [Centro de Download da Microsoft](https://www.microsoft.com/download/details.aspx?id=17148).</span><span class="sxs-lookup"><span data-stu-id="cbf26-464">(With a filtered status, the port might or might not be listening; this status indicates that the utility did not receive a response from the port.) The **PortQry** utility is available for download from the [Microsoft Download Center](https://www.microsoft.com/download/details.aspx?id=17148).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="cbf26-465">Consulte Também</span><span class="sxs-lookup"><span data-stu-id="cbf26-465">See Also</span></span>  
 [<span data-ttu-id="cbf26-466">Visão geral de serviços e requisitos de porta de rede para o sistema Windows Server</span><span class="sxs-lookup"><span data-stu-id="cbf26-466">Service overview and network port requirements for the Windows Server system</span></span>](https://support.microsoft.com/kb/832017)  
