---
title: Opções de atualização da pesquisa de texto completo | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: database-engine
ms.topic: conceptual
f1_keywords:
- Full-Text Search
- Upgrade options, Full-Text Search
ms.assetid: 16c9376b-5fbb-4495-a429-06a2493849c9
author: rothja
ms.author: jroth
ms.openlocfilehash: ade7a05563598440c3fdc79dd4b3584f7f797d4e
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87679642"
---
# <a name="full-text-search-upgrade-options"></a><span data-ttu-id="f4717-102">Opções de Atualização da Pesquisa de Texto Completo</span><span class="sxs-lookup"><span data-stu-id="f4717-102">Full-Text Search Upgrade Options</span></span>
  <span data-ttu-id="f4717-103">Use a página Opções de Atualização da Pesquisa de Texto Completo do Assistente de Instalação do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] para selecionar as opções a serem usadas para os bancos de dados que você está atualizando no momento.</span><span class="sxs-lookup"><span data-stu-id="f4717-103">Use the Full-Text Search Upgrade Options page of the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Installation Wizard to select the full-text search upgrade option to use for the databases that you are upgrading at this time.</span></span>  
  
 <span data-ttu-id="f4717-104">No [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] , cada índice de texto completo reside em um catálogo de texto completo que pertence a um grupo de arquivos, tem um caminho físico e é tratado como um arquivo de banco de dados.</span><span class="sxs-lookup"><span data-stu-id="f4717-104">In [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] each full-text index resides in a full-text catalog that belongs to a filegroup, has a physical path, and is treated as a database file.</span></span> <span data-ttu-id="f4717-105">Agora, um catálogo de texto completo é um conceito lógico – um objeto virtual – que se refere a um grupo de índices de texto completo.</span><span class="sxs-lookup"><span data-stu-id="f4717-105">Now, a full-text catalog is a logical concept-a virtual object-that refers to a group of full-text indexes.</span></span> <span data-ttu-id="f4717-106">Por isso, um novo catálogo de texto completo não é tratado como um arquivo de banco de dados com um caminho físico.</span><span class="sxs-lookup"><span data-stu-id="f4717-106">Therefore, a new full-text catalog is not treated as a database file with a physical path.</span></span> <span data-ttu-id="f4717-107">No entanto, durante a atualização de qualquer catálogo de texto completo que contém arquivos de dados, é criado um novo grupo de arquivos no mesmo disco.</span><span class="sxs-lookup"><span data-stu-id="f4717-107">However, during upgrade of any full-text catalog that contains data files, a new filegroup is created on same disk.</span></span> <span data-ttu-id="f4717-108">Isso mantém o antigo comportamento de E/S do disco após a atualização.</span><span class="sxs-lookup"><span data-stu-id="f4717-108">This maintains the old disk I/O behavior after upgrade.</span></span> <span data-ttu-id="f4717-109">Qualquer índice de texto completo desse catálogo será colocado no novo grupo de arquivos se existir o caminho raiz.</span><span class="sxs-lookup"><span data-stu-id="f4717-109">Any full-text index from that catalog is placed in the new filegroup if the root path exists.</span></span> <span data-ttu-id="f4717-110">Se o caminho do antigo catálogo de texto completo for inválido, a atualização manterá o índice de texto completo no mesmo grupo de arquivos que a tabela base ou, no caso de uma tabela particionada, no grupo de arquivos primário.</span><span class="sxs-lookup"><span data-stu-id="f4717-110">If the old full-text catalog path is invalid, the upgrade keeps the full-text index in the same filegroup as base table or, for a partitioned table, in the primary filegroup.</span></span>  
  
## <a name="options"></a><span data-ttu-id="f4717-111">Opções</span><span class="sxs-lookup"><span data-stu-id="f4717-111">Options</span></span>  
 <span data-ttu-id="f4717-112">Quando você atualizar para o [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)], escolha uma das opções de atualização de texto completo a seguir.</span><span class="sxs-lookup"><span data-stu-id="f4717-112">When you upgrade to [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)], choose one of the following full-text upgrade options.</span></span>  
  
 <span data-ttu-id="f4717-113">**Importaçãoação**</span><span class="sxs-lookup"><span data-stu-id="f4717-113">**Import**</span></span>  
 <span data-ttu-id="f4717-114">Os catálogos de texto completo são importados.</span><span class="sxs-lookup"><span data-stu-id="f4717-114">Full-text catalogs are imported.</span></span> <span data-ttu-id="f4717-115">A importação costuma ser consideravelmente mais rápida do que a recompilação.</span><span class="sxs-lookup"><span data-stu-id="f4717-115">Typically, import is significantly faster than rebuild.</span></span> <span data-ttu-id="f4717-116">Por exemplo, quando é usada apenas uma CPU, a importação é executada cerca de 10 vezes mais rápido do que a recompilação.</span><span class="sxs-lookup"><span data-stu-id="f4717-116">For example, when using only one CPU, import runs about 10 times faster than rebuild.</span></span> <span data-ttu-id="f4717-117">Contudo, um catálogo de texto completo importado do [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] não usa os separadores de palavras novos e aprimorados, por isso pode ser necessário recompilar o catálogo de texto completo no futuro.</span><span class="sxs-lookup"><span data-stu-id="f4717-117">However, a full-text catalog imported from [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] does not use the new and enhanced word breakers, so you might want to rebuild your full-text catalogs eventually.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="f4717-118">A recompilação pode ser executada no modo multi-threaded e, se houver mais de 10 CPUs disponíveis, ela poderá ser executada mais rápido do que a importação se você permitir que a recompilação use todas as CPUs.</span><span class="sxs-lookup"><span data-stu-id="f4717-118">Rebuild can run in multi-threaded mode, and if more than 10 CPUs are available, rebuild might run faster than import if you allow rebuild to use all of the CPUs.</span></span>  
  
 <span data-ttu-id="f4717-119">Se um catálogo de texto completo não estiver disponível, os índices de texto completo associados serão recompilados.</span><span class="sxs-lookup"><span data-stu-id="f4717-119">If a full-text catalog is not available, the associated full-text indexes are rebuilt.</span></span> <span data-ttu-id="f4717-120">Essa opção está disponível apenas para bancos de dados do [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="f4717-120">This option is available for only [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] databases.</span></span>  
  
 <span data-ttu-id="f4717-121">Para obter informações sobre o impacto da importação do índice de texto completo, consulte "Considerações sobre como escolher uma opção de atualização de texto completo", mais adiante neste tópico.</span><span class="sxs-lookup"><span data-stu-id="f4717-121">For information about the impact of importing full-text index, see "Considerations for Choosing a Full-Text Upgrade Option," later in this topic.</span></span>  
  
 <span data-ttu-id="f4717-122">**Recompilar**</span><span class="sxs-lookup"><span data-stu-id="f4717-122">**Rebuild**</span></span>  
 <span data-ttu-id="f4717-123">Os catálogos de texto completo são recompilados usando-se os separadores de palavras novos e aprimorados.</span><span class="sxs-lookup"><span data-stu-id="f4717-123">Full-text catalogs are rebuilt using the new and enhanced word breakers.</span></span> <span data-ttu-id="f4717-124">A recompilação de índices pode demorar bastante tempo, e uma quantidade significativa de memória e CPU pode ser necessária após a atualização.</span><span class="sxs-lookup"><span data-stu-id="f4717-124">Rebuilding indexes can take a lot of time, and a significant amount of CPU and memory might be required after the upgrade.</span></span>  
  
 <span data-ttu-id="f4717-125">**Redefinir**</span><span class="sxs-lookup"><span data-stu-id="f4717-125">**Reset**</span></span>  
 <span data-ttu-id="f4717-126">Os catálogos de texto completo são redefinidos.</span><span class="sxs-lookup"><span data-stu-id="f4717-126">Full-text catalogs are reset.</span></span> <span data-ttu-id="f4717-127">Quando atualizados do [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)], os arquivos de catálogo de texto completo são removidos, mas os metadados dos catálogos e dos índices de texto completo são preservados.</span><span class="sxs-lookup"><span data-stu-id="f4717-127">When upgrading from [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)], full-text catalog files are removed, but the metadata for full-text catalogs and full-text indexes is retained.</span></span> <span data-ttu-id="f4717-128">Depois de serem atualizados, todos os índices de texto completo são desabilitados para o controle de alteração e os rastreamentos não são iniciados automaticamente.</span><span class="sxs-lookup"><span data-stu-id="f4717-128">After being upgraded, all full-text indexes are disabled for change tracking and crawls are not started automatically.</span></span> <span data-ttu-id="f4717-129">O catálogo permanecerá vazio até você executar uma população completa manualmente, depois que a atualização for concluída.</span><span class="sxs-lookup"><span data-stu-id="f4717-129">The catalog will remain empty until you manually issue a full population, after the upgrade completes.</span></span>  
  
 <span data-ttu-id="f4717-130">Todas essas opções de atualização asseguram que os bancos de dados atualizados se beneficiem totalmente dos aprimoramentos de desempenho de texto completo.</span><span class="sxs-lookup"><span data-stu-id="f4717-130">All of these upgrade options ensure that upgraded databases benefit fully from full-text performance enhancements.</span></span>  
  
## <a name="considerations-for-choosing-a-full-text-upgrade-option"></a><span data-ttu-id="f4717-131">Considerações sobre como escolher uma opção de atualização de texto completo</span><span class="sxs-lookup"><span data-stu-id="f4717-131">Considerations for Choosing a Full-Text Upgrade Option</span></span>  
 <span data-ttu-id="f4717-132">Ao escolher a opção de atualização para sua atualização, considere o seguinte:</span><span class="sxs-lookup"><span data-stu-id="f4717-132">When choosing the upgrade option for your upgrade, consider the following:</span></span>  
  
-   <span data-ttu-id="f4717-133">Como você usa os separadores de palavras?</span><span class="sxs-lookup"><span data-stu-id="f4717-133">How do you use word breakers?</span></span>  
  
     <span data-ttu-id="f4717-134">O serviço de pesquisa de texto completo no [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] inclui separadores de palavras e lematizadores.</span><span class="sxs-lookup"><span data-stu-id="f4717-134">The full-text search service in [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] includes word breakers and stemmers.</span></span> <span data-ttu-id="f4717-135">Eles podem alterar os resultados de consultas de texto completo do [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] para um cenário ou padrão de texto específico.</span><span class="sxs-lookup"><span data-stu-id="f4717-135">These might change the results of full-text queries from [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] for a specific text pattern or scenario.</span></span> <span data-ttu-id="f4717-136">Portanto, a maneira como você usa os separadores de palavras é importante na hora de escolher uma opção de atualização apropriada:</span><span class="sxs-lookup"><span data-stu-id="f4717-136">Therefore, how you use word breakers is important when choosing a suitable upgrade option:</span></span>  
  
    -   <span data-ttu-id="f4717-137">Se os separadores de palavras do idioma de texto completo que você usa não tiverem sido mudados ou se a precisão dos dados recuperados não for um fator crucial, a importação será a opção adequada.</span><span class="sxs-lookup"><span data-stu-id="f4717-137">If the word breakers of the full-text language you use did not change, or if recall accuracy is not critical to you, importing is suitable.</span></span> <span data-ttu-id="f4717-138">Posteriormente, se você tiver algum problema em relação a recuperação, poderá atualizar para os novos separadores de palavras recompilando os catálogos de texto completo.</span><span class="sxs-lookup"><span data-stu-id="f4717-138">Later, if you experience any recall issues, you can upgrade to the new word breakers simply by rebuilding your full-text catalogs.</span></span>  
  
    -   <span data-ttu-id="f4717-139">Se a precisão dos dados recuperados for um aspecto importante e você usar um dos separadores de palavras que foram adicionados após o [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)], a recompilação será adequada.</span><span class="sxs-lookup"><span data-stu-id="f4717-139">If you care about recall accuracy and you use one of the word breakers that were added after [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)], rebuilding is suitable.</span></span>  
  
-   <span data-ttu-id="f4717-140">Algum índice de texto completo foi compilado em colunas de chave de texto completo integer?</span><span class="sxs-lookup"><span data-stu-id="f4717-140">Were any full-text indexes built on integer full-text key columns?</span></span>  
  
     <span data-ttu-id="f4717-141">A recompilação faz otimizações internas que, em alguns casos, melhoram o desempenho de consultas do índice de texto completo atualizado.</span><span class="sxs-lookup"><span data-stu-id="f4717-141">Rebuilding performs internal optimizations that improve the query performance of the upgraded full-text index in some cases.</span></span> <span data-ttu-id="f4717-142">Especificamente, se você tiver catálogos de texto completo que contêm índices de texto completo para os quais a coluna de chave de texto completo da tabela base é do tipo de dados integer, a recompilação atingirá o desempenho ideal de consultas de texto completo depois da atualização.</span><span class="sxs-lookup"><span data-stu-id="f4717-142">Specifically, if you have full-text catalogs that contain full-text indexes for which the full-text key column of the base table is an integer data type, rebuilding achieves ideal performance of full-text queries after upgrade.</span></span> <span data-ttu-id="f4717-143">Nesse caso, é altamente recomendável usar a opção **Recriar** .</span><span class="sxs-lookup"><span data-stu-id="f4717-143">In this case, we highly recommend you to use the **Rebuild** option.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="f4717-144">Para os índices de texto completo do [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)], é recomendável que a coluna que funciona como a chave de texto completo seja um tipo de dados integer.</span><span class="sxs-lookup"><span data-stu-id="f4717-144">For full-text indexes in [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)], we recommend that the column serving as the full-text key be an integer data type.</span></span> <span data-ttu-id="f4717-145">Para obter mais informações, consulte [Melhorar o desempenho de índices de texto completo](../../relational-databases/indexes/indexes.md).</span><span class="sxs-lookup"><span data-stu-id="f4717-145">For more information, see [Improve the Performance of Full-Text Indexes](../../relational-databases/indexes/indexes.md).</span></span>  
  
-   <span data-ttu-id="f4717-146">Qual é a prioridade para colocar a instância de servidor online?</span><span class="sxs-lookup"><span data-stu-id="f4717-146">What is the priority for getting your server instance online?</span></span>  
  
     <span data-ttu-id="f4717-147">A importação ou a recompilação durante a atualização usa muitos recursos da CPU, o que faz com que o restante da instância do servidor demore para ser atualizado e ficar online.</span><span class="sxs-lookup"><span data-stu-id="f4717-147">Importing or rebuilding during upgrade takes a lot of CPU resources, which delays getting the rest of the server instance upgraded and online.</span></span> <span data-ttu-id="f4717-148">Se colocar a instância do servidor online o mais rápido possível é importante para você e se você deseja executar uma população manual depois da atualização, a opção **Redefinir** é a mais adequada.</span><span class="sxs-lookup"><span data-stu-id="f4717-148">If getting the server instance online as soon as possible is important and if you are willing to run a manual population after the upgrade, **Reset** is suitable.</span></span>  
  
## <a name="additional-resources"></a><span data-ttu-id="f4717-149">Recursos adicionais</span><span class="sxs-lookup"><span data-stu-id="f4717-149">Additional Resources</span></span>  
  
