---
title: Verifique se o crescimento automático está ativado para todos os arquivos de dados e de log durante o processo de atualização | Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: database-engine
ms.topic: conceptual
helpviewer_keywords:
- log files [SQL Server], size
- data files [SQL Server], size
- tempdb [SQL Server], size
- autogrow [SQL Server]
ms.assetid: a5860904-e2be-4224-8a51-df18a10d3fb9
author: mashamsft
ms.author: mathoma
ms.openlocfilehash: 8ca12075598bce210a905cbdfba89f2d879cf09b
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87686019"
---
# <a name="verify-autogrow-is-turned-on-for-all-data-and-log-files-during-the-upgrade-process"></a><span data-ttu-id="6f2e3-102">Verificar se o crescimento automático está ativado em todos os arquivos de dados e de log durante o processo de atualização</span><span class="sxs-lookup"><span data-stu-id="6f2e3-102">Verify autogrow is turned on for all data and log files during the upgrade process</span></span>
  <span data-ttu-id="6f2e3-103">O Supervisor de Atualização detectou arquivos de dados ou de log que não estão com a opção de crescimento automático ativada.</span><span class="sxs-lookup"><span data-stu-id="6f2e3-103">Upgrade Advisor detected data or log files that are not set to autogrow.</span></span> <span data-ttu-id="6f2e3-104">Recursos novos e aprimorados exigem espaço em disco adicional para bancos de dados de usuário e o banco de dados do sistema **tempdb** .</span><span class="sxs-lookup"><span data-stu-id="6f2e3-104">New and enhanced features require additional disk space for user databases and the **tempdb** system database.</span></span> <span data-ttu-id="6f2e3-105">Para garantir que os recursos possam acomodar aumentos de tamanho durante a atualização e as operações de produção subsequentes, é recomendável definir o crescimento automático como ativado para todos os dados de usuário e arquivos de log e os dados e arquivos de log do **tempdb** antes da atualização</span><span class="sxs-lookup"><span data-stu-id="6f2e3-105">To ensure resources can accommodate size increases during upgrade and subsequent production operations, we recommend setting autogrow to ON for all user data and log files and the **tempdb** data and log files before upgrading.</span></span>  
  
 <span data-ttu-id="6f2e3-106">Depois de atualizar e testar as cargas de trabalho, convém desativar o crescimento automático ou ajustar o incremento FILEGROWTH para os arquivos de log e de dados do usuário.</span><span class="sxs-lookup"><span data-stu-id="6f2e3-106">After you have upgraded and tested your workloads, you may want to turn autogrow off or adjust the FILEGROWTH increment accordingly for user data and log files.</span></span> <span data-ttu-id="6f2e3-107">Recomendamos que o crescimento automático permaneça ativado para o banco de dados do sistema **tempdb** .</span><span class="sxs-lookup"><span data-stu-id="6f2e3-107">We recommend that autogrow remain on for the **tempdb** system database.</span></span> <span data-ttu-id="6f2e3-108">Para obter mais informações, consulte ‘Planejamento de capacidade para tempdb’ nos Manuais Online do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="6f2e3-108">For more information, see "Capacity Planning for tempdb" in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Books Online.</span></span>  
  
## <a name="component"></a><span data-ttu-id="6f2e3-109">Componente</span><span class="sxs-lookup"><span data-stu-id="6f2e3-109">Component</span></span>  
 [!INCLUDE[ssDE](../../includes/ssde-md.md)]  
  
## <a name="description"></a><span data-ttu-id="6f2e3-110">Descrição</span><span class="sxs-lookup"><span data-stu-id="6f2e3-110">Description</span></span>  
 <span data-ttu-id="6f2e3-111">**Arquivos de dados**</span><span class="sxs-lookup"><span data-stu-id="6f2e3-111">**Data files**</span></span>  
  
 <span data-ttu-id="6f2e3-112">A tabela a seguir lista as alterações em recursos do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] que resultam em requisitos de espaço em disco adicionais para arquivos de dados definidos pelo usuário.</span><span class="sxs-lookup"><span data-stu-id="6f2e3-112">The following table lists changes to [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] features that result in additional disk space requirements for user-defined data files.</span></span>  
  
|<span data-ttu-id="6f2e3-113">Recurso</span><span class="sxs-lookup"><span data-stu-id="6f2e3-113">Feature</span></span>|<span data-ttu-id="6f2e3-114">Alterações introduzidas no [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]</span><span class="sxs-lookup"><span data-stu-id="6f2e3-114">Changes Introduced in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]</span></span>|  
|-------------|-----------------------------------------------------|  
|<span data-ttu-id="6f2e3-115">Texto completo</span><span class="sxs-lookup"><span data-stu-id="6f2e3-115">Full-text</span></span>|<span data-ttu-id="6f2e3-116">O mapeamento da DOCID (identificação do documento) é armazenado no arquivo de dados e não no catálogo de texto completo.</span><span class="sxs-lookup"><span data-stu-id="6f2e3-116">The document ID (DOCID) map is stored in the data file instead of in the full-text catalog.</span></span>|  
|<span data-ttu-id="6f2e3-117">Colunas `text`, `ntext` e `image`</span><span class="sxs-lookup"><span data-stu-id="6f2e3-117">`text`, `ntext`, and `image` columns</span></span>|<span data-ttu-id="6f2e3-118">Colunas LOB (objetos grandes) definidas como tipos de dados `text`, `ntext` ou `image` exigem 40 bytes de espaço em disco adicional por coluna.</span><span class="sxs-lookup"><span data-stu-id="6f2e3-118">Large object (LOB) columns defined as `text`, `ntext`, or `image` data types require an additional 40 bytes of disk space per column.</span></span> <span data-ttu-id="6f2e3-119">Esse aumento de espaço único ocorre durante a primeira atualização de cada coluna LOB.</span><span class="sxs-lookup"><span data-stu-id="6f2e3-119">This one-time space increase occurs during the first update of each LOB column.</span></span>|  
|<span data-ttu-id="6f2e3-120">metadata</span><span class="sxs-lookup"><span data-stu-id="6f2e3-120">metadata</span></span>|<span data-ttu-id="6f2e3-121">Metadados de sistema adicionais são criados e mantidos no grupo de arquivos PRIMARY de cada banco de dados de usuário para objetos de banco de dados e permissões de usuários.</span><span class="sxs-lookup"><span data-stu-id="6f2e3-121">Additional system metadata is created and maintained in the PRIMARY filegroup of each user database for database objects and user permissions.</span></span> <span data-ttu-id="6f2e3-122">Por exemplo, em versões anteriores do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], as permissões associadas a um concessor ou ao usuário autorizado eram armazenadas em uma linha única como um bitmap.</span><span class="sxs-lookup"><span data-stu-id="6f2e3-122">For example, in earlier versions of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], the permissions associated with a grantor or grantee is stored in a single row as a bitmap.</span></span> <span data-ttu-id="6f2e3-123">O bitmap foi expandido em várias linhas.</span><span class="sxs-lookup"><span data-stu-id="6f2e3-123">The bitmap is expanded into multiple rows.</span></span><br /><br /> <span data-ttu-id="6f2e3-124">Durante o processo de atualização, deve haver espaço em disco suficiente para armazenar ambos os metadados antigos e novos.</span><span class="sxs-lookup"><span data-stu-id="6f2e3-124">During the upgrade process, there must be enough disk space to store both the old and new metadata.</span></span> <span data-ttu-id="6f2e3-125">Os metadados antigos são excluídos depois que a atualização é concluída.</span><span class="sxs-lookup"><span data-stu-id="6f2e3-125">The old metadata is deleted after the upgrade is complete.</span></span>|  
  
 <span data-ttu-id="6f2e3-126">**Arquivos de log de transações**</span><span class="sxs-lookup"><span data-stu-id="6f2e3-126">**Transaction log files**</span></span>  
  
 <span data-ttu-id="6f2e3-127">A tabela a seguir lista as alterações em recursos do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] que resultam em requisitos de espaço em disco adicionais para arquivos de log de transações definidos pelo usuário.</span><span class="sxs-lookup"><span data-stu-id="6f2e3-127">The following table lists changes to [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] features that result in additional disk space requirements for user-defined transaction log files.</span></span>  
  
|<span data-ttu-id="6f2e3-128">Recurso</span><span class="sxs-lookup"><span data-stu-id="6f2e3-128">Feature</span></span>|<span data-ttu-id="6f2e3-129">Alterações introduzidas no [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]</span><span class="sxs-lookup"><span data-stu-id="6f2e3-129">Changes Introduced in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]</span></span>|  
|-------------|-----------------------------------------------------|  
|<span data-ttu-id="6f2e3-130">Restauração e recuperação</span><span class="sxs-lookup"><span data-stu-id="6f2e3-130">Restore and recovery</span></span>|<span data-ttu-id="6f2e3-131">Durante a fase desfazer de uma recuperação de pane, o [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] permite que os usuários acessem o banco de dados.</span><span class="sxs-lookup"><span data-stu-id="6f2e3-131">During the undo phase of a crash recovery, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] allows users to access the database.</span></span> <span data-ttu-id="6f2e3-132">Isso é possível porque as transações não confirmadas no momento da falha readquirem todos os bloqueios que tinham antes da falha.</span><span class="sxs-lookup"><span data-stu-id="6f2e3-132">This is possible because the transactions that were uncommitted when the crash occurred reacquire any locks they held before the crash.</span></span> <span data-ttu-id="6f2e3-133">Enquanto essas transações estão sendo revertidas, seus bloqueios as protegem de interferências dos usuários.</span><span class="sxs-lookup"><span data-stu-id="6f2e3-133">While transactions are being rolled back, their locks protect them from interference by users.</span></span> <span data-ttu-id="6f2e3-134">Essas informações de bloqueio adicionais devem ser mantidas no log de transações.</span><span class="sxs-lookup"><span data-stu-id="6f2e3-134">This additional locking information must be maintained in the transaction log.</span></span>|  
  
 <span data-ttu-id="6f2e3-135">**arquivos de log e de dados do tempdb**</span><span class="sxs-lookup"><span data-stu-id="6f2e3-135">**tempdb data and log files**</span></span>  
  
 <span data-ttu-id="6f2e3-136">Em versões anteriores do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , o banco de dados **tempdb** é usado para armazenar os seguintes objetos:</span><span class="sxs-lookup"><span data-stu-id="6f2e3-136">In earlier versions of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], the **tempdb** database is used to store the following objects:</span></span>  
  
-   <span data-ttu-id="6f2e3-137">Objetos temporários criados explicitamente como tabelas, procedimentos armazenados, variáveis de tabela ou cursores.</span><span class="sxs-lookup"><span data-stu-id="6f2e3-137">Temporary objects explicitly created such as tables, stored procedures, table variables, or cursors.</span></span>  
  
-   <span data-ttu-id="6f2e3-138">Tabelas de trabalho internas criadas pelo [!INCLUDE[ssDE](../../includes/ssde-md.md)].</span><span class="sxs-lookup"><span data-stu-id="6f2e3-138">Internal work tables created by the [!INCLUDE[ssDE](../../includes/ssde-md.md)].</span></span>  
  
-   <span data-ttu-id="6f2e3-139">Resulta das classificações temporárias quando você cria ou recria índices, se SORT_IN_TEMPDB for especificado.</span><span class="sxs-lookup"><span data-stu-id="6f2e3-139">Results from temporary sorts when you create or rebuild indexes, if SORT_IN_TEMPDB is specified.</span></span>  
  
 <span data-ttu-id="6f2e3-140">Objetos adicionais também usam o banco de dados **tempdb** .</span><span class="sxs-lookup"><span data-stu-id="6f2e3-140">Additional objects also use the **tempdb** database.</span></span> <span data-ttu-id="6f2e3-141">A tabela a seguir lista as alterações ou adições aos [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] recursos que resultam em requisitos de espaço em disco adicionais para arquivos de log e dados do **tempdb** .</span><span class="sxs-lookup"><span data-stu-id="6f2e3-141">The following table lists changes or additions to [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] features that result in additional disk space requirements for **tempdb** data and log files.</span></span>  
  
|<span data-ttu-id="6f2e3-142">Recurso</span><span class="sxs-lookup"><span data-stu-id="6f2e3-142">Feature</span></span>|<span data-ttu-id="6f2e3-143">Alterações introduzidas no [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]</span><span class="sxs-lookup"><span data-stu-id="6f2e3-143">Changes Introduced in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]</span></span>|  
|-------------|-----------------------------------------------------|  
|<span data-ttu-id="6f2e3-144">Controle de versão de linha</span><span class="sxs-lookup"><span data-stu-id="6f2e3-144">Row versioning</span></span>|<span data-ttu-id="6f2e3-145">O controle de versão de linha é uma estrutura geral do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] utilizada para:</span><span class="sxs-lookup"><span data-stu-id="6f2e3-145">Row versioning is a general framework in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] that is used to:</span></span><br /><br /> <span data-ttu-id="6f2e3-146">Gatilhos de suporte: Crie as tabelas inseridas e excluídas em gatilhos.</span><span class="sxs-lookup"><span data-stu-id="6f2e3-146">Support triggers: Build the inserted and deleted tables in triggers.</span></span> <span data-ttu-id="6f2e3-147">Qualquer linha modificada pelo gatilho tem controle de versão.</span><span class="sxs-lookup"><span data-stu-id="6f2e3-147">Any rows modified by the trigger are versioned.</span></span> <span data-ttu-id="6f2e3-148">Isso inclui as linhas modificadas pela instrução que iniciou o gatilho, bem como quaisquer modificações de dados feitas pelo gatilho.</span><span class="sxs-lookup"><span data-stu-id="6f2e3-148">This includes the rows modified by the statement that launched the trigger, as well as any data modifications made by the trigger.</span></span> <span data-ttu-id="6f2e3-149">Os gatilhos AFTER usam o repositório de versão do **tempdb** para manter as imagens anteriores das linhas alteradas pelo gatilho.</span><span class="sxs-lookup"><span data-stu-id="6f2e3-149">AFTER triggers use the version store of **tempdb** to hold the before images of the rows changed by the trigger.</span></span> <span data-ttu-id="6f2e3-150">Quando você carrega dados em massa com gatilhos habilitados, uma cópia de cada linha é adicionada ao repositório da versão.</span><span class="sxs-lookup"><span data-stu-id="6f2e3-150">When you bulkload data with triggers enabled, a copy of each row is added to the version store.</span></span><br /><br /> <span data-ttu-id="6f2e3-151">Oferecer suporte a vários conjuntos de resultados ativos (MARS)</span><span class="sxs-lookup"><span data-stu-id="6f2e3-151">Support Multiple Active Result Sets (MARS).</span></span> <span data-ttu-id="6f2e3-152">Se uma sessão MARS emitir uma instrução de modificação de dados (como INSERT, UPDATE ou DELETE) cada vez que houver um conjunto de resultados ativos, as linhas afetadas pela instrução de modificação terão controle de versão.</span><span class="sxs-lookup"><span data-stu-id="6f2e3-152">If a MARS session issues a data modification statement (such as INSERT, UPDATE, or DELETE) at a time there is an active result set, the rows affected by the modification statement are versioned.</span></span><br /><br /> <span data-ttu-id="6f2e3-153">Oferecer suporte a operações de índice que especificam a opção ONLINE.</span><span class="sxs-lookup"><span data-stu-id="6f2e3-153">Support index operations that specify the ONLINE option.</span></span> <span data-ttu-id="6f2e3-154">As operações de índice online utilizam o controle de versão de linha para isolar a operação de índice dos efeitos das modificações feitas por outras transações.</span><span class="sxs-lookup"><span data-stu-id="6f2e3-154">Online index operations use row versioning to isolate the index operation from the effects of modifications made by other transactions.</span></span> <span data-ttu-id="6f2e3-155">Isso evita a necessidade de solicitar bloqueios de compartilhamento de linhas já lidas.</span><span class="sxs-lookup"><span data-stu-id="6f2e3-155">This avoids the need for requesting share locks on rows that have been read.</span></span> <span data-ttu-id="6f2e3-156">Além disso, as operações simultâneas de atualização e exclusão de usuários durante operações de índice online exigem espaço para registros de versão em **tempdb**.</span><span class="sxs-lookup"><span data-stu-id="6f2e3-156">In addition, concurrent user update and delete operations during online index operations require space for version records in **tempdb**.</span></span><br /><br /> <span data-ttu-id="6f2e3-157">Suporte a níveis de isolamento de transação com base em versão de linha: uma nova implementação de nível de isolamento de leitura confirmada que usa o controle de versão de linha para fornecer consistência de leitura no nível de instrução.</span><span class="sxs-lookup"><span data-stu-id="6f2e3-157">Support row versioning-based transaction isolation levels: A new implementation of read committed isolation level that uses row versioning to provide statement-level read consistency.</span></span> <span data-ttu-id="6f2e3-158">Um novo nível de isolamento, instantâneo, para fornecer a consistência de leitura em nível de transações.</span><span class="sxs-lookup"><span data-stu-id="6f2e3-158">A new isolation level, snapshot, to provide transaction-level read consistency.</span></span><br /><br /> <br /><br /> <span data-ttu-id="6f2e3-159">As versões de linha são mantidas no repositório de versão **tempdb** por tempo suficiente para atender aos requisitos de transações em execução em níveis de isolamento baseados em controle de versão de linha.</span><span class="sxs-lookup"><span data-stu-id="6f2e3-159">Row versions are held in the **tempdb** version store long enough to satisfy the requirements of transactions running under row versioning-based isolation levels.</span></span><br /><br /> <span data-ttu-id="6f2e3-160">Para obter mais informações sobre controle de versão de linha e repositório de versão, consulte o tópico ‘Compreendendo níveis de isolamento com base em controle de versão de linha’ nos Manuais Online do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="6f2e3-160">For more information about row versioning and the version store, see the topic "Understanding Row Versioning-based Isolation Levels" in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Books Online.</span></span>|  
|<span data-ttu-id="6f2e3-161">Armazenando metadados de tabela e variáveis temporárias em cache</span><span class="sxs-lookup"><span data-stu-id="6f2e3-161">Caching of temp table and temp variable metadata</span></span>|<span data-ttu-id="6f2e3-162">Para todos os metadados da tabela temporária e da variável temporária em cache no cache de metadados por [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , duas páginas extras são alocadas para **tempdb**.</span><span class="sxs-lookup"><span data-stu-id="6f2e3-162">For every metadata of temp table and temp variable cached in the metadata cache by [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], two extra pages are allocated for **tempdb**.</span></span><br /><br /> <span data-ttu-id="6f2e3-163">Se um procedimento armazenado ou gatilho criar uma tabela temporária ou variável temporária, o objeto temporário não será excluído quando o procedimento ou gatilho concluir a execução.</span><span class="sxs-lookup"><span data-stu-id="6f2e3-163">If a stored procedure or trigger creates a temp table or temp variable, the temporary object is not deleted when the procedure or trigger completes execution.</span></span> <span data-ttu-id="6f2e3-164">Em vez disso, o objeto temporário fica truncado em uma página e é usado novamente a próxima vez que o procedimento ou gatilho é executado.</span><span class="sxs-lookup"><span data-stu-id="6f2e3-164">Instead, the temporary object is truncated to one page and reused the next time the procedure or trigger is executed.</span></span>|  
|<span data-ttu-id="6f2e3-165">Índices em tabelas particionadas</span><span class="sxs-lookup"><span data-stu-id="6f2e3-165">Indexes on partitioned tables</span></span>|<span data-ttu-id="6f2e3-166">Quando o [!INCLUDE[ssDE](../../includes/ssde-md.md)] executar classificação para criar índices particionados, o espaço suficiente para manter as execuções de classificação intermediárias de cada partição será necessário em **tempdb** se a opção de índice SORT_IN_TEMPDB for especificada.</span><span class="sxs-lookup"><span data-stu-id="6f2e3-166">When the [!INCLUDE[ssDE](../../includes/ssde-md.md)] performs sorting to build partitioned indexes, enough space to hold the intermediate sort runs of each partition is required in **tempdb** if the SORT_IN_TEMPDB index option is specified.</span></span>|  
|[!INCLUDE[ssSB](../../includes/sssb-md.md)]|[!INCLUDE[ssSB](../../includes/sssb-md.md)]<span data-ttu-id="6f2e3-167">usa explicitamente **tempdb** ao preservar o contexto da caixa de diálogo existente que não pode permanecer na memória (aproximadamente 1 KB por caixa de diálogo).</span><span class="sxs-lookup"><span data-stu-id="6f2e3-167">explicitly uses **tempdb** when preserving existing dialog context that cannot stay in memory (approximately 1 KB per dialog).</span></span><br /><br /> [!INCLUDE[ssSB](../../includes/sssb-md.md)]<span data-ttu-id="6f2e3-168">o usa implicitamente o **tempdb** por meio do cache de objetos no contexto da execução da consulta.</span><span class="sxs-lookup"><span data-stu-id="6f2e3-168">implicitly uses **tempdb** through the caching of objects in the context of query execution.</span></span> <span data-ttu-id="6f2e3-169">Por exemplo, tabelas de trabalho usadas para eventos de timer e plano de fundo entregaram conversações.</span><span class="sxs-lookup"><span data-stu-id="6f2e3-169">For example, work tables used for timer events and background delivered conversations.</span></span><br /><br /> <span data-ttu-id="6f2e3-170">Os recursos DBMail, notificações de eventos e notificações de consulta usam o [!INCLUDE[ssSB](../../includes/sssb-md.md)] implicitamente.</span><span class="sxs-lookup"><span data-stu-id="6f2e3-170">The features DBMail, event notifications, and query notifications implicitly use [!INCLUDE[ssSB](../../includes/sssb-md.md)].</span></span>|  
|<span data-ttu-id="6f2e3-171">Tipos de dados LOB (objeto grande)</span><span class="sxs-lookup"><span data-stu-id="6f2e3-171">Large object (LOB) data type</span></span><br /><br /> <span data-ttu-id="6f2e3-172">Variáveis e parâmetros LOB</span><span class="sxs-lookup"><span data-stu-id="6f2e3-172">LOB variables and parameters</span></span>|<span data-ttu-id="6f2e3-173">Os tipos de dados `varchar(max)` , `nvarchar(max)` , **varbinary (max) Text**, `ntext` `image,` e `xml` são tipos de objeto grandes.</span><span class="sxs-lookup"><span data-stu-id="6f2e3-173">The data types `varchar(max)`, `nvarchar(max)`, **varbinary(max)text**, `ntext`, `image,` and `xml` are large object types.</span></span><br /><br /> <span data-ttu-id="6f2e3-174">Quando um nível de isolamento de transação baseado em controle de versão de linha é habilitado no banco de dados e modificações de objetos grandes são feitas, o fragmento alterado do LOB é copiado para o repositório de versão em **tempdb**.</span><span class="sxs-lookup"><span data-stu-id="6f2e3-174">When a row versioning-based transaction isolation level is enabled on the database and modifications of large objects are made, the changed fragment of the LOB is copied to the version store in **tempdb**.</span></span><br /><br /> <span data-ttu-id="6f2e3-175">Os parâmetros definidos como um tipo de dados de objeto grande são armazenados em **tempdb**.</span><span class="sxs-lookup"><span data-stu-id="6f2e3-175">Parameters defined as a large object data type are stored in **tempdb**.</span></span>|  
|<span data-ttu-id="6f2e3-176">CETs (expressões de tabela comuns)</span><span class="sxs-lookup"><span data-stu-id="6f2e3-176">Common table expressions (CTEs)</span></span>|<span data-ttu-id="6f2e3-177">As tabelas de trabalho temporárias para operações de spool são criadas no **tempdb** quando consultas de expressão de tabela comuns são executadas.</span><span class="sxs-lookup"><span data-stu-id="6f2e3-177">Temporary work tables for spool operations are created in **tempdb** when common table expression queries are executed.</span></span>|  
  
## <a name="corrective-action"></a><span data-ttu-id="6f2e3-178">Ação corretiva</span><span class="sxs-lookup"><span data-stu-id="6f2e3-178">Corrective Action</span></span>  
 <span data-ttu-id="6f2e3-179">Para definir um arquivo de log ou de dados para crescimento automático, modifique as seguintes instruções para especificar os dados e o log para seu banco de dados.</span><span class="sxs-lookup"><span data-stu-id="6f2e3-179">To set a data or log file to autogrow, modify the following statements to specify the data and log for your database.</span></span> <span data-ttu-id="6f2e3-180">Você deve ajustar o incremento FILEGROWTH para um valor que é apropriado para seu ambiente.</span><span class="sxs-lookup"><span data-stu-id="6f2e3-180">You should adjust the FILEGROWTH increment to a value that is appropriate for your environment.</span></span>  
  
```  
ALTER DATABASE tempdb  
MODIFY FILE  
    (NAME = tempdev,  
    FILEGROWTH = 20MB);  
GO  
ALTER DATABASE tempdb  
MODIFY FILE  
    (NAME = templog,  
    FILEGROWTH = 10MB);  
```  
  
 <span data-ttu-id="6f2e3-181">O incremento de crescimento padrão para arquivos de dados é 1 MB.</span><span class="sxs-lookup"><span data-stu-id="6f2e3-181">The default growth increment for data files is 1 MB.</span></span> <span data-ttu-id="6f2e3-182">O arquivo de log padrão é 10%.</span><span class="sxs-lookup"><span data-stu-id="6f2e3-182">The log file default is10%.</span></span> <span data-ttu-id="6f2e3-183">Nós recomendamos as seguintes políticas gerais para definir o incremento FILEGROWTH:</span><span class="sxs-lookup"><span data-stu-id="6f2e3-183">We recommend the following general guidelines when setting the FILEGROWTH increment:</span></span>  
  
|<span data-ttu-id="6f2e3-184">Tamanho do arquivo</span><span class="sxs-lookup"><span data-stu-id="6f2e3-184">File size</span></span>|<span data-ttu-id="6f2e3-185">Incremento FILEGROWTH</span><span class="sxs-lookup"><span data-stu-id="6f2e3-185">FILEGROWTH increment</span></span>|  
|---------------|--------------------------|  
|<span data-ttu-id="6f2e3-186">0 a 50 MB</span><span class="sxs-lookup"><span data-stu-id="6f2e3-186">0-50MB</span></span>|<span data-ttu-id="6f2e3-187">10MB</span><span class="sxs-lookup"><span data-stu-id="6f2e3-187">10MB</span></span>|  
|<span data-ttu-id="6f2e3-188">100 a 200 MB</span><span class="sxs-lookup"><span data-stu-id="6f2e3-188">100-200MB</span></span>|<span data-ttu-id="6f2e3-189">20</span><span class="sxs-lookup"><span data-stu-id="6f2e3-189">20MB</span></span>|  
|<span data-ttu-id="6f2e3-190">500 MB ou mais</span><span class="sxs-lookup"><span data-stu-id="6f2e3-190">500MB or more</span></span>|<span data-ttu-id="6f2e3-191">10%</span><span class="sxs-lookup"><span data-stu-id="6f2e3-191">10%</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="6f2e3-192">Consulte Também</span><span class="sxs-lookup"><span data-stu-id="6f2e3-192">See Also</span></span>  
 <span data-ttu-id="6f2e3-193">[Problemas de atualização do Mecanismo de Banco de Dados](../../../2014/sql-server/install/database-engine-upgrade-issues.md) </span><span class="sxs-lookup"><span data-stu-id="6f2e3-193">[Database Engine Upgrade Issues](../../../2014/sql-server/install/database-engine-upgrade-issues.md) </span></span>  
 [<span data-ttu-id="6f2e3-194">Supervisor de atualização do SQL Server 2014 &#91;novo&#93;</span><span class="sxs-lookup"><span data-stu-id="6f2e3-194">SQL Server 2014 Upgrade Advisor &#91;new&#93;</span></span>](sql-server-2014-upgrade-advisor.md)  
  
  
