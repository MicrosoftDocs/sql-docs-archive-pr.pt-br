---
title: Chaves de criptografia (modo nativo do SSRS) | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: database-engine
ms.topic: conceptual
f1_keywords:
- SQL12.rsconfigtool.encryptionkeypanel.F1
ms.assetid: cc7e6f84-80e1-4b5e-9409-d0e074edd147
author: maggiesMSFT
ms.author: maggies
ms.openlocfilehash: 78e9816a9e779459cd1388c1f7f10257c89b1ae5
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87576193"
---
# <a name="encryption-keys-ssrs-native-mode"></a><span data-ttu-id="98586-102">Chaves de Criptografia (modo nativo do SSRS)</span><span class="sxs-lookup"><span data-stu-id="98586-102">Encryption Keys (SSRS Native Mode)</span></span>
  <span data-ttu-id="98586-103">Use a página Chaves de Criptografia para gerenciar a chave simétrica usada para criptografar e descriptografar dados em um servidor de relatório.</span><span class="sxs-lookup"><span data-stu-id="98586-103">Use the Encryption Keys page to manage the symmetric key that is used to encrypt and decrypt data in a report server.</span></span> <span data-ttu-id="98586-104">O gerenciamento das chaves de criptografia é uma parte importante da configuração do servidor de relatório.</span><span class="sxs-lookup"><span data-stu-id="98586-104">Managing the encryption keys is an important part of report server configuration.</span></span> <span data-ttu-id="98586-105">A chave simétrica é criada e aplicada automaticamente quando você cria o banco de dados do servidor de relatórios.</span><span class="sxs-lookup"><span data-stu-id="98586-105">The symmetric key is created and applied automatically when you create the report server database.</span></span> <span data-ttu-id="98586-106">Crie uma cópia de backup da chave simétrica de modo que você possa executar operações de manutenção rotineiras.</span><span class="sxs-lookup"><span data-stu-id="98586-106">Create a backup copy of the symmetric key so that you can perform routine maintenance operations.</span></span> <span data-ttu-id="98586-107">As seguintes tarefas de manutenção requerem que você tenha uma cópia válida da chave simétrica:</span><span class="sxs-lookup"><span data-stu-id="98586-107">The following maintenance tasks require that you have a valid copy of the symmetric key:</span></span>  
  
-   <span data-ttu-id="98586-108">Alterar a conta de serviço para o serviço Servidor de Relatório.</span><span class="sxs-lookup"><span data-stu-id="98586-108">Changing the service account for the Report Server service.</span></span>  
  
-   <span data-ttu-id="98586-109">Migrar uma instalação do [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] para um computador diferente.</span><span class="sxs-lookup"><span data-stu-id="98586-109">Migrating a [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] installation to a different computer.</span></span>  
  
-   <span data-ttu-id="98586-110">Configurar uma nova instância de servidor de relatório para compartilhar ou usar um banco de dados de servidor de relatório existente.</span><span class="sxs-lookup"><span data-stu-id="98586-110">Configuring a new report server instance to share or use an existing report server database.</span></span>  
  
 [!INCLUDE[applies](../../includes/applies-md.md)]<span data-ttu-id="98586-111">[!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)]Modo nativo.</span><span class="sxs-lookup"><span data-stu-id="98586-111">[!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] Native mode.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="98586-112">Alterar periodicamente a chave de criptografia do Reporting Services é uma prática recomendada de segurança.</span><span class="sxs-lookup"><span data-stu-id="98586-112">Periodically changing the Reporting Services encryption key is a security best practice.</span></span> <span data-ttu-id="98586-113">Um momento indicado para alterar a chave é imediatamente após uma atualização de versão principal do Reporting Services.</span><span class="sxs-lookup"><span data-stu-id="98586-113">A recommended time to change the key is immediately following a major version upgrade of Reporting Services.</span></span> <span data-ttu-id="98586-114">Alterar a chave depois de uma atualização minimiza a interrupção de serviço adicional causada pela alteração da chave de criptografia do Reporting Services fora do ciclo de atualização.</span><span class="sxs-lookup"><span data-stu-id="98586-114">Changing the key after an upgrade minimizes additional service interruption caused by changing the Reporting Services encryption key outside of the upgrade cycle.</span></span>  
  
 <span data-ttu-id="98586-115">A restauração da chave simétrica será necessária se você tiver atualizado a conta de usuário do serviço Servidor de Relatório (e usado uma ferramenta que não seja o Gerenciador de Configurações do [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] para alterar a conta), ou se estiver migrando uma instalação do servidor de relatório para um novo servidor.</span><span class="sxs-lookup"><span data-stu-id="98586-115">Restoring the symmetric key is necessary if you updated the user account of the Report Server service (and you used a tool other than the [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] Configuration Manager to change the account), or if you are migrating a report server installation to a new server.</span></span>  
  
 <span data-ttu-id="98586-116">Para proteger a chave simétrica contra acesso não autorizado, a chave simétrica é criptografada usando a chave privada do serviço Servidor de Relatório.</span><span class="sxs-lookup"><span data-stu-id="98586-116">To protect the symmetric key from unauthorized access, the symmetric key is encrypted using the private key of the Report Server service.</span></span> <span data-ttu-id="98586-117">Somente o serviço Servidor de Relatório pode desbloquear e usar a chave simétrica para armazenar dados confidenciais no banco de dados do servidor de relatório.</span><span class="sxs-lookup"><span data-stu-id="98586-117">Only the Report Server service is able to unlock and use the symmetric key to store sensitive data in the report server database.</span></span> <span data-ttu-id="98586-118">Se você alterar a identidade do serviço Servidor de Relatório ou migrar o servidor de relatório para um novo computador, a chave privada do serviço Servidor de Relatório não mais poderá desbloquear a chave simétrica.</span><span class="sxs-lookup"><span data-stu-id="98586-118">If you change the identity of the Report Server service, or if you migrate the report server to a new computer, the private key of the Report Server service will no longer be able to unlock the symmetric key.</span></span> <span data-ttu-id="98586-119">Para restaurar o acesso à chave simétrica, criptografe novamente a chave simétrica usando a chave privada da nova identidade do serviço Servidor de Relatório.</span><span class="sxs-lookup"><span data-stu-id="98586-119">To restore access to the symmetric key, re-encrypt the symmetric key using the private key of the new Report Server service identity.</span></span> <span data-ttu-id="98586-120">A restauração da chave simétrica é o processo pelo qual a recriptografia ocorre.</span><span class="sxs-lookup"><span data-stu-id="98586-120">Restoring the symmetric key is the process by which the re-encryption occurs.</span></span>  
  
 <span data-ttu-id="98586-121">Somente restaure uma chave simétrica se ela for a mesma chave utilizada atualmente para criptografar e descriptografar dados no banco de dados do servidor de relatório.</span><span class="sxs-lookup"><span data-stu-id="98586-121">Only restore a symmetric key if it is the same key that is currently used to encrypt and decrypt data in the report server database.</span></span> <span data-ttu-id="98586-122">Se você restaurar uma chave simétrica que não seja válida, não poderá mais acessar os dados confidenciais.</span><span class="sxs-lookup"><span data-stu-id="98586-122">If you restore a symmetric key that is not valid, you can no longer access sensitive data.</span></span> <span data-ttu-id="98586-123">Nesse caso, exclua e recrie a chave.</span><span class="sxs-lookup"><span data-stu-id="98586-123">In this case, delete and re-create the key.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="98586-124">A ação de excluir e recriar a chave simétrica não pode ser invertida ou desfeita.</span><span class="sxs-lookup"><span data-stu-id="98586-124">The action of deleting and recreating the symmetric key cannot be reversed or undone.</span></span> <span data-ttu-id="98586-125">Excluir ou recriar a chave simétrica pode ter ramificações importantes em sua instalação atual.</span><span class="sxs-lookup"><span data-stu-id="98586-125">Deleting or recreating the key can have important ramifications on your current installation.</span></span> <span data-ttu-id="98586-126">Se você excluir a chave, quaisquer dados existentes criptografados pela chave simétrica também serão excluídos.</span><span class="sxs-lookup"><span data-stu-id="98586-126">If you delete the key, any existing data encrypted by the symmetric key will also deleted.</span></span> <span data-ttu-id="98586-127">Os dados excluídos incluem cadeias de caracteres de conexão a fontes de dados de relatório externas, cadeias de caracteres de conexões armazenadas e algumas informações de assinatura.</span><span class="sxs-lookup"><span data-stu-id="98586-127">Deleted data includes connection strings to external report data sources, stored connection strings, and some subscription information.</span></span>  
  
 <span data-ttu-id="98586-128">Para abrir essa página, inicie o Gerenciador de Configurações do [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] e selecione o link no painel de navegação.</span><span class="sxs-lookup"><span data-stu-id="98586-128">To open this page, start the [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] Configuration Manager and select the link in the navigation pane.</span></span> <span data-ttu-id="98586-129">Para obter mais informações, consulte [Reporting Services Configuration Manager &#40;Modo Nativo&#41;](../../../2014/sql-server/install/reporting-services-configuration-manager-native-mode.md).</span><span class="sxs-lookup"><span data-stu-id="98586-129">For more information, see [Reporting Services Configuration Manager &#40;Native Mode&#41;](../../../2014/sql-server/install/reporting-services-configuration-manager-native-mode.md).</span></span>  
  
## <a name="options"></a><span data-ttu-id="98586-130">Opções</span><span class="sxs-lookup"><span data-stu-id="98586-130">Options</span></span>  
 <span data-ttu-id="98586-131">**Backup**</span><span class="sxs-lookup"><span data-stu-id="98586-131">**Backup**</span></span>  
 <span data-ttu-id="98586-132">Copia a chave simétrica para um arquivo que você especificar.</span><span class="sxs-lookup"><span data-stu-id="98586-132">Copies the symmetric key to a file that you specify.</span></span> <span data-ttu-id="98586-133">A chave simétrica nunca é armazenada em texto sem-formatação.</span><span class="sxs-lookup"><span data-stu-id="98586-133">The symmetric key is never stored in plain text.</span></span> <span data-ttu-id="98586-134">Você deve digitar uma senha para proteger o arquivo.</span><span class="sxs-lookup"><span data-stu-id="98586-134">You must type a password to protect the file.</span></span>  
  
 <span data-ttu-id="98586-135">**Restaurar**</span><span class="sxs-lookup"><span data-stu-id="98586-135">**Restore**</span></span>  
 <span data-ttu-id="98586-136">Aplica uma cópia previamente salva da chave simétrica ao banco de dados do servidor de relatório.</span><span class="sxs-lookup"><span data-stu-id="98586-136">Applies a previously saved copy of the symmetric key to the report server database.</span></span> <span data-ttu-id="98586-137">Você deve fornecer a senha para desbloquear o arquivo.</span><span class="sxs-lookup"><span data-stu-id="98586-137">You must provide the password to unlock the file.</span></span>  
  
 <span data-ttu-id="98586-138">A cópia anterior da chave simétrica para a instância do servidor de relatório à qual você está conectado atualmente será substituída pela versão restaurada.</span><span class="sxs-lookup"><span data-stu-id="98586-138">The previous copy of the symmetric key for the report server instance you are currently connected to is overwritten by the restored version.</span></span> <span data-ttu-id="98586-139">Depois que você restaurar a chave simétrica, deverá inicializar todos os servidores de relatório que usam o banco de dados do servidor de relatório.</span><span class="sxs-lookup"><span data-stu-id="98586-139">After you restore the symmetric key, you must initialize all the report servers that use the report server database.</span></span> <span data-ttu-id="98586-140">Para obter mais informações sobre como inicializar servidores de relatório, consulte [inicializar um servidor de relatório &#40;SSRS Configuration Manager&#41;](../../reporting-services/install-windows/ssrs-encryption-keys-initialize-a-report-server.md).</span><span class="sxs-lookup"><span data-stu-id="98586-140">For more information about initializing report servers, see [Initialize a Report Server &#40;SSRS Configuration Manager&#41;](../../reporting-services/install-windows/ssrs-encryption-keys-initialize-a-report-server.md).</span></span>  
  
 <span data-ttu-id="98586-141">**Alteração**</span><span class="sxs-lookup"><span data-stu-id="98586-141">**Change**</span></span>  
 <span data-ttu-id="98586-142">Recria a chave simétrica e recriptografa todos os valores criptografados no banco de dados do servidor de relatório.</span><span class="sxs-lookup"><span data-stu-id="98586-142">Recreates the symmetric key and re-encrypts all encrypted values in the report server database.</span></span> <span data-ttu-id="98586-143">Pare o serviço Servidor de Relatório antes de recriar a chave simétrica.</span><span class="sxs-lookup"><span data-stu-id="98586-143">Be sure to stop the Report Server service before recreating the symmetric key.</span></span>  
  
 <span data-ttu-id="98586-144">Em uma implantação de expansão, todas as cópias da chave simétrica serão substituídas por versões mais novas.</span><span class="sxs-lookup"><span data-stu-id="98586-144">In a scale-out deployment, all copies of the symmetric key are replaced with newer versions.</span></span> <span data-ttu-id="98586-145">Antes de alterar a chave simétrica, revise a lista de servidores que estão associados à implantação de expansão para verificar que somente instâncias válidas do servidor de relatório recebam acesso à nova chave.</span><span class="sxs-lookup"><span data-stu-id="98586-145">Before changing the symmetric key, be sure to review the list of servers that are joined to the scale-out deployment to verify that only valid report server instances are given access to the new key.</span></span> <span data-ttu-id="98586-146">Os servidores que fazem parte de uma implantação de expansão são listados na página **Implantação de Expansão** .</span><span class="sxs-lookup"><span data-stu-id="98586-146">The servers that are part of a scale-out deployment are listed in the **Scale-out Deployment** page.</span></span> <span data-ttu-id="98586-147">Pare o serviço em cada servidor de relatório na implantação antes de recriar a chave.</span><span class="sxs-lookup"><span data-stu-id="98586-147">Stop the service on each report server in the deployment before recreating the key.</span></span>  
  
 <span data-ttu-id="98586-148">Observe que a regeneração da chave simétrica pode ser um processo longo se você tiver muitas fontes de dados e assinaturas.</span><span class="sxs-lookup"><span data-stu-id="98586-148">Note that regenerating the symmetric key can be a long-running process if you have many data sources and subscriptions.</span></span>  
  
 <span data-ttu-id="98586-149">**Delete (excluir)**</span><span class="sxs-lookup"><span data-stu-id="98586-149">**Delete**</span></span>  
 <span data-ttu-id="98586-150">Exclui a chave simétrica e todo o conteúdo criptografado, incluindo cadeias de caracteres de conexão e credenciais armazenadas.</span><span class="sxs-lookup"><span data-stu-id="98586-150">Deletes the symmetric key and all encrypted content, including connection strings and stored credentials.</span></span> <span data-ttu-id="98586-151">Você somente deve excluir a chave simétrica se não puder restaurá-la.</span><span class="sxs-lookup"><span data-stu-id="98586-151">You should only delete the symmetric key if you cannot restore it.</span></span>  
  
 <span data-ttu-id="98586-152">Depois de excluir a chave simétrica, você deve inserir novamente as cadeias de caracteres de conexão e credenciais armazenadas ausentes nos relatórios e fontes de dados compartilhadas que não mais tenham esses valores.</span><span class="sxs-lookup"><span data-stu-id="98586-152">Once you delete the symmetric key, you must re-enter the missing connection strings and stored credentials in the reports and shared data sources that no longer have these values.</span></span> <span data-ttu-id="98586-153">Você também deve atualizar todas as assinaturas que usam extensões de entrega que armazenam dados criptografados.</span><span class="sxs-lookup"><span data-stu-id="98586-153">You must also update all subscriptions that use delivery extensions that store encrypted data.</span></span> <span data-ttu-id="98586-154">Isso inclui a extensão de entrega de compartilhamento de arquivo e qualquer extensão de entrega de terceiros que usem valor criptografado.</span><span class="sxs-lookup"><span data-stu-id="98586-154">This includes the file share delivery extension and any third-party delivery extension that use encrypted value.</span></span>  
  
 <span data-ttu-id="98586-155">Não há nenhum modo automatizado para atualizar essas informações.</span><span class="sxs-lookup"><span data-stu-id="98586-155">There is no automated way to update this information.</span></span> <span data-ttu-id="98586-156">Cada relatório, assinatura e fonte de dados compartilhada que use credenciais armazenadas e cadeias de caracteres de conexão deve ser atualizado individualmente.</span><span class="sxs-lookup"><span data-stu-id="98586-156">Each report, subscription, and shared data source that uses stored credentials and connection strings must be updated one at a time.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="98586-157">Consulte Também</span><span class="sxs-lookup"><span data-stu-id="98586-157">See Also</span></span>  
 <span data-ttu-id="98586-158">[Gerenciador de Configurações do Reporting Services F1 tópicos de ajuda &#40;modo nativo do SSRS&#41;](../../../2014/sql-server/install/reporting-services-configuration-manager-f1-help-topics-ssrs-native-mode.md) </span><span class="sxs-lookup"><span data-stu-id="98586-158">[Reporting Services Configuration Manager F1 Help Topics &#40;SSRS Native Mode&#41;](../../../2014/sql-server/install/reporting-services-configuration-manager-f1-help-topics-ssrs-native-mode.md) </span></span>  
 <span data-ttu-id="98586-159">[Fazer backup e restaurar as chave de criptografia do Reporting Services](../../reporting-services/install-windows/ssrs-encryption-keys-back-up-and-restore-encryption-keys.md) </span><span class="sxs-lookup"><span data-stu-id="98586-159">[Back Up and Restore Reporting Services Encryption Keys](../../reporting-services/install-windows/ssrs-encryption-keys-back-up-and-restore-encryption-keys.md) </span></span>  
 <span data-ttu-id="98586-160">[Excluir e recriar chaves de criptografia &#40;SSRS Configuration Manager&#41;](../../reporting-services/install-windows/ssrs-encryption-keys-delete-and-re-create-encryption-keys.md) </span><span class="sxs-lookup"><span data-stu-id="98586-160">[Delete and Re-create Encryption Keys  &#40;SSRS Configuration Manager&#41;](../../reporting-services/install-windows/ssrs-encryption-keys-delete-and-re-create-encryption-keys.md) </span></span>  
 <span data-ttu-id="98586-161">[Inicializar um servidor de relatório &#40; Configuration Manager do SSRS&#41;](../../reporting-services/install-windows/ssrs-encryption-keys-initialize-a-report-server.md) </span><span class="sxs-lookup"><span data-stu-id="98586-161">[Initialize a Report Server &#40;SSRS Configuration Manager&#41;](../../reporting-services/install-windows/ssrs-encryption-keys-initialize-a-report-server.md) </span></span>  
 [<span data-ttu-id="98586-162">Armazenar dados criptografados do servidor de relatório &#40;Configuration Manager do SSRS&#41;</span><span class="sxs-lookup"><span data-stu-id="98586-162">Store Encrypted Report Server Data &#40;SSRS Configuration Manager&#41;</span></span>](../../reporting-services/install-windows/ssrs-encryption-keys-store-encrypted-report-server-data.md)  
  
  
