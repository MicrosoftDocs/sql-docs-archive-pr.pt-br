---
title: Instalação do cluster de failover do SQL Server | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: install
ms.topic: conceptual
ms.assetid: c0e75a7c-85c5-423c-a218-77247bf071aa
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: 6d11b892bc3ae3dccfbab5bef01feca325056945
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87573591"
---
# <a name="sql-server-failover-cluster-installation"></a><span data-ttu-id="8ef1f-102">Instalação do cluster de failover do SQL Server</span><span class="sxs-lookup"><span data-stu-id="8ef1f-102">SQL Server Failover Cluster Installation</span></span>
  <span data-ttu-id="8ef1f-103">Para instalar um cluster de failover do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] , você deve criar e configurar uma instância de cluster de failover por meio da execução da Instalação do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="8ef1f-103">To install a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] failover cluster, you must create and configure a failover cluster instance by running [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Setup.</span></span>  
  
## <a name="installing-a-failover-cluster"></a><span data-ttu-id="8ef1f-104">Instalando um cluster de failover</span><span class="sxs-lookup"><span data-stu-id="8ef1f-104">Installing a Failover Cluster</span></span>  
 <span data-ttu-id="8ef1f-105">Para instalar um cluster de failover, você deve usar uma conta de domínio com direitos de administrador local, permissão para fazer logon como um serviço e atuar como parte do sistema operacional em todos os nós do cluster de failover.</span><span class="sxs-lookup"><span data-stu-id="8ef1f-105">To install a failover cluster, you must use a domain account with local administrator rights, permission to log on as a service, and to act as part of the operating system on all nodes in the failover cluster.</span></span> <span data-ttu-id="8ef1f-106">Para instalar um cluster de failover por meio do programa de instalação do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] , siga estas etapas:</span><span class="sxs-lookup"><span data-stu-id="8ef1f-106">To install a failover cluster by using the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Setup program, follow these steps:</span></span>  
  
1.  <span data-ttu-id="8ef1f-107">Para instalar, configurar e manter um cluster de failover do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] , use a Instalação do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="8ef1f-107">To install, configure, and maintain a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] failover cluster, use [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Setup.</span></span>  
  
    -   <span data-ttu-id="8ef1f-108">Identifique as informações necessárias para criar sua instância de cluster de failover (por exemplo, o recurso de disco de cluster, endereços IP e nome de rede) e os nós disponíveis para failover.</span><span class="sxs-lookup"><span data-stu-id="8ef1f-108">Identify the information you need to create your failover cluster instance (for example, cluster disk resource, IP addresses, and network name) and the nodes available for failover.</span></span> <span data-ttu-id="8ef1f-109">Para mais informações:</span><span class="sxs-lookup"><span data-stu-id="8ef1f-109">For more information:</span></span>  
  
        -   [<span data-ttu-id="8ef1f-110">Antes de instalar o cluster de failover</span><span class="sxs-lookup"><span data-stu-id="8ef1f-110">Before Installing Failover Clustering</span></span>](before-installing-failover-clustering.md)  
  
        -   [<span data-ttu-id="8ef1f-111">Considerações sobre segurança para uma instalação do SQL Server</span><span class="sxs-lookup"><span data-stu-id="8ef1f-111">Security Considerations for a SQL Server Installation</span></span>](../../install/security-considerations-for-a-sql-server-installation.md)  
  
    -   <span data-ttu-id="8ef1f-112">As etapas de configuração devem ser realizadas antes da execução do programa de Instalação do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] . Use o Administrador de Cluster do Windows para executá-las. Você deve ter um grupo WSFC para cada instância de cluster de failover que deseja configurar.</span><span class="sxs-lookup"><span data-stu-id="8ef1f-112">The configuration steps must take place before you run the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Setup program; use the Windows Cluster Administrator to carry them out. You must have one WSFC group for each failover cluster instance you want to configure.</span></span>  
  
    -   <span data-ttu-id="8ef1f-113">Você deve garantir que seu sistema atende aos requisitos mínimos.</span><span class="sxs-lookup"><span data-stu-id="8ef1f-113">You must ensure that your system meets minimum requirements.</span></span> <span data-ttu-id="8ef1f-114">Para obter mais informações sobre requisitos específicos para um cluster de failover do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] , veja [Antes de instalar o clustering de failover](before-installing-failover-clustering.md).</span><span class="sxs-lookup"><span data-stu-id="8ef1f-114">For more information on specific requirements for a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] failover cluster, see [Before Installing Failover Clustering](before-installing-failover-clustering.md).</span></span>  
  
2.  <span data-ttu-id="8ef1f-115">Adicionar ou remover nós de uma configuração de cluster de failover sem afetar os outros nós do cluster.</span><span class="sxs-lookup"><span data-stu-id="8ef1f-115">Add or remove nodes from a failover cluster configuration without affecting the other cluster nodes.</span></span> <span data-ttu-id="8ef1f-116">Para obter mais informações, consulte [Adicionar ou remover nós em um cluster de failover do SQL Server &#40;Instalação&#41;](add-or-remove-nodes-in-a-sql-server-failover-cluster-setup.md).</span><span class="sxs-lookup"><span data-stu-id="8ef1f-116">For more information, see [Add or Remove Nodes in a SQL Server Failover Cluster &#40;Setup&#41;](add-or-remove-nodes-in-a-sql-server-failover-cluster-setup.md).</span></span>  
  
    -   <span data-ttu-id="8ef1f-117">Todos os nós de um cluster de failover devem ser da mesma plataforma, de 32 ou de 64 bits, e devem executar a mesma edição e versão do sistema operacional.</span><span class="sxs-lookup"><span data-stu-id="8ef1f-117">All nodes in a failover cluster must be of the same platform, either 32-bit or 64-bit, and must run the same operating system edition and version.</span></span> <span data-ttu-id="8ef1f-118">Além disso, as edições do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] de 64 bits devem ser instaladas em hardware de 64 bits executando as versões de 64 bits de sistemas operacionais Windows.</span><span class="sxs-lookup"><span data-stu-id="8ef1f-118">Also, 64-bit [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] editions must be installed on 64-bit hardware running the 64-bit versions of Windows operating systems.</span></span> <span data-ttu-id="8ef1f-119">Não há suporte para WOW64 para clustering de failover nesta versão.</span><span class="sxs-lookup"><span data-stu-id="8ef1f-119">There is no WOW64 support for failover clustering in this release.</span></span>  
  
3.  <span data-ttu-id="8ef1f-120">Especificar vários endereços IP para cada instância do cluster de failover.</span><span class="sxs-lookup"><span data-stu-id="8ef1f-120">Specify multiple IP addresses for each failover cluster instance.</span></span> <span data-ttu-id="8ef1f-121">Você pode especificar vários endereços IP para cada sub-rede.</span><span class="sxs-lookup"><span data-stu-id="8ef1f-121">You can specify mutiple IP addresses for each subnet.</span></span> <span data-ttu-id="8ef1f-122">Se os vários endereços IP estiverem na mesma sub-rede, a Instalação do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] definirá a dependência como AND.</span><span class="sxs-lookup"><span data-stu-id="8ef1f-122">If the mutiple IP addresses are on the same subnet, [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Setup sets the dependency to AND.</span></span> <span data-ttu-id="8ef1f-123">Se você estiver clusterizando nós em várias sub-redes, a Instalação do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] definirá a dependência como OR.</span><span class="sxs-lookup"><span data-stu-id="8ef1f-123">If you are clustering nodes across multiple subnets, [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Setup sets the dependency to OR.</span></span>  
  
## <a name="ssnoversion-failover-cluster-installation-options"></a>[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] <span data-ttu-id="8ef1f-124">Opções de instalações de cluster de failover</span><span class="sxs-lookup"><span data-stu-id="8ef1f-124">Failover Cluster Installation options</span></span>  
  
##### <a name="option-1-integrated-installation-with-add-node"></a><span data-ttu-id="8ef1f-125">Opção 1: Instalação integrada com Adicionar Nó</span><span class="sxs-lookup"><span data-stu-id="8ef1f-125">Option 1: Integrated installation with Add Node</span></span>  
 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] <span data-ttu-id="8ef1f-126">consiste em duas etapas:</span><span class="sxs-lookup"><span data-stu-id="8ef1f-126">integrated failover cluster installation consists of two steps:</span></span>  
  
1.  <span data-ttu-id="8ef1f-127">Criar e configurar uma instância de cluster de failover de um único nó do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="8ef1f-127">Create and configure a single-node [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] failover cluster instance.</span></span> <span data-ttu-id="8ef1f-128">Ao concluir a configuração bem-sucedida de um nó, você tem uma instância de cluster de failover totalmente funcional.</span><span class="sxs-lookup"><span data-stu-id="8ef1f-128">At the completion of a successful configuration of the node, you have a fully functional failover cluster instance.</span></span> <span data-ttu-id="8ef1f-129">Neste momento ele não tem alta disponibilidade porque há apenas um nó no cluster de failover.</span><span class="sxs-lookup"><span data-stu-id="8ef1f-129">At this time it does not have high-availability because there is only one node in the failover cluster.</span></span>  
  
2.  <span data-ttu-id="8ef1f-130">Em cada nó a ser adicionado ao cluster de failover do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] , execute a Instalação com a funcionalidade Adicionar Nó para adicionar o nó.</span><span class="sxs-lookup"><span data-stu-id="8ef1f-130">On each node to be added to the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] failover cluster, run Setup with Add Node functionality to add that node.</span></span>  
  
##### <a name="option-2-advancedenterprise-installation"></a><span data-ttu-id="8ef1f-131">Opção 2: Instalação Avançada/Corporativa</span><span class="sxs-lookup"><span data-stu-id="8ef1f-131">Option 2: Advanced/Enterprise installation</span></span>  
 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] <span data-ttu-id="8ef1f-132">A instalação Avançada/Corporativa do cluster de failover consiste em duas etapas:</span><span class="sxs-lookup"><span data-stu-id="8ef1f-132">Advanced/Enterprise failover cluster installation consists of two steps:</span></span>  
  
1.  <span data-ttu-id="8ef1f-133">Em cada nó que fará parte do cluster de failover do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] , execute a Instalação com a funcionalidade de Preparação de Cluster de Failover.</span><span class="sxs-lookup"><span data-stu-id="8ef1f-133">On each node that will be part of the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] failover cluster, run Setup with Prepare Failover Cluster functionality.</span></span> <span data-ttu-id="8ef1f-134">Essa etapa prepara os nós prontos para serem clusterizados, mas não há nenhuma instância operacional do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] no final dessa etapa.</span><span class="sxs-lookup"><span data-stu-id="8ef1f-134">This step prepares the nodes ready to be clustered, but there is no operational [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] instance at the end of this step.</span></span>  
  
2.  <span data-ttu-id="8ef1f-135">Depois que os nós estão preparados para clustering, execute a Instalação no nó que possui o disco compartilhado com a funcionalidade de Conclusão de Cluster de failover.</span><span class="sxs-lookup"><span data-stu-id="8ef1f-135">After the nodes are prepared for clustering, run Setup on the node that owns the shared disk with the Complete Failover Cluster functionality.</span></span> <span data-ttu-id="8ef1f-136">Essa etapa configura e conclui a instância de cluster de failover.</span><span class="sxs-lookup"><span data-stu-id="8ef1f-136">This step configures and completes the failover cluster instance.</span></span> <span data-ttu-id="8ef1f-137">No final dessa etapa, você terá uma instância de cluster de failover operacional do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="8ef1f-137">At the end of this step, you will have an operational [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] failover cluster instance.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="8ef1f-138">Qualquer opção de instalação permite a instalação de cluster de failover do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] com vários nós.</span><span class="sxs-lookup"><span data-stu-id="8ef1f-138">Either installation option allows for multi-node [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] failover cluster installation.</span></span> <span data-ttu-id="8ef1f-139">É possível usar o item Adicionar Nó para adicionar mais nós a qualquer opção após a criação de um cluster de failover do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="8ef1f-139">Add Node can be used to add additional nodes for either option after a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] failover cluster has been created.</span></span>  
  
    > [!IMPORTANT]  
    >  <span data-ttu-id="8ef1f-140">A letra da unidade do sistema operacional para locais de instalação do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] deve ser igual em todos os nós adicionados ao cluster de failover do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="8ef1f-140">The operating system drive letter for [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] install locations must match on all the nodes added to the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] failover cluster.</span></span>  
  
#### <a name="ip-address-configuration-during-setup"></a><span data-ttu-id="8ef1f-141">Configuração de endereço IP durante a instalação</span><span class="sxs-lookup"><span data-stu-id="8ef1f-141">IP Address Configuration During Setup</span></span>  
 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] <span data-ttu-id="8ef1f-142">permite definir ou alterar as configurações de dependência de recursos IP durante as ações a seguir:</span><span class="sxs-lookup"><span data-stu-id="8ef1f-142">Setup lets you set or change the IP resource dependency settings during the following actions:</span></span>  
  
-   <span data-ttu-id="8ef1f-143">Instalação integrada – [Criar um novo cluster de failover do SQL Server &#40;Instalação&#41;](create-a-new-sql-server-failover-cluster-setup.md)</span><span class="sxs-lookup"><span data-stu-id="8ef1f-143">Integrated Install - [Create a New SQL Server Failover Cluster &#40;Setup&#41;](create-a-new-sql-server-failover-cluster-setup.md)</span></span>  
  
-   <span data-ttu-id="8ef1f-144">CompleteFailoverCluster (Instalação avançada) – [Criar um novo cluster de failover do SQL Server &#40;Instalação&#41;](create-a-new-sql-server-failover-cluster-setup.md)</span><span class="sxs-lookup"><span data-stu-id="8ef1f-144">CompleteFailoverCluster (Advanced Install) - [Create a New SQL Server Failover Cluster &#40;Setup&#41;](create-a-new-sql-server-failover-cluster-setup.md)</span></span>  
  
-   <span data-ttu-id="8ef1f-145">Adicionar Nó – [Adicionar ou remover nós em um cluster de failover do SQL Server &#40;Instalação&#41;](add-or-remove-nodes-in-a-sql-server-failover-cluster-setup.md)</span><span class="sxs-lookup"><span data-stu-id="8ef1f-145">Add Node - [Add or Remove Nodes in a SQL Server Failover Cluster &#40;Setup&#41;](add-or-remove-nodes-in-a-sql-server-failover-cluster-setup.md)</span></span>  
  
-   <span data-ttu-id="8ef1f-146">Remover nó – [Adicionar ou remover nós em um cluster de failover do SQL Server &#40;Instalação&#41;](add-or-remove-nodes-in-a-sql-server-failover-cluster-setup.md)</span><span class="sxs-lookup"><span data-stu-id="8ef1f-146">Remove Node - [Add or Remove Nodes in a SQL Server Failover Cluster &#40;Setup&#41;](add-or-remove-nodes-in-a-sql-server-failover-cluster-setup.md)</span></span>  
  
 <span data-ttu-id="8ef1f-147">**Observação** Há suporte para endereços IP IPV6.</span><span class="sxs-lookup"><span data-stu-id="8ef1f-147">**Note** IPV6 IP addresses are supported.</span></span>  <span data-ttu-id="8ef1f-148">Se você configurar IPV4 e IPV6, ambos serão tratados como sub-redes diferentes, e espera-se que o IPV6 entre online primeiro.</span><span class="sxs-lookup"><span data-stu-id="8ef1f-148">If you configure both IPV4 and IPV6 there are treated like different subnets, and IPV6 is expected to come online first.</span></span>  
  
##### <a name="ssnoversion-multi-subnet-failover-cluster"></a>[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] <span data-ttu-id="8ef1f-149">Cluster de failover de várias sub-redes</span><span class="sxs-lookup"><span data-stu-id="8ef1f-149">Multi-Subnet Failover Cluster</span></span>  
 <span data-ttu-id="8ef1f-150">Você pode definir dependências OR quando os nós no cluster estiverem em sub-redes diferentes.</span><span class="sxs-lookup"><span data-stu-id="8ef1f-150">You can set OR dependencies when the nodes on the cluster are on different subnets.</span></span> <span data-ttu-id="8ef1f-151">No entanto, cada nó no cluster de failover de várias sub-redes do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] deve ser um possível proprietário de pelo menos um dos endereços IP especificados.</span><span class="sxs-lookup"><span data-stu-id="8ef1f-151">However, each node in the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] multi-subnet failover cluster must be a possible owner of at least one of IP address specified.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="8ef1f-152">Consulte Também</span><span class="sxs-lookup"><span data-stu-id="8ef1f-152">See Also</span></span>  
 <span data-ttu-id="8ef1f-153">[Antes de instalar o cluster de failover](before-installing-failover-clustering.md) </span><span class="sxs-lookup"><span data-stu-id="8ef1f-153">[Before Installing Failover Clustering](before-installing-failover-clustering.md) </span></span>  
 <span data-ttu-id="8ef1f-154">[Criar um novo cluster de failover do SQL Server &#40;Instalação&#41;](create-a-new-sql-server-failover-cluster-setup.md) </span><span class="sxs-lookup"><span data-stu-id="8ef1f-154">[Create a New SQL Server Failover Cluster &#40;Setup&#41;](create-a-new-sql-server-failover-cluster-setup.md) </span></span>  
 <span data-ttu-id="8ef1f-155">[Instalar o SQL Server 2014 no prompt de comando](../../../database-engine/install-windows/install-sql-server-from-the-command-prompt.md) </span><span class="sxs-lookup"><span data-stu-id="8ef1f-155">[Install SQL Server 2014 from the Command Prompt](../../../database-engine/install-windows/install-sql-server-from-the-command-prompt.md) </span></span>  
 [<span data-ttu-id="8ef1f-156">Atualizar um cluster de failover do SQL Server</span><span class="sxs-lookup"><span data-stu-id="8ef1f-156">Upgrade a SQL Server Failover Cluster</span></span>](../windows/upgrade-a-sql-server-failover-cluster-instance.md)  
  
  
