---
title: Antes de instalar o clustering de failover | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: install
ms.topic: conceptual
helpviewer_keywords:
- clusters [SQL Server], preinstallation checklist
- installing failover clusters
- failover clustering [SQL Server], preinstallation checklist
ms.assetid: a655225d-8c54-4b30-95fd-31f588167899
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: 0ec04b567b7970b25aebeffaefc7bafaf1d56691
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87573601"
---
# <a name="before-installing-failover-clustering"></a><span data-ttu-id="8d057-102">Antes de instalar o cluster de failover</span><span class="sxs-lookup"><span data-stu-id="8d057-102">Before Installing Failover Clustering</span></span>
  <span data-ttu-id="8d057-103">Antes de instalar um cluster de failover do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)], você deve selecionar o hardware e o sistema operacional nos quais o [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] será executado.</span><span class="sxs-lookup"><span data-stu-id="8d057-103">Before you install a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] failover cluster, you must select the hardware and the operating system on which [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] will run.</span></span> <span data-ttu-id="8d057-104">Você também deve configurar o WSFC (Clustering de Failover do Windows Server) e examinar a rede, a segurança e as considerações sobre outros softwares que serão executados no cluster de failover.</span><span class="sxs-lookup"><span data-stu-id="8d057-104">You must also configure Windows Server Failover Clustering (WSFC), and review network, security, and considerations for other software that will run on your failover cluster.</span></span>  
  
 <span data-ttu-id="8d057-105">Se um cluster do Windows tiver uma unidade de disco local e a mesma letra de unidade também for usada em um ou mais nós de cluster como uma unidade compartilhada, você não poderá instalar o [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] nessa unidade.</span><span class="sxs-lookup"><span data-stu-id="8d057-105">If a Windows cluster has a local disk drive and the same drive letter is also used on one or more cluster nodes as a shared drive, you cannot install [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] on that drive.</span></span>  
  
 <span data-ttu-id="8d057-106">Talvez você queira também examinar os tópicos a seguir para saber mais sobre conceitos de clustering de failover, recursos e tarefas do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="8d057-106">You may also want to review the following topics to learn more about [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] failover clustering concepts, features and tasks.</span></span>  
  
|<span data-ttu-id="8d057-107">Descrição do Tópico</span><span class="sxs-lookup"><span data-stu-id="8d057-107">Topic Description</span></span>|<span data-ttu-id="8d057-108">Tópico</span><span class="sxs-lookup"><span data-stu-id="8d057-108">Topic</span></span>|  
|-----------------------|-----------|  
|<span data-ttu-id="8d057-109">Descreve conceitos de cluster de failover do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] e fornece links para conteúdo e tarefas associadas.</span><span class="sxs-lookup"><span data-stu-id="8d057-109">Describes [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] failover clustering concepts, and provides links to associated content and tasks.</span></span>|[<span data-ttu-id="8d057-110">Instâncias de cluster de failover do AlwaysOn (SQL Server)</span><span class="sxs-lookup"><span data-stu-id="8d057-110">AlwaysOn Failover Cluster Instances (SQL Server)</span></span>](../windows/always-on-failover-cluster-instances-sql-server.md)|  
|<span data-ttu-id="8d057-111">Descreve conceitos de política de failover do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] e fornece links para configurar a política de failover para se adequar aos seus requisitos organizacionais.</span><span class="sxs-lookup"><span data-stu-id="8d057-111">Describes [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] failover policy concepts, and provides links to configuring the failover policy to suit your organizational requirements.</span></span>|[<span data-ttu-id="8d057-112">Failover Policy for Failover Cluster Instances</span><span class="sxs-lookup"><span data-stu-id="8d057-112">Failover Policy for Failover Cluster Instances</span></span>](../windows/failover-policy-for-failover-cluster-instances.md)|  
|<span data-ttu-id="8d057-113">Descreve como manter seu cluster de failover [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] existente.</span><span class="sxs-lookup"><span data-stu-id="8d057-113">Describes how to maintain and your existing [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] failover cluster.</span></span>|[<span data-ttu-id="8d057-114">Administração e manutenção da instância de cluster de failover</span><span class="sxs-lookup"><span data-stu-id="8d057-114">Failover Cluster Instance Administration and Maintenance</span></span>](../windows/failover-cluster-instance-administration-and-maintenance.md)|  
|<span data-ttu-id="8d057-115">Explica como instalar o [!INCLUDE[ssASnoversion](../../../includes/ssasnoversion-md.md)] em um Windows Server Failover Cluster (WSFC).</span><span class="sxs-lookup"><span data-stu-id="8d057-115">Explains how to install [!INCLUDE[ssASnoversion](../../../includes/ssasnoversion-md.md)] on a Windows Server Failover Cluster (WSFC).</span></span>|[<span data-ttu-id="8d057-116">Como criar clusters do SQL Server Analysis Services</span><span class="sxs-lookup"><span data-stu-id="8d057-116">How to Cluster SQL Server Analysis Services</span></span>](https://go.microsoft.com/fwlink/p/?LinkId=396548)|  
  
  
  
##  <a name="best-practices"></a><a name="BestPractices"></a> <span data-ttu-id="8d057-117">Práticas recomendadas</span><span class="sxs-lookup"><span data-stu-id="8d057-117">Best Practices</span></span>  
  
-   <span data-ttu-id="8d057-118">Examinar [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)][Notas sobre a versão](https://go.microsoft.com/fwlink/?LinkId=296445)</span><span class="sxs-lookup"><span data-stu-id="8d057-118">Review [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)][Release Notes](https://go.microsoft.com/fwlink/?LinkId=296445)</span></span>  
  
-   <span data-ttu-id="8d057-119">Instale o software de pré-requisito.</span><span class="sxs-lookup"><span data-stu-id="8d057-119">Install prerequisite software.</span></span> <span data-ttu-id="8d057-120">Antes de executar a Instalação para instalar ou atualizar para o [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)], instale os pré-requisitos a seguir para reduzir o tempo de instalação.</span><span class="sxs-lookup"><span data-stu-id="8d057-120">Before running Setup to install or upgrade to [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)], install the following prerequisites to reduce installation time.</span></span> <span data-ttu-id="8d057-121">É possível instalar software de pré-requisito em cada nó de cluster de failover e, em seguida, reiniciar os nós uma vez antes de executar a Instalação.</span><span class="sxs-lookup"><span data-stu-id="8d057-121">You can install prerequisite software on each failover cluster node and then restart nodes once before running Setup.</span></span>  
  
    -   <span data-ttu-id="8d057-122">O Windows PowerShell já não é instalado pela Instalação do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="8d057-122">Windows PowerShell is no longer installed by [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Setup.</span></span> <span data-ttu-id="8d057-123">O Windows PowerShell 2.0 é um pré-requisito da instalação dos componentes do [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)][!INCLUDE[ssDE](../../../includes/ssde-md.md)] e do [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)].</span><span class="sxs-lookup"><span data-stu-id="8d057-123">Windows PowerShell 2.0 is a prerequisite for installing [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)][!INCLUDE[ssDE](../../../includes/ssde-md.md)] components and [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)].</span></span> <span data-ttu-id="8d057-124">Se o Windows PowerShell 2.0 não estiver presente no computador, você poderá habilitá-lo seguindo as instruções da página sobre [estrutura de gerenciamento do Windows](https://go.microsoft.com/fwlink/?LinkId=186214).</span><span class="sxs-lookup"><span data-stu-id="8d057-124">If Windows PowerShell 2.0 is not present on your computer, you can enable it by following the instructions on the [Windows Management Framework](https://go.microsoft.com/fwlink/?LinkId=186214) page.</span></span>  
  
    -   <span data-ttu-id="8d057-125">O .NET Framework 3.5 SP1 não é mais instalado pelo [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] , mas pode ser necessário durante a instalação do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] em sistemas operacionais antigos do Windows.</span><span class="sxs-lookup"><span data-stu-id="8d057-125">.NET Framework 3.5 SP1 is no longer installed by [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Setup, but may be required while installing [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] on older Windows operating systems.</span></span> <span data-ttu-id="8d057-126">Para obter mais informações, consulte [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] [notas de versão](https://go.microsoft.com/fwlink/?LinkId=296445).</span><span class="sxs-lookup"><span data-stu-id="8d057-126">For more information, see [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)][Release Notes](https://go.microsoft.com/fwlink/?LinkId=296445).</span></span>  
  
    -   <span data-ttu-id="8d057-127">\*\* [!INCLUDE[msCoName](../../../includes/msconame-md.md)] Pacote de atualização:\*\* para evitar a reinicialização do computador devido à instalação .NET Framework 4 durante a instalação, a [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] instalação requer [!INCLUDE[msCoName](../../../includes/msconame-md.md)] que uma atualização seja instalada no computador.</span><span class="sxs-lookup"><span data-stu-id="8d057-127">**[!INCLUDE[msCoName](../../../includes/msconame-md.md)] Update package:** To avoid computer restart due to .NET Framework 4 installation during setup, [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] setup requires a [!INCLUDE[msCoName](../../../includes/msconame-md.md)] update to be installed on the computer.</span></span>  <span data-ttu-id="8d057-128">Se você estiver instalando o [!INCLUDE[ssSQL14](../../../includes/sssql14-md.md)] no Windows 7 SP1 ou [!INCLUDE[firstref_longhorn](../../../includes/firstref-longhorn-md.md)] SP2, essa atualização será incluída.</span><span class="sxs-lookup"><span data-stu-id="8d057-128">If you are installing [!INCLUDE[ssSQL14](../../../includes/sssql14-md.md)] on Windows 7 SP1 or [!INCLUDE[firstref_longhorn](../../../includes/firstref-longhorn-md.md)] SP2 this update is included.</span></span> <span data-ttu-id="8d057-129">Se você estiver instalando em um sistema operacional Windows mais antigo, baixe-o em [Microsoft Update para .NET Framework 4.0 no Windows Vista e Windows Server 2008](https://go.microsoft.com/fwlink/?LinkId=198093).</span><span class="sxs-lookup"><span data-stu-id="8d057-129">If you are installing on an older Windows operating system, download it from [Microsoft Update for .NET Framework 4.0 on Windows Vista and Windows Server 2008](https://go.microsoft.com/fwlink/?LinkId=198093).</span></span>  
  
    -   <span data-ttu-id="8d057-130">.NET Framework 4: a instalação instala o .NET Framework 4 em um sistema operacional clusterizado.</span><span class="sxs-lookup"><span data-stu-id="8d057-130">.NET Framework 4: Setup installs .NET Framework 4 on a clustered operating system.</span></span> <span data-ttu-id="8d057-131">Para reduzir o tempo de instalação, convém instalar o .NET Framework 4 antes de executar a Instalação.</span><span class="sxs-lookup"><span data-stu-id="8d057-131">To reduce installation time, you may consider installing .NET Framework 4 before you run Setup.</span></span>  
  
    -   [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] <span data-ttu-id="8d057-132">Arquivos de suporte à Instalação.</span><span class="sxs-lookup"><span data-stu-id="8d057-132">Setup support files.</span></span> <span data-ttu-id="8d057-133">Você pode instalar esses arquivos executando o SqlSupport.msi localizado na mídia de instalação do [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="8d057-133">You can install these files by running SqlSupport.msi located on your [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] installation media.</span></span>  
  
-   <span data-ttu-id="8d057-134">Verifique se o software antivírus não está instalado no cluster do WSFC.</span><span class="sxs-lookup"><span data-stu-id="8d057-134">Verify that antivirus software is not installed on your WSFC cluster.</span></span> <span data-ttu-id="8d057-135">Para obter mais informações, veja o artigo da Base de Dados de Conhecimento da [!INCLUDE[msCoName](../../../includes/msconame-md.md)] , [Software antivírus que não está ciente do cluster pode causar problemas com serviços de cluster](https://go.microsoft.com/fwlink/?LinkId=116986).</span><span class="sxs-lookup"><span data-stu-id="8d057-135">For more information, see the [!INCLUDE[msCoName](../../../includes/msconame-md.md)] Knowledge Base article, [Antivirus software may cause problems with cluster services](https://go.microsoft.com/fwlink/?LinkId=116986).</span></span>  
  
-   <span data-ttu-id="8d057-136">Ao nomear um grupo de clusters para a instalação de cluster de failover, você não deve usar nenhum dos seguintes caracteres no nome do grupo de clusters:</span><span class="sxs-lookup"><span data-stu-id="8d057-136">When naming a cluster group for your failover cluster installation, you must not use any of the following characters in the cluster group name:</span></span>  
  
    -   <span data-ttu-id="8d057-137">Operador menor que (\<)</span><span class="sxs-lookup"><span data-stu-id="8d057-137">Less than operator (\<)</span></span>  
  
    -   <span data-ttu-id="8d057-138">Operador maior que (>)</span><span class="sxs-lookup"><span data-stu-id="8d057-138">Greater than operator (>)</span></span>  
  
    -   <span data-ttu-id="8d057-139">Aspas duplas (")</span><span class="sxs-lookup"><span data-stu-id="8d057-139">Double quote (")</span></span>  
  
    -   <span data-ttu-id="8d057-140">Aspas simples (')</span><span class="sxs-lookup"><span data-stu-id="8d057-140">Single quote (')</span></span>  
  
    -   <span data-ttu-id="8d057-141">E comercial (&)</span><span class="sxs-lookup"><span data-stu-id="8d057-141">Ampersand (&)</span></span>  
  
     <span data-ttu-id="8d057-142">Verifique também se os nomes de grupos de clusters não contêm caracteres sem suporte.</span><span class="sxs-lookup"><span data-stu-id="8d057-142">Also verify that existing cluster group names do not contain unsupported characters.</span></span>  
  
-   <span data-ttu-id="8d057-143">Verifique se todos os nós de cluster estão configurados de forma idêntica, inclusive COM+, letras de unidade de disco e usuários no grupo de administradores.</span><span class="sxs-lookup"><span data-stu-id="8d057-143">Ensure that all cluster nodes are configured identically, including COM+, disk drive letters, and users in the administrators group.</span></span>  
  
-   <span data-ttu-id="8d057-144">Verifique se você limpou os logs do sistema em todos os nós e se exibiu os logs do sistema novamente.</span><span class="sxs-lookup"><span data-stu-id="8d057-144">Verify that you have cleared the system logs in all nodes and viewed the system logs again.</span></span> <span data-ttu-id="8d057-145">Verifique se os logs estão livres de quaisquer mensagens de erro antes de continuar.</span><span class="sxs-lookup"><span data-stu-id="8d057-145">Ensure that the logs are free of any error messages before continuing.</span></span>  
  
-   <span data-ttu-id="8d057-146">Antes de instalar ou atualizar um cluster de failover do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] , desabilite todos os aplicativos e serviços que talvez possam usar os componentes do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] durante a instalação, mas deixe os recursos de disco online.</span><span class="sxs-lookup"><span data-stu-id="8d057-146">Before you install or update a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] failover cluster, disable all applications and services that might use [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] components during installation, but leave the disk resources online.</span></span>  
  
-   [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] <span data-ttu-id="8d057-147">A Instalação define automaticamente dependências entre o grupo de clusters do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] e os discos que estarão no cluster de failover.</span><span class="sxs-lookup"><span data-stu-id="8d057-147">Setup automatically sets dependencies between the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] cluster group and the disks that will be in the failover cluster.</span></span> <span data-ttu-id="8d057-148">Não defina dependências para discos antes da Instalação.</span><span class="sxs-lookup"><span data-stu-id="8d057-148">Do not set dependencies for disks before Setup.</span></span>  
  
    -   <span data-ttu-id="8d057-149">Durante a instalação do Cluster de Failover do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] , o objeto de computador (contas de computador do Active Directory) para o Nome do Recurso de Rede do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] é criado.</span><span class="sxs-lookup"><span data-stu-id="8d057-149">During [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Failover Cluster installation, computer object (Active Directory computer accounts) for the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Network Resource Name is created.</span></span> <span data-ttu-id="8d057-150">Em um cluster do [!INCLUDE[firstref_longhorn](../../../includes/firstref-longhorn-md.md)] , a conta do nome de cluster (conta de computador do próprio cluster) precisa ter permissões para criar objetos de computador.</span><span class="sxs-lookup"><span data-stu-id="8d057-150">In a [!INCLUDE[firstref_longhorn](../../../includes/firstref-longhorn-md.md)] cluster, the cluster name account (computer account of the cluster itself) needs to have permissions to create computer objects.</span></span> <span data-ttu-id="8d057-151">Para obter mais informações, veja [Configurando contas no Active Directory](https://technet.microsoft.com/library/cc731002\(WS.10\).aspx).</span><span class="sxs-lookup"><span data-stu-id="8d057-151">For more information, see [Configuring Accounts in Active Directory](https://technet.microsoft.com/library/cc731002\(WS.10\).aspx).</span></span>  
  
    -   <span data-ttu-id="8d057-152">Se estiver usando o compartilhamento de arquivo SMB como opção de armazenamento, a conta de Instalação do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] deve ter SeSecurityPrivilege no servidor de arquivo.</span><span class="sxs-lookup"><span data-stu-id="8d057-152">If you are using SMB File share as a storage option, the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Setup account must have SeSecurityPrivilege on the file server.</span></span> <span data-ttu-id="8d057-153">Para fazer isso, usando o console Política de Segurança Local no servidor de arquivos, adicione a conta de instalação do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] aos direitos de **Gerenciar a auditoria e o log de segurança** .</span><span class="sxs-lookup"><span data-stu-id="8d057-153">To do this, using the Local Security Policy console on the file server, add the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] setup account to **Manage auditing and security log** rights.</span></span>  
  
 
  
##  <a name="verify-your-hardware-solution"></a><a name="Hardware"></a> <span data-ttu-id="8d057-154">Verifique sua solução de hardware</span><span class="sxs-lookup"><span data-stu-id="8d057-154">Verify Your Hardware Solution</span></span>  
  
-   <span data-ttu-id="8d057-155">Se a solução de cluster incluir nós de clusters dispersos geograficamente, deverão ser verificados itens adicionais, como latência de rede e suporte a disco compartilhado.</span><span class="sxs-lookup"><span data-stu-id="8d057-155">If the cluster solution includes geographically dispersed cluster nodes, additional items like network latency and shared disk support must be verified.</span></span>  
  
    -   <span data-ttu-id="8d057-156">Para obter mais informações sobre o [!INCLUDE[firstref_longhorn](../../../includes/firstref-longhorn-md.md)] e o [!INCLUDE[winserver2008r2](../../../includes/winserver2008r2-md.md)], veja [Validando hardware para um cluster de failover](https://go.microsoft.com/fwlink/?LinkId=196817) e [Política de suporte para clusters de failover do Windows](https://go.microsoft.com/fwlink/?LinkId=196818).</span><span class="sxs-lookup"><span data-stu-id="8d057-156">For more information about [!INCLUDE[firstref_longhorn](../../../includes/firstref-longhorn-md.md)] and [!INCLUDE[winserver2008r2](../../../includes/winserver2008r2-md.md)], see [Validating Hardware for a failover cluster](https://go.microsoft.com/fwlink/?LinkId=196817) and [Support Policy for Windows Failover Clusters](https://go.microsoft.com/fwlink/?LinkId=196818).</span></span>  
  
-   <span data-ttu-id="8d057-157">Verifique se o disco onde o [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] será instalado não está descompactado nem criptografado.</span><span class="sxs-lookup"><span data-stu-id="8d057-157">Verify that the disk where [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] will be installed is not compressed or encrypted.</span></span> <span data-ttu-id="8d057-158">Se você tentar instalar o [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] em uma unidade compactada ou criptografada, ocorrerá falha na Instalação do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="8d057-158">If you attempt to install [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] to a compressed drive or an encrypted drive, [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Setup fails.</span></span>  
  
-   <span data-ttu-id="8d057-159">As configurações de SAN também têm suporte nas edições do [!INCLUDE[firstref_longhorn](../../../includes/firstref-longhorn-md.md)] e [!INCLUDE[winserver2008r2](../../../includes/winserver2008r2-md.md)] Advanced Server e do Datacenter Server.</span><span class="sxs-lookup"><span data-stu-id="8d057-159">SAN configurations are also supported on [!INCLUDE[firstref_longhorn](../../../includes/firstref-longhorn-md.md)] and [!INCLUDE[winserver2008r2](../../../includes/winserver2008r2-md.md)] Advanced Server and Datacenter Server editions.</span></span> <span data-ttu-id="8d057-160">A categoria "Dispositivo de Cluster/Multi-cluster" do Catálogo do Windows e da Lista de Compatibilidade de Hardware lista o conjunto de dispositivos de armazenamento compatíveis com SAN que foram testados e que têm suporte como unidades de armazenamento de SAN com vários clusters do WSFC anexados.</span><span class="sxs-lookup"><span data-stu-id="8d057-160">The Windows Catalog and Hardware Compatibility List category "Cluster/Multi-cluster Device" lists the set of SAN-capable storage devices that have been tested and are supported as SAN storage units with multiple WSFC clusters attached.</span></span> <span data-ttu-id="8d057-161">Execute a validação de cluster depois de localizar os componentes certificados.</span><span class="sxs-lookup"><span data-stu-id="8d057-161">Run cluster validation after finding the certified components.</span></span>  
  
-   <span data-ttu-id="8d057-162">O Compartilhamento de Arquivos SMB também tem suporte para a instalação de arquivos de dados.</span><span class="sxs-lookup"><span data-stu-id="8d057-162">SMB File Share is also supported for installing data files.</span></span> <span data-ttu-id="8d057-163">Para obter mais informações, veja [Tipos de armazenamento de arquivos de dados](../../install/hardware-and-software-requirements-for-installing-sql-server.md#StorageTypes).</span><span class="sxs-lookup"><span data-stu-id="8d057-163">For more information, see [Storage Types for Data Files](../../install/hardware-and-software-requirements-for-installing-sql-server.md#StorageTypes).</span></span>  
  
    > [!WARNING]  
    >  <span data-ttu-id="8d057-164">Se estiver usando o Windows File Server como um armazenamento de compartilhamento de arquivo SMB, a conta de Instalação do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] deverá ter SeSecurityPrivilege no servidor de arquivo.</span><span class="sxs-lookup"><span data-stu-id="8d057-164">If you are using Windows File Server as a SMB File Share storage, the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Setup account must have SeSecurityPrivilege on the file server.</span></span> <span data-ttu-id="8d057-165">Para fazer isso, usando o console Política de Segurança Local no servidor de arquivos, adicione a conta de instalação do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] aos direitos de **Gerenciar a auditoria e o log de segurança** .</span><span class="sxs-lookup"><span data-stu-id="8d057-165">To do this, using the Local Security Policy console on the file server, add the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] setup account to **Manage auditing and security log** rights.</span></span>  
    >   
    >  <span data-ttu-id="8d057-166">Se você estiver usando o armazenamento de compartilhamento de arquivo SMB em local que não seja o Windows File Server, consulte o fornecedor de armazenamento para obter uma configuração equivalente no servidor de arquivos.</span><span class="sxs-lookup"><span data-stu-id="8d057-166">If you are using SMB file share storage other than Windows File server, please consult the storage vendor for an equivalent setting on the file server side.</span></span>  
  
-   [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] <span data-ttu-id="8d057-167">dá suporte a pontos de montagem.</span><span class="sxs-lookup"><span data-stu-id="8d057-167">supports mount points.</span></span>  
  
     <span data-ttu-id="8d057-168">Um volume montado ou ponto de montagem permite usar uma única letra de unidade para fazer referência a muitos discos ou volumes.</span><span class="sxs-lookup"><span data-stu-id="8d057-168">A mounted volume, or mount point, allows you to use a single drive letter to refer to many disks or volumes.</span></span> <span data-ttu-id="8d057-169">Se você tiver um letra D: de unidade que faça referência a um disco ou volume normal, poderá conectar ou "montar" discos ou volumes adicionais como diretórios com a letra D: de unidade sem os discos ou volumes adicionais que exigem suas próprias letras de unidade.</span><span class="sxs-lookup"><span data-stu-id="8d057-169">If you have a drive letter D: that refers to a regular disk or volume, you can connect or "mount" additional disks or volumes as directories under drive letter D: without the additional disks or volumes requiring drive letters of their own.</span></span>  
  
     <span data-ttu-id="8d057-170">Considerações adicionais sobre ponto de montagem para cluster de failover do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] :</span><span class="sxs-lookup"><span data-stu-id="8d057-170">Additional mount point considerations for [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] failover clustering:</span></span>  
  
    -   [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] <span data-ttu-id="8d057-171">A Instalação exige que a unidade base de uma unidade montada tenha uma letra da unidade associada.</span><span class="sxs-lookup"><span data-stu-id="8d057-171">Setup requires that the base drive of a mounted drive has an associated drive letter.</span></span> <span data-ttu-id="8d057-172">Para instalações de cluster de failover, esta unidade base deve ser uma unidade clusterizada.</span><span class="sxs-lookup"><span data-stu-id="8d057-172">For failover cluster installations, this base drive must be a clustered drive.</span></span> <span data-ttu-id="8d057-173">GUIDs de volume não têm suporte nesta versão.</span><span class="sxs-lookup"><span data-stu-id="8d057-173">Volume GUIDs are not supported in this release.</span></span>  
  
    -   <span data-ttu-id="8d057-174">A unidade base, aquela com a letra de unidade, não pode ser compartilhada entre instâncias de cluster de failover.</span><span class="sxs-lookup"><span data-stu-id="8d057-174">The base drive, the one with the drive letter, cannot be shared among failover cluster instances.</span></span> <span data-ttu-id="8d057-175">Essa é uma restrição normal para clusters de failover, mas não é uma restrição em servidores autônomos, com várias instâncias.</span><span class="sxs-lookup"><span data-stu-id="8d057-175">This is a normal restriction for failover clusters, but is not a restriction on stand-alone, multi-instance servers.</span></span>  
  
    -   <span data-ttu-id="8d057-176">As instalações clusterizadas do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] são limitadas ao número de letras de unidade disponíveis.</span><span class="sxs-lookup"><span data-stu-id="8d057-176">The clustered installations of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] are limited to the number of available drive letters.</span></span> <span data-ttu-id="8d057-177">Supondo que somente uma letra de unidade seja usada para o sistema operacional, e que todas as outras letras de unidade estejam disponíveis como unidades de cluster normais ou unidades de cluster que hospedam pontos de montagem, você fica limitado a um máximo de 25 instâncias do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] por cluster de failover.</span><span class="sxs-lookup"><span data-stu-id="8d057-177">Assuming that you use only one drive letter for the operating system, and all other drive letters are available as normal cluster drives or cluster drives hosting mount points, you are limited to a maximum of 25 instances of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] per failover cluster.</span></span>  
  
        > [!TIP]  
        >  <span data-ttu-id="8d057-178">O limite de 25 instâncias pode ser superado usando a opção de compartilhamento de arquivos SMB.</span><span class="sxs-lookup"><span data-stu-id="8d057-178">The 25 instance limit can be overcome by using SMB file share option.</span></span> <span data-ttu-id="8d057-179">Se você usar o compartilhamento de arquivos SMB como a opção de armazenamento, poderá instalar até 50 instâncias de cluster de failover [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="8d057-179">If you use SMB file share as the storage option, you can install up to 50 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] failover cluster instances.</span></span>  
  
    -   <span data-ttu-id="8d057-180">Formatar uma unidade depois de montar unidades adicionais não tem suporte.</span><span class="sxs-lookup"><span data-stu-id="8d057-180">Formatting a drive after mounting additional drives is not supported.</span></span>  
  
-   <span data-ttu-id="8d057-181">A instalação de cluster de failover do[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] só dá suporte a Disco Local para a instalação de arquivos tempdb.</span><span class="sxs-lookup"><span data-stu-id="8d057-181">[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] failover cluster installation supports Local Disk only for installing the tempdb files.</span></span> <span data-ttu-id="8d057-182">Verifique se o caminho especificado para os dados tempdb e os arquivos de log são válidos em todos os nós de cluster.</span><span class="sxs-lookup"><span data-stu-id="8d057-182">Ensure that the path specified for the tempdb data and log files is valid on all the cluster nodes.</span></span> <span data-ttu-id="8d057-183">Durante o failover, se os diretórios tempdb não estiverem disponíveis no nó do destino de failover, o recurso do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] não ficará online.</span><span class="sxs-lookup"><span data-stu-id="8d057-183">During failover, if the tempdb directories are not available on the failover target node, the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] resource will fail to come online.</span></span> <span data-ttu-id="8d057-184">Para obter mais informações, veja [Tipos de armazenamento de arquivos de dados](../../install/hardware-and-software-requirements-for-installing-sql-server.md#StorageTypes) e [Configuração do Mecanismo de Banco de Dados – Diretórios de dados](../../install/database-engine-configuration-data-directories.md).</span><span class="sxs-lookup"><span data-stu-id="8d057-184">For more information, see [Storage Types for Data Files](../../install/hardware-and-software-requirements-for-installing-sql-server.md#StorageTypes) and [Database Engine Configuration - Data Directories](../../install/database-engine-configuration-data-directories.md).</span></span>  
  
-   <span data-ttu-id="8d057-185">Se você implantar um cluster de failover do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] em componentes de tecnologia iSCSI, é recomendável tomar o cuidado necessário.</span><span class="sxs-lookup"><span data-stu-id="8d057-185">If you deploy a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] failover cluster on iSCSI technology components, we recommend that you use appropriate caution.</span></span> <span data-ttu-id="8d057-186">Para obter mais informações, veja [Suporte do SQL Server em componentes de tecnologia iSCSI](https://go.microsoft.com/fwlink/?LinkId=116960).</span><span class="sxs-lookup"><span data-stu-id="8d057-186">For more information, see [Support for SQL Server on iSCSI technology components](https://go.microsoft.com/fwlink/?LinkId=116960).</span></span>  
  
-   <span data-ttu-id="8d057-187">Para obter mais informações, veja [Política de suporte do SQL Server para Microsoft Clustering](https://go.microsoft.com/fwlink/?LinkId=116958).</span><span class="sxs-lookup"><span data-stu-id="8d057-187">For more information, see [SQL Server support policy for Microsoft Clustering](https://go.microsoft.com/fwlink/?LinkId=116958).</span></span>  
  
-   <span data-ttu-id="8d057-188">Para obter mais informações sobre a configuração da unidade de quorum adequada, veja [Informações sobre configuração da unidade de quorum](https://go.microsoft.com/fwlink/?LinkId=196816).</span><span class="sxs-lookup"><span data-stu-id="8d057-188">For more information about proper quorum drive configuration, see [Quorum Drive Configuration Information](https://go.microsoft.com/fwlink/?LinkId=196816).</span></span>  
  
-   <span data-ttu-id="8d057-189">Para instalar um cluster de failover do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] quando os arquivos de instalação de origem do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] e o cluster existirem em domínios diferentes, copie os arquivos de instalação no domínio atual disponível para o cluster de failover do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="8d057-189">To install a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] failover cluster when the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] source installation files and the cluster exist on different domains, copy the installation files to the current domain available to the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] failover cluster.</span></span>  
  
  
  
##  <a name="review-security-considerations"></a><a name="Security"></a> <span data-ttu-id="8d057-190">Examine as considerações sobre segurança</span><span class="sxs-lookup"><span data-stu-id="8d057-190">Review Security Considerations</span></span>  
  
-   <span data-ttu-id="8d057-191">Para usar criptografia, instale o certificado de servidor com o nome DNS totalmente qualificado do cluster do WSFC em todos os nós no cluster de failover do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="8d057-191">To use encryption, install the server certificate with the fully qualified DNS name of the WSFC cluster on all nodes in the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] failover cluster.</span></span> <span data-ttu-id="8d057-192">Por exemplo, se você tiver um cluster de dois nós, com nós nomeados "Test1.DomainName.com" e "Test2.DomainName.com" e uma instância de cluster de failover do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] denominada"Virtsql", deverá obter um certificado para "Virtsql.DomainName.com" e instalar o certificado nos nós test1 e test2.</span><span class="sxs-lookup"><span data-stu-id="8d057-192">For example, if you have a two-node cluster, with nodes named "Test1.DomainName.com" and "Test2.DomainName.com" and a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] failover cluster instance named "Virtsql", you must get a certificate for "Virtsql.DomainName.com" and install the certificate on the test1 and test2 nodes.</span></span> <span data-ttu-id="8d057-193">Em seguida, você pode marcar a caixa de seleção **Forçar criptografia de protocolo** no [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Configuration Manager para configurar o cluster de failover para criptografia.</span><span class="sxs-lookup"><span data-stu-id="8d057-193">Then you can select the **Force protocol encryption** check box on the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Configuration Manager to configure your failover cluster for encryption.</span></span>  
  
    > [!IMPORTANT]  
    >  <span data-ttu-id="8d057-194">Não marque a caixa de seleção **Forçar criptografia de protocolo** até que tenha instalado os certificados em todos os nós participantes da instância de cluster de failover.</span><span class="sxs-lookup"><span data-stu-id="8d057-194">Do not select the **Force protocol encryption** check box until you have certificates installed on all participating nodes in your failover cluster instance.</span></span>  
  
-   <span data-ttu-id="8d057-195">Para instalações do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] em configurações lado a lado com versões anteriores, os serviços do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] devem usar contas localizadas somente no grupo de domínios global.</span><span class="sxs-lookup"><span data-stu-id="8d057-195">For [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] installations in side-by-side configurations with previous versions, [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] services must use accounts found only in the global domains group.</span></span> <span data-ttu-id="8d057-196">Além disso, as contas usadas por serviços do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] não devem aparecer no grupo de Administradores local.</span><span class="sxs-lookup"><span data-stu-id="8d057-196">Additionally, accounts used by [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] services must not appear in the local Administrators group.</span></span> <span data-ttu-id="8d057-197">O não cumprimento dessa diretriz resultará em comportamento de segurança inesperado.</span><span class="sxs-lookup"><span data-stu-id="8d057-197">Failure to comply with this guideline will result in unexpected security behavior.</span></span>  
  
-   <span data-ttu-id="8d057-198">Para criar um cluster de failover, você deve ser um administrador local com permissões para fazer logon como um serviço e para atuar como parte do sistema operacional em todos os nós da instância de cluster de failover.</span><span class="sxs-lookup"><span data-stu-id="8d057-198">To create a failover cluster, you must be a local administrator with permissions to log on as a service, and to act as part of the operating system on all nodes of the failover cluster instance.</span></span>  
  
-   <span data-ttu-id="8d057-199">No [!INCLUDE[nextref_longhorn](../../../includes/nextref-longhorn-md.md)], os SIDs de serviço são gerados automaticamente para uso com os serviços do [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="8d057-199">On [!INCLUDE[nextref_longhorn](../../../includes/nextref-longhorn-md.md)], service SIDs are generated automatically for use with [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] services.</span></span> <span data-ttu-id="8d057-200">Para instâncias de cluster de failover do [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] atualizadas a partir de versões anteriores do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)], os grupos de domínio existentes e as configurações de ACL serão preservados.</span><span class="sxs-lookup"><span data-stu-id="8d057-200">For [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] failover cluster instances upgraded from previous versions of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)], existing domain groups and ACL configurations will be preserved.</span></span>  
  
-   <span data-ttu-id="8d057-201">Os grupos de domínios devem estar no mesmo domínio que as contas do computador.</span><span class="sxs-lookup"><span data-stu-id="8d057-201">Domain groups must be within the same domain as the machine accounts.</span></span> <span data-ttu-id="8d057-202">Por exemplo, se o computador onde o [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] será instalado estiver no domínio SQLSVR, que é um filho do domínio MYDOMAIN, especifique um grupo no domínio SQLSVR.</span><span class="sxs-lookup"><span data-stu-id="8d057-202">For example, if the machine where [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] will be installed is in the SQLSVR domain which is a child of MYDOMAIN, you must specify a group in the SQLSVR domain.</span></span> <span data-ttu-id="8d057-203">O domínio SQLSVR pode conter contas de usuário de MYDOMAIN.</span><span class="sxs-lookup"><span data-stu-id="8d057-203">The SQLSVR domain may contain user accounts from MYDOMAIN.</span></span>  
  
-   [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] <span data-ttu-id="8d057-204">O clustering de failover não pode ser instalado quando os nós de clusters são controladores de domínio.</span><span class="sxs-lookup"><span data-stu-id="8d057-204">failover clustering cannot be installed where cluster nodes are domain controllers.</span></span>  
  
-   <span data-ttu-id="8d057-205">Examine o conteúdo de [Considerações sobre segurança para uma instalação do SQL Server](../../install/security-considerations-for-a-sql-server-installation.md).</span><span class="sxs-lookup"><span data-stu-id="8d057-205">Review content in [Security Considerations for a SQL Server Installation](../../install/security-considerations-for-a-sql-server-installation.md).</span></span>  
  
-   <span data-ttu-id="8d057-206">Para habilitar a autenticação Kerberos com o [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)], veja [Como usar a autenticação Kerberos no SQL Server](https://support.microsoft.com/kb/319723) na Base de Dados de Conhecimento [!INCLUDE[msCoName](../../../includes/msconame-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="8d057-206">To enable Kerberos authentication with [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)], see [How to use Kerberos authentication in SQL Server](https://support.microsoft.com/kb/319723) in the [!INCLUDE[msCoName](../../../includes/msconame-md.md)] Knowledge Base.</span></span>  
  
  
  
##  <a name="review-network-port-and-firewall-considerations"></a><a name="Network"></a> <span data-ttu-id="8d057-207">Examine as considerações sobre rede, porta e firewall</span><span class="sxs-lookup"><span data-stu-id="8d057-207">Review Network, Port, and Firewall Considerations</span></span>  
  
-   <span data-ttu-id="8d057-208">Verifique se você desabilitou o NetBIOS para todas as placas de rede privada antes de começar a Instalação do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="8d057-208">Verify that you have disabled NetBIOS for all private network cards before beginning [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Setup.</span></span>  
  
-   <span data-ttu-id="8d057-209">O nome de rede e o endereço IP do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] não deve ser usado para nenhum outro propósito, como compartilhamento de arquivos.</span><span class="sxs-lookup"><span data-stu-id="8d057-209">The network name and IP address of your [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] should not be used for any other purpose, such as file sharing.</span></span> <span data-ttu-id="8d057-210">Para criar um recurso de compartilhamento de arquivos, use um endereço IP e um nome de rede diferente e exclusivo para o recurso.</span><span class="sxs-lookup"><span data-stu-id="8d057-210">If you want to create a file share resource, use a different, unique network name and IP address for the resource.</span></span>  
  
    > [!IMPORTANT]  
    >  <span data-ttu-id="8d057-211">É recomendável não usar compartilhamentos de arquivos em unidades de dados, pois eles podem afetar o comportamento e o desempenho do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="8d057-211">We recommend that you do not use file shares on data drives, because they can affect [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] behavior and performance.</span></span>  
  
-   <span data-ttu-id="8d057-212">Embora o [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] dê suporte a Pipes Nomeados e a Soquetes TCP/IP sobre TCP/IP em um cluster, é recomendável usar Soquetes TCP/IP em uma configuração clusterizada.</span><span class="sxs-lookup"><span data-stu-id="8d057-212">Even though [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] supports both Named Pipes and TCP/IP Sockets over TCP/IP within a cluster, we recommend that you use TCP/IP Sockets in a clustered configuration.</span></span>  
  
-   <span data-ttu-id="8d057-213">O servidor ISA não tem suporte no Clustering do Windows e, consequentemente, também não tem suporte em clusters de failover do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="8d057-213">Note that ISA server is not supported on Windows Clustering and consequently is also not supported on [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] failover clusters.</span></span>  
  
-   <span data-ttu-id="8d057-214">O serviço de Registro Remoto deve estar ativo e em execução.</span><span class="sxs-lookup"><span data-stu-id="8d057-214">The Remote Registry service must be up and running.</span></span>  
  
-   <span data-ttu-id="8d057-215">A Administração Remota deve estar habilitada.</span><span class="sxs-lookup"><span data-stu-id="8d057-215">Remote Administration must be enabled.</span></span>  
  
-   <span data-ttu-id="8d057-216">Para a porta [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] , use o [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Configuration Manager para verificar a configuração de rede do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] para o protocolo TCP/IP da instância que você deseja desbloquear.</span><span class="sxs-lookup"><span data-stu-id="8d057-216">For the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] port, use [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Configuration Manager to check the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] network configuration for the TCP/IP protocol for the instance you want to unblock.</span></span> <span data-ttu-id="8d057-217">Você deve habilitar a porta TCP para IPALL, se desejar se conectar ao [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] usando TCP após a instalação.</span><span class="sxs-lookup"><span data-stu-id="8d057-217">You must enable the TCP port for IPALL if you want to connect to [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] using TCP after installation.</span></span> <span data-ttu-id="8d057-218">Por padrão, o SQL Browser escuta na porta UDP 1434.</span><span class="sxs-lookup"><span data-stu-id="8d057-218">By default, SQL Browser listens on UDP port 1434.</span></span>  
  
-   <span data-ttu-id="8d057-219">As operações de configuração do cluster de failover incluem uma regra que verifica a ordem de associação da rede.</span><span class="sxs-lookup"><span data-stu-id="8d057-219">Failover cluster Setup operations include a rule that checks network binding order.</span></span> <span data-ttu-id="8d057-220">Embora as ordens de associação possam parecer corretas, é possível que você tenha desabilitado ou "tornado fantasma" as configurações de NIC no sistema.</span><span class="sxs-lookup"><span data-stu-id="8d057-220">Although binding orders might seem correct, you might have disabled or "ghosted" NIC configurations on the system.</span></span> <span data-ttu-id="8d057-221">Configurações de NIC "fantasma" podem afetar a ordem de associação e fazer com que a regra de ordem de associação emita um aviso.</span><span class="sxs-lookup"><span data-stu-id="8d057-221">"Ghosted" NIC configurations can affect the binding order and cause the binding order rule to issue a warning.</span></span> <span data-ttu-id="8d057-222">Para evitar essa situação, use as seguintes etapas para identificar e remover adaptadores de rede desabilitados:</span><span class="sxs-lookup"><span data-stu-id="8d057-222">To avoid this situation, use the following steps to identify and remove disabled network adapters:</span></span>  
  
    1.  <span data-ttu-id="8d057-223">Em um prompt de comando, digite: set devmgr_Show_Nonpersistent_Devices=1.</span><span class="sxs-lookup"><span data-stu-id="8d057-223">At a command prompt, type: set devmgr_Show_Nonpersistent_Devices=1.</span></span>  
  
    2.  <span data-ttu-id="8d057-224">Digite e execute: start Devmgmt.msc.</span><span class="sxs-lookup"><span data-stu-id="8d057-224">Type and run: start Devmgmt.msc.</span></span>  
  
    3.  <span data-ttu-id="8d057-225">Expanda a lista de adaptadores de rede.</span><span class="sxs-lookup"><span data-stu-id="8d057-225">Expand the list of network adapters.</span></span> <span data-ttu-id="8d057-226">Apenas os adaptadores físicos devem estar na lista.</span><span class="sxs-lookup"><span data-stu-id="8d057-226">Only the physical adapters should be in the list.</span></span> <span data-ttu-id="8d057-227">Se você tiver um adaptador de rede desabilitado, a instalação reportará uma falha referente à regra de ordem de associação da rede.</span><span class="sxs-lookup"><span data-stu-id="8d057-227">If you have a disabled network adapter, Setup will report a failure for the network binding order rule.</span></span> <span data-ttu-id="8d057-228">Painel de Controle/Conexões de Rede também mostrará que o adaptador foi desabilitado.</span><span class="sxs-lookup"><span data-stu-id="8d057-228">Control Panel/Network Connections will also show that adapter was disabled.</span></span> <span data-ttu-id="8d057-229">Confirme se as Configurações de Rede no Painel de Controle mostram a mesma lista de adaptadores físicos habilitados que devmgmt.msc.</span><span class="sxs-lookup"><span data-stu-id="8d057-229">Confirm that Network Settings in Control Panel shows the same list of enabled physical adapters that devmgmt.msc shows.</span></span>  
  
    4.  <span data-ttu-id="8d057-230">Remova os adaptadores de rede desabilitados antes de executar a Instalação do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="8d057-230">Remove disabled network adapters before you run [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Setup.</span></span>  
  
    5.  <span data-ttu-id="8d057-231">Após o término da instalação, volte para Conexões de Rede no Painel de Controle e desabilite todos os adaptadores de rede que não estiverem em uso.</span><span class="sxs-lookup"><span data-stu-id="8d057-231">After Setup finishes, return to Network Connections in Control Panel and disable any network adapters that are not currently in use.</span></span>  
  
  
  
##  <a name="verify-your-operating-system"></a><a name="OS_Support"></a><span data-ttu-id="8d057-232">Verifique seu sistema operacional</span><span class="sxs-lookup"><span data-stu-id="8d057-232">Verify Your Operating System</span></span>  
 <span data-ttu-id="8d057-233">Verifique se o sistema operacional está instalado corretamente e se foi projetado para dar suporte a clustering de failover.</span><span class="sxs-lookup"><span data-stu-id="8d057-233">Make sure that your operating system is installed properly and is designed to support failover clustering.</span></span> <span data-ttu-id="8d057-234">A tabela a seguir é uma lista das edições do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] e dos sistemas operacionais com suporte para elas.</span><span class="sxs-lookup"><span data-stu-id="8d057-234">The following table is a list of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] editions and the operating systems that support them.</span></span>  
  
|[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] <span data-ttu-id="8d057-235">edição</span><span class="sxs-lookup"><span data-stu-id="8d057-235">edition</span></span>|[!INCLUDE[firstref_longhorn](../../../includes/firstref-longhorn-md.md)] <span data-ttu-id="8d057-236">Enterprise</span><span class="sxs-lookup"><span data-stu-id="8d057-236">Enterprise</span></span>|[!INCLUDE[firstref_longhorn](../../../includes/firstref-longhorn-md.md)] <span data-ttu-id="8d057-237">Datacenter Server</span><span class="sxs-lookup"><span data-stu-id="8d057-237">Datacenter Server</span></span>|[!INCLUDE[winserver2008r2](../../../includes/winserver2008r2-md.md)] <span data-ttu-id="8d057-238">Enterprise</span><span class="sxs-lookup"><span data-stu-id="8d057-238">Enterprise</span></span>|[!INCLUDE[winserver2008r2](../../../includes/winserver2008r2-md.md)] <span data-ttu-id="8d057-239">Datacenter Server</span><span class="sxs-lookup"><span data-stu-id="8d057-239">Datacenter Server</span></span>|  
|---------------------------------------|------------------------------------------------|-------------------------------------------------------|----------------------------------------------|-----------------------------------------------------|  
|[!INCLUDE[ssSQL14](../../../includes/sssql14-md.md)]<span data-ttu-id="8d057-240">Enterprise (64 bits) x64<sup>1</sup></span><span class="sxs-lookup"><span data-stu-id="8d057-240">Enterprise (64-bit) x64<sup>1</sup></span></span>|<span data-ttu-id="8d057-241">Sim</span><span class="sxs-lookup"><span data-stu-id="8d057-241">Yes</span></span>|<span data-ttu-id="8d057-242">Sim</span><span class="sxs-lookup"><span data-stu-id="8d057-242">Yes</span></span>|<span data-ttu-id="8d057-243">Sim<sup>2</sup></span><span class="sxs-lookup"><span data-stu-id="8d057-243">Yes<sup>2</sup></span></span>|<span data-ttu-id="8d057-244">Sim<sup>2</sup></span><span class="sxs-lookup"><span data-stu-id="8d057-244">Yes<sup>2</sup></span></span>|  
|[!INCLUDE[ssSQL14](../../../includes/sssql14-md.md)] <span data-ttu-id="8d057-245">Enterprise (32 bits)</span><span class="sxs-lookup"><span data-stu-id="8d057-245">Enterprise (32-bit)</span></span>|<span data-ttu-id="8d057-246">Sim</span><span class="sxs-lookup"><span data-stu-id="8d057-246">Yes</span></span>|<span data-ttu-id="8d057-247">Sim</span><span class="sxs-lookup"><span data-stu-id="8d057-247">Yes</span></span>|||  
|[!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] <span data-ttu-id="8d057-248">– bits) Developer (64</span><span class="sxs-lookup"><span data-stu-id="8d057-248">-bit) Developer (64</span></span>|<span data-ttu-id="8d057-249">Sim</span><span class="sxs-lookup"><span data-stu-id="8d057-249">Yes</span></span>|<span data-ttu-id="8d057-250">Sim</span><span class="sxs-lookup"><span data-stu-id="8d057-250">Yes</span></span>|<span data-ttu-id="8d057-251">Sim <sup>2</sup></span><span class="sxs-lookup"><span data-stu-id="8d057-251">Yes <sup>2</sup></span></span>|<span data-ttu-id="8d057-252">Sim <sup>2</sup></span><span class="sxs-lookup"><span data-stu-id="8d057-252">Yes <sup>2</sup></span></span>|  
|[!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] <span data-ttu-id="8d057-253">Developer (32 bits)</span><span class="sxs-lookup"><span data-stu-id="8d057-253">Developer (32-bit)</span></span>|<span data-ttu-id="8d057-254">Sim</span><span class="sxs-lookup"><span data-stu-id="8d057-254">Yes</span></span>|<span data-ttu-id="8d057-255">Sim</span><span class="sxs-lookup"><span data-stu-id="8d057-255">Yes</span></span>|||  
|[!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] <span data-ttu-id="8d057-256">Standard (64 bits)</span><span class="sxs-lookup"><span data-stu-id="8d057-256">Standard (64-bit)</span></span>|<span data-ttu-id="8d057-257">Sim</span><span class="sxs-lookup"><span data-stu-id="8d057-257">Yes</span></span>|<span data-ttu-id="8d057-258">Sim</span><span class="sxs-lookup"><span data-stu-id="8d057-258">Yes</span></span>|<span data-ttu-id="8d057-259">Sim</span><span class="sxs-lookup"><span data-stu-id="8d057-259">Yes</span></span>|<span data-ttu-id="8d057-260">Sim</span><span class="sxs-lookup"><span data-stu-id="8d057-260">Yes</span></span>|  
|[!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] <span data-ttu-id="8d057-261">Standard (32 bits)</span><span class="sxs-lookup"><span data-stu-id="8d057-261">Standard (32-bit)</span></span>|<span data-ttu-id="8d057-262">Sim</span><span class="sxs-lookup"><span data-stu-id="8d057-262">Yes</span></span>|<span data-ttu-id="8d057-263">Sim</span><span class="sxs-lookup"><span data-stu-id="8d057-263">Yes</span></span>|||  
  
 <span data-ttu-id="8d057-264"><sup>1</sup> [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] clusters não têm suporte no modo WOW.</span><span class="sxs-lookup"><span data-stu-id="8d057-264"><sup>1</sup> [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] clusters are not supported in WOW mode.</span></span> <span data-ttu-id="8d057-265">Isso inclui atualizações de versões anteriores de clusters de failover do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] que haviam sido instaladas originalmente no WOW.</span><span class="sxs-lookup"><span data-stu-id="8d057-265">That includes upgrades from previous versions of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] failover clusters that were originally installed in WOW.</span></span> <span data-ttu-id="8d057-266">Para esses itens, a única opção de atualização é instalar a nova versão lado a lado e migrar.</span><span class="sxs-lookup"><span data-stu-id="8d057-266">For those the only upgrade option is to install the new version side by side and migrate.</span></span>  
  
 <span data-ttu-id="8d057-267"><sup>2</sup> com suporte para [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] clustering de failover de várias sub-redes.</span><span class="sxs-lookup"><span data-stu-id="8d057-267"><sup>2</sup> Supported for [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] multi-subnet failover clustering.</span></span>  
  
  
  
##  <a name="additional-considerations-for-multi-subnet-configurations"></a><a name="MultiSubnet"></a> <span data-ttu-id="8d057-268">Considerações adicionais para configurações de várias sub-redes</span><span class="sxs-lookup"><span data-stu-id="8d057-268">Additional Considerations for Multi-Subnet Configurations</span></span>  
 <span data-ttu-id="8d057-269">As seções a seguir descrevem os requisitos a serem considerados ao instalar um cluster de failover de várias sub-redes do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="8d057-269">The sections below describe the requirements to keep in mind when installing a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] multi-subnet failover cluster.</span></span> <span data-ttu-id="8d057-270">Uma configuração de várias sub-redes envolve o clustering em várias sub-redes, envolvendo, assim, o uso de vários endereços IP e alterações em dependências de recurso do endereço IP.</span><span class="sxs-lookup"><span data-stu-id="8d057-270">A multi-subnet configuration involves clustering across multiple subnets, therefore involves using multiple IP addresses and changes to IP address resource dependencies.</span></span>  
  
### <a name="ssnoversion-edition-and-operating-system-considerations"></a>[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] <span data-ttu-id="8d057-271">Considerações sobre a edição e o sistema operacional</span><span class="sxs-lookup"><span data-stu-id="8d057-271">Edition and Operating System Considerations</span></span>  
  
-   <span data-ttu-id="8d057-272">Para obter informações sobre as edições do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] que dão suporte a cluster de failover de várias sub-redes do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)], consulte [Recursos com suporte nas edições do SQL Server 2014](../../../getting-started/features-supported-by-the-editions-of-sql-server-2014.md).</span><span class="sxs-lookup"><span data-stu-id="8d057-272">For information about the editions of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] that support a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] multi-subnet failover cluster, see [Features Supported by the Editions of SQL Server 2014](../../../getting-started/features-supported-by-the-editions-of-sql-server-2014.md).</span></span>  
  
-   <span data-ttu-id="8d057-273">Para criar um cluster de failover de várias sub-redes do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] , você deve criar primeiro o cluster de failover multissite do [!INCLUDE[winserver2008r2](../../../includes/winserver2008r2-md.md)] em várias sub-redes.</span><span class="sxs-lookup"><span data-stu-id="8d057-273">To create a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] multi-subnet failover cluster, you must first create the [!INCLUDE[winserver2008r2](../../../includes/winserver2008r2-md.md)] multi-site failover cluster on multiple subnets.</span></span>  
  
-   [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] <span data-ttu-id="8d057-274">O cluster de failover depende do cluster de failover do Windows Server para assegurar que as condições de dependência IP sejam válidas se houver um failover.</span><span class="sxs-lookup"><span data-stu-id="8d057-274">failover cluster depends on the Windows Server failover cluster to make sure that the IP dependency conditions are valid if there is a failover.</span></span>  
  
-   [!INCLUDE[winserver2008r2](../../../includes/winserver2008r2-md.md)] <span data-ttu-id="8d057-275">exige que todos os servidores de cluster estejam no mesmo domínio do Active Directory.</span><span class="sxs-lookup"><span data-stu-id="8d057-275">requires that all the cluster servers must be in the same Active Directory domain.</span></span> <span data-ttu-id="8d057-276">Portanto, o cluster de failover de várias sub-redes do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] requer que todos os nós de cluster estejam no mesmo domínio do Active Directory mesmo que estejam em sub-redes diferentes.</span><span class="sxs-lookup"><span data-stu-id="8d057-276">Therefore, [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] multi-subnet failover cluster requires that all the cluster nodes be in the same Active Directory domain even if they are in different subnets.</span></span>  
  
#### <a name="ip-address-and-ip-address-resource-dependencies"></a><span data-ttu-id="8d057-277">Endereço IP e dependências de recurso de endereço IP</span><span class="sxs-lookup"><span data-stu-id="8d057-277">IP Address and IP Address Resource Dependencies</span></span>  
  
1.  <span data-ttu-id="8d057-278">A dependência de recurso de endereço IP é definida como OR em uma configuração de várias sub-redes.</span><span class="sxs-lookup"><span data-stu-id="8d057-278">The IP Address resource dependency is set to OR in a multi-subnet configuration.</span></span> <span data-ttu-id="8d057-279">Para obter mais informações, consulte [criar um novo SQL Server Cluster de Failover &#40;configuração&#41;](create-a-new-sql-server-failover-cluster-setup.md)</span><span class="sxs-lookup"><span data-stu-id="8d057-279">For more information, see [Create a New SQL Server Failover Cluster &#40;Setup&#41;](create-a-new-sql-server-failover-cluster-setup.md)</span></span>  
  
2.  <span data-ttu-id="8d057-280">Não há suporte para dependências de endereço IP AND-OR mistas.</span><span class="sxs-lookup"><span data-stu-id="8d057-280">Mixed AND-OR IP address dependencies are not supported.</span></span> <span data-ttu-id="8d057-281">Por exemplo, \<IP1> e \<IP2> ou \<IP3> não tem suporte.</span><span class="sxs-lookup"><span data-stu-id="8d057-281">For example, \<IP1> AND \<IP2> OR \<IP3> is not supported.</span></span>  
  
3.  <span data-ttu-id="8d057-282">Não há suporte para mais de um endereço IP por sub-rede.</span><span class="sxs-lookup"><span data-stu-id="8d057-282">More than one IP address per subnet is not supported.</span></span>  
  
     <span data-ttu-id="8d057-283">Se você decidir usar mais de um endereço IP configurado para a mesma sub-rede, poderá perceber falhas de conexão de cliente durante a inicialização do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="8d057-283">If you decide to use more than one IP address configured for the same subnet, you may experience client connection failures during [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] startup.</span></span>  
  
#### <a name="related-content"></a><span data-ttu-id="8d057-284">Conteúdo relacionado</span><span class="sxs-lookup"><span data-stu-id="8d057-284">Related Content</span></span>  
 <span data-ttu-id="8d057-285">Para obter mais informações sobre o failover de multissite do [!INCLUDE[winserver2008r2](../../../includes/winserver2008r2-md.md)] , veja o [Site sobre clustering de failover do Windows Server 2008 R2](https://technet.microsoft.com/library/ff182338\(v=WS.10\).aspx) e o artigo [Design de um serviço ou aplicativo clusterizado em um cluster de failover de multissite](https://go.microsoft.com/fwlink/?LinkId=177873).</span><span class="sxs-lookup"><span data-stu-id="8d057-285">For more information about [!INCLUDE[winserver2008r2](../../../includes/winserver2008r2-md.md)] multi-site failover, see [Windows Server 2008 R2 Failover Clustering Site](https://technet.microsoft.com/library/ff182338\(v=WS.10\).aspx) and [Design for a Clustered Service or Application in a Multi-Site Failover Cluster](https://go.microsoft.com/fwlink/?LinkId=177873).</span></span>  
  
##  <a name="configure-windows-server-failover-cluster"></a><a name="WSFC"></a><span data-ttu-id="8d057-286">Configurar o cluster de failover do Windows Server</span><span class="sxs-lookup"><span data-stu-id="8d057-286">Configure Windows Server Failover Cluster</span></span>  
  
-   [!INCLUDE[msCoName](../../../includes/msconame-md.md)] <span data-ttu-id="8d057-287">O WSFC (Serviço de Cluster) deve ser configurado em, pelo menos, um nó de cluster de servidores.</span><span class="sxs-lookup"><span data-stu-id="8d057-287">Cluster Service (WSFC) must be configured on at least one node of your server cluster.</span></span> <span data-ttu-id="8d057-288">Você também deve executar o [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Enterprise, [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Business Intelligence ou [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Standard com o WSFC.</span><span class="sxs-lookup"><span data-stu-id="8d057-288">You must also run [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Enterprise, [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Business Intelligence, or [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Standard in conjunction with WSFC.</span></span> [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] <span data-ttu-id="8d057-289">Enterprise dá suporte a clusters de failover com até 16 nós.</span><span class="sxs-lookup"><span data-stu-id="8d057-289">Enterprise support failover clusters with up to 16 nodes.</span></span> [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] <span data-ttu-id="8d057-290">Business Intelligence e o [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Standard dão suporte a clusters de failover com dois nós.</span><span class="sxs-lookup"><span data-stu-id="8d057-290">Business Intelligence and [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Standard supports two-node failover clusters.</span></span>  
  
-   <span data-ttu-id="8d057-291">O recurso DLL para o serviço [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] exporta duas funções usadas pelo Gerenciador de Cluster WSFC para verificar a disponibilidade do recurso do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="8d057-291">The resource DLL for the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] service exports two functions used by WSFC Cluster Manager to check for availability of the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] resource.</span></span> <span data-ttu-id="8d057-292">Para obter mais informações, veja [Política de failover para instâncias de cluster de failover](../windows/failover-policy-for-failover-cluster-instances.md).</span><span class="sxs-lookup"><span data-stu-id="8d057-292">For more information, see [Failover Policy for Failover Cluster Instances](../windows/failover-policy-for-failover-cluster-instances.md).</span></span>  
  
-   <span data-ttu-id="8d057-293">O WSFC deve ser capaz de verificar se a instância clusterizada de failover está em execução usando a verificação IsAlive.</span><span class="sxs-lookup"><span data-stu-id="8d057-293">WSFC must be able to verify that the failover clustered instance is running by using the IsAlive check.</span></span> <span data-ttu-id="8d057-294">Isso requer conexão com o servidor usando uma conexão confiável.</span><span class="sxs-lookup"><span data-stu-id="8d057-294">This requires connecting to the server by using a trusted connection.</span></span> <span data-ttu-id="8d057-295">Por padrão, a conta que executa o serviço de cluster não é configurada como um administrador em nós no cluster e o grupo BUILTIN\Administradores não tem permissão para fazer logon no [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="8d057-295">By default, the account that runs the cluster service is not configured as an administrator on nodes in the cluster, and the BUILTIN\Administrators group does not have permission to log into [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="8d057-296">Essas configurações serão alteradas apenas se você alterar as permissões nos nós de cluster.</span><span class="sxs-lookup"><span data-stu-id="8d057-296">These settings change only if you change permissions on the cluster nodes.</span></span>  
  
-   <span data-ttu-id="8d057-297">Configure o DNS (Serviço de Nomes de Domínio) ou o WINS (Serviço de Cadastramento na Internet do Windows).</span><span class="sxs-lookup"><span data-stu-id="8d057-297">Configure Domain Name Service (DNS) or Windows Internet Name Service (WINS).</span></span> <span data-ttu-id="8d057-298">Um servidor DNS ou WINS deve estar em execução no ambiente onde o cluster de failover do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] será instalado.</span><span class="sxs-lookup"><span data-stu-id="8d057-298">A DNS server or WINS server must be running in the environment where your [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] failover cluster will be installed.</span></span> [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] <span data-ttu-id="8d057-299">A Instalação exige o registro de serviço de nomes de domínio dinâmico da referência virtual da interface IP do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="8d057-299">Setup requires dynamic domain name service registration of the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] IP interface virtual reference.</span></span> <span data-ttu-id="8d057-300">A configuração do servidor DNS deve permitir que nós de cluster registrem dinamicamente um mapa de endereço IP online para Nome de Rede.</span><span class="sxs-lookup"><span data-stu-id="8d057-300">DNS server configuration should allow cluster nodes to dynamically register an online IP address map to Network Name.</span></span> <span data-ttu-id="8d057-301">Se o registro dinâmico não puder ser concluído, ocorrerá falha na Instalação e ela será revertida.</span><span class="sxs-lookup"><span data-stu-id="8d057-301">If the dynamic registration cannot be completed, Setup fails and the installation is rolled back.</span></span> <span data-ttu-id="8d057-302">Para obter mais informações, confira [este artigo da Base de Dados de Conhecimento](https://support.microsoft.com/kb/947048)</span><span class="sxs-lookup"><span data-stu-id="8d057-302">For more information, see [this knowledgebase article](https://support.microsoft.com/kb/947048)</span></span>  
  
  
  
##  <a name="install-msconame-distributed-transaction-coordinator"></a><a name="MSDTC"></a> <span data-ttu-id="8d057-303">Instalar o Coordenador de Transações Distribuídas da [!INCLUDE[msCoName](../../../includes/msconame-md.md)]</span><span class="sxs-lookup"><span data-stu-id="8d057-303">Install [!INCLUDE[msCoName](../../../includes/msconame-md.md)] Distributed Transaction Coordinator</span></span>  
 <span data-ttu-id="8d057-304">Antes de instalar o [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] em um cluster de failover, determine se o recurso de cluster do MSDTC (Coordenador de Transações Distribuídas da [!INCLUDE[msCoName](../../../includes/msconame-md.md)] ) deve ser criado.</span><span class="sxs-lookup"><span data-stu-id="8d057-304">Before installing [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] on a failover cluster, determine whether the [!INCLUDE[msCoName](../../../includes/msconame-md.md)] Distributed Transaction Coordinator (MSDTC) cluster resource must be created.</span></span> <span data-ttu-id="8d057-305">Se você estiver instalando somente o [!INCLUDE[ssDE](../../../includes/ssde-md.md)], o recurso de cluster do MSDTC não será necessário.</span><span class="sxs-lookup"><span data-stu-id="8d057-305">If you are installing only the [!INCLUDE[ssDE](../../../includes/ssde-md.md)], the MSDTC cluster resource is not required.</span></span> <span data-ttu-id="8d057-306">Se estiver instalando o [!INCLUDE[ssDE](../../../includes/ssde-md.md)] e o SSIS, os Componentes da Estação de Trabalho, ou se usar transações distribuídas, você deverá instalar o MSDTC.</span><span class="sxs-lookup"><span data-stu-id="8d057-306">If you are installing the [!INCLUDE[ssDE](../../../includes/ssde-md.md)] and SSIS, Workstation Components, or if you will use distributed transactions, you must install MSDTC.</span></span> <span data-ttu-id="8d057-307">Observe que o MSDTC não é necessário para instâncias somente do [!INCLUDE[ssASnoversion](../../../includes/ssasnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="8d057-307">Note that MSDTC is not required for [!INCLUDE[ssASnoversion](../../../includes/ssasnoversion-md.md)]-only instances.</span></span>  
  
 <span data-ttu-id="8d057-308">No [!INCLUDE[firstref_longhorn](../../../includes/firstref-longhorn-md.md)] e no [!INCLUDE[winserver2008r2](../../../includes/winserver2008r2-md.md)], você pode instalar várias instâncias do MSDTC em um único cluster de failover.</span><span class="sxs-lookup"><span data-stu-id="8d057-308">On [!INCLUDE[firstref_longhorn](../../../includes/firstref-longhorn-md.md)] and [!INCLUDE[winserver2008r2](../../../includes/winserver2008r2-md.md)], you can install multiple instances of MSDTC on a single failover cluster.</span></span> <span data-ttu-id="8d057-309">A primeira instância do MSDTC instalada será a instância padrão de cluster do MSDTC.</span><span class="sxs-lookup"><span data-stu-id="8d057-309">The first instance of MSDTC that is installed will be the cluster default instance of MSDTC.</span></span> [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] <span data-ttu-id="8d057-310">aproveitará as vantagens de uma instância do MSDTC instalada no grupo de recursos do cluster local do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] usando a instância do MSDTC automaticamente.</span><span class="sxs-lookup"><span data-stu-id="8d057-310">will take advantage of an instance of MSDTC installed to the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] local cluster resource group by automatically using the instance of MSDTC.</span></span> <span data-ttu-id="8d057-311">Porém, podem ser mapeados aplicativos individuais para qualquer instância do MSDTC no cluster.</span><span class="sxs-lookup"><span data-stu-id="8d057-311">However, individual applications can be mapped to any instance of MSDTC on the cluster.</span></span>  
  
 <span data-ttu-id="8d057-312">As regras a seguir serão aplicadas para uma instância do MSDTC a ser escolhida pelo [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]:</span><span class="sxs-lookup"><span data-stu-id="8d057-312">The following rules are applied for an instance of MSDTC to be chosen by [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]:</span></span>  
  
-   <span data-ttu-id="8d057-313">Usar o MSDTC instalado no grupo local ou</span><span class="sxs-lookup"><span data-stu-id="8d057-313">Use MSDTC installed to the local group, else</span></span>  
  
-   <span data-ttu-id="8d057-314">Usar a instância mapeada do MSDTC ou</span><span class="sxs-lookup"><span data-stu-id="8d057-314">Use the mapped instance of MSDTC, else</span></span>  
  
-   <span data-ttu-id="8d057-315">Usar a instância padrão de cluster do MSDTC ou</span><span class="sxs-lookup"><span data-stu-id="8d057-315">Use the cluster's default instance of MSDTC, else</span></span>  
  
-   <span data-ttu-id="8d057-316">Usar a instância do MSDTC instalada no computador local</span><span class="sxs-lookup"><span data-stu-id="8d057-316">Use the local machine's installed instance of MSDTC</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="8d057-317">Se a instância do MSDTC instalada no grupo de clusters local do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] falhar, o [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] não tentará usar a instância de cluster padrão nem a instância do computador local do MSDTC automaticamente.</span><span class="sxs-lookup"><span data-stu-id="8d057-317">If the MSDTC instance that is installed to the local cluster group of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] fails, [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] does not automatically attempt to use the default cluster instance or the local machine instance of MSDTC.</span></span> <span data-ttu-id="8d057-318">Você precisaria remover completamente a instância do MSDTC com falha do grupo do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] para usar outra instância do MSDTC.</span><span class="sxs-lookup"><span data-stu-id="8d057-318">You would need to completely remove the failed instance of MSDTC from the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] group to use another instance of MSDTC.</span></span> <span data-ttu-id="8d057-319">Da mesma forma, se você criar um mapeamento para o [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] e a instância mapeada do MSDTC falhar, suas transações distribuídas também falharão.</span><span class="sxs-lookup"><span data-stu-id="8d057-319">Likewise, if you create a mapping for [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] and the mapped instance of MSDTC fails, your distributed transactions will also fail.</span></span> <span data-ttu-id="8d057-320">Se você desejar que o [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] use outra instância do MSDTC, deverá adicionar uma instância do MSDTC ao grupo de cluster local do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] ou excluir o mapeamento.</span><span class="sxs-lookup"><span data-stu-id="8d057-320">If you want [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] to use a different instance of MSDTC, you must either add an instance of MSDTC to the local cluster group of the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] or delete the mapping.</span></span>  
  
### <a name="configure-msconame-distributed-transaction-coordinator"></a><span data-ttu-id="8d057-321">Configurar o Coordenador de Transações Distribuídas da [!INCLUDE[msCoName](../../../includes/msconame-md.md)]</span><span class="sxs-lookup"><span data-stu-id="8d057-321">Configure [!INCLUDE[msCoName](../../../includes/msconame-md.md)] Distributed Transaction Coordinator</span></span>  
 <span data-ttu-id="8d057-322">Após instalar o sistema operacional e configurar o cluster, você deve configurar o MSDTC para funcionar em um cluster usando o Administrador de Cluster.</span><span class="sxs-lookup"><span data-stu-id="8d057-322">After you install the operating system and configure your cluster, you must configure MSDTC to work in a cluster by using the Cluster Administrator.</span></span> <span data-ttu-id="8d057-323">A falha no MSDTC de cluster não bloqueará a Instalação do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] , mas a funcionalidade do aplicativo [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] poderá ser afetada se o MSDTC não for configurado corretamente.</span><span class="sxs-lookup"><span data-stu-id="8d057-323">Failure to cluster MSDTC will not block [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Setup, but [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] application functionality may be affected if MSDTC is not properly configured.</span></span>  
  
  
  
## <a name="see-also"></a><span data-ttu-id="8d057-324">Consulte Também</span><span class="sxs-lookup"><span data-stu-id="8d057-324">See Also</span></span>  
 <span data-ttu-id="8d057-325">[Requisitos de hardware e software para a instalação do SQL Server 2014](../../install/hardware-and-software-requirements-for-installing-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="8d057-325">[Hardware and Software Requirements for Installing SQL Server 2014](../../install/hardware-and-software-requirements-for-installing-sql-server.md) </span></span>  
 <span data-ttu-id="8d057-326">[Verificar parâmetros para o verificador de configuração do sistema](../../../database-engine/install-windows/check-parameters-for-the-system-configuration-checker.md) </span><span class="sxs-lookup"><span data-stu-id="8d057-326">[Check Parameters for the System Configuration Checker](../../../database-engine/install-windows/check-parameters-for-the-system-configuration-checker.md) </span></span>  
 [<span data-ttu-id="8d057-327">Administração e manutenção da instância de cluster de failover</span><span class="sxs-lookup"><span data-stu-id="8d057-327">Failover Cluster Instance Administration and Maintenance</span></span>](../windows/failover-cluster-instance-administration-and-maintenance.md)  
  
  
