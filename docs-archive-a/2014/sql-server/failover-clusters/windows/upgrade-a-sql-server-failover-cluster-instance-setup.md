---
title: Atualizar uma instância do cluster de failover do SQL Server (configuração) | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: high-availability
ms.topic: conceptual
helpviewer_keywords:
- upgrading clusters
- clusters [SQL Server], upgrading
- failover clustering [SQL Server], creating clusters
- clusters [SQL Server], creating
- failover clustering [SQL Server], upgrading
ms.assetid: ea8b7d66-e5a1-402f-9928-8f7310e84f5c
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: a45628055ee12f5d771c863dec7a3368cdae5940
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87685020"
---
# <a name="upgrade-a-sql-server-failover-cluster-instance-setup"></a><span data-ttu-id="09a03-102">Atualizar uma instância de cluster de failover do SQL Server (instalação)</span><span class="sxs-lookup"><span data-stu-id="09a03-102">Upgrade a SQL Server Failover Cluster Instance (Setup)</span></span>
  <span data-ttu-id="09a03-103">Você pode atualizar um cluster de failover do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] para um cluster de failover do [!INCLUDE[ssSQL14](../../../includes/sssql14-md.md)] com o Assistente de Instalação do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] ou com um prompt de comando.</span><span class="sxs-lookup"><span data-stu-id="09a03-103">You can upgrade a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] failover cluster to a [!INCLUDE[ssSQL14](../../../includes/sssql14-md.md)] failover cluster by using the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Installation Wizard or a command prompt.</span></span>  
  
 <span data-ttu-id="09a03-104">Durante a atualização do cluster de failover, o tempo de inatividade está limitado ao tempo necessário à atualização de scripts para execução.</span><span class="sxs-lookup"><span data-stu-id="09a03-104">During the failover cluster upgrade, downtime is limited to failover time and the time that is required for upgrade scripts to run.</span></span> <span data-ttu-id="09a03-105">Se você seguir o processo de atualização do cluster de failover em andamento, seu tempo de inatividade será mínimo.</span><span class="sxs-lookup"><span data-stu-id="09a03-105">If you follow the failover cluster rolling upgrade process, your downtime is minimal.</span></span> <span data-ttu-id="09a03-106">Se você não tiver todos os pré-requisitos instalados nos nós de cluster de failover, talvez tempo de inatividade adicional seja necessário para instalar esses pré-requisitos.</span><span class="sxs-lookup"><span data-stu-id="09a03-106">Depending on whether you have all the prerequisites on the failover cluster nodes, you might incur additional downtime while you install these prerequisites.</span></span> <span data-ttu-id="09a03-107">Para obter mais informações sobre como minimizar o tempo de inatividade durante a atualização, consulte a seção [práticas recomendadas antes de atualizar o cluster de failover](#BestPractices) nesta página.</span><span class="sxs-lookup"><span data-stu-id="09a03-107">For more information about how to minimize the downtime during upgrade, see the [Best Practices Before Upgrading Failover Cluster](#BestPractices) section on this page.</span></span>  
  
 <span data-ttu-id="09a03-108">Para obter mais informações sobre como atualizar, consulte [atualizações de versão e edição com suporte](../../../database-engine/install-windows/supported-version-and-edition-upgrades.md) e [atualização para o SQL Server 2014](../../../database-engine/install-windows/upgrade-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="09a03-108">For more information about how to upgrade, see [Supported Version and Edition Upgrades](../../../database-engine/install-windows/supported-version-and-edition-upgrades.md) and [Upgrade to SQL Server 2014](../../../database-engine/install-windows/upgrade-sql-server.md).</span></span>  
  
 <span data-ttu-id="09a03-109">Para obter mais informações sobre a sintaxe de exemplo para o uso do prompt de comando, consulte [instalar SQL Server 2014 no prompt de comando](../../../database-engine/install-windows/install-sql-server-from-the-command-prompt.md).</span><span class="sxs-lookup"><span data-stu-id="09a03-109">For more information about sample syntax for command prompt usage, see [Install SQL Server 2014 from the Command Prompt](../../../database-engine/install-windows/install-sql-server-from-the-command-prompt.md).</span></span>  
  
## <a name="prerequisites"></a><span data-ttu-id="09a03-110">Pré-requisitos</span><span class="sxs-lookup"><span data-stu-id="09a03-110">Prerequisites</span></span>  
 <span data-ttu-id="09a03-111">Antes de começar, examine as seguintes informações importantes:</span><span class="sxs-lookup"><span data-stu-id="09a03-111">Before you begin, review the following important information:</span></span>  
  
-   [<span data-ttu-id="09a03-112">Antes de instalar o cluster de failover</span><span class="sxs-lookup"><span data-stu-id="09a03-112">Before Installing Failover Clustering</span></span>](../install/before-installing-failover-clustering.md)  
  
-   <span data-ttu-id="09a03-113">[Use o supervisor de atualização para se preparar para atualizações](../../install/use-upgrade-advisor-to-prepare-for-upgrades.md).</span><span class="sxs-lookup"><span data-stu-id="09a03-113">[Use Upgrade Advisor to Prepare for Upgrades](../../install/use-upgrade-advisor-to-prepare-for-upgrades.md).</span></span>  
  
-   [<span data-ttu-id="09a03-114">Atualizar o Mecanismo de Banco de Dados</span><span class="sxs-lookup"><span data-stu-id="09a03-114">Upgrade Database Engine</span></span>](../../../database-engine/install-windows/upgrade-database-engine.md)  
  
-   <span data-ttu-id="09a03-115">O .NET Framework 4.0 é instalado em um sistema operacional clusterizado.</span><span class="sxs-lookup"><span data-stu-id="09a03-115">Setup installs .NET Framework 4.0 on a clustered operating system.</span></span> <span data-ttu-id="09a03-116">Para minimizar qualquer possível tempo de inatividade, considere instalar o .NET Framework 4.0 antes de executar a Instalação.</span><span class="sxs-lookup"><span data-stu-id="09a03-116">To minimize any possible downtime, consider installing .NET Framework 4.0 before you run Setup.</span></span>  
  
-   <span data-ttu-id="09a03-117">Para garantir que o componente Visual Studio seja instalado corretamente, o [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] exige que você instale uma atualização.</span><span class="sxs-lookup"><span data-stu-id="09a03-117">To make sure that the Visual Studio component can be installed correctly, [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] requires you to install an update.</span></span> <span data-ttu-id="09a03-118">A Instalação do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] verifica a presença dessa atualização e requer o download e a instalação da atualização antes de continuar com a instalação do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="09a03-118">[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Setup checks for the presence of this update and then requires you to download and install the update before you can continue with the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] installation.</span></span> <span data-ttu-id="09a03-119">Para evitar a interrupção durante a Instalação do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] , você pode baixar e instalar a atualização antes de executar a Instalação do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] , conforme descrito abaixo (ou instalar todas as atualizações para o .NET 3.5 SP1 disponíveis no Windows Update):</span><span class="sxs-lookup"><span data-stu-id="09a03-119">To avoid the interruption during [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Setup, you can download and install the update before running [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Setup as described below (or install all the updates for .NET 3.5 SP1 available on Windows Update):</span></span>  
  
     <span data-ttu-id="09a03-120">Se você instalar o [!INCLUDE[ssSQL14](../../../includes/sssql14-md.md)] em um computador com o sistema operacional Windows Server 2008 SP2, poderá obter a atualização necessária [aqui](https://go.microsoft.com/fwlink/?LinkId=198093)</span><span class="sxs-lookup"><span data-stu-id="09a03-120">If you install [!INCLUDE[ssSQL14](../../../includes/sssql14-md.md)] on a computer with the Windows Server 2008 SP2 operating system, you can get the required update from [here](https://go.microsoft.com/fwlink/?LinkId=198093)</span></span>  
  
     <span data-ttu-id="09a03-121">Se você instalar o [!INCLUDE[ssSQL14](../../../includes/sssql14-md.md)] em um computador com o [!INCLUDE[win7](../../../includes/win7-md.md)] SP1 ou [!INCLUDE[winserver2008r2](../../../includes/winserver2008r2-md.md)] SP1, essa atualização será incluída.</span><span class="sxs-lookup"><span data-stu-id="09a03-121">If you install [!INCLUDE[ssSQL14](../../../includes/sssql14-md.md)] on a computer with the [!INCLUDE[win7](../../../includes/win7-md.md)] SP1 or [!INCLUDE[winserver2008r2](../../../includes/winserver2008r2-md.md)] SP1 operating system, this update in included.</span></span>  
  
-   <span data-ttu-id="09a03-122">O .NET Framework 3.5 SP1 não é mais instalado pelo [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)], mas pode ser necessário durante a instalação do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] no [!INCLUDE[firstref_longhorn](../../../includes/firstref-longhorn-md.md)].</span><span class="sxs-lookup"><span data-stu-id="09a03-122">.NET Framework 3.5 SP1 is no longer installed by [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Setup, but may be required while installing [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] on [!INCLUDE[firstref_longhorn](../../../includes/firstref-longhorn-md.md)].</span></span> <span data-ttu-id="09a03-123">Para obter mais informações, consulte [!INCLUDE[ssSQL14](../../../includes/sssql14-md.md)] [notas de versão](https://go.microsoft.com/fwlink/?LinkId=296445).</span><span class="sxs-lookup"><span data-stu-id="09a03-123">For more information, see [!INCLUDE[ssSQL14](../../../includes/sssql14-md.md)][Release Notes](https://go.microsoft.com/fwlink/?LinkId=296445).</span></span>  
  
-   <span data-ttu-id="09a03-124">Em instalações locais, você deve executar a Instalação do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] como um administrador.</span><span class="sxs-lookup"><span data-stu-id="09a03-124">For local installations, you must run [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Setup as an administrator.</span></span> <span data-ttu-id="09a03-125">Se você instalar o [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] de um compartilhamento remoto, deverá usar uma conta de domínio que tenha permissões de leitura no compartilhamento remoto.</span><span class="sxs-lookup"><span data-stu-id="09a03-125">If you install [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] from a remote share, you must use a domain account that has read permissions on the remote share.</span></span>  
  
-   <span data-ttu-id="09a03-126">Para atualizar uma instância do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] para um [!INCLUDE[ssSQL14](../../../includes/sssql14-md.md)] cluster de failover do, a instância que está sendo atualizada deve ser um cluster de failover.</span><span class="sxs-lookup"><span data-stu-id="09a03-126">To upgrade an instance of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] to a [!INCLUDE[ssSQL14](../../../includes/sssql14-md.md)] failover cluster, the instance being upgraded must be a failover cluster.</span></span>  
  
     <span data-ttu-id="09a03-127">Para mover uma instância autônoma do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] para um cluster de failover do [!INCLUDE[ssSQL14](../../../includes/sssql14-md.md)], instale um novo cluster de failover do [!INCLUDE[ssSQL14](../../../includes/sssql14-md.md)] e depois migre os bancos de dados do usuário da instância autônoma com o Assistente para Copiar Banco de Dados.</span><span class="sxs-lookup"><span data-stu-id="09a03-127">To move a stand-alone instance of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] to a [!INCLUDE[ssSQL14](../../../includes/sssql14-md.md)] failover cluster, install a new [!INCLUDE[ssSQL14](../../../includes/sssql14-md.md)] failover cluster, and then migrate user databases from the stand-alone instance by using the Copy Database Wizard.</span></span> <span data-ttu-id="09a03-128">Para obter mais informações, consulte [Use the Copy Database Wizard](../../../relational-databases/databases/use-the-copy-database-wizard.md).</span><span class="sxs-lookup"><span data-stu-id="09a03-128">For more information, see [Use the Copy Database Wizard](../../../relational-databases/databases/use-the-copy-database-wizard.md).</span></span>  
  
## <a name="rolling-upgrades"></a><span data-ttu-id="09a03-129">Atualizações sem interrupção</span><span class="sxs-lookup"><span data-stu-id="09a03-129">Rolling Upgrades</span></span>  
 <span data-ttu-id="09a03-130">Para atualizar um cluster de failover do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] para o [!INCLUDE[ssSQL14](../../../includes/sssql14-md.md)], você deve executar a instalação com uma ação de atualização em cada um dos nós de cluster de failover de cada vez, começando pelos nós passivos.</span><span class="sxs-lookup"><span data-stu-id="09a03-130">To upgrade a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] failover cluster to [!INCLUDE[ssSQL14](../../../includes/sssql14-md.md)], you must run setup with upgrade action on each failover cluster node, one at a time, starting with the passive nodes.</span></span> <span data-ttu-id="09a03-131">Conforme você atualiza cada nó, ele é omitido dos possíveis proprietários do cluster de failover.</span><span class="sxs-lookup"><span data-stu-id="09a03-131">As you upgrade each node, it is left out of the possible owners of the failover cluster.</span></span> <span data-ttu-id="09a03-132">Se houver um failover inesperado, os nós atualizados não participarão do failover até que a propriedade do grupo de recursos de cluster seja movida para um nó atualizado pela Instalação do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="09a03-132">If there is an unexpected failover, the upgraded nodes do not participate in the failover until cluster resource group ownership is moved to an upgraded node by [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Setup.</span></span>  
  
 <span data-ttu-id="09a03-133">Por padrão, a Instalação determina quando executar failover em um nó atualizado.</span><span class="sxs-lookup"><span data-stu-id="09a03-133">By default, Setup automatically determines when to fail over to an upgraded node.</span></span> <span data-ttu-id="09a03-134">Isso depende do número total de nós na instância de cluster de failover e do número de nós que já foram atualizados.</span><span class="sxs-lookup"><span data-stu-id="09a03-134">This depends on the total number of nodes in the failover cluster instance and the number of nodes that have already been upgraded.</span></span> <span data-ttu-id="09a03-135">Quando a metade ou mais da metade dos nós já tiver sido atualizada, a Instalação provoca um failover em um nó atualizado quando você executa a instalação no próximo nó.</span><span class="sxs-lookup"><span data-stu-id="09a03-135">When half of the nodes or more have already been upgraded, Setup causes a failover to an upgraded node when you perform upgrade on the next node.</span></span> <span data-ttu-id="09a03-136">Durante o failover em um nó atualizado, o grupo de clusters é movido para um nó atualizado.</span><span class="sxs-lookup"><span data-stu-id="09a03-136">Upon failover to an upgraded node, the cluster group is moved to an upgraded node.</span></span> <span data-ttu-id="09a03-137">Todos os nós atualizados são colocados na lista de possíveis proprietários e todos os nós que ainda não foram atualizados são removidos da lista de possíveis proprietários.</span><span class="sxs-lookup"><span data-stu-id="09a03-137">All the upgraded nodes are put in the possible owners list and all the nodes that are not yet upgraded are removed from the possible owners list.</span></span> <span data-ttu-id="09a03-138">À medida que você atualiza cada nó restante, ele é omitido dos possíveis proprietários do cluster de failover.</span><span class="sxs-lookup"><span data-stu-id="09a03-138">As you upgrade each remaining node, it is added to the possible owners of the failover cluster.</span></span>  
  
 <span data-ttu-id="09a03-139">Esse processo resulta em tempo de inatividade limitado a um tempo de failover e ao tempo de execução do script de atualização do banco de dados durante toda a atualização de cluster de failover.</span><span class="sxs-lookup"><span data-stu-id="09a03-139">This process results in downtime limited to one failover time and database upgrade script execution time during the whole failover cluster upgrade.</span></span>  
  
 <span data-ttu-id="09a03-140">Para controlar o comportamento de failover de nós de cluster durante o processo de atualização, execute a operação de atualização no prompt de comando e use o parâmetro /FAILOVERCLUSTERROLLOWNERSHIP.</span><span class="sxs-lookup"><span data-stu-id="09a03-140">To control the failover behavior of cluster nodes during the upgrade process, run the upgrade operation at the command prompt and use the /FAILOVERCLUSTERROLLOWNERSHIP parameter.</span></span> <span data-ttu-id="09a03-141">Para obter mais informações, consulte [Install SQL Server 2014 from the Command Prompt](../../../database-engine/install-windows/install-sql-server-from-the-command-prompt.md) (Instalar o SQL Server 2014 do Prompt de Comando).</span><span class="sxs-lookup"><span data-stu-id="09a03-141">For more information, see [Install SQL Server 2014 from the Command Prompt](../../../database-engine/install-windows/install-sql-server-from-the-command-prompt.md).</span></span>  
  
 <span data-ttu-id="09a03-142">**Observação** Se houver um cluster de failover de nó único, a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] instalação levará o [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] grupo de recursos offline.</span><span class="sxs-lookup"><span data-stu-id="09a03-142">**Note** If there is a single-node failover cluster, [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Setup takes the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] resource group offline.</span></span>  
  
## <a name="considerations-when-upgrading-from-ssversion2005"></a><span data-ttu-id="09a03-143">Considerações ao fazer a atualização do [!INCLUDE[ssVersion2005](../../../includes/ssversion2005-md.md)]</span><span class="sxs-lookup"><span data-stu-id="09a03-143">Considerations when Upgrading from [!INCLUDE[ssVersion2005](../../../includes/ssversion2005-md.md)]</span></span>  
 <span data-ttu-id="09a03-144">Se você especificou grupos de domínios para a política de segurança de cluster, não poderá especificar o SID de serviço em [!INCLUDE[nextref_longhorn](../../../includes/nextref-longhorn-md.md)].</span><span class="sxs-lookup"><span data-stu-id="09a03-144">If you specified domain groups for the cluster security policy, you cannot specify service SID on [!INCLUDE[nextref_longhorn](../../../includes/nextref-longhorn-md.md)].</span></span> <span data-ttu-id="09a03-145">Se você quiser usar o SID de serviço, precisará executar uma atualização lado a lado.</span><span class="sxs-lookup"><span data-stu-id="09a03-145">If you want to use the service SID, you need to perform a side by side upgrade.</span></span>  
  
 <span data-ttu-id="09a03-146">Quando você seleciona o [!INCLUDE[ssDE](../../../includes/ssde-md.md)] para atualização, a pesquisa de texto completo é incluída na instalação, independentemente de ter sido ou não instalada no [!INCLUDE[ssVersion2005](../../../includes/ssversion2005-md.md)].</span><span class="sxs-lookup"><span data-stu-id="09a03-146">When you select [!INCLUDE[ssDE](../../../includes/ssde-md.md)] for upgrade, full-text search is included in the setup regardless of whether it was installed in [!INCLUDE[ssVersion2005](../../../includes/ssversion2005-md.md)].</span></span>  
  
 <span data-ttu-id="09a03-147">Se a pesquisa de texto completo foi habilitada no [!INCLUDE[ssVersion2005](../../../includes/ssversion2005-md.md)], a Instalação recompilará o catálogo de pesquisa de texto completo, independentemente das opções disponíveis para você.</span><span class="sxs-lookup"><span data-stu-id="09a03-147">If full-text search was enabled in [!INCLUDE[ssVersion2005](../../../includes/ssversion2005-md.md)], Setup rebuilds the full-text search catalog regardless of the options available to you.</span></span>  
  
## <a name="upgrading-to-a-sssql14-multi-subnet-failover-cluster"></a><span data-ttu-id="09a03-148">Atualizando para um cluster de failover de várias sub-redes do [!INCLUDE[ssSQL14](../../../includes/sssql14-md.md)]</span><span class="sxs-lookup"><span data-stu-id="09a03-148">Upgrading to a [!INCLUDE[ssSQL14](../../../includes/sssql14-md.md)] Multi-Subnet Failover Cluster</span></span>  
 <span data-ttu-id="09a03-149">Há dois possíveis cenários para atualizações:</span><span class="sxs-lookup"><span data-stu-id="09a03-149">There are two possible scenarios for upgrades:</span></span>  
  
1.  <span data-ttu-id="09a03-150">O cluster de failover do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] está atualmente configurado em uma única sub-rede: você deve atualizar primeiro o cluster existente para o [!INCLUDE[ssSQL14](../../../includes/sssql14-md.md)] iniciando a instalação e seguindo o processo de atualização.</span><span class="sxs-lookup"><span data-stu-id="09a03-150">[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] failover cluster is currently configured on a single subnet: You must first upgrade the existing cluster to [!INCLUDE[ssSQL14](../../../includes/sssql14-md.md)] by launching Setup and following the upgrade process.</span></span> <span data-ttu-id="09a03-151">Concluída a atualização do cluster de failover existente, adicione um nó que esteja em uma sub-rede diferente usando a funcionalidade AddNode.</span><span class="sxs-lookup"><span data-stu-id="09a03-151">After completing the upgrade of the existing failover cluster, add a node that is on a different subnet using the AddNode functionality.</span></span> <span data-ttu-id="09a03-152">Confirme a alteração da dependência do recurso de endereço IP para OR na página de configuração de rede de cluster.</span><span class="sxs-lookup"><span data-stu-id="09a03-152">Confirm the IP address resource dependency change to OR in the cluster network configuration page.</span></span> <span data-ttu-id="09a03-153">Agora você tem um cluster de failover de várias sub-redes do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="09a03-153">You now have a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] multi-subnet failover cluster.</span></span>  
  
2.  <span data-ttu-id="09a03-154">O cluster de failover do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] está atualmente configurado em várias sub-redes que usam a tecnologia V-LAN expansível: você deve atualizar primeiro o cluster existente para o [!INCLUDE[ssSQL14](../../../includes/sssql14-md.md)].</span><span class="sxs-lookup"><span data-stu-id="09a03-154">[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] failover cluster is currently configured on multiple subnets using the stretch V-LAN technology: You must first upgrade the existing cluster to [!INCLUDE[ssSQL14](../../../includes/sssql14-md.md)].</span></span> <span data-ttu-id="09a03-155">Como a tecnologia V-LAN expansível configura uma única sub-rede, a configuração de rede deve ser alterada para várias sub-redes. Altere a dependência do recurso de endereço IP com a ferramenta de administração de Cluster de Failover do Windows e altere a dependência de IP para OR.</span><span class="sxs-lookup"><span data-stu-id="09a03-155">Because stretch V-LAN technology configures a single subnet, the network configuration must to be changed to multiple subnets, and change the IP address resource dependency using the Windows Failover Cluster administration tool and change the IP dependency to OR.</span></span>  
  
###  <a name="best-practices-before-upgrading-a-ssnoversion-failover-cluster"></a><a name="BestPractices"></a><span data-ttu-id="09a03-156">Práticas recomendadas antes de atualizar um [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] cluster de failover</span><span class="sxs-lookup"><span data-stu-id="09a03-156">Best Practices Before Upgrading a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Failover Cluster</span></span>  
 <span data-ttu-id="09a03-157">Para eliminar tempo de inatividade inesperado causado por uma reinicialização, pré-instale o pacote de não reinicialização para .NET Framework 4.0 em todos os nós de cluster de failover antes de executar a atualização nos nós de cluster.</span><span class="sxs-lookup"><span data-stu-id="09a03-157">To eliminate unexpected downtime caused by a restart, preinstall the no-reboot package for .NET Framework 4.0 on all the failover cluster nodes before you run the upgrade on the cluster nodes.</span></span> <span data-ttu-id="09a03-158">É recomendável seguir estas etapas para pré-instalar os pré-requisitos:</span><span class="sxs-lookup"><span data-stu-id="09a03-158">We recommend the following steps to preinstall the prerequisites:</span></span>  
  
-   <span data-ttu-id="09a03-159">Instale o pacote de não reinicialização para .NET Framework 4.0 e atualize somente os componentes compartilhados, começando pelos nós passivos.</span><span class="sxs-lookup"><span data-stu-id="09a03-159">Install the no-reboot package for .NET Framework 4.0, and upgrade only the shared components starting with the passive nodes.</span></span> <span data-ttu-id="09a03-160">O [!INCLUDE[dnprdnshort](../../../includes/dnprdnshort-md.md)] 4.0, o Windows Installer 4.5 e os arquivos de suporte do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] serão instalados.</span><span class="sxs-lookup"><span data-stu-id="09a03-160">This installs [!INCLUDE[dnprdnshort](../../../includes/dnprdnshort-md.md)] 4.0, Windows Installer 4.5, and [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] support files.</span></span>  
  
-   <span data-ttu-id="09a03-161">Reinicialize uma ou mais vezes, conforme necessário.</span><span class="sxs-lookup"><span data-stu-id="09a03-161">Restart one or more times, as required.</span></span>  
  
-   <span data-ttu-id="09a03-162">Execute failover em um nó atualizado.</span><span class="sxs-lookup"><span data-stu-id="09a03-162">Fail over to an upgraded node.</span></span>  
  
-   <span data-ttu-id="09a03-163">Atualize os componentes compartilhados no último nó restante.</span><span class="sxs-lookup"><span data-stu-id="09a03-163">Upgrade the shared components on the last remaining node.</span></span>  
  
 <span data-ttu-id="09a03-164">Depois que todos os componentes compartilhados estiverem atualizados e os pré-requisitos estiverem instalados, inicie o processo de atualização do cluster de failover.</span><span class="sxs-lookup"><span data-stu-id="09a03-164">After all the shared components are upgraded and prerequisites are installed, start the failover cluster upgrade process.</span></span> <span data-ttu-id="09a03-165">É necessário executar a atualização em cada nó de cluster de failover, começando primeiro com os nós passivos e abrindo caminho até o nó proprietário do grupo de recursos de cluster.</span><span class="sxs-lookup"><span data-stu-id="09a03-165">You have to run upgrade on each failover cluster node, starting with the passive nodes first and making your way toward the node that owns the cluster resource group.</span></span>  
  
-   <span data-ttu-id="09a03-166">Não é possível adicionar recursos a um cluster de failover existente.</span><span class="sxs-lookup"><span data-stu-id="09a03-166">You cannot add features to an existing failover cluster.</span></span>  
  
-   <span data-ttu-id="09a03-167">A alteração da edição do cluster de failover é limitada a determinados cenários.</span><span class="sxs-lookup"><span data-stu-id="09a03-167">Changing the edition of the failover cluster is limited to certain scenarios.</span></span> <span data-ttu-id="09a03-168">Para obter mais informações, consulte [Atualizações de versão e edição com suporte](../../../database-engine/install-windows/supported-version-and-edition-upgrades.md).</span><span class="sxs-lookup"><span data-stu-id="09a03-168">For more information, see [Supported Version and Edition Upgrades](../../../database-engine/install-windows/supported-version-and-edition-upgrades.md).</span></span>  
  
##  <a name="to-upgrade-a-ssnoversion-failover-cluster"></a><a name="UpgradeSteps"></a> <span data-ttu-id="09a03-169">Para atualizar um cluster de failover do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]</span><span class="sxs-lookup"><span data-stu-id="09a03-169">To Upgrade a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Failover Cluster</span></span>  
  
#### <a name="to-upgrade-a-ssnoversion-failover-cluster"></a><span data-ttu-id="09a03-170">Para atualizar um cluster de failover do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]</span><span class="sxs-lookup"><span data-stu-id="09a03-170">To upgrade a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] failover cluster</span></span>  
  
1.  <span data-ttu-id="09a03-171">Insira a mídia de instalação do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] e, na pasta raiz, clique duas vezes em Setup.exe.</span><span class="sxs-lookup"><span data-stu-id="09a03-171">Insert the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] installation media, and from the root folder, double-click Setup.exe.</span></span> <span data-ttu-id="09a03-172">Para instalar a partir de um compartilhamento de rede, vá para a pasta raiz no compartilhamento e clique duas vezes em Setup.exe.</span><span class="sxs-lookup"><span data-stu-id="09a03-172">To install from a network share, move to the root folder on the share, and then double-click Setup.exe.</span></span> <span data-ttu-id="09a03-173">Talvez você receba uma solicitação para instalar os pré-requisitos, caso eles não tenham sido instalados anteriormente.</span><span class="sxs-lookup"><span data-stu-id="09a03-173">You may be asked to install the prerequisites, if they are not previously installed.</span></span>  
  
2.  > [!IMPORTANT]  
    >  <span data-ttu-id="09a03-174">Para obter mais informações sobre as etapas 3 e 4, consulte a seção [práticas recomendadas antes de atualizar o cluster de failover](#BestPractices) .</span><span class="sxs-lookup"><span data-stu-id="09a03-174">For more information about steps 3 and 4, see the [Best Practices Before Upgrading Failover Cluster](#BestPractices) section.</span></span>  
  
3.  <span data-ttu-id="09a03-175">Após a instalação dos pré-requisitos, o Assistente de Instalação inicia a Central de Instalação do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="09a03-175">After prerequisites are installed, the Installation Wizard starts the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Installation Center.</span></span> <span data-ttu-id="09a03-176">Para atualizar uma instância existente do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] , clique em **Atualizar do [!INCLUDE[ssVersion2005](../../../includes/ssversion2005-md.md)] , [!INCLUDE[ssKatmai](../../../includes/sskatmai-md.md)] , [!INCLUDE[ssKilimanjaro](../../../includes/sskilimanjaro-md.md)] ou [!INCLUDE[ssSQL11](../../../includes/sssql11-md.md)] .**</span><span class="sxs-lookup"><span data-stu-id="09a03-176">To upgrade an existing instance of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)], click **Upgrade from [!INCLUDE[ssVersion2005](../../../includes/ssversion2005-md.md)], [!INCLUDE[ssKatmai](../../../includes/sskatmai-md.md)], [!INCLUDE[ssKilimanjaro](../../../includes/sskilimanjaro-md.md)], or [!INCLUDE[ssSQL11](../../../includes/sssql11-md.md)].**</span></span>  
  
4.  <span data-ttu-id="09a03-177">Se os arquivos de suporte à Instalação forem necessários, a Instalação do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] os instalará.</span><span class="sxs-lookup"><span data-stu-id="09a03-177">If Setup support files are required, [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Setup installs them.</span></span> <span data-ttu-id="09a03-178">Se você for instruído a reiniciar o computador, reinicie-o antes de continuar.</span><span class="sxs-lookup"><span data-stu-id="09a03-178">If you are instructed to restart your computer, restart before you continue.</span></span>  
  
5.  <span data-ttu-id="09a03-179">O Verificador de Configuração do Sistema executa uma operação de descoberta no computador.</span><span class="sxs-lookup"><span data-stu-id="09a03-179">The System Configuration Checker runs a discovery operation on your computer.</span></span> <span data-ttu-id="09a03-180">Para continuar, [!INCLUDE[clickOK](../../../includes/clickok-md.md)].</span><span class="sxs-lookup"><span data-stu-id="09a03-180">To continue, [!INCLUDE[clickOK](../../../includes/clickok-md.md)].</span></span>  
  
6.  <span data-ttu-id="09a03-181">Na página Chave do Produto (Product Key), digite a chave do PID da nova edição da versão correspondente à edição da antiga versão do produto.</span><span class="sxs-lookup"><span data-stu-id="09a03-181">On the Product Key page, enter the PID key for the new version edition that matches the edition of the old product version.</span></span> <span data-ttu-id="09a03-182">Por exemplo, para atualizar um cluster de failover do Enterprise, forneça uma chave do PID do [!INCLUDE[ssEnterprise](../../../includes/ssenterprise-md.md)].</span><span class="sxs-lookup"><span data-stu-id="09a03-182">For example, to upgrade an Enterprise failover cluster, you must supply a PID key for [!INCLUDE[ssEnterprise](../../../includes/ssenterprise-md.md)].</span></span> <span data-ttu-id="09a03-183">Clique em **Avançar** para continuar.</span><span class="sxs-lookup"><span data-stu-id="09a03-183">Click **Next** to continue.</span></span> <span data-ttu-id="09a03-184">Lembre-se de que a chave do PID que você usa para uma atualização de cluster de failover deve ser consistente em todos os nós de cluster de failover na mesma instância do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="09a03-184">Be aware that the PID key that you use for a failover cluster upgrade must be consistent across all failover cluster nodes in the same [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] instance.</span></span> <span data-ttu-id="09a03-185">Para obter mais informações, consulte [edições e componentes do SQL Server 2014](../../editions-and-components-of-sql-server-2016.md) e [atualizações de versão e edição com suporte](../../../database-engine/install-windows/supported-version-and-edition-upgrades.md).</span><span class="sxs-lookup"><span data-stu-id="09a03-185">For more information, see [Editions and Components of SQL Server 2014](../../editions-and-components-of-sql-server-2016.md) and [Supported Version and Edition Upgrades](../../../database-engine/install-windows/supported-version-and-edition-upgrades.md).</span></span>  
  
7.  <span data-ttu-id="09a03-186">Na página Termos de Licença, leia o contrato de licença e marque a caixa de seleção para aceitar os termos e as condições da licença.</span><span class="sxs-lookup"><span data-stu-id="09a03-186">On the License Terms page, read the license agreement, and then select the check box to accept the license terms and conditions.</span></span> <span data-ttu-id="09a03-187">Para ajudar a aperfeiçoar o [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)], você também pode habilitar a opção de uso de recursos e enviar relatórios à [!INCLUDE[msCoName](../../../includes/msconame-md.md)].</span><span class="sxs-lookup"><span data-stu-id="09a03-187">To help improve [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)], you can also enable the feature usage option and send reports to [!INCLUDE[msCoName](../../../includes/msconame-md.md)].</span></span> <span data-ttu-id="09a03-188">**Clique em avançar para continuar**.</span><span class="sxs-lookup"><span data-stu-id="09a03-188">**Click Next to continue**.</span></span> <span data-ttu-id="09a03-189">Para finalizar a Instalação, clique em **Cancelar**.</span><span class="sxs-lookup"><span data-stu-id="09a03-189">To end Setup, click **Cancel**.</span></span>  
  
8.  <span data-ttu-id="09a03-190">Na página Selecionar Instância, especifique a instância do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] a ser atualizada para o [!INCLUDE[ssSQL14](../../../includes/sssql14-md.md)].</span><span class="sxs-lookup"><span data-stu-id="09a03-190">On the Select Instance page, specify the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] instance to upgrade to [!INCLUDE[ssSQL14](../../../includes/sssql14-md.md)].</span></span> <span data-ttu-id="09a03-191">**Clique em avançar para continuar**.</span><span class="sxs-lookup"><span data-stu-id="09a03-191">**Click Next to continue**.</span></span>  
  
9. <span data-ttu-id="09a03-192">Na página Seleção de Recursos, os recursos a serem atualizados estão pré-selecionados.</span><span class="sxs-lookup"><span data-stu-id="09a03-192">On the Feature Selection page, the features to upgrade are preselected.</span></span> <span data-ttu-id="09a03-193">Uma descrição de cada grupo de componentes é exibida no painel à direita depois que você seleciona o nome do recurso.</span><span class="sxs-lookup"><span data-stu-id="09a03-193">A description for each component group appears in the right pane after you select the feature name.</span></span> <span data-ttu-id="09a03-194">Lembre-se de que você não pode alterar os recursos a serem atualizados, nem adicionar recursos durante a operação de atualização.</span><span class="sxs-lookup"><span data-stu-id="09a03-194">Be aware that you cannot change the features to be upgraded, and you cannot add features during the upgrade operation.</span></span> <span data-ttu-id="09a03-195">Para adicionar recursos a uma instância atualizada do [!INCLUDE[ssSQL14](../../../includes/sssql14-md.md)] após a conclusão da operação de atualização, consulte [Adicionar recursos a uma instância do SQL Server 2014 &#40;instalação&#41;](../../../database-engine/install-windows/add-features-to-an-instance-of-sql-server-setup.md).</span><span class="sxs-lookup"><span data-stu-id="09a03-195">To add features to an upgraded instance of [!INCLUDE[ssSQL14](../../../includes/sssql14-md.md)] after the upgrade operation is complete, see [Add Features to an Instance of SQL Server 2014 &#40;Setup&#41;](../../../database-engine/install-windows/add-features-to-an-instance-of-sql-server-setup.md).</span></span>  
  
     <span data-ttu-id="09a03-196">Os pré-requisitos dos recursos selecionados são exibidos no painel à direita.</span><span class="sxs-lookup"><span data-stu-id="09a03-196">The prerequisites for the selected features are displayed on the right-hand pane.</span></span> <span data-ttu-id="09a03-197">A Instalação do SQL Server instalará os pré-requisitos que ainda não estiverem instalados durante a etapa descrita posteriormente neste procedimento.</span><span class="sxs-lookup"><span data-stu-id="09a03-197">SQL Server Setup will install the prerequisite that are not already installed during the installation step described later in this procedure.</span></span>  
  
10. <span data-ttu-id="09a03-198">Na página Configuração da Instância, os campos são preenchidos automaticamente a partir da instância antiga.</span><span class="sxs-lookup"><span data-stu-id="09a03-198">On the Instance Configuration page, fields are automatically populated from the old instance.</span></span> <span data-ttu-id="09a03-199">Você pode optar por especificar o novo valor de InstanceID.</span><span class="sxs-lookup"><span data-stu-id="09a03-199">You can choose to specify the new InstanceID value.</span></span>  
  
     <span data-ttu-id="09a03-200">**ID da Instância** – Por padrão, o nome da instância é usado como a ID da Instância.</span><span class="sxs-lookup"><span data-stu-id="09a03-200">**Instance ID** - By default, the instance name is used as the Instance ID.</span></span> <span data-ttu-id="09a03-201">Isso é usado para identificar os diretórios de instalação e as chaves do Registro da sua instância do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="09a03-201">This is used to identify installation directories and registry keys for your instance of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="09a03-202">Esse é o caso para instâncias padrão e instâncias nomeadas.</span><span class="sxs-lookup"><span data-stu-id="09a03-202">This is the case for default instances and named instances.</span></span> <span data-ttu-id="09a03-203">Para uma instância padrão, o nome de instância e o ID da instância seriam MSSQLSERVER.</span><span class="sxs-lookup"><span data-stu-id="09a03-203">For a default instance, the instance name and instance ID would be MSSQLSERVER.</span></span> <span data-ttu-id="09a03-204">Para usar uma ID de instância não padrão, marque a caixa de seleção **ID da Instância** e forneça um valor.</span><span class="sxs-lookup"><span data-stu-id="09a03-204">To use a nondefault instance ID, select the **Instance ID** check box and provide a value.</span></span> <span data-ttu-id="09a03-205">Se você substituir o valor padrão, deverá especificar a mesma ID de Instância para a instância que está sendo atualizada em todos os nós de cluster de failover.</span><span class="sxs-lookup"><span data-stu-id="09a03-205">If you override the default value, you must specify the same Instance ID for the instance being upgraded on all the failover cluster nodes.</span></span> <span data-ttu-id="09a03-206">A ID da Instância atualizada deve coincidir em todos os nós.</span><span class="sxs-lookup"><span data-stu-id="09a03-206">The Instance ID for the upgraded instance must match across the nodes.</span></span>  
  
     <span data-ttu-id="09a03-207">**Instâncias e recursos detectados** -a grade mostra as instâncias do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] que estão no computador em que a instalação está sendo executada.</span><span class="sxs-lookup"><span data-stu-id="09a03-207">**Detected instances and features** - The grid shows instances of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] that are on the computer where Setup is running.</span></span> <span data-ttu-id="09a03-208">**Clique em avançar para continuar**.</span><span class="sxs-lookup"><span data-stu-id="09a03-208">**Click Next to continue**.</span></span>  
  
11. <span data-ttu-id="09a03-209">A página Requisitos de Espaço em Disco calcula o espaço em disco necessário para os recursos especificados e compara os requisitos com o espaço em disco disponível no computador onde a Instalação está sendo executada.</span><span class="sxs-lookup"><span data-stu-id="09a03-209">The Disk Space Requirements page calculates the required disk space for the features that you specify, and compares requirements to the available disk space on the computer where Setup is running.</span></span>  
  
12. <span data-ttu-id="09a03-210">Na página Atualização da Pesquisa de Texto Completo, especifique as opções de atualização para os bancos de dados que estão sendo atualizados.</span><span class="sxs-lookup"><span data-stu-id="09a03-210">On the Full-Text Search Upgrade page, specify the upgrade options for the databases being upgraded.</span></span> <span data-ttu-id="09a03-211">Para obter mais informações, veja [Opções de atualização da Pesquisa de Texto Completo](../../install/full-text-search-upgrade-options.md).</span><span class="sxs-lookup"><span data-stu-id="09a03-211">For more information, see [Full-Text Search Upgrade Options](../../install/full-text-search-upgrade-options.md).</span></span>  
  
13. <span data-ttu-id="09a03-212">Na página **Relatório de Erros** , especifique as informações que deseja enviar à [!INCLUDE[msCoName](../../../includes/msconame-md.md)] que ajudarão a aperfeiçoar o [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="09a03-212">On the **Error Reporting** page, specify the information that you want to send to [!INCLUDE[msCoName](../../../includes/msconame-md.md)] that will help improve [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="09a03-213">Por padrão, as opções de relatório de erros estão habilitadas.</span><span class="sxs-lookup"><span data-stu-id="09a03-213">By default, options for error reporting is enabled.</span></span>  
  
14. <span data-ttu-id="09a03-214">O Verificador de Configuração do Sistema executa mais um conjunto de regras para validar a configuração do computador com os recursos do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] especificados antes do início da operação de atualização.</span><span class="sxs-lookup"><span data-stu-id="09a03-214">The System Configuration Checker runs one more set of rules to validate your computer configuration with the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] features that you have specified, before the upgrade operation begins.</span></span>  
  
15. <span data-ttu-id="09a03-215">A página Relatório de Atualização de Cluster exibe a lista de nós na instância de cluster de failover e as informações de versão de instância dos componentes do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] em cada nó.</span><span class="sxs-lookup"><span data-stu-id="09a03-215">The Cluster Upgrade Report page displays the list of nodes in the failover cluster instance and the instance version information for [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] components on each node.</span></span> <span data-ttu-id="09a03-216">Ela exibe o status do script de banco de dados e o status do script de replicação.</span><span class="sxs-lookup"><span data-stu-id="09a03-216">It displays the database script status and replication script status.</span></span> <span data-ttu-id="09a03-217">Além disso, ela também exibe mensagens informativas sobre o que ocorrerá quando você clicar em **Avançar**.</span><span class="sxs-lookup"><span data-stu-id="09a03-217">In addition, it also displays informational messages on what will occur when you click **Next**.</span></span> <span data-ttu-id="09a03-218">Dependendo do número de nós de cluster de failover que já foram atualizados e do número total de nós, a instalação exibirá o comportamento de failover que ocorre quando você clica em **Avançar**.</span><span class="sxs-lookup"><span data-stu-id="09a03-218">Depending on the number of failover cluster nodes that have already been upgraded and total number of nodes, Setup displays the failover behavior that happens when you click **Next**.</span></span> <span data-ttu-id="09a03-219">Ela também avisará sobre o tempo de inatividade potencialmente desnecessário se você ainda já não tiver instalado os pré-requisitos.</span><span class="sxs-lookup"><span data-stu-id="09a03-219">It also warns about potential unnecessary downtime if you have not installed the prerequisites already.</span></span>  
  
16. <span data-ttu-id="09a03-220">A página Pronto para Atualizar mostra uma exibição de árvore das opções de instalação que foram especificadas durante a Instalação.</span><span class="sxs-lookup"><span data-stu-id="09a03-220">The Ready to Upgrade page displays a tree view of installation options that were specified during Setup.</span></span> <span data-ttu-id="09a03-221">Para continuar, clique em **Atualizar**.</span><span class="sxs-lookup"><span data-stu-id="09a03-221">To continue, click **Upgrade**.</span></span> [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] <span data-ttu-id="09a03-222">A Instalação instalará primeiro os pré-requisitos exigidos para os recursos selecionados, seguidos da instalação dos recursos.</span><span class="sxs-lookup"><span data-stu-id="09a03-222">Setup will first install the required prerequisites for the selected features followed by the feature installation.</span></span>  
  
17. <span data-ttu-id="09a03-223">Durante a atualização, a página Progresso fornece o status para que você possa monitorar o progresso da atualização no nó atual enquanto a Instalação continua.</span><span class="sxs-lookup"><span data-stu-id="09a03-223">During upgrade, the Progress page provides status so that you can monitor the upgrade progress on the current node as Setup continues.</span></span>  
  
18. <span data-ttu-id="09a03-224">Depois da atualização do nó atual, a página Relatório de Atualização de Cluster exibe informações sobre o status da atualização de todos os nós de cluster de failover, dos recursos em cada nó de cluster de failover e informações sobre as versões correspondentes.</span><span class="sxs-lookup"><span data-stu-id="09a03-224">After the upgrade of the current node, the Cluster Upgrade Report page displays an upgrade status information for all the failover cluster nodes, features on each failover cluster node, and their version information.</span></span> <span data-ttu-id="09a03-225">Confirme a informações sobre versão exibidas e continue com a atualização dos nós restantes.</span><span class="sxs-lookup"><span data-stu-id="09a03-225">Confirm the version information that is displayed and continue with the upgrade of the remaining nodes.</span></span> <span data-ttu-id="09a03-226">Se o failover em nós atualizados tiver ocorrido, isso também será aparente na página de status.</span><span class="sxs-lookup"><span data-stu-id="09a03-226">If the failover to upgraded nodes occurred, this is also apparent on the status page.</span></span> <span data-ttu-id="09a03-227">Você também pode verificar na ferramenta do administrador de Cluster do Windows para confirmar.</span><span class="sxs-lookup"><span data-stu-id="09a03-227">You can also check in the Windows Cluster administrator tool to confirm.</span></span>  
  
19. <span data-ttu-id="09a03-228">Depois da atualização, a página Concluído fornece um link para o arquivo de log de resumo da instalação e outras observações importantes.</span><span class="sxs-lookup"><span data-stu-id="09a03-228">After upgrade, the Complete page provides a link to the summary log file for the installation and other important notes.</span></span> <span data-ttu-id="09a03-229">Para concluir o processo de instalação do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] , clique em **Fechar**.</span><span class="sxs-lookup"><span data-stu-id="09a03-229">To complete the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] installation process, click **Close**.</span></span>  
  
20. <span data-ttu-id="09a03-230">Se você for instruído a reiniciar o computador, faça-o agora.</span><span class="sxs-lookup"><span data-stu-id="09a03-230">If you are instructed to restart the computer, do so now.</span></span> <span data-ttu-id="09a03-231">É importante ler a mensagem do Assistente de Instalação ao concluir a Instalação.</span><span class="sxs-lookup"><span data-stu-id="09a03-231">It is important to read the message from the Installation Wizard when you have finished with Setup.</span></span> <span data-ttu-id="09a03-232">Para obter mais informações sobre os arquivos de log da Instalação, veja [Exibir e ler arquivos de log da Instalação do SQL Server](../../../database-engine/install-windows/view-and-read-sql-server-setup-log-files.md).</span><span class="sxs-lookup"><span data-stu-id="09a03-232">For more information about Setup log files, see [View and Read SQL Server Setup Log Files](../../../database-engine/install-windows/view-and-read-sql-server-setup-log-files.md).</span></span>  
  
21. <span data-ttu-id="09a03-233">Para concluir o processo de atualização, repita as etapas de 1 a 21 em todos os outros nós no cluster de failover do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="09a03-233">To complete the upgrade process, repeat steps 1 to 21 on all the other nodes on the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] failover cluster.</span></span>  
  
## <a name="to-upgrade-a-ssnoversion-multi-subnet-failover-cluster"></a><span data-ttu-id="09a03-234">Para atualizar um cluster de failover de várias sub-redes do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]</span><span class="sxs-lookup"><span data-stu-id="09a03-234">To upgrade a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Multi-Subnet Failover Cluster</span></span>  
  
#### <a name="to-upgrade-to-a-ssnoversion-multi-subnet-failover-cluster-existing-ssnoversion-cluster-is-a-non-multi-subnet-cluster"></a><span data-ttu-id="09a03-235">Para atualizar para um cluster de failover de várias sub-redes do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] (o cluster existente do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] não é um cluster de várias sub-redes).</span><span class="sxs-lookup"><span data-stu-id="09a03-235">To upgrade to a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] multi-subnet failover Cluster (Existing [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] cluster is a non multi-subnet cluster).</span></span>  
  
1.  <span data-ttu-id="09a03-236">Siga as etapas de 1 a 24 descritas na seção [para atualizar um cluster de failover SQL Server](#UpgradeSteps) acima para atualizar o cluster para o [!INCLUDE[ssSQL14](../../../includes/sssql14-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="09a03-236">Follow the steps 1 through 24 described in the [To upgrade a SQL Server failover cluster](#UpgradeSteps) section above to upgrade your cluster to [!INCLUDE[ssSQL14](../../../includes/sssql14-md.md)].</span></span>  
  
2.  <span data-ttu-id="09a03-237">Adicione um nó a uma sub-rede diferente usando a ação de Instalação AddNode e confirme a dependência do recurso de endereço IP para OR na página **Configuração de rede de cluster** .</span><span class="sxs-lookup"><span data-stu-id="09a03-237">Add a node on a different subnet using the AddNode Setup action and confirm the IP address resource dependency to OR on the **Cluster Network Configuration** page.</span></span> <span data-ttu-id="09a03-238">Para obter mais informações, consulte [Adicionar ou remover nós em um cluster de Failover SQL Server &#40;instalação&#41;](../install/add-or-remove-nodes-in-a-sql-server-failover-cluster-setup.md).</span><span class="sxs-lookup"><span data-stu-id="09a03-238">For more information, see [Add or Remove Nodes in a SQL Server Failover Cluster &#40;Setup&#41;](../install/add-or-remove-nodes-in-a-sql-server-failover-cluster-setup.md).</span></span>  
  
#### <a name="to-upgrade-a-multi-subnet-cluster-currently-using-stretch-v-lan"></a><span data-ttu-id="09a03-239">Para atualizar um cluster de várias sub-redes que use atualmente V-Lan expansível.</span><span class="sxs-lookup"><span data-stu-id="09a03-239">To upgrade a multi-subnet cluster currently using Stretch V-Lan.</span></span>  
  
1.  <span data-ttu-id="09a03-240">Siga as etapas de 1 a 24 descritas na seção [para atualizar um cluster de failover SQL Server](#UpgradeSteps) acima para atualizar o cluster para o [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="09a03-240">Follow the steps 1 through 24 described in the [To upgrade a SQL Server failover cluster](#UpgradeSteps) section above to upgrade your cluster to [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)].</span></span>  
  
2.  <span data-ttu-id="09a03-241">Altere as configurações de rede para mover o nó remoto para uma sub-rede diferente.</span><span class="sxs-lookup"><span data-stu-id="09a03-241">Change the network settings to move the remote node to a different subnet.</span></span>  
  
3.  <span data-ttu-id="09a03-242">Com a ferramenta de gerenciamento de Cluster de Failover do Windows, adicione um novo endereço IP à nova sub-rede e defina a dependência do recurso de endereço IP como OR.</span><span class="sxs-lookup"><span data-stu-id="09a03-242">Using the Windows Failover Cluster management tool, add a new IP address for the new subnet set the IP address resource dependency to OR.</span></span>  
  
## <a name="next-steps"></a><span data-ttu-id="09a03-243">Próximas etapas</span><span class="sxs-lookup"><span data-stu-id="09a03-243">Next Steps</span></span>  
 <span data-ttu-id="09a03-244">Depois de atualizar para o [!INCLUDE[ssSQL14](../../../includes/sssql14-md.md)], conclua as seguintes tarefas:</span><span class="sxs-lookup"><span data-stu-id="09a03-244">After you upgrade to [!INCLUDE[ssSQL14](../../../includes/sssql14-md.md)], complete the following tasks:</span></span>  
  
-   <span data-ttu-id="09a03-245">Registre os servidores</span><span class="sxs-lookup"><span data-stu-id="09a03-245">Register your servers</span></span>  
  
     <span data-ttu-id="09a03-246">A atualização remove as configurações do Registro da instância do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] anterior.</span><span class="sxs-lookup"><span data-stu-id="09a03-246">Upgrade removes registry settings for the previous [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] instance.</span></span> <span data-ttu-id="09a03-247">Depois de atualizar, você deve registrar os servidores novamente.</span><span class="sxs-lookup"><span data-stu-id="09a03-247">After you upgrade, you must reregister your servers.</span></span>  
  
-   <span data-ttu-id="09a03-248">Atualizar estatísticas</span><span class="sxs-lookup"><span data-stu-id="09a03-248">Update statistics</span></span>  
  
     <span data-ttu-id="09a03-249">Para ajudar a otimizar o desempenho de consultas, é recomendável atualizar as estatísticas em todos os bancos de dados após a atualização.</span><span class="sxs-lookup"><span data-stu-id="09a03-249">To help optimize query performance, we recommend that you update statistics on all databases following upgrade.</span></span> <span data-ttu-id="09a03-250">Use o procedimento armazenado **sp_updatestats** para atualizar as estatísticas em tabelas definidas pelo usuário nos bancos de dados do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="09a03-250">Use the **sp_updatestats** stored procedure to update statistics in user-defined tables in [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] databases.</span></span>  
  
-   <span data-ttu-id="09a03-251">Configure a nova instalação do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]</span><span class="sxs-lookup"><span data-stu-id="09a03-251">Configure your new [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] installation</span></span>  
  
     <span data-ttu-id="09a03-252">Para reduzir a área da superfície de um sistema vulnerável a ataques, o [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] instala e habilita seletivamente serviços e recursos essenciais.</span><span class="sxs-lookup"><span data-stu-id="09a03-252">To reduce the attackable surface area of a system, [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] selectively installs and enables key services and features.</span></span> <span data-ttu-id="09a03-253">Para obter mais informações sobre a configuração da área de superfície, consulte o arquivo leiame desta versão.</span><span class="sxs-lookup"><span data-stu-id="09a03-253">For more information about surface area configuration, see the readme file for this release.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="09a03-254">Consulte Também</span><span class="sxs-lookup"><span data-stu-id="09a03-254">See Also</span></span>  
 <span data-ttu-id="09a03-255">[Instalar o SQL Server 2014 no prompt de comando](../../../database-engine/install-windows/install-sql-server-from-the-command-prompt.md) </span><span class="sxs-lookup"><span data-stu-id="09a03-255">[Install SQL Server 2014 from the Command Prompt](../../../database-engine/install-windows/install-sql-server-from-the-command-prompt.md) </span></span>  
 [<span data-ttu-id="09a03-256">Exibir e ler arquivos de log da Instalação do SQL Server</span><span class="sxs-lookup"><span data-stu-id="09a03-256">View and Read SQL Server Setup Log Files</span></span>](../../../database-engine/install-windows/view-and-read-sql-server-setup-log-files.md)  
  
  
