---
title: Tarefa Serviço Web | Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: integration-services
ms.topic: conceptual
f1_keywords:
- sql12.dts.designer.webservicetask.f1
helpviewer_keywords:
- Web Service task [Integration Services]
ms.assetid: 5c7206f1-7d6a-4923-8dff-3c4912da4157
author: chugugrace
ms.author: chugu
ms.openlocfilehash: 1a2f719a6fb0076a3bb286865199a9cf6a008d32
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87570802"
---
# <a name="web-service-task"></a><span data-ttu-id="c3560-102">Tarefa Serviços Web</span><span class="sxs-lookup"><span data-stu-id="c3560-102">Web Service Task</span></span>
  <span data-ttu-id="c3560-103">A tarefa Serviço Web executa um método de serviço Web.</span><span class="sxs-lookup"><span data-stu-id="c3560-103">The Web Service task executes a Web service method.</span></span> <span data-ttu-id="c3560-104">Você pode usar essa tarefa para os seguintes propósitos:</span><span class="sxs-lookup"><span data-stu-id="c3560-104">You can use the Web Service task for the following purposes:</span></span>  
  
-   <span data-ttu-id="c3560-105">Gravar em uma variável os valores retornados pelo método de serviço da Web.</span><span class="sxs-lookup"><span data-stu-id="c3560-105">Writing to a variable the values that a Web service method returns.</span></span> <span data-ttu-id="c3560-106">Por exemplo, você pode obter a temperatura mais alta do dia a partir do método de serviço da Web e, em seguida, pode utilizar esse valor para atualizar uma variável usada em uma expressão que define um valor de coluna.</span><span class="sxs-lookup"><span data-stu-id="c3560-106">For example, you could obtain the highest temperature of the day from a Web service method, and then use that value to update a variable that is used in an expression that sets a column value.</span></span>  
  
-   <span data-ttu-id="c3560-107">Gravar em um arquivo os valores retornados pelo método de serviço da Web.</span><span class="sxs-lookup"><span data-stu-id="c3560-107">Writing to a file the values that a Web service method returns.</span></span> <span data-ttu-id="c3560-108">Por exemplo, uma lista de clientes potenciais pode ser gravada em um arquivo e o arquivo pode ser usado depois como fonte de dados em um pacote que limpa os dados antes de gravá-los em um banco de dados.</span><span class="sxs-lookup"><span data-stu-id="c3560-108">For example, a list of potential customers can be written to a file and the file then used as a data source in a package that cleans the data before it is written to a database.</span></span>  
  
## <a name="wsdl-file"></a><span data-ttu-id="c3560-109">Arquivo WSDL</span><span class="sxs-lookup"><span data-stu-id="c3560-109">WSDL File</span></span>  
 <span data-ttu-id="c3560-110">A tarefa Serviço da Web utiliza um gerenciador de conexões HTTP para se conectar ao serviço da Web.</span><span class="sxs-lookup"><span data-stu-id="c3560-110">The Web Service task uses an HTTP connection manager to connect to the Web service.</span></span> <span data-ttu-id="c3560-111">O gerenciador de conexões HTTP é configurado separadamente da tarefa Serviço da Web e é mencionado na tarefa.</span><span class="sxs-lookup"><span data-stu-id="c3560-111">The HTTP connection manager is configured separately from the Web Service task, and is referenced in the task.</span></span> <span data-ttu-id="c3560-112">O gerenciador de conexões HTTP especifica as configurações de proxy do servidor como o URL do servidor, as credenciais para acessar o servidor de serviços da Web e a duração do tempo limite.</span><span class="sxs-lookup"><span data-stu-id="c3560-112">The HTTP connection manager specifies the server proxy settings such as the server URL, credentials for accessing the Web services server, and time-out length.</span></span> <span data-ttu-id="c3560-113">Para obter mais informações, consulte [Gerenciador de Conexões HTTP](../connection-manager/http-connection-manager.md).</span><span class="sxs-lookup"><span data-stu-id="c3560-113">For more information, see [HTTP Connection Manager](../connection-manager/http-connection-manager.md).</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="c3560-114">O gerenciador de conexões HTTP dá suporte apenas para autenticação anônima e autenticação básica.</span><span class="sxs-lookup"><span data-stu-id="c3560-114">The HTTP connection manager supports only anonymous authentication and basic authentication.</span></span> <span data-ttu-id="c3560-115">Ele não suporta a Autenticação do Windows.</span><span class="sxs-lookup"><span data-stu-id="c3560-115">It does not support Windows Authentication.</span></span>  
  
 <span data-ttu-id="c3560-116">O gerenciador de conexões HTTP pode apontar para um site da Web ou para um arquivo WSDL (Web Service Description Language).</span><span class="sxs-lookup"><span data-stu-id="c3560-116">The HTTP connection manager can point to a Web site or to a Web Service Description Language (WSDL) file.</span></span> <span data-ttu-id="c3560-117">O URL do gerenciador de conexões HTTP que aponta para um arquivo WSDL inclui o parâmetro `?WSDL` : por exemplo, `http://MyServer/MyWebService/MyPage.asmx?WSDL`.</span><span class="sxs-lookup"><span data-stu-id="c3560-117">The URL of the HTTP connection manager that points to a WSDL file includes the `?WSDL` parameter: for example, `http://MyServer/MyWebService/MyPage.asmx?WSDL`.</span></span>  
  
 <span data-ttu-id="c3560-118">O arquivo WSDL deve estar disponível localmente para configurar a tarefa Serviço da Web usando a caixa de diálogo **Editor da Tarefa Serviço da Web** que o Designer [!INCLUDE[ssIS](../../includes/ssis-md.md)] fornece.</span><span class="sxs-lookup"><span data-stu-id="c3560-118">The WSDL file must be available locally to configure the Web Service task using the **Web Service Task Editor** dialog box that [!INCLUDE[ssIS](../../includes/ssis-md.md)] Designer provides.</span></span>  
  
-   <span data-ttu-id="c3560-119">Se o gerenciador de conexões HTTP apontar para um site da Web, o arquivo WSDL deve ser copiado manualmente em um computador local.</span><span class="sxs-lookup"><span data-stu-id="c3560-119">If the HTTP connection manager points to a Web site, the WSDL file must be copied manually to a local computer.</span></span>  
  
-   <span data-ttu-id="c3560-120">Se o gerenciador de conexões HTTP apontar para um arquivo WSDL, o arquivo poderá ser baixado de um site para um arquivo local através da tarefa Serviço da Web.</span><span class="sxs-lookup"><span data-stu-id="c3560-120">If the HTTP connection manager points to a WSDL file, the file can be downloaded from the Web site to a local file by the Web Service task.</span></span>  
  
 <span data-ttu-id="c3560-121">O arquivo WSDL lista os métodos oferecidos pelo serviço da Web, os parâmetros de entrada necessários para os métodos, as respostas que os métodos retornam e como comunicar-se com o serviço da Web.</span><span class="sxs-lookup"><span data-stu-id="c3560-121">The WSDL file lists the methods that the Web service offers, the input parameters that the methods require, the responses that the methods return, and how to communicate with the Web service.</span></span>  
  
 <span data-ttu-id="c3560-122">Se o método utilizar parâmetros de entrada, a tarefa Serviço da Web necessitará de valores de parâmetro.</span><span class="sxs-lookup"><span data-stu-id="c3560-122">If the method uses input parameters, the Web Service task requires parameter values.</span></span> <span data-ttu-id="c3560-123">Por exemplo, um método de serviço da Web que recomenda o comprimento dos esquis que você deve comprar com base em sua altura requer que sua altura seja apresentada em um parâmetro de entrada.</span><span class="sxs-lookup"><span data-stu-id="c3560-123">For example, a Web service method that recommends the length of skis you should purchase based on your height requires that your height be submitted in an input parameter.</span></span> <span data-ttu-id="c3560-124">Os valores de parâmetro podem ser fornecidos por uma cadeia de caracteres definida na tarefa, por variáveis definidas no escopo da tarefa ou por um contêiner pai.</span><span class="sxs-lookup"><span data-stu-id="c3560-124">The parameter values can be provided either by strings that are defined in the task, or by variables defined in the scope of the task or a parent container.</span></span> <span data-ttu-id="c3560-125">Usar variáveis é vantajoso porque elas permitem a atualização dinâmica de valores de parâmetro por meio de configurações de pacote ou scripts.</span><span class="sxs-lookup"><span data-stu-id="c3560-125">The advantage of using variables is that they let you dynamically update the parameter values by using package configurations or scripts.</span></span> <span data-ttu-id="c3560-126">Para obter mais informações, consulte [Variáveis do Integration Services &#40;SSIS&#41;](../integration-services-ssis-variables.md) e [Configurações de pacote](../package-configurations.md).</span><span class="sxs-lookup"><span data-stu-id="c3560-126">For more information, see [Integration Services &#40;SSIS&#41; Variables](../integration-services-ssis-variables.md) and [Package Configurations](../package-configurations.md).</span></span>  
  
 <span data-ttu-id="c3560-127">Muitos métodos de serviço da Web não utilizam parâmetros de entrada.</span><span class="sxs-lookup"><span data-stu-id="c3560-127">Many Web service methods do not use input parameters.</span></span> <span data-ttu-id="c3560-128">Por exemplo, um método de serviço da Web que busca nomes de presidentes que nasceram no mês atual não exigirá um parâmetro de entrada porque o serviço da Web pode determinar o mês atual localmente.</span><span class="sxs-lookup"><span data-stu-id="c3560-128">For example, a Web service method that gets the names of presidents who were born in the current month would not require an input parameter because the Web service can determine the current month locally.</span></span>  
  
 <span data-ttu-id="c3560-129">Os resultados do método de serviço da Web podem ser gravados em uma variável ou em um arquivo.</span><span class="sxs-lookup"><span data-stu-id="c3560-129">The results of the Web service method can be written to a variable or to a file.</span></span> <span data-ttu-id="c3560-130">Use o gerenciador de conexões de arquivos para especificar o arquivo ou fornecer o nome da variável na qual os resultados serão gravados.</span><span class="sxs-lookup"><span data-stu-id="c3560-130">You use the File connection manager either to specify the file or to provide the name of the variable to write the results to.</span></span> <span data-ttu-id="c3560-131">Para obter mais informações, consulte [Gerenciador de Conexões de Arquivos](../connection-manager/file-connection-manager.md) e [Variáveis do Integration Services &#40;SSIS&#41;](../integration-services-ssis-variables.md).</span><span class="sxs-lookup"><span data-stu-id="c3560-131">For more information, see [File Connection Manager](../connection-manager/file-connection-manager.md) and [Integration Services &#40;SSIS&#41; Variables](../integration-services-ssis-variables.md).</span></span>  
  
## <a name="custom-logging-messages-available-on-the-web-service-task"></a><span data-ttu-id="c3560-132">Mensagens de log personalizadas disponíveis na tarefa Serviço da Web</span><span class="sxs-lookup"><span data-stu-id="c3560-132">Custom Logging Messages Available on the Web Service Task</span></span>  
 <span data-ttu-id="c3560-133">A tabela a seguir relaciona as entradas de log personalizadas que podem ser habilitadas para a tarefa Serviço da Web.</span><span class="sxs-lookup"><span data-stu-id="c3560-133">The following table lists the custom log entries that you can enable for the Web Service task.</span></span> <span data-ttu-id="c3560-134">Para obter mais informações, consulte [Log do SSIS &#40;Integration Services&#41;](../performance/integration-services-ssis-logging.md) e [Mensagens personalizadas para log](../custom-messages-for-logging.md).</span><span class="sxs-lookup"><span data-stu-id="c3560-134">For more information, see [Integration Services &#40;SSIS&#41; Logging](../performance/integration-services-ssis-logging.md) and [Custom Messages for Logging](../custom-messages-for-logging.md).</span></span>  
  
|<span data-ttu-id="c3560-135">Entrada de log</span><span class="sxs-lookup"><span data-stu-id="c3560-135">Log entry</span></span>|<span data-ttu-id="c3560-136">Descrição</span><span class="sxs-lookup"><span data-stu-id="c3560-136">Description</span></span>|  
|---------------|-----------------|  
|`WSTaskBegin`|<span data-ttu-id="c3560-137">A tarefa começou a acessar um serviço Web.</span><span class="sxs-lookup"><span data-stu-id="c3560-137">The task began to access a Web service.</span></span>|  
|`WSTaskEnd`|<span data-ttu-id="c3560-138">A tarefa completou um método de serviço Web.</span><span class="sxs-lookup"><span data-stu-id="c3560-138">The task completed a Web service method.</span></span>|  
|`WSTaskInfo`|<span data-ttu-id="c3560-139">Informações descritivas sobre a tarefa.</span><span class="sxs-lookup"><span data-stu-id="c3560-139">Descriptive information about the task.</span></span>|  
  
## <a name="configuration-of-the-web-service-task"></a><span data-ttu-id="c3560-140">Configuração da tarefa Serviço Web</span><span class="sxs-lookup"><span data-stu-id="c3560-140">Configuration of the Web Service Task</span></span>  
 <span data-ttu-id="c3560-141">Você pode definir propriedades pelo Designer do [!INCLUDE[ssIS](../../includes/ssis-md.md)] ou programaticamente.</span><span class="sxs-lookup"><span data-stu-id="c3560-141">You can set properties through [!INCLUDE[ssIS](../../includes/ssis-md.md)] Designer or programmatically.</span></span>  
  
 <span data-ttu-id="c3560-142">Para obter mais informações sobre as propriedades que podem ser definidas no [!INCLUDE[ssIS](../../includes/ssis-md.md)] Designer, clique em um dos seguintes tópicos:</span><span class="sxs-lookup"><span data-stu-id="c3560-142">For more information about the properties that you can set in [!INCLUDE[ssIS](../../includes/ssis-md.md)] Designer, click one of the following topics:</span></span>  
  
-   [<span data-ttu-id="c3560-143">Editor da Tarefa Serviço da Web &#40;Página Geral&#41;</span><span class="sxs-lookup"><span data-stu-id="c3560-143">Web Service Task Editor &#40;General Page&#41;</span></span>](../general-page-of-integration-services-designers-options.md)  
  
-   [<span data-ttu-id="c3560-144">Editor da Tarefa Serviço Web &#40;Página Entrada&#41;</span><span class="sxs-lookup"><span data-stu-id="c3560-144">Web Service Task Editor &#40;Input Page&#41;</span></span>](../web-service-task-editor-input-page.md)  
  
-   [<span data-ttu-id="c3560-145">Editor da Tarefa Serviço Web &#40;Página Saída&#41;</span><span class="sxs-lookup"><span data-stu-id="c3560-145">Web Service Task Editor &#40;Output Page&#41;</span></span>](../web-service-task-editor-output-page.md)  
  
-   [<span data-ttu-id="c3560-146">Página Expressões</span><span class="sxs-lookup"><span data-stu-id="c3560-146">Expressions Page</span></span>](../expressions/expressions-page.md)  
  
 <span data-ttu-id="c3560-147">Para obter mais informações sobre como definir essas propriedades no [!INCLUDE[ssIS](../../includes/ssis-md.md)] Designer, clique no tópico a seguir:</span><span class="sxs-lookup"><span data-stu-id="c3560-147">For more information about how to set these properties in [!INCLUDE[ssIS](../../includes/ssis-md.md)] Designer, click the following topic:</span></span>  
  
-   [<span data-ttu-id="c3560-148">Definir as propriedades de uma tarefa ou contêiner</span><span class="sxs-lookup"><span data-stu-id="c3560-148">Set the Properties of a Task or Container</span></span>](../set-the-properties-of-a-task-or-container.md)  
  
## <a name="programmatic-configuration-of-the-web-service-task"></a><span data-ttu-id="c3560-149">Configuração programática da tarefa Serviço Web</span><span class="sxs-lookup"><span data-stu-id="c3560-149">Programmatic Configuration of the Web Service Task</span></span>  
 <span data-ttu-id="c3560-150">Para obter mais informações sobre como definir essas propriedades programaticamente, clique em um dos tópicos a seguir:</span><span class="sxs-lookup"><span data-stu-id="c3560-150">For more information about programmatically setting these properties, click one of the following topics:</span></span>  
  
-   <xref:Microsoft.SqlServer.Dts.Tasks.WebServiceTask.WebServiceTask>  
  
## <a name="related-content"></a><span data-ttu-id="c3560-151">Conteúdo relacionado</span><span class="sxs-lookup"><span data-stu-id="c3560-151">Related Content</span></span>  
 <span data-ttu-id="c3560-152">Vídeo, [Como chamar um serviço Web usando a tarefa Serviço da Web (vídeo do SQL Server)](https://go.microsoft.com/fwlink/?LinkId=259642), no technet.microsoft.com.</span><span class="sxs-lookup"><span data-stu-id="c3560-152">Video, [How to: Call a Web Service by Using the Web Service Task (SQL Server Video)](https://go.microsoft.com/fwlink/?LinkId=259642), on technet.microsoft.com.</span></span>  
  
 <span data-ttu-id="c3560-153">[Como consumir o serviço Web por meio do pacote SSIS](https://www.c-sharpcorner.com/article/how-to-consume-web-service-through-ssis-package/).</span><span class="sxs-lookup"><span data-stu-id="c3560-153">[How To Consume Web Service Through SSIS Package](https://www.c-sharpcorner.com/article/how-to-consume-web-service-through-ssis-package/).</span></span>  
  
  
