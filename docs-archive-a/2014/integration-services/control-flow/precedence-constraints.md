---
title: Restrições de precedência | Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: integration-services
ms.topic: conceptual
helpviewer_keywords:
- tasks [Integration Services], precedence constraints
- control flow [Integration Services], precedence constraints
- precedence constraints [Integration Services]
- constraints [Integration Services]
- sequence execution options [Integration Services]
- containers [Integration Services], precedence constraints
ms.assetid: c5ce5435-fd89-4156-a11f-68470a69aa9f
author: chugugrace
ms.author: chugu
ms.openlocfilehash: 7a08fd1d66e43ede4c54284518bab191be8997a4
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87575264"
---
# <a name="precedence-constraints"></a><span data-ttu-id="3e054-102">Restrições de precedência</span><span class="sxs-lookup"><span data-stu-id="3e054-102">Precedence Constraints</span></span>
  <span data-ttu-id="3e054-103">As restrições de precedência vinculam executáveis, contêineres e tarefas em pacotes em um fluxo de controle e especificam condições que determinam a execução de executáveis.</span><span class="sxs-lookup"><span data-stu-id="3e054-103">Precedence constraints link executables, containers, and tasks in packages in a control flow, and specify conditions that determine whether executables run.</span></span> <span data-ttu-id="3e054-104">Um executável pode ser um contêiner Loop For, Loop Foreach ou Sequência; uma tarefa; ou um manipulador de eventos.</span><span class="sxs-lookup"><span data-stu-id="3e054-104">An executable can be a For Loop, Foreach Loop, or Sequence container; a task; or an event handler.</span></span> <span data-ttu-id="3e054-105">Os manipuladores de eventos também usam restrições de precedência para vincular os seus executáveis a um fluxo de controle.</span><span class="sxs-lookup"><span data-stu-id="3e054-105">Event handlers also use precedence constraints to link their executables into a control flow.</span></span>

 <span data-ttu-id="3e054-106">Uma restrição de precedência vincula dois executáveis: o de precedência e o restrito.</span><span class="sxs-lookup"><span data-stu-id="3e054-106">A precedence constraint links two executables: the precedence executable and the constrained executable.</span></span> <span data-ttu-id="3e054-107">O executável de precedência é executado antes do executável restrito e o resultado da execução do executável de precedência poderá determinar se o executável restrito será executado.</span><span class="sxs-lookup"><span data-stu-id="3e054-107">The precedence executable runs before the constrained executable, and the execution result of the precedence executable may determine whether the constrained executable runs.</span></span> <span data-ttu-id="3e054-108">O diagrama a seguir mostra dois executáveis vinculados por uma restrição de precedência.</span><span class="sxs-lookup"><span data-stu-id="3e054-108">The following diagram shows two executables linked by a precedence constraint.</span></span>

 <span data-ttu-id="3e054-109">![Executáveis conectados por uma restrição de precedência](../media/ssis-pcsimple.gif "Executáveis conectados por uma restrição de precedência")</span><span class="sxs-lookup"><span data-stu-id="3e054-109">![Executables connected by a precedence constraint](../media/ssis-pcsimple.gif "Executables connected by a precedence constraint")</span></span>

 <span data-ttu-id="3e054-110">Em um fluxo de controle linear, ou seja, aquele sem-ramificação, as restrições de precedência orientam sozinhas a sequência na qual a tarefa é executada.</span><span class="sxs-lookup"><span data-stu-id="3e054-110">In a linear control flow, that is, one without branching, precedence constraints alone govern the sequence in which tasks run.</span></span> <span data-ttu-id="3e054-111">Se um fluxo de controle se ramifica, o mecanismo de tempo de execução [!INCLUDE[ssISnoversion](../../../includes/ssisnoversion-md.md)] determina a ordem de execução dentre as tarefas e contêineres que vêm logo após a ramificação.</span><span class="sxs-lookup"><span data-stu-id="3e054-111">If a control flow branches, the [!INCLUDE[ssISnoversion](../../../includes/ssisnoversion-md.md)] run-time engine determines the execution order among the tasks and containers that immediately follow the branching.</span></span> <span data-ttu-id="3e054-112">O mecanismo de tempo de execução também determina a ordem de execução entre fluxos de trabalho não conectados em um fluxo de controle.</span><span class="sxs-lookup"><span data-stu-id="3e054-112">The run-time engine also determines execution order among unconnected workflows in a control flow.</span></span>

 <span data-ttu-id="3e054-113">A arquitetura de contêiner aninhado do [!INCLUDE[ssISnoversion](../../../includes/ssisnoversion-md.md)] habilita todos os contêineres, com exceção do contêiner host da tarefa que encapsula somente uma única tarefa, a incluírem outros contêineres, cada um com seu próprio fluxo de controle.</span><span class="sxs-lookup"><span data-stu-id="3e054-113">The nested-container architecture of [!INCLUDE[ssISnoversion](../../../includes/ssisnoversion-md.md)] enables all containers, except for the task host container that encapsulates only a single task, to include other containers, each with its own control flow.</span></span> <span data-ttu-id="3e054-114">Os contêineres Loop For, Loop Foreach e Sequência podem incluir várias tarefas e outros contêineres que, por sua vez, podem incluir várias tarefas e contêineres.</span><span class="sxs-lookup"><span data-stu-id="3e054-114">The For Loop, Foreach Loop, and Sequence containers can include multiple tasks and other containers, which in turn can include multiple tasks and containers.</span></span> <span data-ttu-id="3e054-115">Por exemplo, um pacote com uma tarefa Script e um contêiner Sequência tem uma restrição de precedência que vincula a tarefa Script e o contêiner Sequência.</span><span class="sxs-lookup"><span data-stu-id="3e054-115">For example, a package with a Script task and a Sequence container has a precedence constraint that links the Script task and the Sequence container.</span></span> <span data-ttu-id="3e054-116">O contêiner Sequência inclui três tarefas Script e suas restrições de precedência vinculam as três tarefas Script em um fluxo de controle.</span><span class="sxs-lookup"><span data-stu-id="3e054-116">The Sequence container includes three Script tasks, and its precedence constraints link the three Script tasks into a control flow.</span></span> <span data-ttu-id="3e054-117">O diagrama a seguir mostra as restrições de precedência em um pacote com dois níveis de aninhamento.</span><span class="sxs-lookup"><span data-stu-id="3e054-117">The following diagram shows the precedence constraints in a package with two levels of nesting.</span></span>

 <span data-ttu-id="3e054-118">![Restrições de precedência em um pacote](../media/mw-dts-12.gif "Restrições de precedência em um pacote")</span><span class="sxs-lookup"><span data-stu-id="3e054-118">![Precedence contraints in a package](../media/mw-dts-12.gif "Precedence contraints in a package")</span></span>

 <span data-ttu-id="3e054-119">Como o pacote está no topo da hierarquia de contêineres do [!INCLUDE[ssIS](../../../includes/ssis-md.md)] , vários pacotes não podem ser vinculados por restrições de precedência; entretanto, é possível adicionar uma tarefa Executar Pacote a um pacote e, indiretamente, vincular outro pacote ao fluxo de controle.</span><span class="sxs-lookup"><span data-stu-id="3e054-119">Because the package is at the top of the [!INCLUDE[ssIS](../../../includes/ssis-md.md)] container hierarchy, multiple packages cannot be linked by precedence constraints; however, you can add an Execute Package task to a package and indirectly link another package into the control flow.</span></span>

 <span data-ttu-id="3e054-120">É possível configurar restrições de precedência adotando um dos seguinte procedimentos:</span><span class="sxs-lookup"><span data-stu-id="3e054-120">You can configure precedence constraints in the following ways:</span></span>

-   <span data-ttu-id="3e054-121">Especifique uma operação de avaliação.</span><span class="sxs-lookup"><span data-stu-id="3e054-121">Specify an evaluation operation.</span></span> <span data-ttu-id="3e054-122">A restrição de precedência usa um valor de restrição, uma expressão, ambos ou para determinar se o executável restrito será executado.</span><span class="sxs-lookup"><span data-stu-id="3e054-122">The precedence constraint uses a constraint value, an expression, both, or either to determine whether the constrained executable runs.</span></span>

-   <span data-ttu-id="3e054-123">Se a restrição de precedência usar um resultado de execução, você poderá especificar o resultado de execução para ser sucesso, falha ou conclusão.</span><span class="sxs-lookup"><span data-stu-id="3e054-123">If the precedence constraint uses an execution result, you can specify the execution result to be success, failure, or completion.</span></span>

-   <span data-ttu-id="3e054-124">Se a restrição de precedência usar um resultado de avaliação, você poderá fornecer uma expressão que avalie a um booleano.</span><span class="sxs-lookup"><span data-stu-id="3e054-124">If the precedence constraint uses an evaluation result, you can provide an expression that evaluates to a Boolean.</span></span>

-   <span data-ttu-id="3e054-125">Especifique se a restrição de precedência é avaliada isoladamente ou junto com outras restrições aplicáveis ao executável restrito.</span><span class="sxs-lookup"><span data-stu-id="3e054-125">Specify whether the precedence constraint is evaluated singly or together with other constraints that apply to the constrained executable.</span></span>

## <a name="evaluation-operations"></a><span data-ttu-id="3e054-126">Operações de avaliação</span><span class="sxs-lookup"><span data-stu-id="3e054-126">Evaluation Operations</span></span>
 [!INCLUDE[ssISnoversion](../../../includes/ssisnoversion-md.md)] <span data-ttu-id="3e054-127">fornece as operações de avaliação a seguir:</span><span class="sxs-lookup"><span data-stu-id="3e054-127">provides the following evaluation operations:</span></span>

-   <span data-ttu-id="3e054-128">Uma restrição que usa somente o resultado da execução do executável de precedência para determinar se o executável restrito será executado.</span><span class="sxs-lookup"><span data-stu-id="3e054-128">A constraint that uses only the execution result of the precedence executable to determine whether the constrained executable runs.</span></span> <span data-ttu-id="3e054-129">O resultado da execução do executável de precedência pode ser conclusão, sucesso ou falha.</span><span class="sxs-lookup"><span data-stu-id="3e054-129">The execution result of the precedence executable can be completion, success, or failure.</span></span> <span data-ttu-id="3e054-130">Essa é a operação padrão.</span><span class="sxs-lookup"><span data-stu-id="3e054-130">This is the default operation.</span></span>

-   <span data-ttu-id="3e054-131">Uma expressão que é avaliada para determinar se o executável restrito será executado.</span><span class="sxs-lookup"><span data-stu-id="3e054-131">An expression that is evaluated to determine whether the constrained executable runs.</span></span> <span data-ttu-id="3e054-132">Se a expressão avaliar como true, o executável restrito será executado.</span><span class="sxs-lookup"><span data-stu-id="3e054-132">If the expression evaluates to true, the constrained executable runs.</span></span>

-   <span data-ttu-id="3e054-133">Uma expressão e uma restrição que combinam os requisitos dos resultados da execução do executável de precedência e os resultados de retorno da avaliação da expressão.</span><span class="sxs-lookup"><span data-stu-id="3e054-133">An expression and a constraint that combines the requirements of execution results of the precedence executable and the return results of evaluating the expression.</span></span>

-   <span data-ttu-id="3e054-134">Uma expressão ou restrição que usa os resultados da execução do executável de precedência ou os resultados de retorno da avaliação da expressão.</span><span class="sxs-lookup"><span data-stu-id="3e054-134">An expression or a constraint that uses either the execution results of the precedence executable or the return results of evaluating the expression.</span></span>

 [!INCLUDE[ssIS](../../../includes/ssis-md.md)] <span data-ttu-id="3e054-135">O Designer usa cores para identificar o tipo de restrição de precedência.</span><span class="sxs-lookup"><span data-stu-id="3e054-135">Designer uses color to identify the type of precedence constraint.</span></span> <span data-ttu-id="3e054-136">A restrição Bem-sucedida é verde, a restrição Falha é vermelha, e a restrição Conclusão é azul.</span><span class="sxs-lookup"><span data-stu-id="3e054-136">The Success constraint is green, the Failure constraint is red, and the Completion constraint is blue.</span></span> <span data-ttu-id="3e054-137">Para exibir rótulos de texto no [!INCLUDE[ssIS](../../../includes/ssis-md.md)] Designer que mostrem o tipo de restrição, você deve configurar os recursos de acessibilidade do [!INCLUDE[ssIS](../../../includes/ssis-md.md)] Designer.</span><span class="sxs-lookup"><span data-stu-id="3e054-137">To display text labels in [!INCLUDE[ssIS](../../../includes/ssis-md.md)] designer that show the type of the constraint, you must configure the accessibility features of [!INCLUDE[ssIS](../../../includes/ssis-md.md)] Designer.</span></span>

 <span data-ttu-id="3e054-138">A expressão deve ser uma expressão válida do [!INCLUDE[ssIS](../../../includes/ssis-md.md)] e pode incluir funções, operadores e, variáveis do sistema e personalizadas.</span><span class="sxs-lookup"><span data-stu-id="3e054-138">The expression must be a valid [!INCLUDE[ssIS](../../../includes/ssis-md.md)] expression, and it can include functions, operators, and system and custom variables.</span></span> <span data-ttu-id="3e054-139">Para obter informações, consulte [Expressões do Integration Services &#40;SSIS&#41;](../expressions/integration-services-ssis-expressions.md) e [Manipuladores de Eventos do Integration Services &#40;SSIS&#41;](../integration-services-ssis-variables.md).</span><span class="sxs-lookup"><span data-stu-id="3e054-139">For more information, see [Integration Services &#40;SSIS&#41; Expressions](../expressions/integration-services-ssis-expressions.md) and [Integration Services &#40;SSIS&#41; Variables](../integration-services-ssis-variables.md).</span></span>

## <a name="execution-results"></a><span data-ttu-id="3e054-140">Resultados da execução</span><span class="sxs-lookup"><span data-stu-id="3e054-140">Execution Results</span></span>
 <span data-ttu-id="3e054-141">A restrição de precedência pode usar os resultados de execução a seguir sozinhos ou em combinação com uma expressão.</span><span class="sxs-lookup"><span data-stu-id="3e054-141">The precedence constraint can use the following execution results alone or in combination with an expression.</span></span>

-   <span data-ttu-id="3e054-142">A conclusão requer que somente o executável de precedência seja concluído, sem considerar o resultado, para que o executável restrito seja executado.</span><span class="sxs-lookup"><span data-stu-id="3e054-142">Completion requires only that the precedence executable has completed, without regard to outcome, in order for the constrained executable to run.</span></span>

-   <span data-ttu-id="3e054-143">O sucesso requer que o executável de precedência seja concluído com êxito para que o executável restrito seja executado.</span><span class="sxs-lookup"><span data-stu-id="3e054-143">Success requires that the precedence executable must complete successfully for the constrained executable to run.</span></span>

-   <span data-ttu-id="3e054-144">A falha requer que o executável de precedência falhe para que o executável restrito seja executado.</span><span class="sxs-lookup"><span data-stu-id="3e054-144">Failure requires that the precedence executable fail for the constrained executable to run.</span></span>

> [!NOTE]
>  <span data-ttu-id="3e054-145">Somente as restrições de precedência que forem membros da mesma coleção `Precedence Constraint` poderão ser agrupadas em uma condição AND lógica.</span><span class="sxs-lookup"><span data-stu-id="3e054-145">Only precedence constraints that are members of the same `Precedence Constraint` collection can be grouped in a logical AND condition.</span></span> <span data-ttu-id="3e054-146">Por exemplo, você não pode combinar restrições de precedência de dois contêineres Loop Foreach.</span><span class="sxs-lookup"><span data-stu-id="3e054-146">For example, you cannot combine precedence constraints from two Foreach Loop containers.</span></span>

## <a name="configuration-of-the-precedence-constraint"></a><span data-ttu-id="3e054-147">Configuração da restrição de precedência</span><span class="sxs-lookup"><span data-stu-id="3e054-147">Configuration of the Precedence Constraint</span></span>
 <span data-ttu-id="3e054-148">Você pode definir propriedades pelo Designer do [!INCLUDE[ssIS](../../../includes/ssis-md.md)] ou programaticamente.</span><span class="sxs-lookup"><span data-stu-id="3e054-148">You can set properties through [!INCLUDE[ssIS](../../../includes/ssis-md.md)] Designer or programmatically.</span></span>

 <span data-ttu-id="3e054-149">Para obter mais informações sobre as propriedades que podem ser definidas no [!INCLUDE[ssIS](../../../includes/ssis-md.md)] Designer, consulte [Editor de Restrição de Precedência](../precedence-constraint-editor.md).</span><span class="sxs-lookup"><span data-stu-id="3e054-149">For information about the properties that you can set in [!INCLUDE[ssIS](../../../includes/ssis-md.md)] Designer, see [Precedence Constraint Editor](../precedence-constraint-editor.md).</span></span>

 <span data-ttu-id="3e054-150">Para obter informações sobre como definir essas propriedades programaticamente, consulte <xref:Microsoft.SqlServer.Dts.Runtime.PrecedenceConstraint>.</span><span class="sxs-lookup"><span data-stu-id="3e054-150">For information about programmatically setting these properties, see <xref:Microsoft.SqlServer.Dts.Runtime.PrecedenceConstraint>.</span></span>

## <a name="related-tasks"></a><span data-ttu-id="3e054-151">Related Tasks</span><span class="sxs-lookup"><span data-stu-id="3e054-151">Related Tasks</span></span>
 <span data-ttu-id="3e054-152">Para obter detalhes sobre como definir essas propriedades no [!INCLUDE[ssIS](../../../includes/ssis-md.md)] Designer, clique em um dos tópicos a seguir:</span><span class="sxs-lookup"><span data-stu-id="3e054-152">For details about how to set these properties in [!INCLUDE[ssIS](../../../includes/ssis-md.md)] Designer, click one of the following topics:</span></span>

-   [<span data-ttu-id="3e054-153">Definir as propriedades de uma restrição de precedência</span><span class="sxs-lookup"><span data-stu-id="3e054-153">Set the Properties of a Precedence Constraint</span></span>](../set-the-properties-of-a-precedence-constraint.md)

-   [<span data-ttu-id="3e054-154">Definir o valor de uma restrição de precedência por meio do menu de atalho</span><span class="sxs-lookup"><span data-stu-id="3e054-154">Set the Value of a Precedence Constraint by Using the Shortcut Menu</span></span>](../set-the-value-of-a-precedence-constraint-by-using-the-shortcut-menu.md)

-   [<span data-ttu-id="3e054-155">Como conectar tarefas e contêineres por meio de uma restrição de precedência padrão</span><span class="sxs-lookup"><span data-stu-id="3e054-155">Connect Tasks and Containers by Using a Default Precedence Constraint</span></span>](../connect-tasks-and-containers-by-using-a-default-precedence-constraint.md)

     <span data-ttu-id="3e054-156">Este tópico fornece informações sobre como definir o comportamento padrão de restrições de precedência e como conectar executáveis usando as restrições de precedência padrão, consulte.</span><span class="sxs-lookup"><span data-stu-id="3e054-156">This topic provides information on how to set the default behavior for precedence constraints, and how to connect executables using the default precedence constraints, see.</span></span>

## <a name="related-content"></a><span data-ttu-id="3e054-157">Conteúdo relacionado</span><span class="sxs-lookup"><span data-stu-id="3e054-157">Related Content</span></span>
 <span data-ttu-id="3e054-158">Artigo técnico, [Exemplos de expressões SSIS](https://go.microsoft.com/fwlink/?LinkId=220761), em social.technet.microsoft.com</span><span class="sxs-lookup"><span data-stu-id="3e054-158">Technical article, [SSIS Expression Examples](https://go.microsoft.com/fwlink/?LinkId=220761), on social.technet.microsoft.com</span></span>

## <a name="see-also"></a><span data-ttu-id="3e054-159">Consulte Também</span><span class="sxs-lookup"><span data-stu-id="3e054-159">See Also</span></span>
 <span data-ttu-id="3e054-160">[Adicionar expressões a restrições de](../add-expressions-to-precedence-constraints.md) precedência [várias restrições de precedência](../multiple-precedence-constraints.md)</span><span class="sxs-lookup"><span data-stu-id="3e054-160">[Add Expressions to Precedence Constraints](../add-expressions-to-precedence-constraints.md) [Multiple Precedence Constraints](../multiple-precedence-constraints.md)</span></span>


