---
title: A Instância Oracle CDC | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: integration-services
ms.topic: conceptual
ms.assetid: ed71e8c4-e013-4bf2-8b6c-1e833ff2a41d
author: chugugrace
ms.author: chugu
ms.openlocfilehash: 2228872b5a190fd416dccaa8062dd79dbc1f7a79
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87574235"
---
# <a name="the-oracle-cdc-instance"></a><span data-ttu-id="b31bb-102">A instância Oracle CDC</span><span class="sxs-lookup"><span data-stu-id="b31bb-102">The Oracle CDC Instance</span></span>
  <span data-ttu-id="b31bb-103">A Instância Oracle CDC é um processo criado pelo Serviço Oracle CDC para processar alterações capturadas de um único banco de dados de origem Oracle.</span><span class="sxs-lookup"><span data-stu-id="b31bb-103">The Oracle CDC Instance is a process created by the Oracle CDC Service to process changes captured from a single Oracle source database.</span></span> <span data-ttu-id="b31bb-104">A Instância Oracle CDC recupera sua configuração da tabela **cdc.xdbcdc_config** e mantém seu estado na tabela **cdc.xdbcdc_state** .</span><span class="sxs-lookup"><span data-stu-id="b31bb-104">The Oracle CDC Instance retrieves its configuration from the **cdc.xdbcdc_config** table and maintains its state in the **cdc.xdbcdc_state** table.</span></span> <span data-ttu-id="b31bb-105">Estas tabelas fazem parte do banco de dados CDC, que define a Instância Oracle CDC.</span><span class="sxs-lookup"><span data-stu-id="b31bb-105">These tables are part of the CDC database, which defines the Oracle CDC Instance.</span></span> <span data-ttu-id="b31bb-106">Para obter mais informações sobre o banco de dados e as tabelas xdbcdc, consulte [The CDC Databases](the-oracle-cdc-service.md).</span><span class="sxs-lookup"><span data-stu-id="b31bb-106">For more information about the xdbcdc database and tables see [The CDC Databases](the-oracle-cdc-service.md).</span></span>  
  
 <span data-ttu-id="b31bb-107">Veja a seguir a descrição das tarefas realizadas pela instância Oracle CDC:</span><span class="sxs-lookup"><span data-stu-id="b31bb-107">The following describes the tasks carried out by the Oracle CDC instance:</span></span>  
  
-   <span data-ttu-id="b31bb-108">**Tratando verificação de inicialização de serviço**: quando iniciado, a instância CDC carrega sua configuração da tabela **xdbcdc_config** e executa uma série de verificações de status que garantem que o estado persistido da instância CDC seja consistente e que possa iniciar alterações de processamento.</span><span class="sxs-lookup"><span data-stu-id="b31bb-108">**Handling service startup verification**: When started, the CDC instance loads its configuration from the **xdbcdc_config** table and performs a series of status verifications that ensure that the CDC instance persisted state is consistent and that it can start processing changes.</span></span>  
  
-   <span data-ttu-id="b31bb-109">**Preparando para captura de alterações**: quando a verificação for passada com êxito, a Instância Oracle CDC examinará todas as instâncias de captura definidas no momento e preparará as consultas do Oracle LogMiner e outras estruturas de suporte necessárias para a captura de alterações.</span><span class="sxs-lookup"><span data-stu-id="b31bb-109">**Preparing for change capture**: When the verification passes successfully, the Oracle CDC Instance scans all of the capture instances currently defined and prepares the Oracle LogMiner queries and other support structures required for change capture.</span></span> <span data-ttu-id="b31bb-110">Além disso, a instância Oracle recarrega o estado de captura interno que foi salvo da última vez que a Instância Oracle CDC foi executada.</span><span class="sxs-lookup"><span data-stu-id="b31bb-110">In addition, the Oracle instance re-loads the internal capture state that was saved the last time the Oracle CDC Instance run.</span></span>  
  
-   <span data-ttu-id="b31bb-111">**Capturando alterações do Oracle**: a Instância Oracle CDC agrupa as alterações do Oracle por meio da facilidade Oracle LogMiner, ordena-as de acordo com a confirmação de transação e, em seguida, altera a hora em uma transação e grava-as nas tabelas de alteração do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] no banco de dados CDC.</span><span class="sxs-lookup"><span data-stu-id="b31bb-111">**Capturing changes from Oracle**: The Oracle CDC Instance pools changes from Oracle by means of the Oracle LogMiner facility, orders them in according to transaction commit, and then changes the time in a transaction and writes them to the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] change tables in the CDC database.</span></span>  
  
-   <span data-ttu-id="b31bb-112">**Tratando o desligamento de serviço**: o ciclo de vida da Instância Oracle CDC é gerenciado pelo Serviço Oracle CDC.</span><span class="sxs-lookup"><span data-stu-id="b31bb-112">**Handling service shutdown**: The life cycle of the Oracle CDC Instance is managed by the Oracle CDC Service.</span></span> <span data-ttu-id="b31bb-113">Quando a Instância Oracle CDC é solicitada para desligar, ela executa as tarefas a seguir:</span><span class="sxs-lookup"><span data-stu-id="b31bb-113">When the Oracle CDC Instance is requested to shut down, it performs the following tasks:</span></span>  
  
    -   <span data-ttu-id="b31bb-114">Para de ler do log de transação do Oracle.</span><span class="sxs-lookup"><span data-stu-id="b31bb-114">Stops reading from the Oracle transaction log.</span></span>  
  
    -   <span data-ttu-id="b31bb-115">Para a gravação de transações do Oracle concluídas no banco de dados CDC.</span><span class="sxs-lookup"><span data-stu-id="b31bb-115">Stops writing completed Oracle transactions to the CDC database.</span></span>  
  
    -   <span data-ttu-id="b31bb-116">Espera até 30 segundos (se necessário) até que a transação atual termine de gravar no banco de dados CDC.</span><span class="sxs-lookup"><span data-stu-id="b31bb-116">Waits for up to 30 seconds (if necessary) until the current transaction finishes writing to the CDC database.</span></span> <span data-ttu-id="b31bb-117">Se mais de 30 segundos se passarem, a gravação será cancelada e a transação será revertida (para ser tentada novamente quando a instância CDC for reiniciada).</span><span class="sxs-lookup"><span data-stu-id="b31bb-117">If more than 30 seconds pass, the writing is cancelled and transaction is rolled back (to be retried when the CDC instance is restarted).</span></span>  
  
    -   <span data-ttu-id="b31bb-118">Em um thread separado, grava o maior número de registros armazenados em cache de memória possível na tabela de transações preparadas por até 30 segundos (da transação mais antiga para a mais nova) e, em seguida, atualiza a tabela **xdbcdc_state** e confirma todas as alterações.</span><span class="sxs-lookup"><span data-stu-id="b31bb-118">In a separate thread, writes as many memory-cached records as possible to the staged transactions table for up to 30 seconds (from the oldest transaction to the newest), then updates the **xdbcdc_state** table and commits all the changes.</span></span>  
  
-   <span data-ttu-id="b31bb-119">**Tratando alterações de configuração**: a Instância Oracle CDC é notificada sobre as alterações de configuração pelo Serviço CDC ou detectando uma nova versão na tabela **cdc.xdbcdc_config** .</span><span class="sxs-lookup"><span data-stu-id="b31bb-119">**Handling configuration changes**: The Oracle CDC Instance is notified about configuration changes either from the CDC Service or by detecting a new version in the **cdc.xdbcdc_config** table.</span></span> <span data-ttu-id="b31bb-120">A maioria das alterações não exige a reinicialização da Instância Oracle CDC (por exemplo, adicionar ou remover instâncias de captura).</span><span class="sxs-lookup"><span data-stu-id="b31bb-120">Most changes do not require the restart of the Oracle CDC Instance (for example, adding or removing capture instances).</span></span> <span data-ttu-id="b31bb-121">Porém, algumas alterações, como alterar a cadeia de conexão do Oracle ou credenciais de acesso, exigem a reinicialização da Instância CDC.</span><span class="sxs-lookup"><span data-stu-id="b31bb-121">However, some changes, such as changing the Oracle connection string or access credentials do require the restart of the CDC Instance.</span></span>  
  
-   <span data-ttu-id="b31bb-122">**Tratando recuperação**: quando uma Instância Oracle CDC inicia, seu estado interno é restaurado das tabelas **xdbcdc_state** e **xdbcdc_staged_transactions** .</span><span class="sxs-lookup"><span data-stu-id="b31bb-122">**Handling recovery**: When an Oracle CDC Instance starts its internal state is restored from the **xdbcdc_state** and the **xdbcdc_staged_transactions** tables.</span></span> <span data-ttu-id="b31bb-123">Quando o estado é restaurado, a instância CDC continua como sempre.</span><span class="sxs-lookup"><span data-stu-id="b31bb-123">Once the state is restored, the CDC instance proceeds as usual.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="b31bb-124">Consulte Também</span><span class="sxs-lookup"><span data-stu-id="b31bb-124">See Also</span></span>  
 [<span data-ttu-id="b31bb-125">Tratamento de erro</span><span class="sxs-lookup"><span data-stu-id="b31bb-125">Error Handling</span></span>](error-handling.md)  
  
  
