---
title: Configurar o serviço de Integration Services como um recurso de cluster | Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: integration-services
ms.topic: conceptual
ms.assetid: 367835aa-9855-4791-a989-b3d08402ad4c
author: chugugrace
ms.author: chugu
ms.openlocfilehash: f55b07f5587720130646b9637b91afbb8f179998
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87684299"
---
# <a name="configure-the-integration-services-service-as-a-cluster-resource"></a><span data-ttu-id="c431b-102">Configurar o serviço Integration Services como um recurso de cluster</span><span class="sxs-lookup"><span data-stu-id="c431b-102">Configure the Integration Services Service as a Cluster Resource</span></span>
  <span data-ttu-id="c431b-103">Para os clientes que chegaram à conclusão de que as vantagens dessa configuração do serviço [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] como um recurso de cluster sobrepõem-se às desvantagens, esta seção contém as instruções de configuração necessárias.</span><span class="sxs-lookup"><span data-stu-id="c431b-103">For those customers who conclude that the advantages of configuring the [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] service as a cluster resource outweigh the disadvantages, this section contains the necessary configuration instructions.</span></span> <span data-ttu-id="c431b-104">Entretanto, o [!INCLUDE[msCoName](../includes/msconame-md.md)] não recomenda que o serviço [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] seja configurado como um recurso de cluster.</span><span class="sxs-lookup"><span data-stu-id="c431b-104">However, [!INCLUDE[msCoName](../includes/msconame-md.md)] does not recommend that the [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] service be configured as a cluster resource.</span></span>  
  
 <span data-ttu-id="c431b-105">Para configurar o serviço [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] como um recurso de cluster, é necessário concluir as tarefas a seguir.</span><span class="sxs-lookup"><span data-stu-id="c431b-105">To configure the [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] service as a cluster resource, you need to complete the following tasks.</span></span>  
  
-   <span data-ttu-id="c431b-106">Instale o [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] em um cluster.</span><span class="sxs-lookup"><span data-stu-id="c431b-106">Install [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] on a cluster.</span></span>  
  
     <span data-ttu-id="c431b-107">Para instalar o [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] em um cluster, instale o [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] em cada nó do cluster.</span><span class="sxs-lookup"><span data-stu-id="c431b-107">To install [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] on a cluster, you must install [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] on each node in the cluster.</span></span>  
  
-   <span data-ttu-id="c431b-108">Configure o [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] como um recurso de cluster.</span><span class="sxs-lookup"><span data-stu-id="c431b-108">Configure [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] as a cluster resource.</span></span>  
  
     <span data-ttu-id="c431b-109">Com o Integration Services instalado em cada nó do cluster, é preciso configurar o Integration Services como um recurso de cluster.</span><span class="sxs-lookup"><span data-stu-id="c431b-109">With Integration Services installed on each node in the cluster, you need to configure Integration Services as a cluster resource.</span></span> <span data-ttu-id="c431b-110">Ao configurar o serviço do [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] como um recurso de cluster, você pode adicionar o serviço ao mesmo grupo de recursos do [!INCLUDE[ssDEnoversion](../includes/ssdenoversion-md.md)]ou a outro grupo.</span><span class="sxs-lookup"><span data-stu-id="c431b-110">When you configure the [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] service as a cluster resource, you can add the service to the same resource group as the [!INCLUDE[ssDEnoversion](../includes/ssdenoversion-md.md)], or to a different group.</span></span> <span data-ttu-id="c431b-111">A tabela a seguir descreve as possíveis vantagens e desvantagens na seleção de um grupo de recursos.</span><span class="sxs-lookup"><span data-stu-id="c431b-111">The following table describes the possible advantages and disadvantages in selecting a resource group.</span></span>  
  
    |<span data-ttu-id="c431b-112">Quando o Integration Services e o SQL Server estão no mesmo grupo de recursos</span><span class="sxs-lookup"><span data-stu-id="c431b-112">When Integration Services and SQL Server are in the same resource group</span></span>|<span data-ttu-id="c431b-113">Quando o Integration Services e o SQL Server estão em grupos de recursos diferentes</span><span class="sxs-lookup"><span data-stu-id="c431b-113">When Integration Services and SQL Server are in different resource groups</span></span>|  
    |-----------------------------------------------------------------------------|-------------------------------------------------------------------------------|  
    |<span data-ttu-id="c431b-114">Os computadores cliente podem usar o [!INCLUDE[ssManStudioFull](../includes/ssmanstudiofull-md.md)] para gerenciar os pacotes armazenados no banco de dados msdb, porque os serviços [!INCLUDE[ssDEnoversion](../includes/ssdenoversion-md.md)] e [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] são executados no mesmo servidor virtual.</span><span class="sxs-lookup"><span data-stu-id="c431b-114">Client computers can use [!INCLUDE[ssManStudioFull](../includes/ssmanstudiofull-md.md)] to manage packages stored in the msdb database because both the [!INCLUDE[ssDEnoversion](../includes/ssdenoversion-md.md)] and [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] service are running on the same virtual server.</span></span> <span data-ttu-id="c431b-115">Esta configuração evita os problemas de delegação do cenário de salto duplo.</span><span class="sxs-lookup"><span data-stu-id="c431b-115">This configuration avoids the delegation issues of the double-hop scenario.</span></span>|<span data-ttu-id="c431b-116">Os computadores cliente não podem usar o [!INCLUDE[ssManStudioFull](../includes/ssmanstudiofull-md.md)] para gerenciar os pacotes armazenados no banco de dados msdb.</span><span class="sxs-lookup"><span data-stu-id="c431b-116">Client computers cannot use [!INCLUDE[ssManStudioFull](../includes/ssmanstudiofull-md.md)] to manage packages stored in the msdb database.</span></span> <span data-ttu-id="c431b-117">O cliente pode conectar-se ao servidor virtual no qual o serviço do [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] está em execução.</span><span class="sxs-lookup"><span data-stu-id="c431b-117">The client can connect to the virtual server on which the [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] service is running.</span></span> <span data-ttu-id="c431b-118">Entretanto, esse computador não pode delegar as credenciais do usuário ao servidor virtual no qual o [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] está em execução.</span><span class="sxs-lookup"><span data-stu-id="c431b-118">However, that computer cannot delegate the user's credentials to the virtual server on which [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] is running.</span></span> <span data-ttu-id="c431b-119">Esse processo é conhecido como um cenário de salto duplo.</span><span class="sxs-lookup"><span data-stu-id="c431b-119">This is known as a double-hop scenario.</span></span>|  
    |<span data-ttu-id="c431b-120">O serviço [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] compete com outros serviços [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] por recursos da CPU e outros recursos do computador.</span><span class="sxs-lookup"><span data-stu-id="c431b-120">The [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] service competes with other [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] services for CPU and other computer resources.</span></span>|<span data-ttu-id="c431b-121">O serviço [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] não compete com outros serviços [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] por recursos da CPU e outros recursos do computador, porque os diferentes grupos de recursos são configurados em nós diferentes.</span><span class="sxs-lookup"><span data-stu-id="c431b-121">The [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] service does not compete with other [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] services for CPU and other computer resources because the different resource groups are configured on different nodes.</span></span>|  
    |<span data-ttu-id="c431b-122">As ações de carregar e salvar pacotes no banco de dados msdb são mais rápidas e geram menos tráfego de rede, pois os dois serviços estão em execução no mesmo computador.</span><span class="sxs-lookup"><span data-stu-id="c431b-122">The loading and saving of packages to the msdb database is faster and generates less network traffic because both services are running on the same computer.</span></span>|<span data-ttu-id="c431b-123">As ações de carregar e salvar pacotes no banco de dados msdb podem ser mais lentas e gerar mais tráfego de rede.</span><span class="sxs-lookup"><span data-stu-id="c431b-123">The loading and saving of packages to the msdb database might be slower and generate more network traffic.</span></span>|  
    |<span data-ttu-id="c431b-124">Os dois serviços estão online ou offline ao mesmo tempo.</span><span class="sxs-lookup"><span data-stu-id="c431b-124">Both services are online or offline at the same time.</span></span>|<span data-ttu-id="c431b-125">O serviço do [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] pode estar online enquanto o [!INCLUDE[ssDEnoversion](../includes/ssdenoversion-md.md)] estiver offline.</span><span class="sxs-lookup"><span data-stu-id="c431b-125">The [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] service might be online while the [!INCLUDE[ssDEnoversion](../includes/ssdenoversion-md.md)] is offline.</span></span> <span data-ttu-id="c431b-126">Assim, os pacotes armazenados no banco de dados msdb do [!INCLUDE[ssDEnoversion](../includes/ssdenoversion-md.md)] não estão disponíveis.</span><span class="sxs-lookup"><span data-stu-id="c431b-126">Thus, the packages stored in the msdb database of the [!INCLUDE[ssDEnoversion](../includes/ssdenoversion-md.md)] are unavailable.</span></span>|  
    |<span data-ttu-id="c431b-127">O serviço [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] não poderá ser movido rapidamente para outro nó, se necessário.</span><span class="sxs-lookup"><span data-stu-id="c431b-127">The [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] service cannot be moved quickly to another node if it is required.</span></span>|<span data-ttu-id="c431b-128">O serviço [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] pode ser movido mais rapidamente para outro nó, se necessário.</span><span class="sxs-lookup"><span data-stu-id="c431b-128">The [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] service can be moved more quickly to another node if it is required.</span></span>|  
  
     <span data-ttu-id="c431b-129">Depois de decidir a qual grupo de recursos o [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)]será adicionado, configure o [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] como um recurso de cluster nesse grupo.</span><span class="sxs-lookup"><span data-stu-id="c431b-129">After you have decided to which resource group you will add [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)], you have to configure [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] as a cluster resource in that group.</span></span>  
  
-   <span data-ttu-id="c431b-130">Configure o serviço [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] e o repositório de pacotes.</span><span class="sxs-lookup"><span data-stu-id="c431b-130">Configure the [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] service and package store.</span></span>  
  
     <span data-ttu-id="c431b-131">Ao configurar o [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] como um recurso de cluster, é preciso modificar o local e o conteúdo do arquivo de configuração do serviço [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] em cada nó no cluster.</span><span class="sxs-lookup"><span data-stu-id="c431b-131">Having configured [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] as a cluster resource, you must modify the location and the content of the configuration file for the [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] service on each node in the cluster.</span></span> <span data-ttu-id="c431b-132">Essas modificações disponibilizam tanto o arquivo de configuração quanto o repositório de pacotes para todos os nós se houver um failover.</span><span class="sxs-lookup"><span data-stu-id="c431b-132">These modifications make both the configuration file and the package store available to all nodes if there is a failover.</span></span> <span data-ttu-id="c431b-133">Depois de modificar o local e o conteúdo do arquivo de configuração, coloque o serviço online.</span><span class="sxs-lookup"><span data-stu-id="c431b-133">After you modify the location and content of the configuration file, you have to bring the service online.</span></span>  
  
-   <span data-ttu-id="c431b-134">Coloque o serviço [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] online como um recurso de cluster.</span><span class="sxs-lookup"><span data-stu-id="c431b-134">Bring the [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] service online as a cluster resource.</span></span>  
  
 <span data-ttu-id="c431b-135">Depois de configurar o serviço [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] em um cluster, ou em algum servidor, será preciso configurar as permissões DCOM antes de estabelecer conexão com o serviço por meio de um computador cliente.</span><span class="sxs-lookup"><span data-stu-id="c431b-135">After configuring the [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] service on a cluster, or on any server, you might have to configure DCOM permissions before you can connect to the service from a client computer.</span></span> <span data-ttu-id="c431b-136">Para obter mais informações, consulte [Conectar-se a um servidor remoto do Integration Services &#40;Serviço SSIS&#41;](../../2014/integration-services/connect-to-a-remote-integration-services-server-ssis-service.md).</span><span class="sxs-lookup"><span data-stu-id="c431b-136">For more information, see [Connect to a Remote Integration Services Server &#40;SSIS Service&#41;](../../2014/integration-services/connect-to-a-remote-integration-services-server-ssis-service.md).</span></span>  
  
 <span data-ttu-id="c431b-137">O serviço [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] não pode delegar credenciais.</span><span class="sxs-lookup"><span data-stu-id="c431b-137">The [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] service cannot delegate credentials.</span></span> <span data-ttu-id="c431b-138">Portanto, você não pode usar o [!INCLUDE[ssManStudio](../includes/ssmanstudio-md.md)] para gerenciar os pacotes armazenados no banco de dados msdb quando as seguintes condições forem verdadeiras:</span><span class="sxs-lookup"><span data-stu-id="c431b-138">Therefore, you cannot use [!INCLUDE[ssManStudio](../includes/ssmanstudio-md.md)] to manage packages stored in the msdb database when the following conditions are true:</span></span>  
  
-   <span data-ttu-id="c431b-139">Os serviços [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] e [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] estão em execução em servidores separados ou servidores virtuais.</span><span class="sxs-lookup"><span data-stu-id="c431b-139">The [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] service and [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] are running on separate servers or virtual servers.</span></span>  
  
-   <span data-ttu-id="c431b-140">O [!INCLUDE[ssManStudioFull](../includes/ssmanstudiofull-md.md)] está sendo executado por um terceiro computador.</span><span class="sxs-lookup"><span data-stu-id="c431b-140">The client that is running [!INCLUDE[ssManStudioFull](../includes/ssmanstudiofull-md.md)] is a third computer.</span></span>  
  
 <span data-ttu-id="c431b-141">O cliente pode conectar-se ao servidor virtual no qual o serviço do [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] está em execução.</span><span class="sxs-lookup"><span data-stu-id="c431b-141">The client can connect to the virtual server on which the [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] service is running.</span></span> <span data-ttu-id="c431b-142">Entretanto, esse computador não pode delegar as credenciais do usuário ao servidor virtual no qual o [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] está em execução.</span><span class="sxs-lookup"><span data-stu-id="c431b-142">However, that computer cannot delegate the user's credentials to the virtual server on which [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] is running.</span></span> <span data-ttu-id="c431b-143">Esse processo é conhecido como um cenário de salto duplo.</span><span class="sxs-lookup"><span data-stu-id="c431b-143">This is known as a double-hop scenario.</span></span>  
  
### <a name="to-install-integration-services-on-a-cluster"></a><span data-ttu-id="c431b-144">Para instalar o Integration Services em um cluster</span><span class="sxs-lookup"><span data-stu-id="c431b-144">To Install Integration Services on a Cluster</span></span>  
  
1.  <span data-ttu-id="c431b-145">Instale e configure um cluster com um ou mais nós.</span><span class="sxs-lookup"><span data-stu-id="c431b-145">Install and configure a cluster with one or more nodes.</span></span>  
  
2.  <span data-ttu-id="c431b-146">(Opcional) Instale serviços clusterizados, como o [!INCLUDE[ssDEnoversion](../includes/ssdenoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="c431b-146">(Optional) Install clustered services, such as the [!INCLUDE[ssDEnoversion](../includes/ssdenoversion-md.md)].</span></span>  
  
3.  <span data-ttu-id="c431b-147">Instale o [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] em cada nó do cluster.</span><span class="sxs-lookup"><span data-stu-id="c431b-147">Install [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] on each node of the cluster.</span></span>  
  
### <a name="to-configure-integration-services-as-a-cluster-resource"></a><span data-ttu-id="c431b-148">Para configurar o Integration Services como um recurso de cluster</span><span class="sxs-lookup"><span data-stu-id="c431b-148">To Configure Integration Services as a Cluster Resource</span></span>  
  
1.  <span data-ttu-id="c431b-149">Abra o **Administrador de Cluster**.</span><span class="sxs-lookup"><span data-stu-id="c431b-149">Open the **Cluster Administrator**.</span></span>  
  
2.  <span data-ttu-id="c431b-150">Na árvore de console, selecione a pasta Grupos.</span><span class="sxs-lookup"><span data-stu-id="c431b-150">In the console tree, select the Groups folder.</span></span>  
  
3.  <span data-ttu-id="c431b-151">No painel de resultados, selecione o grupo ao qual deseja adicionar o [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)]:</span><span class="sxs-lookup"><span data-stu-id="c431b-151">In the results pane, select the group to which you plan to add [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)]:</span></span>  
  
    -   <span data-ttu-id="c431b-152">Para adicionar o Integrations Services como um recurso de cluster ao mesmo grupo de recursos do [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)], selecione o grupo ao qual o [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] pertence.</span><span class="sxs-lookup"><span data-stu-id="c431b-152">To add Integrations Services as a cluster resource to the same resource group as [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)], select the group to which [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] belongs.</span></span>  
  
    -   <span data-ttu-id="c431b-153">Para adicionar o Integrations Services como um recurso de cluster a um grupo diferente do [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)], selecione outro grupo que não seja aquele ao qual o [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] pertence.</span><span class="sxs-lookup"><span data-stu-id="c431b-153">To add Integrations Services as a cluster resource to a different group than [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)], select a group other than the group to which [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] belongs.</span></span>  
  
4.  <span data-ttu-id="c431b-154">No menu **Arquivo** , aponte para **Novo**e clique em **Recurso**.</span><span class="sxs-lookup"><span data-stu-id="c431b-154">On the **File** menu, point to **New**, and then click **Resource**.</span></span>  
  
5.  <span data-ttu-id="c431b-155">Na página **Novo Recurso** do Assistente de Recurso, digite um nome e selecione **"Serviço Genérico"** como o **Tipo de Serviço**.</span><span class="sxs-lookup"><span data-stu-id="c431b-155">On the **New Resource** page of the Resource Wizard, type a name and select **"Generic Service"** as the **Service Type**.</span></span> <span data-ttu-id="c431b-156">Não altere o valor de **Grupo**.</span><span class="sxs-lookup"><span data-stu-id="c431b-156">Do not change the value of **Group**.</span></span> <span data-ttu-id="c431b-157">Clique em **Próximo**.</span><span class="sxs-lookup"><span data-stu-id="c431b-157">Click **Next**.</span></span>  
  
6.  <span data-ttu-id="c431b-158">Na página **Possíveis Proprietários** , adicione ou remova os nós do cluster como os possíveis proprietários do recurso.</span><span class="sxs-lookup"><span data-stu-id="c431b-158">On the **Possible Owners** page, add or remove the nodes of the cluster as the possible owners of the resource.</span></span> <span data-ttu-id="c431b-159">Clique em **Próximo**.</span><span class="sxs-lookup"><span data-stu-id="c431b-159">Click **Next**.</span></span>  
  
7.  <span data-ttu-id="c431b-160">Para adicionar dependências, na página **Dependências** , selecione um recurso em **Recursos disponíveis**e clique em **Adicionar**.</span><span class="sxs-lookup"><span data-stu-id="c431b-160">To add dependencies, on the **Dependencies** page, select a resource under **Available resources**, and then click **Add**.</span></span> <span data-ttu-id="c431b-161">Caso ocorra um failover, tanto o [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] quanto o disco compartilhado que armazena os pacotes do [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] devem retornar ao estado online antes que o [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] fique online.</span><span class="sxs-lookup"><span data-stu-id="c431b-161">In case of a failover, both [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] and the shared disk that stores [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] packages should come back online before [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] is brought online.</span></span> <span data-ttu-id="c431b-162">Depois de selecionar as dependências, clique em **Avançar**.</span><span class="sxs-lookup"><span data-stu-id="c431b-162">After you have selected the dependencies, click **Next**.</span></span>  
  
     <span data-ttu-id="c431b-163">Para obter mais informações, consulte [Adicionar dependências a um recurso do SQL Server](../sql-server/failover-clusters/windows/add-dependencies-to-a-sql-server-resource.md).</span><span class="sxs-lookup"><span data-stu-id="c431b-163">For more information, see [Add Dependencies to a SQL Server Resource](../sql-server/failover-clusters/windows/add-dependencies-to-a-sql-server-resource.md).</span></span>  
  
8.  <span data-ttu-id="c431b-164">Na página **Parâmetros de Serviço Genérico** , insira **MsDtsServer** como o nome do serviço.</span><span class="sxs-lookup"><span data-stu-id="c431b-164">On the **Generic Service Parameters** page, enter **MsDtsServer** as the name of the service.</span></span> <span data-ttu-id="c431b-165">Clique em **Próximo**.</span><span class="sxs-lookup"><span data-stu-id="c431b-165">Click **Next**.</span></span>  
  
9. <span data-ttu-id="c431b-166">Na página **Replicação de Registro** , clique em **Adicionar** para adicionar a chave do Registro que identifica o local do arquivo de configuração do serviço [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="c431b-166">On the **Registry Replication** page, click **Add** to add the registry key that identifies the location of the configuration file for the [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] service.</span></span> <span data-ttu-id="c431b-167">Este arquivo deve estar localizado em um disco compartilhado que esteja no mesmo grupo de recursos do serviço [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="c431b-167">This file must be located on a shared disk that is in the same resource group as the [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] service.</span></span>  
  
10. <span data-ttu-id="c431b-168">Na caixa de diálogo **Chave do Registro** , digite **SOFTWARE\Microsoft\Microsoft SQL Server\100\SSIS\ServiceConfigFile**.</span><span class="sxs-lookup"><span data-stu-id="c431b-168">In the **Registry Key** dialog box, type **SOFTWARE\Microsoft\Microsoft SQL Server\100\SSIS\ServiceConfigFile**.</span></span> <span data-ttu-id="c431b-169">Clique em **OK**e em **Concluir**.</span><span class="sxs-lookup"><span data-stu-id="c431b-169">Click **OK**, and then click **Finish**.</span></span>  
  
     <span data-ttu-id="c431b-170">O serviço [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] agora foi adicionado como um recurso de cluster.</span><span class="sxs-lookup"><span data-stu-id="c431b-170">The [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] service has now been added as a cluster resource.</span></span>  
  
### <a name="to-configure-the-integration-services-service-and-package-store"></a><span data-ttu-id="c431b-171">Para configurar o serviço Integration Services e o repositório de pacotes</span><span class="sxs-lookup"><span data-stu-id="c431b-171">To Configure the Integration Services Service and Package Store</span></span>  
  
1.  <span data-ttu-id="c431b-172">Localize o arquivo de configuração em %ProgramFiles%\Microsoft SQL Server\100\DTS\Binn\MsDtsSrvr.ini.xml.</span><span class="sxs-lookup"><span data-stu-id="c431b-172">Locate the configuration file at %ProgramFiles%\Microsoft SQL Server\100\DTS\Binn\MsDtsSrvr.ini.xml.</span></span> <span data-ttu-id="c431b-173">Copie-o no disco compartilhado do grupo ao qual você adicionou o serviço do [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="c431b-173">Copy it to the shared disk for the group to which you added the [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] service.</span></span>  
  
2.  <span data-ttu-id="c431b-174">No disco compartilhado, crie uma nova pasta chamada **Pacotes** para servir como o local do repositório de pacotes.</span><span class="sxs-lookup"><span data-stu-id="c431b-174">On the shared disk, create a new folder named **Packages** to serve as the package store.</span></span> <span data-ttu-id="c431b-175">Conceda as permissões de gravação e pastas de listas na nova pasta para usuários e grupos apropriados.</span><span class="sxs-lookup"><span data-stu-id="c431b-175">Grant List Folders and Write permissions on the new folder to appropriate users and groups.</span></span>  
  
3.  <span data-ttu-id="c431b-176">No disco compartilhado, abra o arquivo de configuração em um editor de texto ou XML.</span><span class="sxs-lookup"><span data-stu-id="c431b-176">On the shared disk, open the configuration file in a text or XML editor.</span></span> <span data-ttu-id="c431b-177">Altere o valor do elemento `ServerName` para o nome do [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] virtual que é igual ao grupo de recursos.</span><span class="sxs-lookup"><span data-stu-id="c431b-177">Change the value of the `ServerName` element to the name of the virtual [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] that is in the same resource group.</span></span>  
  
4.  <span data-ttu-id="c431b-178">Altere o valor do `StorePath` elemento para o caminho totalmente qualificado da pasta **Packages** criada no disco compartilhado em uma etapa anterior.</span><span class="sxs-lookup"><span data-stu-id="c431b-178">Change the value of the `StorePath` element to the fully-qualified path of the **Packages** folder created on the shared disk in a previous step.</span></span>  
  
5.  <span data-ttu-id="c431b-179">Atualize o valor de **HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Microsoft SQL Server\100\SSIS\ServiceConfigFile** no Registro para o caminho totalmente qualificado e o nome do arquivo de configuração de serviço no disco compartilhado.</span><span class="sxs-lookup"><span data-stu-id="c431b-179">Update the value of **HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Microsoft SQL Server\100\SSIS\ServiceConfigFile** in the Registry to the fully-qualified path and file name of the service configuration file on the shared disk.</span></span>  
  
### <a name="to-bring-the-integration-services-service-online"></a><span data-ttu-id="c431b-180">Para colocar o serviço do Integration Services online</span><span class="sxs-lookup"><span data-stu-id="c431b-180">To bring the Integration Services service online</span></span>  
  
-   <span data-ttu-id="c431b-181">No **Administrador de Cluster**, selecione o serviço [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] , clique com o botão direito do mouse e selecione **Colocar Online** no menu pop-up.</span><span class="sxs-lookup"><span data-stu-id="c431b-181">In the **Cluster Administrator**, select the [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] service, right-click, and select **Bring Online** from the popup menu.</span></span> <span data-ttu-id="c431b-182">Agora, o serviço [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] está online como um recurso de cluster.</span><span class="sxs-lookup"><span data-stu-id="c431b-182">The [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] service is now online as a cluster resource.</span></span>  
  
  
