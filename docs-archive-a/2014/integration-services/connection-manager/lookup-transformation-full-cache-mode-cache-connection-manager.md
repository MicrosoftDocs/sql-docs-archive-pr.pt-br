---
title: Implementar uma transformação pesquisa em modo de cache cheio usando o Gerenciador de conexões de cache | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: integration-services
ms.topic: conceptual
helpviewer_keywords:
- Lookup transformation [Integration Services]
ms.assetid: 58bc7611-5fb5-4113-9742-10959e06b94c
author: chugugrace
ms.author: chugu
ms.openlocfilehash: 8b8c77f7ecfbe79db00acce09f706468ec0a0055
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87582091"
---
# <a name="implement-a-lookup-transformation-in-full-cache-mode-using-the-cache-connection-manager"></a><span data-ttu-id="31724-102">Implementar uma Transformação de Pesquisa em modo de Cache Cheio usando o Gerenciador de Conexões de Cache</span><span class="sxs-lookup"><span data-stu-id="31724-102">Implement a Lookup Transformation in Full Cache Mode Using the Cache Connection Manager</span></span>
  <span data-ttu-id="31724-103">Você pode configurar a transformação Pesquisa para usar o modo cache cheio e um gerenciador de conexões de cache.</span><span class="sxs-lookup"><span data-stu-id="31724-103">You can configure the Lookup transformation to use full cache mode and a Cache connection manager.</span></span> <span data-ttu-id="31724-104">No modo cache cheio, o conjunto de dados de referência é carregado no cache antes que a transformação Pesquisa seja executada.</span><span class="sxs-lookup"><span data-stu-id="31724-104">In full cache mode, the reference dataset is loaded into cache before the Lookup transformation runs.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="31724-105">O gerenciador de conexões do Cache não oferece suporte aos tipos de dados BLOB (objetos binários grandes) DT_TEXT, DT_NTEXT e DT_IMAGE.</span><span class="sxs-lookup"><span data-stu-id="31724-105">The Cache connection manager does not support the Binary Large Object (BLOB) data types DT_TEXT, DT_NTEXT, and DT_IMAGE.</span></span> <span data-ttu-id="31724-106">Se o conjunto de dados de referência contiver um tipo de dados BLOB, o componente irá falhar quando o pacote for executado.</span><span class="sxs-lookup"><span data-stu-id="31724-106">If the reference dataset contains a BLOB data type, the component will fail when you run the package.</span></span> <span data-ttu-id="31724-107">Você pode usar o **Editor do Gerenciador de Conexões de Cache** para modificar os tipos de dados da coluna.</span><span class="sxs-lookup"><span data-stu-id="31724-107">You can use the **Cache Connection Manager Editor** to modify column data types.</span></span> <span data-ttu-id="31724-108">Para obter mais informações, consulte [Cache Connection Manager Editor](../cache-connection-manager-editor.md).</span><span class="sxs-lookup"><span data-stu-id="31724-108">For more information, see [Cache Connection Manager Editor](../cache-connection-manager-editor.md).</span></span>  
  
 <span data-ttu-id="31724-109">A transformação Pesquisa executa pesquisas ao unir dados em colunas de entradas através de uma fonte de dados conectada com colunas em um conjunto de dados de referência.</span><span class="sxs-lookup"><span data-stu-id="31724-109">The Lookup transformation performs lookups by joining data in input columns from a connected data source with columns in a reference dataset.</span></span> <span data-ttu-id="31724-110">Para obter mais informações, consulte [Lookup Transformation](../data-flow/transformations/lookup-transformation.md).</span><span class="sxs-lookup"><span data-stu-id="31724-110">For more information, see [Lookup Transformation](../data-flow/transformations/lookup-transformation.md).</span></span>  
  
 <span data-ttu-id="31724-111">Você usa uma das opções a seguir para gerar um conjunto de dados de referência:</span><span class="sxs-lookup"><span data-stu-id="31724-111">You use one of the following to generate a reference dataset:</span></span>  
  
-   <span data-ttu-id="31724-112">Arquivo de cache (.caw)</span><span class="sxs-lookup"><span data-stu-id="31724-112">Cache file (.caw)</span></span>  
  
     <span data-ttu-id="31724-113">Você configura o gerenciador de conexões de cache para ler dados de um arquivo de cache existente.</span><span class="sxs-lookup"><span data-stu-id="31724-113">You configure the Cache connection manager to read data from an existing cache file.</span></span>  
  
-   <span data-ttu-id="31724-114">Fonte de dados conectada no fluxo de dados</span><span class="sxs-lookup"><span data-stu-id="31724-114">Connected data source in the data flow</span></span>  
  
     <span data-ttu-id="31724-115">Você usa a transformação Cache para gravar dados de uma fonte de dados conectada no fluxo de dados em um gerenciador de conexões de cache.</span><span class="sxs-lookup"><span data-stu-id="31724-115">You use a Cache Transform transformation to write data from a connected data source in the data flow to a Cache connection manager.</span></span> <span data-ttu-id="31724-116">Os dados sempre são armazenados na memória.</span><span class="sxs-lookup"><span data-stu-id="31724-116">The data is always stored in memory.</span></span>  
  
     <span data-ttu-id="31724-117">Você deve adicionar a transformação Pesquisa em um fluxo de dados separado.</span><span class="sxs-lookup"><span data-stu-id="31724-117">You must add the Lookup transformation to a separate data flow.</span></span> <span data-ttu-id="31724-118">Isto habilita a transformação Cache a popular o gerenciador de conexões de cache antes que a transformação Pesquisa seja executada.</span><span class="sxs-lookup"><span data-stu-id="31724-118">This enables the Cache Transform to populate the Cache connection manager before the Lookup transformation is executed.</span></span> <span data-ttu-id="31724-119">Os fluxos de dados podem estar no mesmo pacote ou em dois pacotes separados.</span><span class="sxs-lookup"><span data-stu-id="31724-119">The data flows can be in the same package or in two separate packages.</span></span>  
  
     <span data-ttu-id="31724-120">Se os fluxos de dados estiverem no mesmo pacote, use uma restrição de precedência para conectar os fluxos de dados.</span><span class="sxs-lookup"><span data-stu-id="31724-120">If the data flows are in the same package, use a precedence constraint to connect the data flows.</span></span> <span data-ttu-id="31724-121">Isso habilita a transformação Cache a ser executada antes que a transformação Pesquisa seja executada.</span><span class="sxs-lookup"><span data-stu-id="31724-121">This enables the Cache Transform to run before the Lookup transformation runs.</span></span>  
  
     <span data-ttu-id="31724-122">Se os fluxos de dados estiverem em pacotes separados, você poderá usar a tarefa Executar Pacote para chamar o pacote filho do pacote pai.</span><span class="sxs-lookup"><span data-stu-id="31724-122">If the data flows are in separate packages, you can use the Execute Package task to call the child package from the parent package.</span></span> <span data-ttu-id="31724-123">Você pode chamar vários pacotes filhos adicionando várias tarefas Executar Pacote à tarefa Contêiner Sequência no pacote pai.</span><span class="sxs-lookup"><span data-stu-id="31724-123">You can call multiple child packages by adding multiple Execute Package tasks to a Sequence Container task in the parent package.</span></span>  
  
 <span data-ttu-id="31724-124">Você pode compartilhar o conjunto de dados de referência armazenado em cache, entre as transformações Pesquisa usando um dos seguintes métodos:</span><span class="sxs-lookup"><span data-stu-id="31724-124">You can share the reference dataset stored in cache, between multiple Lookup transformations by using one of the following methods:</span></span>  
  
-   <span data-ttu-id="31724-125">Configure a transformação Pesquisa em um único pacote para usar o mesmo gerenciador de conexões de cache.</span><span class="sxs-lookup"><span data-stu-id="31724-125">Configure the Lookup transformations in a single package to use the same Cache connection manager.</span></span>  
  
-   <span data-ttu-id="31724-126">Configure os gerenciadores de conexões do cache em pacotes diferentes para usar o mesmo arquivo de cache.</span><span class="sxs-lookup"><span data-stu-id="31724-126">Configure the Cache connection managers in different packages to use the same cache file.</span></span>  
  
 <span data-ttu-id="31724-127">Para obter mais informações, consulte estes tópicos:</span><span class="sxs-lookup"><span data-stu-id="31724-127">For more information, see the following topics:</span></span>  
  
-   [<span data-ttu-id="31724-128">Transformação Cache</span><span class="sxs-lookup"><span data-stu-id="31724-128">Cache Transform</span></span>](../data-flow/transformations/cache-transform.md)  
  
-   [<span data-ttu-id="31724-129">Gerenciador de Conexões de Cache</span><span class="sxs-lookup"><span data-stu-id="31724-129">Cache Connection Manager</span></span>](cache-connection-manager.md)  
  
-   [<span data-ttu-id="31724-130">Restrições de precedência</span><span class="sxs-lookup"><span data-stu-id="31724-130">Precedence Constraints</span></span>](../control-flow/precedence-constraints.md)  
  
-   [<span data-ttu-id="31724-131">Tarefa Executar Pacote</span><span class="sxs-lookup"><span data-stu-id="31724-131">Execute Package Task</span></span>](../control-flow/execute-package-task.md)  
  
-   [<span data-ttu-id="31724-132">Contêiner da Sequência</span><span class="sxs-lookup"><span data-stu-id="31724-132">Sequence Container</span></span>](../control-flow/sequence-container.md)  
  
 <span data-ttu-id="31724-133">Para obter um vídeo que demonstre como implementar uma transformação Pesquisa no modo Cache Cheio usando o gerenciador de conexões de Cache, consulte [Como implementar a transformação Pesquisa no modo de Cache Cheio (vídeo do SQL Server)](https://go.microsoft.com/fwlink/?LinkId=131031).</span><span class="sxs-lookup"><span data-stu-id="31724-133">For a video that demonstrates how to implement a Lookup transformation in Full Cache mode using the Cache connection manager, see [How to: Implement a Lookup Transformation in Full Cache Mode (SQL Server Video)](https://go.microsoft.com/fwlink/?LinkId=131031).</span></span>  
  
### <a name="to-implement-a-lookup-transformation-in-full-cache-mode-in-one-package-by-using-cache-connection-manager-and-a-data-source-in-the-data-flow"></a><span data-ttu-id="31724-134">Para implementar uma transformação Pesquisa em modo cache cheio em um pacote usando o gerenciador de conexões de cache e uma fonte de dados no fluxo de dados</span><span class="sxs-lookup"><span data-stu-id="31724-134">To implement a Lookup transformation in full cache mode in one package by using Cache connection manager and a data source in the data flow</span></span>  
  
1.  <span data-ttu-id="31724-135">No [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)], abra um projeto [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] e, então, abra um pacote.</span><span class="sxs-lookup"><span data-stu-id="31724-135">In [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)], open a [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] project, and then open a package.</span></span>  
  
2.  <span data-ttu-id="31724-136">Na guia **Fluxo de Controle** , adicione duas tarefas de Fluxo de Dados e, então, conecte as tarefas usando um conector verde:</span><span class="sxs-lookup"><span data-stu-id="31724-136">On the **Control Flow** tab, add two Data Flow tasks, and then connect the tasks by using a green connector:</span></span>  
  
3.  <span data-ttu-id="31724-137">No primeiro fluxo de dados, adicione uma transformação Cache e, então, conecte a transformação a uma fonte de dados.</span><span class="sxs-lookup"><span data-stu-id="31724-137">In the first data flow, add a Cache Transform transformation, and then connect the transformation to a data source.</span></span>  
  
     <span data-ttu-id="31724-138">Configure a fonte de dados como necessário.</span><span class="sxs-lookup"><span data-stu-id="31724-138">Configure the data source as needed.</span></span>  
  
4.  <span data-ttu-id="31724-139">Clique duas vezes na transformação Cache e, depois, em **Editor de Transformação Cache**, na página **Gerenciador de Conexões** , clique em **Novo** para criar um novo gerenciador de conexões de Cache.</span><span class="sxs-lookup"><span data-stu-id="31724-139">Double-click the Cache Transform, and then in the **Cache Transformation Editor**, on the **Connection Manager** page, click **New** to create a new Cache connection manager.</span></span>  
  
5.  <span data-ttu-id="31724-140">Clique na guia **Colunas** da caixa de diálogo **Editor do Gerenciador de Conexões de Cache** e, então, especifique quais colunas são as de índice usando a opção **Posição de Índice** .</span><span class="sxs-lookup"><span data-stu-id="31724-140">Click the **Columns** tab of the **Cache Connection Manager Editor** dialog box, and then specify which columns are the index columns by using the **Index Position** option.</span></span>  
  
     <span data-ttu-id="31724-141">Para colunas sem-índice, a posição de índice é 0.</span><span class="sxs-lookup"><span data-stu-id="31724-141">For non-index columns, the index position is 0.</span></span> <span data-ttu-id="31724-142">Para colunas de índice, a posição de índice é um número sequencial positivo.</span><span class="sxs-lookup"><span data-stu-id="31724-142">For index columns, the index position is a sequential, positive number.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="31724-143">Quando a transformação Pesquisa é configurada para usar um gerenciador de conexões de Cache, somente as colunas de índice no conjunto de dados de referência podem ser mapeadas para as colunas de entrada.</span><span class="sxs-lookup"><span data-stu-id="31724-143">When the Lookup transformation is configured to use a Cache connection manager, only index columns in the reference dataset can be mapped to input columns.</span></span> <span data-ttu-id="31724-144">Além disso, todas as colunas de índice devem ser mapeadas.</span><span class="sxs-lookup"><span data-stu-id="31724-144">Also, all index columns must be mapped.</span></span> <span data-ttu-id="31724-145">Para obter mais informações, consulte [Cache Connection Manager Editor](../cache-connection-manager-editor.md).</span><span class="sxs-lookup"><span data-stu-id="31724-145">For more information, see [Cache Connection Manager Editor](../cache-connection-manager-editor.md).</span></span>  
  
6.  <span data-ttu-id="31724-146">Para salvar o cache em um arquivo, em **Editor do Gerenciador de Conexões de Cache**, na guia **Geral** , configure o gerenciador de conexões de cache definindo as seguintes opções:</span><span class="sxs-lookup"><span data-stu-id="31724-146">To save the cache to a file, in the **Cache Connection Manager Editor**, on the **General** tab, configure the Cache connection manager by setting the following options:</span></span>  
  
    -   <span data-ttu-id="31724-147">Selecione **Usar Cache de Arquivo**.</span><span class="sxs-lookup"><span data-stu-id="31724-147">Select **Use file cache**.</span></span>  
  
    -   <span data-ttu-id="31724-148">Em **Nome do arquivo**, digite o caminho do arquivo ou clique em **Procurar** para selecionar o arquivo.</span><span class="sxs-lookup"><span data-stu-id="31724-148">For **File name**, either type the file path or click **Browse** to select the file.</span></span>  
  
         <span data-ttu-id="31724-149">Se você digitar um caminho para um arquivo que não existe, o sistema criará o arquivo quando você executar o pacote.</span><span class="sxs-lookup"><span data-stu-id="31724-149">If you type a path for a file that does not exist, the system creates the file when you run the package.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="31724-150">O nível de proteção do pacote não se aplica ao arquivo de cache.</span><span class="sxs-lookup"><span data-stu-id="31724-150">The protection level of the package does not apply to the cache file.</span></span> <span data-ttu-id="31724-151">Se o arquivo de cache tiver informações confidenciais, use uma lista de controle de acesso (ACL) para restringir o acesso ao local ou à pasta na qual você deseja armazenar o arquivo.</span><span class="sxs-lookup"><span data-stu-id="31724-151">If the cache file contains sensitive information, use an access control list (ACL) to restrict access to the location or folder in which you store the file.</span></span> <span data-ttu-id="31724-152">Você deve habilitar o acesso apenas para determinadas contas.</span><span class="sxs-lookup"><span data-stu-id="31724-152">You should enable access only to certain accounts.</span></span> <span data-ttu-id="31724-153">Para obter mais informações, consulte [Acesso aos arquivos usados por pacotes](../access-to-files-used-by-packages.md).</span><span class="sxs-lookup"><span data-stu-id="31724-153">For more information, see [Access to Files Used by Packages](../access-to-files-used-by-packages.md).</span></span>  
  
7.  <span data-ttu-id="31724-154">Configure o Cache Transform como necessário.</span><span class="sxs-lookup"><span data-stu-id="31724-154">Configure the Cache Transform as needed.</span></span> <span data-ttu-id="31724-155">Para obter mais informações, consulte [Editor de Transformação Cache &#40;Página Gerenciador de Conexões&#41;](../cache-transformation-editor-connection-manager-page.md) e [Editor de Transformação Cache &#40;Página Mapeamentos&#41;](../cache-transformation-editor-mappings-page.md).</span><span class="sxs-lookup"><span data-stu-id="31724-155">For more information, see [Cache Transformation Editor &#40;Connection Manager Page&#41;](../cache-transformation-editor-connection-manager-page.md) and [Cache Transformation Editor &#40;Mappings Page&#41;](../cache-transformation-editor-mappings-page.md).</span></span>  
  
8.  <span data-ttu-id="31724-156">No segundo fluxo de dados, adicione uma transformação Pesquisa e, então, configure a transformação fazendo as tarefas seguintes:</span><span class="sxs-lookup"><span data-stu-id="31724-156">In the second data flow, add a Lookup transformation, and then configure the transformation by doing the following tasks:</span></span>  
  
    1.  <span data-ttu-id="31724-157">Conecte a transformação Pesquisa ao fluxo de dados arrastando um conector de uma fonte ou transformação anterior para a transformação Pesquisa.</span><span class="sxs-lookup"><span data-stu-id="31724-157">Connect the Lookup transformation to the data flow by dragging a connector from a source or a previous transformation to the Lookup transformation.</span></span>  
  
        > [!NOTE]  
        >  <span data-ttu-id="31724-158">Uma transformação Pesquisa talvez não seja validada se essa transformação se conectar a um arquivo simples que contém um campo de data vazio.</span><span class="sxs-lookup"><span data-stu-id="31724-158">A Lookup transformation might not validate if that transformation connects to a flat file that contains an empty date field.</span></span> <span data-ttu-id="31724-159">A transformação será validada se o gerenciador de conexões para o arquivo simples tiver sido configurado para reter valores nulos.</span><span class="sxs-lookup"><span data-stu-id="31724-159">Whether the transformation validates depends on whether the connection manager for the flat file has been configured to retain null values.</span></span> <span data-ttu-id="31724-160">Para garantir a validação da transformação Pesquisa, no **Editor de Fonte de Arquivo Simples**, na página **Gerenciador de Conexões**, selecione a opção **Reter valores nulos da origem como valores nulos no fluxo de dados** .</span><span class="sxs-lookup"><span data-stu-id="31724-160">To ensure that the Lookup transformation validates, in the **Flat File Source Editor**, on the **Connection Manager Page**, select the **Retain null values from the source as null values in the data flow** option.</span></span>  
  
    2.  <span data-ttu-id="31724-161">Clique duas vezes na fonte ou transformação anterior para configurar o componente.</span><span class="sxs-lookup"><span data-stu-id="31724-161">Double-click the source or previous transformation to configure the component.</span></span>  
  
    3.  <span data-ttu-id="31724-162">Clique duas vezes na transformação Pesquisa e, então, em **Editor de Transformação Pesquisa**, na página **Geral** , selecione **Cache cheio**.</span><span class="sxs-lookup"><span data-stu-id="31724-162">Double-click the Lookup transformation, and then in the **Lookup Transformation Editor**, on the **General** page, select **Full cache**.</span></span>  
  
    4.  <span data-ttu-id="31724-163">Na área **Tipo de conexão** , selecione **Gerenciador de conexões de cache**.</span><span class="sxs-lookup"><span data-stu-id="31724-163">In the **Connection type** area, select **Cache connection manager**.</span></span>  
  
    5.  <span data-ttu-id="31724-164">Na lista **Especificar como manipular linhas sem entradas correspondentes** , selecione uma opção de tratamento de erros.</span><span class="sxs-lookup"><span data-stu-id="31724-164">From the **Specify how to handle rows with no matching entries** list, select an error handling option.</span></span>  
  
    6.  <span data-ttu-id="31724-165">Na página **Conexão** , da lista **Gerenciador de conexões de cache** , selecione um gerenciador de conexões de cache.</span><span class="sxs-lookup"><span data-stu-id="31724-165">On the **Connection** page, from the **Cache connection manager** list, select a Cache connection manager.</span></span>  
  
    7.  <span data-ttu-id="31724-166">Clique na página **Colunas** e, então, arraste pelo menos uma coluna da lista **Colunas de Entrada Disponíveis** para uma coluna na lista **Coluna de Pesquisa Disponível** .</span><span class="sxs-lookup"><span data-stu-id="31724-166">Click the **Columns** page, and then drag at least one column from the **Available Input Columns** list to a column in the **Available Lookup Column** list.</span></span>  
  
        > [!NOTE]  
        >  <span data-ttu-id="31724-167">A transformação Pesquisa mapeia automaticamente colunas que têm o mesmo nome e o mesmo tipo de dados.</span><span class="sxs-lookup"><span data-stu-id="31724-167">The Lookup transformation automatically maps columns that have the same name and the same data type.</span></span>  
  
        > [!NOTE]  
        >  <span data-ttu-id="31724-168">Estas colunas devem ter tipos de dados correspondentes a serem mapeados.</span><span class="sxs-lookup"><span data-stu-id="31724-168">Columns must have matching data types to be mapped.</span></span> <span data-ttu-id="31724-169">Para obter mais informações, consulte [Integration Services Data Types](../data-flow/integration-services-data-types.md).</span><span class="sxs-lookup"><span data-stu-id="31724-169">For more information, see [Integration Services Data Types](../data-flow/integration-services-data-types.md).</span></span>  
  
    8.  <span data-ttu-id="31724-170">Na lista **Colunas de Pesquisa Disponíveis** , selecione colunas.</span><span class="sxs-lookup"><span data-stu-id="31724-170">In the **Available Lookup Columns** list, select columns.</span></span> <span data-ttu-id="31724-171">Então, na lista **Operação de Pesquisa** , especifique se os valores das colunas de pesquisa substituem os valores na coluna de entrada ou se são gravados em uma nova coluna.</span><span class="sxs-lookup"><span data-stu-id="31724-171">Then in the **Lookup Operation** list, specify whether the values from the lookup columns replace values in the input column or are written to a new column.</span></span>  
  
    9. <span data-ttu-id="31724-172">Para configurar a saída de erro, clique na página **Saída de Erro** e defina as opções de tratamento de erros.</span><span class="sxs-lookup"><span data-stu-id="31724-172">To configure the error output, click the **Error Output** page and set the error handling options.</span></span> <span data-ttu-id="31724-173">Para obter mais informações, consulte [Editor de Transformação Pesquisa &#40;página Saída de Erro&#41;](../lookup-transformation-editor-error-output-page.md).</span><span class="sxs-lookup"><span data-stu-id="31724-173">For more information, see [Lookup Transformation Editor &#40;Error Output Page&#41;](../lookup-transformation-editor-error-output-page.md).</span></span>  
  
    10. <span data-ttu-id="31724-174">Clique em **OK** para salvar suas alterações na transformação Pesquisa.</span><span class="sxs-lookup"><span data-stu-id="31724-174">Click **OK** to save your changes to the Lookup transformation.</span></span>  
  
9. <span data-ttu-id="31724-175">Execute o pacote.</span><span class="sxs-lookup"><span data-stu-id="31724-175">Run the package.</span></span>  
  
### <a name="to-implement-a-lookup-transformation-in-full-cache-mode-in-two-packages-by-using-cache-connection-manager-and-a-data-source-in-the-data-flow"></a><span data-ttu-id="31724-176">Para implementar uma transformação Pesquisa em modo cache cheio em dois pacotes usando o gerenciador de conexões de cache e uma fonte de dados no fluxo de dados</span><span class="sxs-lookup"><span data-stu-id="31724-176">To implement a Lookup transformation in full cache mode in two packages by using Cache connection manager and a data source in the data flow</span></span>  
  
1.  <span data-ttu-id="31724-177">No [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)], abra um projeto [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] e, então, abra dois pacotes.</span><span class="sxs-lookup"><span data-stu-id="31724-177">In [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)], open a [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] project, and then open two packages.</span></span>  
  
2.  <span data-ttu-id="31724-178">Na guia Fluxo de Controle em cada pacote, adicione uma tarefa de Fluxo de Dados.</span><span class="sxs-lookup"><span data-stu-id="31724-178">On the Control Flow tab in each package, add a Data Flow task.</span></span>  
  
3.  <span data-ttu-id="31724-179">No pacote pai, adicione uma transformação Cache ao fluxo de dados e, então, conecte a transformação à fonte de dados.</span><span class="sxs-lookup"><span data-stu-id="31724-179">In the parent package, add a Cache Transform transformation to the data flow, and then connect the transformation to a data source.</span></span>  
  
     <span data-ttu-id="31724-180">Configure a fonte de dados como necessário.</span><span class="sxs-lookup"><span data-stu-id="31724-180">Configure the data source as needed.</span></span>  
  
4.  <span data-ttu-id="31724-181">Clique duas vezes na transformação Cache e, depois, em **Editor de Transformação Cache**, na página **Gerenciador de Conexões** , clique em **Novo** para criar um novo gerenciador de conexões de Cache.</span><span class="sxs-lookup"><span data-stu-id="31724-181">Double-click the Cache Transform, and then in the **Cache Transformation Editor**, on the **Connection Manager** page, click **New** to create a new Cache connection manager.</span></span>  
  
5.  <span data-ttu-id="31724-182">No **Editor do Gerenciador de Conexões de Cache**, na guia **Geral** , configure o gerenciador de conexões de cache definindo as seguintes opções:</span><span class="sxs-lookup"><span data-stu-id="31724-182">In the **Cache Connection Manager Editor**, on the **General** tab, configure the Cache connection manager by setting the following options:</span></span>  
  
    -   <span data-ttu-id="31724-183">Selecione **Usar Cache de Arquivo**.</span><span class="sxs-lookup"><span data-stu-id="31724-183">Select **Use file cache**.</span></span>  
  
    -   <span data-ttu-id="31724-184">Em **Nome do arquivo**, digite o caminho do arquivo ou clique em **Procurar** para selecionar o arquivo.</span><span class="sxs-lookup"><span data-stu-id="31724-184">For **File name**, either type the file path or click **Browse** to select the file.</span></span>  
  
         <span data-ttu-id="31724-185">Se você digitar um caminho para um arquivo que não existe, o sistema criará o arquivo quando você executar o pacote.</span><span class="sxs-lookup"><span data-stu-id="31724-185">If you type a path for a file that does not exist, the system creates the file when you run the package.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="31724-186">O nível de proteção do pacote não se aplica ao arquivo de cache.</span><span class="sxs-lookup"><span data-stu-id="31724-186">The protection level of the package does not apply to the cache file.</span></span> <span data-ttu-id="31724-187">Se o arquivo de cache tiver informações confidenciais, use uma lista de controle de acesso (ACL) para restringir o acesso ao local ou à pasta na qual você deseja armazenar o arquivo.</span><span class="sxs-lookup"><span data-stu-id="31724-187">If the cache file contains sensitive information, use an access control list (ACL) to restrict access to the location or folder in which you store the file.</span></span> <span data-ttu-id="31724-188">Você deve habilitar o acesso apenas para determinadas contas.</span><span class="sxs-lookup"><span data-stu-id="31724-188">You should enable access only to certain accounts.</span></span> <span data-ttu-id="31724-189">Para obter mais informações, consulte [Acesso aos arquivos usados por pacotes](../access-to-files-used-by-packages.md).</span><span class="sxs-lookup"><span data-stu-id="31724-189">For more information, see [Access to Files Used by Packages](../access-to-files-used-by-packages.md).</span></span>  
  
6.  <span data-ttu-id="31724-190">Clique na guia **Colunas** e, então, especifique quais são as colunas de índice usando a opção **Posição do Índice** .</span><span class="sxs-lookup"><span data-stu-id="31724-190">Click the **Columns** tab, and then specify which columns are the index columns by using the **Index Position** option.</span></span>  
  
     <span data-ttu-id="31724-191">Para colunas sem-índice, a posição de índice é 0.</span><span class="sxs-lookup"><span data-stu-id="31724-191">For non-index columns, the index position is 0.</span></span> <span data-ttu-id="31724-192">Para colunas de índice, a posição de índice é um número sequencial positivo.</span><span class="sxs-lookup"><span data-stu-id="31724-192">For index columns, the index position is a sequential, positive number.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="31724-193">Quando a transformação Pesquisa é configurada para usar um gerenciador de conexões de Cache, somente as colunas de índice no conjunto de dados de referência podem ser mapeadas para as colunas de entrada.</span><span class="sxs-lookup"><span data-stu-id="31724-193">When the Lookup transformation is configured to use a Cache connection manager, only index columns in the reference dataset can be mapped to input columns.</span></span> <span data-ttu-id="31724-194">Além disso, todas as colunas de índice devem ser mapeadas.</span><span class="sxs-lookup"><span data-stu-id="31724-194">Also, all index columns must be mapped.</span></span> <span data-ttu-id="31724-195">Para obter mais informações, consulte [Cache Connection Manager Editor](../cache-connection-manager-editor.md).</span><span class="sxs-lookup"><span data-stu-id="31724-195">For more information, see [Cache Connection Manager Editor](../cache-connection-manager-editor.md).</span></span>  
  
7.  <span data-ttu-id="31724-196">Configure o Cache Transform como necessário.</span><span class="sxs-lookup"><span data-stu-id="31724-196">Configure the Cache Transform as needed.</span></span> <span data-ttu-id="31724-197">Para obter mais informações, consulte [Editor de Transformação Cache &#40;Página Gerenciador de Conexões&#41;](../cache-transformation-editor-connection-manager-page.md) e [Editor de Transformação Cache &#40;Página Mapeamentos&#41;](../cache-transformation-editor-mappings-page.md).</span><span class="sxs-lookup"><span data-stu-id="31724-197">For more information, see [Cache Transformation Editor &#40;Connection Manager Page&#41;](../cache-transformation-editor-connection-manager-page.md) and [Cache Transformation Editor &#40;Mappings Page&#41;](../cache-transformation-editor-mappings-page.md).</span></span>  
  
8.  <span data-ttu-id="31724-198">Para popular o gerenciador de conexões de cache usado no segundo pacote faça uma das opções a seguir:</span><span class="sxs-lookup"><span data-stu-id="31724-198">Do one of the following to populate the Cache connection manager that is used in the second package:</span></span>  
  
    -   <span data-ttu-id="31724-199">Execute o pacote pai.</span><span class="sxs-lookup"><span data-stu-id="31724-199">Run the parent package.</span></span>  
  
    -   <span data-ttu-id="31724-200">Clique duas vezes no gerenciador de conexões de cache que você criou na etapa 4, clique em **Colunas**, selecione as linhas e, então, pressione CTRL+C para copiar os metadados da coluna.</span><span class="sxs-lookup"><span data-stu-id="31724-200">Double-click the Cache connection manager you created in step 4, click **Columns**, select the rows, and then press CTRL+C to copy the column metadata.</span></span>  
  
9. <span data-ttu-id="31724-201">No pacote filho, crie um gerenciador de conexões de cache clicando com o botão direito do mouse na área **Gerenciadores de Conexões** , clicando em **Nova Conexão**, selecionando **CACHE** na caixa de diálogo **Adicionar Gerenciador de Conexões SSIS** e, então, clicando em **Adicionar**.</span><span class="sxs-lookup"><span data-stu-id="31724-201">In the child package, create a Cache connection manager by right-clicking in the **Connection Managers** area, clicking **New Connection**, selecting **CACHE** in the **Add SSIS Connection Manager** dialog box, and then clicking **Add**.</span></span>  
  
     <span data-ttu-id="31724-202">A área **Gerenciadores de Conexões** aparece na parte inferior das guias **Fluxo de Controle**, **Fluxo de Dados**e **Manipuladores de Eventos** do [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] Designer.</span><span class="sxs-lookup"><span data-stu-id="31724-202">The **Connection Managers** area appears on the bottom of the **Control Flow**, **Data Flow**, and **Event Handlers** tabs of [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] Designer.</span></span>  
  
10. <span data-ttu-id="31724-203">No **Editor do Gerenciador de Conexões de Cache**, na guia **Geral** , configure o gerenciador de conexões de cache para ler os dados do arquivo de cache selecionado definindo as seguintes opções:</span><span class="sxs-lookup"><span data-stu-id="31724-203">In the **Cache Connection Manager Editor**, on the **General** tab, configure the Cache connection manager to read the data from the cache file that you selected by setting the following options:</span></span>  
  
    -   <span data-ttu-id="31724-204">Selecione **Usar Cache de Arquivo**.</span><span class="sxs-lookup"><span data-stu-id="31724-204">Select **Use file cache**.</span></span>  
  
    -   <span data-ttu-id="31724-205">Em **Nome do arquivo**, digite o caminho do arquivo ou clique em **Procurar** para selecionar o arquivo.</span><span class="sxs-lookup"><span data-stu-id="31724-205">For **File name**, either type the file path or click **Browse** to select the file.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="31724-206">O nível de proteção do pacote não se aplica ao arquivo de cache.</span><span class="sxs-lookup"><span data-stu-id="31724-206">The protection level of the package does not apply to the cache file.</span></span> <span data-ttu-id="31724-207">Se o arquivo de cache tiver informações confidenciais, use uma lista de controle de acesso (ACL) para restringir o acesso ao local ou à pasta na qual você deseja armazenar o arquivo.</span><span class="sxs-lookup"><span data-stu-id="31724-207">If the cache file contains sensitive information, use an access control list (ACL) to restrict access to the location or folder in which you store the file.</span></span> <span data-ttu-id="31724-208">Você deve habilitar o acesso apenas para determinadas contas.</span><span class="sxs-lookup"><span data-stu-id="31724-208">You should enable access only to certain accounts.</span></span> <span data-ttu-id="31724-209">Para obter mais informações, consulte [Acesso aos arquivos usados por pacotes](../access-to-files-used-by-packages.md).</span><span class="sxs-lookup"><span data-stu-id="31724-209">For more information, see [Access to Files Used by Packages](../access-to-files-used-by-packages.md).</span></span>  
  
11. <span data-ttu-id="31724-210">Se você copiou os metadados de coluna na etapa 8, clique em **Colunas**, selecione a linha vazia e, então, pressione CTRL+V para colar os metadados de coluna.</span><span class="sxs-lookup"><span data-stu-id="31724-210">If you copied the column metadata in step 8, click **Columns**, select the empty row, and then press CTRL+V to paste the column metadata.</span></span>  
  
12. <span data-ttu-id="31724-211">Adicione uma transformação Pesquisa e, então, configure a transformação fazendo o seguinte:</span><span class="sxs-lookup"><span data-stu-id="31724-211">Add a Lookup transformation, and then configure the transformation by doing the following:</span></span>  
  
    1.  <span data-ttu-id="31724-212">Conecte a transformação Pesquisa ao fluxo de dados arrastando um conector de uma fonte ou transformação anterior para a transformação Pesquisa.</span><span class="sxs-lookup"><span data-stu-id="31724-212">Connect the Lookup transformation to the data flow by dragging a connector from a source or a previous transformation to the Lookup transformation.</span></span>  
  
        > [!NOTE]  
        >  <span data-ttu-id="31724-213">Uma transformação Pesquisa talvez não seja validada se essa transformação se conectar a um arquivo simples que contém um campo de data vazio.</span><span class="sxs-lookup"><span data-stu-id="31724-213">A Lookup transformation might not validate if that transformation connects to a flat file that contains an empty date field.</span></span> <span data-ttu-id="31724-214">A transformação será validada se o gerenciador de conexões para o arquivo simples tiver sido configurado para reter valores nulos.</span><span class="sxs-lookup"><span data-stu-id="31724-214">Whether the transformation validates depends on whether the connection manager for the flat file has been configured to retain null values.</span></span> <span data-ttu-id="31724-215">Para garantir a validação da transformação Pesquisa, no **Editor de Fonte de Arquivo Simples**, na página **Gerenciador de Conexões**, selecione a opção **Reter valores nulos da origem como valores nulos no fluxo de dados** .</span><span class="sxs-lookup"><span data-stu-id="31724-215">To ensure that the Lookup transformation validates, in the **Flat File Source Editor**, on the **Connection Manager Page**, select the **Retain null values from the source as null values in the data flow** option.</span></span>  
  
    2.  <span data-ttu-id="31724-216">Clique duas vezes na fonte ou transformação anterior para configurar o componente.</span><span class="sxs-lookup"><span data-stu-id="31724-216">Double-click the source or previous transformation to configure the component.</span></span>  
  
    3.  <span data-ttu-id="31724-217">Clique duas vezes na transformação Pesquisa e, então, selecione **Cache cheio** na página **Geral** do **Editor de Transformação Pesquisa**.</span><span class="sxs-lookup"><span data-stu-id="31724-217">Double-click the Lookup transformation, and then select **Full cache** on the **General** page of the **Lookup Transformation Editor**.</span></span>  
  
    4.  <span data-ttu-id="31724-218">Selecione **Gerenciador de conexões de cache** na área **Tipo de conexão** .</span><span class="sxs-lookup"><span data-stu-id="31724-218">Select **Cache connection manager** in the **Connection type** area.</span></span>  
  
    5.  <span data-ttu-id="31724-219">Selecione uma opção para tratamento de erros para as linhas sem entradas correspondentes na lista **Especificar como lidar com linhas com entradas não correspondentes** .</span><span class="sxs-lookup"><span data-stu-id="31724-219">Select an error handling option for rows without matching entries from the **Specify how to handle rows with no matching entries** list.</span></span>  
  
    6.  <span data-ttu-id="31724-220">Na página **Conexão** , da lista **Gerenciador de conexões de cache** , selecione o gerenciador de conexões de cache que você adicionou.</span><span class="sxs-lookup"><span data-stu-id="31724-220">On the **Connection** page, from the **Cache connection manager** list, select the Cache connection manager that you added.</span></span>  
  
    7.  <span data-ttu-id="31724-221">Clique na página **Colunas** e, então, arraste pelo menos uma coluna da lista **Colunas de Entrada Disponíveis** para uma coluna na lista **Coluna de Pesquisa Disponível** .</span><span class="sxs-lookup"><span data-stu-id="31724-221">Click the **Columns** page, and then drag at least one column from the **Available Input Columns** list to a column in the **Available Lookup Column** list.</span></span>  
  
        > [!NOTE]  
        >  <span data-ttu-id="31724-222">A transformação Pesquisa mapeia automaticamente colunas que têm o mesmo nome e o mesmo tipo de dados.</span><span class="sxs-lookup"><span data-stu-id="31724-222">The Lookup transformation automatically maps columns that have the same name and the same data type.</span></span>  
  
        > [!NOTE]  
        >  <span data-ttu-id="31724-223">Estas colunas devem ter tipos de dados correspondentes a serem mapeados.</span><span class="sxs-lookup"><span data-stu-id="31724-223">Columns must have matching data types to be mapped.</span></span> <span data-ttu-id="31724-224">Para obter mais informações, consulte [Integration Services Data Types](../data-flow/integration-services-data-types.md).</span><span class="sxs-lookup"><span data-stu-id="31724-224">For more information, see [Integration Services Data Types](../data-flow/integration-services-data-types.md).</span></span>  
  
    8.  <span data-ttu-id="31724-225">Na lista **Colunas de Pesquisa Disponíveis** , selecione colunas.</span><span class="sxs-lookup"><span data-stu-id="31724-225">In the **Available Lookup Columns** list, select columns.</span></span> <span data-ttu-id="31724-226">Então, na lista **Operação de Pesquisa** , especifique se os valores das colunas de pesquisa substituem os valores na coluna de entrada ou se são gravados em uma nova coluna.</span><span class="sxs-lookup"><span data-stu-id="31724-226">Then in the **Lookup Operation** list, specify whether the values from the lookup columns replace values in the input column or are written to a new column.</span></span>  
  
    9. <span data-ttu-id="31724-227">Para configurar a saída de erro, clique na página **Saída de Erro** e defina as opções de tratamento de erros.</span><span class="sxs-lookup"><span data-stu-id="31724-227">To configure the error output, click the **Error Output** page and set the error handling options.</span></span> <span data-ttu-id="31724-228">Para obter mais informações, consulte [Editor de Transformação Pesquisa &#40;página Saída de Erro&#41;](../lookup-transformation-editor-error-output-page.md).</span><span class="sxs-lookup"><span data-stu-id="31724-228">For more information, see [Lookup Transformation Editor &#40;Error Output Page&#41;](../lookup-transformation-editor-error-output-page.md).</span></span>  
  
    10. <span data-ttu-id="31724-229">Clique em **OK** para salvar suas alterações na transformação Pesquisa.</span><span class="sxs-lookup"><span data-stu-id="31724-229">Click **OK** to save your changes to the Lookup transformation.</span></span>  
  
13. <span data-ttu-id="31724-230">Abra o pacote pai, adicione uma tarefa Executar Pacote ao fluxo de controle e, então, configure a tarefa para chamar o pacote filho.</span><span class="sxs-lookup"><span data-stu-id="31724-230">Open the parent package, add an Execute Package task to the control flow, and then configure the task to call the child package.</span></span> <span data-ttu-id="31724-231">Para obter mais informações, consulte [Execute Package Task](../control-flow/execute-package-task.md).</span><span class="sxs-lookup"><span data-stu-id="31724-231">For more information, see [Execute Package Task](../control-flow/execute-package-task.md).</span></span>  
  
14. <span data-ttu-id="31724-232">Execute os pacotes.</span><span class="sxs-lookup"><span data-stu-id="31724-232">Run the packages.</span></span>  
  
### <a name="to-implement-a-lookup-transformation-in-full-cache-mode-by-using-cache-connection-manager-and-an-existing-cache-file"></a><span data-ttu-id="31724-233">Para implementar uma transformação Pesquisa em modo cache cheio usando o gerenciador de conexões de cache e um arquivo de cache existente</span><span class="sxs-lookup"><span data-stu-id="31724-233">To implement a Lookup transformation in full cache mode by using Cache connection manager and an existing cache file</span></span>  
  
1.  <span data-ttu-id="31724-234">No [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)], abra um projeto [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] e, então, abra um pacote.</span><span class="sxs-lookup"><span data-stu-id="31724-234">In [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)], open a [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] project, and then open a package.</span></span>  
  
2.  <span data-ttu-id="31724-235">Clique com o botão direito do mouse na área **Gerenciadores de Conexões** e, então, clique em **Nova Conexão**.</span><span class="sxs-lookup"><span data-stu-id="31724-235">Right-click in the **Connection Managers** area, and then click **New Connection**.</span></span>  
  
     <span data-ttu-id="31724-236">A área **Gerenciadores de Conexões** aparece na parte inferior das guias **Fluxo de Controle**, **Fluxo de Dados**e **Manipuladores de Eventos** do [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] Designer.</span><span class="sxs-lookup"><span data-stu-id="31724-236">The **Connection Managers** area appears on the bottom of the **Control Flow**, **Data Flow**, and **Event Handlers** tabs of [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] Designer.</span></span>  
  
3.  <span data-ttu-id="31724-237">Use a caixa de diálogo **Adicionar Gerenciador de Conexões SSIS** , selecione **CACHE**e, então, clique em **Adicionar** para adicionar um gerenciador de conexões de cache.</span><span class="sxs-lookup"><span data-stu-id="31724-237">In the **Add SSIS Connection Manager** dialog box, select **CACHE**, and then click **Add** to add a Cache connection manager.</span></span>  
  
4.  <span data-ttu-id="31724-238">Clique duas vezes no gerenciador de conexões de cache para abrir o **Editor do Gerenciador de Conexões de Cache**.</span><span class="sxs-lookup"><span data-stu-id="31724-238">Double-click the Cache connection manager to open the **Cache Connection Manager Editor**.</span></span>  
  
5.  <span data-ttu-id="31724-239">No **Editor do Gerenciador de Conexões de Cache**, na guia **Geral** , configure o gerenciador de conexões de cache definindo as seguintes opções:</span><span class="sxs-lookup"><span data-stu-id="31724-239">In the **Cache Connection Manager Editor**, on the **General** tab, configure the Cache connection manager by setting the following options:</span></span>  
  
    -   <span data-ttu-id="31724-240">Selecione **Usar Cache de Arquivo**.</span><span class="sxs-lookup"><span data-stu-id="31724-240">Select **Use file cache**.</span></span>  
  
    -   <span data-ttu-id="31724-241">Em **Nome do arquivo**, digite o caminho do arquivo ou clique em **Procurar** para selecionar o arquivo.</span><span class="sxs-lookup"><span data-stu-id="31724-241">For **File name**, either type the file path or click **Browse** to select the file.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="31724-242">O nível de proteção do pacote não se aplica ao arquivo de cache.</span><span class="sxs-lookup"><span data-stu-id="31724-242">The protection level of the package does not apply to the cache file.</span></span> <span data-ttu-id="31724-243">Se o arquivo de cache tiver informações confidenciais, use uma lista de controle de acesso (ACL) para restringir o acesso ao local ou à pasta na qual você deseja armazenar o arquivo.</span><span class="sxs-lookup"><span data-stu-id="31724-243">If the cache file contains sensitive information, use an access control list (ACL) to restrict access to the location or folder in which you store the file.</span></span> <span data-ttu-id="31724-244">Você deve habilitar o acesso apenas para determinadas contas.</span><span class="sxs-lookup"><span data-stu-id="31724-244">You should enable access only to certain accounts.</span></span> <span data-ttu-id="31724-245">Para obter mais informações, consulte [Acesso aos arquivos usados por pacotes](../access-to-files-used-by-packages.md).</span><span class="sxs-lookup"><span data-stu-id="31724-245">For more information, see [Access to Files Used by Packages](../access-to-files-used-by-packages.md).</span></span>  
  
6.  <span data-ttu-id="31724-246">Clique na guia **Colunas** e, então, especifique quais são as colunas de índice usando a opção **Posição do Índice** .</span><span class="sxs-lookup"><span data-stu-id="31724-246">Click the **Columns** tab, and then specify which columns are the index columns by using the **Index Position** option.</span></span>  
  
     <span data-ttu-id="31724-247">Para colunas sem-índice, a posição de índice é 0.</span><span class="sxs-lookup"><span data-stu-id="31724-247">For non-index columns, the index position is 0.</span></span> <span data-ttu-id="31724-248">Para colunas de índice, a posição de índice é um número sequencial positivo.</span><span class="sxs-lookup"><span data-stu-id="31724-248">For index columns, the index position is a sequential, positive number.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="31724-249">Quando a transformação Pesquisa é configurada para usar um gerenciador de conexões de Cache, somente as colunas de índice no conjunto de dados de referência podem ser mapeadas para as colunas de entrada.</span><span class="sxs-lookup"><span data-stu-id="31724-249">When the Lookup transformation is configured to use a Cache connection manager, only index columns in the reference dataset can be mapped to input columns.</span></span> <span data-ttu-id="31724-250">Além disso, todas as colunas de índice devem ser mapeadas.</span><span class="sxs-lookup"><span data-stu-id="31724-250">Also, all index columns must be mapped.</span></span> <span data-ttu-id="31724-251">Para obter mais informações, consulte [Cache Connection Manager Editor](../cache-connection-manager-editor.md).</span><span class="sxs-lookup"><span data-stu-id="31724-251">For more information, see [Cache Connection Manager Editor](../cache-connection-manager-editor.md).</span></span>  
  
7.  <span data-ttu-id="31724-252">Na guia **Fluxo de Controle** , adicione uma tarefa de Fluxo de Dados ao pacote e adicione uma transformação Pesquisa ao fluxo de dados.</span><span class="sxs-lookup"><span data-stu-id="31724-252">On the **Control Flow** tab, add a Data Flow task to the package, and then add a Lookup transformation to the data flow.</span></span>  
  
8.  <span data-ttu-id="31724-253">Configure a transformação Pesquisa fazendo o seguinte:</span><span class="sxs-lookup"><span data-stu-id="31724-253">Configure the Lookup transformation by doing the following:</span></span>  
  
    1.  <span data-ttu-id="31724-254">Conecte a transformação Pesquisa ao fluxo de dados arrastando um conector de uma fonte ou transformação anterior para a transformação Pesquisa.</span><span class="sxs-lookup"><span data-stu-id="31724-254">Connect the Lookup transformation to the data flow by dragging a connector from a source or a previous transformation to the Lookup transformation.</span></span>  
  
        > [!NOTE]  
        >  <span data-ttu-id="31724-255">Uma transformação Pesquisa talvez não seja validada se essa transformação se conectar a um arquivo simples que contém um campo de data vazio.</span><span class="sxs-lookup"><span data-stu-id="31724-255">A Lookup transformation might not validate if that transformation connects to a flat file that contains an empty date field.</span></span> <span data-ttu-id="31724-256">A transformação será validada se o gerenciador de conexões para o arquivo simples tiver sido configurado para reter valores nulos.</span><span class="sxs-lookup"><span data-stu-id="31724-256">Whether the transformation validates depends on whether the connection manager for the flat file has been configured to retain null values.</span></span> <span data-ttu-id="31724-257">Para garantir a validação da transformação Pesquisa, no **Editor de Fonte de Arquivo Simples**, na página **Gerenciador de Conexões**, selecione a opção **Reter valores nulos da origem como valores nulos no fluxo de dados** .</span><span class="sxs-lookup"><span data-stu-id="31724-257">To ensure that the Lookup transformation validates, in the **Flat File Source Editor**, on the **Connection Manager Page**, select the **Retain null values from the source as null values in the data flow** option.</span></span>  
  
    2.  <span data-ttu-id="31724-258">Clique duas vezes na fonte ou transformação anterior para configurar o componente.</span><span class="sxs-lookup"><span data-stu-id="31724-258">Double-click the source or previous transformation to configure the component.</span></span>  
  
    3.  <span data-ttu-id="31724-259">Clique duas vezes na transformação Pesquisa e, então, em **Editor de Transformação Pesquisa**, na página **Geral** , selecione **Cache cheio**.</span><span class="sxs-lookup"><span data-stu-id="31724-259">Double-click the Lookup transformation, and then in the **Lookup Transformation Editor**, on the **General** page, select **Full cache**.</span></span>  
  
    4.  <span data-ttu-id="31724-260">Selecione **Gerenciador de conexões de cache** na área **Tipo de conexão** .</span><span class="sxs-lookup"><span data-stu-id="31724-260">Select **Cache connection manager** in the **Connection type** area.</span></span>  
  
    5.  <span data-ttu-id="31724-261">Selecione uma opção para tratamento de erros para as linhas sem entradas correspondentes na lista **Especificar como lidar com linhas com entradas não correspondentes** .</span><span class="sxs-lookup"><span data-stu-id="31724-261">Select an error handling option for rows without matching entries from the **Specify how to handle rows with no matching entries** list.</span></span>  
  
    6.  <span data-ttu-id="31724-262">Na página **Conexão** , da lista **Gerenciador de conexões de cache** , selecione o gerenciador de conexões de cache que você adicionou.</span><span class="sxs-lookup"><span data-stu-id="31724-262">On the **Connection** page, from the **Cache connection manager** list, select the Cache connection manager that you added.</span></span>  
  
    7.  <span data-ttu-id="31724-263">Clique na página **Colunas** e, então, arraste pelo menos uma coluna da lista **Colunas de Entrada Disponíveis** para uma coluna na lista **Coluna de Pesquisa Disponível** .</span><span class="sxs-lookup"><span data-stu-id="31724-263">Click the **Columns** page, and then drag at least one column from the **Available Input Columns** list to a column in the **Available Lookup Column** list.</span></span>  
  
        > [!NOTE]  
        >  <span data-ttu-id="31724-264">A transformação Pesquisa mapeia automaticamente colunas que têm o mesmo nome e o mesmo tipo de dados.</span><span class="sxs-lookup"><span data-stu-id="31724-264">The Lookup transformation automatically maps columns that have the same name and the same data type.</span></span>  
  
        > [!NOTE]  
        >  <span data-ttu-id="31724-265">Estas colunas devem ter tipos de dados correspondentes a serem mapeados.</span><span class="sxs-lookup"><span data-stu-id="31724-265">Columns must have matching data types to be mapped.</span></span> <span data-ttu-id="31724-266">Para obter mais informações, consulte [Integration Services Data Types](../data-flow/integration-services-data-types.md).</span><span class="sxs-lookup"><span data-stu-id="31724-266">For more information, see [Integration Services Data Types](../data-flow/integration-services-data-types.md).</span></span>  
  
    8.  <span data-ttu-id="31724-267">Na lista **Colunas de Pesquisa Disponíveis** , selecione colunas.</span><span class="sxs-lookup"><span data-stu-id="31724-267">In the **Available Lookup Columns** list, select columns.</span></span> <span data-ttu-id="31724-268">Então, na lista **Operação de Pesquisa** , especifique se os valores das colunas de pesquisa substituem os valores na coluna de entrada ou se são gravados em uma nova coluna.</span><span class="sxs-lookup"><span data-stu-id="31724-268">Then in the **Lookup Operation** list, specify whether the values from the lookup columns replace values in the input column or are written to a new column.</span></span>  
  
    9. <span data-ttu-id="31724-269">Para configurar a saída de erro, clique na página **Saída de Erro** e defina as opções de tratamento de erros.</span><span class="sxs-lookup"><span data-stu-id="31724-269">To configure the error output, click the **Error Output** page and set the error handling options.</span></span> <span data-ttu-id="31724-270">Para obter mais informações, consulte [Editor de Transformação Pesquisa &#40;página Saída de Erro&#41;](../lookup-transformation-editor-error-output-page.md).</span><span class="sxs-lookup"><span data-stu-id="31724-270">For more information, see [Lookup Transformation Editor &#40;Error Output Page&#41;](../lookup-transformation-editor-error-output-page.md).</span></span>  
  
    10. <span data-ttu-id="31724-271">Clique em **OK** para salvar suas alterações na transformação Pesquisa.</span><span class="sxs-lookup"><span data-stu-id="31724-271">Click **OK** to save your changes to the Lookup transformation.</span></span>  
  
9. <span data-ttu-id="31724-272">Execute o pacote.</span><span class="sxs-lookup"><span data-stu-id="31724-272">Run the package.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="31724-273">Consulte Também</span><span class="sxs-lookup"><span data-stu-id="31724-273">See Also</span></span>  
 <span data-ttu-id="31724-274">[Implementar uma Transformação Pesquisa em Modo de Cache Cheio por meio do gerenciador de conexões OLE DB](lookup-transformation-full-cache-mode-ole-db-connection-manager.md) </span><span class="sxs-lookup"><span data-stu-id="31724-274">[Implement a Lookup Transformation in Full Cache Mode Using the OLE DB Connection Manager](lookup-transformation-full-cache-mode-ole-db-connection-manager.md) </span></span>  
 <span data-ttu-id="31724-275">[Implementar uma pesquisa no modo Sem cache ou Cache parcial](../data-flow/transformations/implement-a-lookup-in-no-cache-or-partial-cache-mode.md) </span><span class="sxs-lookup"><span data-stu-id="31724-275">[Implement a Lookup in No Cache or Partial Cache Mode](../data-flow/transformations/implement-a-lookup-in-no-cache-or-partial-cache-mode.md) </span></span>  
 [<span data-ttu-id="31724-276">Transformações do Integration Services</span><span class="sxs-lookup"><span data-stu-id="31724-276">Integration Services Transformations</span></span>](../data-flow/transformations/integration-services-transformations.md)  
  
  
