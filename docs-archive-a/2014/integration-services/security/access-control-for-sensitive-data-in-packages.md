---
title: Controle de acesso de dados confidenciais em pacotes | Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: integration-services
ms.topic: conceptual
helpviewer_keywords:
- passwords [Integration Services]
- packages [Integration Services], security
- protection levels for packages [Integration Services]
- configuration files [Integration Services]
- encryption [Integration Services]
- cryptography [Integration Services]
- security [Integration Services], protection levels
ms.assetid: d4b073c4-4238-41fc-a258-4e114216e185
author: chugugrace
ms.author: chugu
ms.openlocfilehash: af1c29f2871d0cb43436fa065d16b24cb78fcce7
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87570757"
---
# <a name="access-control-for-sensitive-data-in-packages"></a><span data-ttu-id="c3a44-102">Controle de acesso de dados confidenciais em pacotes</span><span class="sxs-lookup"><span data-stu-id="c3a44-102">Access Control for Sensitive Data in Packages</span></span>
  <span data-ttu-id="c3a44-103">Para proteger os dados em um pacote do [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] , você pode definir um nível de proteção que ajude a proteger apenas dados confidenciais ou todos os dados no pacote.</span><span class="sxs-lookup"><span data-stu-id="c3a44-103">To protect the data in an [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] package, you can set a protection level that helps protect just sensitive data or all the data in the package.</span></span> <span data-ttu-id="c3a44-104">Além disso, você pode criptografar esses dados com uma senha ou uma chave de usuário ou contar com o banco de dados para criptografar os dados.</span><span class="sxs-lookup"><span data-stu-id="c3a44-104">Furthermore, you can encrypt this data with a password or a user key, or rely on the database to encrypt the data.</span></span> <span data-ttu-id="c3a44-105">Além disso, o nível de proteção usado para um pacote não é necessariamente estático, mas altera todo o ciclo de vida do pacote.</span><span class="sxs-lookup"><span data-stu-id="c3a44-105">Also, the protection level that you use for a package is not necessarily static, but changes throughout the life cycle of the package.</span></span> <span data-ttu-id="c3a44-106">Defina sempre um nível de proteção durante um desenvolvimento e outro assim que implantar o pacote.</span><span class="sxs-lookup"><span data-stu-id="c3a44-106">You often set one protection level during development and another as soon as you deploy the package.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="c3a44-107">Além dos níveis de proteção descritos neste tópico, você pode usar funções em nível de banco de dados fixas para proteger pacotes que são salvos no servidor do [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="c3a44-107">In addition to the protection levels described in this topic, you can use fixed database-level roles to protect packages that are saved to the [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] server.</span></span>  
  
## <a name="definition-of-sensitive-information"></a><span data-ttu-id="c3a44-108">Definição de informações confidenciais</span><span class="sxs-lookup"><span data-stu-id="c3a44-108">Definition of Sensitive Information</span></span>  
 <span data-ttu-id="c3a44-109">Em um pacote do [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] , as seguintes informações são definidas como *confidenciais*:</span><span class="sxs-lookup"><span data-stu-id="c3a44-109">In an [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] package, the following information is defined as *sensitive*:</span></span>  
  
-   <span data-ttu-id="c3a44-110">A parte da senha de uma cadeia de caracteres de conexão.</span><span class="sxs-lookup"><span data-stu-id="c3a44-110">The password part of a connection string.</span></span> <span data-ttu-id="c3a44-111">No entanto, se você selecionar uma opção que criptografa tudo, a cadeia de caracteres de conexão inteira será considerada confidencial.</span><span class="sxs-lookup"><span data-stu-id="c3a44-111">However, if you select an option that encrypts everything, the whole connection string will be considered sensitive.</span></span>  
  
-   <span data-ttu-id="c3a44-112">Os nós XML gerados por tarefa são marcados como confidenciais.</span><span class="sxs-lookup"><span data-stu-id="c3a44-112">The task-generated XML nodes that are tagged as sensitive.</span></span> <span data-ttu-id="c3a44-113">A marcação dos nós XML é controlada pelo [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] e não pode ser alterada pelos usuários.</span><span class="sxs-lookup"><span data-stu-id="c3a44-113">The tagging of XML nodes is controlled by [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] and cannot by changed by users.</span></span>  
  
-   <span data-ttu-id="c3a44-114">Qualquer variável marcada como confidencial.</span><span class="sxs-lookup"><span data-stu-id="c3a44-114">Any variable that is marked as sensitive.</span></span> <span data-ttu-id="c3a44-115">A marcação de variáveis é controlada pelo [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="c3a44-115">The marking of variables is controlled by [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)].</span></span>  
  
 <span data-ttu-id="c3a44-116">Se o [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] considera uma propriedade como confidencial, dependerá do desenvolvedor do componente [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] , como um gerenciador de conexão ou tarefa, ter designado a propriedade como confidencial.</span><span class="sxs-lookup"><span data-stu-id="c3a44-116">Whether [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] considers a property sensitive depends on whether the developer of the [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] component, such as a connection manager or task, has designated the property as sensitive.</span></span> <span data-ttu-id="c3a44-117">Os usuários não podem adicionar propriedades à lista de propriedades, nem removê-las, porque são consideradas confidenciais.</span><span class="sxs-lookup"><span data-stu-id="c3a44-117">Users cannot add properties to, nor can they remove properties from, the list of properties that are considered sensitive.</span></span>  
  
## <a name="encryption"></a><span data-ttu-id="c3a44-118">Criptografia</span><span class="sxs-lookup"><span data-stu-id="c3a44-118">Encryption</span></span>  
 <span data-ttu-id="c3a44-119">A criptografia, conforme usada pelos níveis de proteção do pacote, é executada usando a DPAPI (API de Proteção de Dados) da [!INCLUDE[msCoName](../../includes/msconame-md.md)] , que faz parte da CryptoAPI (Interface de programação de aplicativo de criptografia).</span><span class="sxs-lookup"><span data-stu-id="c3a44-119">Encryption, as used by package protection levels, is performed by using the [!INCLUDE[msCoName](../../includes/msconame-md.md)] Data Protection API (DPAPI), which is part of the Cryptography API (CryptoAPI).</span></span>  
  
 <span data-ttu-id="c3a44-120">Os níveis de proteção do pacote que criptografam pacotes usando senhas também exigem que você forneça uma senha.</span><span class="sxs-lookup"><span data-stu-id="c3a44-120">The package protection levels that encrypt packages by using passwords require that you provide a password also.</span></span> <span data-ttu-id="c3a44-121">Se o nível de proteção for alterado, de um nível que não usa uma senha para um que usa, você será solicitado a fornecer uma senha.</span><span class="sxs-lookup"><span data-stu-id="c3a44-121">If you change the protection level from a level that does not use a password to one that does, you will be prompted for a password.</span></span>  
  
 <span data-ttu-id="c3a44-122">Além disso, para os níveis de proteção que usam uma senha, o [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] usa o algoritmo de criptografia DES triplo com um comprimento de chave de 192 bits, disponível na FCL (Biblioteca de classes do [!INCLUDE[dnprdnshort](../../includes/dnprdnshort-md.md)] ).</span><span class="sxs-lookup"><span data-stu-id="c3a44-122">Also, for the protection levels that use a password, [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] uses the Triple DES cipher algorithm with a key length of 192 bits, available in the [!INCLUDE[dnprdnshort](../../includes/dnprdnshort-md.md)] Class Library (FCL).</span></span>  
  
## <a name="protection-levels"></a><span data-ttu-id="c3a44-123">Níveis de proteção</span><span class="sxs-lookup"><span data-stu-id="c3a44-123">Protection Levels</span></span>  
 <span data-ttu-id="c3a44-124">A tabela a seguir descreve os níveis de proteção que o [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] oferece.</span><span class="sxs-lookup"><span data-stu-id="c3a44-124">The following table describes the protection levels that [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] provides.</span></span> <span data-ttu-id="c3a44-125">Os valores entre parênteses são valores da enumeração do <xref:Microsoft.SqlServer.Dts.Runtime.DTSProtectionLevel> .</span><span class="sxs-lookup"><span data-stu-id="c3a44-125">The values in parentheses are values from the <xref:Microsoft.SqlServer.Dts.Runtime.DTSProtectionLevel> enumeration.</span></span> <span data-ttu-id="c3a44-126">Esses valores são exibidos na janela Propriedades usada para configurar as propriedades do pacote ao trabalhar com pacotes no [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)].</span><span class="sxs-lookup"><span data-stu-id="c3a44-126">These values appear in the Properties window that you use to configure the properties of the package when you work with packages in [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)].</span></span>  
  
|<span data-ttu-id="c3a44-127">Nível de proteção</span><span class="sxs-lookup"><span data-stu-id="c3a44-127">Protection level</span></span>|<span data-ttu-id="c3a44-128">DESCRIÇÃO</span><span class="sxs-lookup"><span data-stu-id="c3a44-128">Description</span></span>|  
|----------------------|-----------------|  
|<span data-ttu-id="c3a44-129">Não salvar dados confidenciais (`DontSaveSensitive`)</span><span class="sxs-lookup"><span data-stu-id="c3a44-129">Do not save sensitive (`DontSaveSensitive`)</span></span>|<span data-ttu-id="c3a44-130">Elimina os valores das propriedades confidenciais no pacote quando o pacote é salvo.</span><span class="sxs-lookup"><span data-stu-id="c3a44-130">Suppresses the values of sensitive properties in the package when the package is saved.</span></span> <span data-ttu-id="c3a44-131">Este nível de proteção não criptografa dados, em vez disso impede que as propriedades marcadas como confidenciais sejam salvas com o pacote e, consequentemente, tornam os dados confidenciais indisponíveis para os outros usuários.</span><span class="sxs-lookup"><span data-stu-id="c3a44-131">This protection level does not encrypt, but instead it prevents properties that are marked sensitive from being saved with the package and therefore makes the sensitive data unavailable to other users.</span></span> <span data-ttu-id="c3a44-132">Se um usuário diferente abrir o pacote, as informações confidenciais serão substituídas por espaços em branco e o usuário precisará fornecer as informações confidenciais.</span><span class="sxs-lookup"><span data-stu-id="c3a44-132">If a different user opens the package, the sensitive information is replaced with blanks and the user must provide the sensitive information.</span></span><br /><br /> <span data-ttu-id="c3a44-133">Quando usado com o utilitário **dtutil** (dtutil.exe), esse nível de proteção corresponde ao valor de 0.</span><span class="sxs-lookup"><span data-stu-id="c3a44-133">When used with the **dtutil** utility (dtutil.exe), this protection level corresponds to the value of 0.</span></span>|  
|<span data-ttu-id="c3a44-134">Criptografar tudo com senha (`EncryptAllWithPassword`)</span><span class="sxs-lookup"><span data-stu-id="c3a44-134">Encrypt all with password (`EncryptAllWithPassword`)</span></span>|<span data-ttu-id="c3a44-135">Usa uma senha para criptografar todo o pacote.</span><span class="sxs-lookup"><span data-stu-id="c3a44-135">Uses a password to encrypt the whole package.</span></span> <span data-ttu-id="c3a44-136">O pacote é criptografado usando uma senha fornecida pelo usuário quando o pacote é criado ou exportado.</span><span class="sxs-lookup"><span data-stu-id="c3a44-136">The package is encrypted by using a password that the user supplies when the package is created or exported.</span></span> <span data-ttu-id="c3a44-137">Para abrir o pacote no [!INCLUDE[ssIS](../../includes/ssis-md.md)] Designer ou executá-lo com o utilitário de prompt de comando **dtexec** o usuário deve fornecer a senha do pacote.</span><span class="sxs-lookup"><span data-stu-id="c3a44-137">To open the package in [!INCLUDE[ssIS](../../includes/ssis-md.md)] Designer or run the package by using the **dtexec** command prompt utility, the user must provide the package password.</span></span> <span data-ttu-id="c3a44-138">Sem a senha o usuário não pode acessar ou executar o pacote.</span><span class="sxs-lookup"><span data-stu-id="c3a44-138">Without the password the user cannot access or run the package.</span></span><br /><br /> <span data-ttu-id="c3a44-139">Quando usado com o utilitário **dtutil** , esse nível de proteção corresponde ao valor de 3.</span><span class="sxs-lookup"><span data-stu-id="c3a44-139">When used with the **dtutil** utility, this protection level corresponds to the value of 3.</span></span>|  
|<span data-ttu-id="c3a44-140">Criptografar tudo com chave de usuário (`EncryptAllWithUserKey`)</span><span class="sxs-lookup"><span data-stu-id="c3a44-140">Encrypt all with user key (`EncryptAllWithUserKey`)</span></span>|<span data-ttu-id="c3a44-141">Usa uma chave baseada no perfil do usuário atual para criptografar todo o pacote.</span><span class="sxs-lookup"><span data-stu-id="c3a44-141">Uses a key that is based on the current user profile to encrypt the whole package.</span></span> <span data-ttu-id="c3a44-142">Apenas o usuário que criou ou exportou o pacote pode abrir o pacote no [!INCLUDE[ssIS](../../includes/ssis-md.md)] Designer ou executá-lo com o utilitário de prompt de comando **dtexec** .</span><span class="sxs-lookup"><span data-stu-id="c3a44-142">Only the user who created or exported the package can open the package in [!INCLUDE[ssIS](../../includes/ssis-md.md)] Designer or run the package by using the **dtexec** command prompt utility.</span></span><br /><br /> <span data-ttu-id="c3a44-143">Quando usado com o utilitário **dtutil** , esse nível de proteção corresponde ao valor de 4.</span><span class="sxs-lookup"><span data-stu-id="c3a44-143">When used with the **dtutil** utility, this protection level corresponds to the value of 4.</span></span><br /><br /> <span data-ttu-id="c3a44-144">Observação: para os níveis de proteção que usam uma chave de usuário, o [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] usa os padrões DPAPI.</span><span class="sxs-lookup"><span data-stu-id="c3a44-144">Note: For protection levels that use a user key, [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] uses DPAPI standards.</span></span> <span data-ttu-id="c3a44-145">Para obter mais informações sobre o DPAPI, consulte a Biblioteca do MSDN em [https://msdn.microsoft.com/library](https://go.microsoft.com/fwlink/?LinkId=15408).</span><span class="sxs-lookup"><span data-stu-id="c3a44-145">For more information about DPAPI, see the MSDN Library at [https://msdn.microsoft.com/library](https://go.microsoft.com/fwlink/?LinkId=15408).</span></span>|  
|<span data-ttu-id="c3a44-146">Criptografar dados confidenciais com senha (`EncryptSensitiveWithPassword`)</span><span class="sxs-lookup"><span data-stu-id="c3a44-146">Encrypt sensitive with password (`EncryptSensitiveWithPassword`)</span></span>|<span data-ttu-id="c3a44-147">Usa uma senha para criptografar apenas os valores de propriedades confidenciais no pacote.</span><span class="sxs-lookup"><span data-stu-id="c3a44-147">Uses a password to encrypt only the values of sensitive properties in the package.</span></span> <span data-ttu-id="c3a44-148">O DPAPI é usado para essa criptografia.</span><span class="sxs-lookup"><span data-stu-id="c3a44-148">DPAPI is used for this encryption.</span></span> <span data-ttu-id="c3a44-149">Os dados confidenciais são salvos como parte do pacote, mas esses dados são criptografados usando uma senha que o usuário atual fornece quando o pacote é criado ou exportado.</span><span class="sxs-lookup"><span data-stu-id="c3a44-149">Sensitive data is saved as a part of the package, but that data is encrypted by using a password that the current user supplies when the package is created or exported.</span></span> <span data-ttu-id="c3a44-150">Para abrir o pacote no Designer [!INCLUDE[ssIS](../../includes/ssis-md.md)] , o usuário precisa fornecer a senha do pacote.</span><span class="sxs-lookup"><span data-stu-id="c3a44-150">To open the package in [!INCLUDE[ssIS](../../includes/ssis-md.md)] Designer, the user must provide the package password.</span></span> <span data-ttu-id="c3a44-151">Se a senha não for fornecida, o pacote será aberto sem os dados confidenciais e o usuário atual deverá fornecer valores novos para os dados confidenciais.</span><span class="sxs-lookup"><span data-stu-id="c3a44-151">If the password is not provided, the package opens without the sensitive data and the current user must provide new values for sensitive data.</span></span> <span data-ttu-id="c3a44-152">Se o usuário tentar executar o pacote sem fornecer a senha, a execução do pacote não terá êxito.</span><span class="sxs-lookup"><span data-stu-id="c3a44-152">If the user tries to execute the package without providing the password, package execution fails.</span></span> <span data-ttu-id="c3a44-153">Para obter mais informações sobre senhas e execução de linha de comandos, consulte [dtexec Utility](../packages/dtexec-utility.md).</span><span class="sxs-lookup"><span data-stu-id="c3a44-153">For more information about passwords and command line execution, see [dtexec Utility](../packages/dtexec-utility.md).</span></span><br /><br /> <span data-ttu-id="c3a44-154">Quando usado com o utilitário **dtutil** , esse nível de proteção corresponde ao valor de 2.</span><span class="sxs-lookup"><span data-stu-id="c3a44-154">When used with the **dtutil** utility, this protection level corresponds to the value of 2.</span></span>|  
|<span data-ttu-id="c3a44-155">Criptografar dados confidenciais com chave de usuário (`EncryptSensitiveWithUserKey`)</span><span class="sxs-lookup"><span data-stu-id="c3a44-155">Encrypt sensitive with user key (`EncryptSensitiveWithUserKey`)</span></span>|<span data-ttu-id="c3a44-156">Usa uma chave baseada no perfil do usuário atual para criptografar apenas os valores das propriedades confidenciais do pacote.</span><span class="sxs-lookup"><span data-stu-id="c3a44-156">Uses a key that is based on the current user profile to encrypt only the values of sensitive properties in the package.</span></span> <span data-ttu-id="c3a44-157">Apenas o mesmo usuário que usa o mesmo perfil pode carregar o pacote.</span><span class="sxs-lookup"><span data-stu-id="c3a44-157">Only the same user who uses the same profile can load the package.</span></span> <span data-ttu-id="c3a44-158">Se um usuário diferente abrir o pacote, as informações confidenciais serão substituídas por espaços em branco e o usuário atual deverá fornecer novos valores para os dados confidenciais.</span><span class="sxs-lookup"><span data-stu-id="c3a44-158">If a different user opens the package, the sensitive information is replaced with blanks and the current user must provide new values for the sensitive data.</span></span> <span data-ttu-id="c3a44-159">Se o usuário tentar executar o pacote, a execução de pacote não terá êxito.</span><span class="sxs-lookup"><span data-stu-id="c3a44-159">If the user attempts to execute the package, package execution fails.</span></span> <span data-ttu-id="c3a44-160">O DPAPI é usado para essa criptografia.</span><span class="sxs-lookup"><span data-stu-id="c3a44-160">DPAPI is used for this encryption.</span></span><br /><br /> <span data-ttu-id="c3a44-161">Quando usado com o utilitário **dtutil** , esse nível de proteção corresponde ao valor de 1.</span><span class="sxs-lookup"><span data-stu-id="c3a44-161">When used with the **dtutil** utility, this protection level corresponds to the value of 1.</span></span><br /><br /> <span data-ttu-id="c3a44-162">Observação: para os níveis de proteção que usam uma chave de usuário, o [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] usa os padrões DPAPI.</span><span class="sxs-lookup"><span data-stu-id="c3a44-162">Note: For protection levels that use a user key, [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] uses DPAPI standards.</span></span> <span data-ttu-id="c3a44-163">Para obter mais informações sobre o DPAPI, consulte a Biblioteca do MSDN em [https://msdn.microsoft.com/library](https://go.microsoft.com/fwlink/?LinkId=15408).</span><span class="sxs-lookup"><span data-stu-id="c3a44-163">For more information about DPAPI, see the MSDN Library at [https://msdn.microsoft.com/library](https://go.microsoft.com/fwlink/?LinkId=15408).</span></span>|  
|<span data-ttu-id="c3a44-164">Depender do armazenamento do servidor para criptografia (`ServerStorage`)</span><span class="sxs-lookup"><span data-stu-id="c3a44-164">Rely on server storage for encryption (`ServerStorage`)</span></span>|<span data-ttu-id="c3a44-165">Protege o pacote inteiro usando funções do banco de dados [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="c3a44-165">Protects the whole package using [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] database roles.</span></span> <span data-ttu-id="c3a44-166">Há suporte para essa opção quando um pacote é salvo no banco de dados msdb do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="c3a44-166">This option is supported when a package is saved to the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] msdb database.</span></span> <span data-ttu-id="c3a44-167">Somado a isso, o catálogo SSISDB usa o nível de proteção `ServerStorage`.</span><span class="sxs-lookup"><span data-stu-id="c3a44-167">In addition, the SSISDB catalog uses the `ServerStorage` protection level</span></span><br /><br /> <span data-ttu-id="c3a44-168">Essa opção não tem suporte quando um pacote é salvo no sistema de arquivos no [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)].</span><span class="sxs-lookup"><span data-stu-id="c3a44-168">This option is not supported when a package is saved to the file system from [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)].</span></span>|  
  
## <a name="protection-level-setting-and-the-ssisdb-catalog"></a><span data-ttu-id="c3a44-169">Definição do nível de proteção e o catálogo SSISDB</span><span class="sxs-lookup"><span data-stu-id="c3a44-169">Protection Level Setting and the SSISDB Catalog</span></span>  
 <span data-ttu-id="c3a44-170">O catálogo SSISDB usa o nível de proteção `ServerStorage`.</span><span class="sxs-lookup"><span data-stu-id="c3a44-170">The SSISDB catalog uses the `ServerStorage` protection level.</span></span> <span data-ttu-id="c3a44-171">Quando você implantar um projeto do [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] para o servidor do [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] , o catálogo criptografará automaticamente os dados do pacote e os valores confidenciais.</span><span class="sxs-lookup"><span data-stu-id="c3a44-171">When you deploy an [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] project to the [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] server, the catalog automatically encrypts the package data and sensitive values.</span></span> <span data-ttu-id="c3a44-172">O catálogo também descriptografa automaticamente os dados quando você recupera-os.</span><span class="sxs-lookup"><span data-stu-id="c3a44-172">The catalog also automatically decrypts the data when you retrieve it.</span></span>  
  
 <span data-ttu-id="c3a44-173">Se você exportar o projeto (arquivo .ispac) do servidor do [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] para o sistema de arquivos, o sistema automaticamente alterará o nível de proteção para `EncryptSensitiveWithUserKey`.</span><span class="sxs-lookup"><span data-stu-id="c3a44-173">If you export the project (.ispac file) from the [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] server to the file system, the system automatically changes the protection level to `EncryptSensitiveWithUserKey`.</span></span> <span data-ttu-id="c3a44-174">Se você importar o projeto usando o **Assistente de Integration Services importação de projeto** no [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)] , a propriedade **ProtectionLevel** na janela **Propriedades** mostrará um valor de `EncryptSensitiveWithUserKey` .</span><span class="sxs-lookup"><span data-stu-id="c3a44-174">If you import the project by using the **Integration Services Import Project Wizard** in [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)], the **ProtectionLevel** property in the **Properties** window shows a value of `EncryptSensitiveWithUserKey`.</span></span>  
  
## <a name="protection-level-setting-based-on-package-life-cycle"></a><span data-ttu-id="c3a44-175">Configuração do nível de proteção com base no ciclo de vida do pacote</span><span class="sxs-lookup"><span data-stu-id="c3a44-175">Protection Level Setting Based on Package Life Cycle</span></span>  
 <span data-ttu-id="c3a44-176">Você define o nível de proteção de um pacote do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] quando o desenvolve pela primeira vez no [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)].</span><span class="sxs-lookup"><span data-stu-id="c3a44-176">You set the protection level of a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] package when you first develop it in [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)].</span></span> <span data-ttu-id="c3a44-177">Posteriormente, quando o pacote for implantado, importado ou exportado do [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] no [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)]ou copiado do [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)] para o [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], o Armazenamento de Pacotes do [!INCLUDE[ssIS](../../includes/ssis-md.md)] ou o sistema de arquivos, você poderá atualizar o nível de proteção do pacote.</span><span class="sxs-lookup"><span data-stu-id="c3a44-177">Later, when the package is deployed, imported or exported from [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] in [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)], or copied from [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)] to [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], the [!INCLUDE[ssIS](../../includes/ssis-md.md)] Package Store, or the file system, you can update the package protection level.</span></span> <span data-ttu-id="c3a44-178">Por exemplo, se você criar e salvar pacotes no computador com uma das opções de nível de proteção de chave de usuário, provavelmente precisará alterar o nível de proteção ao fornecer o pacote a outros usuários; caso contrário eles não poderão abrir o pacote.</span><span class="sxs-lookup"><span data-stu-id="c3a44-178">For example, if you create and save packages on your computer with one of the user key protection level options, you likely would want to change the protection level when you give the package to other users; otherwise they cannot open the package.</span></span>  
  
 <span data-ttu-id="c3a44-179">Em geral, você altera o nível de proteção conforme listado nas seguintes etapas:</span><span class="sxs-lookup"><span data-stu-id="c3a44-179">Typically, you change the protection level as listed in the following steps:</span></span>  
  
1.  <span data-ttu-id="c3a44-180">Durante o desenvolvimento, deixe o nível de proteção de pacotes definido como o valor padrão, `EncryptSensitiveWithUserKey`.</span><span class="sxs-lookup"><span data-stu-id="c3a44-180">During development, leave the protection level of packages set to the default value, `EncryptSensitiveWithUserKey`.</span></span> <span data-ttu-id="c3a44-181">Essa configuração ajuda a garantir que somente o desenvolvedor veja os valores confidenciais no pacote.</span><span class="sxs-lookup"><span data-stu-id="c3a44-181">This setting helps ensure that only the developer sees sensitive values in the package.</span></span> <span data-ttu-id="c3a44-182">Ou, você pode considerar o uso de `EncryptAllWithUserKey` ou de `DontSaveSensitive`.</span><span class="sxs-lookup"><span data-stu-id="c3a44-182">Or, you can consider using `EncryptAllWithUserKey`, or `DontSaveSensitive`.</span></span>  
  
2.  <span data-ttu-id="c3a44-183">Na hora de implantar os pacotes, você precisa alterar o nível de proteção para um que não dependa da chave de usuário do desenvolvedor.</span><span class="sxs-lookup"><span data-stu-id="c3a44-183">When it is time to deploy the packages, you have to change the protection level to one that does not depend on the developer's user key.</span></span> <span data-ttu-id="c3a44-184">Portanto, normalmente, você precisa selecionar `EncryptSensitiveWithPassword` ou `EncryptAllWithPassword`.</span><span class="sxs-lookup"><span data-stu-id="c3a44-184">Therefore you typically have to select `EncryptSensitiveWithPassword`, or `EncryptAllWithPassword`.</span></span> <span data-ttu-id="c3a44-185">Criptografe os pacotes atribuindo uma senha forte temporária que também seja conhecida pela equipe de operações no ambiente de produção.</span><span class="sxs-lookup"><span data-stu-id="c3a44-185">Encrypt the packages by assigning a temporary strong password that is also known to the operations team in the production environment.</span></span>  
  
3.  <span data-ttu-id="c3a44-186">Após a implantação dos pacotes no ambiente de produção, a equipe de operações pode criptografar novamente os pacotes implantados atribuindo uma senha forte conhecida somente por eles.</span><span class="sxs-lookup"><span data-stu-id="c3a44-186">After the packages have been deployed to the production environment, the operations team can re-encrypt the deployed packages by assigning a strong password that is known only to them.</span></span> <span data-ttu-id="c3a44-187">Ou, eles podem criptografar os pacotes implantados selecionando `EncryptSensitiveWithUserKey` ou `EncryptAllWithUserKey` e usando as credenciais locais da conta que executará os pacotes.</span><span class="sxs-lookup"><span data-stu-id="c3a44-187">Or, they can encrypt the deployed packages by selecting `EncryptSensitiveWithUserKey` or `EncryptAllWithUserKey`, and using the local credentials of the account that will run the packages.</span></span>  
  
## <a name="related-tasks"></a><span data-ttu-id="c3a44-188">Related Tasks</span><span class="sxs-lookup"><span data-stu-id="c3a44-188">Related Tasks</span></span>  
  
-   [<span data-ttu-id="c3a44-189">Definir ou alterar o nível de proteção dos pacotes</span><span class="sxs-lookup"><span data-stu-id="c3a44-189">Set or Change the Protection Level of Packages</span></span>](../set-or-change-the-protection-level-of-packages.md)  
  
## <a name="see-also"></a><span data-ttu-id="c3a44-190">Consulte Também</span><span class="sxs-lookup"><span data-stu-id="c3a44-190">See Also</span></span>  
 <span data-ttu-id="c3a44-191">[Importar e exportar pacotes &#40;serviço SSIS&#41;](../import-and-export-packages-ssis-service.md) </span><span class="sxs-lookup"><span data-stu-id="c3a44-191">[Import and Export Packages &#40;SSIS Service&#41;](../import-and-export-packages-ssis-service.md) </span></span>  
 <span data-ttu-id="c3a44-192">[Integration Services &#40;os pacotes&#41; SSIS](../integration-services-ssis-packages.md) </span><span class="sxs-lookup"><span data-stu-id="c3a44-192">[Integration Services &#40;SSIS&#41; Packages](../integration-services-ssis-packages.md) </span></span>  
 [<span data-ttu-id="c3a44-193">Visão geral de segurança &#40;Integration Services&#41;</span><span class="sxs-lookup"><span data-stu-id="c3a44-193">Security Overview &#40;Integration Services&#41;</span></span>](security-overview-integration-services.md)  
  
  
