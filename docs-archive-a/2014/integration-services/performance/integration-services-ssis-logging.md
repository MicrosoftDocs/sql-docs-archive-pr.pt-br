---
title: Log do SSIS (Integration Services) | Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: integration-services
ms.topic: conceptual
helpviewer_keywords:
- containers [Integration Services], logs
- Windows Event log provider [Integration Services]
- XML File log provider [Integration Services]
- SQL Server Profiler, log provider
- SQL Server Integration Services packages, logs
- SSIS packages, logs
- tasks [Integration Services], logs
- logs [Integration Services], log providers
- Integration Services packages, logs
- log providers [Integration Services]
- packages [Integration Services], logs
- Text File log provider
- SQL Server log provider
ms.assetid: 65e17889-371f-4951-9a7e-9932b2d0dcde
author: chugugrace
ms.author: chugu
ms.openlocfilehash: f79a8bf7889948a17671f9373bec30e8fdf78ba2
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87570092"
---
# <a name="integration-services-ssis-logging"></a><span data-ttu-id="7f098-102">Log do SSIS (Integration Services)</span><span class="sxs-lookup"><span data-stu-id="7f098-102">Integration Services (SSIS) Logging</span></span>
  <span data-ttu-id="7f098-103">O [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] inclui provedores de log que você pode usar para implementar o log em pacotes, contêineres e tarefas.</span><span class="sxs-lookup"><span data-stu-id="7f098-103">[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] includes log providers that you can use to implement logging in packages, containers, and tasks.</span></span> <span data-ttu-id="7f098-104">Com o log, você pode capturar informações de tempo de execução sobre um pacote, que o ajudem a auditar e solucionar problemas de um pacote sempre que ele for executado.</span><span class="sxs-lookup"><span data-stu-id="7f098-104">With logging, you can capture run-time information about a package, helping you audit and troubleshoot a package every time it is run.</span></span> <span data-ttu-id="7f098-105">Por exemplo, um log pode capturar o nome do operador que executou o pacote e a hora em que o pacote começou e foi concluído.</span><span class="sxs-lookup"><span data-stu-id="7f098-105">For example, a log can capture the name of the operator who ran the package and the time the package began and finished.</span></span>  
  
 <span data-ttu-id="7f098-106">Você pode configurar o escopo de log que ocorre durante a execução de um pacote no servidor do [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="7f098-106">You can configure the scope of logging that occurs during a package execution on the [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] server.</span></span> <span data-ttu-id="7f098-107">Para saber mais, veja [Habilitar o log para a execução do pacote no servidor SSIS](../enable-logging-for-package-execution-on-the-ssis-server.md).</span><span class="sxs-lookup"><span data-stu-id="7f098-107">For more information, see [Enable Logging for Package Execution on the SSIS Server](../enable-logging-for-package-execution-on-the-ssis-server.md).</span></span>  
  
 <span data-ttu-id="7f098-108">Você também pode incluir o log ao executar um pacote por meio do utilitário de prompt de comando **dtexec** .</span><span class="sxs-lookup"><span data-stu-id="7f098-108">You can also include logging when you run a package using the **dtexec** command prompt utility.</span></span> <span data-ttu-id="7f098-109">Para obter mais informações sobre os argumentos do prompt de comando que oferecem suporte para registros, consulte [dtexec Utility](../packages/dtexec-utility.md).</span><span class="sxs-lookup"><span data-stu-id="7f098-109">For more information about the command prompt arguments that support logging, see [dtexec Utility](../packages/dtexec-utility.md).</span></span>  
  
## <a name="configure-logging-in-sql-server-data-tools"></a><span data-ttu-id="7f098-110">Configurar o log no SQL Server Data Tools</span><span class="sxs-lookup"><span data-stu-id="7f098-110">Configure Logging in SQL Server Data Tools</span></span>  
 <span data-ttu-id="7f098-111">Logs são associados a pacotes e são configurados no nível de pacote.</span><span class="sxs-lookup"><span data-stu-id="7f098-111">Logs are associated with packages and are configured at the package level.</span></span> <span data-ttu-id="7f098-112">Cada tarefa ou contêiner em um pacote pode registrar informações em qualquer log de pacote.</span><span class="sxs-lookup"><span data-stu-id="7f098-112">Each task or container in a package can log information to any package log.</span></span> <span data-ttu-id="7f098-113">As tarefas e os contêineres em um pacote podem ser habilitados para registro mesmo se o próprio pacote não for habilitado para isso.</span><span class="sxs-lookup"><span data-stu-id="7f098-113">The tasks and containers in a package can be enabled for logging even if the package itself is not.</span></span> <span data-ttu-id="7f098-114">Por exemplo, você pode habilitar o registro em uma tarefa Executar SQL sem habilitar o registro no pacote pai.</span><span class="sxs-lookup"><span data-stu-id="7f098-114">For example, you can enable logging on an Execute SQL task without enabling logging on the parent package.</span></span> <span data-ttu-id="7f098-115">Um pacote, contêiner ou tarefa pode gravar em vários logs.</span><span class="sxs-lookup"><span data-stu-id="7f098-115">A package, container, or task can write to multiple logs.</span></span> <span data-ttu-id="7f098-116">Você só pode habilitar o registro no pacote ou optar por habilitar o registro em qualquer tarefa ou contêiner individual que o pacote inclua.</span><span class="sxs-lookup"><span data-stu-id="7f098-116">You can enable logging on the package only, or you can choose to enable logging on any individual task or container that the package includes.</span></span>  
  
 <span data-ttu-id="7f098-117">Ao adicionar o log a um pacote, você escolhe o provedor de log e o local do log.</span><span class="sxs-lookup"><span data-stu-id="7f098-117">When you add the log to a package, you choose the log provider and the location of the log.</span></span> <span data-ttu-id="7f098-118">O provedor de log especifica o formato para obter os dados de log: por exemplo, um banco de dados do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] ou arquivo de texto.</span><span class="sxs-lookup"><span data-stu-id="7f098-118">The log provider specifies the format for the log data: for example, a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] database or text file.</span></span>  
  
 [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] <span data-ttu-id="7f098-119">inclui os seguintes provedores de log:</span><span class="sxs-lookup"><span data-stu-id="7f098-119">includes the following log providers:</span></span>  
  
-   <span data-ttu-id="7f098-120">O provedor de log Arquivo de texto que grava entradas de log em arquivos de texto de ASCII em formato CSV (valores separados por vírgula).</span><span class="sxs-lookup"><span data-stu-id="7f098-120">The Text File log provider, which writes log entries to ASCII text files in a comma-separated value (CSV) format.</span></span> <span data-ttu-id="7f098-121">A extensão de nome de arquivo padrão deste provedor é .log.</span><span class="sxs-lookup"><span data-stu-id="7f098-121">The default file name extension for this provider is .log.</span></span>  
  
-   <span data-ttu-id="7f098-122">O provedor de log [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)] , que grava rastreamentos que você pode exibir usando o [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Profiler.</span><span class="sxs-lookup"><span data-stu-id="7f098-122">The [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)] log provider, which writes traces that you can view using [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Profiler.</span></span> <span data-ttu-id="7f098-123">A extensão de nome de arquivo padrão deste provedor é .trc.</span><span class="sxs-lookup"><span data-stu-id="7f098-123">The default file name extension for this provider is .trc.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="7f098-124">Não é possível usar o provedor de log [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)] em um pacote executado no modo de 64 bits.</span><span class="sxs-lookup"><span data-stu-id="7f098-124">You cannot use the [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)] log provider in a package that is running in 64-bit mode.</span></span>  
  
-   <span data-ttu-id="7f098-125">O [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] provedor de log, que grava entradas de log `sysssislog` na tabela em um [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] banco de dados.</span><span class="sxs-lookup"><span data-stu-id="7f098-125">The [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] log provider, which writes log entries to the `sysssislog` table in a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] database.</span></span>  
  
-   <span data-ttu-id="7f098-126">O provedor de log de Eventos do Windows, que grava entradas no log de Aplicativo do log de Eventos do Windows no computador local.</span><span class="sxs-lookup"><span data-stu-id="7f098-126">The Windows Event log provider, which writes entries to the Application log in the Windows Event log on the local computer.</span></span>  
  
-   <span data-ttu-id="7f098-127">O provedor de log Arquivo XML, que grava arquivos de log em um arquivo XML.</span><span class="sxs-lookup"><span data-stu-id="7f098-127">The XML File log provider, which writes log files to an XML file.</span></span> <span data-ttu-id="7f098-128">A extensão de nome de arquivo padrão deste provedor é .xml.</span><span class="sxs-lookup"><span data-stu-id="7f098-128">The default file name extension for this provider is .xml.</span></span>  
  
 <span data-ttu-id="7f098-129">Se você adicionar um provedor de log a um pacote ou configurar o log programaticamente, poderá usar um ProgID ou ClassID para identificar o provedor de log em vez de usar os nomes que o Designer [!INCLUDE[ssIS](../../includes/ssis-md.md)] exibe na caixa de diálogo **Configurar Logs de SSIS** .</span><span class="sxs-lookup"><span data-stu-id="7f098-129">If you add a log provider to a package or configure logging programmatically, you can use either a ProgID or ClassID to identify the log provider, instead of using the names that [!INCLUDE[ssIS](../../includes/ssis-md.md)] Designer displays in the **Configure SSIS Logs** dialog box.</span></span>  
  
 <span data-ttu-id="7f098-130">A tabela a seguir lista o ProgID e o ClassID dos provedores de log incluídos pelo [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] , e o local dos logs nos quais os provedores de log gravam.</span><span class="sxs-lookup"><span data-stu-id="7f098-130">The following table lists the ProgID and ClassID for the log providers that [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] includes, and the location of the logs to which log providers write.</span></span>  
  
|<span data-ttu-id="7f098-131">Provedor de log</span><span class="sxs-lookup"><span data-stu-id="7f098-131">Log provider</span></span>|<span data-ttu-id="7f098-132">ProgID</span><span class="sxs-lookup"><span data-stu-id="7f098-132">ProgID</span></span>|<span data-ttu-id="7f098-133">ClassID</span><span class="sxs-lookup"><span data-stu-id="7f098-133">ClassID</span></span>|<span data-ttu-id="7f098-134">Location</span><span class="sxs-lookup"><span data-stu-id="7f098-134">Location</span></span>|  
|------------------|------------|-------------|--------------|  
|<span data-ttu-id="7f098-135">Arquivo de texto</span><span class="sxs-lookup"><span data-stu-id="7f098-135">Text file</span></span>|<span data-ttu-id="7f098-136">DTS.LogProviderTextFile</span><span class="sxs-lookup"><span data-stu-id="7f098-136">DTS.LogProviderTextFile</span></span>|<span data-ttu-id="7f098-137">{0A039101-ACC1-4E06-943F-279948323883}</span><span class="sxs-lookup"><span data-stu-id="7f098-137">{0A039101-ACC1-4E06-943F-279948323883}</span></span>|<span data-ttu-id="7f098-138">O gerenciador de conexões de arquivos usado pelo provedor de log especifica o caminho do arquivo de texto.</span><span class="sxs-lookup"><span data-stu-id="7f098-138">The File connection manager that the log provider uses specifies the path of the text file.</span></span>|  
|<span data-ttu-id="7f098-139">SQL Server Profiler</span><span class="sxs-lookup"><span data-stu-id="7f098-139">SQL Server Profiler</span></span>|<span data-ttu-id="7f098-140">DTS.LogProviderSQLProfiler</span><span class="sxs-lookup"><span data-stu-id="7f098-140">DTS.LogProviderSQLProfiler</span></span>|<span data-ttu-id="7f098-141">{E93F6300-AE0C-4916-A7BF-A8D0CE12C77A}</span><span class="sxs-lookup"><span data-stu-id="7f098-141">{E93F6300-AE0C-4916-A7BF-A8D0CE12C77A}</span></span>|<span data-ttu-id="7f098-142">O gerenciador de conexões de arquivos que o provedor de registro usa especifica o caminho usado pelo [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)].</span><span class="sxs-lookup"><span data-stu-id="7f098-142">The File connection manager that the log provider uses specifies the path of the file used by [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)].</span></span>|  
|<span data-ttu-id="7f098-143">SQL Server</span><span class="sxs-lookup"><span data-stu-id="7f098-143">SQL Server</span></span>|<span data-ttu-id="7f098-144">DTS.LogProviderSQLServer</span><span class="sxs-lookup"><span data-stu-id="7f098-144">DTS.LogProviderSQLServer</span></span>|<span data-ttu-id="7f098-145">{94150B25-6AEB-4C0D-996D-D37D1C4FDEDA}</span><span class="sxs-lookup"><span data-stu-id="7f098-145">{94150B25-6AEB-4C0D-996D-D37D1C4FDEDA}</span></span>|<span data-ttu-id="7f098-146">O gerenciador de conexões do OLE DB usado pelo provedor de registro especifica o banco de dados do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] que contém a tabela sysssislog com as entradas do registro.</span><span class="sxs-lookup"><span data-stu-id="7f098-146">The OLE DB connection manager that the log provider uses specifies the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] database that contains the sysssislog table with the log entries.</span></span>|  
|<span data-ttu-id="7f098-147">Log de eventos do Windows</span><span class="sxs-lookup"><span data-stu-id="7f098-147">Windows Event Log</span></span>|<span data-ttu-id="7f098-148">DTS.LogProviderEventLog</span><span class="sxs-lookup"><span data-stu-id="7f098-148">DTS.LogProviderEventLog</span></span>|<span data-ttu-id="7f098-149">{071CC8EB-C343-4CFF-8D58-564B92FCA3CF}</span><span class="sxs-lookup"><span data-stu-id="7f098-149">{071CC8EB-C343-4CFF-8D58-564B92FCA3CF}</span></span>|<span data-ttu-id="7f098-150">O log do Aplicativo no recurso Visualizador de Eventos do Windows contém as informações de registro do [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="7f098-150">The Application log in Windows Event Viewer contains the [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] log information.</span></span>|  
|<span data-ttu-id="7f098-151">Arquivo XML</span><span class="sxs-lookup"><span data-stu-id="7f098-151">XML File</span></span>|<span data-ttu-id="7f098-152">DTS.LogProviderXMLFile</span><span class="sxs-lookup"><span data-stu-id="7f098-152">DTS.LogProviderXMLFile</span></span>|<span data-ttu-id="7f098-153">{440945A4-2A22-4F19-B577-EAF5FDDC5F7A}</span><span class="sxs-lookup"><span data-stu-id="7f098-153">{440945A4-2A22-4F19-B577-EAF5FDDC5F7A}</span></span>|<span data-ttu-id="7f098-154">O gerenciador de conexões de arquivos usado pelo provedor de registro especifica o caminho do arquivo XML.</span><span class="sxs-lookup"><span data-stu-id="7f098-154">The File connection manager that the log provider uses specifies the path of the XML file.</span></span>|  
  
 <span data-ttu-id="7f098-155">Você também pode criar provedores de log personalizados.</span><span class="sxs-lookup"><span data-stu-id="7f098-155">You can also create custom log providers.</span></span> <span data-ttu-id="7f098-156">Para saber mais, veja [Creating a Custom Log Provider](../extending-packages-custom-objects/log-provider/creating-a-custom-log-provider.md).</span><span class="sxs-lookup"><span data-stu-id="7f098-156">For more information, see [Creating a Custom Log Provider](../extending-packages-custom-objects/log-provider/creating-a-custom-log-provider.md).</span></span>  
  
 <span data-ttu-id="7f098-157">Os provedores de log em um pacote são membros da coleção de provedores de log do pacote.</span><span class="sxs-lookup"><span data-stu-id="7f098-157">The log providers in a package are members of the log providers collection of the package.</span></span> <span data-ttu-id="7f098-158">Quando você cria um pacote e implementa o log usando o Designer [!INCLUDE[ssIS](../../includes/ssis-md.md)] , pode ver uma lista dos membros da coleção nas pastas **Provedor de Log** da guia **Explorador de Pacotes** do Designer [!INCLUDE[ssIS](../../includes/ssis-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="7f098-158">When you create a package and implement logging by using [!INCLUDE[ssIS](../../includes/ssis-md.md)] Designer, you can see a list of the collection members in the **Log Provider** folders on the **Package Explorer** tab of [!INCLUDE[ssIS](../../includes/ssis-md.md)] Designer.</span></span>  
  
 <span data-ttu-id="7f098-159">Você pode configurar um provedor de log fornecendo um nome e uma descrição para ele e especificando o gerenciador de conexões que ele usa.</span><span class="sxs-lookup"><span data-stu-id="7f098-159">You configure a log provider by providing a name and description for the log provider and specifying the connection manager that the log provider uses.</span></span> <span data-ttu-id="7f098-160">O provedor de log [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] usa um gerenciador de conexões OLE DB.</span><span class="sxs-lookup"><span data-stu-id="7f098-160">The [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] log provider uses an OLE DB connection manager.</span></span> <span data-ttu-id="7f098-161">Os provedores de log Arquivo de texto, [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)]e Arquivo XML usam gerenciadores de conexões de Arquivo.</span><span class="sxs-lookup"><span data-stu-id="7f098-161">The Text File, [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)], and XML File log providers all use File connection managers.</span></span> <span data-ttu-id="7f098-162">O provedor de log de Eventos do Windows não usa um gerenciador de conexões, pois grava diretamente no log de Eventos do Windows.</span><span class="sxs-lookup"><span data-stu-id="7f098-162">The Windows Event log provider does not use a connection manager, because it writes directly to the Windows Event log.</span></span> <span data-ttu-id="7f098-163">Para obter mais informações, consulte [OLE DB Connection Manager](../connection-manager/ole-db-connection-manager.md) e [File Connection Manager](../connection-manager/file-connection-manager.md).</span><span class="sxs-lookup"><span data-stu-id="7f098-163">For more information, see [OLE DB Connection Manager](../connection-manager/ole-db-connection-manager.md) and [File Connection Manager](../connection-manager/file-connection-manager.md).</span></span>  
  
### <a name="logging-customization"></a><span data-ttu-id="7f098-164">Personalização do log</span><span class="sxs-lookup"><span data-stu-id="7f098-164">Logging Customization</span></span>  
 <span data-ttu-id="7f098-165">Para personalizar o registro de um evento ou mensagem personalizada, o [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] fornece um esquema de informações com logs comuns a ser incluído em entradas de log.</span><span class="sxs-lookup"><span data-stu-id="7f098-165">To customize the logging of an event or custom message, [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] provides a schema of commonly logged information to include in log entries.</span></span> <span data-ttu-id="7f098-166">O esquema de log do [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] define as informações que podem ser registradas.</span><span class="sxs-lookup"><span data-stu-id="7f098-166">The [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] log schema defines the information that you can log.</span></span> <span data-ttu-id="7f098-167">Você pode selecionar elementos do esquema de log para cada entrada de log.</span><span class="sxs-lookup"><span data-stu-id="7f098-167">You can select elements from the log schema for each log entry.</span></span>  
  
 <span data-ttu-id="7f098-168">Um pacote e seus contêineres e tarefas não precisam registrar as mesmas informações; e as tarefas dentro do mesmo pacote ou contêiner podem registrar informações diferentes.</span><span class="sxs-lookup"><span data-stu-id="7f098-168">A package and its containers and tasks do not have to log the same information, and tasks within the same package or container can log different information.</span></span> <span data-ttu-id="7f098-169">Por exemplo, um pacote pode registrar informações do operador quando for iniciado, uma tarefa pode registrar a origem da falha da tarefa e outra tarefa pode registrar informações quando ocorrerem erros.</span><span class="sxs-lookup"><span data-stu-id="7f098-169">For example, a package can log operator information when the package starts, one task can log the source of the task's failure, and another task can log information when errors occur.</span></span> <span data-ttu-id="7f098-170">Se um pacote e seus contêineres e tarefas usarem vários logs, as mesmas informações serão gravadas em todos os logs.</span><span class="sxs-lookup"><span data-stu-id="7f098-170">If a package and its containers and tasks use multiple logs, the same information is written to all the logs.</span></span>  
  
 <span data-ttu-id="7f098-171">Você pode selecionar um nível de registro que se adapte às suas necessidades especificando os eventos e as informações a serem registrados para cada evento.</span><span class="sxs-lookup"><span data-stu-id="7f098-171">You can select a level of logging that suits your needs by specifying the events to log and the information to log for each event.</span></span> <span data-ttu-id="7f098-172">Você pode achar que alguns eventos fornecem informações mais úteis que outros.</span><span class="sxs-lookup"><span data-stu-id="7f098-172">You may find that some events provide more useful information than others.</span></span> <span data-ttu-id="7f098-173">Por exemplo, você talvez queira registrar apenas os nomes de computador e operador para o evento **PreExecute** , mas todas as informações disponíveis para o evento **Error** .</span><span class="sxs-lookup"><span data-stu-id="7f098-173">For example, you might want to log only the computer and operator names for the **PreExecute** event but all available information for the **Error** event.</span></span>  
  
 <span data-ttu-id="7f098-174">Para evitar que arquivos de log usem grandes quantidades de espaço em disco ou para evitar o registro excessivo, que pode degradar o desempenho, limite o registro selecionando eventos específicos e itens de informações a serem registrados.</span><span class="sxs-lookup"><span data-stu-id="7f098-174">To prevent log files from using large amounts of disk space, or to avoid excessive logging, which could degrade performance, you can limit logging by selecting specific events and information items to log.</span></span> <span data-ttu-id="7f098-175">Por exemplo, você pode configurar um log para capturar só a data e o nome do computador para cada erro.</span><span class="sxs-lookup"><span data-stu-id="7f098-175">For example, you can configure a log to capture only the date and the computer name for each error.</span></span>  
  
 <span data-ttu-id="7f098-176">No Designer [!INCLUDE[ssIS](../../includes/ssis-md.md)] , você define as opções de log usando a caixa de diálogo **Configurar Logs de SSIS** .</span><span class="sxs-lookup"><span data-stu-id="7f098-176">In [!INCLUDE[ssIS](../../includes/ssis-md.md)] Designer, you define the logging options by using the **Configure SSIS Logs** dialog box.</span></span>  
  
#### <a name="log-schema"></a><span data-ttu-id="7f098-177">Esquema de log</span><span class="sxs-lookup"><span data-stu-id="7f098-177">Log Schema</span></span>  
 <span data-ttu-id="7f098-178">A tabela a seguir descreve os elementos no esquema de log.</span><span class="sxs-lookup"><span data-stu-id="7f098-178">The following table describes the elements in the log schema.</span></span>  
  
|<span data-ttu-id="7f098-179">Elemento</span><span class="sxs-lookup"><span data-stu-id="7f098-179">Element</span></span>|<span data-ttu-id="7f098-180">DESCRIÇÃO</span><span class="sxs-lookup"><span data-stu-id="7f098-180">Description</span></span>|  
|-------------|-----------------|  
|<span data-ttu-id="7f098-181">Computador</span><span class="sxs-lookup"><span data-stu-id="7f098-181">Computer</span></span>|<span data-ttu-id="7f098-182">O nome do computador no qual o evento de log ocorreu.</span><span class="sxs-lookup"><span data-stu-id="7f098-182">The name of the computer on which the log event occurred.</span></span>|  
|<span data-ttu-id="7f098-183">Operador</span><span class="sxs-lookup"><span data-stu-id="7f098-183">Operator</span></span>|<span data-ttu-id="7f098-184">A identidade do usuário que iniciou o pacote.</span><span class="sxs-lookup"><span data-stu-id="7f098-184">The identity of the user who launched the package.</span></span>|  
|<span data-ttu-id="7f098-185">SourceName</span><span class="sxs-lookup"><span data-stu-id="7f098-185">SourceName</span></span>|<span data-ttu-id="7f098-186">O nome do contêiner ou tarefa no qual o evento de log ocorreu.</span><span class="sxs-lookup"><span data-stu-id="7f098-186">The name of the container or task in which the log event occurred.</span></span>|  
|<span data-ttu-id="7f098-187">SourceID</span><span class="sxs-lookup"><span data-stu-id="7f098-187">SourceID</span></span>|<span data-ttu-id="7f098-188">O identificador exclusivo do pacote; o contêiner Loop For, Loop Foreach ou Sequência ou a tarefa na qual o evento de log ocorreu.</span><span class="sxs-lookup"><span data-stu-id="7f098-188">The unique identifier of the package; the For Loop, Foreach Loop, or Sequence container; or the task in which the log event occurred.</span></span>|  
|<span data-ttu-id="7f098-189">ExecutionID</span><span class="sxs-lookup"><span data-stu-id="7f098-189">ExecutionID</span></span>|<span data-ttu-id="7f098-190">O GUID da instância de execução do pacote.</span><span class="sxs-lookup"><span data-stu-id="7f098-190">The GUID of the package execution instance.</span></span><br /><br /> <span data-ttu-id="7f098-191">Observação: a execução de um pacote simples pode criar entradas de log com valores diferentes para o elemento ExecutionID.</span><span class="sxs-lookup"><span data-stu-id="7f098-191">Note: Running a single package might create log entries with different values for the ExecutionID element.</span></span> <span data-ttu-id="7f098-192">Por exemplo, quando você executa um pacote no [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)], a fase de validação talvez crie entradas de log com um elemento ExecutionID que corresponde ao [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)].</span><span class="sxs-lookup"><span data-stu-id="7f098-192">For example, when you run a package in [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)], the validation phase might create log entries with an ExecutionID element that corresponds to [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)].</span></span> <span data-ttu-id="7f098-193">No entanto, a fase de execução talvez crie entradas de log com um elemento ExecutionID correspondente a dtshost.exe.</span><span class="sxs-lookup"><span data-stu-id="7f098-193">However, the execution phase might create log entries with an ExecutionID element that corresponds to dtshost.exe.</span></span> <span data-ttu-id="7f098-194">Para obter outro exemplo, quando você executa um pacote que contém tarefas Executar Pacote, cada uma dessas tarefas executa um pacote filho.</span><span class="sxs-lookup"><span data-stu-id="7f098-194">For another example, when you run a package that contains Execute Package tasks, each of these tasks runs a child package.</span></span> <span data-ttu-id="7f098-195">Esses pacotes filho podem criar entradas de log com um elemento ExecutionID diferente do das entradas de log criadas pelo pacote pai.</span><span class="sxs-lookup"><span data-stu-id="7f098-195">These child packages might create log entries that have a different ExecutionID element than the log entries that the parent package creates.</span></span>|  
|<span data-ttu-id="7f098-196">MessageText</span><span class="sxs-lookup"><span data-stu-id="7f098-196">MessageText</span></span>|<span data-ttu-id="7f098-197">Uma mensagem associada à entrada de log.</span><span class="sxs-lookup"><span data-stu-id="7f098-197">A message associated with the log entry.</span></span>|  
|<span data-ttu-id="7f098-198">DataBytes</span><span class="sxs-lookup"><span data-stu-id="7f098-198">DataBytes</span></span>|<span data-ttu-id="7f098-199">Uma matriz de bytes específica para a entrada de log.</span><span class="sxs-lookup"><span data-stu-id="7f098-199">A byte array specific to the log entry.</span></span> <span data-ttu-id="7f098-200">O significado deste campo varia de acordo com a entrada de log.</span><span class="sxs-lookup"><span data-stu-id="7f098-200">The meaning of this field varies by log entry.</span></span>|  
  
 <span data-ttu-id="7f098-201">A tabela a seguir descreve três elementos adicionais no esquema de log que não estão disponíveis na guia **Detalhes** da caixa de diálogo **Configurar Logs de SSIS** .</span><span class="sxs-lookup"><span data-stu-id="7f098-201">The following table describes three additional elements in the log schema that are not available on the **Details** tab of the **Configure SSIS Logs** dialog box.</span></span>  
  
|<span data-ttu-id="7f098-202">Elemento</span><span class="sxs-lookup"><span data-stu-id="7f098-202">Element</span></span>|<span data-ttu-id="7f098-203">DESCRIÇÃO</span><span class="sxs-lookup"><span data-stu-id="7f098-203">Description</span></span>|  
|-------------|-----------------|  
|<span data-ttu-id="7f098-204">StartTime</span><span class="sxs-lookup"><span data-stu-id="7f098-204">StartTime</span></span>|<span data-ttu-id="7f098-205">A hora em que o contêiner ou tarefa começa a ser executado.</span><span class="sxs-lookup"><span data-stu-id="7f098-205">The time at which the container or task starts to run.</span></span>|  
|<span data-ttu-id="7f098-206">EndTime</span><span class="sxs-lookup"><span data-stu-id="7f098-206">EndTime</span></span>|<span data-ttu-id="7f098-207">A hora em que a execução do contêiner ou tarefa para.</span><span class="sxs-lookup"><span data-stu-id="7f098-207">The time at which the container or task stops running.</span></span>|  
|<span data-ttu-id="7f098-208">DataCode</span><span class="sxs-lookup"><span data-stu-id="7f098-208">DataCode</span></span>|<span data-ttu-id="7f098-209">Um valor inteiro opcional que geralmente contém um valor da enumeração <xref:Microsoft.SqlServer.Dts.Runtime.DTSExecResult> que indica o resultado da execução do contêiner ou da tarefa:</span><span class="sxs-lookup"><span data-stu-id="7f098-209">An optional integer value that typically contains a value from the <xref:Microsoft.SqlServer.Dts.Runtime.DTSExecResult> enumeration that indicates the result of running the container or task:</span></span><br /><br /> <span data-ttu-id="7f098-210">0 - Êxito</span><span class="sxs-lookup"><span data-stu-id="7f098-210">0 - Success</span></span><br /><br /> <span data-ttu-id="7f098-211">1 - Falha</span><span class="sxs-lookup"><span data-stu-id="7f098-211">1 - Failure</span></span><br /><br /> <span data-ttu-id="7f098-212">2 - Concluído</span><span class="sxs-lookup"><span data-stu-id="7f098-212">2 - Completed</span></span><br /><br /> <span data-ttu-id="7f098-213">3 - Cancelado</span><span class="sxs-lookup"><span data-stu-id="7f098-213">3 - Canceled</span></span>|  
  
##### <a name="log-entries"></a><span data-ttu-id="7f098-214">Entradas de log</span><span class="sxs-lookup"><span data-stu-id="7f098-214">Log Entries</span></span>  
 [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] <span data-ttu-id="7f098-215">dá suporte a entradas de log em eventos predefinidos e fornece entradas de log personalizadas para muitos objetos do [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="7f098-215">supports log entries on predefined events and provides custom log entries for many [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] objects.</span></span> <span data-ttu-id="7f098-216">A caixa de diálogo **Configurar Logs de SSIS** no Designer [!INCLUDE[ssIS](../../includes/ssis-md.md)] lista esses eventos e entradas de log personalizadas.</span><span class="sxs-lookup"><span data-stu-id="7f098-216">The **Configure SSIS Logs** dialog box in [!INCLUDE[ssIS](../../includes/ssis-md.md)] Designer lists these events and custom log entries.</span></span>  
  
 <span data-ttu-id="7f098-217">A tabela a seguir descreve os eventos predefinidos que podem ser habilitados a gravar entradas de log quando eventos de tempo de execução ocorrem.</span><span class="sxs-lookup"><span data-stu-id="7f098-217">The following table describes the predefined events that can be enabled to write log entries when run-time events occur.</span></span> <span data-ttu-id="7f098-218">Essas entradas de log se aplicam a executáveis, ao pacote e às tarefas e contêineres que o pacote inclui.</span><span class="sxs-lookup"><span data-stu-id="7f098-218">These log entries apply to executables, the package, and the tasks and containers that the package includes.</span></span> <span data-ttu-id="7f098-219">O nome da entrada de log é igual ao nome do evento de tempo de execução que foi gerado e fez com que a entrada de log fosse gravada.</span><span class="sxs-lookup"><span data-stu-id="7f098-219">The name of the log entry is the same as the name of the run-time event that was raised and caused the log entry to be written.</span></span>  
  
|<span data-ttu-id="7f098-220">Eventos</span><span class="sxs-lookup"><span data-stu-id="7f098-220">Events</span></span>|<span data-ttu-id="7f098-221">DESCRIÇÃO</span><span class="sxs-lookup"><span data-stu-id="7f098-221">Description</span></span>|  
|------------|-----------------|  
|<span data-ttu-id="7f098-222">**OnError**</span><span class="sxs-lookup"><span data-stu-id="7f098-222">**OnError**</span></span>|<span data-ttu-id="7f098-223">Grava uma entrada de log quando ocorre um erro.</span><span class="sxs-lookup"><span data-stu-id="7f098-223">Writes a log entry when an error occurs.</span></span>|  
|<span data-ttu-id="7f098-224">**OnExecStatusChanged**</span><span class="sxs-lookup"><span data-stu-id="7f098-224">**OnExecStatusChanged**</span></span>|<span data-ttu-id="7f098-225">Grava uma entrada no log quando uma tarefa (não um contêiner) é suspenso ou retomado durante a depuração.</span><span class="sxs-lookup"><span data-stu-id="7f098-225">Writes a log entry when a task (not a container) is suspended or resumed during debugging.</span></span>|  
|<span data-ttu-id="7f098-226">**OnInformation**</span><span class="sxs-lookup"><span data-stu-id="7f098-226">**OnInformation**</span></span>|<span data-ttu-id="7f098-227">Grava uma entrada de log durante a validação e execução de um executável para relatar informações.</span><span class="sxs-lookup"><span data-stu-id="7f098-227">Writes a log entry during the validation and execution of an executable to report information.</span></span>|  
|<span data-ttu-id="7f098-228">**OnPostExecute**</span><span class="sxs-lookup"><span data-stu-id="7f098-228">**OnPostExecute**</span></span>|<span data-ttu-id="7f098-229">Grava uma entrada de log imediatamente depois que o executável termina de ser executado.</span><span class="sxs-lookup"><span data-stu-id="7f098-229">Writes a log entry immediately after the executable has finished running.</span></span>|  
|<span data-ttu-id="7f098-230">**OnPostValidate**</span><span class="sxs-lookup"><span data-stu-id="7f098-230">**OnPostValidate**</span></span>|<span data-ttu-id="7f098-231">Grava uma entrada de log quando a validação do executável termina.</span><span class="sxs-lookup"><span data-stu-id="7f098-231">Writes a log entry when the validation of the executable finishes.</span></span>|  
|<span data-ttu-id="7f098-232">**OnPreExecute**</span><span class="sxs-lookup"><span data-stu-id="7f098-232">**OnPreExecute**</span></span>|<span data-ttu-id="7f098-233">Grava uma entrada de log imediatamente antes da execução do executável.</span><span class="sxs-lookup"><span data-stu-id="7f098-233">Writes a log entry immediately before the executable runs.</span></span>|  
|<span data-ttu-id="7f098-234">**OnPreValidate**</span><span class="sxs-lookup"><span data-stu-id="7f098-234">**OnPreValidate**</span></span>|<span data-ttu-id="7f098-235">Grava uma entrada de log quando a validação do executável inicia.</span><span class="sxs-lookup"><span data-stu-id="7f098-235">Writes a log entry when the validation of the executable starts.</span></span>|  
|<span data-ttu-id="7f098-236">**OnProgress**</span><span class="sxs-lookup"><span data-stu-id="7f098-236">**OnProgress**</span></span>|<span data-ttu-id="7f098-237">Grava uma entrada de log quando o progresso mensurável é feito pelo executável.</span><span class="sxs-lookup"><span data-stu-id="7f098-237">Writes a log entry when measurable progress is made by the executable.</span></span>|  
|<span data-ttu-id="7f098-238">**OnQueryCancel**</span><span class="sxs-lookup"><span data-stu-id="7f098-238">**OnQueryCancel**</span></span>|<span data-ttu-id="7f098-239">Grava uma entrada de log em qualquer ligação no processamento de tarefa no qual é possível cancelar a execução.</span><span class="sxs-lookup"><span data-stu-id="7f098-239">Writes a log entry at any juncture in the task processing where it is feasible to cancel execution.</span></span>|  
|<span data-ttu-id="7f098-240">**OnTaskFailed**</span><span class="sxs-lookup"><span data-stu-id="7f098-240">**OnTaskFailed**</span></span>|<span data-ttu-id="7f098-241">Grava uma entrada de log quando uma tarefa falha.</span><span class="sxs-lookup"><span data-stu-id="7f098-241">Writes a log entry when a task fails.</span></span>|  
|<span data-ttu-id="7f098-242">**OnVariableValueChanged**</span><span class="sxs-lookup"><span data-stu-id="7f098-242">**OnVariableValueChanged**</span></span>|<span data-ttu-id="7f098-243">Grava uma entrada de log quando o valor de uma variável é alterado.</span><span class="sxs-lookup"><span data-stu-id="7f098-243">Writes a log entry when the value of a variable changes.</span></span>|  
|<span data-ttu-id="7f098-244">**OnWarning**</span><span class="sxs-lookup"><span data-stu-id="7f098-244">**OnWarning**</span></span>|<span data-ttu-id="7f098-245">Grava uma entrada de log quando ocorre um aviso.</span><span class="sxs-lookup"><span data-stu-id="7f098-245">Writes a log entry when a warning occurs.</span></span>|  
|<span data-ttu-id="7f098-246">**PipelineComponentTime**</span><span class="sxs-lookup"><span data-stu-id="7f098-246">**PipelineComponentTime**</span></span>|<span data-ttu-id="7f098-247">Para cada componente de fluxo de dados, grava uma entrada de log para cada fase de validação e execução.</span><span class="sxs-lookup"><span data-stu-id="7f098-247">For each data flow component, writes a log entry for each phase of validation and execution.</span></span> <span data-ttu-id="7f098-248">A entrada de log especifica o tempo de processamento de cada fase.</span><span class="sxs-lookup"><span data-stu-id="7f098-248">The log entry specifies the processing time for each phase.</span></span>|  
|<span data-ttu-id="7f098-249">**Diagnostic**</span><span class="sxs-lookup"><span data-stu-id="7f098-249">**Diagnostic**</span></span>|<span data-ttu-id="7f098-250">Grava uma entrada de log que fornece informações de diagnóstico.</span><span class="sxs-lookup"><span data-stu-id="7f098-250">Writes a log entry that provides diagnostic information.</span></span><br /><br /> <span data-ttu-id="7f098-251">Por exemplo, você pode registrar uma mensagem antes e depois de cada chamada para um provedor de dados externo.</span><span class="sxs-lookup"><span data-stu-id="7f098-251">For example, you can log a message before and after every call to an external data provider.</span></span> <span data-ttu-id="7f098-252">Para obter mais informações, consulte [Solucionando problemas de ferramentas para execução de pacotes](../troubleshooting/troubleshooting-tools-for-package-execution.md).</span><span class="sxs-lookup"><span data-stu-id="7f098-252">For more information, see [Troubleshooting Tools for Package Execution](../troubleshooting/troubleshooting-tools-for-package-execution.md).</span></span>|  
  
 <span data-ttu-id="7f098-253">O pacote e muitas tarefas têm entradas de log personalizadas que podem ser habilitadas para registro.</span><span class="sxs-lookup"><span data-stu-id="7f098-253">The package and many tasks have custom log entries that can be enabled for logging.</span></span> <span data-ttu-id="7f098-254">Por exemplo, a tarefa Enviar Email fornece a entrada de log personalizada **SendMailTaskBegin** , que registra informações quando a tarefa Enviar Email começa a ser executada, mas antes de a tarefa enviar uma mensagem de email.</span><span class="sxs-lookup"><span data-stu-id="7f098-254">For example, the Send Mail task provides the **SendMailTaskBegin** custom log entry, which logs information when the Send Mail task starts to run, but before the task sends an e-mail message.</span></span> <span data-ttu-id="7f098-255">Para saber mais, veja [Custom Messages for Logging](../custom-messages-for-logging.md).</span><span class="sxs-lookup"><span data-stu-id="7f098-255">For more information, see [Custom Messages for Logging](../custom-messages-for-logging.md).</span></span>  
  
### <a name="differentiating-package-copies"></a><span data-ttu-id="7f098-256">Diferenciando cópias de pacotes</span><span class="sxs-lookup"><span data-stu-id="7f098-256">Differentiating Package Copies</span></span>  
 <span data-ttu-id="7f098-257">Os dados de log incluem o nome e o GUID do pacote ao qual as entradas de log pertencem.</span><span class="sxs-lookup"><span data-stu-id="7f098-257">Log data includes the name and the GUID of the package to which the log entries belong.</span></span> <span data-ttu-id="7f098-258">Se você criar um novo pacote copiando um pacote existente, o nome e o GUID do pacote existente também serão copiados.</span><span class="sxs-lookup"><span data-stu-id="7f098-258">If you create a new package by copying an existing package, the name and the GUID of the existing package are also copied.</span></span> <span data-ttu-id="7f098-259">Como resultado, você pode ter dois pacotes com o mesmo GUID e nome, dificultando a diferenciação entre eles nos dados de log.</span><span class="sxs-lookup"><span data-stu-id="7f098-259">As a result, you may have two packages that have the same GUID and name, making it difficult to differentiate between the packages in the log data.</span></span>  
  
 <span data-ttu-id="7f098-260">Para eliminar essa ambiguidade, você deve atualizar o nome e o GUID dos novos pacotes.</span><span class="sxs-lookup"><span data-stu-id="7f098-260">To eliminate this ambiguity, you should update the name and the GUID of the new packages.</span></span> <span data-ttu-id="7f098-261">No [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)], você pode gerar o GUID novamente na propriedade `ID` e atualizar o valor da propriedade `Name` na janela Propriedades.</span><span class="sxs-lookup"><span data-stu-id="7f098-261">In [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)], you can regenerate the GUID in the `ID` property and update the value of the `Name` property in the Properties window.</span></span> <span data-ttu-id="7f098-262">Você também pode alterar o GUID e o nome programaticamente ou usando o prompt de comando **dtutil** .</span><span class="sxs-lookup"><span data-stu-id="7f098-262">You can also change the GUID and the name programmatically, or by using the **dtutil** command prompt.</span></span> <span data-ttu-id="7f098-263">Para obter mais informações, consulte [Definir as propriedades do pacote](../set-package-properties.md) e [Utilitário dtutil](../dtutil-utility.md).</span><span class="sxs-lookup"><span data-stu-id="7f098-263">For more information, see [Set Package Properties](../set-package-properties.md) and [dtutil Utility](../dtutil-utility.md).</span></span>  
  
### <a name="parent-logging-options"></a><span data-ttu-id="7f098-264">Opções de log pai</span><span class="sxs-lookup"><span data-stu-id="7f098-264">Parent Logging Options</span></span>  
 <span data-ttu-id="7f098-265">Geralmente, as opções de log de tarefas e os contêineres Loop For, Loop Foreach e Sequência correspondem às opções do pacote ou de um contêiner pai.</span><span class="sxs-lookup"><span data-stu-id="7f098-265">Frequently, the logging options of tasks and For Loop, Foreach Loop, and Sequence containers match those of the package or a parent container.</span></span> <span data-ttu-id="7f098-266">Nesse caso, você pode configurá-las para herdar as opções de log de seus contêineres pai.</span><span class="sxs-lookup"><span data-stu-id="7f098-266">In that case, you can configure them to inherit their logging options from their parent container.</span></span> <span data-ttu-id="7f098-267">Por exemplo, em um contêiner Loop For que inclui uma tarefa Executar SQL, essa tarefa pode usar as opções de log que são definidas no contêiner Loop For.</span><span class="sxs-lookup"><span data-stu-id="7f098-267">For example, in a For Loop container that includes an Execute SQL task, the Execute SQL task can use the logging options that are set on the For Loop container.</span></span> <span data-ttu-id="7f098-268">Para usar as opções de log pai, defina a propriedade LoggingMode do contêiner como **UseParentSetting**.</span><span class="sxs-lookup"><span data-stu-id="7f098-268">To use the parent logging options, you set the LoggingMode property of the container to **UseParentSetting**.</span></span> <span data-ttu-id="7f098-269">É possível definir essa propriedade na janela **Propriedades** do [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)] ou através da caixa de diálogo **Configurar Logs de SSIS** no Designer [!INCLUDE[ssIS](../../includes/ssis-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="7f098-269">You can set this property in the **Properties** window of [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)] or through the **Configure SSIS Logs** dialog box in [!INCLUDE[ssIS](../../includes/ssis-md.md)] Designer.</span></span>  
  
### <a name="logging-templates"></a><span data-ttu-id="7f098-270">Modelos de log</span><span class="sxs-lookup"><span data-stu-id="7f098-270">Logging Templates</span></span>  
 <span data-ttu-id="7f098-271">Na caixa de diálogo **Configurar Logs de SSIS** , você também pode criar e salvar configurações de log usadas com frequência como modelos e depois usar esses modelos em vários pacotes.</span><span class="sxs-lookup"><span data-stu-id="7f098-271">In the **Configure SSIS Logs** dialog box, you can also create and save frequently used logging configurations as templates, and then use the templates in multiple packages.</span></span> <span data-ttu-id="7f098-272">Isso facilita a aplicação de uma estratégia de log consistente entre vários pacotes e a modificação de definições de log nos pacotes atualizando e depois aplicando os modelos.</span><span class="sxs-lookup"><span data-stu-id="7f098-272">This makes it easy to apply a consistent logging strategy across multiple packages and to modify log settings on packages by updating and then applying the templates.</span></span> <span data-ttu-id="7f098-273">Os modelos são armazenados em arquivos XML.</span><span class="sxs-lookup"><span data-stu-id="7f098-273">The templates are stored in XML files.</span></span>  
  
 <span data-ttu-id="7f098-274">**Para configurar o registro usando a caixa de diálogo Configurar Logs de SSIS**</span><span class="sxs-lookup"><span data-stu-id="7f098-274">**To configure logging using the Configure SSIS Logs dialog box**</span></span>  
  
1.  <span data-ttu-id="7f098-275">Habilite o pacote e suas tarefas para registrar.</span><span class="sxs-lookup"><span data-stu-id="7f098-275">Enable the package and its tasks for logging.</span></span> <span data-ttu-id="7f098-276">O registro pode ocorrer no nível de pacote, contêiner e tarefa.</span><span class="sxs-lookup"><span data-stu-id="7f098-276">Logging can occur at the package, the container, and the task level.</span></span> <span data-ttu-id="7f098-277">Você pode especificar logs diferentes para pacotes, contêineres e tarefas.</span><span class="sxs-lookup"><span data-stu-id="7f098-277">You can specify different logs for packages, containers, and tasks.</span></span>  
  
2.  <span data-ttu-id="7f098-278">Selecione um provedor de log e adicione um log ao pacote.</span><span class="sxs-lookup"><span data-stu-id="7f098-278">Select a log provider and add a log for the package.</span></span> <span data-ttu-id="7f098-279">Os logs podem ser criados apenas no nível de pacote, e uma tarefa ou contêiner deve usar um dos logs criados para esse pacote.</span><span class="sxs-lookup"><span data-stu-id="7f098-279">Logs can be created only at the package level, and a task or container must use one of the logs created for the package.</span></span> <span data-ttu-id="7f098-280">Cada log é associado a um dos seguintes provedores de log: arquivo de texto, [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)], [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], Log de Eventos do Windows ou arquivo XML.</span><span class="sxs-lookup"><span data-stu-id="7f098-280">Each log is associated with one of the following log providers: Text file, [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)], [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], Windows Event Log, or XML file.</span></span> <span data-ttu-id="7f098-281">Para obter mais informações, consulte [Habilitar o log de pacote no SQL Server Data Tools](../enable-package-logging-in-sql-server-data-tools.md).</span><span class="sxs-lookup"><span data-stu-id="7f098-281">For more information, see [Enable Package Logging in SQL Server Data Tools](../enable-package-logging-in-sql-server-data-tools.md).</span></span>  
  
3.  <span data-ttu-id="7f098-282">Selecione os eventos e as informações de esquema de log sobre cada evento que você deseja capturar no log.</span><span class="sxs-lookup"><span data-stu-id="7f098-282">Select the events and the log schema information about each event you want to capture in the log.</span></span> <span data-ttu-id="7f098-283">Para obter mais informações, consulte [Configurar o log usando um arquivo de configuração salvo](../configure-logging-by-using-a-saved-configuration-file.md).</span><span class="sxs-lookup"><span data-stu-id="7f098-283">For more information, see [Configure Logging by Using a Saved Configuration File](../configure-logging-by-using-a-saved-configuration-file.md).</span></span>  
  
### <a name="configuration-of-log-provider"></a><span data-ttu-id="7f098-284">Configuração do provedor de log</span><span class="sxs-lookup"><span data-stu-id="7f098-284">Configuration of Log Provider</span></span>  
 <span data-ttu-id="7f098-285">Você pode definir propriedades pelo Designer do [!INCLUDE[ssIS](../../includes/ssis-md.md)] ou programaticamente.</span><span class="sxs-lookup"><span data-stu-id="7f098-285">You can set properties through [!INCLUDE[ssIS](../../includes/ssis-md.md)] Designer or programmatically.</span></span>  
  
 <span data-ttu-id="7f098-286">Um provedor de log é criado e configurado como uma etapa na implementação do log em um pacote.</span><span class="sxs-lookup"><span data-stu-id="7f098-286">A log provider is created and configured as a step in implementing logging in a package.</span></span> <span data-ttu-id="7f098-287">Para obter mais informações, consulte [Integration Services log](integration-services-ssis-logging.md).</span><span class="sxs-lookup"><span data-stu-id="7f098-287">For more information, see [Integration Services Logging](integration-services-ssis-logging.md).</span></span>  
  
 <span data-ttu-id="7f098-288">Depois de criar um provedor de log, você pode exibir e modificar suas propriedades na janela Propriedades do [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)].</span><span class="sxs-lookup"><span data-stu-id="7f098-288">After you create a log provider, you can view and modify its properties in the Properties window of [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)].</span></span>  
  
 <span data-ttu-id="7f098-289">Para obter mais informações sobre como definir essas propriedades programaticamente, consulte a documentação da classe <xref:Microsoft.SqlServer.Dts.Runtime.LogProvider> .</span><span class="sxs-lookup"><span data-stu-id="7f098-289">For information about programmatically setting these properties, see the documentation for the <xref:Microsoft.SqlServer.Dts.Runtime.LogProvider> class.</span></span>  
  
### <a name="logging-for-data-flow-tasks"></a><span data-ttu-id="7f098-290">Registro para tarefas Fluxo de Dados</span><span class="sxs-lookup"><span data-stu-id="7f098-290">Logging for Data Flow Tasks</span></span>  
 <span data-ttu-id="7f098-291">A tarefa Fluxo de Dados fornece muitas entradas de log personalizadas que podem ser usadas para monitorar e ajustar o desempenho.</span><span class="sxs-lookup"><span data-stu-id="7f098-291">The Data Flow task provides many custom log entries that can be used to monitor and adjust performance.</span></span> <span data-ttu-id="7f098-292">Por exemplo, você pode monitorar os componentes que podem causar vazamentos de memória ou controlar quanto tempo leva para executar um determinado componente.</span><span class="sxs-lookup"><span data-stu-id="7f098-292">For example, you can monitor components that might cause memory leaks, or keep track of how long it takes to run a particular component.</span></span> <span data-ttu-id="7f098-293">Para obter uma lista dessas entradas de log personalizadas e saída de exemplo de log, consulte [Data Flow Task](../control-flow/data-flow-task.md).</span><span class="sxs-lookup"><span data-stu-id="7f098-293">For a list of these custom log entries and sample logging output, see [Data Flow Task](../control-flow/data-flow-task.md).</span></span>  
  
#### <a name="use-the-pipelinecomponenttime-event"></a><span data-ttu-id="7f098-294">Usar o evento PipelineComponentTime</span><span class="sxs-lookup"><span data-stu-id="7f098-294">Use the PipelineComponentTime Event</span></span>  
 <span data-ttu-id="7f098-295">Talvez a entrada de log personalizada mais útil seja o evento PipelineComponentTime.</span><span class="sxs-lookup"><span data-stu-id="7f098-295">Perhaps the most useful custom log entry is the PipelineComponentTime event.</span></span> <span data-ttu-id="7f098-296">Essa entrada de log reporta o número de milissegundos que cada componente do fluxo de dados leva em cada uma das cinco principais etapas de processamento.</span><span class="sxs-lookup"><span data-stu-id="7f098-296">This log entry reports the number of milliseconds that each component in the data flow spends on each of the five major processing steps.</span></span> <span data-ttu-id="7f098-297">A tabela a seguir descreve essas etapas de processamento.</span><span class="sxs-lookup"><span data-stu-id="7f098-297">The following table describes these processing steps.</span></span> [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] <span data-ttu-id="7f098-298">Os desenvolvedores reconhecerão essas etapas como os principais métodos de um <xref:Microsoft.SqlServer.Dts.Pipeline.PipelineComponent>.</span><span class="sxs-lookup"><span data-stu-id="7f098-298">developers will recognize these steps as the principal methods of a <xref:Microsoft.SqlServer.Dts.Pipeline.PipelineComponent>.</span></span>  
  
|<span data-ttu-id="7f098-299">Etapa</span><span class="sxs-lookup"><span data-stu-id="7f098-299">Step</span></span>|<span data-ttu-id="7f098-300">DESCRIÇÃO</span><span class="sxs-lookup"><span data-stu-id="7f098-300">Description</span></span>|  
|----------|-----------------|  
|<span data-ttu-id="7f098-301">Validar</span><span class="sxs-lookup"><span data-stu-id="7f098-301">Validate</span></span>|<span data-ttu-id="7f098-302">O componente verifica se há valores de propriedade válidos e os parâmetros de configuração.</span><span class="sxs-lookup"><span data-stu-id="7f098-302">The component checks for valid property values and configuration settings.</span></span>|  
|<span data-ttu-id="7f098-303">PreExecute</span><span class="sxs-lookup"><span data-stu-id="7f098-303">PreExecute</span></span>|<span data-ttu-id="7f098-304">O componente executa processamento único antes de começar a processar linhas de dados.</span><span class="sxs-lookup"><span data-stu-id="7f098-304">The component performs one-time processing before it starts to process rows of data.</span></span>|  
|<span data-ttu-id="7f098-305">PostExecute</span><span class="sxs-lookup"><span data-stu-id="7f098-305">PostExecute</span></span>|<span data-ttu-id="7f098-306">O componente executa processamento único depois de processar todas as linhas de dados.</span><span class="sxs-lookup"><span data-stu-id="7f098-306">The component performs one-time processing after it has processed all rows of data.</span></span>|  
|<span data-ttu-id="7f098-307">ProcessInput</span><span class="sxs-lookup"><span data-stu-id="7f098-307">ProcessInput</span></span>|<span data-ttu-id="7f098-308">A transformação ou o componente de destino processa as linhas de dados de entrada recebidas de uma transformação ou origem upstream.</span><span class="sxs-lookup"><span data-stu-id="7f098-308">The transformation or destination component processes the incoming rows of data that an upstream source or transformation has passed to it.</span></span>|  
|<span data-ttu-id="7f098-309">PrimeOutput</span><span class="sxs-lookup"><span data-stu-id="7f098-309">PrimeOutput</span></span>|<span data-ttu-id="7f098-310">O componente de origem ou transformação preenche os buffers de dados a serem passados para uma transformação downstream ou um componente de destino.</span><span class="sxs-lookup"><span data-stu-id="7f098-310">The source or transformation component fills the buffers of data to be passed to a downstream transformation or destination component.</span></span>|  
  
 <span data-ttu-id="7f098-311">Quando você habilita o evento PipelineComponentTime, o [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] registra em log uma mensagem relativa a cada etapa de processamento executada por cada componente.</span><span class="sxs-lookup"><span data-stu-id="7f098-311">When you enable the PipelineComponentTime event, [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] logs one message for each processing step performed by each component.</span></span> <span data-ttu-id="7f098-312">As seguintes entradas de log mostram um subconjunto das mensagens registradas em log pelo pacote de exemplo CalculatedColumns do [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] :</span><span class="sxs-lookup"><span data-stu-id="7f098-312">The following log entries show a subset of the messages that the [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] CalculatedColumns package sample logs:</span></span>  
  
 `The component "Calculate LineItemTotalCost" (3522) spent 356 milliseconds in ProcessInput.`  
  
 `The component "Sum Quantity and LineItemTotalCost" (3619) spent 79 milliseconds in ProcessInput.`  
  
 `The component "Calculate Average Cost" (3662) spent 16 milliseconds in ProcessInput.`  
  
 `The component "Sort by ProductID" (3717) spent 125 milliseconds in ProcessInput.`  
  
 `The component "Load Data" (3773) spent 0 milliseconds in ProcessInput.`  
  
 `The component "Extract Data" (3869) spent 688 milliseconds in PrimeOutput filling buffers on output "OLE DB Source Output" (3879).`  
  
 `The component "Sum Quantity and LineItemTotalCost" (3619) spent 141 milliseconds in PrimeOutput filling buffers on output "Aggregate Output 1" (3621).`  
  
 `The component "Sort by ProductID" (3717) spent 16 milliseconds in PrimeOutput filling buffers on output "Sort Output" (3719).`  
  
 <span data-ttu-id="7f098-313">Essas entradas de log mostram que a tarefa de fluxo de dados gastou a maior parte do tempo nas seguintes etapas, mostradas aqui em ordem decrescente:</span><span class="sxs-lookup"><span data-stu-id="7f098-313">These log entries show that the data flow task spent the most time on the following steps, shown here in descending order:</span></span>  
  
-   <span data-ttu-id="7f098-314">A origem de OLE DB denominada "Extrair Dados" gastou 688 ms.</span><span class="sxs-lookup"><span data-stu-id="7f098-314">The OLE DB source that is named "Extract Data" spent 688 ms.</span></span> <span data-ttu-id="7f098-315">carregando dados.</span><span class="sxs-lookup"><span data-stu-id="7f098-315">loading data.</span></span>  
  
-   <span data-ttu-id="7f098-316">A transformação Coluna Derivada denominada "Calculate LineItemTotalCost" gastou 356 ms.</span><span class="sxs-lookup"><span data-stu-id="7f098-316">The Derived Column transformation that is named "Calculate LineItemTotalCost" spent 356 ms.</span></span> <span data-ttu-id="7f098-317">executando os cálculos em linhas de entrada.</span><span class="sxs-lookup"><span data-stu-id="7f098-317">performing calculations on incoming rows.</span></span>  
  
-   <span data-ttu-id="7f098-318">A transformação Agregação denominada "Quantidade de Soma e LineItemTotalCost" gastou no total 220 ms – 141 em PrimeOutput e 79 em ProcessInput – executando cálculos e passando os dados para a próxima transformação.</span><span class="sxs-lookup"><span data-stu-id="7f098-318">The Aggregate transformation that is named "Sum Quantity and LineItemTotalCost" spent a combined 220 ms-141 in PrimeOutput and 79 in ProcessInput-performing calculations and passing the data to the next transformation.</span></span>  
  
## <a name="related-tasks"></a><span data-ttu-id="7f098-319">Related Tasks</span><span class="sxs-lookup"><span data-stu-id="7f098-319">Related Tasks</span></span>  
 <span data-ttu-id="7f098-320">A lista a seguir contém links para tópicos que mostram como executar tarefas relacionadas ao recurso de log.</span><span class="sxs-lookup"><span data-stu-id="7f098-320">The following list contains links to topics that show how to perform tasks related to the logging feature.</span></span>  
  
-   [<span data-ttu-id="7f098-321">Caixa de diálogo Configurar Logs do SSIS</span><span class="sxs-lookup"><span data-stu-id="7f098-321">Configure SSIS Logs Dialog Box</span></span>](../configure-ssis-logs-dialog-box.md)  
  
-   [<span data-ttu-id="7f098-322">Habilitar log de pacote no SQL Server Data Tools</span><span class="sxs-lookup"><span data-stu-id="7f098-322">Enable Package Logging in SQL Server Data Tools</span></span>](../enable-package-logging-in-sql-server-data-tools.md)  
  
-   [<span data-ttu-id="7f098-323">Habilitar o log para a execução do pacote no servidor SSIS</span><span class="sxs-lookup"><span data-stu-id="7f098-323">Enable Logging for Package Execution on the SSIS Server</span></span>](../enable-logging-for-package-execution-on-the-ssis-server.md)  
  
-   [<span data-ttu-id="7f098-324">Exibir entradas de log na janela Eventos de Log</span><span class="sxs-lookup"><span data-stu-id="7f098-324">View Log Entries in the Log Events Window</span></span>](../view-log-entries-in-the-log-events-window.md)  
  
## <a name="related-content"></a><span data-ttu-id="7f098-325">Conteúdo relacionado</span><span class="sxs-lookup"><span data-stu-id="7f098-325">Related Content</span></span>  
 [<span data-ttu-id="7f098-326">Ferramenta DTLoggedExec para log completo e detalhado (Projeto CodePlex)</span><span class="sxs-lookup"><span data-stu-id="7f098-326">DTLoggedExec Tool for Full and Detail Logging (CodePlex Project)</span></span>](https://go.microsoft.com/fwlink/?LinkId=150579)  
  
## <a name="see-also"></a><span data-ttu-id="7f098-327">Consulte Também</span><span class="sxs-lookup"><span data-stu-id="7f098-327">See Also</span></span>  
 [<span data-ttu-id="7f098-328">Exibir entradas de log na janela Eventos de Log</span><span class="sxs-lookup"><span data-stu-id="7f098-328">View Log Entries in the Log Events Window</span></span>](../view-log-entries-in-the-log-events-window.md)  
  
  
