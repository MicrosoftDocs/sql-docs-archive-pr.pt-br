---
title: SSIS (Integration Services) em um cluster | Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: integration-services
ms.topic: conceptual
ms.assetid: 0216266d-d866-4ea2-bbeb-955965f4d7c2
author: chugugrace
ms.author: chugu
ms.openlocfilehash: 450553e97713c0acba329e5874932f1fdedee310
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87682343"
---
# <a name="integration-services-ssis-in-a-cluster"></a><span data-ttu-id="c6a2f-102">SSIS (Integration Services) em um cluster</span><span class="sxs-lookup"><span data-stu-id="c6a2f-102">Integration Services (SSIS) in a Cluster</span></span>
  <span data-ttu-id="c6a2f-103">Clusterizar o [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] não é recomendável, porque o serviço [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] não é um serviço clusterizado ou que reconheça clusters e não dá suporte ao failover de um nó de cluster para outro.</span><span class="sxs-lookup"><span data-stu-id="c6a2f-103">Clustering [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] is not recommended because the [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] service is not a clustered or cluster-aware service, and does not support failover from one cluster node to another.</span></span> <span data-ttu-id="c6a2f-104">Portanto, em um ambiente clusterizado, o [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] deve ser instalado e iniciado como um serviço autônomo em cada nó do cluster.</span><span class="sxs-lookup"><span data-stu-id="c6a2f-104">Therefore, in a clustered environment, [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] should be installed and started as a stand-alone service on each node in the cluster.</span></span>  
  
 <span data-ttu-id="c6a2f-105">Embora o serviço do [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] não seja um serviço clusterizado, você pode configurá-lo manualmente para operar como um recurso de cluster após instalar o [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] separadamente em cada nó do cluster.</span><span class="sxs-lookup"><span data-stu-id="c6a2f-105">Although the [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] service is not a clustered service, you can manually configure the service to operate as a cluster resource after you install [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] separately on each node of the cluster.</span></span>  
  
 <span data-ttu-id="c6a2f-106">No entanto, se seu objetivo for a alta disponibilidade ao estabelecer um ambiente de hardware clusterizado, você poderá atingi-lo sem configurar o serviço [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] como um recurso de cluster.</span><span class="sxs-lookup"><span data-stu-id="c6a2f-106">However, if high availability is your goal in establishing a clustered hardware environment, you can achieve this goal without configuring the [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] service as a cluster resource.</span></span>  <span data-ttu-id="c6a2f-107">Para gerenciar seus pacotes em qualquer nó do cluster por meio de qualquer outro nó do cluster, modifique o arquivo de configuração do serviço do [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] em cada nó do cluster.</span><span class="sxs-lookup"><span data-stu-id="c6a2f-107">To manage your packages on any node in the cluster from any other node in the cluster, modify the configuration file for the [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] service on each node in the cluster.</span></span> <span data-ttu-id="c6a2f-108">Modifique cada um dos arquivos de configuração para que eles apontem a todas as instâncias disponíveis do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] nas quais os pacotes estão armazenados.</span><span class="sxs-lookup"><span data-stu-id="c6a2f-108">You modify each of these configuration files to point to all available instances of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] on which packages are stored.</span></span> <span data-ttu-id="c6a2f-109">Esta solução oferece a alta disponibilidade necessária para a maioria dos clientes, sem os possíveis problemas encontrados quando o serviço do [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] é configurado como um recurso de cluster.</span><span class="sxs-lookup"><span data-stu-id="c6a2f-109">This solution provides the high availability that most customers need, without the potential problems encountered when the [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] service is configured as a cluster resource.</span></span> <span data-ttu-id="c6a2f-110">Para obter mais informações sobre como modificar esse arquivo de configuração, veja [Configurando o Serviço Integration Services &#40;Serviço SSIS&#41;](integration-services-service-ssis-service.md)</span><span class="sxs-lookup"><span data-stu-id="c6a2f-110">For more information about how to change the configuration file, see [Configuring the Integration Services Service &#40;SSIS Service&#41;](integration-services-service-ssis-service.md)</span></span>  
  
 <span data-ttu-id="c6a2f-111">Compreender a função do serviço do [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] é fundamental para tomar uma decisão sobre como configurar o serviço em um ambiente clusterizado.</span><span class="sxs-lookup"><span data-stu-id="c6a2f-111">Understanding the role of the [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] service is critical to making an informed decision about how to configure the service in a clustered environment.</span></span> <span data-ttu-id="c6a2f-112">Para obter mais informações, veja [Serviço Integration Services &#40;Serviço SSIS&#41;](integration-services-service-ssis-service.md).</span><span class="sxs-lookup"><span data-stu-id="c6a2f-112">For more information, see [Integration Services Service &#40;SSIS Service&#41;](integration-services-service-ssis-service.md).</span></span>  
  
## <a name="understanding-the-disadvantages-of-configuring-integration-services-as-a-cluster-resource"></a><span data-ttu-id="c6a2f-113">Compreendendo as desvantagens de configurar o Integration Services como um recurso de cluster</span><span class="sxs-lookup"><span data-stu-id="c6a2f-113">Understanding the Disadvantages of Configuring Integration Services as a Cluster Resource</span></span>  
 <span data-ttu-id="c6a2f-114">Algumas das possíveis desvantagens de configurar o serviço do [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] como um recurso de cluster são:</span><span class="sxs-lookup"><span data-stu-id="c6a2f-114">Some of the potential disadvantages of configuring the [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] service as a cluster resource include the following:</span></span>  
  
-   <span data-ttu-id="c6a2f-115">Quando um failover ocorre, os pacotes que estão sendo executados não reiniciam.</span><span class="sxs-lookup"><span data-stu-id="c6a2f-115">When a failover occurs, running packages do not restart.</span></span> <span data-ttu-id="c6a2f-116">As falhas do pacote podem ser recuperadas reiniciando o pacote a partir dos pontos de verificação.</span><span class="sxs-lookup"><span data-stu-id="c6a2f-116">You can recover from package failures by restarting packages from checkpoints.</span></span> <span data-ttu-id="c6a2f-117">A reinicialização a partir dos pontos de verificação pode ser realizada sem configurar o serviço como um recurso de cluster.</span><span class="sxs-lookup"><span data-stu-id="c6a2f-117">You can restart from checkpoints without configuring the service as a cluster resource.</span></span> <span data-ttu-id="c6a2f-118">Para saber mais, confira [Restart Packages by Using Checkpoints](../packages/restart-packages-by-using-checkpoints.md).</span><span class="sxs-lookup"><span data-stu-id="c6a2f-118">For more information, see [Restart Packages by Using Checkpoints](../packages/restart-packages-by-using-checkpoints.md).</span></span>  
  
-   <span data-ttu-id="c6a2f-119">Ao configurar o serviço [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] em outro grupo de recursos por meio do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], não é possível usar o [!INCLUDE[ssManStudio](../../includes/ssmanstudio-md.md)] em computadores cliente para gerenciar os pacotes armazenados no banco de dados msdb.</span><span class="sxs-lookup"><span data-stu-id="c6a2f-119">When you configure the [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] service in a different resource group from [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], you cannot use [!INCLUDE[ssManStudio](../../includes/ssmanstudio-md.md)] from client computers to manage packages that are stored in the msdb database.</span></span> <span data-ttu-id="c6a2f-120">O serviço [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] não pode delegar as credenciais neste cenário de salto duplo.</span><span class="sxs-lookup"><span data-stu-id="c6a2f-120">The [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] service cannot delegate credentials in this double-hop scenario.</span></span>  
  
-   <span data-ttu-id="c6a2f-121">Quando há vários grupos de recursos do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] que incluem o serviço do [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] em um cluster, um failover poderá causar resultados inesperados.</span><span class="sxs-lookup"><span data-stu-id="c6a2f-121">When you have multiple [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] resource groups that include the [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] service in a cluster, a failover could lead to unexpected results.</span></span> <span data-ttu-id="c6a2f-122">Considere este cenário.</span><span class="sxs-lookup"><span data-stu-id="c6a2f-122">Consider the following scenario.</span></span> <span data-ttu-id="c6a2f-123">O Grupo 1, que inclui o serviço [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] e o serviço [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] , está em execução no Nó A. O Grupo 2, que também inclui o serviço [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] e o serviço [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] , está em execução no Nó B. Ocorre um failover no Grupo 2 para o Nó A. A tentativa de iniciar outra instância do serviço [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] no Nó A falha porque o serviço [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] é um serviço de instância única.</span><span class="sxs-lookup"><span data-stu-id="c6a2f-123">Group1, which includes the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] service and the [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] service, is running on Node A. Group2, which also includes the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] service and the [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] service, is running on Node B. Group 2 fails over to Node A. The attempt to start another instance of the [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] service on Node A fails because the [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] service is a single-instance service.</span></span> <span data-ttu-id="c6a2f-124">Saber se o serviço do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] que está tentando realizar failover para o Nó A também falhará depende da configuração do serviço do [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] no Grupo 2.</span><span class="sxs-lookup"><span data-stu-id="c6a2f-124">Whether the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] service that is trying to fail over to Node A also fails depends on the configuration of the [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] service in Group 2.</span></span> <span data-ttu-id="c6a2f-125">Se o serviço do [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] foi configurado para afetar outros serviços no grupo de recursos, o serviço do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] que estiver em failover falhará devido a uma falha no serviço do [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="c6a2f-125">If the [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] service was configured to affect the other services in the resource group, the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] service that is failing over will fail because the [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] service failed.</span></span> <span data-ttu-id="c6a2f-126">Se o serviço foi configurado para não afetar outros serviços no grupo de recursos, o serviço do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] poderá realizar failover para o Nó A. A menos que o serviço do [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] no Grupo 2 tenha sido configurado para não afetar outros serviços no grupo de recursos, a falha do serviço do [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] que estiver em failover poderá fazer com que o serviço do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] que estiver realizando failover também falhe.</span><span class="sxs-lookup"><span data-stu-id="c6a2f-126">If the service was configured not to affect the other services in the resource group, the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] service will be able to fail over to Node A.Unless the [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] service in Group 2 was configured not to affect the other services in the resource group, the failure of the [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] service that is failing over could cause the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] service that is failing over to fail also.</span></span>  
  
## <a name="related-tasks"></a><span data-ttu-id="c6a2f-127">Related Tasks</span><span class="sxs-lookup"><span data-stu-id="c6a2f-127">Related Tasks</span></span>  
 <span data-ttu-id="c6a2f-128">Para obter instruções passo a passo sobre como configurar o serviço Integration Services em um cluster, consulte [Configurar o serviço Integration Services como um recurso de cluster](../configure-the-integration-services-service-as-a-cluster-resource.md).</span><span class="sxs-lookup"><span data-stu-id="c6a2f-128">For step-by-step instructions on configuring the Integration Services service in a cluster, see [Configure the Integration Services Service as a Cluster Resource](../configure-the-integration-services-service-as-a-cluster-resource.md).</span></span>  
  
  
