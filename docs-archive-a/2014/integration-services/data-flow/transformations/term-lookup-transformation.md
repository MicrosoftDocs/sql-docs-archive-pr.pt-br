---
title: Transformação Pesquisa de Termo | Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: integration-services
ms.topic: conceptual
f1_keywords:
- sql12.dts.designer.termlookuptrans.f1
helpviewer_keywords:
- extracting data [Integration Services]
- match extracted terms [Integration Services]
- text extraction [Integration Services]
- term extractions [Integration Services]
- lookups [Integration Services]
- counting extracted items
- Term Lookup transformation
ms.assetid: 3c0fa2f8-cb6a-4371-b184-7447be001de1
author: chugugrace
ms.author: chugu
ms.openlocfilehash: a679f9e191b2b1ec54d982a715085fe5b6bddfc5
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87684265"
---
# <a name="term-lookup-transformation"></a><span data-ttu-id="759b8-102">transformação Pesquisa de Termos</span><span class="sxs-lookup"><span data-stu-id="759b8-102">Term Lookup Transformation</span></span>
  <span data-ttu-id="759b8-103">A transformação Pesquisa de Termo corresponde termos extraídos de texto em uma coluna de entrada de transformação com termos em uma tabela de referência.</span><span class="sxs-lookup"><span data-stu-id="759b8-103">The Term Lookup transformation matches terms extracted from text in a transformation input column with terms in a reference table.</span></span> <span data-ttu-id="759b8-104">Ela conta o número de vezes em que um termo na tabela de pesquisa ocorre no conjunto de dados de entrada e grava a contagem junto com o termo da tabela de referência nas colunas na saída de transformação.</span><span class="sxs-lookup"><span data-stu-id="759b8-104">It then counts the number of times a term in the lookup table occurs in the input data set, and writes the count together with the term from the reference table to columns in the transformation output.</span></span> <span data-ttu-id="759b8-105">Essa transformação é útil para criar uma lista de palavras personalizada com base no texto de entrada, completa com estatísticas de frequência de palavras.</span><span class="sxs-lookup"><span data-stu-id="759b8-105">This transformation is useful for creating a custom word list based on the input text, complete with word frequency statistics.</span></span>  
  
 <span data-ttu-id="759b8-106">Antes de a transformação pesquisa de termos executar uma pesquisa, ela extrai palavras do texto em uma coluna de entrada usando o mesmo método da transformação extração de termos:</span><span class="sxs-lookup"><span data-stu-id="759b8-106">Before the Term Lookup transformation performs a lookup, it extracts words from the text in an input column using the same method as the Term Extraction transformation:</span></span>  
  
-   <span data-ttu-id="759b8-107">O texto é dividido em sentenças.</span><span class="sxs-lookup"><span data-stu-id="759b8-107">Text is broken into sentences.</span></span>  
  
-   <span data-ttu-id="759b8-108">As sentenças são divididas em palavras.</span><span class="sxs-lookup"><span data-stu-id="759b8-108">Sentences are broken into words.</span></span>  
  
-   <span data-ttu-id="759b8-109">As palavras são normalizadas.</span><span class="sxs-lookup"><span data-stu-id="759b8-109">Words are normalized.</span></span>  
  
 <span data-ttu-id="759b8-110">Para personalizar ainda mais quais os termos a corresponder, a transformação pesquisa de termos pode ser configurada para executar uma correspondência com diferenciação de maiúsculas e minúsculas.</span><span class="sxs-lookup"><span data-stu-id="759b8-110">To further customize which terms to match, the Term Lookup transformation can be configured to perform a case-sensitive match.</span></span>  
  
## <a name="matches"></a><span data-ttu-id="759b8-111">Correspondências</span><span class="sxs-lookup"><span data-stu-id="759b8-111">Matches</span></span>  
 <span data-ttu-id="759b8-112">A pesquisa de termos executa uma pesquisa e retorna um valor usando as regras a seguir:</span><span class="sxs-lookup"><span data-stu-id="759b8-112">The Term Lookup performs a lookup and returns a value using the following rules:</span></span>  
  
-   <span data-ttu-id="759b8-113">Se a transformação estiver configurada para executar correspondências com diferenciação de maiúsculas e minúsculas, as correspondências que apresentarem falha na comparação com diferenciação de maiúsculas e minúsculas serão descartadas.</span><span class="sxs-lookup"><span data-stu-id="759b8-113">If the transformation is configured to perform case-sensitive matches, matches that fail a case-sensitive comparison are discarded.</span></span> <span data-ttu-id="759b8-114">Por exemplo, *estudante* e *ESTUDANTE* serão tratadas como palavras diferentes.</span><span class="sxs-lookup"><span data-stu-id="759b8-114">For example, *student* and *STUDENT* are treated as separate words.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="759b8-115">Uma palavra sem inicial em maiúscula pode corresponder a uma palavra que tenha a inicial em maiúscula por estar no início de uma sentença.</span><span class="sxs-lookup"><span data-stu-id="759b8-115">A non-capitalized word can be matched with a word that is capitalized at the beginning of a sentence.</span></span> <span data-ttu-id="759b8-116">Por exemplo, a correspondência entre *estudante* e *Estudante* obterá êxito quando *Estudante* for a primeira palavra em um sentença.</span><span class="sxs-lookup"><span data-stu-id="759b8-116">For example, the match between *student* and *Student* succeeds when *Student* is the first word in a sentence.</span></span>  
  
-   <span data-ttu-id="759b8-117">Se uma forma plural do substantivo ou locução nominal existir na tabela de referência, a pesquisa corresponderá apenas à forma plural do substantivo ou locução nominal.</span><span class="sxs-lookup"><span data-stu-id="759b8-117">If a plural form of the noun or noun phrase exists in the reference table, the lookup matches only the plural form of the noun or noun phrase.</span></span> <span data-ttu-id="759b8-118">Por exemplo, todas as ocorrências de *estudantes* seriam contadas separadamente das ocorrências de *estudante*.</span><span class="sxs-lookup"><span data-stu-id="759b8-118">For example, all instances of *students* would be counted separately from the instances of *student*.</span></span>  
  
-   <span data-ttu-id="759b8-119">Se apenas a forma singular da palavra for achada na tabela de referência, tanto a forma singular quanto a plural da palavra ou locução corresponderão à forma singular.</span><span class="sxs-lookup"><span data-stu-id="759b8-119">If only the singular form of the word is found in the reference table, both the singular and the plural forms of the word or phrase are matched to the singular form.</span></span> <span data-ttu-id="759b8-120">Por exemplo, se a tabela de pesquisa contiver *estudante*e a transformação achar as palavras *estudante* e *estudantes*, ambas as palavras seriam contadas como correspondentes ao termo de pesquisa *estudante*.</span><span class="sxs-lookup"><span data-stu-id="759b8-120">For example, if the lookup table contains *student*, and the transformation finds the words *student* and *students*, both words would be counted as a match for the lookup term *student*.</span></span>  
  
-   <span data-ttu-id="759b8-121">Se o texto na coluna de entrada for uma locução nominal lematizada, só a última palavra na locução nominal será afetada pela normalização.</span><span class="sxs-lookup"><span data-stu-id="759b8-121">If the text in the input column is a lemmatized noun phrase, only the last word in the noun phrase is affected by normalization.</span></span> <span data-ttu-id="759b8-122">Por exemplo, a versão lematizada de *consultas de médicos* é *consulta de médicos*.</span><span class="sxs-lookup"><span data-stu-id="759b8-122">For example, the lemmatized version of *doctors appointments* is *doctors appointment*.</span></span>  
  
 <span data-ttu-id="759b8-123">Quando um item de pesquisa contém termos que se sobrepõem no conjunto de referência, isto é, um subtermo é achado em mais de um registro de referência, a transformação pesquisa de termos só retorna um resultado de pesquisa.</span><span class="sxs-lookup"><span data-stu-id="759b8-123">When a lookup item contains terms that overlap in the reference set-that is, a sub-term is found in more than one reference record-the Term Lookup transformation returns only one lookup result.</span></span> <span data-ttu-id="759b8-124">O exemplo a seguir mostra o resultado quando um item de pesquisa contém um subtermo sobreposto.</span><span class="sxs-lookup"><span data-stu-id="759b8-124">The following example shows the result when a lookup item contains an overlapping sub-term.</span></span> <span data-ttu-id="759b8-125">O subtermo sobreposto nesse caso é *Windows*, que é achado dentro de dois termos de referência.</span><span class="sxs-lookup"><span data-stu-id="759b8-125">The overlapping sub-term in this case is *Windows*, which is found within two reference terms.</span></span> <span data-ttu-id="759b8-126">Porém, a transformação não retorna dois resultados, mas apenas um único termo de referência: *Windows*.</span><span class="sxs-lookup"><span data-stu-id="759b8-126">However, the transformation does not return two results, but returns only a single reference term, *Windows*.</span></span> <span data-ttu-id="759b8-127">O segundo termo de referência, *Windows 7 Professional*não é retornado.</span><span class="sxs-lookup"><span data-stu-id="759b8-127">The second reference term, *Windows 7 Professional*, is not returned.</span></span>  
  
|<span data-ttu-id="759b8-128">Item</span><span class="sxs-lookup"><span data-stu-id="759b8-128">Item</span></span>|<span data-ttu-id="759b8-129">Valor</span><span class="sxs-lookup"><span data-stu-id="759b8-129">Value</span></span>|  
|----------|-----------|  
|<span data-ttu-id="759b8-130">Termo de entrada</span><span class="sxs-lookup"><span data-stu-id="759b8-130">Input term</span></span>|<span data-ttu-id="759b8-131">Windows 7 Professional</span><span class="sxs-lookup"><span data-stu-id="759b8-131">Windows 7 Professional</span></span>|  
|<span data-ttu-id="759b8-132">Termos de referência</span><span class="sxs-lookup"><span data-stu-id="759b8-132">Reference terms</span></span>|<span data-ttu-id="759b8-133">Windows, Windows 7 Professional</span><span class="sxs-lookup"><span data-stu-id="759b8-133">Windows, Windows 7 Professional</span></span>|  
|<span data-ttu-id="759b8-134">Saída</span><span class="sxs-lookup"><span data-stu-id="759b8-134">Output</span></span>|<span data-ttu-id="759b8-135">Windows</span><span class="sxs-lookup"><span data-stu-id="759b8-135">Windows</span></span>|  
  
 <span data-ttu-id="759b8-136">A transformação pesquisa de termos pode corresponder substantivos e locuções nominais que contenham caracteres especiais e os dados na tabela de referência podem incluir esses caracteres.</span><span class="sxs-lookup"><span data-stu-id="759b8-136">The Term Lookup transformation can match nouns and noun phrases that contain special characters, and the data in the reference table may include these characters.</span></span> <span data-ttu-id="759b8-137">Os caracteres especiais são os seguintes: %, @, &, $, #, \*, :, ;, ., **,** , !, ?, \<, >, +, =, ^, ~, |, \\, /, (, ), [, ], {, }, " e '.</span><span class="sxs-lookup"><span data-stu-id="759b8-137">The special characters are as follows: %, @, &, $, #, \*, :, ;, ., **,** , !, ?, \<, >, +, =, ^, ~, |, \\, /, (, ), [, ], {, }, ", and '.</span></span>  
  
## <a name="data-types"></a><span data-ttu-id="759b8-138">Tipos de dados</span><span class="sxs-lookup"><span data-stu-id="759b8-138">Data Types</span></span>  
 <span data-ttu-id="759b8-139">A transformação pesquisa de termos só pode usar uma coluna que tenha tipo de dados DT_WSTR ou DT_NTEXT.</span><span class="sxs-lookup"><span data-stu-id="759b8-139">The Term Lookup transformation can only use a column that has either the DT_WSTR or the DT_NTEXT data type.</span></span> <span data-ttu-id="759b8-140">Se uma coluna contiver texto, mas não tiver um desses tipos de dados, a transformação Conversão de Dados poderá adicionar uma coluna com tipo de dados DT_WSTR ou DT_NTEXT para o fluxo de dados e copiar os valores da coluna para a coluna nova.</span><span class="sxs-lookup"><span data-stu-id="759b8-140">If a column contains text, but does not have one of these data types, the Data Conversion transformation can add a column with the DT_WSTR or DT_NTEXT data type to the data flow and copy the column values to the new column.</span></span> <span data-ttu-id="759b8-141">A saída da transformação Conversão de Dados pode ser usada, então, como entrada para a transformação pesquisa de termos.</span><span class="sxs-lookup"><span data-stu-id="759b8-141">The output from the Data Conversion transformation can then be used as the input to the Term Lookup transformation.</span></span> <span data-ttu-id="759b8-142">Para obter mais informações, consulte [Data Conversion Transformation](data-conversion-transformation.md).</span><span class="sxs-lookup"><span data-stu-id="759b8-142">For more information, see [Data Conversion Transformation](data-conversion-transformation.md).</span></span>  
  
## <a name="configuration-the-term-lookup-transformation"></a><span data-ttu-id="759b8-143">Configuração da transformação Pesquisa de Termo</span><span class="sxs-lookup"><span data-stu-id="759b8-143">Configuration the Term Lookup Transformation</span></span>  
 <span data-ttu-id="759b8-144">As colunas de entrada da transformação Pesquisa de Termo incluem a propriedade InputColumnType, que indica o uso da coluna.</span><span class="sxs-lookup"><span data-stu-id="759b8-144">The Term Lookup transformation input columns includes the InputColumnType property, which indicates the use of the column.</span></span> <span data-ttu-id="759b8-145">InputColumnType pode conter os valores a seguir:</span><span class="sxs-lookup"><span data-stu-id="759b8-145">InputColumnType can contain the following values:</span></span>  
  
-   <span data-ttu-id="759b8-146">O valor 0 indica que a coluna só é transmitida para a saída e não é usada na pesquisa.</span><span class="sxs-lookup"><span data-stu-id="759b8-146">The value 0 indicates the column is passed through to the output only and is not used in the lookup.</span></span>  
  
-   <span data-ttu-id="759b8-147">O valor 1 indica que a coluna só é usada na pesquisa.</span><span class="sxs-lookup"><span data-stu-id="759b8-147">The value 1 indicates the column is used in the lookup only.</span></span>  
  
-   <span data-ttu-id="759b8-148">O valor 2 indica que a coluna é transmitida para a saída e também é usada na pesquisa.</span><span class="sxs-lookup"><span data-stu-id="759b8-148">The value 2 indicates the column is passed through to the output, and is also used in the lookup.</span></span>  
  
 <span data-ttu-id="759b8-149">As colunas de saída da transformação cuja propriedade InputColumnType é definida como 0 ou 2 incluem a propriedade CustomLineageID para uma coluna, que contém o identificador de linhagem atribuído à coluna por um componente de fluxo de dados upstream.</span><span class="sxs-lookup"><span data-stu-id="759b8-149">Transformation output columns whose InputColumnType property is set to 0 or 2 include the CustomLineageID property for a column, which contains the lineage identifier assigned to the column by an upstream data flow component.</span></span>  
  
 <span data-ttu-id="759b8-150">A transformação Pesquisa de Termos adiciona duas colunas à saída da transformação; por padrão elas são nomeadas como `Term` e `Frequency`.</span><span class="sxs-lookup"><span data-stu-id="759b8-150">The Term Lookup transformation adds two columns to the transformation output, named by default `Term` and `Frequency`.</span></span> <span data-ttu-id="759b8-151">A coluna `Term` contém um termo da tabela de pesquisa e a `Frequency` contém o número de vezes que o termo na tabela de referência ocorre no conjunto de dados de entrada.</span><span class="sxs-lookup"><span data-stu-id="759b8-151">`Term` contains a term from the lookup table and `Frequency` contains the number of times the term in the reference table occurs in the input data set.</span></span> <span data-ttu-id="759b8-152">Essas colunas não incluem a propriedade CustomLineageID.</span><span class="sxs-lookup"><span data-stu-id="759b8-152">These columns do not include the CustomLineageID property.</span></span>  
  
 <span data-ttu-id="759b8-153">A tabela de pesquisa deve ser uma tabela em um banco de dados do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] ou do Access.</span><span class="sxs-lookup"><span data-stu-id="759b8-153">The lookup table must be a table in a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] or an Access database.</span></span> <span data-ttu-id="759b8-154">Se a saída da transformação extração de termos for salva em uma tabela, esta tabela poderá ser usada como tabela de referência, mas outras tabelas também poderão ser usadas.</span><span class="sxs-lookup"><span data-stu-id="759b8-154">If the output of the Term Extraction transformation is saved to a table, this table can be used as the reference table, but other tables can also be used.</span></span> <span data-ttu-id="759b8-155">Texto em arquivos simples, pastas de trabalho do Excel ou outras fontes precisam ser importadas em um banco de dados do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] ou em um banco de dados do Access antes de você poder usar a transformação pesquisa de termos.</span><span class="sxs-lookup"><span data-stu-id="759b8-155">Text in flat files, Excel workbooks or other sources must be imported to a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] database or an Access database before you can use the Term Lookup transformation.</span></span>  
  
 <span data-ttu-id="759b8-156">A transformação pesquisa de termos usa uma conexão OLE DB separada para conectar-se à tabela de referência.</span><span class="sxs-lookup"><span data-stu-id="759b8-156">The Term Lookup transformation uses a separate OLE DB connection to connect to the reference table.</span></span> <span data-ttu-id="759b8-157">Para obter mais informações, consulte [OLE DB Connection Manager](../../connection-manager/ole-db-connection-manager.md).</span><span class="sxs-lookup"><span data-stu-id="759b8-157">For more information, see [OLE DB Connection Manager](../../connection-manager/ole-db-connection-manager.md).</span></span>  
  
 <span data-ttu-id="759b8-158">A transformação pesquisa de termos funciona em um modo totalmente pré-armazenado em cache.</span><span class="sxs-lookup"><span data-stu-id="759b8-158">The Term Lookup transformation works in a fully precached mode.</span></span> <span data-ttu-id="759b8-159">No tempo de execução, a transformação pesquisa de termos lê os termos da tabela de referência e os armazena em sua memória privada antes de processar qualquer linha de entrada de transformação.</span><span class="sxs-lookup"><span data-stu-id="759b8-159">At run time, the Term Lookup transformation reads the terms from the reference table and stores them in its private memory before it processes any transformation input rows.</span></span>  
  
 <span data-ttu-id="759b8-160">Como os termos em uma linha de coluna de entrada podem se repetir, a saída da transformação pesquisa de termos geralmente tem mais linhas que a entrada da transformação.</span><span class="sxs-lookup"><span data-stu-id="759b8-160">Because the terms in an input column row may repeat, the output of the Term Lookup transformation typically has more rows than the transformation input.</span></span>  
  
 <span data-ttu-id="759b8-161">A transformação tem uma entrada e uma saída.</span><span class="sxs-lookup"><span data-stu-id="759b8-161">The transformation has one input and one output.</span></span> <span data-ttu-id="759b8-162">Ela não oferece suporte a saídas de erro.</span><span class="sxs-lookup"><span data-stu-id="759b8-162">It does not support error outputs.</span></span>  
  
 <span data-ttu-id="759b8-163">Você pode definir propriedades pelo Designer do [!INCLUDE[ssIS](../../../includes/ssis-md.md)] ou programaticamente.</span><span class="sxs-lookup"><span data-stu-id="759b8-163">You can set properties through [!INCLUDE[ssIS](../../../includes/ssis-md.md)] Designer or programmatically.</span></span>  
  
 <span data-ttu-id="759b8-164">Para obter mais informações sobre as propriedades que podem ser definidas na caixa de diálogo **Editor de Transformação Pesquisa de Termos** , clique em um dos seguintes tópicos:</span><span class="sxs-lookup"><span data-stu-id="759b8-164">For more information about the properties that you can set in the **Term Lookup Transformation Editor** dialog box, click one of the following topics:</span></span>  
  
-   [<span data-ttu-id="759b8-165">Editor de Transformação Pesquisa de Termos &#40;Guia Tabela de Referência&#41;</span><span class="sxs-lookup"><span data-stu-id="759b8-165">Term Lookup Transformation Editor &#40;Reference Table Tab&#41;</span></span>](../../term-lookup-transformation-editor-reference-table-tab.md)  
  
-   [<span data-ttu-id="759b8-166">Editor de Transformação Pesquisa de Termos &#40;Guia Pesquisa de Termos&#41;</span><span class="sxs-lookup"><span data-stu-id="759b8-166">Term Lookup Transformation Editor &#40;Term Lookup Tab&#41;</span></span>](../../term-lookup-transformation-editor-term-lookup-tab.md)  
  
-   [<span data-ttu-id="759b8-167">Editor de Transformação Pesquisa de Termos &#40;Guia Avançado&#41;</span><span class="sxs-lookup"><span data-stu-id="759b8-167">Term Lookup Transformation Editor &#40;Advanced Tab&#41;</span></span>](../../term-lookup-transformation-editor-advanced-tab.md)  
  
 <span data-ttu-id="759b8-168">Para obter mais informações sobre as propriedades que podem ser definidas na caixa de diálogo **Editor Avançado** ou programaticamente, clique em um dos seguintes tópicos:</span><span class="sxs-lookup"><span data-stu-id="759b8-168">For more information about the properties that you can set in the **Advanced Editor** dialog box or programmatically, click one of the following topics:</span></span>  
  
-   [<span data-ttu-id="759b8-169">Propriedades comuns</span><span class="sxs-lookup"><span data-stu-id="759b8-169">Common Properties</span></span>](../../common-properties.md)  
  
-   [<span data-ttu-id="759b8-170">Propriedades personalizadas de Transformação</span><span class="sxs-lookup"><span data-stu-id="759b8-170">Transformation Custom Properties</span></span>](transformation-custom-properties.md)  
  
 <span data-ttu-id="759b8-171">Para obter mais informações sobre como definir as propriedades, consulte [Definir as propriedades de um componente de fluxo de dados](../set-the-properties-of-a-data-flow-component.md).</span><span class="sxs-lookup"><span data-stu-id="759b8-171">For more information about how to set properties, see [Set the Properties of a Data Flow Component](../set-the-properties-of-a-data-flow-component.md).</span></span>  
  
  
