---
title: Origem XML | Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: integration-services
ms.topic: conceptual
f1_keywords:
- sql12.dts.designer.xmlsource.f1
helpviewer_keywords:
- sources [Integration Services], XML
- XML source [Integration Services]
- XML Source Editor
ms.assetid: 68c27ea5-e93d-4e26-bfb2-d967ca0a5282
author: chugugrace
ms.author: chugu
ms.openlocfilehash: d13a1bf01729932eaa6b232ac7839d2e3001f5fe
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87582017"
---
# <a name="xml-source"></a><span data-ttu-id="a86fc-102">Origem XML</span><span class="sxs-lookup"><span data-stu-id="a86fc-102">XML Source</span></span>
  <span data-ttu-id="a86fc-103">A origem XML lê um arquivo de dados XML e preenche as colunas na saída de origem com os dados.</span><span class="sxs-lookup"><span data-stu-id="a86fc-103">The XML source reads an XML data file and populates the columns in the source output with the data.</span></span>  
  
 <span data-ttu-id="a86fc-104">Os dados de arquivos XML frequentemente incluem relações hierárquicas.</span><span class="sxs-lookup"><span data-stu-id="a86fc-104">The data in XML files frequently includes hierarchical relationships.</span></span> <span data-ttu-id="a86fc-105">Por exemplo, um arquivo de dados XML pode representar catálogos e itens em catálogos.</span><span class="sxs-lookup"><span data-stu-id="a86fc-105">For example, an XML data file can represent catalogs and items in catalogs.</span></span> <span data-ttu-id="a86fc-106">Antes de os dados serem inseridos no fluxo de dados, é necessário determinar a relação dos elementos no arquivo de dados XML e gerar uma saída para cada elemento do arquivo.</span><span class="sxs-lookup"><span data-stu-id="a86fc-106">Before the data can enter the data flow, the relationship of the elements in XML data file must be determined, and an output must be generated for each element in the file.</span></span>  
  
## <a name="schemas"></a><span data-ttu-id="a86fc-107">Esquemas</span><span class="sxs-lookup"><span data-stu-id="a86fc-107">Schemas</span></span>  
 <span data-ttu-id="a86fc-108">A origem XML usa um esquema para interpretar os dados XML.</span><span class="sxs-lookup"><span data-stu-id="a86fc-108">The XML source uses a schema to interpret the XML data.</span></span> <span data-ttu-id="a86fc-109">A origem XML dá suporte ao uso de um arquivo XSD (XML Schema Definition) ou de esquemas embutidos para conversão dos dados XML em um formato tabular.</span><span class="sxs-lookup"><span data-stu-id="a86fc-109">The XML source supports use of a XML Schema Definition (XSD) file or inline schemas to translate the XML data into a tabular format.</span></span> <span data-ttu-id="a86fc-110">Se a origem XML for configurada com a caixa de diálogo **Editor de Origem XML** , a interface de usuário poderá gerar um XSD a partir do arquivo de dados XML especificado.</span><span class="sxs-lookup"><span data-stu-id="a86fc-110">If you configure the XML source by using the **XML Source Editor** dialog box, the user interface can generate an XSD from the specified XML data file.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="a86fc-111">DTDs não são suportados.</span><span class="sxs-lookup"><span data-stu-id="a86fc-111">DTDs are not supported.</span></span>  
  
 <span data-ttu-id="a86fc-112">Os esquemas só podem dar suporte a um único namespace; eles não dão suporte a coleções de esquema.</span><span class="sxs-lookup"><span data-stu-id="a86fc-112">The schemas can support a single namespace only; they do not support schema collections.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="a86fc-113">A origem XML não valida os dados no arquivo de XML em relação ao XSD.</span><span class="sxs-lookup"><span data-stu-id="a86fc-113">The XML source does not validate the data in the XML file against the XSD.</span></span>  
  
## <a name="xml-source-editor"></a><span data-ttu-id="a86fc-114">Editor de Origem XML</span><span class="sxs-lookup"><span data-stu-id="a86fc-114">XML Source Editor</span></span>  
 <span data-ttu-id="a86fc-115">Os dados dos arquivos XML frequentemente incluem relações hierárquicas.</span><span class="sxs-lookup"><span data-stu-id="a86fc-115">The data in the XML files frequently includes hierarchical relationships.</span></span> <span data-ttu-id="a86fc-116">A caixa de diálogo **Editor de Origem XML** usa o esquema especificado para gerar as saídas de origem XML.</span><span class="sxs-lookup"><span data-stu-id="a86fc-116">The **XML Source Editor** dialog box uses the specified schema to generate the XML source outputs.</span></span> <span data-ttu-id="a86fc-117">É possível especificar um arquivo XSD, usar um esquema embutido ou gerar um XSD a partir do arquivo de dados XML especificado.</span><span class="sxs-lookup"><span data-stu-id="a86fc-117">You can specify an XSD file, use an inline schema, or generate an XSD from the specified XML data file.</span></span> <span data-ttu-id="a86fc-118">O esquema deve estar disponível em tempo de design.</span><span class="sxs-lookup"><span data-stu-id="a86fc-118">The schema must be available at design time.</span></span>  
  
 <span data-ttu-id="a86fc-119">A origem XML gera estruturas tabulares a partir dos dados XML criando uma saída para cada elemento que contém outros elementos dos arquivos XML.</span><span class="sxs-lookup"><span data-stu-id="a86fc-119">The XML source generates tabular structures from the XML data by creating an output for every element that contains other elements in the XML files.</span></span> <span data-ttu-id="a86fc-120">Por exemplo, se os dados XML representarem catálogos e itens em catálogos, a origem XML criará uma saída para os catálogos e uma saída para cada tipo de item contido nos catálogos.</span><span class="sxs-lookup"><span data-stu-id="a86fc-120">For example, if the XML data represents catalogs and items in catalogs, the XML source creates an output for catalogs and an output for each type of item that the catalogs contain.</span></span> <span data-ttu-id="a86fc-121">A saída de cada item conterá colunas de saída para os atributos do item em questão.</span><span class="sxs-lookup"><span data-stu-id="a86fc-121">The output of each item will contain output columns for the attributes of that item.</span></span>  
  
 <span data-ttu-id="a86fc-122">Para fornecer informações sobre a relação hierárquica dos dados nas saídas, a origem XML adiciona uma coluna às saídas que identifica o elemento pai de cada elemento filho.</span><span class="sxs-lookup"><span data-stu-id="a86fc-122">To provide information about the hierarchical relationship of the data in the outputs, the XML source adds a column in the outputs that identifies the parent element for each child element.</span></span> <span data-ttu-id="a86fc-123">Usando o exemplo de catálogos com tipos de itens diferentes, cada item teria um valor de coluna para identificar o catálogo ao qual pertence.</span><span class="sxs-lookup"><span data-stu-id="a86fc-123">Using the example of catalogs with different types of items, each item would have a column value that identifies the catalog to which it belongs.</span></span>  
  
 <span data-ttu-id="a86fc-124">A origem XML cria uma saída para cada elemento, mas não é necessário usar todas as saídas.</span><span class="sxs-lookup"><span data-stu-id="a86fc-124">The XML source creates an output for every element, but it is not required that you use all the outputs.</span></span> <span data-ttu-id="a86fc-125">Você pode excluir todas as saídas que não deseja usar ou apenas não se conectar a um componente downstream.</span><span class="sxs-lookup"><span data-stu-id="a86fc-125">You can delete any output that you do not want to use, or just not connect it to a downstream component.</span></span>  
  
 <span data-ttu-id="a86fc-126">A origem XML também gera os nomes de saída para assegurar que os nomes são sejam ambíguos.</span><span class="sxs-lookup"><span data-stu-id="a86fc-126">The XML source also generates the output names, to ensure that the names are unambiguous.</span></span> <span data-ttu-id="a86fc-127">Esses nomes podem ser longos e talvez não identifiquem as saídas de uma maneira útil.</span><span class="sxs-lookup"><span data-stu-id="a86fc-127">These names may be long and may not identify the outputs in a way that is useful to you.</span></span> <span data-ttu-id="a86fc-128">Você pode renomear as saídas, contanto que seus nomes permaneçam exclusivos.</span><span class="sxs-lookup"><span data-stu-id="a86fc-128">You can rename the outputs, as long as their names remain unique.</span></span> <span data-ttu-id="a86fc-129">Você também pode modificar o tipo de dados e o comprimento de colunas de saída.</span><span class="sxs-lookup"><span data-stu-id="a86fc-129">You can also modify the data type and the length of output columns.</span></span>  
  
 <span data-ttu-id="a86fc-130">A cada saída, a origem XML adiciona uma saída de erro.</span><span class="sxs-lookup"><span data-stu-id="a86fc-130">For every output, the XML source adds an error output.</span></span> <span data-ttu-id="a86fc-131">Por padrão, as colunas das saídas de erro têm um tipo de dados de cadeia de caracteres Unicode (DT_WSTR) com 255 caracteres, mas é possível configurar as colunas das saídas de erro modificando o tipo e o comprimento dos dados.</span><span class="sxs-lookup"><span data-stu-id="a86fc-131">By default the columns in error outputs have Unicode string data type (DT_WSTR) with a length of 255, but you can configure the columns in the error outputs by modifying their data type and length.</span></span>  
  
 <span data-ttu-id="a86fc-132">Se o arquivo de dados XML tiver elementos que não estão no XSD, esses elementos serão ignorados e nenhuma saída será gerada para eles.</span><span class="sxs-lookup"><span data-stu-id="a86fc-132">If the XML data file contains elements that are not in the XSD, these elements are ignored and no output is generated for them.</span></span> <span data-ttu-id="a86fc-133">Por outro lado, se o arquivo de dados XML tiver elementos ausentes que estão representados no XSD, a saída vai conter colunas com valores nulos.</span><span class="sxs-lookup"><span data-stu-id="a86fc-133">On the other hand, if the XML data file is missing elements that are represented in the XSD, the output will contain columns with null values.</span></span>  
  
 <span data-ttu-id="a86fc-134">Quando os dados são extraídos do arquivo de dados XML, eles são convertidos em um tipo de dados do [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="a86fc-134">When the data is extracted from the XML data file, it is converted to an [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] data type.</span></span> <span data-ttu-id="a86fc-135">No entanto, a origem XML não pode converter os dados XML para os tipos de dados DT_TIME2 ou DT_DBTIMESTAMP2 porque ela não tem suporte a esses tipos de dados.</span><span class="sxs-lookup"><span data-stu-id="a86fc-135">However, the XML source cannot convert the XML data to the DT_TIME2 or DT_DBTIMESTAMP2 data types because the source does not support these data types.</span></span> <span data-ttu-id="a86fc-136">Para obter mais informações, consulte [Integration Services Data Types](integration-services-data-types.md).</span><span class="sxs-lookup"><span data-stu-id="a86fc-136">For more information, see [Integration Services Data Types](integration-services-data-types.md).</span></span>  
  
 <span data-ttu-id="a86fc-137">O XSD ou o esquema embutido pode especificar o tipo de dados para os elementos, mas, se não fizerem isso, a caixa de diálogo **Editor de Origem XML** atribuirá o tipo de dados String Unicode (DT_WSTR) à coluna na saída que contém o elemento e definirá o comprimento da coluna como 255 caracteres.</span><span class="sxs-lookup"><span data-stu-id="a86fc-137">The XSD or inline schema may specify the data type for elements, but if it does not, the **XML Source Editor** dialog box assigns the Unicode string data type (DT_WSTR) to the column in the output that contains the element, and sets the column length to 255 characters.</span></span>  
  
 <span data-ttu-id="a86fc-138">Se o esquema especificar o comprimento máximo de um elemento, o comprimento da coluna de saída será definido para esse valor.</span><span class="sxs-lookup"><span data-stu-id="a86fc-138">If the schema specifies the maximum length of an element, the length of output column is set to this value.</span></span> <span data-ttu-id="a86fc-139">Se o comprimento máximo for maior do que o comprimento suportado pelo tipo de dados do [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] no qual o elemento foi convertido, os dados serão truncados no comprimento máximo do tipo de dados.</span><span class="sxs-lookup"><span data-stu-id="a86fc-139">If the maximum length is greater than the length supported by the [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] data type to which the element is converted, then the data is truncated to the maximum length of the data type.</span></span> <span data-ttu-id="a86fc-140">Por exemplo, se o comprimento de uma cadeia de caracteres for 5000, ela será truncada em 4000 caracteres porque o comprimento máximo do tipo de dados DT_WSTR é 4000 caracteres; do mesmo modo, os dados de byte são truncados em 8000 caracteres, que é o comprimento máximo do tipo de dados DT_BYTES.</span><span class="sxs-lookup"><span data-stu-id="a86fc-140">For example, if a string has a length of 5000, it is truncated to 4000 characters because the maximum length of the DT_WSTR data type is 4000 characters; likewise, byte data is truncated to 8000 characters, the maximum length of the DT_BYTES data type.</span></span> <span data-ttu-id="a86fc-141">Se o esquema não especificar nenhum comprimento máximo, o comprimento padrão das colunas com qualquer tipo de dados será definido como 255.</span><span class="sxs-lookup"><span data-stu-id="a86fc-141">If the schema specifies no maximum length, the default length of columns with either data type is set to 255.</span></span> <span data-ttu-id="a86fc-142">O truncamento dos dados na origem XML é tratada do mesmo modo que seria em outros componentes de fluxo de dados.</span><span class="sxs-lookup"><span data-stu-id="a86fc-142">Data truncation in the XML source is handled the same way as truncation in other data flow components.</span></span> <span data-ttu-id="a86fc-143">Para obter mais informações, consulte [Tratamento de erros em dados](error-handling-in-data.md).</span><span class="sxs-lookup"><span data-stu-id="a86fc-143">For more information, see [Error Handling in Data](error-handling-in-data.md).</span></span>  
  
 <span data-ttu-id="a86fc-144">Você pode modificar o tipo de dados e o comprimento da coluna.</span><span class="sxs-lookup"><span data-stu-id="a86fc-144">You can modify the data type and the column length.</span></span> <span data-ttu-id="a86fc-145">Para obter mais informações, consulte [Integration Services Data Types](integration-services-data-types.md).</span><span class="sxs-lookup"><span data-stu-id="a86fc-145">For more information, see [Integration Services Data Types](integration-services-data-types.md).</span></span>  
  
## <a name="configuration-of-the-xml-source"></a><span data-ttu-id="a86fc-146">Configuração da origem XML</span><span class="sxs-lookup"><span data-stu-id="a86fc-146">Configuration of the XML Source</span></span>  
 <span data-ttu-id="a86fc-147">A origem XML dá suporte a três modos diferentes de acesso aos dados.</span><span class="sxs-lookup"><span data-stu-id="a86fc-147">The XML source supports three different data access modes.</span></span> <span data-ttu-id="a86fc-148">Você pode especificar o local do arquivo de dados XML, a variável que contém o local do arquivo ou a variável que contém os dados XML.</span><span class="sxs-lookup"><span data-stu-id="a86fc-148">You can specify the file location of the XML data file, the variable that contains the file location, or the variable that contains the XML data.</span></span>  
  
 <span data-ttu-id="a86fc-149">A origem XML inclui as propriedades personalizadas `XMLData` e `XMLSchemaDefinition` que podem ser atualizadas por expressões de propriedade quando o pacote é carregado.</span><span class="sxs-lookup"><span data-stu-id="a86fc-149">The XML source includes the `XMLData` and `XMLSchemaDefinition` custom properties that can be updated by property expressions when the package is loaded.</span></span> <span data-ttu-id="a86fc-150">Para obter mais informações, consulte [Expressões do Integration Services &#40;SSIS&#41;](../expressions/integration-services-ssis-expressions.md), [Usar expressões de propriedade em pacotes](../expressions/use-property-expressions-in-packages.md) e [Propriedades personalizadas de origem XML](xml-source-custom-properties.md).</span><span class="sxs-lookup"><span data-stu-id="a86fc-150">For more information, see [Integration Services &#40;SSIS&#41; Expressions](../expressions/integration-services-ssis-expressions.md), [Use Property Expressions in Packages](../expressions/use-property-expressions-in-packages.md), and [XML Source Custom Properties](xml-source-custom-properties.md).</span></span>  
  
 <span data-ttu-id="a86fc-151">A origem XML dá suporte a várias saídas regulares e saídas de erro.</span><span class="sxs-lookup"><span data-stu-id="a86fc-151">The XML source supports multiple regular outputs and multiple error outputs.</span></span>  
  
 <span data-ttu-id="a86fc-152">O [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] inclui a caixa de diálogo **Editor de Origem XML** para configurar a origem XML.</span><span class="sxs-lookup"><span data-stu-id="a86fc-152">[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] includes the **XML Source Edito**r dialog box for configuring the XML source.</span></span> <span data-ttu-id="a86fc-153">Esta caixa de diálogo está disponível no Designer [!INCLUDE[ssIS](../../includes/ssis-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="a86fc-153">This dialog box is available in [!INCLUDE[ssIS](../../includes/ssis-md.md)] Designer.</span></span>  
  
 <span data-ttu-id="a86fc-154">Você pode definir propriedades pelo Designer do [!INCLUDE[ssIS](../../includes/ssis-md.md)] ou programaticamente.</span><span class="sxs-lookup"><span data-stu-id="a86fc-154">You can set properties through [!INCLUDE[ssIS](../../includes/ssis-md.md)] Designer or programmatically.</span></span>  
  
 <span data-ttu-id="a86fc-155">Para obter mais informações sobre as propriedades que podem ser definidas na caixa de diálogo **Editor de Origem XML** , clique em um dos seguintes tópicos:</span><span class="sxs-lookup"><span data-stu-id="a86fc-155">For more information about the properties that you can set in the **XML Source Editor** dialog box, click one of the following topics:</span></span>  
  
-   [<span data-ttu-id="a86fc-156">Editor de Origem XML &#40;Página Gerenciador de Conexões&#41;</span><span class="sxs-lookup"><span data-stu-id="a86fc-156">XML Source Editor &#40;Connection Manager Page&#41;</span></span>](../xml-source-editor-connection-manager-page.md)  
  
-   [<span data-ttu-id="a86fc-157">Editor de Origem XML &#40;Página Colunas&#41;</span><span class="sxs-lookup"><span data-stu-id="a86fc-157">XML Source Editor &#40;Columns Page&#41;</span></span>](../xml-source-editor-columns-page.md)  
  
-   [<span data-ttu-id="a86fc-158">Editor de Origem XML &#40;Página Saída de Erro&#41;</span><span class="sxs-lookup"><span data-stu-id="a86fc-158">XML Source Editor &#40;Error Output Page&#41;</span></span>](../xml-source-editor-error-output-page.md)  
  
 <span data-ttu-id="a86fc-159">A caixa de diálogo **Editor Avançado** reflete as propriedades que podem ser definidas programaticamente.</span><span class="sxs-lookup"><span data-stu-id="a86fc-159">The **Advanced Editor** dialog box reflects the properties that can be set programmatically.</span></span> <span data-ttu-id="a86fc-160">Para obter mais informações sobre as propriedades que podem ser definidas na caixa de diálogo **Editor Avançado** ou programaticamente, clique em um dos seguintes tópicos:</span><span class="sxs-lookup"><span data-stu-id="a86fc-160">For more information about the properties that you can set in the **Advanced Editor** dialog box or programmatically, click one of the following topics:</span></span>  
  
-   [<span data-ttu-id="a86fc-161">Propriedades comuns</span><span class="sxs-lookup"><span data-stu-id="a86fc-161">Common Properties</span></span>](../common-properties.md)  
  
-   [<span data-ttu-id="a86fc-162">Propriedades personalizadas da origem XML</span><span class="sxs-lookup"><span data-stu-id="a86fc-162">XML Source Custom Properties</span></span>](xml-source-custom-properties.md)  
  
 <span data-ttu-id="a86fc-163">Para obter mais informações sobre como definir as propriedades, clique em um dos tópicos a seguir:</span><span class="sxs-lookup"><span data-stu-id="a86fc-163">For more information about how to set the properties, click one of the following topics:</span></span>  
  
-   [<span data-ttu-id="a86fc-164">Definir as propriedades de um componente de fluxo de dados</span><span class="sxs-lookup"><span data-stu-id="a86fc-164">Set the Properties of a Data Flow Component</span></span>](set-the-properties-of-a-data-flow-component.md)  
  
## <a name="related-tasks"></a><span data-ttu-id="a86fc-165">Related Tasks</span><span class="sxs-lookup"><span data-stu-id="a86fc-165">Related Tasks</span></span>  
 [<span data-ttu-id="a86fc-166">Extrair dados por meio da origem XML</span><span class="sxs-lookup"><span data-stu-id="a86fc-166">Extract Data by Using the XML Source</span></span>](xml-source.md)  
  
## <a name="related-content"></a><span data-ttu-id="a86fc-167">Conteúdo relacionado</span><span class="sxs-lookup"><span data-stu-id="a86fc-167">Related Content</span></span>  
 <span data-ttu-id="a86fc-168">Artigo técnico, [usando um arquivo XML para configurar um pacote do SSIS](https://www.sqlshack.com/using-xml-file-configure-ssis-package/).</span><span class="sxs-lookup"><span data-stu-id="a86fc-168">Technical article, [Using an XML file to configure an SSIS package](https://www.sqlshack.com/using-xml-file-configure-ssis-package/).</span></span>  
  
  
