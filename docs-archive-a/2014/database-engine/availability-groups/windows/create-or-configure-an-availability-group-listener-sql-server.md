---
title: Criar ou configurar um ouvinte do grupo de disponibilidade (SQL Server) | Microsoft Docs
ms.custom: ''
ms.date: 06/14/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: high-availability
ms.topic: conceptual
f1_keywords:
- sql12.swb.availabilitygroup.newaglistener.general.f1
helpviewer_keywords:
- Availability Groups [SQL Server], listeners
- Availability Groups [SQL Server], client connectivity
ms.assetid: 2bc294f6-2312-4b6b-9478-2fb8a656e645
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: 2c74e92286eab4bc1be8f3f538d83d86f056cf01
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87686371"
---
# <a name="create-or-configure-an-availability-group-listener-sql-server"></a><span data-ttu-id="2e926-102">Criar ou configurar um ouvinte de grupo de disponibilidade (SQL Server)</span><span class="sxs-lookup"><span data-stu-id="2e926-102">Create or Configure an Availability Group Listener (SQL Server)</span></span>
  <span data-ttu-id="2e926-103">Este tópico descreve como criar ou configurar um único *ouvinte de grupo de disponibilidade* para um grupo de disponibilidade AlwaysOn usando o [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)] , o ou o [!INCLUDE[tsql](../../../includes/tsql-md.md)] PowerShell no [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="2e926-103">This topic describes how to create or configure a single *availability group listener* for an AlwaysOn availability group by using [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)], [!INCLUDE[tsql](../../../includes/tsql-md.md)], or PowerShell in [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)].</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="2e926-104">Para criar o primeiro ouvinte de grupo de disponibilidade de um grupo de disponibilidade, é altamente recomendável ter o [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)], o [!INCLUDE[tsql](../../../includes/tsql-md.md)]ou o [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] PowerShell.</span><span class="sxs-lookup"><span data-stu-id="2e926-104">To create the first availability group listener of an availability group, we strongly recommend that you [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)], [!INCLUDE[tsql](../../../includes/tsql-md.md)], or [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] PowerShell.</span></span> <span data-ttu-id="2e926-105">Evite criar um ouvinte diretamente no cluster WSFC, exceto se necessário, por exemplo, para criar um ouvinte adicional.</span><span class="sxs-lookup"><span data-stu-id="2e926-105">Avoid creating a listener directly in the WSFC cluster except when necessary, for example, to create an additional listener.</span></span>  
  
  
##  <a name="before-you-begin"></a><a name="BeforeYouBegin"></a> <span data-ttu-id="2e926-106">Antes de começar</span><span class="sxs-lookup"><span data-stu-id="2e926-106">Before You Begin</span></span>  
  
###  <a name="does-a-listener-exist-for-this-availability-group-already"></a><a name="DoesListenerExist"></a> <span data-ttu-id="2e926-107">Já existe um ouvinte para esse grupo de disponibilidade?</span><span class="sxs-lookup"><span data-stu-id="2e926-107">Does a Listener Exist for this Availability Group Already?</span></span>  
 <span data-ttu-id="2e926-108">**Para determinar se um ouvinte já existe para o grupo de disponibilidade**</span><span class="sxs-lookup"><span data-stu-id="2e926-108">**To determine whether a listener already exists for the availability group**</span></span>  
  
-   [<span data-ttu-id="2e926-109">Exibir propriedades do ouvinte do grupo de disponibilidade &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="2e926-109">View Availability Group Listener Properties &#40;SQL Server&#41;</span></span>](view-availability-group-listener-properties-sql-server.md)  
  
> [!NOTE]  
>  <span data-ttu-id="2e926-110">Se já houver um ouvinte e você desejar criar um ouvinte adicional, consulte [Para criar um ouvinte adicional para um grupo de disponibilidade (opcional)](#CreateAdditionalListener)posteriormente neste tópico.</span><span class="sxs-lookup"><span data-stu-id="2e926-110">If a listener already exists and you want to create an additional listener, see [To Create An Additional Listener for an Availability Group (Optional)](#CreateAdditionalListener), later in this topic.</span></span>  
  
###  <a name="limitations-and-restrictions"></a><a name="Restrictions"></a> <span data-ttu-id="2e926-111">Limitações e restrições</span><span class="sxs-lookup"><span data-stu-id="2e926-111">Limitations and Restrictions</span></span>  
  
-   <span data-ttu-id="2e926-112">Só é possível criar um ouvinte por grupo de disponibilidade via [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="2e926-112">You can create only one listener per availability group through [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="2e926-113">Geralmente, cada grupo de disponibilidade exige somente um ouvinte.</span><span class="sxs-lookup"><span data-stu-id="2e926-113">Typically, each availability group requires only one listener.</span></span> <span data-ttu-id="2e926-114">No entanto, alguns cenários de cliente exigem vários ouvintes para um grupo de disponibilidade.</span><span class="sxs-lookup"><span data-stu-id="2e926-114">However, some customer scenarios require multiple listeners for one availability group.</span></span>   <span data-ttu-id="2e926-115">Depois de criar um ouvinte pelo SQL Server, você pode usar o Windows PowerShell para clusters de failover ou o Gerenciador de Cluster de Failover do WSFC para criar ouvintes adicionais.</span><span class="sxs-lookup"><span data-stu-id="2e926-115">After creating a listener through SQL Server, you can use Windows PowerShell for failover clusters or the WSFC Failover Cluster Manager to create additional listeners.</span></span> <span data-ttu-id="2e926-116">Para obter mais informações, consulte [Para criar um ouvinte adicional para um grupo de disponibilidade (opcional)](#CreateAdditionalListener), posteriormente neste tópico.</span><span class="sxs-lookup"><span data-stu-id="2e926-116">For more information, see [To Create An Additional Listener for an Availability Group (Optional)](#CreateAdditionalListener), later in this topic.</span></span>  
  
###  <a name="recommendations"></a><a name="Recommendations"></a> <span data-ttu-id="2e926-117">Recomendações</span><span class="sxs-lookup"><span data-stu-id="2e926-117">Recommendations</span></span>  
 <span data-ttu-id="2e926-118">O uso de um endereço IP estático é recomendável, embora não obrigatório, para várias configurações de sub-rede.</span><span class="sxs-lookup"><span data-stu-id="2e926-118">Using a static IP address is recommended, although not required, for multiple subnet configurations.</span></span>  
  
###  <a name="prerequisites"></a><a name="Prerequisites"></a> <span data-ttu-id="2e926-119">Pré-requisitos</span><span class="sxs-lookup"><span data-stu-id="2e926-119">Prerequisites</span></span>  
  
-   <span data-ttu-id="2e926-120">Você deve estar conectado à instância do servidor que hospeda a réplica primária.</span><span class="sxs-lookup"><span data-stu-id="2e926-120">You must be connected to the server instance that hosts the primary replica.</span></span>  
  
-   <span data-ttu-id="2e926-121">Se estiver configurando um ouvinte de grupo de disponibilidade em várias sub-redes e estiver planejando usar endereços IP estáticos, você precisará obter os endereços IP estáticos de cada sub-rede que hospeda uma réplica de disponibilidade para o grupo de disponibilidade para o qual está criando o ouvinte.</span><span class="sxs-lookup"><span data-stu-id="2e926-121">If you are setting up an availability group listener across multiple subnets and plan to use static IP addresses, you need to get the static IP address of every subnet that hosts an availability replica for the availability group for which you are creating the listener.</span></span> <span data-ttu-id="2e926-122">Normalmente, você precisará solicitar os endereços IP estáticos aos administradores de rede.</span><span class="sxs-lookup"><span data-stu-id="2e926-122">Usually, you will need to ask your network administrators for the static IP addresses.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="2e926-123">Antes de criar seu primeiro ouvinte, é altamente recomendável ler [Conectividade de Cliente AlwaysOn &#40;SQL Server&#41;](always-on-client-connectivity-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="2e926-123">Before you create your first listener, we strongly recommend that you read [AlwaysOn Client Connectivity &#40;SQL Server&#41;](always-on-client-connectivity-sql-server.md).</span></span>  
  
###  <a name="requirements-for-the-dns-name-of-an-availability-group-listener"></a><a name="DNSnameReqs"></a> <span data-ttu-id="2e926-124">Requisitos para o nome DNS de um ouvinte de grupo de disponibilidade</span><span class="sxs-lookup"><span data-stu-id="2e926-124">Requirements for the DNS Name of an Availability Group Listener</span></span>  
 <span data-ttu-id="2e926-125">Cada ouvinte de grupo de disponibilidade exige um nome de host DNS que é exclusivo no domínio e no NetBIOS.</span><span class="sxs-lookup"><span data-stu-id="2e926-125">Each availability group listener requires a DNS host name that is unique in the domain and in NetBIOS.</span></span> <span data-ttu-id="2e926-126">O nome DNS é um valor da cadeia de caracteres.</span><span class="sxs-lookup"><span data-stu-id="2e926-126">The DNS name is a string value.</span></span> <span data-ttu-id="2e926-127">Este nome pode conter somente caracteres alfanuméricos, traços (-) e hífens (_), em qualquer ordem.</span><span class="sxs-lookup"><span data-stu-id="2e926-127">This name can contain only alphanumeric characters, dashes (-), and hyphens (_), in any order.</span></span> <span data-ttu-id="2e926-128">Os nomes de host DNS diferenciam maiúsculas de minúsculas.</span><span class="sxs-lookup"><span data-stu-id="2e926-128">DNS host names are case insensitive.</span></span> <span data-ttu-id="2e926-129">O comprimento máximo é 63 caracteres; no entanto, no [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)], o comprimento máximo que você pode especificar é 15 caracteres.</span><span class="sxs-lookup"><span data-stu-id="2e926-129">The maximum length is 63 characters, however, in [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)], the maximum length you can specify is 15 characters.</span></span>  
  
 <span data-ttu-id="2e926-130">Nós recomendamos que você especifique uma cadeia de caracteres significativa.</span><span class="sxs-lookup"><span data-stu-id="2e926-130">We recommend that you specify a meaningful string.</span></span> <span data-ttu-id="2e926-131">Por exemplo, para um grupo de disponibilidade denominado `AG1`, um nome de host de DNS significativo seria `ag1-listener`.</span><span class="sxs-lookup"><span data-stu-id="2e926-131">For example, for an availability group named `AG1`, a meaningful DNS host name would be `ag1-listener`.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="2e926-132">O NetBIOS reconhece somente os primeiros 15 caracteres no dns_name.</span><span class="sxs-lookup"><span data-stu-id="2e926-132">NetBIOS recognizes only the first 15 chars in the dns_name.</span></span> <span data-ttu-id="2e926-133">Se você tiver dois clusters do WSFC que sejam controlados pelo mesmo Active Directory e tentar criar ouvintes de grupo de disponibilidade nos dois clusters usando nomes com mais de 15 caracteres e um prefixo idêntico de 15 caracteres, você obterá um erro relatando que o recurso Nome de Rede virtual não pôde ser colocado online.</span><span class="sxs-lookup"><span data-stu-id="2e926-133">If you have two WSFC clusters that are controlled by the same Active Directory and you try to create availability group listeners in both of clusters using names with more than 15 characters and an identical 15 character prefix, you will get an error reporting that the Virtual Network Name resource could not be brought online.</span></span> <span data-ttu-id="2e926-134">Para obter informações sobre regras da nomenclatura de prefixos para nomes DNS, consulte [Atribuindo nomes de domínio](https://technet.microsoft.com/library/cc731265\(WS.10\).aspx).</span><span class="sxs-lookup"><span data-stu-id="2e926-134">For information about prefix naming rules for DNS names, see [Assigning Domain Names](https://technet.microsoft.com/library/cc731265\(WS.10\).aspx).</span></span>  
  
###  <a name="windows-permissions"></a><a name="WinPermissions"></a> <span data-ttu-id="2e926-135">Permissões do Windows</span><span class="sxs-lookup"><span data-stu-id="2e926-135">Windows Permissions</span></span>  
  
|<span data-ttu-id="2e926-136">Permissões</span><span class="sxs-lookup"><span data-stu-id="2e926-136">Permissions</span></span>|<span data-ttu-id="2e926-137">Link</span><span class="sxs-lookup"><span data-stu-id="2e926-137">Link</span></span>|  
|-----------------|----------|  
|<span data-ttu-id="2e926-138">O CNO (nome do objeto de cluster) do cluster WSFC que está hospedando o grupo de disponibilidade deve ter a permissão **Criar Objetos de computador** .</span><span class="sxs-lookup"><span data-stu-id="2e926-138">The cluster object name (CNO) of WSFC cluster that is hosting the availability group must have **Create Computer objects** permission.</span></span><br /><br /> <span data-ttu-id="2e926-139">No Active Directory, por padrão, um CNO não tem a permissão **Criar Objetos de computador** explicitamente e pode criar dez VCOs (objetos de computador virtual).</span><span class="sxs-lookup"><span data-stu-id="2e926-139">In Active Directory, a CNO by default does not have **Create Computer objects** permission explicitly and can create 10 virtual computer objects (VCOs).</span></span> <span data-ttu-id="2e926-140">Depois que os dez VCOs forem criados, a criação de VCOs adicionais apresentará falha.</span><span class="sxs-lookup"><span data-stu-id="2e926-140">After 10 VCOs are created, the creation of additional VCOs will fail.</span></span> <span data-ttu-id="2e926-141">É possível impedir isso concedendo a permissão explicitamente ao CNO do cluster WSFC.</span><span class="sxs-lookup"><span data-stu-id="2e926-141">You can avoid this by granting the permission explicitly to the WSFC cluster's CNO.</span></span> <span data-ttu-id="2e926-142">Observe que o VCOs para grupos de disponibilidade que você excluiu não serão excluídos automaticamente no Active Directory e serão incluídos na contagem do limite padrão de dez VCOs, a menos que sejam excluídos manualmente.</span><span class="sxs-lookup"><span data-stu-id="2e926-142">Note that VCOs for availability groups that you have deleted are not automatically deleted in Active Directory and count against your 10 VCO default limit unless they are manually deleted.</span></span><br /><br /> <span data-ttu-id="2e926-143">Observação: em algumas organizações, a política de segurança proíbe a concessão da permissão **Criar objetos de computador** a contas de usuário individuais.</span><span class="sxs-lookup"><span data-stu-id="2e926-143">Note: In some organizations, the security policy prohibits granting **Create Computer objects** permission to individual user accounts.</span></span>|<span data-ttu-id="2e926-144">*Etapas para configurar a conta para a pessoa que instala o cluster* em [Failover Cluster Step-by-Step Guide: Configuring Accounts in Active Directory](https://technet.microsoft.com/library/cc731002\(WS.10\).aspx#BKMK_steps_installer) (Guia passo a passo do cluster de failover: configurando contas no Active Directory)</span><span class="sxs-lookup"><span data-stu-id="2e926-144">*Steps for configuring the account for the person who installs the cluster* in [Failover Cluster Step-by-Step Guide: Configuring Accounts in Active Directory](https://technet.microsoft.com/library/cc731002\(WS.10\).aspx#BKMK_steps_installer)</span></span><br /><br /> <span data-ttu-id="2e926-145">*Etapas para pré-configurar a conta de nome do cluster* no [Failover Cluster Step-by-Step Guide: Configuring Accounts in Active Directory](https://technet.microsoft.com/library/cc731002\(WS.10\).aspx#BKMK_steps_precreating) (Guia passo a passo do cluster de failover: configurando contas no Active Directory)</span><span class="sxs-lookup"><span data-stu-id="2e926-145">*Steps for prestaging the cluster name account* in [Failover Cluster Step-by-Step Guide: Configuring Accounts in Active Directory](https://technet.microsoft.com/library/cc731002\(WS.10\).aspx#BKMK_steps_precreating)</span></span>|  
|<span data-ttu-id="2e926-146">Se sua organização exigir que você pré-configure a conta de computador para um nome de rede virtual de ouvinte, você precisará de associação no grupo **Operador de Conta** ou da assistência de seu administrador de domínio.</span><span class="sxs-lookup"><span data-stu-id="2e926-146">If your organization requires that you prestage the computer account for a listener virtual network name, you will need membership in the **Account Operator** group or your domain administrator's assistance.</span></span><br /><br /> <span data-ttu-id="2e926-147">Dica: geralmente, é mais simples não pré-preparar a conta de computador para um nome de rede virtual de ouvinte.</span><span class="sxs-lookup"><span data-stu-id="2e926-147">Tip: Generally, it is simplest not to prestage the computer account for a listener virtual network name.</span></span> <span data-ttu-id="2e926-148">Se possível, deixe a conta ser criada e configurada automaticamente ao executar o Assistente de Alta Disponibilidade do WSFC.</span><span class="sxs-lookup"><span data-stu-id="2e926-148">If you can, let the account to be created and configured automatically when you run the WSFC High Availability wizard.</span></span>|<span data-ttu-id="2e926-149">*Steps for prestaging an account for a clustered service or application* (Etapas para pré-preparar uma conta para um serviço ou aplicativo clusterizado) no [Failover Cluster Step-by-Step Guide: Configuring Accounts in Active Directory](https://technet.microsoft.com/library/cc731002\(WS.10\).aspx#BKMK_steps_precreating2)(Guia passo a passo do cluster de failover: configurando contas no Active Directory).</span><span class="sxs-lookup"><span data-stu-id="2e926-149">*Steps for prestaging an account for a clustered service or application* in [Failover Cluster Step-by-Step Guide: Configuring Accounts in Active Directory](https://technet.microsoft.com/library/cc731002\(WS.10\).aspx#BKMK_steps_precreating2).</span></span>|  
  
###  <a name="sql-server-permissions"></a><a name="SqlPermissions"></a> <span data-ttu-id="2e926-150">Permissões do SQL Server</span><span class="sxs-lookup"><span data-stu-id="2e926-150">SQL Server Permissions</span></span>  
  
|<span data-ttu-id="2e926-151">Tarefa</span><span class="sxs-lookup"><span data-stu-id="2e926-151">Task</span></span>|<span data-ttu-id="2e926-152">Permissões</span><span class="sxs-lookup"><span data-stu-id="2e926-152">Permissions</span></span>|  
|----------|-----------------|  
|<span data-ttu-id="2e926-153">Para criar um ouvinte de grupo de disponibilidade</span><span class="sxs-lookup"><span data-stu-id="2e926-153">To create an availability group listener</span></span>|<span data-ttu-id="2e926-154">Requer a associação na função de servidor fixa **sysadmin** e a permissão de servidor CREATE AVAILABILITY GROUP, a permissão ALTER ANY AVAILABILITY GROUP ou a permissão CONTROL SERVER.</span><span class="sxs-lookup"><span data-stu-id="2e926-154">Requires membership in the **sysadmin** fixed server role and either CREATE AVAILABILITY GROUP server permission, ALTER ANY AVAILABILITY GROUP permission, or CONTROL SERVER permission.</span></span>|  
|<span data-ttu-id="2e926-155">Para modificar um ouvinte de grupo de disponibilidade existente</span><span class="sxs-lookup"><span data-stu-id="2e926-155">To modify an existing availability group listener</span></span>|<span data-ttu-id="2e926-156">Requer a permissão ALTER AVAILABILITY GROUP no grupo de disponibilidade, a permissão CONTROL AVAILABILITY GROUP, a permissão ALTER ANY AVAILABILITY GROUP ou a permissão CONTROL SERVER.</span><span class="sxs-lookup"><span data-stu-id="2e926-156">Requires ALTER AVAILABILITY GROUP permission on the availability group, CONTROL AVAILABILITY GROUP permission, ALTER ANY AVAILABILITY GROUP permission, or CONTROL SERVER permission.</span></span>|  
  
##  <a name="using-sql-server-management-studio"></a><a name="SSMSProcedure"></a> <span data-ttu-id="2e926-157">Usando o SQL Server Management Studio</span><span class="sxs-lookup"><span data-stu-id="2e926-157">Using SQL Server Management Studio</span></span>  
  
> [!TIP]  
>  <span data-ttu-id="2e926-158">O [Assistente de Novo Grupo de Disponibilidade](use-the-new-availability-group-dialog-box-sql-server-management-studio.md) dá suporte à criação do ouvinte para um novo grupo de disponibilidade.</span><span class="sxs-lookup"><span data-stu-id="2e926-158">The [New Availability Group wizard](use-the-new-availability-group-dialog-box-sql-server-management-studio.md) supports creation of the listener for a new availability group.</span></span>  
  
 <span data-ttu-id="2e926-159">**Para criar ou configurar um ouvinte de grupo de disponibilidade**</span><span class="sxs-lookup"><span data-stu-id="2e926-159">**To create or configure an availability group listener**</span></span>  
  
1.  <span data-ttu-id="2e926-160">No Pesquisador de Objetos, conecte-se à instância do servidor que hospeda a réplica primária do grupo de disponibilidade e clique no nome do servidor para expandir a árvore de servidores.</span><span class="sxs-lookup"><span data-stu-id="2e926-160">In Object Explorer, connect to the server instance that hosts the primary replica of the availability group, and click the server name to expand the server tree.</span></span>  
  
2.  <span data-ttu-id="2e926-161">Expanda os nós **Alta Disponibilidade AlwaysOn** e **Grupos de Disponibilidade** .</span><span class="sxs-lookup"><span data-stu-id="2e926-161">Expand the **AlwaysOn High Availability** node and the **Availability Groups** node.</span></span>  
  
3.  <span data-ttu-id="2e926-162">Clique no grupo de disponibilidade cujo ouvinte você deseja configurar e escolha uma das alternativas a seguir:</span><span class="sxs-lookup"><span data-stu-id="2e926-162">Click the availability group whose listener you want to configure, and choose one of the following alternatives:</span></span>  
  
    -   <span data-ttu-id="2e926-163">Para criar um ouvinte, clique com o botão direito do mouse no nó **Ouvintes do Grupo de Disponibilidade** e selecione o comando **Novo Ouvinte** .</span><span class="sxs-lookup"><span data-stu-id="2e926-163">To create a listener, right-click the **Availability group Listeners** node, and select the **New Listener** command.</span></span> <span data-ttu-id="2e926-164">Isso abre a caixa de diálogo **Novo Ouvinte do Grupo de Disponibilidade** .</span><span class="sxs-lookup"><span data-stu-id="2e926-164">This opens the **New Availability Group Listener** dialog box.</span></span> <span data-ttu-id="2e926-165">Para obter mais informações, consulte [Adicionar Ouvinte do Grupo de Disponibilidade (caixa de diálogo)](#AddAgListenerDialog), posteriormente neste tópico.</span><span class="sxs-lookup"><span data-stu-id="2e926-165">For more information, see [Add Availability Group Listener (Dialog Box)](#AddAgListenerDialog), later in this topic.</span></span>  
  
    -   <span data-ttu-id="2e926-166">Para alterar o número da porta de um ouvinte existente, expanda o nó **Ouvintes do Grupo de Disponibilidade** , clique com o botão direito do mouse no ouvinte e selecione o comando **Propriedades** .</span><span class="sxs-lookup"><span data-stu-id="2e926-166">To change the port number of an existing listener, expand the **Availability group Listeners** node, right-click the listener, and select the **Properties** command.</span></span> <span data-ttu-id="2e926-167">Digite o novo número da porta no campo **Porta** e clique em **OK**.</span><span class="sxs-lookup"><span data-stu-id="2e926-167">Enter the new port number into the **Port** field, and click **OK**.</span></span>  
  
###  <a name="new-availability-group-listener-dialog-box"></a><a name="AddAgListenerDialog"></a> <span data-ttu-id="2e926-168">Novo Ouvinte do Grupo de Disponibilidade (caixa de diálogo)</span><span class="sxs-lookup"><span data-stu-id="2e926-168">New Availability Group Listener (Dialog Box)</span></span>  
 <span data-ttu-id="2e926-169">**Nome DNS do Ouvinte**</span><span class="sxs-lookup"><span data-stu-id="2e926-169">**Listener DNS Name**</span></span>  
 <span data-ttu-id="2e926-170">Especifica o nome de host DNS do ouvinte de grupo de disponibilidade.</span><span class="sxs-lookup"><span data-stu-id="2e926-170">Specifies the DNS host name of the availability group listener.</span></span> <span data-ttu-id="2e926-171">O nome DNS é uma cadeia de caracteres que deve ser exclusivo no domínio e no NetBIOS.</span><span class="sxs-lookup"><span data-stu-id="2e926-171">The DNS name is a string  must be unique in the domain and in NetBIOS.</span></span> <span data-ttu-id="2e926-172">Este nome pode conter somente caracteres alfanuméricos, traços (-) e hífens (_), em qualquer ordem.</span><span class="sxs-lookup"><span data-stu-id="2e926-172">This name can contain only alphanumeric characters, dashes (-), and hyphens (_), in any order.</span></span> <span data-ttu-id="2e926-173">Os nomes de host DNS diferenciam maiúsculas de minúsculas.</span><span class="sxs-lookup"><span data-stu-id="2e926-173">DNS host names are case insensitive.</span></span> <span data-ttu-id="2e926-174">O tamanho máximo é de 15 caracteres.</span><span class="sxs-lookup"><span data-stu-id="2e926-174">The maximum length is 15 characters.</span></span>  
  
 <span data-ttu-id="2e926-175">Para obter mais informações, consulte [Requisitos para o nome DNS de um ouvinte de grupo de disponibilidade](#DNSnameReqs), posteriormente neste tópico.</span><span class="sxs-lookup"><span data-stu-id="2e926-175">For more information, see [Requirements for the DNS Name of an Availability Group Listener](#DNSnameReqs), earlier in this topic.</span></span>  
  
 <span data-ttu-id="2e926-176">**Porta**</span><span class="sxs-lookup"><span data-stu-id="2e926-176">**Port**</span></span>  
 <span data-ttu-id="2e926-177">A porta TPC usada pelo ouvinte.</span><span class="sxs-lookup"><span data-stu-id="2e926-177">The TPC port used by this listener.</span></span>  
  
 <span data-ttu-id="2e926-178">**Modo de Rede**</span><span class="sxs-lookup"><span data-stu-id="2e926-178">**Network Mode**</span></span>  
 <span data-ttu-id="2e926-179">Indica o protocolo TCP usado pelo ouvinte, pode ser:</span><span class="sxs-lookup"><span data-stu-id="2e926-179">Indicates the TCP protocol used by the listener, one of:</span></span>  
  
 <span data-ttu-id="2e926-180">**DHCP**</span><span class="sxs-lookup"><span data-stu-id="2e926-180">**DHCP**</span></span>  
 <span data-ttu-id="2e926-181">O ouvinte usará um endereço IP dinâmico que é atribuído por um servidor que executa o Protocolo DHCP.</span><span class="sxs-lookup"><span data-stu-id="2e926-181">The listener will us a dynamic IP address that is assigned by a server running the Dynamic Host Configuration Protocol (DHCP).</span></span> <span data-ttu-id="2e926-182">O DHCP está limitado a uma única sub-rede.</span><span class="sxs-lookup"><span data-stu-id="2e926-182">DHCP is limited to a single subnet.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="2e926-183">Nós não recomendamos o DHCP em ambiente de produção.</span><span class="sxs-lookup"><span data-stu-id="2e926-183">We do not recommend DHCP in production environment.</span></span> <span data-ttu-id="2e926-184">Se houver um tempo de inatividade e a concessão do IP do DHCP expirar, a hora adicional deverá registrar o novo endereço IP da rede DHCP que está associado ao nome DNS do ouvinte e afetará a conectividade do cliente.</span><span class="sxs-lookup"><span data-stu-id="2e926-184">If there is a down time and the DHCP IP lease expires, extra time is required to register the new DHCP network IP address that is associated with the listener DNS name and impact the client connectivity.</span></span> <span data-ttu-id="2e926-185">No entanto, o DHCP é bom para configurar seu ambiente de desenvolvimento e teste para verificar as funções básicas de grupos de disponibilidade e para integração com seus aplicativos.</span><span class="sxs-lookup"><span data-stu-id="2e926-185">However, DHCP is good for setting up your development and testing environment to verify basic functions of availability groups and for integration with your applications.</span></span>  
  
 <span data-ttu-id="2e926-186">**IP Estático**</span><span class="sxs-lookup"><span data-stu-id="2e926-186">**Static IP**</span></span>  
 <span data-ttu-id="2e926-187">O ouvinte usará um ou mais endereços IP estáticos.</span><span class="sxs-lookup"><span data-stu-id="2e926-187">The listener will use one or more static IP addresses.</span></span> <span data-ttu-id="2e926-188">Os endereços IP adicional são opcionais.</span><span class="sxs-lookup"><span data-stu-id="2e926-188">Additional IP addresses are optional.</span></span> <span data-ttu-id="2e926-189">Para criar um ouvinte do grupo de disponibilidade em várias sub-redes, você deve especificar para cada sub-rede um endereço IP estático na configuração do ouvinte.</span><span class="sxs-lookup"><span data-stu-id="2e926-189">To create an availability group listener across multiple subnets, for each subnet you must specify a static IP address in the listener configuration.</span></span> <span data-ttu-id="2e926-190">Entre em contato com seu administrador de rede para obter esses endereços IP estáticos.</span><span class="sxs-lookup"><span data-stu-id="2e926-190">Contact your network administrator to get these static IP addresses.</span></span>  
  
 <span data-ttu-id="2e926-191">Se você selecionar **IP Estático** , uma grade de sub-rede será exibida abaixo do campo **Modo de Rede** .</span><span class="sxs-lookup"><span data-stu-id="2e926-191">If you select **Static IP** a subnet grid appears below the **Network Mode** field.</span></span> <span data-ttu-id="2e926-192">Essa grade exibe informações sobre cada sub-rede que pode ser acessada por este ouvinte de grupo de disponibilidade.</span><span class="sxs-lookup"><span data-stu-id="2e926-192">This grid displays information about each subnet that can be accessed by this availability group listener.</span></span> <span data-ttu-id="2e926-193">Essa grade estará vazia até que você adicione um endereço IP estático clicando em **Adicionar**.</span><span class="sxs-lookup"><span data-stu-id="2e926-193">This grid is empty until you add a static IP address by clicking **Add**.</span></span>  
  
 <span data-ttu-id="2e926-194">As colunas são apresentadas assim:</span><span class="sxs-lookup"><span data-stu-id="2e926-194">The columns are as follows:</span></span>  
  
 <span data-ttu-id="2e926-195">**Sub-rede**</span><span class="sxs-lookup"><span data-stu-id="2e926-195">**Subnet**</span></span>  
 <span data-ttu-id="2e926-196">Exibe o identificador de cada sub-rede que você adiciona ao ouvinte do grupo de disponibilidade.</span><span class="sxs-lookup"><span data-stu-id="2e926-196">Displays the identifier of each subnet that you add to the availability group listener.</span></span>  
  
 <span data-ttu-id="2e926-197">**Endereço IP**</span><span class="sxs-lookup"><span data-stu-id="2e926-197">**IP Address**</span></span>  
 <span data-ttu-id="2e926-198">Exibe o endereço IP de uma determinada sub-rede.</span><span class="sxs-lookup"><span data-stu-id="2e926-198">Displays the IP address of a given subnet.</span></span>  <span data-ttu-id="2e926-199">Para uma determinada sub-rede, o endereço IP é um endereço IPv4 ou um endereço IPv6.</span><span class="sxs-lookup"><span data-stu-id="2e926-199">For a given subnet, the IP address is either an IPv4 address or an IPv6 address.</span></span>  
  
 <span data-ttu-id="2e926-200">**Adicionar**</span><span class="sxs-lookup"><span data-stu-id="2e926-200">**Add**</span></span>  
 <span data-ttu-id="2e926-201">Clique para adicionar um endereço IP estático a uma sub-rede selecionada ou a outra sub-rede para este ouvinte.</span><span class="sxs-lookup"><span data-stu-id="2e926-201">Click to add to add a static IP address to a selected subnet or to another subnet for this listener.</span></span> <span data-ttu-id="2e926-202">Essa ação abre a caixa de diálogo **Adicionar Endereço IP** .</span><span class="sxs-lookup"><span data-stu-id="2e926-202">This opens the **Add IP Address** dialog box.</span></span> <span data-ttu-id="2e926-203">Para obter mais informações, consulte o tópico de ajuda [Caixa de diálogo Adicionar Endereço IP &#40;SQL Server Management Studio&#41;](add-ip-address-dialog-box-sql-server-management-studio.md).</span><span class="sxs-lookup"><span data-stu-id="2e926-203">For more information, see the [Add IP Address Dialog Box &#40;SQL Server Management Studio&#41;](add-ip-address-dialog-box-sql-server-management-studio.md) help topic.</span></span>  
  
 <span data-ttu-id="2e926-204">**Remover**</span><span class="sxs-lookup"><span data-stu-id="2e926-204">**Remove**</span></span>  
 <span data-ttu-id="2e926-205">Clique para remover a sub-rede selecionada deste ouvinte.</span><span class="sxs-lookup"><span data-stu-id="2e926-205">Click to remove the selected subnet from this listener.</span></span>  
  
 <span data-ttu-id="2e926-206">**OK**</span><span class="sxs-lookup"><span data-stu-id="2e926-206">**OK**</span></span>  
 <span data-ttu-id="2e926-207">Clique para criar o ouvinte do grupo de disponibilidade especificado.</span><span class="sxs-lookup"><span data-stu-id="2e926-207">Click to create the specified availability group listener.</span></span>  
  
##  <a name="using-transact-sql"></a><a name="TsqlProcedure"></a> <span data-ttu-id="2e926-208">Usando o Transact-SQL</span><span class="sxs-lookup"><span data-stu-id="2e926-208">Using Transact-SQL</span></span>  

### <a name="to-create-or-configure-an-availability-group-listener"></a><span data-ttu-id="2e926-209">Para criar ou configurar um ouvinte de grupo de disponibilidade</span><span class="sxs-lookup"><span data-stu-id="2e926-209">To create or configure an availability group listener</span></span>
  
1.  <span data-ttu-id="2e926-210">Conecte-se à instância de servidor que hospeda a réplica primária.</span><span class="sxs-lookup"><span data-stu-id="2e926-210">Connect to the server instance that hosts the primary replica.</span></span>  
  
2.  <span data-ttu-id="2e926-211">Use a opção LISTENER da instrução [CREATE AVAILABILITY GROUP](/sql/t-sql/statements/create-availability-group-transact-sql) ou a opção ADD LISTENER da instrução [ALTER AVAILABILITY GROUP](/sql/t-sql/statements/alter-availability-group-transact-sql) .</span><span class="sxs-lookup"><span data-stu-id="2e926-211">Use the LISTENER option of the [CREATE AVAILABILITY GROUP](/sql/t-sql/statements/create-availability-group-transact-sql) statement or the ADD LISTENER option of the [ALTER AVAILABILITY GROUP](/sql/t-sql/statements/alter-availability-group-transact-sql) statement.</span></span>  
  
     <span data-ttu-id="2e926-212">O exemplo a seguir adiciona um ouvinte de grupo de disponibilidade a um grupo de disponibilidade existente denominado `MyAg2`.</span><span class="sxs-lookup"><span data-stu-id="2e926-212">The following example adds an availability group listener to an existing availability group named `MyAg2`.</span></span> <span data-ttu-id="2e926-213">Um nome DNS exclusivo, `MyAg2ListenerIvP6`, é especificado para esse ouvinte.</span><span class="sxs-lookup"><span data-stu-id="2e926-213">A unique DNS name, `MyAg2ListenerIvP6`, is specified for this listener.</span></span> <span data-ttu-id="2e926-214">As duas réplicas estão em sub-redes diferentes e, portanto, como recomendado, o ouvinte usa endereços IP estáticos.</span><span class="sxs-lookup"><span data-stu-id="2e926-214">The two replicas are on different subnets, so , as recommended, the listener uses static IP addresses.</span></span> <span data-ttu-id="2e926-215">Para cada uma das duas réplicas de disponibilidade, a cláusula WITH IP especifica um endereço IP estático `2001:4898:f0:f00f::cf3c and 2001:4898:e0:f213::4ce2`, que usa o formato IPv6.</span><span class="sxs-lookup"><span data-stu-id="2e926-215">For each of the two availability replicas, the WITH IP clause specifies a static IP address, `2001:4898:f0:f00f::cf3c and 2001:4898:e0:f213::4ce2`, which use the IPv6 format.</span></span> <span data-ttu-id="2e926-216">Este exemplo também especifica o uso do argumento PORT opcional para especificar a porta `60173` como a porta do ouvinte.</span><span class="sxs-lookup"><span data-stu-id="2e926-216">This example also specifies uses the optional PORT argument to specify port `60173` as the listener port.</span></span>  
  
    ```sql
    ALTER AVAILABILITY GROUP MyAg2   
          ADD LISTENER 'MyAg2ListenerIvP6' ( WITH IP ( ('2001:db88:f0:f00f::cf3c'),('2001:4898:e0:f213::4ce2') ) , PORT = 60173 );   
    GO  
    ```  
  
##  <a name="using-powershell"></a><a name="PowerShellProcedure"></a> <span data-ttu-id="2e926-217">Usando o PowerShell</span><span class="sxs-lookup"><span data-stu-id="2e926-217">Using PowerShell</span></span>  

### <a name="to-create-or-configure-an-availability-group-listener"></a><span data-ttu-id="2e926-218">Para criar ou configurar um ouvinte de grupo de disponibilidade</span><span class="sxs-lookup"><span data-stu-id="2e926-218">To create or configure an availability group listener</span></span> 
  
1.  <span data-ttu-id="2e926-219">Altere o diretório (`cd`) para a instância do servidor que hospeda a réplica primária.</span><span class="sxs-lookup"><span data-stu-id="2e926-219">Change directory (`cd`) to the server instance that hosts the primary replica.</span></span>  
  
2.  <span data-ttu-id="2e926-220">Para criar ou modificar um ouvinte de grupo de disponibilidade, use um dos cmdlets a seguir:</span><span class="sxs-lookup"><span data-stu-id="2e926-220">To create or modify an availability group listener use one of the following cmdlets:</span></span>  
  
     `New-SqlAvailabilityGroupListener`  
     <span data-ttu-id="2e926-221">Cria um novo ouvinte de grupo de disponibilidade e conecta-o a um grupo de disponibilidade existente.</span><span class="sxs-lookup"><span data-stu-id="2e926-221">Creates a new availability group listener and attaches it to an existing availability group.</span></span>  
  
     <span data-ttu-id="2e926-222">Por exemplo, o comando `New-SqlAvailabilityGroupListener` a seguir cria ou ouvinte de grupo de disponibilidade denominado `MyListener` para o grupo de disponibilidade `MyAg`.</span><span class="sxs-lookup"><span data-stu-id="2e926-222">For example, the following `New-SqlAvailabilityGroupListener` command creates an availability group listener named `MyListener` for the availability group `MyAg`.</span></span> <span data-ttu-id="2e926-223">Este ouvinte usará o endereço IPv4 passado para o parâmetro `-StaticIp` como seu endereço IP virtual.</span><span class="sxs-lookup"><span data-stu-id="2e926-223">This listener will use the IPv4 address passed to the `-StaticIp` parameter as its virtual IP address.</span></span>  
  
    ```powershell
    New-SqlAvailabilityGroupListener -Name MyListener `
    -StaticIp '192.168.3.1/255.255.252.0' `
    -Path SQLSERVER:\Sql\Computer\Instance\AvailabilityGroups\MyAg
    ```  
  
     `Set-SqlAvailabilityGroupListener`  
     <span data-ttu-id="2e926-224">Modifica a configuração de porta em um ouvinte de grupo de disponibilidade existente.</span><span class="sxs-lookup"><span data-stu-id="2e926-224">Modifies the port setting on an existing availability group listener.</span></span>  
  
     <span data-ttu-id="2e926-225">Por exemplo, o comando `Set-SqlAvailabilityGroupListener` a seguir define o número da porta para o ouvinte de grupo de disponibilidade denominado `MyListener` to `1535`.</span><span class="sxs-lookup"><span data-stu-id="2e926-225">For example, the following `Set-SqlAvailabilityGroupListener` command sets the port number for the availability group listener named `MyListener` to `1535`.</span></span> <span data-ttu-id="2e926-226">Esta porta é usada para ouvir conexões para o ouvinte.</span><span class="sxs-lookup"><span data-stu-id="2e926-226">This port is used to listen for connections to the listener.</span></span>  
  
    ```powershell
    Set-SqlAvailabilityGroupListener -Port 1535 `
    -Path SQLSERVER:\Sql\PrimaryServer\InstanceName\AvailabilityGroups\MyAg\AGListeners\MyListener  
    ```  
  
     `Add-SqlAGListenerstaticIp`  
     <span data-ttu-id="2e926-227">Adiciona um endereço IP estático à configuração de um ouvinte de grupo de disponibilidade existente.</span><span class="sxs-lookup"><span data-stu-id="2e926-227">Adds a static IP address to an existing availability group listener configuration.</span></span> <span data-ttu-id="2e926-228">O endereço IP poderá ser um endereço IPv4 com sub-rede ou um endereço IPv6.</span><span class="sxs-lookup"><span data-stu-id="2e926-228">The IP address can be an IPv4 address with subnet, or an IPv6 address.</span></span>  
  
     <span data-ttu-id="2e926-229">Por exemplo, o comando `Add-SqlAGListenerstaticIp` a seguir adiciona um endereço IPv4 estático ao ouvinte do grupo de disponibilidade `MyListener` no grupo de disponibilidade `MyAg`.</span><span class="sxs-lookup"><span data-stu-id="2e926-229">For example, the following `Add-SqlAGListenerstaticIp` command adds a static IPv4 address to the availability group listener `MyListener` on the availability group `MyAg`.</span></span> <span data-ttu-id="2e926-230">Este endereço IPv6 serve como o endereço IP virtual do ouvinte na sub-rede `255.255.252.0`.</span><span class="sxs-lookup"><span data-stu-id="2e926-230">This IPv6 address serves as the virtual IP address of the listener on the subnet `255.255.252.0`.</span></span> <span data-ttu-id="2e926-231">Se o grupo de disponibilidade abranger diversas sub-redes, você deverá adicionar um endereço IP estático para cada sub-rede para o ouvinte.</span><span class="sxs-lookup"><span data-stu-id="2e926-231">If the availability group spans multiple subnets, you should add a static IP address for each subnet to the listener.</span></span>  
  
    ```powershell
    $path = "SQLSERVER:\SQL\PrimaryServer\InstanceName\AvailabilityGroups\MyAg\AGListeners\ MyListener" `
    Add-SqlAGListenerstaticIp -Path $path `
    -StaticIp "2001:0db8:85a3:0000:0000:8a2e:0370:7334"  
    ```  
  
    > [!NOTE]  
    >  <span data-ttu-id="2e926-232">Para exibir a sintaxe de um cmdlet, use o cmdlet **Get-Help** no [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] ambiente do PowerShell.</span><span class="sxs-lookup"><span data-stu-id="2e926-232">To view the syntax of a cmdlet, use the **Get-Help**  cmdlet in the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] PowerShell environment.</span></span> <span data-ttu-id="2e926-233">Para obter mais informações, consulte [Get Help SQL Server PowerShell](../../../powershell/sql-server-powershell.md).</span><span class="sxs-lookup"><span data-stu-id="2e926-233">For more information, see [Get Help SQL Server PowerShell](../../../powershell/sql-server-powershell.md).</span></span>  
  
<span data-ttu-id="2e926-234">Para configurar e usar o provedor de SQL Server PowerShell, consulte [provedor de SQL Server PowerShell](../../../powershell/sql-server-powershell-provider.md).</span><span class="sxs-lookup"><span data-stu-id="2e926-234">To set up and use the SQL Server PowerShell provider, see [SQL Server PowerShell Provider](../../../powershell/sql-server-powershell-provider.md).</span></span>
  
## <a name="troubleshooting"></a><span data-ttu-id="2e926-235">Solução de problemas</span><span class="sxs-lookup"><span data-stu-id="2e926-235">Troubleshooting</span></span>  
  
###  <a name="failure-to-create-an-availability-group-listener-because-of-active-directory-quotas"></a><a name="ADQuotas"></a><span data-ttu-id="2e926-236">Falha ao criar um ouvinte de grupo de disponibilidade devido a cotas de Active Directory</span><span class="sxs-lookup"><span data-stu-id="2e926-236">Failure to Create An Availability Group Listener Because of Active Directory Quotas</span></span>  
 <span data-ttu-id="2e926-237">Pode haver falha na criação de um novo ouvinte de grupo de disponibilidade porque você atingiu uma cota do Active Directory para a conta da máquina do nó de cluster participante.</span><span class="sxs-lookup"><span data-stu-id="2e926-237">The creation of a new availability group listener may fail upon creation because you have reached an Active Directory quota for the participating cluster node machine account.</span></span>  <span data-ttu-id="2e926-238">Para obter mais informações, consulte os seguintes artigos:</span><span class="sxs-lookup"><span data-stu-id="2e926-238">For more information, see the following articles:</span></span>  
  
-   [<span data-ttu-id="2e926-239">HYPERLINK " https://support.microsoft.com/kb/307532 " como solucionar problemas da conta de serviço de cluster quando ele modifica objetos de computador</span><span class="sxs-lookup"><span data-stu-id="2e926-239">HYPERLINK "https://support.microsoft.com/kb/307532" How to Troubleshoot the Cluster Service Account When It Modifies Computer Objects</span></span>](https://support.microsoft.com/kb/307532)  
  
-   <span data-ttu-id="2e926-240">[HYPERLINK " https://technet.microsoft.com/library/cc904295(WS.10).aspx " Active Directory cotas](https://technet.microsoft.com/library/cc904295\(WS.10\).aspx)</span><span class="sxs-lookup"><span data-stu-id="2e926-240">[HYPERLINK "https://technet.microsoft.com/library/cc904295(WS.10).aspx" Active Directory Quotas](https://technet.microsoft.com/library/cc904295\(WS.10\).aspx)</span></span>  
  
##  <a name="follow-up-after-creating-an-availability-group-listener"></a><a name="FollowUp"></a> <span data-ttu-id="2e926-241">Acompanhamento: após criar um ouvinte do grupo de disponibilidade</span><span class="sxs-lookup"><span data-stu-id="2e926-241">Follow-up: After Creating an Availability Group Listener</span></span>  
  
###  <a name="multisubnetfailover-keyword-and-associated-features"></a><a name="MultiSubnetFailover"></a><span data-ttu-id="2e926-242">Palavra-chave MultiSubnetFailover e recursos associados</span><span class="sxs-lookup"><span data-stu-id="2e926-242">MultiSubnetFailover Keyword and Associated Features</span></span>  
 <span data-ttu-id="2e926-243">`MultiSubnetFailover` é uma nova palavra-chave de cadeia de conexão usada para habilitar o failover mais rápido com os Grupos de Disponibilidade AlwaysOn e as Instâncias de Cluster de Failover AlwaysOn no SQL Server 2012.</span><span class="sxs-lookup"><span data-stu-id="2e926-243">`MultiSubnetFailover` is a new connection string keyword used to enable faster failover with AlwaysOn Availability Groups and AlwaysOn Failover Cluster Instances in SQL Server 2012.</span></span> <span data-ttu-id="2e926-244">Os três sub-recursos a seguir são habilitados quando `MultiSubnetFailover=True` está definido na cadeia de conexão:</span><span class="sxs-lookup"><span data-stu-id="2e926-244">The following three sub-features are enabled when `MultiSubnetFailover=True` is set in connection string:</span></span>  
  
-   <span data-ttu-id="2e926-245">Um failover de várias sub-redes mais rápido para um ouvinte de várias sub-redes para um Grupo de Disponibilidade AlwaysOn ou instâncias de cluster de failover.</span><span class="sxs-lookup"><span data-stu-id="2e926-245">Faster multi-subnet failover to a multi-subnet listener for an AlwaysOn Availability Group or Failover Cluster Instances.</span></span>  
  
-   <span data-ttu-id="2e926-246">Um failover de sub-rede única mais rápido para um ouvinte de sub-rede única para um Grupo de Disponibilidade AlwaysOn ou instâncias de cluster de failover.</span><span class="sxs-lookup"><span data-stu-id="2e926-246">Faster single subnet failover to a single subnet listener for an AlwaysOn Availability Group or Failover Cluster Instances.</span></span>  
  
    -   <span data-ttu-id="2e926-247">Esse recurso é usado ao conectar-se a um ouvinte que tem um IP único em uma única sub-rede.</span><span class="sxs-lookup"><span data-stu-id="2e926-247">This feature is used when connecting to a listener that has a single IP in a single subnet.</span></span> <span data-ttu-id="2e926-248">Isso realiza tentativas de conexão de TCP mais agressivas para acelerar os failovers de sub-rede única.</span><span class="sxs-lookup"><span data-stu-id="2e926-248">This performs more aggressive TCP connection retries to speed up single subnet failovers.</span></span>  
  
-   <span data-ttu-id="2e926-249">A resolução de instância nomeada para uma instância de cluster de failover AlwaysOn de várias sub-redes.</span><span class="sxs-lookup"><span data-stu-id="2e926-249">Named instance resolution to a multi-subnet AlwaysOn Failover Cluster Instance.</span></span>  
  
    -   <span data-ttu-id="2e926-250">Isso é para adicionar o suporte à resolução de instância nomeada para uma instância de cluster de failover AlwaysOn com diversos pontos de extremidade de sub-rede.</span><span class="sxs-lookup"><span data-stu-id="2e926-250">This is to add named instance resolution support for an AlwaysOn Failover Cluster Instances with multiple subnet endpoints.</span></span>  
  
 <span data-ttu-id="2e926-251">**Não há suporte para MultiSubnetFailover=True pelo .NET Framework 3.5 ou OLEDB**</span><span class="sxs-lookup"><span data-stu-id="2e926-251">**MultiSubnetFailover=True Not Supported by NET Framework 3.5 or OLEDB**</span></span>  
  
 <span data-ttu-id="2e926-252">**Problema:** Se o grupo de disponibilidade ou a instância de cluster de failover tiver um nome de ouvinte (conhecido como o nome da rede ou ponto de acesso do cliente no Gerenciador de cluster do WSFC), dependendo de vários endereços IP de sub-redes diferentes, e você estiver usando ADO.NET com .NET Framework 3.5 SP1 ou SQL Native Client OLEDB 11,0, potencialmente 50% das solicitações de conexão do cliente para o ouvinte do grupo</span><span class="sxs-lookup"><span data-stu-id="2e926-252">**Issue:** If your Availability Group or Failover Cluster Instance has a listener name (known as the network name or Client Access Point in the WSFC Cluster Manager) depending on multiple IP addresses from different subnets, and you are using either ADO.NET with .NET Framework 3.5SP1 or SQL Native Client 11.0 OLEDB, potentially 50% of your client-connection requests to the availability group listener will hit a connection timeout.</span></span>  
  
 <span data-ttu-id="2e926-253">**Soluções alternativas:** é recomendável que você execute uma das tarefas a seguir.</span><span class="sxs-lookup"><span data-stu-id="2e926-253">**Workarounds:** We recommend that you do one of the following tasks.</span></span>  
  
-   <span data-ttu-id="2e926-254">Se você não tiver a permissão para manipular recursos de cluster, altere o tempo limite da conexão para 30 segundos (esse valor resulta em um período de tempo limite TCP de 20 segundos mais um buffer de 10 segundos).</span><span class="sxs-lookup"><span data-stu-id="2e926-254">If do not have the permission to manipulate cluster resources, change your connection timeout to 30 seconds (this value results in a 20-second TCP timeout period plus a 10-second buffer).</span></span>  
  
     <span data-ttu-id="2e926-255">**Prós**: se ocorrer um failover entre sub-redes, a recuperação do cliente será rápida.</span><span class="sxs-lookup"><span data-stu-id="2e926-255">**Pros**: If a cross-subnet failover occurs, client recovery time is short.</span></span>  
  
     <span data-ttu-id="2e926-256">**Contras**: metade das conexões de cliente demorarão mais de 20 segundos</span><span class="sxs-lookup"><span data-stu-id="2e926-256">**Cons**: Half of the client connections will take more than 20 seconds</span></span>  
  
-   <span data-ttu-id="2e926-257">Se você tiver permissão para manipular os recursos de cluster, a abordagem mais recomendada é definir o nome de rede do ouvinte do grupo de disponibilidade como `RegisterAllProvidersIP=0`.</span><span class="sxs-lookup"><span data-stu-id="2e926-257">If you have the permission to manipulate cluster resources, the more recommended approach is to set the network name of your availability group listener to `RegisterAllProvidersIP=0`.</span></span> <span data-ttu-id="2e926-258">Para obter mais informações, confira "Configuração de RegisterAllProvidersIP", mais adiante nesta seção.</span><span class="sxs-lookup"><span data-stu-id="2e926-258">For more information, see "RegisterAllProvidersIP Setting" later in this section.</span></span>  
  
     <span data-ttu-id="2e926-259">**Prós:** você não precisa aumentar o valor de tempo limite de conexão de cliente.</span><span class="sxs-lookup"><span data-stu-id="2e926-259">**Pros:** You do not need to increase your client-connection timeout value.</span></span>  
  
     <span data-ttu-id="2e926-260">**Contras:** Se ocorrer um failover de sub-rede cruzada, o tempo de recuperação do cliente poderá ser de 15 minutos ou mais, dependendo da `HostRecordTTL` configuração e da configuração da agenda de replicação de DNS/ad entre sites.</span><span class="sxs-lookup"><span data-stu-id="2e926-260">**Cons:** If a cross-subnet failover occurs, the client recovery time could be 15 minutes or longer, depending on your `HostRecordTTL` setting and the setting of your cross-site DNS/AD replication schedule.</span></span>  
  
###  <a name="registerallprovidersip-setting"></a><a name="RegisterAllProvidersIP"></a><span data-ttu-id="2e926-261">Configuração de RegisterAllProvidersIP</span><span class="sxs-lookup"><span data-stu-id="2e926-261">RegisterAllProvidersIP Setting</span></span>  
 <span data-ttu-id="2e926-262">Quando você usa o [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)], o [!INCLUDE[tsql](../../../includes/tsql-md.md)] ou o PowerShell para criar um ouvinte de grupo de disponibilidade, o Ponto de Acesso para Cliente é criado no WSFC com a propriedade `RegisterAllProvidersIP` definida como 1 (true).</span><span class="sxs-lookup"><span data-stu-id="2e926-262">When you use [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)], [!INCLUDE[tsql](../../../includes/tsql-md.md)], or PowerShell to create an availability group listener, the Client Access Point is created in WSFC with the `RegisterAllProvidersIP` property set to 1 (true).</span></span> <span data-ttu-id="2e926-263">O efeito de esse valor de propriedade depende da cadeia de conexão do cliente, da seguinte maneira:</span><span class="sxs-lookup"><span data-stu-id="2e926-263">The effect of this property value depends on the client connection string, as follows:</span></span>  
  
-   <span data-ttu-id="2e926-264">Cadeias de conexão que definem `MultiSubnetFailover` como true</span><span class="sxs-lookup"><span data-stu-id="2e926-264">Connection strings that set `MultiSubnetFailover` to true</span></span>  
  
     [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)]<span data-ttu-id="2e926-265">define a `RegisterAllProvidersIP` propriedade como 1 para reduzir o tempo de reconexão após um failover para clientes cujas cadeias de conexão de cliente especificam `MultiSubnetFailover = True` , conforme recomendado.</span><span class="sxs-lookup"><span data-stu-id="2e926-265">sets the  `RegisterAllProvidersIP` property to 1 in order to reduce re-connection time after a failover for clients whose client connection strings specify `MultiSubnetFailover = True`, as recommended.</span></span> <span data-ttu-id="2e926-266">Observe que para aproveitar as vantagens do recurso de várias sub-redes do ouvinte, seus clientes podem exigir um provedor de dados que dê suporte à palavra-chave `MultiSubnetFailover`.</span><span class="sxs-lookup"><span data-stu-id="2e926-266">Note that to take advantage of the listener multi-subnet feature, your clients might require a data provider that supports the `MultiSubnetFailover` keyword.</span></span> <span data-ttu-id="2e926-267">Para obter mais informações sobre suporte a driver para failover de várias sub-redes, consulte [Conectividade do Cliente AlwaysOn &#40;SQL Server&#41;](always-on-client-connectivity-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="2e926-267">For information about driver support for multi-subnet failover, see [AlwaysOn Client Connectivity &#40;SQL Server&#41;](always-on-client-connectivity-sql-server.md).</span></span>  
  
     <span data-ttu-id="2e926-268">Para obter informações sobre clustering de várias sub-redes, consulte [Clustering de várias sub-redes do SQL Server &#40;SQL Server&#41;](../../../sql-server/failover-clusters/windows/sql-server-multi-subnet-clustering-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="2e926-268">For information about multi-subnet clustering, see [SQL Server Multi-Subnet Clustering &#40;SQL Server&#41;](../../../sql-server/failover-clusters/windows/sql-server-multi-subnet-clustering-sql-server.md).</span></span>  
  
    > [!TIP]  
    >  <span data-ttu-id="2e926-269">Quando `RegisterAllProvidersIP = 1`, se você executar o Assistente para Validar Configuração do WSFC no cluster WSFC, o assistente gerará a seguinte mensagem de aviso:</span><span class="sxs-lookup"><span data-stu-id="2e926-269">When `RegisterAllProvidersIP = 1`, if you run the WSFC Validate a Configuration Wizard on the WSFC cluster, the wizard generates the following warning message:</span></span>  
    >   
    >  <span data-ttu-id="2e926-270">“A propriedade RegisterAllProviderIP para nome de rede 'Name:<network_name>' é definida como 1. Para a configuração do cluster atual, este valor deve ser definido como 0.”</span><span class="sxs-lookup"><span data-stu-id="2e926-270">"The RegisterAllProviderIP property for network name 'Name:<network_name>' is set to 1 For the current cluster configuration this value should be set to 0."</span></span>  
    >   
    >  <span data-ttu-id="2e926-271">Ignore esta mensagem.</span><span class="sxs-lookup"><span data-stu-id="2e926-271">Please ignore this message.</span></span>  
  
-   <span data-ttu-id="2e926-272">Cadeias de conexão que não definem `MultiSubnetFailover` como true</span><span class="sxs-lookup"><span data-stu-id="2e926-272">Connection strings that do not set `MultiSubnetFailover` to true</span></span>  
  
     <span data-ttu-id="2e926-273">Quando `RegisterAllProvidersIP = 1`, quaisquer clientes cujas cadeias de conexão não usem `MultiSubnetFailover = True`encontrarão conexões de alta latência.</span><span class="sxs-lookup"><span data-stu-id="2e926-273">When `RegisterAllProvidersIP = 1`, any clients whose connection strings do not use `MultiSubnetFailover = True`, will experience high latency connections.</span></span> <span data-ttu-id="2e926-274">Isso ocorre porque esses clientes tentam conexões com todos os IPs em sequência.</span><span class="sxs-lookup"><span data-stu-id="2e926-274">This occurs because these clients attempt connections to all IPs sequentially.</span></span> <span data-ttu-id="2e926-275">Em contrapartida, se `RegisterAllProvidersIP` for alterado para 0, o endereço IP ativo será registrado no Ponto de Acesso para Cliente no cluster WSFC, reduzindo a latência para clientes herdados.</span><span class="sxs-lookup"><span data-stu-id="2e926-275">In contrast, if `RegisterAllProvidersIP` is changed to 0, the active IP address is registered in the Client Access Point in the WSFC cluster, reducing latency for legacy clients.</span></span> <span data-ttu-id="2e926-276">Portanto, se você tiver clientes herdados que precisam se conectar a um ouvinte de grupo de disponibilidade e não puder usar a `MultiSubnetFailover` propriedade, recomendamos que você altere `RegisterAllProvidersIP` para 0.</span><span class="sxs-lookup"><span data-stu-id="2e926-276">Therefore, if you have legacy clients that need to connect to an availability group listener and cannot use the `MultiSubnetFailover` property, we recommend that you change `RegisterAllProvidersIP` to 0.</span></span>  
  
    > [!IMPORTANT]  
    >  <span data-ttu-id="2e926-277">Quando você cria um ouvinte de grupo de disponibilidade no cluster WSFC (GUI do Gerenciador de Cluster de Failover), `RegisterAllProvidersIP` será 0 (false) por padrão.</span><span class="sxs-lookup"><span data-stu-id="2e926-277">When you create an availability group listener through the WSFC cluster (Failover Cluster Manager GUI), `RegisterAllProvidersIP` will be 0 (false) by default.</span></span>  
  
###  <a name="hostrecordttl-setting"></a><a name="HostRecordTTL"></a> <span data-ttu-id="2e926-278">Configuração HostRecordTTL</span><span class="sxs-lookup"><span data-stu-id="2e926-278">HostRecordTTL Setting</span></span>  
 <span data-ttu-id="2e926-279">Por padrão, os clientes armazenam em cache registros DNS do cluster por 20 minutos.</span><span class="sxs-lookup"><span data-stu-id="2e926-279">By default, clients cache cluster DNS records for 20 minutes.</span></span>  <span data-ttu-id="2e926-280">Reduzindo a configuração `HostRecordTTL`, a vida útil (TTL), para o registro armazenado em cache, os clientes herdados poderão se reconectar com mais rapidez.</span><span class="sxs-lookup"><span data-stu-id="2e926-280">By reducing `HostRecordTTL`, the Time to Live (TTL), for the cached record, legacy clients may reconnect more quickly.</span></span>  <span data-ttu-id="2e926-281">No entanto, a redução da configuração `HostRecordTTL` também pode resultar em maior tráfego para os servidores DN.</span><span class="sxs-lookup"><span data-stu-id="2e926-281">However, reducing the `HostRecordTTL` setting may also result in increased traffic to the DN servers.</span></span>  
  
###  <a name="sample-powershell-script-to-disable-registerallprovidersip-and-reduce-ttl"></a><a name="SampleScript"></a><span data-ttu-id="2e926-282">Exemplo de script do PowerShell para desabilitar RegisterAllProvidersIP e reduzir TTL</span><span class="sxs-lookup"><span data-stu-id="2e926-282">Sample PowerShell Script to Disable RegisterAllProvidersIP and Reduce TTL</span></span>  
 <span data-ttu-id="2e926-283">O exemplo do PowerShell a seguir demonstra como configurar os parâmetros de cluster `RegisterAllProvidersIP` e `HostRecordTTL` para o recurso de ouvinte.</span><span class="sxs-lookup"><span data-stu-id="2e926-283">The following PowerShell example demonstrates how to configure both the `RegisterAllProvidersIP` and `HostRecordTTL` cluster parameters for the listener resource.</span></span>  <span data-ttu-id="2e926-284">O registro DNS será armazenado em cache por 5 minutos, e não pelos 20 minutos padrão.</span><span class="sxs-lookup"><span data-stu-id="2e926-284">The DNS record will be cached for 5 minutes rather than the default 20 minutes.</span></span>  <span data-ttu-id="2e926-285">A modificação dos dois parâmetros de cluster pode reduzir o tempo de conexão ao endereço IP correto após um failover para clientes herdados que não podem usar o parâmetro `MultiSubnetFailover`.</span><span class="sxs-lookup"><span data-stu-id="2e926-285">Modifying both cluster parameters may reduce the time to connect to the correct IP address after a failover for legacy clients that cannot use the `MultiSubnetFailover` parameter.</span></span>  <span data-ttu-id="2e926-286">Substitua `yourListenerName` pelo nome do ouvinte que você está alterando.</span><span class="sxs-lookup"><span data-stu-id="2e926-286">Replace `yourListenerName` with the name of the listener that you are changing.</span></span>  
  
```powershell
Import-Module FailoverClusters  
Get-ClusterResource yourListenerName | Set-ClusterParameter RegisterAllProvidersIP 0
Get-ClusterResource yourListenerName|Set-ClusterParameter HostRecordTTL 300  
Stop-ClusterResource yourListenerName  
Start-ClusterResource yourAGResource  
```  
  
 <span data-ttu-id="2e926-287">Para obter mais informações sobre os tempos de recuperação durante o failover, consulte [Client Recovery Latency During Failover](../../../sql-server/failover-clusters/windows/sql-server-multi-subnet-clustering-sql-server.md#DNS).</span><span class="sxs-lookup"><span data-stu-id="2e926-287">For more information about recovery times during failover, see [Client Recovery Latency During Failover](../../../sql-server/failover-clusters/windows/sql-server-multi-subnet-clustering-sql-server.md#DNS).</span></span>  
  
###  <a name="follow-up-recommendations"></a><a name="FollowUpRecommendations"></a> <span data-ttu-id="2e926-288">Recomendações de acompanhamento</span><span class="sxs-lookup"><span data-stu-id="2e926-288">Follow-up Recommendations</span></span>  
 <span data-ttu-id="2e926-289">Após criar um ouvinte de grupo de disponibilidade:</span><span class="sxs-lookup"><span data-stu-id="2e926-289">After you create an availability group listener:</span></span>  
  
-   <span data-ttu-id="2e926-290">Peça ao administrador da rede para reservar o endereço IP do ouvinte para seu uso exclusivo.</span><span class="sxs-lookup"><span data-stu-id="2e926-290">Ask your network administrator to reserve the listener's IP address for its exclusive use.</span></span>  
  
-   <span data-ttu-id="2e926-291">Informe o nome do host DNS do ouvinte aos desenvolvedores de aplicativos para uso em cadeias de conexão ao pedir conexões cliente com esse grupo de disponibilidade.</span><span class="sxs-lookup"><span data-stu-id="2e926-291">Give the listener's DNS host name to application developers to use in connection strings when requesting client connections to this availability group.</span></span>  
  
-   <span data-ttu-id="2e926-292">Incentive os desenvolvedores a atualizarem cadeias de conexão do cliente para especificar `MultiSubnetFailover = True`, se possível.</span><span class="sxs-lookup"><span data-stu-id="2e926-292">Encourage developers to update client connection strings to specify `MultiSubnetFailover = True`, if possible.</span></span> <span data-ttu-id="2e926-293">Para obter mais informações sobre suporte a driver para failover de várias sub-redes, consulte [Conectividade do Cliente AlwaysOn &#40;SQL Server&#41;](always-on-client-connectivity-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="2e926-293">For information about driver support for multi-subnet failover, see [AlwaysOn Client Connectivity &#40;SQL Server&#41;](always-on-client-connectivity-sql-server.md).</span></span>  
  
###  <a name="create-an-additional-listener-for-an-availability-group-optional"></a><a name="CreateAdditionalListener"></a> <span data-ttu-id="2e926-294">Criar um ouvinte adicional para um grupo de disponibilidade (opcional)</span><span class="sxs-lookup"><span data-stu-id="2e926-294">Create an Additional Listener for an Availability Group (Optional)</span></span>  
 <span data-ttu-id="2e926-295">Depois de criar um ouvinte pelo SQL Server, você poderá adicionar um ouvinte adicional, da seguinte maneira:</span><span class="sxs-lookup"><span data-stu-id="2e926-295">After you create one listener through SQL Server, you can add an additional listener, as follows:</span></span>  
  
1.  <span data-ttu-id="2e926-296">Crie o ouvinte usando uma das ferramentas a seguir:</span><span class="sxs-lookup"><span data-stu-id="2e926-296">Create the listener using either of the following tools:</span></span>  
  
    -   <span data-ttu-id="2e926-297">**Usando o Gerenciador de Cluster de Failover do WSFC:**</span><span class="sxs-lookup"><span data-stu-id="2e926-297">**Using WSFC Failover Cluster Manager:**</span></span>  
  
        1.  <span data-ttu-id="2e926-298">Adicione um ponto de acesso para cliente e configure o endereço IP.</span><span class="sxs-lookup"><span data-stu-id="2e926-298">Add a client access point and configure the IP address.</span></span>  
  
        2.  <span data-ttu-id="2e926-299">Faça o ouvinte ficar online.</span><span class="sxs-lookup"><span data-stu-id="2e926-299">Bring the listener online.</span></span>  
  
        3.  <span data-ttu-id="2e926-300">Adicione uma dependência para o recurso do grupo de disponibilidade do WSFC.</span><span class="sxs-lookup"><span data-stu-id="2e926-300">Add a dependency to the WSFC availability group resource.</span></span>  
  
         <span data-ttu-id="2e926-301">Para obter informações sobre as caixas de diálogo e guias do Gerenciador de Cluster de Failover, consulte [Interface do usuário: o snap-in gerenciador de cluster de failover](https://technet.microsoft.com/library/cc772502.aspx).</span><span class="sxs-lookup"><span data-stu-id="2e926-301">For information about the dialog boxes and tabs of the Failover Cluster Manager, see [User Interface: The Failover Cluster Manager Snap-In](https://technet.microsoft.com/library/cc772502.aspx).</span></span>  
  
    -   <span data-ttu-id="2e926-302">**Usando o Windows PowerShell para clusters de failover:**</span><span class="sxs-lookup"><span data-stu-id="2e926-302">**Using Windows PowerShell for failover clusters:**</span></span>  
  
        1.  <span data-ttu-id="2e926-303">Use [Add-ClusterResource](https://technet.microsoft.com/library/ee460983.aspx) para criar um nome de rede e os recursos do endereço IP.</span><span class="sxs-lookup"><span data-stu-id="2e926-303">Use [Add-ClusterResource](https://technet.microsoft.com/library/ee460983.aspx) to create a network name and the IP address resources.</span></span>  
  
        2.  <span data-ttu-id="2e926-304">Use [Start-ClusterResource](https://technet.microsoft.com/library/ee461056.aspx) para iniciar o recurso de nome de rede.</span><span class="sxs-lookup"><span data-stu-id="2e926-304">Use [Start-ClusterResource](https://technet.microsoft.com/library/ee461056.aspx) to start the network name resource.</span></span>  
  
        3.  <span data-ttu-id="2e926-305">Use [Add-ClusterResourceDependency](https://technet.microsoft.com/library/ee461014.aspx) para definir a dependência entre o nome da rede e o recurso do Grupo de Disponibilidade do SQL Server existente.</span><span class="sxs-lookup"><span data-stu-id="2e926-305">Use [Add-ClusterResourceDependency](https://technet.microsoft.com/library/ee461014.aspx) to set the dependency between the network name and the existing SQL Server Availability Group resource.</span></span>  
  
         <span data-ttu-id="2e926-306">Para obter informações sobre como usar o Windows PowerShell para clusters de failover, consulte [Visão geral de comandos do gerenciador de servidor](https://technet.microsoft.com/library/cc732757.aspx#BKMK_wps).</span><span class="sxs-lookup"><span data-stu-id="2e926-306">For information about using Windows PowerShell for failover clusters, see [Overview of Server Manager Commands](https://technet.microsoft.com/library/cc732757.aspx#BKMK_wps).</span></span>  
  
2.  <span data-ttu-id="2e926-307">Inicie a escuta do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] no novo ouvinte.</span><span class="sxs-lookup"><span data-stu-id="2e926-307">Start [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] listening on the new listener.</span></span> <span data-ttu-id="2e926-308">Após criar um ouvinte adicional, conecte a instância do [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] que hospeda a réplica principal do grupo de disponibilidade e use [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)], [!INCLUDE[tsql](../../../includes/tsql-md.md)]ou PowerShell para modificar a porta do ouvinte.</span><span class="sxs-lookup"><span data-stu-id="2e926-308">After creating the additional listener, connect to the instance of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] that hosts the primary replica of the availability group and use [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)], [!INCLUDE[tsql](../../../includes/tsql-md.md)], or PowerShell to modify the listener port.</span></span>  
  
 <span data-ttu-id="2e926-309">Para obter mais informações, consulte [How to create multiple listeners for same availability group](https://blogs.msdn.com/b/sqlalwayson/archive/2012/02/03/how-to-create-multiple-listeners-for-same-availability-group-goden-yao.aspx) (Como criar vários ouvintes para o mesmo grupo de disponibilidade) (um blog da equipe do SQL Server AlwaysOn).</span><span class="sxs-lookup"><span data-stu-id="2e926-309">For more information, see [How to create multiple listeners for same availability group](https://blogs.msdn.com/b/sqlalwayson/archive/2012/02/03/how-to-create-multiple-listeners-for-same-availability-group-goden-yao.aspx) (a SQL Server AlwaysOn team blog).</span></span>  
  
##  <a name="related-tasks"></a><a name="RelatedTasks"></a> <span data-ttu-id="2e926-310">Tarefas relacionadas</span><span class="sxs-lookup"><span data-stu-id="2e926-310">Related Tasks</span></span>  
  
-   [<span data-ttu-id="2e926-311">Exibir propriedades do ouvinte do grupo de disponibilidade &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="2e926-311">View Availability Group Listener Properties &#40;SQL Server&#41;</span></span>](view-availability-group-listener-properties-sql-server.md)  
  
-   [<span data-ttu-id="2e926-312">Remover um ouvinte do grupo de disponibilidade &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="2e926-312">Remove an Availability Group Listener &#40;SQL Server&#41;</span></span>](remove-an-availability-group-listener-sql-server.md)  
  
##  <a name="related-content"></a><a name="RelatedContent"></a> <span data-ttu-id="2e926-313">Conteúdo relacionado</span><span class="sxs-lookup"><span data-stu-id="2e926-313">Related Content</span></span>  
  
-   [<span data-ttu-id="2e926-314">How to create multiple listeners for same availability group</span><span class="sxs-lookup"><span data-stu-id="2e926-314">How to create multiple listeners for same availability group</span></span>](https://blogs.msdn.com/b/sqlalwayson/archive/2012/02/03/how-to-create-multiple-listeners-for-same-availability-group-goden-yao.aspx)  
  
-   [<span data-ttu-id="2e926-315">Blog da equipe do SQL Server AlwaysOn: o blog oficial da equipe do SQL Server AlwaysOn</span><span class="sxs-lookup"><span data-stu-id="2e926-315">SQL Server AlwaysOn Team Blog: The official SQL Server AlwaysOn team blog</span></span>](https://blogs.msdn.com/b/sqlalwayson/)  
  
## <a name="see-also"></a><span data-ttu-id="2e926-316">Consulte Também</span><span class="sxs-lookup"><span data-stu-id="2e926-316">See Also</span></span>  
 <span data-ttu-id="2e926-317">[Visão geral do Grupos de Disponibilidade AlwaysOn &#40;SQL Server&#41;](overview-of-always-on-availability-groups-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="2e926-317">[Overview of AlwaysOn Availability Groups &#40;SQL Server&#41;](overview-of-always-on-availability-groups-sql-server.md) </span></span>  
 <span data-ttu-id="2e926-318">[Ouvintes do grupo de disponibilidade, conectividade de cliente e failover de aplicativo &#40;SQL Server&#41;](../../listeners-client-connectivity-application-failover.md) </span><span class="sxs-lookup"><span data-stu-id="2e926-318">[Availability Group Listeners, Client Connectivity, and Application Failover &#40;SQL Server&#41;](../../listeners-client-connectivity-application-failover.md) </span></span>  
 [<span data-ttu-id="2e926-319">Clustering de várias sub-redes do SQL Server &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="2e926-319">SQL Server Multi-Subnet Clustering &#40;SQL Server&#41;</span></span>](../../../sql-server/failover-clusters/windows/sql-server-multi-subnet-clustering-sql-server.md)  
