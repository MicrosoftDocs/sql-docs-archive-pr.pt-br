---
title: Espelhamento de Banco de Dados (SQL Server) | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: high-availability
ms.topic: conceptual
helpviewer_keywords:
- partners [SQL Server]
- standby servers [SQL Server]
- principal database [SQL Server]
- principal server [SQL Server]
- mirroring partners [SQL Server]
- mirrored databases [SQL Server] See database mirroring
- database mirroring [SQL Server], partners
- availability [SQL Server]
- hot standby servers (see database monitoring [SQL Server])
- database mirroring [SQL Server], about database mirroring
- mirror database [SQL Server]
- mirror server [SQL Server] See database mirroring
ms.assetid: a7f95ddc-5154-4ed5-8117-c9fcf2221f13
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: 9e6fcce7d861fd5757f822080fb05d05e32d799a
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87570223"
---
# <a name="database-mirroring-sql-server"></a><span data-ttu-id="acfc0-102">Espelhamento de banco de dados (SQL Server)</span><span class="sxs-lookup"><span data-stu-id="acfc0-102">Database Mirroring (SQL Server)</span></span>
    
> [!NOTE]  
>  [!INCLUDE[ssNoteDepFutureAvoid](../../includes/ssnotedepfutureavoid-md.md)] <span data-ttu-id="acfc0-103">Em vez disso, use [!INCLUDE[ssHADR](../../includes/sshadr-md.md)].</span><span class="sxs-lookup"><span data-stu-id="acfc0-103">Use [!INCLUDE[ssHADR](../../includes/sshadr-md.md)] instead.</span></span>  
  
 <span data-ttu-id="acfc0-104">O*Espelhamento de banco de dados* é uma solução para aumentar a disponibilidade de um banco de dados do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="acfc0-104">*Database mirroring* is a solution for increasing the availability of a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] database.</span></span> <span data-ttu-id="acfc0-105">O espelhamento é implementado por base de banco de dados e só funciona com bancos de dados que usam o modelo de recuperação completa.</span><span class="sxs-lookup"><span data-stu-id="acfc0-105">Mirroring is implemented on a per-database basis and works only with databases that use the full recovery model.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="acfc0-106">Para obter informações sobre o suporte para espelhamento de banco de dados, restrições, pré-requisitos, recomendações sobre como configurar servidores de parceiro e recomendações sobre como implantar o espelhamento de banco de dados, veja [Pré-requisitos, restrições e recomendações para espelhamento de banco de dados](prerequisites-restrictions-and-recommendations-for-database-mirroring.md).</span><span class="sxs-lookup"><span data-stu-id="acfc0-106">For information about support for database mirroring, restrictions, prerequisites, recommendations for configuring partner servers, and recommendations for deploying database mirroring, see [Prerequisites, Restrictions, and Recommendations for Database Mirroring](prerequisites-restrictions-and-recommendations-for-database-mirroring.md).</span></span>  
  

  
##  <a name="benefits-of-database-mirroring"></a><a name="Benefits"></a> <span data-ttu-id="acfc0-107">Benefícios do espelhamento de banco de dados</span><span class="sxs-lookup"><span data-stu-id="acfc0-107">Benefits of Database Mirroring</span></span>  
 <span data-ttu-id="acfc0-108">O espelhamento de banco de dados é uma estratégia simples que oferece os seguintes benefícios:</span><span class="sxs-lookup"><span data-stu-id="acfc0-108">Database mirroring is a simple strategy that offers the following benefits:</span></span>  
  
-   <span data-ttu-id="acfc0-109">Aumenta a disponibilidade de um banco de dados.</span><span class="sxs-lookup"><span data-stu-id="acfc0-109">Increases availability of a database.</span></span>  
  
     <span data-ttu-id="acfc0-110">No caso de desastre, no modo de segurança alta com failover automático, o failover coloca rapidamente online a cópia do banco de dados em espera (sem perda de dados).</span><span class="sxs-lookup"><span data-stu-id="acfc0-110">In the event of a disaster, in high-safety mode with automatic failover, failover quickly brings the standby copy of the database online (without data loss).</span></span> <span data-ttu-id="acfc0-111">Nos outros modos de operação, o administrador do banco de dados tem a possibilidade de forçar o serviço (com possível perda de dados) para a cópia do banco de dados em espera.</span><span class="sxs-lookup"><span data-stu-id="acfc0-111">In the other operating modes, the database administrator has the alternative of forcing service (with possible data loss) to the standby copy of the database.</span></span> <span data-ttu-id="acfc0-112">Para obter mais informações, consulte [Troca de função](#RoleSwitching), posteriormente neste tópico.</span><span class="sxs-lookup"><span data-stu-id="acfc0-112">For more information, see [Role Switching](#RoleSwitching), later in this topic.</span></span>  
  
-   <span data-ttu-id="acfc0-113">Aumenta a proteção dos dados.</span><span class="sxs-lookup"><span data-stu-id="acfc0-113">Increases data protection.</span></span>  
  
     <span data-ttu-id="acfc0-114">O espelhamento de banco de dados fornece completa ou quase completa redundância de dados, dependendo se o modo operacional é de alta segurança ou de alto desempenho.</span><span class="sxs-lookup"><span data-stu-id="acfc0-114">Database mirroring provides complete or almost complete redundancy of the data, depending on whether the operating mode is high-safety or high-performance.</span></span> <span data-ttu-id="acfc0-115">Para obter mais informações, consulte [Modos de operação](#OperatingModes), mais adiante neste tópico.</span><span class="sxs-lookup"><span data-stu-id="acfc0-115">For more information, see [Operating Modes](#OperatingModes), later in this topic.</span></span>  
  
     <span data-ttu-id="acfc0-116">Um parceiro de espelhamento de banco de dados executado no [!INCLUDE[ssEnterpriseEd10](../../includes/ssenterpriseed10-md.md)] ou em versões posteriores tenta resolver automaticamente determinados tipos de erros que impedem a leitura de uma página de dados.</span><span class="sxs-lookup"><span data-stu-id="acfc0-116">A database mirroring partner running on [!INCLUDE[ssEnterpriseEd10](../../includes/ssenterpriseed10-md.md)] or later versions automatically tries to resolve certain types of errors that prevent reading a data page.</span></span> <span data-ttu-id="acfc0-117">O parceiro que não está habilitado para ler uma página solicita uma cópia atualizada de outro parceiro.</span><span class="sxs-lookup"><span data-stu-id="acfc0-117">The partner that is unable to read a page requests a fresh copy from the other partner.</span></span> <span data-ttu-id="acfc0-118">Se essa solicitação tiver êxito, a página ilegível será substituída pela cópia. Isso normalmente resolve o erro.</span><span class="sxs-lookup"><span data-stu-id="acfc0-118">If this request succeeds, the unreadable page is replaced by the copy, which usually resolves the error.</span></span> <span data-ttu-id="acfc0-119">Para obter mais informações, consulte [Reparo automático de página &#40;Para Grupos de Disponibilidade e Espelhamento de Banco de Dados&#41;](../../sql-server/failover-clusters/automatic-page-repair-availability-groups-database-mirroring.md).</span><span class="sxs-lookup"><span data-stu-id="acfc0-119">For more information, see [Automatic Page Repair &#40;For Availability Groups and Database Mirroring&#41;](../../sql-server/failover-clusters/automatic-page-repair-availability-groups-database-mirroring.md).</span></span>  
  
-   <span data-ttu-id="acfc0-120">Aumenta a disponibilidade do banco de dados de produção durante as atualizações.</span><span class="sxs-lookup"><span data-stu-id="acfc0-120">Improves the availability of the production database during upgrades.</span></span>  
  
     <span data-ttu-id="acfc0-121">Para minimizar o tempo de inatividade de um banco de dados espelho, atualize de forma sequencial as instâncias do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] que estão hospedando os parceiros de failover.</span><span class="sxs-lookup"><span data-stu-id="acfc0-121">To minimize downtime for a mirrored database, you can sequentially upgrade the instances of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] that are hosting the failover partners.</span></span> <span data-ttu-id="acfc0-122">Isso ocasionará o tempo de inatividade de um único failover.</span><span class="sxs-lookup"><span data-stu-id="acfc0-122">This will incur the downtime of only a single failover.</span></span> <span data-ttu-id="acfc0-123">Essa forma de atualização é conhecida como *atualização sem-interrupção*.</span><span class="sxs-lookup"><span data-stu-id="acfc0-123">This form of upgrade is known as a *rolling upgrade*.</span></span> <span data-ttu-id="acfc0-124">Para obter mais informações, consulte [instalar um Service Pack em um sistema com tempo de inatividade mínimo para bancos de dados espelhados](../install-a-service-pack-on-a-system-with-minimal-downtime-for-mirrored-databases.md).</span><span class="sxs-lookup"><span data-stu-id="acfc0-124">For more information, see [Install a Service Pack on a System with Minimal Downtime for Mirrored Databases](../install-a-service-pack-on-a-system-with-minimal-downtime-for-mirrored-databases.md).</span></span>  
  
##  <a name="database-mirroring-terms-and-definitions"></a><a name="TermsAndDefinitions"></a> <span data-ttu-id="acfc0-125">Termos e definições de espelhamento de banco de dados</span><span class="sxs-lookup"><span data-stu-id="acfc0-125">Database Mirroring Terms and Definitions</span></span>  
 <span data-ttu-id="acfc0-126">failover automático</span><span class="sxs-lookup"><span data-stu-id="acfc0-126">automatic failover</span></span>  
 <span data-ttu-id="acfc0-127">O processo pelo qual, quando o servidor principal fica indisponível, o servidor espelho assume a função de servidor principal e torna sua cópia do banco de dados online como o banco de dados principal.</span><span class="sxs-lookup"><span data-stu-id="acfc0-127">The process by which, when the principal server becomes unavailable, the mirror server to take over the role of principal server and brings its copy of the database online as the principal database.</span></span>  
  
 <span data-ttu-id="acfc0-128">parceiros de failover</span><span class="sxs-lookup"><span data-stu-id="acfc0-128">failover partners</span></span>  
 <span data-ttu-id="acfc0-129">As duas instâncias de servidor (o servidor principal ou o servidor espelho) que agem como parceiros de troca de função para um banco de dados espelhado.</span><span class="sxs-lookup"><span data-stu-id="acfc0-129">The two server instances (the principal server or the mirror server) that act as role-switching partners for a mirrored database.</span></span>  
  
 <span data-ttu-id="acfc0-130">serviço forçado</span><span class="sxs-lookup"><span data-stu-id="acfc0-130">forced service</span></span>  
 <span data-ttu-id="acfc0-131">Um failover iniciado pelo proprietário do banco de dados na falha do servidor principal que transfere o serviço do banco de dados espelho enquanto ele estiver em um estado desconhecido.</span><span class="sxs-lookup"><span data-stu-id="acfc0-131">A failover initiated by the database owner upon the failure of the principal server that transfers service to the mirror database while it is in an unknown state.</span></span>  
  
 <span data-ttu-id="acfc0-132">Modo de alto desempenho</span><span class="sxs-lookup"><span data-stu-id="acfc0-132">High-performance mode</span></span>  
 <span data-ttu-id="acfc0-133">A sessão de espelhamento de banco de dados opera de forma assíncrona e usa só o servidor principal e o servidor espelho.</span><span class="sxs-lookup"><span data-stu-id="acfc0-133">The database mirroring session operates asynchronously and uses only the principal server and mirror server.</span></span> <span data-ttu-id="acfc0-134">A única forma de troca de função é o serviço forçado (com possível perda de dados).</span><span class="sxs-lookup"><span data-stu-id="acfc0-134">The only form of role switching is forced service (with possible data loss).</span></span>  
  
 <span data-ttu-id="acfc0-135">Modo de alta segurança</span><span class="sxs-lookup"><span data-stu-id="acfc0-135">High-safety mode</span></span>  
 <span data-ttu-id="acfc0-136">A sessão de espelhamento de banco de dados opera de forma síncrona e, opcionalmente, usa uma testemunha, bem como o servidor principal e o servidor espelho.</span><span class="sxs-lookup"><span data-stu-id="acfc0-136">The database mirroring session operates synchronously and, optionally, uses a witness, as well as the principal server and mirror server.</span></span>  
  
 <span data-ttu-id="acfc0-137">failover manual</span><span class="sxs-lookup"><span data-stu-id="acfc0-137">manual failover</span></span>  
 <span data-ttu-id="acfc0-138">Um failover iniciado pelo proprietário do banco de dados, enquanto o servidor principal ainda estiver em execução, que transfere o serviço do banco de dados principal para o banco de dados espelho, enquanto eles estão em um estado sincronizado.</span><span class="sxs-lookup"><span data-stu-id="acfc0-138">A failover initiated by the database owner, while the principal server is still running, that transfers service from the principal database to the mirror database while they are in a synchronized state.</span></span>  
  
 <span data-ttu-id="acfc0-139">banco de dados espelho</span><span class="sxs-lookup"><span data-stu-id="acfc0-139">mirror database</span></span>  
 <span data-ttu-id="acfc0-140">A cópia do banco de dados em geral totalmente sincronizada com o banco de dados principal.</span><span class="sxs-lookup"><span data-stu-id="acfc0-140">The copy of the database that is typically fully synchronized with the principal database.</span></span>  
  
 <span data-ttu-id="acfc0-141">servidor espelho</span><span class="sxs-lookup"><span data-stu-id="acfc0-141">mirror server</span></span>  
 <span data-ttu-id="acfc0-142">Em uma configuração de espelhamento de banco de dados, a instância de servidor na qual o banco de dados espelho reside.</span><span class="sxs-lookup"><span data-stu-id="acfc0-142">In a database mirroring configuration, the server instance on which the mirror database resides.</span></span>  
  
 <span data-ttu-id="acfc0-143">servidor espelho</span><span class="sxs-lookup"><span data-stu-id="acfc0-143">mirror server</span></span>  
 <span data-ttu-id="acfc0-144">Em uma configuração de espelhamento de banco de dados, a instância de servidor na qual o banco de dados espelho reside.</span><span class="sxs-lookup"><span data-stu-id="acfc0-144">In a database mirroring configuration, the server instance on which the mirror database resides.</span></span>  
  
 <span data-ttu-id="acfc0-145">banco de dados principal</span><span class="sxs-lookup"><span data-stu-id="acfc0-145">principal database</span></span>  
 <span data-ttu-id="acfc0-146">No espelhamento de banco de dados, um banco de dados de leitura/gravação cujos registros do log de transações são aplicados a uma cópia somente leitura de um banco de dados (um banco de dados espelho).</span><span class="sxs-lookup"><span data-stu-id="acfc0-146">In database mirroring, a read-write database whose transaction log records are applied to a read-only copy of the database (a mirror database).</span></span>  
  
 <span data-ttu-id="acfc0-147">servidor principal</span><span class="sxs-lookup"><span data-stu-id="acfc0-147">principal server</span></span>  
 <span data-ttu-id="acfc0-148">No espelhamento de banco de dados, o parceiro cujo banco de dados é atualmente o banco de dados principal.</span><span class="sxs-lookup"><span data-stu-id="acfc0-148">In database mirroring, the partner whose database is currently the principal database.</span></span>  
  
 <span data-ttu-id="acfc0-149">fila de restauração</span><span class="sxs-lookup"><span data-stu-id="acfc0-149">redo queue</span></span>  
 <span data-ttu-id="acfc0-150">Registros de log de transação recebidos que estão esperando no disco de um servidor espelho.</span><span class="sxs-lookup"><span data-stu-id="acfc0-150">Received transaction log records that are waiting on the disk of a mirror server.</span></span>  
  
 <span data-ttu-id="acfc0-151">função</span><span class="sxs-lookup"><span data-stu-id="acfc0-151">role</span></span>  
 <span data-ttu-id="acfc0-152">O servidor principal e o servidor espelho executam funções de principal e espelho complementares.</span><span class="sxs-lookup"><span data-stu-id="acfc0-152">The principal server and mirror server perform complementary principal and mirror roles.</span></span> <span data-ttu-id="acfc0-153">Opcionalmente, a função de testemunha é executada por uma terceira instância de servidor.</span><span class="sxs-lookup"><span data-stu-id="acfc0-153">Optionally, the role of witness is performed by a third server instance.</span></span>  
  
 <span data-ttu-id="acfc0-154">Troca de função</span><span class="sxs-lookup"><span data-stu-id="acfc0-154">role switching</span></span>  
 <span data-ttu-id="acfc0-155">O espelho assume a função principal.</span><span class="sxs-lookup"><span data-stu-id="acfc0-155">The taking over of the principal role by the mirror.</span></span>  
  
 <span data-ttu-id="acfc0-156">fila de envio</span><span class="sxs-lookup"><span data-stu-id="acfc0-156">send queue</span></span>  
 <span data-ttu-id="acfc0-157">Registros de log de transação não enviados que foram acumulados no disco de log do servidor principal.</span><span class="sxs-lookup"><span data-stu-id="acfc0-157">Unsent transaction log records that have accumulated on the log disk of the principal server.</span></span>  
  
 <span data-ttu-id="acfc0-158">sessão</span><span class="sxs-lookup"><span data-stu-id="acfc0-158">session</span></span>  
 <span data-ttu-id="acfc0-159">A relação que ocorre durante o espelhamento de banco de dados entre o servidor principal, o servidor espelho e o servidor testemunha (se presente).</span><span class="sxs-lookup"><span data-stu-id="acfc0-159">The relationship that occurs during database mirroring among the principal server, mirror server, and witness server (if present).</span></span>  
  
 <span data-ttu-id="acfc0-160">Depois que uma sessão de espelhamento é iniciada ou retomada, o processo no qual os registros do log do banco de dados principal acumulados no servidor principal são enviados ao servidor espelho, que grava esses registros de log o mais rapidamente possível para ficar em dia com o servidor principal.</span><span class="sxs-lookup"><span data-stu-id="acfc0-160">After a mirroring session starts or resumes, the process by which log records of the principal database that have accumulated on the principal server are sent to the mirror server, which writes these log records to disk as quickly as possible to catch up with the principal server.</span></span>  
  
 <span data-ttu-id="acfc0-161">Segurança de transação</span><span class="sxs-lookup"><span data-stu-id="acfc0-161">Transaction safety</span></span>  
 <span data-ttu-id="acfc0-162">Uma propriedade de banco de dados específica de espelhamento que determina se uma sessão de espelhamento de banco de dados opera de forma síncrona ou assíncrona.</span><span class="sxs-lookup"><span data-stu-id="acfc0-162">A mirroring-specific database property that determines whether a database mirroring session operates synchronously or asynchronously.</span></span> <span data-ttu-id="acfc0-163">Há dois níveis de segurança: COMPLETO e DESLIGADO.</span><span class="sxs-lookup"><span data-stu-id="acfc0-163">There are two safety levels: FULL and OFF.</span></span>  
  
 <span data-ttu-id="acfc0-164">Witness (testemunha)</span><span class="sxs-lookup"><span data-stu-id="acfc0-164">Witness</span></span>  
 <span data-ttu-id="acfc0-165">Para uso apenas com o modo de alta segurança, uma instância opcional do SQL Server que permite ao servidor espelho reconhecer quando iniciar um failover automático.</span><span class="sxs-lookup"><span data-stu-id="acfc0-165">For use only with high-safety mode, an optional instance of SQL Server that enables the mirror server to recognize when to initiate an automatic failover.</span></span> <span data-ttu-id="acfc0-166">Ao contrário dos dois parceiros de failover, a testemunha não atende ao banco de dados.</span><span class="sxs-lookup"><span data-stu-id="acfc0-166">Unlike the two failover partners, the witness does not serve the database.</span></span> <span data-ttu-id="acfc0-167">O suporte ao failover automático é a única função da testemunha.</span><span class="sxs-lookup"><span data-stu-id="acfc0-167">Supporting automatic failover is the only role of the witness.</span></span>  
  
##  <a name="overview-of-database-mirroring"></a><a name="HowWorks"></a> <span data-ttu-id="acfc0-168">Visão geral do espelhamento de banco de dados</span><span class="sxs-lookup"><span data-stu-id="acfc0-168">Overview of Database Mirroring</span></span>  
 <span data-ttu-id="acfc0-169">O espelhamento de banco de dados mantém duas cópias de um único banco de dados que devem estar localizadas em instâncias do servidor diferentes do [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="acfc0-169">Database mirroring maintains two copies of a single database that must reside on different server instances of [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)].</span></span> <span data-ttu-id="acfc0-170">Geralmente, essas instâncias do servidor estão em localidades diferentes dos computadores.</span><span class="sxs-lookup"><span data-stu-id="acfc0-170">Typically, these server instances reside on computers in different locations.</span></span> <span data-ttu-id="acfc0-171">Iniciar o espelhamento de banco de dados em um banco de dados inicia uma relação, conhecida como uma *sessão de espelhamento de banco de dados*entre essas instâncias de servidor.</span><span class="sxs-lookup"><span data-stu-id="acfc0-171">Starting database mirroring on a database, initiates a relationship, known as a *database mirroring session*, between these server instances.</span></span>  
  
 <span data-ttu-id="acfc0-172">Uma instância do servidor atua como banco de dados para clientes ( *servidor principal*).</span><span class="sxs-lookup"><span data-stu-id="acfc0-172">One server instance serves the database to clients (the *principal server*).</span></span> <span data-ttu-id="acfc0-173">A outra instância funciona como servidor em espera ativa ou passiva ( *servidor espelho*), dependendo da configuração e do estado da sessão de espelhamento.</span><span class="sxs-lookup"><span data-stu-id="acfc0-173">The other instance acts as a hot or warm standby server (the *mirror server*), depending on the configuration and state of the mirroring session.</span></span> <span data-ttu-id="acfc0-174">Quando uma sessão de espelhamento de banco de dados é sincronizada, o espelhamento de banco de dados fornece um servidor em espera ativa que oferece suporte rápido a failover , sem que haja perda de dados de transações confirmadas.</span><span class="sxs-lookup"><span data-stu-id="acfc0-174">When a database mirroring session is synchronized, database mirroring provides a hot standby server that supports rapid failover without a loss of data from committed transactions.</span></span> <span data-ttu-id="acfc0-175">Quando a sessão não é sincronizada, o servidor espelho fica, normalmente, disponível como servidor em espera passiva (com possível perda de dados).</span><span class="sxs-lookup"><span data-stu-id="acfc0-175">When the session is not synchronized, the mirror server is typically available as a warm standby server (with possible data loss).</span></span>  
  
 <span data-ttu-id="acfc0-176">Os servidores principal e espelho comunicam e cooperam entre si como *parceiros* na *sessão de espelhamento de banco de dados*.</span><span class="sxs-lookup"><span data-stu-id="acfc0-176">The principal and mirror servers communicate and cooperate as *partners* in a *database mirroring session*.</span></span> <span data-ttu-id="acfc0-177">Os dois parceiros executam funções complementares na sessão: a *função principal* e a *função de espelho*.</span><span class="sxs-lookup"><span data-stu-id="acfc0-177">The two partners perform complementary roles in the session: the *principal role* and the *mirror role*.</span></span> <span data-ttu-id="acfc0-178">Em um dado momento, um parceiro executa a função principal e o outro parceiro executa a função espelho.</span><span class="sxs-lookup"><span data-stu-id="acfc0-178">At any given time, one partner performs the principal role, and the other partner performs the mirror role.</span></span> <span data-ttu-id="acfc0-179">Cada parceiro é descrito como *proprietário* de sua função atual.</span><span class="sxs-lookup"><span data-stu-id="acfc0-179">Each partner is described as *owning* its current role.</span></span> <span data-ttu-id="acfc0-180">O parceiro que possui a função principal é conhecido como *servidor principal*, e a sua cópia do banco de dados é o banco de dados principal atual.</span><span class="sxs-lookup"><span data-stu-id="acfc0-180">The partner that owns the principal role is known as the *principal server*, and its copy of the database is the current principal database.</span></span> <span data-ttu-id="acfc0-181">O parceiro que possui a função espelho é conhecido como *servidor espelho*, e a sua cópia de banco de dados é o banco de dados espelho atual.</span><span class="sxs-lookup"><span data-stu-id="acfc0-181">The partner that owns the mirror role is known as the *mirror server*, and its copy of the database is the current mirror database.</span></span> <span data-ttu-id="acfc0-182">Quando o espelhamento de banco de dados é implantado em um ambiente de produção, o banco de dados principal é o *banco de dados de produção*.</span><span class="sxs-lookup"><span data-stu-id="acfc0-182">When database mirroring is deployed in a production environment, the principal database is the *production database*.</span></span>  
  
 <span data-ttu-id="acfc0-183">O espelhamento de banco de dados compreende *refazer* cada operação de inserção, atualização e exclusão, que ocorre no banco de dados principal, no banco de dados espelho o mais rápido possível.</span><span class="sxs-lookup"><span data-stu-id="acfc0-183">Database mirroring involves *redoing* every insert, update, and delete operation that occurs on the principal database onto the mirror database as quickly as possible.</span></span> <span data-ttu-id="acfc0-184">Para refazer a operação, envie um fluxo de registros de log de transações ativo para o servidor espelho, que aplica os registros de log ao banco de dados espelho, na sequência, com a maior rapidez possível.</span><span class="sxs-lookup"><span data-stu-id="acfc0-184">Redoing is accomplished by sending a stream of active transaction log records to the mirror server, which applies log records to the mirror database, in sequence, as quickly as possible.</span></span> <span data-ttu-id="acfc0-185">Ao contrário da replicação, que trabalha no nível lógico, o espelhamento de banco de dados trabalha no nível do registro de log físico.</span><span class="sxs-lookup"><span data-stu-id="acfc0-185">Unlike replication, which works at the logical level, database mirroring works at the level of the physical log record.</span></span> <span data-ttu-id="acfc0-186">A partir do [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)], o servidor principal compacta o fluxo de registros do log de transações antes de enviá-lo ao servidor espelho.</span><span class="sxs-lookup"><span data-stu-id="acfc0-186">Beginning in [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)], the principal server compresses the stream of transaction log records before sending it to the mirror server.</span></span> <span data-ttu-id="acfc0-187">Essa compactação do log ocorre em todas as sessões de espelhamento.</span><span class="sxs-lookup"><span data-stu-id="acfc0-187">This log compression occurs in all mirroring sessions.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="acfc0-188">Uma determinada instância do servidor pode participar de várias sessões de espelhamento de banco de dados simultâneas com os mesmos parceiros ou diferentes.</span><span class="sxs-lookup"><span data-stu-id="acfc0-188">A given server instance can participate in multiple concurrent database mirroring sessions with the same or different partners.</span></span> <span data-ttu-id="acfc0-189">Uma instância do servidor pode ser um parceiro em algumas sessões e uma testemunha em outras sessões.</span><span class="sxs-lookup"><span data-stu-id="acfc0-189">A server instance can be a partner in some sessions and a witness in other sessions.</span></span> <span data-ttu-id="acfc0-190">A instância de servidor espelho deve estar executando a mesma edição do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="acfc0-190">The mirror server instance must be running the same edition of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span>  
  
 
  
###  <a name="operating-modes"></a><a name="OperatingModes"></a> <span data-ttu-id="acfc0-191">Modos de operação</span><span class="sxs-lookup"><span data-stu-id="acfc0-191">Operating Modes</span></span>  
 <span data-ttu-id="acfc0-192">Uma sessão de espelhamento de banco de dados executa com operação síncrona ou assíncrona.</span><span class="sxs-lookup"><span data-stu-id="acfc0-192">A database mirroring session runs with either synchronous or asynchronous operation.</span></span> <span data-ttu-id="acfc0-193">No modo operacional assíncrono, as transações são confirmadas sem esperar que o servidor espelho grave o log no disco, o que maximiza o desempenho.</span><span class="sxs-lookup"><span data-stu-id="acfc0-193">Under asynchronous operation, the transactions commit without waiting for the mirror server to write the log to disk, which maximizes performance.</span></span> <span data-ttu-id="acfc0-194">Na operação síncrona, a transação é confirmada em ambos os parceiros, mas à custa da latência de transação aumentada.</span><span class="sxs-lookup"><span data-stu-id="acfc0-194">Under synchronous operation, a transaction is committed on both partners, but at the cost of increased transaction latency.</span></span>  
  
 <span data-ttu-id="acfc0-195">Há dois modos operacionais de espelhamento.</span><span class="sxs-lookup"><span data-stu-id="acfc0-195">There are two mirroring operating modes.</span></span> <span data-ttu-id="acfc0-196">Um deles, o *modo de segurança alta* , dá suporte à operação síncrona.</span><span class="sxs-lookup"><span data-stu-id="acfc0-196">One of them, *high-safety mode* supports synchronous operation.</span></span> <span data-ttu-id="acfc0-197">No modo de segurança alta, quando uma sessão é iniciada, o servidor espelho sincroniza rapidamente o banco de dados espelho com banco de dados principal.</span><span class="sxs-lookup"><span data-stu-id="acfc0-197">Under high-safety mode, when a session starts, the mirror server synchronizes the mirror database together with the principal database as quickly as possible.</span></span> <span data-ttu-id="acfc0-198">Assim que os bancos de dados são sincronizados, a transação é confirmada em ambos os parceiros, a custa do aumento de latência da transação.</span><span class="sxs-lookup"><span data-stu-id="acfc0-198">As soon as the databases are synchronized, a transaction is committed on both partners, at the cost of increased transaction latency.</span></span>  
  
 <span data-ttu-id="acfc0-199">O segundo modo de operação, o *modo de alto desempenho*, é executado de forma assíncrona.</span><span class="sxs-lookup"><span data-stu-id="acfc0-199">The second operating mode, *high-performance mode*, runs asynchronously.</span></span> <span data-ttu-id="acfc0-200">O servidor espelho tenta preservar os registros de log enviados pelo servidor principal.</span><span class="sxs-lookup"><span data-stu-id="acfc0-200">The mirror server tries to keep up with the log records sent by the principal server.</span></span> <span data-ttu-id="acfc0-201">O banco de dados espelho pode ficar um pouco defasado em relação ao banco de dados principal.</span><span class="sxs-lookup"><span data-stu-id="acfc0-201">The mirror database might lag somewhat behind the principal database.</span></span> <span data-ttu-id="acfc0-202">Entretanto, normalmente a defasagem entre os bancos de dados é pequena.</span><span class="sxs-lookup"><span data-stu-id="acfc0-202">However, typically, the gap between the databases is small.</span></span> <span data-ttu-id="acfc0-203">Porém, a defasagem pode tornar-se significante se o servidor principal estiver com grande carga de trabalho ou se o sistema do servidor espelho estiver sobrecarregado.</span><span class="sxs-lookup"><span data-stu-id="acfc0-203">However, the gap can become significant if the principal server is under a heavy work load or the system of the mirror server is overloaded.</span></span>  
  
 <span data-ttu-id="acfc0-204">No modo de alto desempenho, assim que o servidor principal envia um registro de log para o servidor espelho, o servidor principal envia uma confirmação para o cliente.</span><span class="sxs-lookup"><span data-stu-id="acfc0-204">In high-performance mode, as soon as the principal server sends a log record to the mirror server, the principal server sends a confirmation to the client.</span></span> <span data-ttu-id="acfc0-205">O servidor principal não aguarda uma confirmação do servidor espelho.</span><span class="sxs-lookup"><span data-stu-id="acfc0-205">It does not wait for an acknowledgement from the mirror server.</span></span> <span data-ttu-id="acfc0-206">Isso significa que as transações são confirmadas sem esperar que o servidor espelho grave o log no disco.</span><span class="sxs-lookup"><span data-stu-id="acfc0-206">This means that transactions commit without waiting for the mirror server to write the log to disk.</span></span> <span data-ttu-id="acfc0-207">Essa operação assíncrona habilita o servidor principal para executar com latência de transação mínima e com grande chance de que alguns dados sejam perdidos.</span><span class="sxs-lookup"><span data-stu-id="acfc0-207">Such asynchronous operation enables the principal server to run with minimum transaction latency, at the potential risk of some data loss.</span></span>  
  
 <span data-ttu-id="acfc0-208">Todas as sessões de espelhamento de banco de dados oferecem suporte somente a um servidor principal e a um servidor espelho.</span><span class="sxs-lookup"><span data-stu-id="acfc0-208">All database mirroring sessions support only one principal server and one mirror server.</span></span> <span data-ttu-id="acfc0-209">Essa configuração é mostrada na ilustração a seguir.</span><span class="sxs-lookup"><span data-stu-id="acfc0-209">This configuration is shown in the following illustration.</span></span>  
  
 <span data-ttu-id="acfc0-210">![Parceiros em uma sessão de espelhamento de banco de dados](../media/dbm-2-way-session-intro.gif "Parceiros em uma sessão de espelhamento de banco de dados")</span><span class="sxs-lookup"><span data-stu-id="acfc0-210">![Partners in a database mirroring session](../media/dbm-2-way-session-intro.gif "Partners in a database mirroring session")</span></span>  
  
 <span data-ttu-id="acfc0-211">O modo de segurança alta com failover automático exige a instância de um terceiro servidor, conhecido como *testemunha*.</span><span class="sxs-lookup"><span data-stu-id="acfc0-211">High-safety mode with automatic failover requires a third server instance, known as a *witness*.</span></span> <span data-ttu-id="acfc0-212">Ao contrário dos dois parceiros, a testemunha não atende ao banco de dados.</span><span class="sxs-lookup"><span data-stu-id="acfc0-212">Unlike the two partners, the witness does not serve the database.</span></span> <span data-ttu-id="acfc0-213">A testemunha oferece suporte a failover automático, verificando se o servidor principal está instalado e funcionando.</span><span class="sxs-lookup"><span data-stu-id="acfc0-213">The witness supports automatic failover by verifying whether the principal server is up and functioning.</span></span> <span data-ttu-id="acfc0-214">O servidor espelho apenas iniciará o failover automático se o espelho e a testemunha permanecerem conectados um ao outro depois de serem desconectados do servidor principal.</span><span class="sxs-lookup"><span data-stu-id="acfc0-214">The mirror server initiates automatic failover only if the mirror and the witness remain connected to each other after both have been disconnected from the principal server.</span></span>  
  
 <span data-ttu-id="acfc0-215">A ilustração a seguir mostra uma configuração com testemunha.</span><span class="sxs-lookup"><span data-stu-id="acfc0-215">The following illustration shows a configuration that includes a witness.</span></span>  
  
 <span data-ttu-id="acfc0-216">![Uma sessão de espelhamento que inclui uma testemunha](../media/dbm-3-way-session-intro-ov.gif "Uma sessão de espelhamento que inclui uma testemunha")</span><span class="sxs-lookup"><span data-stu-id="acfc0-216">![A mirroring session that includes a witness](../media/dbm-3-way-session-intro-ov.gif "A mirroring session that includes a witness")</span></span>  
  
 <span data-ttu-id="acfc0-217">Para obter mais informações, consulte [Troca de função](#RoleSwitching), posteriormente neste tópico.</span><span class="sxs-lookup"><span data-stu-id="acfc0-217">For more information, see [Role Switching](#RoleSwitching), later in this topic.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="acfc0-218">Estabelecer uma nova sessão de espelhamento ou adicionar uma testemunha para uma configuração de espelhamento existente exige que todas as instâncias de servidor envolvidas executem a mesma versão do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="acfc0-218">Establishing a new mirroring session or adding a witness to an existing mirroring configuration requires that all involved server instances run the same version of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="acfc0-219">No entanto, quando você estiver atualizando para o [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] ou posterior, as versões das instâncias envolvidas podem variar.</span><span class="sxs-lookup"><span data-stu-id="acfc0-219">However, when you are upgrading to [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] or a later version, the versions of the involved instances can vary.</span></span> <span data-ttu-id="acfc0-220">Para obter mais informações, consulte [Minimize Downtime for Mirrored Databases When Upgrading Server Instances](upgrading-mirrored-instances.md).</span><span class="sxs-lookup"><span data-stu-id="acfc0-220">For more information, see [Minimize Downtime for Mirrored Databases When Upgrading Server Instances](upgrading-mirrored-instances.md).</span></span>  
  
####  <a name="transaction-safety-and-operating-modes"></a><a name="TxnSafety"></a> <span data-ttu-id="acfc0-221">Segurança de transação e modos de operação</span><span class="sxs-lookup"><span data-stu-id="acfc0-221">Transaction Safety and Operating Modes</span></span>  
 <span data-ttu-id="acfc0-222">O que vai determinar se um modo de operação é assíncrono ou síncrono é a configuração de segurança da transação.</span><span class="sxs-lookup"><span data-stu-id="acfc0-222">Whether an operating mode is asynchronous or synchronous depends on the transaction safety setting.</span></span> <span data-ttu-id="acfc0-223">Caso somente o [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] seja usado para configurar o espelhamento de banco de dados, as definições de segurança da transação serão configuradas automaticamente quando o modo de operação for selecionado.</span><span class="sxs-lookup"><span data-stu-id="acfc0-223">If you exclusively use [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] to configure database mirroring, transaction safety settings are configured automatically when you select the operation mode.</span></span>  
  
 <span data-ttu-id="acfc0-224">Se o [!INCLUDE[tsql](../../includes/tsql-md.md)] for usado para configurar o espelhamento de banco de dados, será necessário saber como definir a segurança de transação.</span><span class="sxs-lookup"><span data-stu-id="acfc0-224">If you use [!INCLUDE[tsql](../../includes/tsql-md.md)] to configure database mirroring, you must understand how to set transaction safety.</span></span> <span data-ttu-id="acfc0-225">A segurança de transação é controlada pela propriedade SAFETY da instrução ALTER DATABASE.</span><span class="sxs-lookup"><span data-stu-id="acfc0-225">Transaction safety is controlled by the SAFETY property of the ALTER DATABASE statement.</span></span> <span data-ttu-id="acfc0-226">Em um banco de dados que está sendo espelhado, SAFETY é FULL ou OFF.</span><span class="sxs-lookup"><span data-stu-id="acfc0-226">On a database that is being mirrored, SAFETY is either FULL or OFF.</span></span>  
  
-   <span data-ttu-id="acfc0-227">Se a opção SAFETY for definida como FULL, a operação de espelhamento de banco de dados será síncrona, depois da fase de sincronização inicial.</span><span class="sxs-lookup"><span data-stu-id="acfc0-227">If the SAFETY option is set to FULL, database mirroring operation is synchronous, after the initial synchronizing phase.</span></span> <span data-ttu-id="acfc0-228">Se a testemunha for definida no modo de segurança alta, a sessão oferecerá suporte ao failover automático.</span><span class="sxs-lookup"><span data-stu-id="acfc0-228">If a witness is set in high-safety mode, the session supports automatic failover.</span></span>  
  
-   <span data-ttu-id="acfc0-229">Se a opção SAFETY for definida como OFF, a operação de espelhamento de banco de dados será assíncrona.</span><span class="sxs-lookup"><span data-stu-id="acfc0-229">If the SAFETY option is set to OFF, database mirroring operation is asynchronous.</span></span> <span data-ttu-id="acfc0-230">A sessão é executada em modo de alto desempenho e a opção WITNESS também deve ser OFF.</span><span class="sxs-lookup"><span data-stu-id="acfc0-230">The session runs in high-performance mode, and the WITNESS option should also be OFF.</span></span>  
  
 <span data-ttu-id="acfc0-231">Para obter mais informações, consulte [Database Mirroring Operating Modes](database-mirroring-operating-modes.md).</span><span class="sxs-lookup"><span data-stu-id="acfc0-231">For more information, see [Database Mirroring Operating Modes](database-mirroring-operating-modes.md).</span></span>  
  
###  <a name="role-switching"></a><a name="RoleSwitching"></a> <span data-ttu-id="acfc0-232">Troca de função</span><span class="sxs-lookup"><span data-stu-id="acfc0-232">Role Switching</span></span>  
 <span data-ttu-id="acfc0-233">No contexto da sessão de espelhamento de banco de dados, as funções principal e espelho podem ser, normalmente, alternadas em um processo conhecido como *troca de função*.</span><span class="sxs-lookup"><span data-stu-id="acfc0-233">Within the context of a database mirroring session, the principal and mirror roles are typically interchangeable in a process known as *role switching*.</span></span> <span data-ttu-id="acfc0-234">A troca de função envolve a transferência da função principal ao servidor espelho.</span><span class="sxs-lookup"><span data-stu-id="acfc0-234">Role switching involves transferring the principal role to the mirror server.</span></span> <span data-ttu-id="acfc0-235">Na troca de função, o servidor espelho funciona como *parceiro de failover* do servidor principal.</span><span class="sxs-lookup"><span data-stu-id="acfc0-235">In role switching, the mirror server acts as the *failover partner* for the principal server.</span></span> <span data-ttu-id="acfc0-236">Quando ocorre a troca de função, o servidor espelho assume a função principal e coloca online a sua cópia do banco de dados, como banco de dados principal novo.</span><span class="sxs-lookup"><span data-stu-id="acfc0-236">When a role switch occurs, the mirror server takes over the principal role and brings its copy of the database online as the new principal database.</span></span> <span data-ttu-id="acfc0-237">O servidor principal anterior, se disponível, assume a função de espelho e seu banco de dados se torna o novo banco de dados espelho.</span><span class="sxs-lookup"><span data-stu-id="acfc0-237">The former principal server, if available, assumes the mirror role, and its database becomes the new mirror database.</span></span> <span data-ttu-id="acfc0-238">Potencialmente, as funções podem ser alternadas de forma repetida.</span><span class="sxs-lookup"><span data-stu-id="acfc0-238">Potentially, the roles can switch back and forth repeatedly.</span></span>  
  
 <span data-ttu-id="acfc0-239">Estas são as três formas de troca de função existentes.</span><span class="sxs-lookup"><span data-stu-id="acfc0-239">The following three forms of role switching exist.</span></span>  
  
-   <span data-ttu-id="acfc0-240">*Automatic failover*</span><span class="sxs-lookup"><span data-stu-id="acfc0-240">*Automatic failover*</span></span>  
  
     <span data-ttu-id="acfc0-241">Requer modo de segurança alta e a presença do servidor espelho e de uma testemunha.</span><span class="sxs-lookup"><span data-stu-id="acfc0-241">This requires high-safety mode and the presence of the mirror server and a witness.</span></span> <span data-ttu-id="acfc0-242">O banco de dados já deve estar sincronizado e a testemunha deve estar conectada ao servidor espelho.</span><span class="sxs-lookup"><span data-stu-id="acfc0-242">The database must already be synchronized, and the witness must be connected to the mirror server.</span></span>  
  
     <span data-ttu-id="acfc0-243">A função da testemunha é verificar se um determinado servidor parceiro está instalado e funcionando.</span><span class="sxs-lookup"><span data-stu-id="acfc0-243">The role of the witness is to verify whether a given partner server is up and functioning.</span></span> <span data-ttu-id="acfc0-244">Se o servidor espelho perder a conexão com o servidor principal, mas a testemunha ainda estiver conectada, o servidor espelho não iniciará o failover.</span><span class="sxs-lookup"><span data-stu-id="acfc0-244">If the mirror server loses its connection to the principal server but the witness is still connected to the principal server, the mirror server does not initiate a failover.</span></span> <span data-ttu-id="acfc0-245">Para obter mais informações, veja [Testemunha de espelhamento de banco de dados](database-mirroring-witness.md).</span><span class="sxs-lookup"><span data-stu-id="acfc0-245">For more information, see [Database Mirroring Witness](database-mirroring-witness.md).</span></span>  
  
-   <span data-ttu-id="acfc0-246">*Failover manual*</span><span class="sxs-lookup"><span data-stu-id="acfc0-246">*Manual failover*</span></span>  
  
     <span data-ttu-id="acfc0-247">Requer modo de segurança alta.</span><span class="sxs-lookup"><span data-stu-id="acfc0-247">This requires high-safety mode.</span></span> <span data-ttu-id="acfc0-248">Os parceiros devem estar conectados entre si e o banco de dados já deve estar sincronizado.</span><span class="sxs-lookup"><span data-stu-id="acfc0-248">The partners must be connected to each other, and the database must already be synchronized.</span></span>  
  
-   <span data-ttu-id="acfc0-249">*Serviço forçado* (com possível perda de dados)</span><span class="sxs-lookup"><span data-stu-id="acfc0-249">*Forced service* (with possible data loss)</span></span>  
  
     <span data-ttu-id="acfc0-250">Nos modos de alto desempenho e de segurança alta sem failover automático, é possível forçar o serviço se o servidor principal falhar e o servidor espelho estiver disponível.</span><span class="sxs-lookup"><span data-stu-id="acfc0-250">Under high-performance mode and high-safety mode without automatic failover, forcing service is possible if the principal server has failed and the mirror server is available.</span></span>  
  
    > [!IMPORTANT]  
    >  <span data-ttu-id="acfc0-251">O modo de alto desempenho destina-se a executar sem uma testemunha.</span><span class="sxs-lookup"><span data-stu-id="acfc0-251">High-performance mode is intended to run without a witness.</span></span> <span data-ttu-id="acfc0-252">Porém, se existir uma testemunha, forçar o serviço requer que a testemunha esteja conectada ao servidor espelho.</span><span class="sxs-lookup"><span data-stu-id="acfc0-252">But if a witness exists, forcing service requires that the witness is connected to the mirror server.</span></span>  
  
 <span data-ttu-id="acfc0-253">Em qualquer cenário de troca de função, assim que o novo banco de dados principal estiver online, para recuperar rapidamente os aplicativos cliente, reconecte-os ao banco de dados.</span><span class="sxs-lookup"><span data-stu-id="acfc0-253">In any role-switching scenario, as soon as the new principal database comes online, the client applications can recover quickly by reconnecting to the database.</span></span>  
  
###  <a name="concurrent-sessions"></a><a name="ConcurrentSessions"></a> <span data-ttu-id="acfc0-254">Sessões simultâneas</span><span class="sxs-lookup"><span data-stu-id="acfc0-254">Concurrent Sessions</span></span>  
 <span data-ttu-id="acfc0-255">Uma determinada instância do servidor pode participar de várias sessões de espelhamento de banco de dados simultâneas (uma para cada banco de dados espelho) com as mesmas ou diferentes instâncias do servidor.</span><span class="sxs-lookup"><span data-stu-id="acfc0-255">A given server instance can participate in multiple, concurrent database mirroring sessions (once per mirrored database) with the same or different server instances.</span></span> <span data-ttu-id="acfc0-256">Frequentemente, uma instância do servidor atua exclusivamente como um parceiro ou uma testemunha em todo o processo das sessões de espelhamento de banco de dados.</span><span class="sxs-lookup"><span data-stu-id="acfc0-256">Often, a server instance serves exclusively as a partner or a witness in all of its database mirroring sessions.</span></span> <span data-ttu-id="acfc0-257">Porém, como cada sessão é independente das demais, uma instância do servidor pode agir como um parceiro em algumas sessões e uma testemunha em outras.</span><span class="sxs-lookup"><span data-stu-id="acfc0-257">However, because each session is independent of the other sessions, a server instance can act as a partner in some sessions and as a witness in other sessions.</span></span> <span data-ttu-id="acfc0-258">Por exemplo, considere as quatro sessões a seguir entre três instâncias de servidor (`SSInstance_1`, `SSInstance_2`e `SSInstance_3`).</span><span class="sxs-lookup"><span data-stu-id="acfc0-258">For example, consider the following four sessions among three server instances (`SSInstance_1`, `SSInstance_2`, and `SSInstance_3`).</span></span> <span data-ttu-id="acfc0-259">Cada instância do servidor atua como parceiro em algumas sessões e como testemunha em outras.</span><span class="sxs-lookup"><span data-stu-id="acfc0-259">Each server instance serves as a partner in some sessions and as a witness in others:</span></span>  
  
|<span data-ttu-id="acfc0-260">Instância de servidor</span><span class="sxs-lookup"><span data-stu-id="acfc0-260">Server instance</span></span>|<span data-ttu-id="acfc0-261">Sessão para banco de dados A</span><span class="sxs-lookup"><span data-stu-id="acfc0-261">Session for database A</span></span>|<span data-ttu-id="acfc0-262">Sessão para banco de dados B</span><span class="sxs-lookup"><span data-stu-id="acfc0-262">Session for database B</span></span>|<span data-ttu-id="acfc0-263">Sessão para banco de dados C</span><span class="sxs-lookup"><span data-stu-id="acfc0-263">Session for database C</span></span>|<span data-ttu-id="acfc0-264">Sessão para banco de dados D</span><span class="sxs-lookup"><span data-stu-id="acfc0-264">Session for database D</span></span>|  
|---------------------|----------------------------|----------------------------|----------------------------|----------------------------|  
|`SSInstance_1`|<span data-ttu-id="acfc0-265">Witness (testemunha)</span><span class="sxs-lookup"><span data-stu-id="acfc0-265">Witness</span></span>|<span data-ttu-id="acfc0-266">Partner (parceiro)</span><span class="sxs-lookup"><span data-stu-id="acfc0-266">Partner</span></span>|<span data-ttu-id="acfc0-267">Partner (parceiro)</span><span class="sxs-lookup"><span data-stu-id="acfc0-267">Partner</span></span>|<span data-ttu-id="acfc0-268">Partner (parceiro)</span><span class="sxs-lookup"><span data-stu-id="acfc0-268">Partner</span></span>|  
|`SSInstance_2`|<span data-ttu-id="acfc0-269">Partner (parceiro)</span><span class="sxs-lookup"><span data-stu-id="acfc0-269">Partner</span></span>|<span data-ttu-id="acfc0-270">Witness (testemunha)</span><span class="sxs-lookup"><span data-stu-id="acfc0-270">Witness</span></span>|<span data-ttu-id="acfc0-271">Partner (parceiro)</span><span class="sxs-lookup"><span data-stu-id="acfc0-271">Partner</span></span>|<span data-ttu-id="acfc0-272">Partner (parceiro)</span><span class="sxs-lookup"><span data-stu-id="acfc0-272">Partner</span></span>|  
|`SSInstance_3`|<span data-ttu-id="acfc0-273">Partner (parceiro)</span><span class="sxs-lookup"><span data-stu-id="acfc0-273">Partner</span></span>|<span data-ttu-id="acfc0-274">Partner (parceiro)</span><span class="sxs-lookup"><span data-stu-id="acfc0-274">Partner</span></span>|<span data-ttu-id="acfc0-275">Witness (testemunha)</span><span class="sxs-lookup"><span data-stu-id="acfc0-275">Witness</span></span>|<span data-ttu-id="acfc0-276">Witness (testemunha)</span><span class="sxs-lookup"><span data-stu-id="acfc0-276">Witness</span></span>|  
  
 <span data-ttu-id="acfc0-277">A figura a seguir ilustra duas instâncias de servidor que estão participando como parceiros de duas sessões de espelhamento.</span><span class="sxs-lookup"><span data-stu-id="acfc0-277">The following figure illustrates two server instances that are participating as partners together in two mirroring sessions.</span></span> <span data-ttu-id="acfc0-278">Uma sessão destina-se a um banco de dados chamado **Db_1**e a outra, a um banco de dados chamado **Db_2**.</span><span class="sxs-lookup"><span data-stu-id="acfc0-278">One session is for a database named **Db_1**, and the other session is for a database named **Db_2**.</span></span>  
  
 <span data-ttu-id="acfc0-279">![Duas instâncias de servidor em duas sessões simultâneas](../media/dbm-concurrent-sessions.gif "Duas instâncias de servidor em duas sessões simultâneas")</span><span class="sxs-lookup"><span data-stu-id="acfc0-279">![Two server instances in two concurrent sessions](../media/dbm-concurrent-sessions.gif "Two server instances in two concurrent sessions")</span></span>  
  
 <span data-ttu-id="acfc0-280">Cada um dos bancos de dados é independente dos outros.</span><span class="sxs-lookup"><span data-stu-id="acfc0-280">Each of the databases is independent of the others.</span></span> <span data-ttu-id="acfc0-281">Por exemplo, uma instância de servidor poderia ser, inicialmente, o servidor espelho para dois bancos de dados.</span><span class="sxs-lookup"><span data-stu-id="acfc0-281">For example, a server instance might initially be the mirror server for two databases.</span></span> <span data-ttu-id="acfc0-282">Se um dos bancos de dados falhar, a instância de servidor torna-se o servidor principal para o banco de dados com falha enquanto que o servidor espelho será para o outro banco de dados.</span><span class="sxs-lookup"><span data-stu-id="acfc0-282">If one of those databases fails over, the server instance becomes the principal server for the failed-over database while remaining the mirror server for the other database.</span></span>  
  
 <span data-ttu-id="acfc0-283">Em outro exemplo, considere uma instância de servidor como servidor principal para dois ou mais bancos de dados que estão sendo executados em modo de alta segurança, com failover automático. Se a instância do servidor falhar, todos os bancos de dados ativarão automaticamente o failover nos seus respectivos bancos de dados espelho.</span><span class="sxs-lookup"><span data-stu-id="acfc0-283">As another example, consider a server instance that is the principal server for two or more databases running in high-safety mode with automatic failover, If the server instance fails, all of the databases automatically failover to their respective mirror databases.</span></span>  
  
 <span data-ttu-id="acfc0-284">Ao configurar a instância de um servidor para operar como parceiro e como testemunha, verifique se o ponto de extremidade do espelhamento de banco de dados dá suporte às duas funções (para obter mais informações, veja [O ponto de extremidade de espelhamento de banco de dados &#40;SQL Server&#41;](the-database-mirroring-endpoint-sql-server.md)).</span><span class="sxs-lookup"><span data-stu-id="acfc0-284">When setting up a server instance to operate both as a partner and a witness, be sure that the database mirroring endpoint supports both roles (for more information, see [The Database Mirroring Endpoint &#40;SQL Server&#41;](the-database-mirroring-endpoint-sql-server.md)).</span></span> <span data-ttu-id="acfc0-285">Assegure-se também de que o sistema tenha recursos suficientes para reduzir contenção de recurso.</span><span class="sxs-lookup"><span data-stu-id="acfc0-285">Also, ensure that the system has sufficient resources to reduce resource contention.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="acfc0-286">Como os bancos de dados espelhados são independentes, eles não podem realizar failover em grupo.</span><span class="sxs-lookup"><span data-stu-id="acfc0-286">Because mirrored databases are independent of each other, databases cannot fail over as a group.</span></span>  
  
###  <a name="client-connections"></a><a name="ClientConnections"></a> <span data-ttu-id="acfc0-287">Conexões cliente</span><span class="sxs-lookup"><span data-stu-id="acfc0-287">Client Connections</span></span>  
 <span data-ttu-id="acfc0-288">O suporte à conexão de cliente para sessões de espelhamento de banco de dados é fornecido pelo [!INCLUDE[msCoName](../../includes/msconame-md.md)] .NET Data Provider for [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="acfc0-288">Client-connection support for database mirroring sessions is provided by the [!INCLUDE[msCoName](../../includes/msconame-md.md)] .NET Data Provider for [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="acfc0-289">Para obter mais informações, consulte [Conectar clientes a uma sessão de espelhamento de banco de dados &#40;SQL Server&#41;](connect-clients-to-a-database-mirroring-session-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="acfc0-289">For more information, see [Connect Clients to a Database Mirroring Session &#40;SQL Server&#41;](connect-clients-to-a-database-mirroring-session-sql-server.md).</span></span>  
  
###  <a name="impact-of-pausing-a-session-on-the-principal-transaction-log"></a><a name="ImpactOfPausing"></a> <span data-ttu-id="acfc0-290">Impacto ao pausar uma sessão no log de transações principal</span><span class="sxs-lookup"><span data-stu-id="acfc0-290">Impact of Pausing a Session on the Principal Transaction Log</span></span>  
 <span data-ttu-id="acfc0-291">O proprietário de banco de dados pode pausar uma sessão a qualquer momento.</span><span class="sxs-lookup"><span data-stu-id="acfc0-291">At any time, the database owner can pause a session.</span></span> <span data-ttu-id="acfc0-292">Ao fazer a pausa, preserva-se o estado da sessão enquanto durante a remoção do espelhamento.</span><span class="sxs-lookup"><span data-stu-id="acfc0-292">Pausing preserves the session state while removing mirroring.</span></span> <span data-ttu-id="acfc0-293">Quando uma sessão é pausada, o servidor principal não envia nenhum log novo registrado ao servidor espelho.</span><span class="sxs-lookup"><span data-stu-id="acfc0-293">When a session is paused, the principal server does not send any new log records to the mirror server.</span></span> <span data-ttu-id="acfc0-294">Todos esses registros permanecem ativos e são acumulados no log de transações do banco de dados principal.</span><span class="sxs-lookup"><span data-stu-id="acfc0-294">All of these records remain active and accumulate in the transaction log of the principal database.</span></span> <span data-ttu-id="acfc0-295">Desde que uma sessão de espelhamento de banco de dados permaneça pausada, o log de transações não poderá ser truncado.</span><span class="sxs-lookup"><span data-stu-id="acfc0-295">As long as a database mirroring session remains paused, the transaction log cannot be truncated.</span></span> <span data-ttu-id="acfc0-296">No entanto, se a sessão de espelhamento de banco de dados permanecer pausada por muito tempo, o log poderá ser preenchido.</span><span class="sxs-lookup"><span data-stu-id="acfc0-296">Therefore, if the database mirroring session is paused for too long, the log can fill up.</span></span>  
  
 <span data-ttu-id="acfc0-297">Para obter mais informações, consulte [Pausando e retomando o espelhamento de banco de dados &#40;SQL Server&#41;](database-mirroring-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="acfc0-297">For more information, see [Pausing and Resuming Database Mirroring &#40;SQL Server&#41;](database-mirroring-sql-server.md).</span></span>  
  
##  <a name="setting-up-database-mirroring-session"></a><a name="SettingUpDbmSession"></a> <span data-ttu-id="acfc0-298">Configurando uma sessão de espelhamento de banco de dados</span><span class="sxs-lookup"><span data-stu-id="acfc0-298">Setting Up Database Mirroring Session</span></span>  
 <span data-ttu-id="acfc0-299">Antes de uma sessão de espelhamento ser iniciada, o proprietário do banco de dados ou o administrador do sistema deverá criar o banco de dados espelho, estabelecer os pontos de extremidades e logons e, em alguns casos, criar e configurar certificados.</span><span class="sxs-lookup"><span data-stu-id="acfc0-299">Before a mirroring session can begin, the database owner or system administrator must create the mirror database, set up endpoints and logins, and, in some cases, create and set up certificates.</span></span> <span data-ttu-id="acfc0-300">Para obter mais informações, consulte [Configurando o espelhamento de banco de dados &#40;SQL Server&#41;](setting-up-database-mirroring-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="acfc0-300">For more information, see [Setting Up Database Mirroring &#40;SQL Server&#41;](setting-up-database-mirroring-sql-server.md).</span></span>  
  
##  <a name="interoperability-and-coexistence-with-other-database-engine-features"></a><a name="InterOp"></a> <span data-ttu-id="acfc0-301">Interoperabilidade e coexistência com outros recursos de mecanismo de banco de dados</span><span class="sxs-lookup"><span data-stu-id="acfc0-301">Interoperability and Coexistence with Other Database Engine Features</span></span>  
 <span data-ttu-id="acfc0-302">O espelhamento de banco de dados pode ser usado com os recursos ou componentes do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]a seguir.</span><span class="sxs-lookup"><span data-stu-id="acfc0-302">Database mirroring can be used with the following features or components of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span>  
  
-   [<span data-ttu-id="acfc0-303">Envio de logs</span><span class="sxs-lookup"><span data-stu-id="acfc0-303">Log shipping</span></span>](database-mirroring-and-log-shipping-sql-server.md)  
  
-   [<span data-ttu-id="acfc0-304">Catálogos de texto completo</span><span class="sxs-lookup"><span data-stu-id="acfc0-304">Full-text catalogs</span></span>](database-mirroring-and-full-text-catalogs-sql-server.md)  
  
-   [<span data-ttu-id="acfc0-305">Instantâneos de banco de dados</span><span class="sxs-lookup"><span data-stu-id="acfc0-305">Database snapshots</span></span>](../../relational-databases/databases/database-snapshots-sql-server.md)  
  
-   [<span data-ttu-id="acfc0-306">Replicação</span><span class="sxs-lookup"><span data-stu-id="acfc0-306">Replication</span></span>](database-mirroring-and-replication-sql-server.md)  
  
##  <a name="in-this-section"></a><a name="InThisSection"></a> <span data-ttu-id="acfc0-307">Nesta seção</span><span class="sxs-lookup"><span data-stu-id="acfc0-307">In This Section</span></span>  
 [<span data-ttu-id="acfc0-308">Pré-requisitos, restrições e recomendações para espelhamento de banco de dados</span><span class="sxs-lookup"><span data-stu-id="acfc0-308">Prerequisites, Restrictions, and Recommendations for Database Mirroring</span></span>](prerequisites-restrictions-and-recommendations-for-database-mirroring.md)  
 <span data-ttu-id="acfc0-309">Descreve os pré-requisitos e as recomendações para configuração do espelhamento de banco de dados.</span><span class="sxs-lookup"><span data-stu-id="acfc0-309">Describes the prerequisites and recommendations for setting up database mirroring.</span></span>  
  
 [<span data-ttu-id="acfc0-310">Modos de operação de espelhamento de banco de dados</span><span class="sxs-lookup"><span data-stu-id="acfc0-310">Database Mirroring Operating Modes</span></span>](database-mirroring-operating-modes.md)  
 <span data-ttu-id="acfc0-311">Contém informações sobre os modos de operação síncronos e assíncronos de sessões de espelhamento de banco de dados, e sobre como alternar funções de parceiros durante uma sessão de espelhamento de banco de dados.</span><span class="sxs-lookup"><span data-stu-id="acfc0-311">Contains information about the synchronous and asynchronous operating modes for database mirroring sessions, and about switching partner roles during a database mirroring session.</span></span>  
  
 [<span data-ttu-id="acfc0-312">Testemunha de espelhamento de banco de dados</span><span class="sxs-lookup"><span data-stu-id="acfc0-312">Database Mirroring Witness</span></span>](database-mirroring-witness.md)  
 <span data-ttu-id="acfc0-313">Descreve a função de uma testemunha no espelhamento de banco de dados, como usar uma única testemunha em várias sessões de espelhamento, recomendações de software e hardware para testemunhas e a função da testemunha no failover automático.</span><span class="sxs-lookup"><span data-stu-id="acfc0-313">Describes the role of a witness in database mirroring, how to use a single witness in multiple mirroring sessions, software and hardware recommendations for witnesses, and the role of the witness in automatic failover.</span></span> <span data-ttu-id="acfc0-314">Também contém informações sobre como adicionar ou remover uma testemunha.</span><span class="sxs-lookup"><span data-stu-id="acfc0-314">It also contains information about adding or removing a witness.</span></span>  
  
 [<span data-ttu-id="acfc0-315">Troca de função durante uma sessão de espelhamento de banco de dados &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="acfc0-315">Role Switching During a Database Mirroring Session &#40;SQL Server&#41;</span></span>](role-switching-during-a-database-mirroring-session-sql-server.md)  
 <span data-ttu-id="acfc0-316">Contém informações sobre como alternar funções de parceiros durante uma sessão de espelhamento de banco de dados, inclusive failover automático, failover manual e serviço forçado (com possível perda de dados).</span><span class="sxs-lookup"><span data-stu-id="acfc0-316">Contains information about switching partner roles during a database mirroring session, including automatic failover, manual failover, and forced service (with possible data loss).</span></span> <span data-ttu-id="acfc0-317">Além disso, contém informações sobre como estimar a interrupção de serviço durante a troca de função.</span><span class="sxs-lookup"><span data-stu-id="acfc0-317">Also, contains information about estimating the interruption of service during role switching.</span></span>  
  
 [<span data-ttu-id="acfc0-318">Possíveis falhas durante espelhamento de banco de dados</span><span class="sxs-lookup"><span data-stu-id="acfc0-318">Possible Failures During Database Mirroring</span></span>](possible-failures-during-database-mirroring.md)  
 <span data-ttu-id="acfc0-319">Aborda problemas físicos, de sistema operacional e do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , incluindo erros de hardware e software, que podem causar uma falha em uma sessão de espelhamento de banco de dados.</span><span class="sxs-lookup"><span data-stu-id="acfc0-319">Discusses physical, operating system, and [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] problems, including hard errors and soft errors, that can cause a failure in a database mirroring session.</span></span> <span data-ttu-id="acfc0-320">Aborda como o mecanismo de tempo limite de espelhamento responde a erros de software.</span><span class="sxs-lookup"><span data-stu-id="acfc0-320">Discusses how the mirroring time-out mechanism responds to soft errors.</span></span>  
  
 [<span data-ttu-id="acfc0-321">O ponto de extremidade de espelhamento de banco de dados &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="acfc0-321">The Database Mirroring Endpoint &#40;SQL Server&#41;</span></span>](the-database-mirroring-endpoint-sql-server.md)  
 <span data-ttu-id="acfc0-322">Discute como funciona o ponto de extremidade do espelhamento de banco de dados.</span><span class="sxs-lookup"><span data-stu-id="acfc0-322">Discusses how the database mirroring endpoint functions.</span></span>  
  
 [<span data-ttu-id="acfc0-323">Configurando o espelhamento de banco de dados &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="acfc0-323">Setting Up Database Mirroring &#40;SQL Server&#41;</span></span>](setting-up-database-mirroring-sql-server.md)  
 <span data-ttu-id="acfc0-324">Contém tópicos sobre os pré-requisitos, recomendações e etapas de configuração do espelhamento de banco de dados.</span><span class="sxs-lookup"><span data-stu-id="acfc0-324">Contains topics about the prerequisites, recommendations, and steps for setting up database mirroring.</span></span>  
  
 [<span data-ttu-id="acfc0-325">Conectar clientes a uma sessão de espelhamento de banco de dados &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="acfc0-325">Connect Clients to a Database Mirroring Session &#40;SQL Server&#41;</span></span>](connect-clients-to-a-database-mirroring-session-sql-server.md)  
 <span data-ttu-id="acfc0-326">Contém tópicos que abrangem os atributos de cadeia de conexão de cliente e os algoritmos para conectar e reconectar um cliente a um banco de dados espelho.</span><span class="sxs-lookup"><span data-stu-id="acfc0-326">Contains topics covering client connection-string attributes and the algorithms for connecting and reconnecting a client to a mirrored database.</span></span>  
  
 [<span data-ttu-id="acfc0-327">Pausando e retomando o espelhamento de banco de dados &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="acfc0-327">Pausing and Resuming Database Mirroring &#40;SQL Server&#41;</span></span>](database-mirroring-sql-server.md)  
 <span data-ttu-id="acfc0-328">Discute o que acontece enquanto o espelhamento de banco de dados é pausado, inclusive o impacto no truncamento de log de transações e contém descrições sobre como pausar e retomar o espelhamento de banco de dados.</span><span class="sxs-lookup"><span data-stu-id="acfc0-328">Discusses what happens while database mirroring is paused, including the impact on transaction log truncation, and contains descriptions about how to pause and resume database mirroring.</span></span>  
  
 [<span data-ttu-id="acfc0-329">Removendo o espelhamento de banco de dados &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="acfc0-329">Removing Database Mirroring &#40;SQL Server&#41;</span></span>](removing-database-mirroring-sql-server.md)  
 <span data-ttu-id="acfc0-330">Discute o impacto da remoção do espelhamento e contém descrições sobre como terminar uma sessão</span><span class="sxs-lookup"><span data-stu-id="acfc0-330">Discusses the impact of removing mirroring and contains descriptions about how to end a session</span></span>  
  
 [<span data-ttu-id="acfc0-331">Monitorando o espelhamento de banco de dados &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="acfc0-331">Monitoring Database Mirroring &#40;SQL Server&#41;</span></span>](monitoring-database-mirroring-sql-server.md)  
 <span data-ttu-id="acfc0-332">Contém informações sobre como usar o Monitor de Espelhamento de Banco de Dados ou os procedimentos armazenados **dbmmonitor** para monitorar o espelhamento ou as sessões do banco de dados.</span><span class="sxs-lookup"><span data-stu-id="acfc0-332">Contains information about using Database Mirroring Monitor or the **dbmmonitor** stored procedures to monitor database mirroring or sessions.</span></span>  
  
##  <a name="related-tasks"></a><a name="RelatedTasks"></a> <span data-ttu-id="acfc0-333">Tarefas relacionadas</span><span class="sxs-lookup"><span data-stu-id="acfc0-333">Related Tasks</span></span>  
  
### <a name="configuration-tasks"></a><span data-ttu-id="acfc0-334">Tarefas de configuração</span><span class="sxs-lookup"><span data-stu-id="acfc0-334">Configuration Tasks</span></span>  
 <span data-ttu-id="acfc0-335">**Usando o SQL Server Management Studio**</span><span class="sxs-lookup"><span data-stu-id="acfc0-335">**Using SQL Server Management Studio**</span></span>  
  
-   [<span data-ttu-id="acfc0-336">Iniciar o Assistente para Configurar Segurança de Espelhamento de Banco de Dados &#40;SQL Server Management Studio&#41;</span><span class="sxs-lookup"><span data-stu-id="acfc0-336">Start the Configuring Database Mirroring Security Wizard &#40;SQL Server Management Studio&#41;</span></span>](start-the-configuring-database-mirroring-security-wizard.md)  
  
-   [<span data-ttu-id="acfc0-337">Estabelecer uma sessão de espelhamento de banco de dados usando a Autenticação do Windows &#40;SQL Server Management Studio&#41;</span><span class="sxs-lookup"><span data-stu-id="acfc0-337">Establish a Database Mirroring Session Using Windows Authentication &#40;SQL Server Management Studio&#41;</span></span>](establish-database-mirroring-session-windows-authentication.md)  
  
 <span data-ttu-id="acfc0-338">**Usando Transact-SQL**</span><span class="sxs-lookup"><span data-stu-id="acfc0-338">**Using Transact-SQL**</span></span>  
  
-   [<span data-ttu-id="acfc0-339">Permitir o acesso à rede a um ponto de extremidade de espelhamento de banco de dados usando a Autenticação do Windows &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="acfc0-339">Allow Network Access to a Database Mirroring Endpoint Using Windows Authentication &#40;SQL Server&#41;</span></span>](../database-mirroring-allow-network-access-windows-authentication.md)  
  
-   [<span data-ttu-id="acfc0-340">Permitir que um ponto de extremidade de espelhamento de banco de dados use certificados para conexões de saída &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="acfc0-340">Allow a Database Mirroring Endpoint to Use Certificates for Outbound Connections &#40;Transact-SQL&#41;</span></span>](database-mirroring-use-certificates-for-outbound-connections.md)  
  
-   [<span data-ttu-id="acfc0-341">Permitir que um ponto de extremidade de espelhamento de banco de dados use certificados para conexões de entrada &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="acfc0-341">Allow a Database Mirroring Endpoint to Use Certificates for Inbound Connections &#40;Transact-SQL&#41;</span></span>](database-mirroring-use-certificates-for-inbound-connections.md)  
  
-   [<span data-ttu-id="acfc0-342">Criar um ponto de extremidade de espelhamento de banco de dados para a Autenticação do Windows &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="acfc0-342">Create a Database Mirroring Endpoint for Windows Authentication &#40;Transact-SQL&#41;</span></span>](create-a-database-mirroring-endpoint-for-windows-authentication-transact-sql.md)  
  
-   [<span data-ttu-id="acfc0-343">Estabelecer uma sessão de espelhamento de banco de dados com a Autenticação do Windows &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="acfc0-343">Establish a Database Mirroring Session Using Windows Authentication &#40;Transact-SQL&#41;</span></span>](database-mirroring-establish-session-windows-authentication.md)  
  
-   [<span data-ttu-id="acfc0-344">Adicionar uma testemunha de espelhamento de banco de dados usando a Autenticação do Windows &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="acfc0-344">Add a Database Mirroring Witness Using Windows Authentication &#40;Transact-SQL&#41;</span></span>](add-a-database-mirroring-witness-using-windows-authentication-transact-sql.md)  
  
-   [<span data-ttu-id="acfc0-345">Configurar um banco de dados espelho para usar a propriedade confiável &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="acfc0-345">Set Up a Mirror Database to Use the Trustworthy Property &#40;Transact-SQL&#41;</span></span>](set-up-a-mirror-database-to-use-the-trustworthy-property-transact-sql.md)  
  
 <span data-ttu-id="acfc0-346">**Usando Transact-SQL ou SQL Server Management Studio**</span><span class="sxs-lookup"><span data-stu-id="acfc0-346">**Using Transact-SQL or SQL Server Management Studio**</span></span>  
  
-   [<span data-ttu-id="acfc0-347">Minimizar o tempo de inatividade de bancos de dados espelhados ao atualizar instâncias do servidor</span><span class="sxs-lookup"><span data-stu-id="acfc0-347">Minimize Downtime for Mirrored Databases When Upgrading Server Instances</span></span>](upgrading-mirrored-instances.md)  
  
-   [<span data-ttu-id="acfc0-348">Preparar um banco de dados espelho para espelhamento &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="acfc0-348">Prepare a Mirror Database for Mirroring &#40;SQL Server&#41;</span></span>](prepare-a-mirror-database-for-mirroring-sql-server.md)  
  
### <a name="administrative-tasks"></a><span data-ttu-id="acfc0-349">Tarefas administrativas</span><span class="sxs-lookup"><span data-stu-id="acfc0-349">Administrative Tasks</span></span>  
 <span data-ttu-id="acfc0-350">**Transact-SQL**</span><span class="sxs-lookup"><span data-stu-id="acfc0-350">**Transact-SQL**</span></span>  
  
-   [<span data-ttu-id="acfc0-351">Alterar a segurança da transação em uma sessão de espelhamento de banco de dados &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="acfc0-351">Change Transaction Safety in a Database Mirroring Session &#40;Transact-SQL&#41;</span></span>](change-transaction-safety-in-a-database-mirroring-session-transact-sql.md)  
  
-   [<span data-ttu-id="acfc0-352">Executar failover manualmente em uma sessão de espelhamento de banco de dados &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="acfc0-352">Manually Fail Over a Database Mirroring Session &#40;Transact-SQL&#41;</span></span>](manually-fail-over-a-database-mirroring-session-transact-sql.md)  
  
-   [<span data-ttu-id="acfc0-353">Forçar serviço em uma sessão de espelhamento de banco de dados &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="acfc0-353">Force Service in a Database Mirroring Session &#40;Transact-SQL&#41;</span></span>](force-service-in-a-database-mirroring-session-transact-sql.md)  
  
-   [<span data-ttu-id="acfc0-354">Pausar ou retomar uma sessão de espelhamento de banco de dados &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="acfc0-354">Pause or Resume a Database Mirroring Session &#40;SQL Server&#41;</span></span>](pause-or-resume-a-database-mirroring-session-sql-server.md)  
  
-   [<span data-ttu-id="acfc0-355">Remover a testemunha de uma sessão de espelhamento de banco de dados &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="acfc0-355">Remove the Witness from a Database Mirroring Session &#40;SQL Server&#41;</span></span>](remove-the-witness-from-a-database-mirroring-session-sql-server.md)  
  
-   [<span data-ttu-id="acfc0-356">Remover o espelhamento de banco de dados &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="acfc0-356">Remove Database Mirroring &#40;SQL Server&#41;</span></span>](remove-database-mirroring-sql-server.md)  
  
 <span data-ttu-id="acfc0-357">**SQL Server Management Studio**</span><span class="sxs-lookup"><span data-stu-id="acfc0-357">**SQL Server Management Studio**</span></span>  
  
-   [<span data-ttu-id="acfc0-358">Adicionar ou substituir uma testemunha de espelhamento de banco de dados &#40;SQL Server Management Studio&#41;</span><span class="sxs-lookup"><span data-stu-id="acfc0-358">Add or Replace a Database Mirroring Witness &#40;SQL Server Management Studio&#41;</span></span>](../database-mirroring/add-or-replace-a-database-mirroring-witness-sql-server-management-studio.md)  
  
-   [<span data-ttu-id="acfc0-359">Executar failover manualmente de uma sessão de espelhamento de banco de dados &#40;SQL Server Management Studio&#41;</span><span class="sxs-lookup"><span data-stu-id="acfc0-359">Manually Fail Over a Database Mirroring Session &#40;SQL Server Management Studio&#41;</span></span>](manually-fail-over-a-database-mirroring-session-sql-server-management-studio.md)  
  
-   [<span data-ttu-id="acfc0-360">Pausar ou retomar uma sessão de espelhamento de banco de dados &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="acfc0-360">Pause or Resume a Database Mirroring Session &#40;SQL Server&#41;</span></span>](pause-or-resume-a-database-mirroring-session-sql-server.md)  
  
-   [<span data-ttu-id="acfc0-361">Remover a testemunha de uma sessão de espelhamento de banco de dados &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="acfc0-361">Remove the Witness from a Database Mirroring Session &#40;SQL Server&#41;</span></span>](remove-the-witness-from-a-database-mirroring-session-sql-server.md)  
  
-   [<span data-ttu-id="acfc0-362">Remover o espelhamento de banco de dados &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="acfc0-362">Remove Database Mirroring &#40;SQL Server&#41;</span></span>](remove-database-mirroring-sql-server.md)  
  
## <a name="see-also"></a><span data-ttu-id="acfc0-363">Consulte Também</span><span class="sxs-lookup"><span data-stu-id="acfc0-363">See Also</span></span>  
 <span data-ttu-id="acfc0-364">[O ponto de extremidade de espelhamento de banco de dados &#40;SQL Server&#41;](the-database-mirroring-endpoint-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="acfc0-364">[The Database Mirroring Endpoint &#40;SQL Server&#41;](the-database-mirroring-endpoint-sql-server.md) </span></span>  
 <span data-ttu-id="acfc0-365">[&#40;de reparo automático de página para grupos de disponibilidade e espelhamento de banco de dados&#41;](../../sql-server/failover-clusters/automatic-page-repair-availability-groups-database-mirroring.md) </span><span class="sxs-lookup"><span data-stu-id="acfc0-365">[Automatic Page Repair &#40;For Availability Groups and Database Mirroring&#41;](../../sql-server/failover-clusters/automatic-page-repair-availability-groups-database-mirroring.md) </span></span>  
 <span data-ttu-id="acfc0-366">[Solução de problemas de configuração de espelhamento de banco de dados &#40;SQL Server&#41;](troubleshoot-database-mirroring-configuration-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="acfc0-366">[Troubleshoot Database Mirroring Configuration &#40;SQL Server&#41;](troubleshoot-database-mirroring-configuration-sql-server.md) </span></span>  
 <span data-ttu-id="acfc0-367">[Espelhamento de banco de dados: Interoperabilidade e Coexistência &#40;SQL Server&#41;](database-mirroring-interoperability-and-coexistence-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="acfc0-367">[Database Mirroring: Interoperability and Coexistence &#40;SQL Server&#41;](database-mirroring-interoperability-and-coexistence-sql-server.md) </span></span>  
 <span data-ttu-id="acfc0-368">[Pré-requisitos, restrições e recomendações para espelhamento de banco de dados](prerequisites-restrictions-and-recommendations-for-database-mirroring.md) </span><span class="sxs-lookup"><span data-stu-id="acfc0-368">[Prerequisites, Restrictions, and Recommendations for Database Mirroring](prerequisites-restrictions-and-recommendations-for-database-mirroring.md) </span></span>  
 <span data-ttu-id="acfc0-369">[Visão geral do Grupos de Disponibilidade AlwaysOn &#40;SQL Server&#41;](../availability-groups/windows/overview-of-always-on-availability-groups-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="acfc0-369">[Overview of AlwaysOn Availability Groups &#40;SQL Server&#41;](../availability-groups/windows/overview-of-always-on-availability-groups-sql-server.md) </span></span>  
 [<span data-ttu-id="acfc0-370">Sobre o envio de logs &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="acfc0-370">About Log Shipping &#40;SQL Server&#41;</span></span>](../log-shipping/about-log-shipping-sql-server.md)  
  
  
