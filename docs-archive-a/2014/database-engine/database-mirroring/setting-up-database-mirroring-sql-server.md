---
title: Configurando o espelhamento de banco de dados (SQL Server) | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: high-availability
ms.topic: conceptual
helpviewer_keywords:
- database mirroring [SQL Server], deployment
ms.assetid: da45efed-55eb-4c71-be34-ac2589dfce8d
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: 7e55e973ffbb888394d13578f21e08a08ae9d03c
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87574886"
---
# <a name="setting-up-database-mirroring-sql-server"></a><span data-ttu-id="05107-102">Configurando o espelhamento de banco de dados (SQL Server)</span><span class="sxs-lookup"><span data-stu-id="05107-102">Setting Up Database Mirroring (SQL Server)</span></span>
  <span data-ttu-id="05107-103">Esta seção descreve os pré-requisitos, as recomendações e as etapas para configuração do espelhamento de banco de dados.</span><span class="sxs-lookup"><span data-stu-id="05107-103">This section describes the prerequisites, recommendations, and steps for setting up database mirroring.</span></span> <span data-ttu-id="05107-104">Para obter uma introdução ao espelhamento de banco de dados, consulte [Espelhamento de banco de dados &#40;SQL Server&#41;](database-mirroring-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="05107-104">For an introduction to database mirroring, see [Database Mirroring &#40;SQL Server&#41;](database-mirroring-sql-server.md).</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="05107-105">É recomendável configurar um espelhamento de banco de dados fora do horário de pico, pois a configuração pode afetar o desempenho.</span><span class="sxs-lookup"><span data-stu-id="05107-105">We recommend that you configure database mirroring during off-peak hours because configuration can impact performance.</span></span>  
  
 
  
##  <a name="preparing-a-server-instance-to-host-a-mirror-server"></a><a name="PrepareInstances"></a> <span data-ttu-id="05107-106">Preparando uma instância de servidor para hospedar um servidor espelho</span><span class="sxs-lookup"><span data-stu-id="05107-106">Preparing a Server Instance to Host a Mirror Server</span></span>  
 <span data-ttu-id="05107-107">Para cada sessão de espelhamento de banco de dados:</span><span class="sxs-lookup"><span data-stu-id="05107-107">For each database mirroring session:</span></span>  
  
1.  <span data-ttu-id="05107-108">O servidor principal, o servidor espelho e o servidor testemunha, se houver, devem ser hospedadas por instâncias de servidor separadas que devem estar em sistemas host separados.</span><span class="sxs-lookup"><span data-stu-id="05107-108">The principal server, mirror server, and witness, if any, must be hosted by separate server instances, which should be on separate host systems.</span></span> <span data-ttu-id="05107-109">Cada instância de servidor exige um ponto de extremidade de espelhamento de banco de dados.</span><span class="sxs-lookup"><span data-stu-id="05107-109">Each of the server instances requires a database mirroring endpoint.</span></span> <span data-ttu-id="05107-110">Se você precisar criar um ponto de extremidade de espelhamento de banco de dados, verifique se está acessível a outras instâncias de servidor.</span><span class="sxs-lookup"><span data-stu-id="05107-110">If you need to create a database mirroring endpoint, ensure that it is accessible to the other server instances.</span></span>  
  
     <span data-ttu-id="05107-111">A forma de autenticação usada para o espelhamento de banco de dados por uma instância do servidor é uma propriedade do ponto de extremidade de espelhamento de banco de dados.</span><span class="sxs-lookup"><span data-stu-id="05107-111">The form of authentication used for database mirroring by a server instance is a property of its database mirroring endpoint.</span></span> <span data-ttu-id="05107-112">Dois tipos de segurança de transporte estão disponíveis para o espelhamento de banco de dados: Autenticação do Windows ou autenticação baseada em certificado.</span><span class="sxs-lookup"><span data-stu-id="05107-112">Two types of transport security are available for database mirroring: Windows Authentication or certificate-based authentication.</span></span> <span data-ttu-id="05107-113">Para obter mais informações, consulte [segurança de transporte para espelhamento de banco de dados e Grupos de Disponibilidade AlwaysOn &#40;SQL Server&#41;](transport-security-database-mirroring-always-on-availability.md).</span><span class="sxs-lookup"><span data-stu-id="05107-113">For more information, see [Transport Security for Database Mirroring and AlwaysOn Availability Groups &#40;SQL Server&#41;](transport-security-database-mirroring-always-on-availability.md).</span></span>  
  
     <span data-ttu-id="05107-114">Os requisitos de acesso à rede são específicos ao formulário de autenticação, da seguinte maneira:</span><span class="sxs-lookup"><span data-stu-id="05107-114">The requirements for network access are specific to the form of authentication, as follows:</span></span>  
  
    -   <span data-ttu-id="05107-115">**Se estiver usando a Autenticação do Windows**</span><span class="sxs-lookup"><span data-stu-id="05107-115">**If using Windows Authentication**</span></span>  
  
         <span data-ttu-id="05107-116">Se as instâncias de servidor estiverem sendo executadas em contas do usuário de domínio diferentes, cada uma exigirá um logon no banco de dados **mestre** dos outros.</span><span class="sxs-lookup"><span data-stu-id="05107-116">If server instances are running under different domain user accounts, each requires a login in the **master** database of the others.</span></span> <span data-ttu-id="05107-117">Se o logon não existir, você deve criá-lo.</span><span class="sxs-lookup"><span data-stu-id="05107-117">If the login does not exist, you must create it.</span></span> <span data-ttu-id="05107-118">Para obter mais informações, consulte [Permitir o acesso à rede a um ponto de extremidade de espelhamento de banco de dados usando a Autenticação do Windows &#40;SQL Server&#41;](../database-mirroring-allow-network-access-windows-authentication.md).</span><span class="sxs-lookup"><span data-stu-id="05107-118">For more information, see [Allow Network Access to a Database Mirroring Endpoint Using Windows Authentication &#40;SQL Server&#41;](../database-mirroring-allow-network-access-windows-authentication.md).</span></span>  
  
    -   <span data-ttu-id="05107-119">**Se estiver usando certificados**</span><span class="sxs-lookup"><span data-stu-id="05107-119">**If using certificates**</span></span>  
  
         <span data-ttu-id="05107-120">Para habilitar a autenticação de certificado para espelhamento de banco de dados em uma determinada instância do servidor, o administrador do sistema deve configurar cada instância do servidor para usar certificados nas conexões de saída e de entrada.</span><span class="sxs-lookup"><span data-stu-id="05107-120">To enable certificate authentication for database mirroring on a given server instance, the system administrator must configure each server instance to use certificates on both outbound and inbound connections.</span></span> <span data-ttu-id="05107-121">As conexões de saída devem ser configuradas primeiro.</span><span class="sxs-lookup"><span data-stu-id="05107-121">Outbound connections must be configured first.</span></span> <span data-ttu-id="05107-122">Para obter mais informações, consulte [Usar certificados para um ponto de extremidade de espelhamento de banco de dados &#40;Transact-SQL&#41;](use-certificates-for-a-database-mirroring-endpoint-transact-sql.md).</span><span class="sxs-lookup"><span data-stu-id="05107-122">For more information, see [Use Certificates for a Database Mirroring Endpoint &#40;Transact-SQL&#41;](use-certificates-for-a-database-mirroring-endpoint-transact-sql.md).</span></span>  
  
2.  <span data-ttu-id="05107-123">Verifique se existem logons no servidor espelho para todos os usuários do banco de dados.</span><span class="sxs-lookup"><span data-stu-id="05107-123">Make sure that logins exist on the mirror server for all the database users.</span></span> <span data-ttu-id="05107-124">Para obter mais informações, consulte [Configurar contas de logon para espelhamento de banco de dados ou Grupos de Disponibilidade AlwaysOn &#40;SQL Server&#41;](set-up-login-accounts-database-mirroring-always-on-availability.md).</span><span class="sxs-lookup"><span data-stu-id="05107-124">For more information, see [Set Up Login Accounts for Database Mirroring or AlwaysOn Availability Groups &#40;SQL Server&#41;](set-up-login-accounts-database-mirroring-always-on-availability.md).</span></span>  
  
3.  <span data-ttu-id="05107-125">Na instância de servidor que hospedará o banco de dados espelho, configure o restante do ambiente que é necessário para o banco de dados espelhado.</span><span class="sxs-lookup"><span data-stu-id="05107-125">On the server instance that will host the mirror database, set up the rest of the environment that is required for the mirrored database.</span></span> <span data-ttu-id="05107-126">Para obter mais informações, consulte [Gerenciar metadados ao disponibilizar um banco de dados em outra instância do servidor &#40;SQL Server&#41;](../../relational-databases/databases/manage-metadata-when-making-a-database-available-on-another-server.md).</span><span class="sxs-lookup"><span data-stu-id="05107-126">For more information, see [Manage Metadata When Making a Database Available on Another Server Instance &#40;SQL Server&#41;](../../relational-databases/databases/manage-metadata-when-making-a-database-available-on-another-server.md).</span></span>  
  
##  <a name="overview-establishing-a-database-mirroring-session"></a><a name="EstablishUsingWinAuthentication"></a> <span data-ttu-id="05107-127">Visão geral: estabelecer uma sessão de espelhamento de banco de dados</span><span class="sxs-lookup"><span data-stu-id="05107-127">Overview: Establishing a Database Mirroring Session</span></span>  
 <span data-ttu-id="05107-128">As etapas básicas para estabelecer uma sessão de espelhamento são as seguintes:</span><span class="sxs-lookup"><span data-stu-id="05107-128">The basic steps for establishing a mirroring session are as follows:</span></span>  
  
1.  <span data-ttu-id="05107-129">Crie o banco de dados espelho restaurando os seguintes backups, usando RESTORE WITH NORECOVERY em cada operação de restauração:</span><span class="sxs-lookup"><span data-stu-id="05107-129">Create the mirror database by restoring the following backups, using RESTORE WITH NORECOVERY on every restore operation:</span></span>  
  
    1.  <span data-ttu-id="05107-130">Restaure um backup completo recente do banco de dados principal, depois de ter certeza de que o banco de dados principal já estava usando o modelo de recuperação completa quando o backup foi realizado.</span><span class="sxs-lookup"><span data-stu-id="05107-130">Restore a recent full database backup of the principal database, after making sure that the principal database was already using the full recovery model when the backup was taken.</span></span> <span data-ttu-id="05107-131">O banco de dados espelho deve ter o mesmo nome que o banco de dados principal.</span><span class="sxs-lookup"><span data-stu-id="05107-131">The mirror database must have the same name as the principal database.</span></span>  
  
    2.  <span data-ttu-id="05107-132">Se você tiver feito qualquer backup diferencial do banco de dados desde o backup completo restaurado, restaure seu backup diferencial mais recente.</span><span class="sxs-lookup"><span data-stu-id="05107-132">If you have taken any differential backups of the database since the restored full backup, restore your most recent differential backup.</span></span>  
  
    3.  <span data-ttu-id="05107-133">Restaure todos os backups de log feitos desde o backup completo ou diferencial do banco de dados.</span><span class="sxs-lookup"><span data-stu-id="05107-133">Restore all the log backups done since the full or differential database backup.</span></span>  
  
     <span data-ttu-id="05107-134">Para obter mais informações, veja [Preparar um banco de dados espelho para espelhamento &#40;SQL Server&#41;](prepare-a-mirror-database-for-mirroring-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="05107-134">For more information, see [Prepare a Mirror Database for Mirroring &#40;SQL Server&#41;](prepare-a-mirror-database-for-mirroring-sql-server.md).</span></span>  
  
    > [!IMPORTANT]  
    >  <span data-ttu-id="05107-135">Conclua as etapas de configuração restantes o mais rápido possível depois de fazer o backup do banco de dados principal.</span><span class="sxs-lookup"><span data-stu-id="05107-135">Complete the remaining setup steps as soon as you can after taking the backup of the principal database.</span></span> <span data-ttu-id="05107-136">Antes de iniciar o espelhamento nos parceiros, você deve criar um backup do log atual no banco de dados original e restaurá-lo no futuro banco de dados espelho.</span><span class="sxs-lookup"><span data-stu-id="05107-136">Before you can start mirroring on the partners, you should create a current log backup on the original database and restore it to the future mirror database.</span></span>  
  
2.  <span data-ttu-id="05107-137">Você pode configurar usando [!INCLUDE[tsql](../../includes/tsql-md.md)] ou o Assistente de Espelhamento de Banco de Dados.</span><span class="sxs-lookup"><span data-stu-id="05107-137">You can set up mirroring by using either [!INCLUDE[tsql](../../includes/tsql-md.md)] or the Database Mirroring Wizard.</span></span> <span data-ttu-id="05107-138">Para obter mais informações, consulte um dos seguintes itens:</span><span class="sxs-lookup"><span data-stu-id="05107-138">For more information, see one of the following:</span></span>  
  
    -   [<span data-ttu-id="05107-139">Estabelecer uma sessão de espelhamento de banco de dados com a Autenticação do Windows &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="05107-139">Establish a Database Mirroring Session Using Windows Authentication &#40;Transact-SQL&#41;</span></span>](database-mirroring-establish-session-windows-authentication.md)  
  
    -   [<span data-ttu-id="05107-140">Estabelecer uma sessão de espelhamento de banco de dados usando a Autenticação do Windows &#40;SQL Server Management Studio&#41;</span><span class="sxs-lookup"><span data-stu-id="05107-140">Establish a Database Mirroring Session Using Windows Authentication &#40;SQL Server Management Studio&#41;</span></span>](establish-database-mirroring-session-windows-authentication.md)  
  
3.  <span data-ttu-id="05107-141">Por padrão, uma sessão é definida como segurança de transação completa (SAFETY é definido como FULL), que inicia a sessão no modo síncrono de segurança alta, sem failover automático.</span><span class="sxs-lookup"><span data-stu-id="05107-141">By default a session is set to full transaction safety (SAFETY is set to FULL), which starts the session in synchronous, high-safety mode without automatic failover.</span></span> <span data-ttu-id="05107-142">Você pode reconfigurar a sessão para ser executada em modo de segurança alta com failover automático ou em modo assíncrono de alto desempenho, como se segue:</span><span class="sxs-lookup"><span data-stu-id="05107-142">You can reconfigure the session to run in high-safety mode with automatic failover or in asynchronous, high-performance mode, as follows:</span></span>  
  
    -   <span data-ttu-id="05107-143">**Modo de segurança alta com failover automático**</span><span class="sxs-lookup"><span data-stu-id="05107-143">**High-safety mode with automatic failover**</span></span>  
  
         <span data-ttu-id="05107-144">Se você quiser que uma sessão de modo de segurança alta dê suporte a failover automático, acrescente uma instância do servidor testemunha.</span><span class="sxs-lookup"><span data-stu-id="05107-144">If you want a high-safety mode session to support automatic failover, add a witness server instance.</span></span>  
  
         <span data-ttu-id="05107-145">**Para adicionar uma testemunha**</span><span class="sxs-lookup"><span data-stu-id="05107-145">**To add a witness**</span></span>  
  
        -   [<span data-ttu-id="05107-146">Adicionar uma testemunha de espelhamento de banco de dados usando a Autenticação do Windows &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="05107-146">Add a Database Mirroring Witness Using Windows Authentication &#40;Transact-SQL&#41;</span></span>](add-a-database-mirroring-witness-using-windows-authentication-transact-sql.md)  
  
        -   [<span data-ttu-id="05107-147">Estabelecer uma sessão de espelhamento de banco de dados usando a Autenticação do Windows &#40;SQL Server Management Studio&#41;</span><span class="sxs-lookup"><span data-stu-id="05107-147">Establish a Database Mirroring Session Using Windows Authentication &#40;SQL Server Management Studio&#41;</span></span>](establish-database-mirroring-session-windows-authentication.md)  
  
        > [!NOTE]  
        >  <span data-ttu-id="05107-148">O proprietário do banco de dados pode desativar a testemunha de um banco de dados a qualquer momento.</span><span class="sxs-lookup"><span data-stu-id="05107-148">The database owner can turn off the witness for a database at any time.</span></span> <span data-ttu-id="05107-149">A desativação da testemunha equivale a não ter nenhuma testemunha, e não pode ocorrer failover automático.</span><span class="sxs-lookup"><span data-stu-id="05107-149">Turning off the witness is equivalent to having no witness, and automatic failover cannot occur.</span></span>  
  
    -   <span data-ttu-id="05107-150">**Modo de alto desempenho**</span><span class="sxs-lookup"><span data-stu-id="05107-150">**High-performance mode**</span></span>  
  
         <span data-ttu-id="05107-151">Alternativamente, se você não quiser failover automático e preferir enfatizar o desempenho em vez da disponibilidade, desative a segurança de transação.</span><span class="sxs-lookup"><span data-stu-id="05107-151">Alternatively, if you do not want automatic failover and you prefer to emphasize performance over availability, turn off transaction safety.</span></span> <span data-ttu-id="05107-152">Para obter mais informações, consulte [Alterar a segurança da transação em uma sessão de espelhamento de banco de dados &#40;Transact-SQL&#41;](change-transaction-safety-in-a-database-mirroring-session-transact-sql.md).</span><span class="sxs-lookup"><span data-stu-id="05107-152">For more information, see [Change Transaction Safety in a Database Mirroring Session &#40;Transact-SQL&#41;](change-transaction-safety-in-a-database-mirroring-session-transact-sql.md).</span></span>  
  
        > [!NOTE]  
        >  <span data-ttu-id="05107-153">Em modo de alto desempenho, WITNESS precisa ser definido como OFF.</span><span class="sxs-lookup"><span data-stu-id="05107-153">In high-performance mode, WITNESS needs to be set to OFF.</span></span> <span data-ttu-id="05107-154">Para obter mais informações, confira [Quorum: Como uma testemunha afeta a disponibilidade do banco de dados &#40;Espelhamento de Banco de Dados&#41;](quorum-how-a-witness-affects-database-availability-database-mirroring.md).</span><span class="sxs-lookup"><span data-stu-id="05107-154">For more information, see [Quorum: How a Witness Affects Database Availability &#40;Database Mirroring&#41;](quorum-how-a-witness-affects-database-availability-database-mirroring.md).</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="05107-155">Para obter um exemplo do uso do [!INCLUDE[tsql](../../includes/tsql-md.md)] para configurar o espelhamento de banco de dados usando a Autenticação do Microsoft Windows, veja [Exemplo: Configurando o espelhamento de banco de dados usando a Autenticação do Windows &#40;Transact-SQL&#41;](example-setting-up-database-mirroring-using-windows-authentication-transact-sql.md).</span><span class="sxs-lookup"><span data-stu-id="05107-155">For an example of using [!INCLUDE[tsql](../../includes/tsql-md.md)] to set up database mirroring using Microsoft Windows Authentication, see [Example: Setting Up Database Mirroring Using Windows Authentication &#40;Transact-SQL&#41;](example-setting-up-database-mirroring-using-windows-authentication-transact-sql.md).</span></span>  
>   
>  <span data-ttu-id="05107-156">Para obter um exemplo do uso do [!INCLUDE[tsql](../../includes/tsql-md.md)] para configurar o espelhamento de banco de dados usando a segurança baseada em certificado, veja [Exemplo: Configurar o espelhamento de banco de dados usando certificados &#40;Transact-SQL&#41;](example-setting-up-database-mirroring-using-certificates-transact-sql.md).</span><span class="sxs-lookup"><span data-stu-id="05107-156">For an example of using [!INCLUDE[tsql](../../includes/tsql-md.md)] to set up database mirroring using certificate-based security, see [Example: Setting Up Database Mirroring Using Certificates &#40;Transact-SQL&#41;](example-setting-up-database-mirroring-using-certificates-transact-sql.md).</span></span>  
  
 
  
##  <a name="in-this-section"></a><a name="InThisSection"></a> <span data-ttu-id="05107-157">Nesta seção</span><span class="sxs-lookup"><span data-stu-id="05107-157">In This Section</span></span>  
 [<span data-ttu-id="05107-158">Preparar um banco de dados espelho para espelhamento &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="05107-158">Prepare a Mirror Database for Mirroring &#40;SQL Server&#41;</span></span>](prepare-a-mirror-database-for-mirroring-sql-server.md)  
 <span data-ttu-id="05107-159">Resume as etapas para criar ou preparar um banco de dados espelho antes de retomar uma sessão suspensa.</span><span class="sxs-lookup"><span data-stu-id="05107-159">Summarizes the steps for creating a mirror database or preparing a mirror database before resuming a suspended session.</span></span> <span data-ttu-id="05107-160">Fornece também links para tópicos de instruções.</span><span class="sxs-lookup"><span data-stu-id="05107-160">Also provides links to how-to topics.</span></span>  
  
 [<span data-ttu-id="05107-161">Especificar um endereço de rede do servidor &#40;Espelhamento de banco de dados&#41;</span><span class="sxs-lookup"><span data-stu-id="05107-161">Specify a Server Network Address &#40;Database Mirroring&#41;</span></span>](specify-a-server-network-address-database-mirroring.md)  
 <span data-ttu-id="05107-162">Descreve a sintaxe de um endereço de rede de servidor, como o endereço identifica o ponto de extremidade do espelhamento de banco de dados da instância do servidor e como encontrar o nome de domínio totalmente qualificado de um sistema.</span><span class="sxs-lookup"><span data-stu-id="05107-162">Describes the syntax of a server network address, how the address identifies the database mirroring endpoint of the server instance, and how to find the fully-qualified domain name of a system.</span></span>  
  
 [<span data-ttu-id="05107-163">Estabelecer uma sessão de espelhamento de banco de dados usando a Autenticação do Windows &#40;SQL Server Management Studio&#41;</span><span class="sxs-lookup"><span data-stu-id="05107-163">Establish a Database Mirroring Session Using Windows Authentication &#40;SQL Server Management Studio&#41;</span></span>](establish-database-mirroring-session-windows-authentication.md)  
 <span data-ttu-id="05107-164">Descreve como usar o Assistente para Configurar Segurança de Espelhamento de Banco de Dados para iniciar o espelhamento de banco de dados em um banco de dados.</span><span class="sxs-lookup"><span data-stu-id="05107-164">Describes how to use the Configure Database Mirroring Security Wizard to start database mirroring on a database.</span></span>  
  
 [<span data-ttu-id="05107-165">Estabelecer uma sessão de espelhamento de banco de dados com a Autenticação do Windows &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="05107-165">Establish a Database Mirroring Session Using Windows Authentication &#40;Transact-SQL&#41;</span></span>](database-mirroring-establish-session-windows-authentication.md)  
 <span data-ttu-id="05107-166">Descreve as etapas [!INCLUDE[tsql](../../includes/tsql-md.md)] de configuração do espelhamento de banco de dados.</span><span class="sxs-lookup"><span data-stu-id="05107-166">Describes the [!INCLUDE[tsql](../../includes/tsql-md.md)] steps for setting up database mirroring.</span></span>  
  
 [<span data-ttu-id="05107-167">Exemplo: configurar o espelhamento de banco de dados usando a Autenticação do Windows &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="05107-167">Example: Setting Up Database Mirroring Using Windows Authentication &#40;Transact-SQL&#41;</span></span>](example-setting-up-database-mirroring-using-windows-authentication-transact-sql.md)  
 <span data-ttu-id="05107-168">Contém um exemplo de todas as fases necessárias para criar uma sessão de espelhamento de banco de dados com uma testemunha, usando a Autenticação do Windows.</span><span class="sxs-lookup"><span data-stu-id="05107-168">Contains an example of all the stages required to create a database mirroring session with a witness, using Windows Authentication.</span></span>  
  
 [<span data-ttu-id="05107-169">Exemplo: Configurar o espelhamento de banco de dados usando certificados &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="05107-169">Example: Setting Up Database Mirroring Using Certificates &#40;Transact-SQL&#41;</span></span>](example-setting-up-database-mirroring-using-certificates-transact-sql.md)  
 <span data-ttu-id="05107-170">Contém um exemplo de todas as fases necessárias para criar uma sessão de espelhamento de banco de dados com uma testemunha, usando a autenticação baseada em certificado.</span><span class="sxs-lookup"><span data-stu-id="05107-170">Contains an example of all the stages required to create a database mirroring session with a witness, using certificate-based authentication.</span></span>  
  
 [<span data-ttu-id="05107-171">Configurar contas de logon para espelhamento de banco de dados ou Grupos de Disponibilidade AlwaysOn &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="05107-171">Set Up Login Accounts for Database Mirroring or AlwaysOn Availability Groups &#40;SQL Server&#41;</span></span>](set-up-login-accounts-database-mirroring-always-on-availability.md)  
 <span data-ttu-id="05107-172">Descreve como criar um logon para uma instância de servidor remoto usando uma conta diferente da instância de servidor local.</span><span class="sxs-lookup"><span data-stu-id="05107-172">Describes creating a login for a remote server instance that is using a different account than the local server instance.</span></span>  
  
##  <a name="related-tasks"></a><a name="RelatedTasks"></a> <span data-ttu-id="05107-173">Tarefas relacionadas</span><span class="sxs-lookup"><span data-stu-id="05107-173">Related Tasks</span></span>  
 <span data-ttu-id="05107-174">**SQL Server Management Studio**</span><span class="sxs-lookup"><span data-stu-id="05107-174">**SQL Server Management Studio**</span></span>  
  
-   [<span data-ttu-id="05107-175">Iniciar o Assistente para Configurar Segurança de Espelhamento de Banco de Dados &#40;SQL Server Management Studio&#41;</span><span class="sxs-lookup"><span data-stu-id="05107-175">Start the Configuring Database Mirroring Security Wizard &#40;SQL Server Management Studio&#41;</span></span>](start-the-configuring-database-mirroring-security-wizard.md)  
  
-   [<span data-ttu-id="05107-176">Estabelecer uma sessão de espelhamento de banco de dados usando a Autenticação do Windows &#40;SQL Server Management Studio&#41;</span><span class="sxs-lookup"><span data-stu-id="05107-176">Establish a Database Mirroring Session Using Windows Authentication &#40;SQL Server Management Studio&#41;</span></span>](establish-database-mirroring-session-windows-authentication.md)  
  
 <span data-ttu-id="05107-177">**Transact-SQL**</span><span class="sxs-lookup"><span data-stu-id="05107-177">**Transact-SQL**</span></span>  
  
-   [<span data-ttu-id="05107-178">Permitir o acesso à rede a um ponto de extremidade de espelhamento de banco de dados usando a Autenticação do Windows &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="05107-178">Allow Network Access to a Database Mirroring Endpoint Using Windows Authentication &#40;SQL Server&#41;</span></span>](../database-mirroring-allow-network-access-windows-authentication.md)  
  
-   [<span data-ttu-id="05107-179">Permitir que um ponto de extremidade de espelhamento de banco de dados use certificados para conexões de saída &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="05107-179">Allow a Database Mirroring Endpoint to Use Certificates for Outbound Connections &#40;Transact-SQL&#41;</span></span>](database-mirroring-use-certificates-for-outbound-connections.md)  
  
-   [<span data-ttu-id="05107-180">Permitir que um ponto de extremidade de espelhamento de banco de dados use certificados para conexões de entrada &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="05107-180">Allow a Database Mirroring Endpoint to Use Certificates for Inbound Connections &#40;Transact-SQL&#41;</span></span>](database-mirroring-use-certificates-for-inbound-connections.md)  
  
-   [<span data-ttu-id="05107-181">Criar um ponto de extremidade de espelhamento de banco de dados para a Autenticação do Windows &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="05107-181">Create a Database Mirroring Endpoint for Windows Authentication &#40;Transact-SQL&#41;</span></span>](create-a-database-mirroring-endpoint-for-windows-authentication-transact-sql.md)  
  
-   [<span data-ttu-id="05107-182">Estabelecer uma sessão de espelhamento de banco de dados com a Autenticação do Windows &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="05107-182">Establish a Database Mirroring Session Using Windows Authentication &#40;Transact-SQL&#41;</span></span>](database-mirroring-establish-session-windows-authentication.md)  
  
-   [<span data-ttu-id="05107-183">Adicionar uma testemunha de espelhamento de banco de dados usando a Autenticação do Windows &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="05107-183">Add a Database Mirroring Witness Using Windows Authentication &#40;Transact-SQL&#41;</span></span>](add-a-database-mirroring-witness-using-windows-authentication-transact-sql.md)  
  
-   [<span data-ttu-id="05107-184">Configurar um banco de dados espelho para usar a propriedade confiável &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="05107-184">Set Up a Mirror Database to Use the Trustworthy Property &#40;Transact-SQL&#41;</span></span>](set-up-a-mirror-database-to-use-the-trustworthy-property-transact-sql.md)  
  
 <span data-ttu-id="05107-185">**Transact-SQL/SQL Server Management Studio**</span><span class="sxs-lookup"><span data-stu-id="05107-185">**Transact-SQL/SQL Server Management Studio**</span></span>  
  
-   [<span data-ttu-id="05107-186">Minimizar o tempo de inatividade de bancos de dados espelhados ao atualizar instâncias do servidor</span><span class="sxs-lookup"><span data-stu-id="05107-186">Minimize Downtime for Mirrored Databases When Upgrading Server Instances</span></span>](upgrading-mirrored-instances.md)  
  
-   [<span data-ttu-id="05107-187">Preparar um banco de dados espelho para espelhamento &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="05107-187">Prepare a Mirror Database for Mirroring &#40;SQL Server&#41;</span></span>](prepare-a-mirror-database-for-mirroring-sql-server.md)  
  
-   [<span data-ttu-id="05107-188">Solução de problemas de configuração de espelhamento de banco de dados &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="05107-188">Troubleshoot Database Mirroring Configuration &#40;SQL Server&#41;</span></span>](troubleshoot-database-mirroring-configuration-sql-server.md)  
  
 
  
## <a name="see-also"></a><span data-ttu-id="05107-189">Consulte Também</span><span class="sxs-lookup"><span data-stu-id="05107-189">See Also</span></span>  
 <span data-ttu-id="05107-190">[Espelhamento de banco de dados &#40;SQL Server&#41;](database-mirroring-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="05107-190">[Database Mirroring &#40;SQL Server&#41;](database-mirroring-sql-server.md) </span></span>  
 <span data-ttu-id="05107-191">[Espelhamento de banco de dados: Interoperabilidade e Coexistência &#40;SQL Server&#41;](database-mirroring-interoperability-and-coexistence-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="05107-191">[Database Mirroring: Interoperability and Coexistence &#40;SQL Server&#41;](database-mirroring-interoperability-and-coexistence-sql-server.md) </span></span>  
 <span data-ttu-id="05107-192">[Segurança de transporte para espelhamento de banco de dados e Grupos de Disponibilidade AlwaysOn &#40;SQL Server&#41;](transport-security-database-mirroring-always-on-availability.md) </span><span class="sxs-lookup"><span data-stu-id="05107-192">[Transport Security for Database Mirroring and AlwaysOn Availability Groups &#40;SQL Server&#41;](transport-security-database-mirroring-always-on-availability.md) </span></span>  
 [<span data-ttu-id="05107-193">Especificar um endereço de rede do servidor &#40;Espelhamento de banco de dados&#41;</span><span class="sxs-lookup"><span data-stu-id="05107-193">Specify a Server Network Address &#40;Database Mirroring&#41;</span></span>](specify-a-server-network-address-database-mirroring.md)  
  
  
