---
title: Pré-requisitos, restrições e recomendações para o espelhamento de banco de dados | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: high-availability
ms.topic: conceptual
helpviewer_keywords:
- database mirroring [SQL Server], deployment
- partners [SQL Server]
- database mirroring [SQL Server], prerequisites
- database mirroring [SQL Server], recommendations
- database mirroring [SQL Server], restrictions
- database mirroring [SQL Server], planning
- database mirroring [SQL Server], about database mirroring
ms.assetid: fdcf2251-9895-44c6-b81e-768fef32e732
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: 0dc29dbdc8432a4abd197a2a1a3f15b6ff5f6d52
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87681165"
---
# <a name="prerequisites-restrictions-and-recommendations-for-database-mirroring"></a><span data-ttu-id="b7c3d-102">Pré-requisitos, restrições e recomendações para espelhamento de banco de dados</span><span class="sxs-lookup"><span data-stu-id="b7c3d-102">Prerequisites, Restrictions, and Recommendations for Database Mirroring</span></span>
    
> [!NOTE]  
>  [!INCLUDE[ssNoteDepFutureAvoid](../../includes/ssnotedepfutureavoid-md.md)] <span data-ttu-id="b7c3d-103">Em vez disso, use [!INCLUDE[ssHADR](../../includes/sshadr-md.md)].</span><span class="sxs-lookup"><span data-stu-id="b7c3d-103">Use [!INCLUDE[ssHADR](../../includes/sshadr-md.md)] instead.</span></span>  
  
 <span data-ttu-id="b7c3d-104">Este tópico descreve os pré-requisitos e as recomendações para configuração do espelhamento de banco de dados.</span><span class="sxs-lookup"><span data-stu-id="b7c3d-104">This topic describes the prerequisites and recommendations for setting up database mirroring.</span></span> <span data-ttu-id="b7c3d-105">Para obter uma introdução ao espelhamento de banco de dados, consulte [Espelhamento de banco de dados &#40;SQL Server&#41;](database-mirroring-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="b7c3d-105">For an introduction to database mirroring, see [Database Mirroring &#40;SQL Server&#41;](database-mirroring-sql-server.md).</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="b7c3d-106">O formato de armazenamento do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] em disco é o mesmo nos ambientes de 64 bits e 32 bits.</span><span class="sxs-lookup"><span data-stu-id="b7c3d-106">The [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] on-disk storage format is the same in the 64-bit and 32-bit environments.</span></span> <span data-ttu-id="b7c3d-107">Portanto, uma sessão de espelhamento de banco de dados pode combinar instâncias de servidor executadas em um ambiente de 32 bits e instâncias de servidor executadas em um ambiente de 64 bits.</span><span class="sxs-lookup"><span data-stu-id="b7c3d-107">Therefore, a database mirroring session can combine server instances that run in a 32-bit environment and server instances that run in a 64-bit environment.</span></span>  
  

  
##  <a name="support-for-database-mirroring"></a><a name="DbmSupport"></a><span data-ttu-id="b7c3d-108">Suporte para espelhamento de banco de dados</span><span class="sxs-lookup"><span data-stu-id="b7c3d-108">Support For Database Mirroring</span></span>  
 <span data-ttu-id="b7c3d-109">Para obter mais informações sobre o suporte para espelhamento de banco de dados no [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)], consulte [Recursos com suporte pelas edições do SQL Server 2014](../../getting-started/features-supported-by-the-editions-of-sql-server-2014.md).</span><span class="sxs-lookup"><span data-stu-id="b7c3d-109">For information about support for database mirroring in [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)], see [Features Supported by the Editions of SQL Server 2014](../../getting-started/features-supported-by-the-editions-of-sql-server-2014.md).</span></span>  
  
 <span data-ttu-id="b7c3d-110">Observe que o espelhamento de banco de dados funciona com qualquer nível de compatibilidade de banco de dados com suporte.</span><span class="sxs-lookup"><span data-stu-id="b7c3d-110">Note that database mirroring works with any supported database compatibility level.</span></span> <span data-ttu-id="b7c3d-111">Para obter informações sobre os níveis de compatibilidade com suporte, veja [Nível de compatibilidade de ALTER DATABASE &#40;Transact-SQL&#41;](/sql/t-sql/statements/alter-database-transact-sql-compatibility-level).</span><span class="sxs-lookup"><span data-stu-id="b7c3d-111">For information about the supported compatibility levels, see [ALTER DATABASE Compatibility Level &#40;Transact-SQL&#41;](/sql/t-sql/statements/alter-database-transact-sql-compatibility-level).</span></span>  
  

  
##  <a name="prerequisites"></a><a name="Prerequisites"></a> <span data-ttu-id="b7c3d-112">Pré-requisitos</span><span class="sxs-lookup"><span data-stu-id="b7c3d-112">Prerequisites</span></span>  
  
-   <span data-ttu-id="b7c3d-113">Para que uma sessão de espelhamento seja estabelecida, os parceiros e a testemunha, se houver, deverão ser executados na mesma versão do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="b7c3d-113">For a mirroring session to be established, the partners and the witness, if any, must be running on the same version of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span>  
  
-   <span data-ttu-id="b7c3d-114">Os dois parceiros, ou seja, o servidor principal e servidor espelho, deve estar executando a mesma edição do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="b7c3d-114">The two partners, that is the principal server and mirror server, must be running the same edition of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="b7c3d-115">A testemunha, se houver, pode ser executada em qualquer edição do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] que oferecer suporte ao espelhamento de banco de dados.</span><span class="sxs-lookup"><span data-stu-id="b7c3d-115">The witness, if any, can run on any edition of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] that supports database mirroring.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="b7c3d-116">Você pode atualizar instâncias de servidor parceiras em uma sessão de espelhamento para uma versão mais recente do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="b7c3d-116">You can upgrade server instances that are partners in a mirroring session to a more recent version of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="b7c3d-117">Para obter mais informações, consulte [Minimize Downtime for Mirrored Databases When Upgrading Server Instances](upgrading-mirrored-instances.md).</span><span class="sxs-lookup"><span data-stu-id="b7c3d-117">For more information, see [Minimize Downtime for Mirrored Databases When Upgrading Server Instances](upgrading-mirrored-instances.md).</span></span>  
  
-   <span data-ttu-id="b7c3d-118">O banco de dados deve usar o modelo de recuperação completa.</span><span class="sxs-lookup"><span data-stu-id="b7c3d-118">The database must use the full recovery model.</span></span> <span data-ttu-id="b7c3d-119">Os modelos de recuperação simples e bulk-logged não oferecem suporte ao espelhamento de banco de dados.</span><span class="sxs-lookup"><span data-stu-id="b7c3d-119">The simple and bulk-logged recovery models do not support database mirroring.</span></span> <span data-ttu-id="b7c3d-120">Por isso, todas as operações em massa são sempre totalmente registradas para um banco de dados espelhado.</span><span class="sxs-lookup"><span data-stu-id="b7c3d-120">Therefore, bulk operations are always fully logged for a mirrored database.</span></span> <span data-ttu-id="b7c3d-121">Para obter informações sobre modelos de recuperação, veja [Modelos de recuperação &#40;SQL Server&#41;](../../relational-databases/backup-restore/recovery-models-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="b7c3d-121">For information about recovery models, see [Recovery Models &#40;SQL Server&#41;](../../relational-databases/backup-restore/recovery-models-sql-server.md).</span></span>  
  
-   <span data-ttu-id="b7c3d-122">Verifique se o servidor espelho tem espaço em disco suficiente para o banco de dados espelho.</span><span class="sxs-lookup"><span data-stu-id="b7c3d-122">Verify that the mirror server has sufficient disk space for the mirror database.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="b7c3d-123">Para obter informações sobre como usar o espelhamento de banco de dados em um banco de dados replicado, veja [Espelhamento e replicação de banco de dados &#40;SQL Server&#41;](database-mirroring-and-replication-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="b7c3d-123">For information about how to use database mirroring on a replicated database, see [Database Mirroring and Replication &#40;SQL Server&#41;](database-mirroring-and-replication-sql-server.md).</span></span>  
  
-   <span data-ttu-id="b7c3d-124">Quando você está criando o banco de dados espelho no servidor espelho, assegure-se de restaurar o backup do banco de dados principal especificando o mesmo nome de banco de dados WITH NORECOVERY.</span><span class="sxs-lookup"><span data-stu-id="b7c3d-124">When you are creating the mirror database on the mirror server, make sure that you restore the backup of the principal database specifying the same database name WITH NORECOVERY.</span></span> <span data-ttu-id="b7c3d-125">Além disso, todos os backups de log criados depois daquele backup também devem ser aplicados, novamente com WITH NORECOVERY.</span><span class="sxs-lookup"><span data-stu-id="b7c3d-125">Also, all log backups that were created after that backup was taken must also be applied, again WITH NORECOVERY.</span></span>  
  
    > [!IMPORTANT]  
    >  <span data-ttu-id="b7c3d-126">Se o espelhamento de banco de dados for interrompido, antes que você possa reiniciá-lo, todos os backups de logs subsequentes do banco de dados principal deverão ser aplicados ao banco de dados espelho.</span><span class="sxs-lookup"><span data-stu-id="b7c3d-126">If database mirroring has been stopped, before you can restart it, any subsequent log backups taken on the principal database must be applied to the mirror database.</span></span>  
  

  
##  <a name="restrictions"></a><a name="Restrictions"></a> <span data-ttu-id="b7c3d-127">Restrições</span><span class="sxs-lookup"><span data-stu-id="b7c3d-127">Restrictions</span></span>  
  
-   <span data-ttu-id="b7c3d-128">Somente bancos de dados de usuários podem ser espelhados.</span><span class="sxs-lookup"><span data-stu-id="b7c3d-128">Only user databases can be mirrored.</span></span> <span data-ttu-id="b7c3d-129">Você não pode espelhar os bancos de dados **master**, **msdb**, **tempdb**ou **model** .</span><span class="sxs-lookup"><span data-stu-id="b7c3d-129">You cannot mirror the **master**, **msdb**, **tempdb**, or **model** databases.</span></span>  
  
-   <span data-ttu-id="b7c3d-130">Um banco de dados espelhado não pode ser renomeado durante uma sessão de espelhamento de banco de dados.</span><span class="sxs-lookup"><span data-stu-id="b7c3d-130">A mirrored database cannot be renamed during a database mirroring session.</span></span>  
  
-   <span data-ttu-id="b7c3d-131">O espelhamento de banco de dados não oferece suporte a FILESTREAM.</span><span class="sxs-lookup"><span data-stu-id="b7c3d-131">Database mirroring does not support FILESTREAM.</span></span> <span data-ttu-id="b7c3d-132">Um grupo de arquivos FILESTREAM não pode ser criado no servidor principal.</span><span class="sxs-lookup"><span data-stu-id="b7c3d-132">A FILESTREAM filegroup cannot be created on the principal server.</span></span> <span data-ttu-id="b7c3d-133">O espelhamento de banco de dados não pode ser configurado para um banco de dados que contenha grupos de arquivos FILESTREAM.</span><span class="sxs-lookup"><span data-stu-id="b7c3d-133">Database mirroring cannot be configured for a database that contains FILESTREAM filegroups.</span></span>  
  
-   <span data-ttu-id="b7c3d-134">Em um sistema de 32 bits, o espelhamento de banco de dados dá suporte a um máximo de 10 bancos de dados por instância de servidor, devido aos números de threads de trabalho consumidos em cada sessão de espelhamento de banco de dados.</span><span class="sxs-lookup"><span data-stu-id="b7c3d-134">On a 32-bit system, database mirroring can support a maximum of about 10 databases per server instance because of the numbers of worker threads that are consumed by each database mirroring session.</span></span>  
  
-   <span data-ttu-id="b7c3d-135">Não há suporte para espelhamento de banco de dados com transações de banco de dados cruzado ou transações distribuídas.</span><span class="sxs-lookup"><span data-stu-id="b7c3d-135">Database mirroring is not supported with either cross-database transactions or distributed transactions.</span></span> <span data-ttu-id="b7c3d-136">Para obter mais informações, consulte [Transações envolvendo todos os bancos de dados sem suporte para espelhamento de banco de dados ou Grupos de Disponibilidade AlwaysOn &#40;SQL Server&#41;](../availability-groups/windows/transactions-always-on-availability-and-database-mirroring.md).</span><span class="sxs-lookup"><span data-stu-id="b7c3d-136">For more information, see [Cross-Database Transactions Not Supported For Database Mirroring or AlwaysOn Availability Groups &#40;SQL Server&#41;](../availability-groups/windows/transactions-always-on-availability-and-database-mirroring.md).</span></span>  
  

  
##  <a name="recommendations-for-configuring-partner-servers"></a><a name="RecommendationsForPartners"></a><span data-ttu-id="b7c3d-137">Recomendações para configurar servidores parceiros</span><span class="sxs-lookup"><span data-stu-id="b7c3d-137">Recommendations for Configuring Partner Servers</span></span>  
  
-   <span data-ttu-id="b7c3d-138">Os parceiros devem ser executados em sistemas comparáveis que podem controlar cargas de trabalho idênticas.</span><span class="sxs-lookup"><span data-stu-id="b7c3d-138">The partners should run on comparable systems that can handle identical workloads.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="b7c3d-139">Se você planeja usar modo de alta segurança com failover automático, a carga normal em cada parceiro de failover deve ser menor que 50 por cento da CPU.</span><span class="sxs-lookup"><span data-stu-id="b7c3d-139">If you plan to use high-safety mode with automatic failover, the normal load on each failover partner should be less than 50 percent of the CPU.</span></span> <span data-ttu-id="b7c3d-140">Se sua carga de trabalho sobrecarregar a CPU, haverá a possibilidade de um parceiro de failover não verificar as outras instâncias de servidor na sessão de espelhamento.</span><span class="sxs-lookup"><span data-stu-id="b7c3d-140">If your work load overloads the CPU, a failover partner might be unable to ping the other server instances in the mirroring session.</span></span> <span data-ttu-id="b7c3d-141">Isso causa um failover desnecessário.</span><span class="sxs-lookup"><span data-stu-id="b7c3d-141">This causes a unnecessary failover.</span></span> <span data-ttu-id="b7c3d-142">Se você não puder manter o uso de CPU abaixo de 50 por cento, recomendaremos que use o modo alta segurança sem failover automático ou modo de alto desempenho.</span><span class="sxs-lookup"><span data-stu-id="b7c3d-142">If you cannot keep the CPU usage under 50 percent, we recommend that you use either high-safety mode without automatic failover or high-performance mode.</span></span>  
  
-   <span data-ttu-id="b7c3d-143">Se possível, o caminho (inclusive a letra da unidade) do banco de dados espelho deve ser idêntico ao caminho do banco de dados principal.</span><span class="sxs-lookup"><span data-stu-id="b7c3d-143">If possible, the path (including the drive letter) of the mirror database should be identical to the path of the principal database.</span></span> <span data-ttu-id="b7c3d-144">Será necessário incluir a opção MOVE na instrução RESTORE se os layouts de arquivo forem diferentes.</span><span class="sxs-lookup"><span data-stu-id="b7c3d-144">You must include the MOVE option in the RESTORE statement if the file layouts must differ.</span></span> <span data-ttu-id="b7c3d-145">Por exemplo, se o banco de dados principal estiver na unidade 'F:' mas o sistema espelho não tiver uma unidade F:.</span><span class="sxs-lookup"><span data-stu-id="b7c3d-145">For example, if the principal database is on drive 'F:' but the mirror system lacks an F: drive.</span></span>  
  
    > [!IMPORTANT]  
    >  <span data-ttu-id="b7c3d-146">Se você mover os arquivos de banco de dados quando estiver criando o banco de dados espelho, é possível que não consiga adicionar arquivos ao banco de dados posteriormente, sem suspender o espelhamento.</span><span class="sxs-lookup"><span data-stu-id="b7c3d-146">If you move the database files when you create the mirror database, you might be unable to add files to the database later without mirroring being suspended.</span></span>  
  
-   <span data-ttu-id="b7c3d-147">Todas as instâncias de servidor em uma sessão de espelhamento devem usar a mesma página de código mestre e ordenação.</span><span class="sxs-lookup"><span data-stu-id="b7c3d-147">All of the server instances in a mirroring session should use the same master code page and collation.</span></span> <span data-ttu-id="b7c3d-148">Diferenças podem causar um problema durante a sessão de espelhamento.</span><span class="sxs-lookup"><span data-stu-id="b7c3d-148">Differences can cause a problem during mirroring setup.</span></span>  
  
-   <span data-ttu-id="b7c3d-149">Opcionalmente, calcule a hora de parar um banco de dados, para garantir que a configuração do sistema fornecerá o desempenho solicitado.</span><span class="sxs-lookup"><span data-stu-id="b7c3d-149">Optionally, estimate the time to fail over a database, to make sure that the system configuration will provide the performance you require.</span></span> <span data-ttu-id="b7c3d-150">Para obter mais informações, veja [Estime a interrupção do serviço durante troca de função &#40;Espelhamento de Banco de Dados&#41;](estimate-the-interruption-of-service-during-role-switching-database-mirroring.md).</span><span class="sxs-lookup"><span data-stu-id="b7c3d-150">For more information, see [Estimate the Interruption of Service During Role Switching &#40;Database Mirroring&#41;](estimate-the-interruption-of-service-during-role-switching-database-mirroring.md).</span></span>  
  
-   <span data-ttu-id="b7c3d-151">Para obter um melhor desempenho, use um adaptador de rede dedicado (placa de interface de rede) para espelhamento.</span><span class="sxs-lookup"><span data-stu-id="b7c3d-151">For best performance, use a dedicated network adapter (network interface card) for mirroring.</span></span>  
  
-   <span data-ttu-id="b7c3d-152">Não fazemos nenhuma recomendação sobre a confiabilidade de uma WAN (rede de longa distância) para espelhamento de banco de dados no modo de alta segurança.</span><span class="sxs-lookup"><span data-stu-id="b7c3d-152">We make no recommendations about whether a wide-area network (WAN) is reliable enough for database mirroring in high-safety mode.</span></span> <span data-ttu-id="b7c3d-153">Se você decidir usar o modo de alta segurança em uma WAN, cuidado ao adicionar uma testemunha à sessão, porque podem ocorrer failovers automáticos indesejados.</span><span class="sxs-lookup"><span data-stu-id="b7c3d-153">If you decide to use high-safety mode over a WAN, be cautious about how you add a witness to the session, because unwanted automatic failovers can occur.</span></span> <span data-ttu-id="b7c3d-154">Para obter mais informações, veja [Recomendações para implantação de espelhamento de banco de dados](#RecommendationsForDeploying), posteriormente neste tópico.</span><span class="sxs-lookup"><span data-stu-id="b7c3d-154">For more information, see [Recommendations for Deploying Database Mirroring](#RecommendationsForDeploying), later in this topic.</span></span>  
  

  
##  <a name="recommendations-for-deploying-database-mirroring"></a><a name="RecommendationsForDeploying"></a><span data-ttu-id="b7c3d-155">Recomendações para implantar o espelhamento de banco de dados</span><span class="sxs-lookup"><span data-stu-id="b7c3d-155">Recommendations for Deploying Database Mirroring</span></span>  
 <span data-ttu-id="b7c3d-156">Um desempenho ideal de espelhamento de banco de dados é obtido usando uma operação assíncrona.</span><span class="sxs-lookup"><span data-stu-id="b7c3d-156">Optimal database mirroring performance is obtained by using asynchronous operation.</span></span> <span data-ttu-id="b7c3d-157">Uma sessão de espelhamento que usa operação síncrona pode experimentar desempenho reduzido quando sua carga de trabalho gerar grandes quantidades de dados de log de transações.</span><span class="sxs-lookup"><span data-stu-id="b7c3d-157">A mirroring session that uses synchronous operation might experience slowed performance when its workload generates large amounts of transaction log data.</span></span>  
  
 <span data-ttu-id="b7c3d-158">Em ambientes de teste, é apropriado explorar todos os modos operacionais para avaliar o desempenho do espelhamento de banco de dados.</span><span class="sxs-lookup"><span data-stu-id="b7c3d-158">In test environments, it is appropriate to explore all the operating modes to evaluate how database mirroring performs.</span></span> <span data-ttu-id="b7c3d-159">Porém, antes de implantar o espelhamento em um ambiente de produção, verifique se você entendeu o funcionamento real da rede.</span><span class="sxs-lookup"><span data-stu-id="b7c3d-159">However, before you deploy mirroring into a production environment, make sure that you understand how the network functions in the real world.</span></span>  
  
 <span data-ttu-id="b7c3d-160">O modo de alta segurança com failover automático é projetado para uma rede de muito serviço que tem uma conexão dedicada, ou uma configuração de rede bastante simples que minimiza as origens de possíveis falhas na rede.</span><span class="sxs-lookup"><span data-stu-id="b7c3d-160">High-safety mode with automatic failover is designed for a high-service network that has either a dedicated connection or a fairly simple network configuration that minimizes the sources of possible network failures.</span></span> <span data-ttu-id="b7c3d-161">Tal ambiente de rede de alta qualidade é necessário no modo de alta segurança com failover automático e é recomendado em todas as sessões de espelhamento de banco de dados.</span><span class="sxs-lookup"><span data-stu-id="b7c3d-161">Such a high-quality network environment is necessary for high-safety mode with automatic failover and is recommended for all database mirroring sessions.</span></span> <span data-ttu-id="b7c3d-162">No entanto, o modo de alto desempenho e o modo de alta segurança sem failover automático são muito menos afetados pela confiabilidade da rede.</span><span class="sxs-lookup"><span data-stu-id="b7c3d-162">However, high-performance mode and high-safety mode without automatic failover are much less affected by network reliability.</span></span>  
  
 <span data-ttu-id="b7c3d-163">Portanto, para ambientes de produção, recomendamos que você obedeça às seguintes diretrizes de implantação:</span><span class="sxs-lookup"><span data-stu-id="b7c3d-163">Therefore, for production environments we recommend that you adhere to the following deployment guidelines:</span></span>  
  
1.  <span data-ttu-id="b7c3d-164">Inicie a execução no modo assíncrono, de alto desempenho.</span><span class="sxs-lookup"><span data-stu-id="b7c3d-164">Start running in asynchronous, high-performance mode.</span></span> <span data-ttu-id="b7c3d-165">Esse modo é o menos sensível ao ambiente de rede e fornece a melhor configuração para explorar o espelhamento.</span><span class="sxs-lookup"><span data-stu-id="b7c3d-165">This mode is the least sensitive to the network environment and provides the best configuration for exploring how mirroring works.</span></span> <span data-ttu-id="b7c3d-166">Recomendamos que você execute seu sistema de forma assíncrona até ter confiança de que sua largura de banda oferece suporte ao espelhamento e ter desenvolvido uma compreensão da configuração de espelhamento e do desempenho do modo assíncrono em seu ambiente.</span><span class="sxs-lookup"><span data-stu-id="b7c3d-166">We recommend that you run your system asynchronously until you are confident that your bandwidth supports mirroring and you have developed an understanding of mirroring setup and of the performance of asynchronous mode in your environment.</span></span> <span data-ttu-id="b7c3d-167">Para obter mais informações, consulte [Database Mirroring Operating Modes](database-mirroring-operating-modes.md).</span><span class="sxs-lookup"><span data-stu-id="b7c3d-167">For more information, see [Database Mirroring Operating Modes](database-mirroring-operating-modes.md).</span></span>  
  
    > [!IMPORTANT]  
    >  <span data-ttu-id="b7c3d-168">Durante o teste, recomendamos que você monitore suas sessões quanto a erros de rede que possam causar falhas no espelhamento de banco de dados.</span><span class="sxs-lookup"><span data-stu-id="b7c3d-168">Throughout testing, we recommend that you monitor your sessions for network errors that cause database mirroring to fail.</span></span> <span data-ttu-id="b7c3d-169">Para obter mais informações sobre origens de falha potenciais, consulte [Possible Failures During Database Mirroring](possible-failures-during-database-mirroring.md).</span><span class="sxs-lookup"><span data-stu-id="b7c3d-169">For more information about potential sources of failure, see [Possible Failures During Database Mirroring](possible-failures-during-database-mirroring.md).</span></span> <span data-ttu-id="b7c3d-170">Para obter informações sobre como monitorar o espelhamento de banco de dados, veja [Monitorando o espelhamento de banco de dados &#40;SQL Server&#41;](monitoring-database-mirroring-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="b7c3d-170">For information about how to monitor database mirroring, see [Monitoring Database Mirroring &#40;SQL Server&#41;](monitoring-database-mirroring-sql-server.md).</span></span>  
  
2.  <span data-ttu-id="b7c3d-171">Quando você tiver certeza de que a operação assíncrona está atendendo a suas necessidades empresariais, tente a operação síncrona para aumentar a proteção dos dados.</span><span class="sxs-lookup"><span data-stu-id="b7c3d-171">When you are confident that asynchronous operation is meeting the business needs, you might want to try synchronous operation to improve your data protection.</span></span> <span data-ttu-id="b7c3d-172">Quando você testar o funcionamento do espelhamento síncrono em seu ambiente, recomendamos que tente primeiro o modo de alta segurança sem failover automático.</span><span class="sxs-lookup"><span data-stu-id="b7c3d-172">When you test how synchronous mirroring works in your environment, we recommend that first you test high-safety mode without automatic failover.</span></span> <span data-ttu-id="b7c3d-173">O principal objetivo desse teste é verificar como a operação síncrona afeta o desempenho do banco de dados.</span><span class="sxs-lookup"><span data-stu-id="b7c3d-173">The primary purpose of this testing is to see how synchronous operation affects the database performance.</span></span> <span data-ttu-id="b7c3d-174">Para obter mais informações, consulte [Database Mirroring Operating Modes](database-mirroring-operating-modes.md).</span><span class="sxs-lookup"><span data-stu-id="b7c3d-174">For more information, see [Database Mirroring Operating Modes](database-mirroring-operating-modes.md).</span></span>  
  
3.  <span data-ttu-id="b7c3d-175">Aguarde para habilitar o failover automático até que esteja confiante de que o modo de alta segurança sem failover automático esteja atendendo às necessidades comerciais e que os erros de rede não estejam provocando falhas.</span><span class="sxs-lookup"><span data-stu-id="b7c3d-175">Wait to enable automatic failover until you are confident that high-safety mode without automatic failover is meeting the business needs and that network errors are not causing failures.</span></span> <span data-ttu-id="b7c3d-176">Para obter mais informações, consulte [Troca de função durante uma sessão de espelhamento de banco de dados &#40;SQL Server&#41;](role-switching-during-a-database-mirroring-session-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="b7c3d-176">For more information, see [Role Switching During a Database Mirroring Session &#40;SQL Server&#41;](role-switching-during-a-database-mirroring-session-sql-server.md).</span></span>  
  

  
## <a name="see-also"></a><span data-ttu-id="b7c3d-177">Consulte Também</span><span class="sxs-lookup"><span data-stu-id="b7c3d-177">See Also</span></span>  
 <span data-ttu-id="b7c3d-178">[Configurando o espelhamento de banco de dados &#40;SQL Server&#41;](setting-up-database-mirroring-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="b7c3d-178">[Setting Up Database Mirroring &#40;SQL Server&#41;](setting-up-database-mirroring-sql-server.md) </span></span>  
 <span data-ttu-id="b7c3d-179">[Segurança de transporte para espelhamento de banco de dados e Grupos de Disponibilidade AlwaysOn &#40;SQL Server&#41;](transport-security-database-mirroring-always-on-availability.md) </span><span class="sxs-lookup"><span data-stu-id="b7c3d-179">[Transport Security for Database Mirroring and AlwaysOn Availability Groups &#40;SQL Server&#41;](transport-security-database-mirroring-always-on-availability.md) </span></span>  
 <span data-ttu-id="b7c3d-180">[Espelhamento de banco de dados &#40;SQL Server&#41;](database-mirroring-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="b7c3d-180">[Database Mirroring &#40;SQL Server&#41;](database-mirroring-sql-server.md) </span></span>  
 [<span data-ttu-id="b7c3d-181">Solução de problemas de configuração de espelhamento de banco de dados &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="b7c3d-181">Troubleshoot Database Mirroring Configuration &#40;SQL Server&#41;</span></span>](troubleshoot-database-mirroring-configuration-sql-server.md)  
  
  
