---
title: Monitorando o espelhamento de banco de dados (SQL Server) | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: high-availability
ms.topic: conceptual
helpviewer_keywords:
- monitoring [SQL Server], database mirroring
- database mirroring [SQL Server], monitoring
ms.assetid: a7b1b9b0-7c19-4acc-9de3-3a7c5e70694d
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: 92179abd47df2ee40b48be8eade7ea3e7b9267af
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87681174"
---
# <a name="monitoring-database-mirroring-sql-server"></a><span data-ttu-id="eec00-102">Monitorando o espelhamento de banco de dados (SQL Server)</span><span class="sxs-lookup"><span data-stu-id="eec00-102">Monitoring Database Mirroring (SQL Server)</span></span>
  <span data-ttu-id="eec00-103">Esta seção apresenta o Monitor de Espelhamento de Banco de Dados e os procedimentos armazenados do sistema **sp_dbmmonitor** , explica como funciona o monitoramento de espelhamento de banco de dados (incluindo o **Trabalho de Monitor de Espelhamento de Banco de Dados)** e resume as informações sobre as sessões de espelhamento de banco de dados que podem ser monitoradas.</span><span class="sxs-lookup"><span data-stu-id="eec00-103">This section introduces Database Mirroring Monitor and the **sp_dbmmonitor** system stored procedures, explains how database mirroring monitoring works (including the **Database Mirroring Monitor Job)**, and summarizes the information that you can monitor about database mirroring sessions.</span></span> <span data-ttu-id="eec00-104">Além disso, esta seção apresenta como definir limites de avisos para um conjunto de eventos de espelhamento de banco de dados predefinido e como configurar alertas em qualquer evento de espelhamento de banco de dados.</span><span class="sxs-lookup"><span data-stu-id="eec00-104">Additionally, this section introduces how to define warning thresholds for a set of predefined database mirroring events and how to set up alerts on any database mirroring event.</span></span>  
  
 <span data-ttu-id="eec00-105">Você pode monitorar um banco de dados espelho durante uma sessão de espelhamento para verificar se e como os dados estão fluindo.</span><span class="sxs-lookup"><span data-stu-id="eec00-105">You can monitor a mirrored database during a mirroring session to verify whether and how well data is flowing.</span></span> <span data-ttu-id="eec00-106">Para definir e gerenciar o monitoramento de um ou mais dos bancos de dados espelhados em uma instância do servidor, você pode usar o Monitor de Espelhamento de Banco de Dados ou os procedimentos armazenados do sistema **sp_dbmmonitor** .</span><span class="sxs-lookup"><span data-stu-id="eec00-106">To set up and manage monitoring for one or more of the mirrored databases on a server instance, you can use either Database Mirroring Monitor or the **sp_dbmmonitor** system stored procedures.</span></span>  
  
 <span data-ttu-id="eec00-107">Um trabalho de monitoramento de espelhamento de banco de dados, **Trabalho do Monitor de Espelhamento de Banco de Dados**, opera em segundo plano, independentemente do Monitor de Espelhamento de Banco de Dados.</span><span class="sxs-lookup"><span data-stu-id="eec00-107">A database mirroring monitoring job, **Database Mirroring Monitor Job**, operates in the background, independently of Database Mirroring Monitor.</span></span> [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="eec00-108">Agent chama o **Trabalho do Monitor de Espelhamento de Banco de Dados** em intervalos regulares, o padrão é uma por minuto, e o trabalho chama um procedimento armazenado que atualiza o status do espelhamento.</span><span class="sxs-lookup"><span data-stu-id="eec00-108">Agent calls **Database Mirroring Monitor Job** at regular intervals, the default is once a minute, and the job calls a stored procedure that updates mirroring status.</span></span> <span data-ttu-id="eec00-109">Se você utilizar o [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] para iniciar uma sessão de monitoramento, o **Trabalho do Monitor de Espelhamento de Banco de Dados** será criado automaticamente.</span><span class="sxs-lookup"><span data-stu-id="eec00-109">If you use [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] to start a mirroring session, **Database Mirroring Monitor Job** is created automatically.</span></span> <span data-ttu-id="eec00-110">Porém, se você usar somente ALTER DATABASE *<database_name>* SET PARTNER para iniciar o espelhamento, deverá criar o trabalho executando um procedimento armazenado.</span><span class="sxs-lookup"><span data-stu-id="eec00-110">However, if you only use ALTER DATABASE *<database_name>* SET PARTNER to start mirroring, you must create the job by running a stored procedure.</span></span>  
  
 <span data-ttu-id="eec00-111">**Neste tópico:**</span><span class="sxs-lookup"><span data-stu-id="eec00-111">**In this Topic:**</span></span>  
  
-   [<span data-ttu-id="eec00-112">Monitorando status de espelhamento</span><span class="sxs-lookup"><span data-stu-id="eec00-112">Monitoring Mirroring Status</span></span>](#MonitoringStatus)  
  
-   [<span data-ttu-id="eec00-113">Fontes adicionais de informação sobre um banco de dados espelho</span><span class="sxs-lookup"><span data-stu-id="eec00-113">Additional Sources of Information About a Mirrored Database</span></span>](#AdditionalSources)  
  
-   [<span data-ttu-id="eec00-114">Tarefas relacionadas</span><span class="sxs-lookup"><span data-stu-id="eec00-114">Related Tasks</span></span>](#RelatedTasks)  
  
##  <a name="monitoring-mirroring-status"></a><a name="MonitoringStatus"></a> <span data-ttu-id="eec00-115">Monitorando status de espelhamento</span><span class="sxs-lookup"><span data-stu-id="eec00-115">Monitoring Mirroring Status</span></span>  
 <span data-ttu-id="eec00-116">Para configurar e gerenciar monitoramento para um ou mais dos bancos de dados espelhados em uma instância do servidor, você pode usar o Monitor de Espelhamento de Banco de Dados ou os procedimentos armazenados do sistema **dbmmonitor** .</span><span class="sxs-lookup"><span data-stu-id="eec00-116">To set up and manage monitoring for one or more of the mirrored databases on a server instance, you can use either Database Mirroring Monitor or the **dbmmonitor** system stored procedures.</span></span> <span data-ttu-id="eec00-117">Você pode monitorar um banco de dados espelho durante uma sessão de espelhamento para verificar se e como os dados estão fluindo.</span><span class="sxs-lookup"><span data-stu-id="eec00-117">You can monitor a mirrored database during a mirroring session to verify whether and how well data is flowing.</span></span>  
  
 <span data-ttu-id="eec00-118">O monitoramento de um banco de dados espelho lhe permite, especificamente:</span><span class="sxs-lookup"><span data-stu-id="eec00-118">Specifically, monitoring a mirrored database enables you to:</span></span>  
  
-   <span data-ttu-id="eec00-119">Verificar se o espelhamento está funcionando.</span><span class="sxs-lookup"><span data-stu-id="eec00-119">Verify that mirroring is functioning.</span></span>  
  
     <span data-ttu-id="eec00-120">O status básico inclui saber se as duas instâncias do servidor estão ativas, os servidores estão conectados, e se o log está sendo movimentado do principal para o espelhado.</span><span class="sxs-lookup"><span data-stu-id="eec00-120">Basic status includes knowing if the two server instances are up, that the servers are connected, and that the log is being moved from the principal to the mirror.</span></span>  
  
-   <span data-ttu-id="eec00-121">Determinar se o banco de dados espelho está acompanhando o banco de dados principal.</span><span class="sxs-lookup"><span data-stu-id="eec00-121">Determine whether the mirror database is keeping up with the principal database.</span></span>  
  
     <span data-ttu-id="eec00-122">Durante o modo de alto desempenho, um servidor principal pode desenvolver um acúmulo de registros de log não enviados que ainda precisam ser enviados do servidor principal para o servidor espelho.</span><span class="sxs-lookup"><span data-stu-id="eec00-122">During high-performance mode, a principal server can develop a backlog of unsent log records that still need to be sent from the principal server to the mirror server.</span></span> <span data-ttu-id="eec00-123">Além disso, em qualquer modo operacional, o servidor espelho pode desenvolver um acúmulo de registros de log não restaurado que foram gravados no arquivo de log mas que ainda precisam ser restaurados no banco de dados espelho.</span><span class="sxs-lookup"><span data-stu-id="eec00-123">Furthermore, in any operating mode, the mirror server can develop a backlog of unrestored log records that have been written to the log file but still need to be restored on the mirror database.</span></span>  
  
-   <span data-ttu-id="eec00-124">Determinar quantos dados serão perdidos quando a instância de servidor principal ficar indisponível durante o modo de alto desempenho.</span><span class="sxs-lookup"><span data-stu-id="eec00-124">Determine how much data was lost when the principal server instance becomes unavailable during high-performance mode.</span></span>  
  
     <span data-ttu-id="eec00-125">Você pode determinar perda de dados verificando a quantidade de log de transações não enviada (se houver) e o intervalo de tempo nos quais as transações perdidas estavam confirmadas no servidor principal.</span><span class="sxs-lookup"><span data-stu-id="eec00-125">You can determine data loss by looking at the amount of unsent transaction log (if any) and the time interval in which the lost transactions were committed at the principal.</span></span>  
  
-   <span data-ttu-id="eec00-126">Comparar o desempenho atual com o desempenho passado.</span><span class="sxs-lookup"><span data-stu-id="eec00-126">Compare current performance with past performance.</span></span>  
  
     <span data-ttu-id="eec00-127">No caso de problemas, um administrador de banco de dados pode exibir um histórico do desempenho de espelhamento para ajudar na compreensão do estado atual.</span><span class="sxs-lookup"><span data-stu-id="eec00-127">When problems are occurring, a database administrator can view a history of the mirroring performance to help in understanding the current state.</span></span> <span data-ttu-id="eec00-128">A verificação do histórico pode permitir ao usuário detectar tendências em desempenho, identificando padrões de problemas de desempenho (como horas do dia em que a rede está lenta ou que o número de comandos que entram no log é muito grande).</span><span class="sxs-lookup"><span data-stu-id="eec00-128">Looking at the history can allow the user to detect trends in performance, identify patterns of performance problems (such as times of day when the network is slow or the number of commands entering the log is very large).</span></span>  
  
-   <span data-ttu-id="eec00-129">Diagnosticar a causa de fluxo reduzido de dados entre parceiros de espelhamento.</span><span class="sxs-lookup"><span data-stu-id="eec00-129">Troubleshoot the cause of reduced data flow between mirroring partners.</span></span>  
  
-   <span data-ttu-id="eec00-130">Definir limites de aviso em métrica chave de desempenho.</span><span class="sxs-lookup"><span data-stu-id="eec00-130">Set warning thresholds on key performance metrics.</span></span>  
  
     <span data-ttu-id="eec00-131">Se uma nova linha de status contém um valor que excede um limite, um evento informativo é enviado ao log de eventos do Windows.</span><span class="sxs-lookup"><span data-stu-id="eec00-131">If a new status row contains a value that exceeds a threshold, an informational event is sent to the Windows event log.</span></span> <span data-ttu-id="eec00-132">Um administrador de sistema pode, então, configurar alertas manualmente com base nesses eventos.</span><span class="sxs-lookup"><span data-stu-id="eec00-132">A system administrator can then manually configure alerts based on these events.</span></span> <span data-ttu-id="eec00-133">Para obter mais informações, veja [Usar os limites de aviso e alertas em métricas de desempenho de espelhamento &#40;SQL Server&#41;](use-warning-thresholds-and-alerts-on-mirroring-performance-metrics-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="eec00-133">For more information, see [Use Warning Thresholds and Alerts on Mirroring Performance Metrics &#40;SQL Server&#41;](use-warning-thresholds-and-alerts-on-mirroring-performance-metrics-sql-server.md).</span></span>  
  
###  <a name="tools-for-monitoring-database-mirroring-status"></a><a name="tools_for_monitoring_dbm_status"></a> <span data-ttu-id="eec00-134">Ferramentas para monitoramento de status de espelhamento de banco de dados</span><span class="sxs-lookup"><span data-stu-id="eec00-134">Tools for Monitoring Database Mirroring Status</span></span>  
 <span data-ttu-id="eec00-135">O status de espelhamento pode ser monitorado usando o Monitor de Espelhamento de Banco de Dados ou o procedimento armazenado do sistema **sp_dbmmonitorresults** .</span><span class="sxs-lookup"><span data-stu-id="eec00-135">Mirroring status can be monitored using either Database Mirroring Monitor or the **sp_dbmmonitorresults** system stored procedure.</span></span> <span data-ttu-id="eec00-136">Essas ferramentas podem ser usadas para monitorar o espelhamento de banco de dados em qualquer banco de dados espelho na instância do servidor local, por ambos os administradores do Sistema, ou seja, membros da função de servidor fixa **sysadmin** e pelo usuário que foi adicionado à função do banco de dados fixa **dbm_monitor** no banco de dados **msdb** por um administrador do sistema.</span><span class="sxs-lookup"><span data-stu-id="eec00-136">These tools can be used to monitor database mirroring on any mirrored database on the local server instance by both System administrators, that is, members of the **sysadmin** fixed server role, and user who have been added to the **dbm_monitor** fixed database role in the **msdb** database by a system administrator.</span></span> <span data-ttu-id="eec00-137">Ao usar qualquer uma das ferramentas, um administrador de sistema pode atualizar manualmente o status de espelhamento.</span><span class="sxs-lookup"><span data-stu-id="eec00-137">When using either tool, a system administrator can also manually refresh mirroring status.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="eec00-138">Administradores de sistema podem também configurar e exibir limites de aviso para métricas de desempenho chave.</span><span class="sxs-lookup"><span data-stu-id="eec00-138">System administrators can also configure and view warning thresholds for key performance metrics.</span></span> <span data-ttu-id="eec00-139">Para obter mais informações, veja [Usar os limites de aviso e alertas em métricas de desempenho de espelhamento &#40;SQL Server&#41;](use-warning-thresholds-and-alerts-on-mirroring-performance-metrics-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="eec00-139">For more information, see [Use Warning Thresholds and Alerts on Mirroring Performance Metrics &#40;SQL Server&#41;](use-warning-thresholds-and-alerts-on-mirroring-performance-metrics-sql-server.md).</span></span>  
  
-   <span data-ttu-id="eec00-140">Monitor de Espelhamento de Banco de Dados</span><span class="sxs-lookup"><span data-stu-id="eec00-140">Database Mirroring Monitor</span></span>  
  
     <span data-ttu-id="eec00-141">O Monitor de Espelhamento de Banco de Dados é uma ferramenta de interface gráfica do usuário que permite aos administradores de sistema exibir e atualizar status e configurar limites de aviso em várias métricas de desempenho chave.</span><span class="sxs-lookup"><span data-stu-id="eec00-141">Database Mirroring Monitor is a graphical user interface tool that enables system administrators to view and update status and to configure warning thresholds on several key performance metrics.</span></span> <span data-ttu-id="eec00-142">O Monitor de Espelhamento de Banco de Dados também pode ser usado por membros da função fixa do banco de dados **dbm_monitor** para exibir a linha mais recente da tabela de status de espelhamento, embora não seja possível atualizar o status da tabela.</span><span class="sxs-lookup"><span data-stu-id="eec00-142">Database Mirroring Monitor can also be used by members of the **dbm_monitor** fixed database role to view the most recent row of the mirroring status table, though they cannot update the status table.</span></span>  
  
     <span data-ttu-id="eec00-143">O monitor exibe o status, inclusive a métrica de desempenho, para um banco de dados selecionado na página com guias **Status** .</span><span class="sxs-lookup"><span data-stu-id="eec00-143">The monitor displays the status, including performance metrics, for a selected database on the **Status** tabbed page.</span></span> <span data-ttu-id="eec00-144">O conteúdo desta página vem das duas instâncias de servidor principal e espelho.</span><span class="sxs-lookup"><span data-stu-id="eec00-144">The content of this page comes from both the principal and mirror server instances.</span></span> <span data-ttu-id="eec00-145">A página é preenchida de forma assíncrona conforme o status é coletado através de conexões separadas às instâncias de servidor principal e espelho.</span><span class="sxs-lookup"><span data-stu-id="eec00-145">The page is filled asynchronously as status is gathered through separate connections to the principal and mirror server instances.</span></span> <span data-ttu-id="eec00-146">O monitor tenta atualizar a tabela de status a intervalos de 30 segundos.</span><span class="sxs-lookup"><span data-stu-id="eec00-146">The monitor tries to update the status table at 30-second intervals.</span></span> <span data-ttu-id="eec00-147">A atualização só terá sucesso se a tabela não for atualizada dentro de 15 segundos e o usuário for um membro da função de servidor fixa **sysadmin** .</span><span class="sxs-lookup"><span data-stu-id="eec00-147">The update succeeds only if the table has not been updated within 15 seconds and the user is a member of the **sysadmin** fixed server role.</span></span> <span data-ttu-id="eec00-148">Para obter um resumo das informações relatadas na página **Status** , consulte [Status exibido pelo Monitor de Espelhamento de Banco de Dados](#perf_metrics_of_dbm_monitor), posteriormente neste tópico.</span><span class="sxs-lookup"><span data-stu-id="eec00-148">For a summary of the information reported on the **Status** page, see [Status Displayed by the Database Mirroring Monitor](#perf_metrics_of_dbm_monitor), later in this topic.</span></span>  
  
     <span data-ttu-id="eec00-149">Para uma introdução à interface do Monitor de Espelhamento de Banco de Dados, consulte [Database Mirroring Monitor Overview](database-mirroring-monitor-overview.md).</span><span class="sxs-lookup"><span data-stu-id="eec00-149">For an introduction to the Database Mirroring Monitor interface, see [Database Mirroring Monitor Overview](database-mirroring-monitor-overview.md).</span></span> <span data-ttu-id="eec00-150">Para obter informações sobre como iniciar o Monitor de Espelhamento de Banco de Dados, veja [Iniciar o Monitor de Espelhamento de Banco de Dados &#40;SQL Server Management Studio&#41;](../database-mirroring/start-database-mirroring-monitor-sql-server-management-studio.md).</span><span class="sxs-lookup"><span data-stu-id="eec00-150">For information on launching Database Mirroring Monitor, see [Start Database Mirroring Monitor &#40;SQL Server Management Studio&#41;](../database-mirroring/start-database-mirroring-monitor-sql-server-management-studio.md).</span></span>  
  
-   <span data-ttu-id="eec00-151">Procedimentos armazenados do sistema</span><span class="sxs-lookup"><span data-stu-id="eec00-151">System stored procedures</span></span>  
  
     <span data-ttu-id="eec00-152">Também é possível recuperar ou atualizar o status atual executando o procedimento armazenado do sistema **sp_dbmmonitorresults** .</span><span class="sxs-lookup"><span data-stu-id="eec00-152">You can also retrieve or update the current status by running the **sp_dbmmonitorresults** system stored procedure.</span></span> <span data-ttu-id="eec00-153">Outros procedimentos armazenados de dbmmonitor lhe permitem definir o monitoramento, alterar os parâmetros de monitoramento, exibir o período de atualização atual e ignorar monitoramento na instância do servidor.</span><span class="sxs-lookup"><span data-stu-id="eec00-153">Other dbmmonitor stored procedures enable you to set up monitoring, change monitoring parameters, view the current update period, and drop monitoring on the server instance.</span></span>  
  
     <span data-ttu-id="eec00-154">A tabela a seguir apresenta os procedimentos armazenados para administrar e usar o monitoramento de espelhamento de banco de dados independentemente do Monitor de Espelhamento de Banco de Dados.</span><span class="sxs-lookup"><span data-stu-id="eec00-154">The following table introduces the stored procedures for managing and using database mirroring monitoring independently of the Database Mirroring Monitor.</span></span>  
  
    |<span data-ttu-id="eec00-155">Procedimento</span><span class="sxs-lookup"><span data-stu-id="eec00-155">Procedure</span></span>|<span data-ttu-id="eec00-156">Descrição</span><span class="sxs-lookup"><span data-stu-id="eec00-156">Description</span></span>|  
    |---------------|-----------------|  
    |[<span data-ttu-id="eec00-157">sp_dbmmonitoraddmonitoring</span><span class="sxs-lookup"><span data-stu-id="eec00-157">sp_dbmmonitoraddmonitoring</span></span>](/sql/relational-databases/system-stored-procedures/sp-dbmmonitoraddmonitoring-transact-sql)|<span data-ttu-id="eec00-158">Cria uma tarefa que atualiza periodicamente as informações de status para cada banco de dados espelho na instância do servidor.</span><span class="sxs-lookup"><span data-stu-id="eec00-158">Creates a job that periodically updates the status information for every mirrored database on the server instance.</span></span>|  
    |[<span data-ttu-id="eec00-159">sp_dbmmonitorchangemonitoring</span><span class="sxs-lookup"><span data-stu-id="eec00-159">sp_dbmmonitorchangemonitoring</span></span>](/sql/relational-databases/system-stored-procedures/sp-dbmmonitorchangemonitoring-transact-sql)|<span data-ttu-id="eec00-160">Altera o valor de um parâmetro de monitoração de espelhamento de banco de dados.</span><span class="sxs-lookup"><span data-stu-id="eec00-160">Changes the value of a database mirroring monitoring parameter.</span></span>|  
    |[<span data-ttu-id="eec00-161">sp_dbmmonitorhelpmonitoring</span><span class="sxs-lookup"><span data-stu-id="eec00-161">sp_dbmmonitorhelpmonitoring</span></span>](/sql/relational-databases/system-stored-procedures/sp-dbmmonitorhelpmonitoring-transact-sql)|<span data-ttu-id="eec00-162">Retorna o período de atualização atual.</span><span class="sxs-lookup"><span data-stu-id="eec00-162">Returns the current update period.</span></span>|  
    |[<span data-ttu-id="eec00-163">sp_dbmmonitorresults</span><span class="sxs-lookup"><span data-stu-id="eec00-163">sp_dbmmonitorresults</span></span>](/sql/relational-databases/system-stored-procedures/sp-dbmmonitorresults-transact-sql)|<span data-ttu-id="eec00-164">Retorna linhas de status para um banco de dados monitorado e lhe permite escolher se o procedimento obtém o último status antecipadamente.</span><span class="sxs-lookup"><span data-stu-id="eec00-164">Returns status rows for a monitored database and allows you to choose whether the procedure obtains the latest status beforehand.</span></span>|  
    |[<span data-ttu-id="eec00-165">sp_dbmmonitordropmonitoring</span><span class="sxs-lookup"><span data-stu-id="eec00-165">sp_dbmmonitordropmonitoring</span></span>](/sql/relational-databases/system-stored-procedures/sp-dbmmonitordropmonitoring-transact-sql)|<span data-ttu-id="eec00-166">Interrompe e exclui a tarefa de monitoramento de espelhamento para todos os bancos de dados na instância do servidor.</span><span class="sxs-lookup"><span data-stu-id="eec00-166">Stops and deletes the mirroring monitor job for all the databases on the server instance.</span></span>|  
  
     <span data-ttu-id="eec00-167">Os procedimentos armazenados do sistema **dbmmonitor** podem ser usados como complemento do Monitor de Espelhamento de Banco de Dados.</span><span class="sxs-lookup"><span data-stu-id="eec00-167">The **dbmmonitor** system stored procedures can be used as an adjunct to the Database Mirroring Monitor.</span></span> <span data-ttu-id="eec00-168">Por exemplo, mesmo que o monitoramento tenha sido configurado usando o **sp_dbmmonitoraddmonitoring**, o Monitor de Espelhamento de Banco de Dados poderá ser usado para exibir o status.</span><span class="sxs-lookup"><span data-stu-id="eec00-168">For example, even if monitoring was configured using **sp_dbmmonitoraddmonitoring**, Database Mirroring Monitor can be used to view the status.</span></span>  
  
### <a name="how-monitoring-works"></a><span data-ttu-id="eec00-169">Como monitorar trabalhos</span><span class="sxs-lookup"><span data-stu-id="eec00-169">How Monitoring Works</span></span>  
 <span data-ttu-id="eec00-170">Essa seção apresenta a tabela de status de espelhamento de banco de dados, o trabalho de monitor de espelhamento de banco de dados e o monitor, como os usuários podem monitorar o status de espelhamento de banco de dados e como o trabalho de monitoramento pode ser descartado.</span><span class="sxs-lookup"><span data-stu-id="eec00-170">This section introduces the database mirroring status table, database mirroring monitor job and the monitor, how users can monitor database mirroring status, and how the monitoring job can be dropped.</span></span>  
  
#### <a name="database-mirroring-status-table"></a><span data-ttu-id="eec00-171">Tabela de status de espelhamento de banco de dados</span><span class="sxs-lookup"><span data-stu-id="eec00-171">Database Mirroring Status Table</span></span>  
 <span data-ttu-id="eec00-172">O status de espelhamento de banco de dados é armazenado em uma tabela de status de espelhamento de banco de dados interna, não documentada, no banco de dados **msdb** .</span><span class="sxs-lookup"><span data-stu-id="eec00-172">Database mirroring status is stored in an internal, undocumented database mirroring status table in the **msdb** database.</span></span> <span data-ttu-id="eec00-173">Essa tabela de status é criada automaticamente na primeira vez em que o status de espelhamento é atualizado na instância de servidor.</span><span class="sxs-lookup"><span data-stu-id="eec00-173">This status table is automatically created the first time the mirroring status is updated on the server instance.</span></span>  
  
 <span data-ttu-id="eec00-174">A tabela de status pode ser atualizada automática ou manualmente por um administrador de sistema, com um intervalo de atualização mínimo de 15 segundos.</span><span class="sxs-lookup"><span data-stu-id="eec00-174">The status table may be updated either automatically or manually by a system administrator, with a minimum update interval of 15 seconds.</span></span> <span data-ttu-id="eec00-175">O mínimo de 15 segundos evita que instâncias de servidor sejam sobrecarregadas com solicitações de status.</span><span class="sxs-lookup"><span data-stu-id="eec00-175">The 15 second minimum prevents server instances from being overloaded with status requests.</span></span>  
  
 <span data-ttu-id="eec00-176">A tabela de status é automaticamente atualizada tanto pelo Monitor de Espelhamento de Banco de Dados quanto pelo trabalho de monitor de espelhamento de banco de dados, se estiverem sendo executados.</span><span class="sxs-lookup"><span data-stu-id="eec00-176">The status table is updated automatically by both Database Mirroring Monitor and the database mirroring monitor job, if running.</span></span> <span data-ttu-id="eec00-177">O**Trabalho de Monitor de Espelhamento de Banco de Dados** atualiza a tabela a cada minuto, por padrão (um administrador do sistema pode especificar um período de atualização de 1 a 120 minutos).</span><span class="sxs-lookup"><span data-stu-id="eec00-177">**Database Mirroring Monitor Job** updates the table once a minute by default (a system administrator can specify an update period of 1 to 120 minutes).</span></span> <span data-ttu-id="eec00-178">O Monitor de Espelhamento de Banco de Dados, ao contrário, atualiza a tabela automaticamente a cada 30 segundos.</span><span class="sxs-lookup"><span data-stu-id="eec00-178">Database Mirroring Monitor, in contrast, updates the table automatically every 30 seconds.</span></span> <span data-ttu-id="eec00-179">Para essas atualizações, o **Trabalho de Monitor de Espelhamento de Banco de Dados** e o Monitor de Espelhamento de Banco de Dados chamam **sp_dbmmonitorupdate**.</span><span class="sxs-lookup"><span data-stu-id="eec00-179">For these updates, **Database Mirroring Monitor Job** and Database Mirroring Monitor call **sp_dbmmonitorupdate**.</span></span>  
  
 <span data-ttu-id="eec00-180">Na primeira vez que o **sp_dbmmonitorupdate** é executado, ele cria a tabela de **status de espelhamento de banco de dados** e a função de banco de dados fixa **dbm_monitor** no banco de dados **msdb** .</span><span class="sxs-lookup"><span data-stu-id="eec00-180">The first time **sp_dbmmonitorupdate** runs, it creates the **database mirroring status** table and the **dbm_monitor** fixed database role in the **msdb** database.</span></span> <span data-ttu-id="eec00-181">Normalmente,**sp_dbmmonitorupdate** atualiza o status de espelhamento inserindo uma nova linha na tabela de status para cada banco de dados espelho na instância de servidor; para obter mais informações, veja “Tabela de status de espelhamento de banco de dados”, mais adiante neste tópico.</span><span class="sxs-lookup"><span data-stu-id="eec00-181">**sp_dbmmonitorupdate** usually updates the mirroring status by inserting a new row into the status table for every mirrored database on the server instance; for more information, see "Database Mirroring Status Table," later in this topic.</span></span> <span data-ttu-id="eec00-182">Esse procedimento também avalia a métrica de desempenho nas linhas novas e faz o truncamento de linhas mais antigas do que o período de retenção atual (o padrão é 7 dias).</span><span class="sxs-lookup"><span data-stu-id="eec00-182">This procedure also evaluates the performance metrics in the new rows and truncates rows older than the current retention period (the default is 7 days).</span></span> <span data-ttu-id="eec00-183">Para obter mais informações, veja [sp_dbmmonitorupdate &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-dbmmonitorupdate-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="eec00-183">For more information, see [sp_dbmmonitorupdate &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-dbmmonitorupdate-transact-sql).</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="eec00-184">A menos que o Monitor de Espelhamento de Banco de Dados esteja sendo usado no momento por um membro da função de servidor fixa **sysadmin** , a tabela de status só será automaticamente atualizada se o **Trabalho de Monitor de Espelhamento de Banco de Dados** existir e se o [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent estiver sendo executado.</span><span class="sxs-lookup"><span data-stu-id="eec00-184">Unless Database Mirroring Monitor is currently being used by a member of the **sysadmin** fixed server role, the status table is automatically updated only if the **Database Mirroring Monitor Job** exists and [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent is running.</span></span>  
  
#### <a name="database-mirroring-monitor-job"></a><span data-ttu-id="eec00-185">Trabalho do Monitor de Espelhamento de Banco de Dados</span><span class="sxs-lookup"><span data-stu-id="eec00-185">Database Mirroring Monitor Job</span></span>  
 <span data-ttu-id="eec00-186">O trabalho de monitor de espelhamento de banco de dados, **Trabalho de Monitor de Espelhamento de Banco de Dados**, opera independentemente do Monitor de Espelhamento de Banco de Dados.</span><span class="sxs-lookup"><span data-stu-id="eec00-186">The database mirroring monitoring job, **Database Mirroring Monitor Job**, operates independently of Database Mirroring Monitor.</span></span> <span data-ttu-id="eec00-187">O**Trabalho de Monitor de Espelhamento de Banco de Dados** será criado automaticamente somente se [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] for usado para iniciar uma sessão de espelhamento.</span><span class="sxs-lookup"><span data-stu-id="eec00-187">**Database Mirroring Monitor Job** is created automatically only if [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] is used to start a mirroring session.</span></span> <span data-ttu-id="eec00-188">Se os comandos ALTER DATABASE *database_name* SET PARTNER forem sempre usados para iniciar um espelhamento, o trabalho só existirá se o administrador de sistema executar o procedimento armazenado **sp_dbmmonitoraddmonitoring** .</span><span class="sxs-lookup"><span data-stu-id="eec00-188">If ALTER DATABASE *database_name* SET PARTNER commands are always used to start mirroring, the job exists only if the system administrator runs the **sp_dbmmonitoraddmonitoring** stored procedure.</span></span>  
  
 <span data-ttu-id="eec00-189">Depois que o **Trabalho de Monitor de Espelhamento de Banco de Dados** for criado, e supondo-se que o [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent esteja sendo executado, o trabalho será chamado a cada minuto, por padrão.</span><span class="sxs-lookup"><span data-stu-id="eec00-189">After **Database Mirroring Monitor Job** is created, assuming that [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent is running, the job is called once a minute, by default.</span></span> <span data-ttu-id="eec00-190">Em seguida, o trabalho chama o procedimento armazenado do sistema **sp_dbmmonitorupdate** .</span><span class="sxs-lookup"><span data-stu-id="eec00-190">The job then calls the **sp_dbmmonitorupdate** system stored procedure.</span></span>  
  
 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="eec00-191">O Agent chama o **Trabalho de Monitor de Espelhamento de Banco de Dados** a cada minuto, por padrão, e o trabalho chama **sp_dbmmonitorupdate** para atualizar a tabela de status.</span><span class="sxs-lookup"><span data-stu-id="eec00-191">Agent calls **Database Mirroring Monitor Job** once a minute, by default, and the job calls **sp_dbmmonitorupdate** to update the status table.</span></span> <span data-ttu-id="eec00-192">Administradores do sistema podem alterar o período de atualização usando o procedimento armazenado do sistema **sp_dbmmonitorchangemonitoring** e podem exibir o período de atualização atual usando o procedimento armazenado do sistema **sp_dbmmonitorchangemonitoring** .</span><span class="sxs-lookup"><span data-stu-id="eec00-192">System administrators can change the update period by using the **sp_dbmmonitorchangemonitoring** system stored procedure, and they can view the current update period by using the **sp_dbmmonitorchangemonitoring** system stored procedure.</span></span> <span data-ttu-id="eec00-193">Para obter mais informações, veja [sp_dbmmonitoraddmonitoring &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-dbmmonitoraddmonitoring-transact-sql) e [sp_dbmmonitorchangemonitoring &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-dbmmonitorchangemonitoring-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="eec00-193">For more information, see [sp_dbmmonitoraddmonitoring &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-dbmmonitoraddmonitoring-transact-sql) and [sp_dbmmonitorchangemonitoring &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-dbmmonitorchangemonitoring-transact-sql).</span></span>  
  
#### <a name="monitoring-database-mirroring-status-by-system-administrators"></a><span data-ttu-id="eec00-194">Monitorando status de espelhamento de banco de dados (por Administradores de sistema)</span><span class="sxs-lookup"><span data-stu-id="eec00-194">Monitoring Database Mirroring Status (by System Administrators)</span></span>  
 <span data-ttu-id="eec00-195">Membros da função de servidor fixa **sysadmin** podem exibir e atualizar a tabela de status</span><span class="sxs-lookup"><span data-stu-id="eec00-195">Members of the **sysadmin** fixed server role can view and update the status table</span></span>  
  
-   <span data-ttu-id="eec00-196">Usando o Monitor de Espelhamento de Banco de Dados</span><span class="sxs-lookup"><span data-stu-id="eec00-196">Using Database Mirroring Monitor</span></span>  
  
     <span data-ttu-id="eec00-197">Ao usar o Monitor de Espelhamento de Banco de Dados, um administrador de sistema pode atualizar manualmente a página **Status** , a árvore de navegação ou a página **Histórico** .</span><span class="sxs-lookup"><span data-stu-id="eec00-197">When using Database Mirroring Monitor, a system administrator can manually refresh the **Status** page, navigation tree, or **History** page.</span></span> <span data-ttu-id="eec00-198">Isso também atualiza a tabela de status, a menos que ela já tenha sido atualizada nos 15 segundos anteriores.</span><span class="sxs-lookup"><span data-stu-id="eec00-198">This also updates the status table, unless it has already been updated within the previous 15 seconds.</span></span>  
  
     <span data-ttu-id="eec00-199">Para exibir o histórico de status de espelhamento em determinada instância de servidor, o administrador do sistema também pode clicar no botão **Histórico** de uma instância de servidor (na página **Status** ).</span><span class="sxs-lookup"><span data-stu-id="eec00-199">To view the history of mirroring status on a given server instance, the system administrator can also click the **History** button for a server instance (on the **Status** page).</span></span> <span data-ttu-id="eec00-200">O histórico é exibido na caixa de diálogo **Histórico do Espelhamento de Banco de Dados** .</span><span class="sxs-lookup"><span data-stu-id="eec00-200">The history is displayed in the **Database Mirroring History** dialog box.</span></span> <span data-ttu-id="eec00-201">Ali, o administrador de sistema pode exibir algumas ou todas as linhas na tabela de status da instância de servidor.</span><span class="sxs-lookup"><span data-stu-id="eec00-201">There, the system administrator can view some or all of the rows in the status table of the server instance.</span></span>  
  
     <span data-ttu-id="eec00-202">Para obter mais informações sobre a métrica de página **Status** , consulte Métrica de Desempenho, exibida pelo "Monitor de Espelhamento de Banco de Dados," mais adiante neste tópico.</span><span class="sxs-lookup"><span data-stu-id="eec00-202">For information about the **Status** page metrics, see Performance Metrics Displayed by the "Database Mirroring Monitor," later in this topic.</span></span>  
  
-   <span data-ttu-id="eec00-203">Usando **sp_dbmmonitorresults**</span><span class="sxs-lookup"><span data-stu-id="eec00-203">Using **sp_dbmmonitorresults**</span></span>  
  
     <span data-ttu-id="eec00-204">Administradores do sistema podem usar o procedimento armazenado do sistema **sp_dbmmonitorresults** para exibir e, opcionalmente, atualizar a tabela de status, caso não tenha sido atualizada nos 15 segundos anteriores.</span><span class="sxs-lookup"><span data-stu-id="eec00-204">System administrators can use the **sp_dbmmonitorresults** system stored procedure to view and, optionally, to update the status table, if it has not been updated within the previous 15 seconds.</span></span> <span data-ttu-id="eec00-205">Esse procedimento chama o procedimento **sp_dbmmonitorupdate** e retorna uma ou mais linhas do histórico, dependendo da quantidade solicitada na chamada de procedimento.</span><span class="sxs-lookup"><span data-stu-id="eec00-205">This procedure calls the **sp_dbmmonitorupdate** procedure and returns one or more history rows, depending on the amount requested in the procedure call.</span></span> <span data-ttu-id="eec00-206">Para obter informações sobre o status em seu conjunto de resultados, veja [sp_dbmmonitorresults &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-dbmmonitorresults-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="eec00-206">For information about the status in its results set, see [sp_dbmmonitorresults &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-dbmmonitorresults-transact-sql).</span></span>  
  
#### <a name="monitoring-database-mirroring-status-by-dbm_monitor-members"></a><span data-ttu-id="eec00-207">Monitorando o status de espelhamento de banco de dados (por membros dbm_monitor)</span><span class="sxs-lookup"><span data-stu-id="eec00-207">Monitoring Database Mirroring Status (by dbm_monitor Members)</span></span>  
 <span data-ttu-id="eec00-208">Conforme mencionado, na primeira vez que **sp_dbmmonitorupdate** é executado, ele cria a função de banco de dados fixa **dbm_monitor** no banco de dados **msdb** .</span><span class="sxs-lookup"><span data-stu-id="eec00-208">As mentioned, the first time **sp_dbmmonitorupdate** runs, it creates the **dbm_monitor** fixed database role in the **msdb** database.</span></span> <span data-ttu-id="eec00-209">Membros da função de banco de dados fixa **dbm_monitor** podem exibir o status de espelhamento existente usando o Monitor de Espelhamento de Banco de Dados ou o procedimento armazenado **sp_dbmmonitorresults** .</span><span class="sxs-lookup"><span data-stu-id="eec00-209">Members of the **dbm_monitor** fixed database role can view the existing mirroring status by using either Database Mirroring Monitor or the **sp_dbmmonitorresults** stored procedure.</span></span> <span data-ttu-id="eec00-210">Esses usuários, porém, não podem atualizar a tabela de status.</span><span class="sxs-lookup"><span data-stu-id="eec00-210">But these users cannot update the status table.</span></span> <span data-ttu-id="eec00-211">Para saber a idade do status exibido, um usuário pode examinar os horários nos rótulos **log principal ( ***\<time>*** )** e **log de espelho ( ***\<time>*** )** na página **status** .</span><span class="sxs-lookup"><span data-stu-id="eec00-211">To learn the age of the displayed status a user can look at the times in the **Principal log (***\<time>***)** and **Mirror log (***\<time>***)** labels on the **Status** page.</span></span>  
  
 <span data-ttu-id="eec00-212">Membros da função de banco de dados fixa **dbm_monitor** dependem do **Trabalho de Monitor de Espelhamento de Banco de Dados** para atualizar a tabela de status em intervalos regulares.</span><span class="sxs-lookup"><span data-stu-id="eec00-212">Members of the **dbm_monitor** fixed database role depend on the **Database Mirroring Monitor Job** to update the status table at regular intervals.</span></span> <span data-ttu-id="eec00-213">Se o trabalho não existir ou o [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent for interrompido, o status se tornará cada vez mais obsoleto e poderá deixar de refletir a configuração da sessão de espelhamento.</span><span class="sxs-lookup"><span data-stu-id="eec00-213">If the job does not exist or [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent is stopped, the status becomes increasingly stale and may no longer reflect the configuration of the mirroring session.</span></span> <span data-ttu-id="eec00-214">Por exemplo, depois de um failover, poderá parecer que os parceiros compartilham a mesma função, principal ou espelhada ou o servidor principal atual poderá ser mostrado como o espelho e o servidor espelhado atual como o principal.</span><span class="sxs-lookup"><span data-stu-id="eec00-214">For example, after a failover, the partners might appear to share the same role-principal or mirror, or the current principal server might be shown as the mirror, while the current mirror server is shown as the principal.</span></span>  
  
#### <a name="dropping-the-database-mirroring-monitor-job"></a><span data-ttu-id="eec00-215">Descartando o Trabalho de Monitor de Espelhamento de Banco de Dados</span><span class="sxs-lookup"><span data-stu-id="eec00-215">Dropping the Database Mirroring Monitor Job</span></span>  
 <span data-ttu-id="eec00-216">O trabalho de monitor de espelhamento de banco de dados, **Trabalho de Monitor de Espelhamento de Banco de Dados**, permanece até que seja descartado.</span><span class="sxs-lookup"><span data-stu-id="eec00-216">The database mirroring monitor job, **Database Mirroring Monitor Job**, remains until it is dropped.</span></span> <span data-ttu-id="eec00-217">O trabalho de monitoramento deve ser gerenciado pelo administrador de sistema.</span><span class="sxs-lookup"><span data-stu-id="eec00-217">The monitoring job must be managed by the system administrator.</span></span> <span data-ttu-id="eec00-218">Para remover o **Trabalho de Monitor de Espelhamento de Banco de Dados**, use **sp_dbmmonitordropmonitoring**.</span><span class="sxs-lookup"><span data-stu-id="eec00-218">To drop **Database Mirroring Monitor Job**, use **sp_dbmmonitordropmonitoring**.</span></span> <span data-ttu-id="eec00-219">Para obter mais informações, veja [sp_dbmmonitordropmonitoring &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-dbmmonitordropmonitoring-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="eec00-219">For more information, see [sp_dbmmonitordropmonitoring &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-dbmmonitordropmonitoring-transact-sql).</span></span>  
  
###  <a name="status-displayed-by-the-database-mirroring-monitor"></a><a name="perf_metrics_of_dbm_monitor"></a> <span data-ttu-id="eec00-220">Status exibido pelo Monitor de Espelhamento de Banco de Dados</span><span class="sxs-lookup"><span data-stu-id="eec00-220">Status Displayed by the Database Mirroring Monitor</span></span>  
 <span data-ttu-id="eec00-221">A página **Status** do Monitor de Espelhamento de Banco de Dados descreve os parceiros, e também o estado da sessão de espelhamento.</span><span class="sxs-lookup"><span data-stu-id="eec00-221">The **Status** page of the Database Mirroring Monitor describes the partners, and also the state of the mirroring session.</span></span> <span data-ttu-id="eec00-222">O status inclui métrica de desempenho como o estado de log de transações, além de outras informações, com o objetivo de ajudar o cálculo atual da hora exigida para completar um failover e o potencial de perda de dados, se a sessão não for sincronizada.</span><span class="sxs-lookup"><span data-stu-id="eec00-222">The status includes performance metrics such as the state of the transaction log and other information that is intended to help currently estimate the time required to complete a failover and the potential of data loss, if the session is not synchronized.</span></span> <span data-ttu-id="eec00-223">Além disso, a página **Status** exibe status e informações em geral sobre a sessão de espelhamento.</span><span class="sxs-lookup"><span data-stu-id="eec00-223">In addition, the **Status** page displays status and information about the mirroring session in general.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="eec00-224">Para obter uma introdução do Monitor de Espelhamento de Banco de Dados e da página **Status** , confira [Ferramentas para monitoramento de status de espelhamento de banco de dados](#tools_for_monitoring_dbm_status), acima neste tópico.</span><span class="sxs-lookup"><span data-stu-id="eec00-224">For an introduction to the Database Mirroring Monitor and **Status** page, see [Tools for Monitoring Database Mirroring Status](#tools_for_monitoring_dbm_status), earlier in this topic.</span></span>  
  
 <span data-ttu-id="eec00-225">As informações fornecidas para cada um deles é resumida nas seções a seguir.</span><span class="sxs-lookup"><span data-stu-id="eec00-225">The information provided for each of these is summarized in the following sections.</span></span>  
  
#### <a name="partners"></a><span data-ttu-id="eec00-226">Parceiros</span><span class="sxs-lookup"><span data-stu-id="eec00-226">Partners</span></span>  
 <span data-ttu-id="eec00-227">A página **Status** exibe as seguintes informações para cada um dos parceiros:</span><span class="sxs-lookup"><span data-stu-id="eec00-227">The **Status** page displays the following information for each of the partners:</span></span>  
  
-   <span data-ttu-id="eec00-228">Instância de servidor</span><span class="sxs-lookup"><span data-stu-id="eec00-228">Server instance</span></span>  
  
     <span data-ttu-id="eec00-229">Nome da instância de servidor cujo status é exibido na linha **Status** .</span><span class="sxs-lookup"><span data-stu-id="eec00-229">Name of the server instance whose status is displayed in the **Status** row.</span></span>  
  
-   <span data-ttu-id="eec00-230">Função atual</span><span class="sxs-lookup"><span data-stu-id="eec00-230">Current role</span></span>  
  
     <span data-ttu-id="eec00-231">Função atual da instância de servidor.</span><span class="sxs-lookup"><span data-stu-id="eec00-231">Current role of the server instance.</span></span> <span data-ttu-id="eec00-232">Os possíveis estados são:</span><span class="sxs-lookup"><span data-stu-id="eec00-232">The possible states are:</span></span>  
  
    -   <span data-ttu-id="eec00-233">Principal</span><span class="sxs-lookup"><span data-stu-id="eec00-233">Principal</span></span>  
  
    -   <span data-ttu-id="eec00-234">Espelho</span><span class="sxs-lookup"><span data-stu-id="eec00-234">Mirror</span></span>  
  
-   <span data-ttu-id="eec00-235">estado de espelhamento</span><span class="sxs-lookup"><span data-stu-id="eec00-235">Mirroring state</span></span>  
  
     <span data-ttu-id="eec00-236">Os possíveis estados são:</span><span class="sxs-lookup"><span data-stu-id="eec00-236">The possible states are:</span></span>  
  
    -   <span data-ttu-id="eec00-237">Unknown (desconhecido)</span><span class="sxs-lookup"><span data-stu-id="eec00-237">Unknown</span></span>  
  
    -   <span data-ttu-id="eec00-238">Sincronizando</span><span class="sxs-lookup"><span data-stu-id="eec00-238">Synchronizing</span></span>  
  
    -   <span data-ttu-id="eec00-239">Sincronizado</span><span class="sxs-lookup"><span data-stu-id="eec00-239">Synchronized</span></span>  
  
    -   <span data-ttu-id="eec00-240">Suspenso</span><span class="sxs-lookup"><span data-stu-id="eec00-240">Suspended</span></span>  
  
    -   <span data-ttu-id="eec00-241">Desconectado</span><span class="sxs-lookup"><span data-stu-id="eec00-241">Disconnected</span></span>  
  
-   <span data-ttu-id="eec00-242">Conexão de testemunha</span><span class="sxs-lookup"><span data-stu-id="eec00-242">Witness connection</span></span>  
  
     <span data-ttu-id="eec00-243">Status de conexão de testemunha.</span><span class="sxs-lookup"><span data-stu-id="eec00-243">Connection status of the witness.</span></span> <span data-ttu-id="eec00-244">Os possíveis estados são:</span><span class="sxs-lookup"><span data-stu-id="eec00-244">The possible states are:</span></span>  
  
    -   <span data-ttu-id="eec00-245">Unknown (desconhecido)</span><span class="sxs-lookup"><span data-stu-id="eec00-245">Unknown</span></span>  
  
    -   <span data-ttu-id="eec00-246">Conectado</span><span class="sxs-lookup"><span data-stu-id="eec00-246">Connected</span></span>  
  
    -   <span data-ttu-id="eec00-247">Desconectado</span><span class="sxs-lookup"><span data-stu-id="eec00-247">Disconnected.</span></span>  
  
#### <a name="log-on-the-principal-server"></a><span data-ttu-id="eec00-248">Efetue logon do servidor principal</span><span class="sxs-lookup"><span data-stu-id="eec00-248">Log on the Principal Server</span></span>  
 <span data-ttu-id="eec00-249">A página **Status** exibe as seguintes informações sobre o status do log no servidor principal a partir da hora indicada:</span><span class="sxs-lookup"><span data-stu-id="eec00-249">The **Status** page displays the following information about the status of the log on the principal server as of the indicated time:</span></span>  
  
-   <span data-ttu-id="eec00-250">Log não enviado</span><span class="sxs-lookup"><span data-stu-id="eec00-250">Unsent log</span></span>  
  
     <span data-ttu-id="eec00-251">A quantidade de log esperando na fila de envio em quilobytes (KB).</span><span class="sxs-lookup"><span data-stu-id="eec00-251">The amount of log waiting in the send queue in kilobytes (KB).</span></span>  
  
-   <span data-ttu-id="eec00-252">Transação não enviada mais antiga</span><span class="sxs-lookup"><span data-stu-id="eec00-252">Oldest unsent transaction</span></span>  
  
     <span data-ttu-id="eec00-253">Idade da transação não enviada mais antiga na fila de envio.</span><span class="sxs-lookup"><span data-stu-id="eec00-253">Age of the oldest unsent transaction in the send queue.</span></span> <span data-ttu-id="eec00-254">A idade dessa transação indica quantos minutos de transações ainda não foram enviados à instância de servidor espelho.</span><span class="sxs-lookup"><span data-stu-id="eec00-254">The age of this transaction indicates how many minutes of transactions have not yet been sent to the mirror server instance.</span></span> <span data-ttu-id="eec00-255">Esse valor ajuda a medir o potencial de perda de dados em termos de tempo.</span><span class="sxs-lookup"><span data-stu-id="eec00-255">This value helps measure the potential for data loss in terms of time.</span></span>  
  
-   <span data-ttu-id="eec00-256">Tempo para enviar o log (estimado)</span><span class="sxs-lookup"><span data-stu-id="eec00-256">Time to send log (estimated)</span></span>  
  
     <span data-ttu-id="eec00-257">Número estimado de minutos que a instância de servidor principal exige para enviar o log atualmente na fila de envio para a instância de servidor espelho com base na taxa de envio atual.</span><span class="sxs-lookup"><span data-stu-id="eec00-257">Estimated number of minutes the principal server instance requires to send the log that is currently in the send queue to the mirror server instance based on the current send rate.</span></span> <span data-ttu-id="eec00-258">A hora real para o envio do log será afetada pela taxa de transações de entrada que podem variar significativamente.</span><span class="sxs-lookup"><span data-stu-id="eec00-258">The actual time to send the log will be affected by the rate of incoming transactions, which can vary significantly.</span></span> <span data-ttu-id="eec00-259">Porém, o valor **Tempo para enviar o log (estimado)** pode ser útil para o cálculo, aproximado, do tempo exigido para um failover manual.</span><span class="sxs-lookup"><span data-stu-id="eec00-259">However, the **Time to send log (estimated)** value can be useful for roughly estimating the time required for a manual failover.</span></span>  
  
-   <span data-ttu-id="eec00-260">Taxa de envio atual</span><span class="sxs-lookup"><span data-stu-id="eec00-260">Current send rate</span></span>  
  
     <span data-ttu-id="eec00-261">Taxa à qual estão sendo enviadas transações à instância de servidor espelho em KB por segundo.</span><span class="sxs-lookup"><span data-stu-id="eec00-261">Rate at which transactions are being sent to the mirror server instance in KB per second.</span></span>  
  
-   <span data-ttu-id="eec00-262">Taxa atual de transações novas</span><span class="sxs-lookup"><span data-stu-id="eec00-262">Current rate of new transactions</span></span>  
  
     <span data-ttu-id="eec00-263">Taxa em que as transações de entrada estão sendo inseridas no log do servidor principal, em KB por segundo.</span><span class="sxs-lookup"><span data-stu-id="eec00-263">Rate at which incoming transactions are being entered into the principal's log in KB per second.</span></span> <span data-ttu-id="eec00-264">Para determinar se o espelhamento está atrasado, ativo ou atualizado, compare esse valor ao valor do **Tempo para enviar o log (estimado)** .</span><span class="sxs-lookup"><span data-stu-id="eec00-264">To determine whether mirroring is falling behind, staying up, or catching up, compare this value to the **Estimated time to send log** value.</span></span>  
  
#### <a name="log-on-the-mirror-server"></a><span data-ttu-id="eec00-265">Efetue logon do servidor espelho</span><span class="sxs-lookup"><span data-stu-id="eec00-265">Log on the Mirror Server</span></span>  
 <span data-ttu-id="eec00-266">A página **Status** exibe as seguintes informações sobre o status do log no servidor espelho a partir da hora indicada:</span><span class="sxs-lookup"><span data-stu-id="eec00-266">The **Status** page displays the following information about the status of the log on the mirror server as of the indicated time:</span></span>  
  
-   <span data-ttu-id="eec00-267">Log não restaurado</span><span class="sxs-lookup"><span data-stu-id="eec00-267">Unrestored log</span></span>  
  
     <span data-ttu-id="eec00-268">A quantidade de log esperando na fila de restauração em KB.</span><span class="sxs-lookup"><span data-stu-id="eec00-268">The amount of log waiting in the redo queue in KB.</span></span>  
  
-   <span data-ttu-id="eec00-269">Tempo para recuperar o log (estimado)</span><span class="sxs-lookup"><span data-stu-id="eec00-269">Time to restore log (estimated)</span></span>  
  
     <span data-ttu-id="eec00-270">Número aproximado de minutos exigido para que o log atualmente na fila de restauração seja aplicado ao banco de dados espelho.</span><span class="sxs-lookup"><span data-stu-id="eec00-270">Approximate number of minutes required for the log currently in the redo queue to be applied to the mirror database.</span></span>  
  
-   <span data-ttu-id="eec00-271">Taxa atual de restauração</span><span class="sxs-lookup"><span data-stu-id="eec00-271">Current restore rate</span></span>  
  
     <span data-ttu-id="eec00-272">Taxa em que as transações estão sendo restauradas no banco de dados espelho (em KB por segundo).</span><span class="sxs-lookup"><span data-stu-id="eec00-272">Rate at which transactions are being restored into the mirror database (in KB per second).</span></span>  
  
#### <a name="mirroring-session"></a><span data-ttu-id="eec00-273">Sessão de espelhamento</span><span class="sxs-lookup"><span data-stu-id="eec00-273">Mirroring Session</span></span>  
 <span data-ttu-id="eec00-274">Além disso, a página **Status** exibe as seguintes informações sobre a sessão de espelhamento.</span><span class="sxs-lookup"><span data-stu-id="eec00-274">In addition, the **Status** page displays the following information about the mirroring session:</span></span>  
  
-   <span data-ttu-id="eec00-275">Sobrecarga de confirmação de espelhamento</span><span class="sxs-lookup"><span data-stu-id="eec00-275">Mirroring commit overhead</span></span>  
  
     <span data-ttu-id="eec00-276">Atraso médio por transação em milissegundos (pertinente apenas em modo de alta segurança).</span><span class="sxs-lookup"><span data-stu-id="eec00-276">Average delay per transaction in milliseconds (relevant only in high-safety mode).</span></span> <span data-ttu-id="eec00-277">Esse atraso consiste na quantidade de sobrecarga incidente enquanto a instância do servidor principal aguarda que a instância do servidor espelho grave o registro do log da transação na fila de restauração.</span><span class="sxs-lookup"><span data-stu-id="eec00-277">This delay is the amount of overhead incurred while the principal server instance waits for the mirror server instance to write the transaction's log record into the redo queue.</span></span>  
  
-   <span data-ttu-id="eec00-278">Tempo para enviar e restaurar todos os logs atuais (estimado)</span><span class="sxs-lookup"><span data-stu-id="eec00-278">Time to send and restore all current log (estimated)</span></span>  
  
     <span data-ttu-id="eec00-279">Tempo estimado necessário para enviar todo o log não enviado confirmado no principal e para restaurar todo o log atualmente na fila de restauração.</span><span class="sxs-lookup"><span data-stu-id="eec00-279">Estimated time needed to send all of the unsent log that has been committed at the principal and to restore all of the log currently in the redo queue.</span></span> <span data-ttu-id="eec00-280">Essa estimativa pode ser menor do que a soma dos valores dos campos **Tempo para enviar o log (estimado)** e **Tempo para recuperar o log (estimado)** uma vez que o envio e a restauração podem operar em paralelo.</span><span class="sxs-lookup"><span data-stu-id="eec00-280">This estimate may be less than the sum of the values of the **Time to send log (estimated)** and **Time to restore log (estimated)** fields, because sending and restoring can operate in parallel.</span></span>  
  
-   <span data-ttu-id="eec00-281">Endereço de testemunha</span><span class="sxs-lookup"><span data-stu-id="eec00-281">Witness address</span></span>  
  
     <span data-ttu-id="eec00-282">Endereço de rede da instância de servidor testemunha.</span><span class="sxs-lookup"><span data-stu-id="eec00-282">Network address of the witness server instance.</span></span> <span data-ttu-id="eec00-283">Para obter informações sobre o formato desse endereço, veja [Especificar um endereço de rede do servidor &#40;Espelhamento de Banco de Dados&#41;](specify-a-server-network-address-database-mirroring.md).</span><span class="sxs-lookup"><span data-stu-id="eec00-283">For information about the format of this address, see [Specify a Server Network Address &#40;Database Mirroring&#41;](specify-a-server-network-address-database-mirroring.md).</span></span>  
  
-   <span data-ttu-id="eec00-284">Modo de operação</span><span class="sxs-lookup"><span data-stu-id="eec00-284">Operating mode</span></span>  
  
     <span data-ttu-id="eec00-285">Modo operacional da sessão de espelhamento de banco de dados:</span><span class="sxs-lookup"><span data-stu-id="eec00-285">The operating mode of the database mirroring session:</span></span>  
  
    -   <span data-ttu-id="eec00-286">Alto desempenho (assíncrono)</span><span class="sxs-lookup"><span data-stu-id="eec00-286">High performance (asynchronous)</span></span>  
  
    -   <span data-ttu-id="eec00-287">Alta segurança sem failover automático (síncrono)</span><span class="sxs-lookup"><span data-stu-id="eec00-287">High safety without automatic failover (synchronous)</span></span>  
  
    -   <span data-ttu-id="eec00-288">Alta segurança com failover automático (síncrono)</span><span class="sxs-lookup"><span data-stu-id="eec00-288">High safety with automatic failover (synchronous)</span></span>  
  
##  <a name="additional-sources-of-information-about-a-mirrored-database"></a><a name="AdditionalSources"></a> <span data-ttu-id="eec00-289">Fontes adicionais de informação sobre um banco de dados espelho</span><span class="sxs-lookup"><span data-stu-id="eec00-289">Additional Sources of Information About a Mirrored Database</span></span>  
 <span data-ttu-id="eec00-290">Além de usar os procedimentos armazenados do Monitor de Espelhamento de Banco de Dados e dbmmonitor para monitorar um banco de dados espelhado e configurar alertas em variáveis de desempenho monitoradas, o [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] fornece exibições de catálogo, contadores de desempenho e notificações de eventos para espelhamento de banco de dados.</span><span class="sxs-lookup"><span data-stu-id="eec00-290">In addition to using the Database Mirroring Monitor and dbmmonitor stored procedures to monitor a mirrored database and set up alerts on monitored performance variables, [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] provides catalog views, performance counters, and event notifications for database mirroring.</span></span>  
  
 <span data-ttu-id="eec00-291">**Nesta seção:**</span><span class="sxs-lookup"><span data-stu-id="eec00-291">**In This Section:**</span></span>  
  
-   [<span data-ttu-id="eec00-292">Metadados de espelhamento de banco de dados</span><span class="sxs-lookup"><span data-stu-id="eec00-292">Database Mirroring Metadata</span></span>](#DbmMetadata)  
  
-   [<span data-ttu-id="eec00-293">Contadores de desempenho para espelhamento de banco de dados.</span><span class="sxs-lookup"><span data-stu-id="eec00-293">Database Mirroring Performance Counters</span></span>](#DbmPerfCounters)  
  
-   [<span data-ttu-id="eec00-294">Notificações de eventos de espelhamento de banco de dados.</span><span class="sxs-lookup"><span data-stu-id="eec00-294">Database Mirroring Event Notifications</span></span>](#DbmEventNotif)  
  
###  <a name="database-mirroring-metadata"></a><a name="DbmMetadata"></a> <span data-ttu-id="eec00-295">Metadados de espelhamento de banco de dados</span><span class="sxs-lookup"><span data-stu-id="eec00-295">Database Mirroring Metadata</span></span>  
 <span data-ttu-id="eec00-296">Cada sessão de espelhamento de banco de dados é descrita em metadados expostos pelos catálogo ou exibições de gerenciamento dinâmico seguintes:</span><span class="sxs-lookup"><span data-stu-id="eec00-296">Each database mirroring session is described in metadata that is exposed through the following catalog or dynamic management views:</span></span>  
  
-   <span data-ttu-id="eec00-297">**sys.database_mirroring**</span><span class="sxs-lookup"><span data-stu-id="eec00-297">**sys.database_mirroring**</span></span>  
  
     <span data-ttu-id="eec00-298">Essa exibição mostra os metadados de espelhamento de banco de dados de cada banco de dados espelho em uma instância de servidor.</span><span class="sxs-lookup"><span data-stu-id="eec00-298">This view displays the database mirroring metadata for each mirrored database in a server instance.</span></span> <span data-ttu-id="eec00-299">Para obter mais informações, veja [sys.database_mirroring &#40;Transact-SQL&#41;](/sql/relational-databases/system-catalog-views/sys-database-mirroring-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="eec00-299">For more information, see [sys.database_mirroring &#40;Transact-SQL&#41;](/sql/relational-databases/system-catalog-views/sys-database-mirroring-transact-sql).</span></span>  
  
-   <span data-ttu-id="eec00-300">**sys.database_mirroring_endpoints**</span><span class="sxs-lookup"><span data-stu-id="eec00-300">**sys.database_mirroring_endpoints**</span></span>  
  
     <span data-ttu-id="eec00-301">A exibição de catálogo **sys.database_mirroring_endpoints** mostra informações sobre o ponto de extremidade do espelhamento de banco de dados da instância do servidor.</span><span class="sxs-lookup"><span data-stu-id="eec00-301">The **sys.database_mirroring_endpoints** catalog view displays information about the database mirroring endpoint of the server instance.</span></span> <span data-ttu-id="eec00-302">Para obter mais informações, veja [sys.database_mirroring_endpoints &#40;Transact-SQL&#41;](/sql/relational-databases/system-catalog-views/sys-database-mirroring-endpoints-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="eec00-302">For more information, see [sys.database_mirroring_endpoints &#40;Transact-SQL&#41;](/sql/relational-databases/system-catalog-views/sys-database-mirroring-endpoints-transact-sql).</span></span>  
  
-   <span data-ttu-id="eec00-303">**sys.database_mirroring_witnesses**</span><span class="sxs-lookup"><span data-stu-id="eec00-303">**sys.database_mirroring_witnesses**</span></span>  
  
     <span data-ttu-id="eec00-304">Essa exibição de catálogo mostra os metadados de espelhamento de banco de dados para cada sessão na qual uma instância de servidor é a testemunha.</span><span class="sxs-lookup"><span data-stu-id="eec00-304">This catalog view displays the database mirroring metadata for each session in which a server instance is the witness.</span></span> <span data-ttu-id="eec00-305">Para obter mais informações, veja [sys.database_mirroring_witnesses &#40;Transact-SQL&#41;](/sql/relational-databases/system-catalog-views/database-mirroring-witness-catalog-views-sys-database-mirroring-witnesses).</span><span class="sxs-lookup"><span data-stu-id="eec00-305">For more information, see [sys.database_mirroring_witnesses &#40;Transact-SQL&#41;](/sql/relational-databases/system-catalog-views/database-mirroring-witness-catalog-views-sys-database-mirroring-witnesses).</span></span>  
  
-   <span data-ttu-id="eec00-306">**sys.dm_db_mirroring_connections**</span><span class="sxs-lookup"><span data-stu-id="eec00-306">**sys.dm_db_mirroring_connections**</span></span>  
  
     <span data-ttu-id="eec00-307">Essa exibição de gerenciamento dinâmico retorna uma linha para cada conexão de rede de espelhamento de banco de dados.</span><span class="sxs-lookup"><span data-stu-id="eec00-307">This dynamic management view returns a row for each database mirroring network connection.</span></span>  
  
     <span data-ttu-id="eec00-308">Para obter mais informações, veja [sys.dm_db_mirroring_connections &#40;Transact-SQL&#41;](/sql/relational-databases/system-dynamic-management-views/database-mirroring-sys-dm-db-mirroring-connections).</span><span class="sxs-lookup"><span data-stu-id="eec00-308">For more information, see [sys.dm_db_mirroring_connections &#40;Transact-SQL&#41;](/sql/relational-databases/system-dynamic-management-views/database-mirroring-sys-dm-db-mirroring-connections).</span></span>  
  
###  <a name="database-mirroring-performance-counters"></a><a name="DbmPerfCounters"></a> <span data-ttu-id="eec00-309">Contadores de desempenho para espelhamento de banco de dados.</span><span class="sxs-lookup"><span data-stu-id="eec00-309">Database Mirroring Performance Counters</span></span>  
 <span data-ttu-id="eec00-310">Os contadores de desempenho permitem que você monitore o desempenho de espelhamento de banco de dados.</span><span class="sxs-lookup"><span data-stu-id="eec00-310">Performance counters let you monitor database mirroring performance.</span></span> <span data-ttu-id="eec00-311">Por exemplo, você pode examinar o contador **Atraso na Transação** para verificar se o espelhamento de banco de dados está afetando o desempenho do servidor principal, você pode examinar os contadores **Fila de Restauração** e **Fila de Envio de Log** para verificar como o banco de dados espelho está se comportando em relação ao banco de dados principal.</span><span class="sxs-lookup"><span data-stu-id="eec00-311">For example, you can examine the **Transaction Delay** counter to see if database mirroring is impacting performance on the principal server, you can examine the **Redo Queue** and **Log Send Queue** counters to see how well the mirror database is keeping up with the principal database.</span></span> <span data-ttu-id="eec00-312">Você pode examinar o contador **Bytes de Log Enviados/s** para monitorar a quantidade de logs enviados por segundo.</span><span class="sxs-lookup"><span data-stu-id="eec00-312">You can examine the **Log Bytes Sent/sec** counter to monitor the amount of log sent per second.</span></span>  
  
 <span data-ttu-id="eec00-313">No Monitor de Desempenho em qualquer um dos parceiros, os contadores de desempenho estão disponíveis no objeto de desempenho de espelhamento de banco de dados (**SQLServer:Database Mirroring**).</span><span class="sxs-lookup"><span data-stu-id="eec00-313">In Performance Monitor on either partner, performance counters are available in the database mirroring performance object (**SQLServer:Database Mirroring**).</span></span> <span data-ttu-id="eec00-314">Para obter mais informações, consulte [SQL Server, Database Mirroring Object](../../relational-databases/performance-monitor/sql-server-database-mirroring-object.md).</span><span class="sxs-lookup"><span data-stu-id="eec00-314">For more information, see [SQL Server, Database Mirroring Object](../../relational-databases/performance-monitor/sql-server-database-mirroring-object.md).</span></span>  
  
 <span data-ttu-id="eec00-315">**Para iniciar o monitor de desempenho**</span><span class="sxs-lookup"><span data-stu-id="eec00-315">**To start the performance monitor**</span></span>  
  
-   [<span data-ttu-id="eec00-316">Iniciar o Monitor do Sistema &#40;Windows&#41;</span><span class="sxs-lookup"><span data-stu-id="eec00-316">Start System Monitor &#40;Windows&#41;</span></span>](../../relational-databases/performance/start-system-monitor-windows.md)  
  
###  <a name="database-mirroring-event-notifications"></a><a name="DbmEventNotif"></a> <span data-ttu-id="eec00-317">Notificações de eventos de espelhamento de banco de dados.</span><span class="sxs-lookup"><span data-stu-id="eec00-317">Database Mirroring Event Notifications</span></span>  
 <span data-ttu-id="eec00-318">As notificações de evento são um tipo especial de objeto de banco de dados.</span><span class="sxs-lookup"><span data-stu-id="eec00-318">Event notifications are a special kind of database object.</span></span> <span data-ttu-id="eec00-319">As notificações de evento são executadas em resposta a uma variedade de instruções DDL (linguagem de definição de dados) Transact-SQL e eventos de Rastreamento do SQL e enviam informações sobre o servidor e eventos de banco de dados para um serviço [!INCLUDE[ssSB](../../includes/sssb-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="eec00-319">Event notifications execute in response to a variety of Transact-SQL data definition language (DDL) statements and SQL Trace events and send information about server and database events to a [!INCLUDE[ssSB](../../includes/sssb-md.md)] service.</span></span>  
  
 <span data-ttu-id="eec00-320">Os seguintes eventos estão disponíveis para o espelhamento de banco de dados:</span><span class="sxs-lookup"><span data-stu-id="eec00-320">The following events are available for database mirroring:</span></span>  
  
-   <span data-ttu-id="eec00-321">Classe de evento**Database Mirroring State Change**</span><span class="sxs-lookup"><span data-stu-id="eec00-321">**Database Mirroring State Change** event class</span></span>  
  
     <span data-ttu-id="eec00-322">Isso indica quando o estado de espelhamento de um banco de dados espelho muda.</span><span class="sxs-lookup"><span data-stu-id="eec00-322">This indicates when the mirroring state of a mirrored database changes.</span></span> <span data-ttu-id="eec00-323">Para obter mais informações, consulte [Database Mirroring State Change Event Class](../../relational-databases/event-classes/database-mirroring-state-change-event-class.md).</span><span class="sxs-lookup"><span data-stu-id="eec00-323">For more information, see [Database Mirroring State Change Event Class](../../relational-databases/event-classes/database-mirroring-state-change-event-class.md).</span></span>  
  
-   <span data-ttu-id="eec00-324">Classe de evento**Audit Database Mirroring Login**</span><span class="sxs-lookup"><span data-stu-id="eec00-324">**Audit Database Mirroring Login** event class</span></span>  
  
     <span data-ttu-id="eec00-325">Informa mensagens de auditoria relacionadas à segurança de transporte do espelhamento de banco de dados.</span><span class="sxs-lookup"><span data-stu-id="eec00-325">This reports audit messages related to database mirroring transport security.</span></span> <span data-ttu-id="eec00-326">Para obter mais informações, consulte [Audit Database Mirroring Login Event Class](../../relational-databases/event-classes/audit-database-mirroring-login-event-class.md).</span><span class="sxs-lookup"><span data-stu-id="eec00-326">For more information, see [Audit Database Mirroring Login Event Class](../../relational-databases/event-classes/audit-database-mirroring-login-event-class.md).</span></span>  
  
##  <a name="related-tasks"></a><a name="RelatedTasks"></a> <span data-ttu-id="eec00-327">Tarefas relacionadas</span><span class="sxs-lookup"><span data-stu-id="eec00-327">Related Tasks</span></span>  
  
-   [<span data-ttu-id="eec00-328">Usar os limites de aviso e alertas em métricas de desempenho de espelhamento &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="eec00-328">Use Warning Thresholds and Alerts on Mirroring Performance Metrics &#40;SQL Server&#41;</span></span>](use-warning-thresholds-and-alerts-on-mirroring-performance-metrics-sql-server.md)  
  
-   [<span data-ttu-id="eec00-329">Iniciar o Monitor de Espelhamento de Banco de Dados &#40;SQL Server Management Studio&#41;</span><span class="sxs-lookup"><span data-stu-id="eec00-329">Start Database Mirroring Monitor &#40;SQL Server Management Studio&#41;</span></span>](../database-mirroring/start-database-mirroring-monitor-sql-server-management-studio.md)  
  
-   [<span data-ttu-id="eec00-330">Exibir o estado de um banco de dados espelhado &#40;SQL Server Management Studio&#41;</span><span class="sxs-lookup"><span data-stu-id="eec00-330">View the State of a Mirrored Database &#40;SQL Server Management Studio&#41;</span></span>](view-the-state-of-a-mirrored-database-sql-server-management-studio.md)  
  
 <span data-ttu-id="eec00-331">**Procedimentos armazenados**</span><span class="sxs-lookup"><span data-stu-id="eec00-331">**Stored procedures**</span></span>  
  
-   [<span data-ttu-id="eec00-332">sp_dbmmonitoraddmonitoring &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="eec00-332">sp_dbmmonitoraddmonitoring &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-stored-procedures/sp-dbmmonitoraddmonitoring-transact-sql)  
  
-   [<span data-ttu-id="eec00-333">sp_dbmmonitorchangealert &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="eec00-333">sp_dbmmonitorchangealert &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-stored-procedures/sp-dbmmonitorchangealert-transact-sql)  
  
-   [<span data-ttu-id="eec00-334">sp_dbmmonitorchangemonitoring &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="eec00-334">sp_dbmmonitorchangemonitoring &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-stored-procedures/sp-dbmmonitorchangemonitoring-transact-sql)  
  
-   [<span data-ttu-id="eec00-335">sp_dbmmonitordropalert &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="eec00-335">sp_dbmmonitordropalert &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-stored-procedures/sp-dbmmonitordropalert-transact-sql)  
  
-   [<span data-ttu-id="eec00-336">sp_dbmmonitordropmonitoring &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="eec00-336">sp_dbmmonitordropmonitoring &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-stored-procedures/sp-dbmmonitordropmonitoring-transact-sql)  
  
-   [<span data-ttu-id="eec00-337">sp_dbmmonitorhelpalert &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="eec00-337">sp_dbmmonitorhelpalert &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-stored-procedures/sp-dbmmonitorhelpalert-transact-sql)  
  
-   [<span data-ttu-id="eec00-338">sp_dbmmonitorhelpmonitoring &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="eec00-338">sp_dbmmonitorhelpmonitoring &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-stored-procedures/sp-dbmmonitorhelpmonitoring-transact-sql)  
  
-   [<span data-ttu-id="eec00-339">sp_dbmmonitorresults &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="eec00-339">sp_dbmmonitorresults &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-stored-procedures/sp-dbmmonitorresults-transact-sql)  
  
-   [<span data-ttu-id="eec00-340">sp_dbmmonitorupdate &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="eec00-340">sp_dbmmonitorupdate &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-stored-procedures/sp-dbmmonitorupdate-transact-sql)  
  
## <a name="see-also"></a><span data-ttu-id="eec00-341">Consulte Também</span><span class="sxs-lookup"><span data-stu-id="eec00-341">See Also</span></span>  
 <span data-ttu-id="eec00-342">[Espelhamento de banco de dados &#40;SQL Server&#41;](database-mirroring-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="eec00-342">[Database Mirroring &#40;SQL Server&#41;](database-mirroring-sql-server.md) </span></span>  
 [<span data-ttu-id="eec00-343">Provedor WMI para conceitos de eventos de servidor</span><span class="sxs-lookup"><span data-stu-id="eec00-343">WMI Provider for Server Events Concepts</span></span>](../../relational-databases/wmi-provider-server-events/wmi-provider-for-server-events-concepts.md)  
  
  
