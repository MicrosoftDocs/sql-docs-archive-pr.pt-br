---
title: Servidores remotos | Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: configuration
ms.topic: conceptual
helpviewer_keywords:
- server management [SQL Server], remote servers
- remote servers [SQL Server], configuring
- remote servers [SQL Server]
- servers [SQL Server], remote
- remote access option
ms.assetid: abf0fa24-f199-4273-9a1a-e8787ac9bee1
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: 1d42fc2ed6acd4e46e383c0a56afcc8a8b27d3aa
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87574274"
---
# <a name="remote-servers"></a><span data-ttu-id="59195-102">Servidores remotos</span><span class="sxs-lookup"><span data-stu-id="59195-102">Remote Servers</span></span>
  <span data-ttu-id="59195-103">Os servidores remotos só têm suporte no [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] para compatibilidade com versões anteriores.</span><span class="sxs-lookup"><span data-stu-id="59195-103">Remote servers are supported in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] for backward compatibility only.</span></span> <span data-ttu-id="59195-104">Os novos aplicativos devem usar servidores vinculados.</span><span class="sxs-lookup"><span data-stu-id="59195-104">New applications should use linked servers instead.</span></span> <span data-ttu-id="59195-105">Para obter mais informações, veja [Servidores vinculados &#40;Mecanismo de Banco de Dados&#41;](../../relational-databases/linked-servers/linked-servers-database-engine.md).</span><span class="sxs-lookup"><span data-stu-id="59195-105">For more information, see [Linked Servers &#40;Database Engine&#41;](../../relational-databases/linked-servers/linked-servers-database-engine.md).</span></span>  
  
 <span data-ttu-id="59195-106">Uma configuração de servidor remoto permite que um cliente conectado a uma instância do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] execute um procedimento armazenado em outra instância do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] sem estabelecer uma conexão separada.</span><span class="sxs-lookup"><span data-stu-id="59195-106">A remote server configuration allows for a client connected to one instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] to execute a stored procedure on another instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] without establishing a separate connection.</span></span> <span data-ttu-id="59195-107">Em vez disso, o servidor ao qual o cliente está conectado aceita a solicitação do cliente e envia a solicitação para o servidor remoto em nome do cliente.</span><span class="sxs-lookup"><span data-stu-id="59195-107">Instead, the server to which the client is connected accepts the client request and sends the request to the remote server on behalf of the client.</span></span> <span data-ttu-id="59195-108">O servidor remoto processa a solicitação e retorna todos os resultados ao servidor original.</span><span class="sxs-lookup"><span data-stu-id="59195-108">The remote server processes the request and returns any results to the original server.</span></span> <span data-ttu-id="59195-109">Esse servidor, por sua vez, passa esses resultados para o cliente.</span><span class="sxs-lookup"><span data-stu-id="59195-109">This server in turn passes those results to the client.</span></span> <span data-ttu-id="59195-110">Quando você define uma configuração de servidor remoto, deve considerar também como estabelecer a segurança.</span><span class="sxs-lookup"><span data-stu-id="59195-110">When you set up a remote server configuration, you should also consider how to establish security.</span></span>  
  
 <span data-ttu-id="59195-111">Se você quiser definir uma configuração de servidor para executar procedimentos armazenados em outro servidor e não possuir configurações de servidor remoto, use servidores vinculados em vez de servidores remotos.</span><span class="sxs-lookup"><span data-stu-id="59195-111">If you want to set up a server configuration to execute stored procedures on another server and do not have existing remote server configurations, use linked servers instead of remote servers.</span></span> <span data-ttu-id="59195-112">Procedimentos armazenados e consultas distribuídas são permitidos em servidores vinculados; no entanto, somente procedimentos armazenados são permitidos em servidores remotos.</span><span class="sxs-lookup"><span data-stu-id="59195-112">Both stored procedures and distributed queries are allowed against linked servers; however, only stored procedures are allowed against remote servers.</span></span>  
  
## <a name="remote-server-details"></a><span data-ttu-id="59195-113">Detalhes do servidor remoto</span><span class="sxs-lookup"><span data-stu-id="59195-113">Remote Server Details</span></span>  
 <span data-ttu-id="59195-114">Os servidores remotos são definidos em pares.</span><span class="sxs-lookup"><span data-stu-id="59195-114">Remote servers are set up in pairs.</span></span> <span data-ttu-id="59195-115">Para definir um par de servidores remotos, configure ambos os servidores para reconhecerem um ao outro como servidores remotos.</span><span class="sxs-lookup"><span data-stu-id="59195-115">To set up a pair of remote servers, configure both servers to recognize each other as remote servers.</span></span>  
  
 <span data-ttu-id="59195-116">Na maioria das vezes, você não precisará definir opções de configuração para servidores remotos.</span><span class="sxs-lookup"><span data-stu-id="59195-116">Most of the time, you should not have to set configuration options for remote servers.</span></span> [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="59195-117">define os padrões em ambos os computadores locais e remotos para permitir conexões de servidor remoto.</span><span class="sxs-lookup"><span data-stu-id="59195-117">Set sets the defaults on both the local and remote computers to allow for remote server connections.</span></span>  
  
 <span data-ttu-id="59195-118">Para que o acesso ao servidor remoto funcione, a opção de configuração **acesso remoto** deve ser definida como 1 no computador local e no computador remoto.</span><span class="sxs-lookup"><span data-stu-id="59195-118">For remote server access to work, the **remote access** configuration option must be set to 1 on both the local and remote computers.</span></span> <span data-ttu-id="59195-119">(Essa é a definição padrão.) O  **acesso remoto** controla os logons de servidores remotos.</span><span class="sxs-lookup"><span data-stu-id="59195-119">(This is the default setting.)  **remote access** controls logins from remote servers.</span></span> <span data-ttu-id="59195-120">Você pode redefinir essa opção de configuração usando o procedimento armazenado [!INCLUDE[tsql](../../includes/tsql-md.md)] **sp_configure** ou o [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span><span class="sxs-lookup"><span data-stu-id="59195-120">You can reset this configuration option by using either the [!INCLUDE[tsql](../../includes/tsql-md.md)] **sp_configure** stored procedure or [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span></span> <span data-ttu-id="59195-121">Para definir a opção no [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)], na página **Propriedades do Servidor - Conexões** , use **Permitir conexões remotas com este servidor**.</span><span class="sxs-lookup"><span data-stu-id="59195-121">To set the option in [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)], on the **Server Properties Connections** page, use **Allow remote connections to this server**.</span></span> <span data-ttu-id="59195-122">Para acessar a página **Propriedades do Servidor – Conexões** , no Pesquisador de Objetos, clique com o botão direito do mouse no nome do servidor e clique em **Propriedades**.</span><span class="sxs-lookup"><span data-stu-id="59195-122">To reach the **Server Properties Connections** page, in Object Explorer, right-click the server name, and then click **Properties**.</span></span> <span data-ttu-id="59195-123">Na página **Propriedades do Servidor** , clique na página **Conexões** .</span><span class="sxs-lookup"><span data-stu-id="59195-123">On the **Server Properties** page, click the **Connections** page.</span></span>  
  
 <span data-ttu-id="59195-124">No servidor local, é possível desabilitar uma configuração de servidor remoto para evitar o acesso ao servidor local por usuários do servidor remoto com o qual ele faz par.</span><span class="sxs-lookup"><span data-stu-id="59195-124">From the local server, you can disable a remote server configuration to prevent access to that local server by users on the remote server with which it is paired.</span></span>  
  
## <a name="security-for-remote-servers"></a><span data-ttu-id="59195-125">Segurança para servidores remotos</span><span class="sxs-lookup"><span data-stu-id="59195-125">Security for Remote Servers</span></span>  
 <span data-ttu-id="59195-126">Para habilitar RPCs (chamadas de procedimento remoto) em um servidor remoto, é necessário configurar mapeamentos de logon no servidor remoto e, possivelmente, no servidor local que está executando uma instância do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="59195-126">To enable remote procedure calls (RPC) against a remote server, you must set up login mappings on the remote server and possibly on the local server that is running an instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="59195-127">A RPC é desabilitada por padrão no [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="59195-127">RPC is disabled by default in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="59195-128">Essa configuração aumenta a segurança do servidor reduzindo sua área da superfície passível de ataque.</span><span class="sxs-lookup"><span data-stu-id="59195-128">This configuration enhances the security of your server by reducing its attackable surface area.</span></span> <span data-ttu-id="59195-129">Antes de usar RPC, é necessário habilitar esse recurso.</span><span class="sxs-lookup"><span data-stu-id="59195-129">Before using RPC you must enable this feature.</span></span> <span data-ttu-id="59195-130">Para obter mais informações, veja [sp_configure &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-configure-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="59195-130">For more information see [sp_configure &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-configure-transact-sql).</span></span>  
  
### <a name="setting-up-the-remote-server"></a><span data-ttu-id="59195-131">Configurando o servidor remoto</span><span class="sxs-lookup"><span data-stu-id="59195-131">Setting Up the Remote Server</span></span>  
 <span data-ttu-id="59195-132">Os mapeamentos de logon remoto devem ser configurados no servidor remoto.</span><span class="sxs-lookup"><span data-stu-id="59195-132">Remote login mappings must be set up on the remote server.</span></span> <span data-ttu-id="59195-133">Usando esses mapeamentos, o servidor remoto mapeia o logon de entrada de uma conexão RPC, de um servidor especificado para um logon local.</span><span class="sxs-lookup"><span data-stu-id="59195-133">Using these mappings, the remote server maps the incoming login for an RPC connection from a specified server to a local login.</span></span> <span data-ttu-id="59195-134">Os mapeamentos de logon remoto podem ser configurados com o procedimento armazenado **sp_addremotelogin** no servidor remoto.</span><span class="sxs-lookup"><span data-stu-id="59195-134">Remote login mappings can be set up by using the **sp_addremotelogin** stored procedure on the remote server.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="59195-135">A opção **confiável** de  **sp_remoteoption** não tem suporte no [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="59195-135">The **trusted** option of  **sp_remoteoption** is not supported in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span>  
  
### <a name="setting-up-the-local-server"></a><span data-ttu-id="59195-136">Configurando o servidor local</span><span class="sxs-lookup"><span data-stu-id="59195-136">Setting Up the Local Server</span></span>  
 <span data-ttu-id="59195-137">Para logons locais de autenticação do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , você não precisa configurar um mapeamento de logon no servidor local.</span><span class="sxs-lookup"><span data-stu-id="59195-137">For [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] authenticated local logins, you do not have to set up a login mapping on the local server.</span></span> [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="59195-138">usa o logon e a senha locais para se conectar ao servidor remoto.</span><span class="sxs-lookup"><span data-stu-id="59195-138">uses the local login and password to connect to the remote server.</span></span> <span data-ttu-id="59195-139">Para logons autenticados do Windows, configure um mapeamento de logon local em um servidor local que defina que o logon e a senha sejam usados por uma instância do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] quando ele fizer uma conexão RPC para um servidor remoto.</span><span class="sxs-lookup"><span data-stu-id="59195-139">For Windows authenticated logins, set up a local login mapping on a local server that defines what login and password are used by an instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] when it makes an RPC connection to a remote server.</span></span>  
  
 <span data-ttu-id="59195-140">Para logons criados pela Autenticação do Windows, é necessário criar um mapeamento para um nome de logon e senha usando o procedimento armazenado **sp_addlinkedservlogin** .</span><span class="sxs-lookup"><span data-stu-id="59195-140">For logins created by Windows Authentication, you must create a mapping to a login name and password by using the **sp_addlinkedservlogin** stored procedure.</span></span> <span data-ttu-id="59195-141">Esse nome de logon e essa senha devem corresponder ao logon e senha de entrada esperados pelo servidor remoto, conforme criado por **sp_addremotelogin**.</span><span class="sxs-lookup"><span data-stu-id="59195-141">This login name and password must match the incoming login and password expected by the remote server, as created by **sp_addremotelogin**.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="59195-142">Quando possível, use a Autenticação do Windows.</span><span class="sxs-lookup"><span data-stu-id="59195-142">When possible, use Windows Authentication.</span></span>  
  
### <a name="remote-server-security-example"></a><span data-ttu-id="59195-143">Exemplo de segurança de servidor remoto</span><span class="sxs-lookup"><span data-stu-id="59195-143">Remote Server Security Example</span></span>  
 <span data-ttu-id="59195-144">Considere estas instalações do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] : **serverSend** e **serverReceive**.</span><span class="sxs-lookup"><span data-stu-id="59195-144">Consider these [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] installations: **serverSend** and **serverReceive**.</span></span> <span data-ttu-id="59195-145">**serverReceive** está configurado para mapear um logon de entrada de **serverSend**, chamado **Sales_Mary**, para um logon autenticado do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] no **serverReceive**, chamado **Brenda**.</span><span class="sxs-lookup"><span data-stu-id="59195-145">**serverReceive** is configured to map an incoming login from **serverSend**, called **Sales_Mary**, to a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] authenticated login in **serverReceive**, called **Alice**.</span></span> <span data-ttu-id="59195-146">Outro logon de entrada de **serverSend**, chamado **Joe**, está mapeado para um logon autenticado do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] em **serverReceive** _,_ chamado **Joe**.</span><span class="sxs-lookup"><span data-stu-id="59195-146">Another incoming login from **serverSend**, called **Joe**, is mapped to a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] authenticated login in **serverReceive**_,_ called **Joe**.</span></span>  
  
 <span data-ttu-id="59195-147">O exemplo de código do Transact-SQL a seguir configura `serverSend` para executar RPCs em `serverReceive`.</span><span class="sxs-lookup"><span data-stu-id="59195-147">The following Transact-SQL code example configures `serverSend` to perform RPCs against `serverReceive`.</span></span>  
  
```  
--Create remote server entry for RPCs   
--from serverSend in serverReceive.  
EXEC sp_addserver 'serverSend';  
GO  
  
--Create remote login mapping for login 'Sales_Mary' from serverSend  
--to Alice.  
EXEC sp_addremotelogin 'serverSend', 'Alice', 'Sales_Mary';  
GO  
--Create remote login mapping for login Joe from serverReceive   
--to same login.  
--Assumes same password for Joe in both servers.  
EXEC sp_addremotelogin 'serverSend', 'Joe', 'Joe';  
GO  
```  
  
 <span data-ttu-id="59195-148">Em `serverSend`, um mapeamento de logon local é criado para um logon autenticado do Windows `Sales\Mary` para um logon `Sales_Mary`.</span><span class="sxs-lookup"><span data-stu-id="59195-148">On `serverSend`, a local login mapping is created for a Windows authenticated login `Sales\Mary` to a login `Sales_Mary`.</span></span> <span data-ttu-id="59195-149">Nenhum mapeamento local é necessário para `Joe`, porque o padrão é usar o mesmo nome de logon e senha, e `serverReceive` tem um mapeamento para `Joe`.</span><span class="sxs-lookup"><span data-stu-id="59195-149">No local mapping is required for `Joe`, because the default is to use the same login name and password, and `serverReceive` has a mapping for `Joe`.</span></span>  
  
```  
--Create a remote server entry for RPCs from serverReceive.  
EXEC sp_addserver 'serverReceive';  
GO  
--Create a local login mapping for the Windows authenticated login.  
--Sales\Mary to Sales_Mary. The password should match the  
--password for the login Sales_Mary in serverReceive.  
EXEC sp_addlinkedsrvlogin 'serverReceive', false, 'Sales\Mary',  
   'Sales_Mary', '430[fj%dk';  
GO  
```  
  
## <a name="viewing-local-or-remote-server-properties"></a><span data-ttu-id="59195-150">Exibindo propriedades do servidor local ou remoto</span><span class="sxs-lookup"><span data-stu-id="59195-150">Viewing Local or Remote Server Properties</span></span>  
 <span data-ttu-id="59195-151">Você pode usar o procedimento armazenado estendido **xp_msver** para examinar atributos de servidores locais ou remotos.</span><span class="sxs-lookup"><span data-stu-id="59195-151">You can use the **xp_msver** extended stored procedure to review server attributes for local or remote servers.</span></span> <span data-ttu-id="59195-152">Entre esses atributos estão o número da versão do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], o tipo e o número de processadores no computador e a versão do sistema operacional.</span><span class="sxs-lookup"><span data-stu-id="59195-152">These attributes include the version number of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], the type and number of processors in the computer, and the version of the operating system.</span></span> <span data-ttu-id="59195-153">No servidor local, você pode exibir bancos de dados, arquivos, logons e ferramentas para um servidor remoto.</span><span class="sxs-lookup"><span data-stu-id="59195-153">From the local server, you can view databases, files, logins, and tools for a remote server.</span></span> <span data-ttu-id="59195-154">Para obter mais informações, veja [xp_msver &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/xp-msver-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="59195-154">For more information, see [xp_msver &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/xp-msver-transact-sql).</span></span>  
  
## <a name="related-tasks"></a><span data-ttu-id="59195-155">Related Tasks</span><span class="sxs-lookup"><span data-stu-id="59195-155">Related Tasks</span></span>  
 [<span data-ttu-id="59195-156">Servidores vinculados &#40;Mecanismo de Banco de Dados&#41;</span><span class="sxs-lookup"><span data-stu-id="59195-156">Linked Servers &#40;Database Engine&#41;</span></span>](../../relational-databases/linked-servers/linked-servers-database-engine.md)  
  
## <a name="related-content"></a><span data-ttu-id="59195-157">Conteúdo relacionado</span><span class="sxs-lookup"><span data-stu-id="59195-157">Related Content</span></span>  
 [<span data-ttu-id="59195-158">sp_configure &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="59195-158">sp_configure &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-stored-procedures/sp-configure-transact-sql)  
  
 [<span data-ttu-id="59195-159">Configurar a opção de configuração do servidor remote access</span><span class="sxs-lookup"><span data-stu-id="59195-159">Configure the remote access Server Configuration Option</span></span>](configure-the-remote-access-server-configuration-option.md)  
  
 [<span data-ttu-id="59195-160">RECONFIGURE &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="59195-160">RECONFIGURE &#40;Transact-SQL&#41;</span></span>](/sql/t-sql/language-elements/reconfigure-transact-sql)  
  
  
