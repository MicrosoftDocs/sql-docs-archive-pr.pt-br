---
title: Conectar-se ao Mecanismo de Banco de Dados usando a Proteção Estendida | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: configuration
ms.topic: conceptual
helpviewer_keywords:
- spoofing attacks
- service binding
- luring attacks
- Schannel
- channel binding
- Extended Protection
ms.assetid: ecfd783e-7dbb-4a6c-b5ab-c6c27d5dd57f
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: 718e5c9897f0883734d460e34ca26bba4f759a54
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87575327"
---
# <a name="connect-to-the-database-engine-using-extended-protection"></a><span data-ttu-id="53a19-102">Conectar-se ao mecanismo de banco de dados usando proteção estendida</span><span class="sxs-lookup"><span data-stu-id="53a19-102">Connect to the Database Engine Using Extended Protection</span></span>
  [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="53a19-103">dá suporte para a **Proteção Estendida** desde o [!INCLUDE[ssKilimanjaro](../../includes/sskilimanjaro-md.md)].</span><span class="sxs-lookup"><span data-stu-id="53a19-103">supports **Extended Protection** beginning with [!INCLUDE[ssKilimanjaro](../../includes/sskilimanjaro-md.md)].</span></span> <span data-ttu-id="53a19-104">A**Proteção Estendida para Autenticação** é um recurso dos componentes de rede implementado pelo sistema operacional.</span><span class="sxs-lookup"><span data-stu-id="53a19-104">**Extended Protection for Authentication** is a feature of the network components implemented by the operating system.</span></span> <span data-ttu-id="53a19-105">Há suporte para a**Proteção Estendida** no Windows 7 e no Windows Server 2008 R2.</span><span class="sxs-lookup"><span data-stu-id="53a19-105">**Extended Protection** is supported in Windows 7 and Windows Server 2008 R2.</span></span> <span data-ttu-id="53a19-106">**Proteção Estendida** é incluída em pacotes de serviço para sistemas operacionais [!INCLUDE[msCoName](../../includes/msconame-md.md)] mais antigos.</span><span class="sxs-lookup"><span data-stu-id="53a19-106">**Extended Protection** is included in service packs for older [!INCLUDE[msCoName](../../includes/msconame-md.md)] operating systems.</span></span> [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="53a19-107">é mais seguro quando as conexões são efetuadas usando a **Proteção Estendida**.</span><span class="sxs-lookup"><span data-stu-id="53a19-107">is more secure when connections are made using **Extended Protection**.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="53a19-108">O Windows não habilita a **Proteção Estendida** por padrão.</span><span class="sxs-lookup"><span data-stu-id="53a19-108">Windows does not enable **Extended Protection** by default.</span></span> <span data-ttu-id="53a19-109">Para obter informações sobre como habilitar a **Proteção Estendida** no Windows, consulte [Proteção Estendida para Autenticação](https://support.microsoft.com/kb/968389).</span><span class="sxs-lookup"><span data-stu-id="53a19-109">For information about how to enable **Extended Protection** in Windows, see [Extended Protection for Authentication](https://support.microsoft.com/kb/968389).</span></span>  
  
## <a name="description-of-extended-protection"></a><span data-ttu-id="53a19-110">Descrição da Proteção Estendida</span><span class="sxs-lookup"><span data-stu-id="53a19-110">Description of Extended Protection</span></span>  
 <span data-ttu-id="53a19-111">A**Proteção Estendida** usa a associação de serviço e de canal para ajudar a evitar ataques de retransmissão de autenticação.</span><span class="sxs-lookup"><span data-stu-id="53a19-111">**Extended Protection** uses service binding and channel binding to help prevent an authentication relay attack.</span></span> <span data-ttu-id="53a19-112">Em um ataque de retransmissão de autenticação, um cliente que pode executar autenticação NTLM (por exemplo, Windows Explorer, [!INCLUDE[msCoName](../../includes/msconame-md.md)] Outlook, um aplicativo .NET SqlClient, etc.), se conecta a um invasor (por exemplo, um servidor de arquivos CIFS mal-intencionado).</span><span class="sxs-lookup"><span data-stu-id="53a19-112">In an authentication relay attack, a client that can perform NTLM authentication (for example, Windows Explorer, [!INCLUDE[msCoName](../../includes/msconame-md.md)] Outlook, a .NET SqlClient application, etc.), connects to an attacker (for example, a malicious CIFS file server).</span></span> <span data-ttu-id="53a19-113">O invasor usa as credenciais do cliente para se passar pelo cliente e se autenticar em um serviço (por exemplo, uma instância do serviço [!INCLUDE[ssDE](../../includes/ssde-md.md)] ).</span><span class="sxs-lookup"><span data-stu-id="53a19-113">The attacker uses the client's credentials to masquerade as the client and authenticate to a service (for example, an instance of the [!INCLUDE[ssDE](../../includes/ssde-md.md)] service).</span></span>  
  
 <span data-ttu-id="53a19-114">Há duas variações deste ataque:</span><span class="sxs-lookup"><span data-stu-id="53a19-114">There are two variations of this attack:</span></span>  
  
-   <span data-ttu-id="53a19-115">Em um ataque de atração, o cliente é atraído para se conectar voluntariamente ao invasor.</span><span class="sxs-lookup"><span data-stu-id="53a19-115">In a luring attack, the client is lured to voluntarily connect to the attacker.</span></span>  
  
-   <span data-ttu-id="53a19-116">Em um ataque de falsificação, o cliente pretende se conectar a um serviço válido, mas não sabe que o DNS e/ou o roteamento IP foram adulterados para redirecionar a conexão para o invasor.</span><span class="sxs-lookup"><span data-stu-id="53a19-116">In a spoofing attack, the client intends to connect to a valid service, but is unaware that one or both of DNS and IP routing are poisoned to redirect the connection to the attacker instead.</span></span>  
  
 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="53a19-117">dá suporte para a associação de serviço e canal para ajudar a reduzir esses ataques em instâncias do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="53a19-117">supports service binding and channel binding to help reduce these attacks on [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] instances.</span></span>  
  
### <a name="service-binding"></a><span data-ttu-id="53a19-118">associação de serviço</span><span class="sxs-lookup"><span data-stu-id="53a19-118">Service Binding</span></span>  
 <span data-ttu-id="53a19-119">A associação de serviço lida com ataques de atração exigindo que um cliente envie um SPN (nome da entidade de serviço) assinado do serviço [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] ao qual o cliente pretende se conectar.</span><span class="sxs-lookup"><span data-stu-id="53a19-119">Service binding addresses luring attacks by requiring a client to send a signed service principal name (SPN) of the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] service that the client intends to connect to.</span></span> <span data-ttu-id="53a19-120">Como parte da resposta de autenticação, o serviço verifica se o SPN recebido no pacote corresponde a seu próprio SPN.</span><span class="sxs-lookup"><span data-stu-id="53a19-120">As part of the authentication response, the service validates that the SPN received in the packet matches its own SPN.</span></span> <span data-ttu-id="53a19-121">Se um cliente for atraído para se conectar a um invasor, esse cliente incluirá o SPN assinado do invasor.</span><span class="sxs-lookup"><span data-stu-id="53a19-121">If a client is lured to connect to an attacker, the client will include the signed SPN of the attacker.</span></span> <span data-ttu-id="53a19-122">O invasor não pode retransmitir o pacote para autenticação no serviço [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] real como o cliente, porque isso incluiria o SPN do invasor.</span><span class="sxs-lookup"><span data-stu-id="53a19-122">The attacker cannot relay the packet to authenticate to the real [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] service as the client, because it would include the SPN of the attacker.</span></span> <span data-ttu-id="53a19-123">A associação de serviço incorre em um custo único insignificante, mas não lida com ataques de falsificação.</span><span class="sxs-lookup"><span data-stu-id="53a19-123">Service binding incurs a one-time, negligible cost, but it does not address spoofing attacks.</span></span> <span data-ttu-id="53a19-124">A Associação de Serviço ocorre quando um aplicativo cliente não usa criptografia para se conectar ao [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="53a19-124">Service Binding occurs when a client application does not use encryption to connect to the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span>  
  
### <a name="channel-binding"></a><span data-ttu-id="53a19-125">associação de canal</span><span class="sxs-lookup"><span data-stu-id="53a19-125">Channel Binding</span></span>  
 <span data-ttu-id="53a19-126">A associação de canal estabelece um canal seguro (Schannel) entre um cliente e uma instância do serviço [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="53a19-126">Channel binding establishes a secure channel (Schannel) between a client and an instance of the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] service.</span></span> <span data-ttu-id="53a19-127">O serviço verifica a autenticidade do cliente comparando o CBT (token da associação de canal) do cliente específico a esse canal com seu próprio CBT.</span><span class="sxs-lookup"><span data-stu-id="53a19-127">The service verifies the authenticity of the client by comparing the client's channel binding token (CBT) specific to that channel, with its own CBT.</span></span> <span data-ttu-id="53a19-128">A associação de canal lida com ataques de atração e falsificação.</span><span class="sxs-lookup"><span data-stu-id="53a19-128">Channel binding addresses both luring and spoofing attacks.</span></span> <span data-ttu-id="53a19-129">No entanto, ela incorre em um custo de tempo real maior, porque requer a criptografia TLS de todo o tráfego da sessão.</span><span class="sxs-lookup"><span data-stu-id="53a19-129">However, it incurs a larger runtime cost, because it requires Transport Layer Security (TLS) encryption of all the session traffic.</span></span> <span data-ttu-id="53a19-130">A Associação de Canal ocorre quando um aplicativo cliente usa criptografia para se conectar ao [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], independentemente de a criptografia ser imposta pelo cliente ou pelo servidor.</span><span class="sxs-lookup"><span data-stu-id="53a19-130">Channel Binding occurs when a client application uses encryption to connect to the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], regardless of whether encryption is enforced by the client or by the server.</span></span>  
  
> [!WARNING]  
>  <span data-ttu-id="53a19-131">Os provedores de dados do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] e [!INCLUDE[msCoName](../../includes/msconame-md.md)] para o [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] dão suporte ao TLS 1.0 e SSL 3.0.</span><span class="sxs-lookup"><span data-stu-id="53a19-131">[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] and [!INCLUDE[msCoName](../../includes/msconame-md.md)] data providers for [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] support TLS 1.0 and SSL 3.0.</span></span> <span data-ttu-id="53a19-132">Se você impor um protocolo diferente (como TLS 1.1 ou TLS 1.2) fazendo alterações na camada de sistema operacional SChannel, suas conexões do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] poderão falhar.</span><span class="sxs-lookup"><span data-stu-id="53a19-132">If you enforce a different protocol (such as TLS 1.1 or TLS 1.2) by making changes in the operating system SChannel layer, your connections to [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] might fail.</span></span>  
  
### <a name="operating-system-support"></a><span data-ttu-id="53a19-133">Suporte do sistema operacional</span><span class="sxs-lookup"><span data-stu-id="53a19-133">Operating System Support</span></span>  
 <span data-ttu-id="53a19-134">Os seguintes links fornecem mais informações sobre o modo como o Windows dá suporte à **Proteção Estendida**:</span><span class="sxs-lookup"><span data-stu-id="53a19-134">The following links provide more information about how Windows supports **Extended Protection**:</span></span>  
  
-   [<span data-ttu-id="53a19-135">Autenticação Integrada do Windows com Proteção Estendida</span><span class="sxs-lookup"><span data-stu-id="53a19-135">Integrated Windows Authentication with Extended Protection</span></span>](https://msdn.microsoft.com/library/dd639324.aspx)  
  
-   [<span data-ttu-id="53a19-136">Microsoft Security Advisory (973811), Proteção Estendida para Autenticação</span><span class="sxs-lookup"><span data-stu-id="53a19-136">Microsoft Security Advisory (973811), Extended Protection for Authentication</span></span>](https://support.microsoft.com//help/973811/microsoft-security-advisory-extended-protection-for-authentication)  
  
## <a name="settings"></a><span data-ttu-id="53a19-137">Configurações</span><span class="sxs-lookup"><span data-stu-id="53a19-137">Settings</span></span>  
 <span data-ttu-id="53a19-138">Há três configurações de conexão do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] que afetam a associação de serviço e de canal.</span><span class="sxs-lookup"><span data-stu-id="53a19-138">There are three [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] connection settings that affect service binding and channel binding.</span></span> <span data-ttu-id="53a19-139">As configurações podem ser definidas com o uso do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Configuration Manager ou da WMI e podem ser exibidas usando-se a faceta **Configurações de Protocolo de Servidor** do Gerenciamento Baseado em Diretivas.</span><span class="sxs-lookup"><span data-stu-id="53a19-139">The settings can be configured by using the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Configuration Manager, or by using WMI, and can by viewed by using the **Server Protocol Settings** facet of Policy Based Management.</span></span>  
  
-   <span data-ttu-id="53a19-140">**Forçar criptografia**</span><span class="sxs-lookup"><span data-stu-id="53a19-140">**Force Encryption**</span></span>  
  
     <span data-ttu-id="53a19-141">Os valores possíveis são **Ativa** e **Inativa**.</span><span class="sxs-lookup"><span data-stu-id="53a19-141">Possible values are **On** and **Off**.</span></span> <span data-ttu-id="53a19-142">Para usar a associação de canal, a opção **Forçar Criptografia** deve ser definida como **Ativa**e todos os clientes serão forçados a criptografar.</span><span class="sxs-lookup"><span data-stu-id="53a19-142">To use channel binding, **Force Encryption** must be set to **On**, and all clients will be forced to encrypt.</span></span> <span data-ttu-id="53a19-143">Se for **Inativa**, somente a associação de serviço será garantida.</span><span class="sxs-lookup"><span data-stu-id="53a19-143">If it is **Off**, only service binding is guaranteed.</span></span> <span data-ttu-id="53a19-144">A opção**Forçar Criptografia** está localizada em **Protocolos para Propriedades MSSQLSERVER (Guia Snoalizadores)** no [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Configuration Manager.</span><span class="sxs-lookup"><span data-stu-id="53a19-144">**Force Encryption** is on the **Protocols for MSSQLSERVER Properties (Flags Tab)** in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Configuration Manager.</span></span>  
  
-   <span data-ttu-id="53a19-145">**Proteção estendida**</span><span class="sxs-lookup"><span data-stu-id="53a19-145">**Extended Protection**</span></span>  
  
     <span data-ttu-id="53a19-146">Os valores possíveis são **Ativa**, **Permitida**e **Obrigatória**.</span><span class="sxs-lookup"><span data-stu-id="53a19-146">Possible values are **Off**, **Allowed**, and **Required**.</span></span> <span data-ttu-id="53a19-147">A variável de **Proteção Estendida** permite que os usuários configurem o nível de **Proteção Estendida** para cada instância do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="53a19-147">The **Extended Protection** variable lets users configure the **Extended Protection** level for each [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] instance.</span></span> <span data-ttu-id="53a19-148">A**Proteção Estendida** está localizada em **Protocolos para Propriedades MSSQLSERVER (Guia Avançado)** no [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Configuration Manager.</span><span class="sxs-lookup"><span data-stu-id="53a19-148">**Extended Protection** is on the **Protocols for MSSQLSERVER Properties (Advanced Tab)** in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Configuration Manager.</span></span>  
  
    -   <span data-ttu-id="53a19-149">Quando definida como **Ativada**, a **Proteção Estendida** está desabilitada.</span><span class="sxs-lookup"><span data-stu-id="53a19-149">When set to **Off**, **Extended Protection** is disabled.</span></span> <span data-ttu-id="53a19-150">A instância do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] aceitará conexões de qualquer cliente, independentemente de o cliente estar protegido ou não.</span><span class="sxs-lookup"><span data-stu-id="53a19-150">The instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] will accept connections from any client regardless of whether the client is protected or not.</span></span> <span data-ttu-id="53a19-151">A opção**Desativada** é compatível com sistemas operacionais mais antigos e sem patches, mas é menos segura.</span><span class="sxs-lookup"><span data-stu-id="53a19-151">**Off** is compatible with older and unpatched operating systems, but is less secure.</span></span> <span data-ttu-id="53a19-152">Use essa configuração se você souber que os sistemas operacionais cliente não têm suporte para proteção estendida.</span><span class="sxs-lookup"><span data-stu-id="53a19-152">Use this setting when you know that the client operating systems do not support extended protection.</span></span>  
  
    -   <span data-ttu-id="53a19-153">Quando definida como **Permitida**, a **Proteção Estendida** é necessária para conexões de sistemas operacionais com suporte para a **Proteção Estendida**.</span><span class="sxs-lookup"><span data-stu-id="53a19-153">When set to **Allowed**, **Extended Protection** is required for connections from operating systems that support **Extended Protection**.</span></span> <span data-ttu-id="53a19-154">A**Proteção Estendida** é ignorada para conexões de sistemas operacionais que não têm suporte para **Proteção Estendida**.</span><span class="sxs-lookup"><span data-stu-id="53a19-154">**Extended Protection** is ignored for connections from operating systems that do not support **Extended Protection**.</span></span> <span data-ttu-id="53a19-155">As conexões de aplicativos cliente desprotegidos que estejam sendo executados em sistemas operacionais cliente protegidos são rejeitadas.</span><span class="sxs-lookup"><span data-stu-id="53a19-155">Connections from unprotected client applications that are running on protected client operating systems are rejected.</span></span> <span data-ttu-id="53a19-156">Essa configuração é mais segura que **Desativada**, mas não é a configuração mais segura.</span><span class="sxs-lookup"><span data-stu-id="53a19-156">This setting is more secure than **Off**, but is not the most secure setting.</span></span> <span data-ttu-id="53a19-157">Use essa configuração em ambientes mistos, onde alguns sistemas operacionais dão suporte à **Proteção Estendida** e outros não.</span><span class="sxs-lookup"><span data-stu-id="53a19-157">Use this setting in mixed environments, where some operating systems support **Extended Protection** and some do not.</span></span>  
  
    -   <span data-ttu-id="53a19-158">Quando definida como **Obrigatória**, somente conexões de aplicativos protegidos em sistemas operacionais protegidos são aceitas.</span><span class="sxs-lookup"><span data-stu-id="53a19-158">When set to **Required**, only connections from protected applications on protected operating systems are accepted.</span></span> <span data-ttu-id="53a19-159">Essa configuração é a mais segura dentre as três, mas conexões de sistemas operacionais ou aplicativos sem suporte para **Proteção Estendida** não poderão ser estabelecidas com o [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="53a19-159">This setting is the most secure but connections from operating systems or applications that do not support **Extended Protection** will not be able to connect to [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span>  
  
-   <span data-ttu-id="53a19-160">**SPNs NTLM aceitos**</span><span class="sxs-lookup"><span data-stu-id="53a19-160">**Accepted NTLM SPNs**</span></span>  
  
     <span data-ttu-id="53a19-161">A variável **SPNs NTLM Aceitos** é necessária quando um servidor é conhecido por mais de um SPN.</span><span class="sxs-lookup"><span data-stu-id="53a19-161">The **Accepted NTLM SPNs** variable is needed when a server is known by more than one SPN.</span></span> <span data-ttu-id="53a19-162">Quando um cliente tentar se conectar ao servidor usando um SPN válido que o servidor não conhece, a associação de serviço falhará.</span><span class="sxs-lookup"><span data-stu-id="53a19-162">When a client attempts to connect to the server by using a valid SPN that the server does not know, service binding will fail.</span></span> <span data-ttu-id="53a19-163">Para evitar esse problema, os usuários poderão especificar vários SPNs que representam o servidor usando **SPNs NTLM Aceitos**.</span><span class="sxs-lookup"><span data-stu-id="53a19-163">To avoid this problem, users can specify several SPNs that represent the server by using **Accepted NTLM SPNs**.</span></span> <span data-ttu-id="53a19-164">A opção**SPNs NTLM Aceitos** corresponde a uma série de SPNs separados por ponto-e-vírgulas.</span><span class="sxs-lookup"><span data-stu-id="53a19-164">**Accepted NTLM SPNs** is a series of SPNs separated my semicolons.</span></span> <span data-ttu-id="53a19-165">Por exemplo, para permitir os SPNs **MSSQLSvc/ HostName1.Contoso.com** e **MSSQLSvc/ HostName2.Contoso.com**, digite **MSSQLSvc/HostName1.Contoso.com;MSSQLSvc/HostName2.Contoso.com** na caixa **SPNs NTLM Aceitos** .</span><span class="sxs-lookup"><span data-stu-id="53a19-165">For example, to allow the SPNs **MSSQLSvc/ HostName1.Contoso.com** and **MSSQLSvc/ HostName2.Contoso.com**, type **MSSQLSvc/HostName1.Contoso.com;MSSQLSvc/HostName2.Contoso.com** in the **Accepted NTLM SPNs** box.</span></span> <span data-ttu-id="53a19-166">Essa variável tem um tamanho máximo de 2.048 caracteres.</span><span class="sxs-lookup"><span data-stu-id="53a19-166">The variable has a maximum length of 2,048 characters.</span></span> <span data-ttu-id="53a19-167">A opção**SPNs NTLM Aceitos** está localizada em **Protocolos para Propriedades MSSQLSERVER (Guia Avançado)** no [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Configuration Manager.</span><span class="sxs-lookup"><span data-stu-id="53a19-167">**Accepted NTLM SPNs** is on the **Protocols for MSSQLSERVER Properties (Advanced Tab)** in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Configuration Manager.</span></span>  
  
## <a name="enabling-extended-protection-for-the-database-engine"></a><span data-ttu-id="53a19-168">Habilitando a Proteção Estendida para o mecanismo de banco de dados</span><span class="sxs-lookup"><span data-stu-id="53a19-168">Enabling Extended Protection for the Database Engine</span></span>  
 <span data-ttu-id="53a19-169">Para usar a **Proteção Estendida**, o servidor e o cliente devem ter um sistema operacional com suporte para **Proteção Estendida**e a **Proteção Estendida** deve estar habilitada no sistema operacional.</span><span class="sxs-lookup"><span data-stu-id="53a19-169">To use **Extended Protection**, both the server and the client must have an operating system on that supports **Extended Protection**, and **Extended Protection** must be enabled on the operating system.</span></span> <span data-ttu-id="53a19-170">Para obter mais informações sobre como habilitar a **Proteção Estendida** para o sistema operacional, consulte [Proteção Estendida para Autenticação](https://support.microsoft.com/kb/968389).</span><span class="sxs-lookup"><span data-stu-id="53a19-170">For more information about how to enable **Extended Protection** for the operating system, see [Extended Protection for Authentication](https://support.microsoft.com/kb/968389).</span></span>  
  
 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="53a19-171">dá suporte para a **Proteção Estendida** desde o [!INCLUDE[ssKilimanjaro](../../includes/sskilimanjaro-md.md)].</span><span class="sxs-lookup"><span data-stu-id="53a19-171">supports **Extended Protection** beginning with [!INCLUDE[ssKilimanjaro](../../includes/sskilimanjaro-md.md)].</span></span> <span data-ttu-id="53a19-172">A**Proteção Estendida** para algumas versões anteriores do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] será disponibilizada em atualizações futuras.</span><span class="sxs-lookup"><span data-stu-id="53a19-172">**Extended Protection** for some earlier versions of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] will be made available in future updates.</span></span> <span data-ttu-id="53a19-173">Depois de habilitar a **Proteção Estendida** no computador servidor, siga estas etapas para habilitar a **Proteção Estendida**:</span><span class="sxs-lookup"><span data-stu-id="53a19-173">After enabling **Extended Protection** on the server computer, use the following steps to enable **Extended Protection**:</span></span>  
  
1.  <span data-ttu-id="53a19-174">No menu **Iniciar** , escolha **Todos os Programas**, aponte para **Microsoft SQL Server** e clique em **SQL Server Configuration Manager**.</span><span class="sxs-lookup"><span data-stu-id="53a19-174">On the **Start** menu, choose **All Programs**, point to **Microsoft SQL Server** and then click **SQL Server Configuration Manager**.</span></span>  
  
2.  <span data-ttu-id="53a19-175">Expanda **SQL Server configuração de rede**, clique com o botão direito do mouse em **protocolos para** e *\<*InstanceName*>* clique em **Propriedades**.</span><span class="sxs-lookup"><span data-stu-id="53a19-175">Expand **SQL Server Network Configuration**, and then right-click **Protocols for** *\<*InstanceName*>*, and then click **Properties**.</span></span>  
  
3.  <span data-ttu-id="53a19-176">Para associação de canal e associação de serviço, na guia **Avançado** , defina a **Proteção Estendida** com a configuração apropriada.</span><span class="sxs-lookup"><span data-stu-id="53a19-176">For both channel binding and service binding, on the **Advanced** tab, set **Extended Protection** to the appropriate setting.</span></span>  
  
4.  <span data-ttu-id="53a19-177">Se desejar, quando um servidor for conhecido por mais de um SPN, na guia **Avançado** , configure o campo **SPNs NTLM Aceitos** conforme descrito na seção "Configurações".</span><span class="sxs-lookup"><span data-stu-id="53a19-177">Optionally, when a server is known by more than one SPN, on the **Advanced** tab configure the **Accepted NTLM SPNs** field as described in the "Settings" section.</span></span>  
  
5.  <span data-ttu-id="53a19-178">Para associação de canal, na guia **Sinalizadores** , defina **Forçar Criptografia** como **Ativa**.</span><span class="sxs-lookup"><span data-stu-id="53a19-178">For channel binding, on the **Flags** tab, set **Force Encryption** to **On**.</span></span>  
  
6.  <span data-ttu-id="53a19-179">Reinicie o serviço [!INCLUDE[ssDE](../../includes/ssde-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="53a19-179">Restart the [!INCLUDE[ssDE](../../includes/ssde-md.md)] service.</span></span>  
  
## <a name="configuring-other-sql-server-components"></a><span data-ttu-id="53a19-180">Configurando outros componentes do SQL Server</span><span class="sxs-lookup"><span data-stu-id="53a19-180">Configuring Other SQL Server Components</span></span>  
 <span data-ttu-id="53a19-181">Para obter mais informações sobre como configurar o [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)], veja [Proteção estendida para autenticação com o Reporting Services](../../reporting-services/security/extended-protection-for-authentication-with-reporting-services.md).</span><span class="sxs-lookup"><span data-stu-id="53a19-181">For more information about how to configure [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)], see [Extended Protection for Authentication with Reporting Services](../../reporting-services/security/extended-protection-for-authentication-with-reporting-services.md).</span></span>  
  
 <span data-ttu-id="53a19-182">Ao usar o IIS para acessar dados do [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] usando uma conexão HTTP ou HTTPS, o [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] pode aproveitar a Proteção Estendida fornecida pelo IIS.</span><span class="sxs-lookup"><span data-stu-id="53a19-182">When using IIS to access [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] data using an HTTP or HTTPs connection, [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] can take advantage of Extended Protection provided by IIS.</span></span> <span data-ttu-id="53a19-183">Para obter mais informações sobre como configurar o IIS para usar a Proteção Estendida, consulte [Configure Extended Protection in IIS 7.5](https://go.microsoft.com/fwlink/?LinkId=181105)(em inglês).</span><span class="sxs-lookup"><span data-stu-id="53a19-183">For more information about how to configure IIS to use Extended Protection, see [Configure Extended Protection in IIS 7.5](https://go.microsoft.com/fwlink/?LinkId=181105).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="53a19-184">Consulte Também</span><span class="sxs-lookup"><span data-stu-id="53a19-184">See Also</span></span>  
 <span data-ttu-id="53a19-185">[Configuração de rede do servidor](server-network-configuration.md) </span><span class="sxs-lookup"><span data-stu-id="53a19-185">[Server Network Configuration](server-network-configuration.md) </span></span>  
 <span data-ttu-id="53a19-186">[Configuração de rede do cliente](client-network-configuration.md) </span><span class="sxs-lookup"><span data-stu-id="53a19-186">[Client Network Configuration](client-network-configuration.md) </span></span>  
 <span data-ttu-id="53a19-187">[Visão geral sobre a Proteção Estendida para Autenticação](https://go.microsoft.com/fwlink/?LinkID=177943) </span><span class="sxs-lookup"><span data-stu-id="53a19-187">[Extended Protection for Authentication Overview](https://go.microsoft.com/fwlink/?LinkID=177943) </span></span>  
 [<span data-ttu-id="53a19-188">Autenticação Integrada do Windows com Proteção Estendida</span><span class="sxs-lookup"><span data-stu-id="53a19-188">Integrated Windows Authentication with Extended Protection</span></span>](https://go.microsoft.com/fwlink/?LinkId=179922)  
  
  
