---
title: Extensão do pool de buffers | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: configuration
ms.topic: conceptual
ms.assetid: 909ab7d2-2b29-46f5-aea1-280a5f8fedb4
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: 42a8873f4046a307e3b8ec1ce703a34bf8cb0df2
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87684902"
---
# <a name="buffer-pool-extension"></a><span data-ttu-id="a3231-102">Buffer Pool Extension</span><span class="sxs-lookup"><span data-stu-id="a3231-102">Buffer Pool Extension</span></span>
  <span data-ttu-id="a3231-103">Introduzida no [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)], a extensão do pool de buffers fornece a integração consistente de uma extensão de memória RAM não volátil (isto é, unidade de estado sólido) com o pool de buffers do [!INCLUDE[ssDE](../../includes/ssde-md.md)] para melhorar significativamente a taxa de transferência de E/S.</span><span class="sxs-lookup"><span data-stu-id="a3231-103">Introduced in [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)], the buffer pool extension provides the seamless integration of a nonvolatile random access memory (that is, solid-state drive) extension to the [!INCLUDE[ssDE](../../includes/ssde-md.md)] buffer pool to significantly improve I/O throughput.</span></span> <span data-ttu-id="a3231-104">A extensão do pool de buffers não está disponível em todas as edições do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="a3231-104">The buffer pool extension is not available in every [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] edition.</span></span> <span data-ttu-id="a3231-105">Para obter mais informações, consulte [recursos com suporte nas edições do SQL Server 2014](../../getting-started/features-supported-by-the-editions-of-sql-server-2014.md).</span><span class="sxs-lookup"><span data-stu-id="a3231-105">For more information, see [Features Supported by the Editions of SQL Server 2014](../../getting-started/features-supported-by-the-editions-of-sql-server-2014.md).</span></span>

## <a name="benefits-of-the-buffer-pool-extension"></a><span data-ttu-id="a3231-106">Benefícios da extensão do pool de buffers</span><span class="sxs-lookup"><span data-stu-id="a3231-106">Benefits of the Buffer Pool Extension</span></span>
 <span data-ttu-id="a3231-107">A principal finalidade de um banco de dados do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] é armazenar e recuperar dados, de modo que a intensa E/S de disco é uma característica importante do Mecanismo de Banco de Dados.</span><span class="sxs-lookup"><span data-stu-id="a3231-107">The primary purpose of a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] database is to store and retrieve data, so intensive disk I/O is a core characteristic of the Database Engine.</span></span> <span data-ttu-id="a3231-108">Como as operações de E/S de disco podem consumir muitos recursos e levar um tempo relativamente longo para terminar, o [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] se concentra em tornar a E/S altamente eficiente.</span><span class="sxs-lookup"><span data-stu-id="a3231-108">Because disk I/O operations can consume many resources and take a relatively long time to finish, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] focuses on making I/O highly efficient.</span></span> <span data-ttu-id="a3231-109">O pool de buffers serve como fonte de alocação de memória primária do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="a3231-109">The buffer pool serves as a primary memory allocation source of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="a3231-110">O gerenciamento de buffer é um componente fundamental para alcançar essa eficiência.</span><span class="sxs-lookup"><span data-stu-id="a3231-110">Buffer management is a key component in achieving this efficiency.</span></span> <span data-ttu-id="a3231-111">O componente de gerenciamento de buffer consiste em dois mecanismos: o gerenciador de buffer, para acessar e atualizar páginas de banco de dados, e o cache do pool de buffers, para reduzir a E/S do arquivo de banco de dados.</span><span class="sxs-lookup"><span data-stu-id="a3231-111">The buffer management component consists of two mechanisms: the buffer manager to access and update database pages, and the buffer pool), to reduce database file I/O.</span></span>

 <span data-ttu-id="a3231-112">As páginas de índice e dados são lidas do disco no pool de buffers e as páginas modificadas (também conhecidas como páginas sujas) são gravadas novamente no disco.</span><span class="sxs-lookup"><span data-stu-id="a3231-112">Data and index pages are read from disk into the buffer pool and modified pages (also known as dirty pages) are written back to disk.</span></span> <span data-ttu-id="a3231-113">A demanda de memória nos pontos de verificação de servidor e banco de dados faz com que as páginas sujas dinâmicas (ativas) no cache do buffer sejam removidas do cache e gravadas nos discos mecânicos e, em seguida, lidas novamente no cache.</span><span class="sxs-lookup"><span data-stu-id="a3231-113">Memory pressure on the server and database checkpoints cause hot (active) dirty pages in the buffer cache to be evicted from the cache and written to mechanical disks and then read back into the cache.</span></span> <span data-ttu-id="a3231-114">Normalmente, essas operações de E/S são leituras e gravações aleatórias pequenas de 4 a 16 KB de dados.</span><span class="sxs-lookup"><span data-stu-id="a3231-114">These I/O operations are typically small random reads and writes on the order of 4 to 16 KB of data.</span></span> <span data-ttu-id="a3231-115">Os padrões de E/S aleatória pequena incorrem em buscas frequentes, competição por braço do disco mecânico, aumento de latência de E/S e redução da taxa de transferência de E/S agregada do sistema.</span><span class="sxs-lookup"><span data-stu-id="a3231-115">Small random I/O patterns incur frequent seeks, competing for the mechanical disk arm, increasing I/O latency, and reducing aggregate I/O throughput of the system.</span></span>

 <span data-ttu-id="a3231-116">A abordagem comum para resolver esses gargalos de E/S é adicionar mais DRAM, ou como alternativa, a adição de eixos SAS de alto desempenho.</span><span class="sxs-lookup"><span data-stu-id="a3231-116">The typical approach to resolving these I/O bottlenecks is to add more DRAM, or alternatively, added high-performance SAS spindles.</span></span> <span data-ttu-id="a3231-117">Embora essas opções sejam úteis, elas apresentam desvantagens significativas: A DRAM é mais cara do que as unidades de armazenamento de dados. A adição de eixos aumenta as despesas de capital na aquisição de hardware, bem como os custos operacionais com o aumento do consumo de energia e o aumento da probabilidade de falha do componente.</span><span class="sxs-lookup"><span data-stu-id="a3231-117">While these options are helpful, they have significant drawbacks: DRAM is more expensive than data storage drives and adding spindles increases capital expenditure in hardware acquisition and increases operational costs by increased power consumption and increased probability of component failure.</span></span>

 <span data-ttu-id="a3231-118">O recurso de extensão do pool de buffers estende o cache do pool de buffers com o armazenamento não volátil (geralmente, SSD).</span><span class="sxs-lookup"><span data-stu-id="a3231-118">The buffer pool extension feature extends the buffer pool cache with nonvolatile storage (usually SSD).</span></span> <span data-ttu-id="a3231-119">Graças a essa extensão, o pool de buffers pode acomodar um conjunto de trabalho de banco de dados maior, o que força a paginação de E/Ss entre a RAM e as SSDs.</span><span class="sxs-lookup"><span data-stu-id="a3231-119">Because of this extension, the buffer pool can accommodate a larger database working set, which forces the paging of I/Os between RAM and the SSDs.</span></span> <span data-ttu-id="a3231-120">Isso descarrega eficazmente as E/Ss aleatórias pequenas dos discos mecânicos nas SSDs.</span><span class="sxs-lookup"><span data-stu-id="a3231-120">This effectively offloads small random I/Os from mechanical disks to SSDs.</span></span> <span data-ttu-id="a3231-121">Devido à latência mais baixa e ao melhor desempenho de E/S aleatória das SSDs, a extensão do pool de buffers melhora significativamente a taxa de transferência de E/S.</span><span class="sxs-lookup"><span data-stu-id="a3231-121">Because of the lower latency and better random I/O performance of SSDs, the buffer pool extension significantly improves I/O throughput.</span></span>

 <span data-ttu-id="a3231-122">A lista a seguir descreve os benefícios do recurso de extensão do pool de buffers.</span><span class="sxs-lookup"><span data-stu-id="a3231-122">The following list describes the benefits of the buffer pool extension feature.</span></span>

-   <span data-ttu-id="a3231-123">Aumento da taxa de transferência de E/S aleatória</span><span class="sxs-lookup"><span data-stu-id="a3231-123">Increased random I/O throughput</span></span>

-   <span data-ttu-id="a3231-124">Redução da latência de E/S</span><span class="sxs-lookup"><span data-stu-id="a3231-124">Reduced I/O latency</span></span>

-   <span data-ttu-id="a3231-125">Aumento da taxa de transferência da transação</span><span class="sxs-lookup"><span data-stu-id="a3231-125">Increased transaction throughput</span></span>

-   <span data-ttu-id="a3231-126">Melhoria do desempenho de leitura com um pool de buffers híbrido maior</span><span class="sxs-lookup"><span data-stu-id="a3231-126">Improved read performance with a larger hybrid buffer pool</span></span>

-   <span data-ttu-id="a3231-127">Uma arquitetura de cache que pode se beneficiar das unidades de memória de baixo custo presentes e futuras</span><span class="sxs-lookup"><span data-stu-id="a3231-127">A caching architecture that can take advantage of present and future low-cost memory drives</span></span>

### <a name="concepts"></a><span data-ttu-id="a3231-128">Conceitos</span><span class="sxs-lookup"><span data-stu-id="a3231-128">Concepts</span></span>
 <span data-ttu-id="a3231-129">Os termos a seguir são aplicáveis ao recurso de extensão do pool de buffers.</span><span class="sxs-lookup"><span data-stu-id="a3231-129">The following terms are applicable to the buffer pool extension feature.</span></span>

 <span data-ttu-id="a3231-130">Unidades de estado sólido de SSD (unidade de estado sólido) armazenam dados na memória (RAM) de maneira persistente.</span><span class="sxs-lookup"><span data-stu-id="a3231-130">Solid-state drive (SSD) Solid-state drives store data in memory (RAM) in a persistent manner.</span></span> <span data-ttu-id="a3231-131">Para obter mais informações, consulte [esta definição](http://en.wikipedia.org/wiki/Solid-state_drive).</span><span class="sxs-lookup"><span data-stu-id="a3231-131">For more information, see [this definition](http://en.wikipedia.org/wiki/Solid-state_drive).</span></span>

 <span data-ttu-id="a3231-132">Buffer no [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , um buffer é uma página de 8 KB na memória, o mesmo tamanho de uma página de dados ou de índice.</span><span class="sxs-lookup"><span data-stu-id="a3231-132">Buffer In [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], A buffer is an 8-KB page in memory, the same size as a data or index page.</span></span> <span data-ttu-id="a3231-133">Portanto, o cache do buffer é dividido em páginas de 8 KB.</span><span class="sxs-lookup"><span data-stu-id="a3231-133">Thus, the buffer cache is divided into 8-KB pages.</span></span> <span data-ttu-id="a3231-134">Uma página permanece no cache do buffer até que o gerenciador de buffer precise da área de buffer para ler mais dados.</span><span class="sxs-lookup"><span data-stu-id="a3231-134">A page remains in the buffer cache until the buffer manager needs the buffer area to read in more data.</span></span> <span data-ttu-id="a3231-135">Os dados serão gravados no disco apenas se forem modificados.</span><span class="sxs-lookup"><span data-stu-id="a3231-135">Data is written back to disk only if it is modified.</span></span> <span data-ttu-id="a3231-136">Essas páginas modificadas na memória são conhecidas como páginas sujas.</span><span class="sxs-lookup"><span data-stu-id="a3231-136">These in-memory modified pages are known as dirty pages.</span></span> <span data-ttu-id="a3231-137">Uma página está limpa quando equivale à sua imagem de banco de dados no disco.</span><span class="sxs-lookup"><span data-stu-id="a3231-137">A page is clean when it is equivalent to its database image on disk.</span></span> <span data-ttu-id="a3231-138">Os dados podem ser modificados no cache do buffer várias vezes antes de serem gravados no disco.</span><span class="sxs-lookup"><span data-stu-id="a3231-138">Data in the buffer cache can be modified multiple times before being written back to disk.</span></span>

 <span data-ttu-id="a3231-139">Pool de buffers também chamado de cache de buffer.</span><span class="sxs-lookup"><span data-stu-id="a3231-139">Buffer pool Also called buffer cache.</span></span> <span data-ttu-id="a3231-140">O pool de buffers é um recurso global compartilhado por todos os bancos de dados para suas páginas de dados armazenadas em cache.</span><span class="sxs-lookup"><span data-stu-id="a3231-140">The buffer pool is a global resource shared by all databases for their cached data pages.</span></span> <span data-ttu-id="a3231-141">O tamanho máximo e mínimo do cache do pool de buffers é determinado durante a inicialização ou quando a instância do SQL Server é reconfigurada dinamicamente usando sp_configure.</span><span class="sxs-lookup"><span data-stu-id="a3231-141">The maximum and minimum size of the buffer pool cache is determined during startup or when the instance of SQL server is dynamically reconfigured by using sp_configure.</span></span> <span data-ttu-id="a3231-142">Esse tamanho determina o número máximo de páginas que podem ser armazenadas em cache no pool de buffers a qualquer momento na instância em execução.</span><span class="sxs-lookup"><span data-stu-id="a3231-142">This size determines the maximum number of pages that can be cached in the buffer pool at any time in the running instance.</span></span>

 <span data-ttu-id="a3231-143">Ponto de verificação um ponto de verificação cria um bom momento conhecido do qual o [!INCLUDE[ssDE](../../includes/ssde-md.md)] pode iniciar a aplicação de alterações contidas no log de transações durante a recuperação após um desligamento ou falha inesperada.</span><span class="sxs-lookup"><span data-stu-id="a3231-143">Checkpoint A checkpoint creates a known good point from which the [!INCLUDE[ssDE](../../includes/ssde-md.md)] can start applying changes contained in the transaction log during recovery after an unexpected shutdown or crash.</span></span> <span data-ttu-id="a3231-144">Um ponto de verificação grava as páginas sujas e as informações do log de transações da memória no disco e, além disso, registra informações sobre o log de transações.</span><span class="sxs-lookup"><span data-stu-id="a3231-144">A checkpoint writes the dirty pages and transaction log information from memory to disk and, also, records information about the transaction log.</span></span> <span data-ttu-id="a3231-145">Para obter mais informações, consulte [Pontos de verificação de banco de dados &#40;SQL Server&#41;](../../relational-databases/logs/database-checkpoints-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="a3231-145">For more information, see [Database Checkpoints &#40;SQL Server&#41;](../../relational-databases/logs/database-checkpoints-sql-server.md).</span></span>

## <a name="buffer-pool-extension-details"></a><span data-ttu-id="a3231-146">Detalhes da extensão do pool de buffers</span><span class="sxs-lookup"><span data-stu-id="a3231-146">Buffer Pool Extension Details</span></span>
 <span data-ttu-id="a3231-147">O armazenamento de SSD é usado como uma extensão para o subsistema de memória, e não para o subsistema de armazenamento de disco.</span><span class="sxs-lookup"><span data-stu-id="a3231-147">SSD storage is used as an extension to the memory subsystem rather than the disk storage subsystem.</span></span> <span data-ttu-id="a3231-148">Isto é, o arquivo de extensão do pool de buffers permite que o gerenciador do pool de buffers use a memória flash NAND e DRAM para manter um pool de buffers muito maior de páginas indiferentes na memória RAM não volátil apoiada por SSDs.</span><span class="sxs-lookup"><span data-stu-id="a3231-148">That is, the buffer pool extension file allows the buffer pool manager to use both DRAM and NAND-Flash memory to maintain a much larger buffer pool of lukewarm pages in nonvolatile random access memory backed by SSDs.</span></span> <span data-ttu-id="a3231-149">Isso cria uma hierarquia de cache de vários níveis com o nível 1 (L1) como a DRAM e o nível 2 (L2) como o arquivo de extensão do pool de buffers na SSD.</span><span class="sxs-lookup"><span data-stu-id="a3231-149">This creates a multilevel caching hierarchy with level 1 (L1) as the DRAM and level 2 (L2) as the buffer pool extension file on the SSD.</span></span> <span data-ttu-id="a3231-150">Somente páginas limpas são gravadas no cache L2, o que ajuda a manter a segurança dos dados.</span><span class="sxs-lookup"><span data-stu-id="a3231-150">Only clean pages are written to the L2 cache, which helps maintain data safety.</span></span> <span data-ttu-id="a3231-151">O gerenciador de buffer manipula a movimentação de páginas limpas entre os caches L1 e L2.</span><span class="sxs-lookup"><span data-stu-id="a3231-151">The buffer manager handles the movement of clean pages between the L1 and L2 caches.</span></span>

 <span data-ttu-id="a3231-152">A ilustração a seguir fornece uma visão geral arquitetônica de alto nível do pool de buffers em relação a outros componentes do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="a3231-152">The following illustration provides a high-level architectural overview of the buffer pool relative to other [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] components.</span></span>

 <span data-ttu-id="a3231-153">![Arquitetura da extensão do pool de buffers do SSD](../media/ssdbufferpoolextensionarchitecture.gif "Arquitetura da extensão do pool de buffers do SSD")</span><span class="sxs-lookup"><span data-stu-id="a3231-153">![SSD Buffer Pool Extension Architecture](../media/ssdbufferpoolextensionarchitecture.gif "SSD Buffer Pool Extension Architecture")</span></span>

 <span data-ttu-id="a3231-154">Quando habilitada, a extensão do pool de buffers especifica o tamanho e o caminho do arquivo de cache do pool de buffers na SSD.</span><span class="sxs-lookup"><span data-stu-id="a3231-154">When enabled, the buffer pool extension specifies the size and file path of the buffer pool caching file on the SSD.</span></span> <span data-ttu-id="a3231-155">Esse arquivo é uma extensão contígua de armazenamento na SSD e é configurado estaticamente durante a inicialização da instância do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="a3231-155">This file is a contiguous extent of storage on the SSD and is statically configured during startup of the instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="a3231-156">As alterações nos parâmetros da configuração do arquivo poderão ser realizadas somente quando o recurso de extensão do pool de buffers estiver desabilitado.</span><span class="sxs-lookup"><span data-stu-id="a3231-156">Alterations to the file configuration parameters can only be done when the buffer pool extension feature is disabled.</span></span> <span data-ttu-id="a3231-157">Quando a extensão do pool de buffers é desabilitada, todas as definições da configuração relacionadas são removidas do Registro.</span><span class="sxs-lookup"><span data-stu-id="a3231-157">When the buffer pool extension is disabled, all related configuration settings are removed from the registry.</span></span> <span data-ttu-id="a3231-158">O arquivo de extensão do pool de buffers é excluído durante o desligamento da instância do SQL Server.</span><span class="sxs-lookup"><span data-stu-id="a3231-158">The buffer pool extension file is deleted upon shutdown of the instance of SQL Server.</span></span>

## <a name="best-practices"></a><span data-ttu-id="a3231-159">Práticas Recomendadas</span><span class="sxs-lookup"><span data-stu-id="a3231-159">Best Practices</span></span>
 <span data-ttu-id="a3231-160">É recomendável seguir estas práticas recomendadas.</span><span class="sxs-lookup"><span data-stu-id="a3231-160">We recommend that you follow these best practices.</span></span>

-   <span data-ttu-id="a3231-161">Depois de habilitar a extensão do Pool de buffers pela primeira vez, é recomendável reiniciar a instância do SQL Server para obter todos os benefícios de desempenho.</span><span class="sxs-lookup"><span data-stu-id="a3231-161">After enabling Buffer Pool Extension for the first time it is recommended to restart the SQL Server instance to get the maximum performance benefits.</span></span>

-   <span data-ttu-id="a3231-162">O tamanho da extensão do pool de buffers pode ser até 32 vezes o valor de max_server_memory para edições Enterprise e até 4 vezes para edições Standard.</span><span class="sxs-lookup"><span data-stu-id="a3231-162">The buffer pool extension size can be up to 32 times the value of max_server_memory for Enterprise editions, and up to 4 times for Standard edition.</span></span>  <span data-ttu-id="a3231-163">É recomendável uma taxa entre o tamanho da memória física (max_server_memory) e o tamanho da extensão do pool de buffers de 1:16 ou menos.</span><span class="sxs-lookup"><span data-stu-id="a3231-163">We recommend a ratio between the size of the physical memory (max_server_memory) and the size of the buffer pool extension of 1:16 or less.</span></span> <span data-ttu-id="a3231-164">Uma taxa mais baixa no intervalo de 1:4 a 1:8 pode ser ótima.</span><span class="sxs-lookup"><span data-stu-id="a3231-164">A lower ratio in the range of 1:4 to 1:8 may be optimal.</span></span> <span data-ttu-id="a3231-165">Para obter informações sobre como definir a opção max_server_memory, veja [Opções Server Memory de configuração do servidor](server-memory-server-configuration-options.md).</span><span class="sxs-lookup"><span data-stu-id="a3231-165">For information about setting the max_server_memory option, see [Server Memory Server Configuration Options](server-memory-server-configuration-options.md).</span></span>

-   <span data-ttu-id="a3231-166">Teste toda a extensão do pool de buffers antes da implementação em um ambiente de produção.</span><span class="sxs-lookup"><span data-stu-id="a3231-166">Test the buffer pool extension thoroughly before implementing in a production environment.</span></span> <span data-ttu-id="a3231-167">Uma vez na produção, evite fazer alterações de configuração no arquivo ou desative o recurso.</span><span class="sxs-lookup"><span data-stu-id="a3231-167">Once in production, avoid making configuration changes to the file or turning the feature off.</span></span> <span data-ttu-id="a3231-168">Essas atividades podem ter um impacto negativo no desempenho do servidor, pois o pool de buffers é significativamente reduzido quando o recurso é desabilitado.</span><span class="sxs-lookup"><span data-stu-id="a3231-168">These activities may have a negative impact on server performance because the buffer pool is significantly reduced in size when the feature is disabled.</span></span> <span data-ttu-id="a3231-169">Quando desabilitado, a memória usada para oferecer suporte ao recurso não é recuperada até que a instância do SQL Server seja reiniciada.</span><span class="sxs-lookup"><span data-stu-id="a3231-169">When disabled, the memory used to support the feature is not reclaimed until the instance of SQL Server is restarted.</span></span> <span data-ttu-id="a3231-170">No entanto, se o recurso for reabilitado, a memória será reutilizada sem precisar reiniciar a instância.</span><span class="sxs-lookup"><span data-stu-id="a3231-170">However, if the feature is re-enabled, the memory will be reused without restarting the instance.</span></span>

## <a name="return-information-about-the-buffer-pool-extension"></a><span data-ttu-id="a3231-171">Informações de retorno sobre a extensão do pool de buffers</span><span class="sxs-lookup"><span data-stu-id="a3231-171">Return Information about the Buffer Pool Extension</span></span>
 <span data-ttu-id="a3231-172">Você pode usar as exibições de gerenciamento dinâmico a seguir para exibir a configuração da extensão do pool de buffers e informações de retorno sobre as páginas de dados na extensão.</span><span class="sxs-lookup"><span data-stu-id="a3231-172">You can use the following dynamic management views to display the configuration of the buffer pool extension and return information about the data pages in the extension.</span></span>

-   [<span data-ttu-id="a3231-173">sys.dm_os_buffer_pool_extension_configuration &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="a3231-173">sys.dm_os_buffer_pool_extension_configuration &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-dynamic-management-views/sys-dm-os-buffer-pool-extension-configuration-transact-sql)

-   [<span data-ttu-id="a3231-174">sys.dm_os_buffer_descriptors &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="a3231-174">sys.dm_os_buffer_descriptors &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-dynamic-management-views/sys-dm-os-buffer-descriptors-transact-sql)

 <span data-ttu-id="a3231-175">Os contadores de desempenho estão disponíveis no SQL Server, objeto Buffer Manager, para rastrear as páginas de dados no arquivo de extensão do pool de buffers.</span><span class="sxs-lookup"><span data-stu-id="a3231-175">Performance counters are available in the SQL Server, Buffer Manager Object to track the data pages in the buffer pool extension file.</span></span> <span data-ttu-id="a3231-176">Para obter mais informações, consulte [contadores de desempenho da extensão do pool de buffers](../../relational-databases/performance-monitor/sql-server-buffer-manager-object.md).</span><span class="sxs-lookup"><span data-stu-id="a3231-176">For more information, see [buffer pool extension performance counters](../../relational-databases/performance-monitor/sql-server-buffer-manager-object.md).</span></span>

 <span data-ttu-id="a3231-177">Os Xevents a seguir estão disponíveis.</span><span class="sxs-lookup"><span data-stu-id="a3231-177">The following Xevents are available.</span></span>

|<span data-ttu-id="a3231-178">XEvent</span><span class="sxs-lookup"><span data-stu-id="a3231-178">XEvent</span></span>|<span data-ttu-id="a3231-179">Descrição</span><span class="sxs-lookup"><span data-stu-id="a3231-179">Description</span></span>|<span data-ttu-id="a3231-180">Parâmetros</span><span class="sxs-lookup"><span data-stu-id="a3231-180">Parameters</span></span>|
|------------|-----------------|----------------|
|<span data-ttu-id="a3231-181">sqlserver.buffer_pool_extension_pages_written</span><span class="sxs-lookup"><span data-stu-id="a3231-181">sqlserver.buffer_pool_extension_pages_written</span></span>|<span data-ttu-id="a3231-182">É acionado quando uma página ou um grupo de páginas é removido do pool de buffers e gravado no arquivo de extensão do pool de buffers.</span><span class="sxs-lookup"><span data-stu-id="a3231-182">Fires when a page or group of pages are evicted from the buffer pool and written to the buffer pool extension file.</span></span>|<span data-ttu-id="a3231-183">number_page</span><span class="sxs-lookup"><span data-stu-id="a3231-183">number_page</span></span><br /><br /> <span data-ttu-id="a3231-184">first_page_id</span><span class="sxs-lookup"><span data-stu-id="a3231-184">first_page_id</span></span><br /><br /> <span data-ttu-id="a3231-185">first_page_offset</span><span class="sxs-lookup"><span data-stu-id="a3231-185">first_page_offset</span></span><br /><br /> <span data-ttu-id="a3231-186">initiator_numa_node_id</span><span class="sxs-lookup"><span data-stu-id="a3231-186">initiator_numa_node_id</span></span>|
|<span data-ttu-id="a3231-187">sqlserver.buffer_pool_extension_pages_read</span><span class="sxs-lookup"><span data-stu-id="a3231-187">sqlserver.buffer_pool_extension_pages_read</span></span>|<span data-ttu-id="a3231-188">É acionado quando uma página é lida do arquivo de extensão do pool de buffers para o pool de buffers.</span><span class="sxs-lookup"><span data-stu-id="a3231-188">Fires when a page is read from the buffer pool extension file to the buffer pool.</span></span>|<span data-ttu-id="a3231-189">number_page</span><span class="sxs-lookup"><span data-stu-id="a3231-189">number_page</span></span><br /><br /> <span data-ttu-id="a3231-190">first_page_id</span><span class="sxs-lookup"><span data-stu-id="a3231-190">first_page_id</span></span><br /><br /> <span data-ttu-id="a3231-191">first_page_offset</span><span class="sxs-lookup"><span data-stu-id="a3231-191">first_page_offset</span></span><br /><br /> <span data-ttu-id="a3231-192">initiator_numa_node_id</span><span class="sxs-lookup"><span data-stu-id="a3231-192">initiator_numa_node_id</span></span>|
|<span data-ttu-id="a3231-193">sqlserver.buffer_pool_extension_pages_evicted</span><span class="sxs-lookup"><span data-stu-id="a3231-193">sqlserver.buffer_pool_extension_pages_evicted</span></span>|<span data-ttu-id="a3231-194">É acionado quando uma página é removida do arquivo de extensão do pool de buffers.</span><span class="sxs-lookup"><span data-stu-id="a3231-194">Fires when a page is evicted from the buffer pool extension file.</span></span>|<span data-ttu-id="a3231-195">number_page</span><span class="sxs-lookup"><span data-stu-id="a3231-195">number_page</span></span><br /><br /> <span data-ttu-id="a3231-196">first_page_id</span><span class="sxs-lookup"><span data-stu-id="a3231-196">first_page_id</span></span><br /><br /> <span data-ttu-id="a3231-197">first_page_offset</span><span class="sxs-lookup"><span data-stu-id="a3231-197">first_page_offset</span></span><br /><br /> <span data-ttu-id="a3231-198">initiator_numa_node_id</span><span class="sxs-lookup"><span data-stu-id="a3231-198">initiator_numa_node_id</span></span>|
|<span data-ttu-id="a3231-199">sqlserver.buffer_pool_eviction_thresholds_recalculated</span><span class="sxs-lookup"><span data-stu-id="a3231-199">sqlserver.buffer_pool_eviction_thresholds_recalculated</span></span>|<span data-ttu-id="a3231-200">É acionado quando o limite de remoção é calculado.</span><span class="sxs-lookup"><span data-stu-id="a3231-200">Fires when the eviction threshold is calculated.</span></span>|<span data-ttu-id="a3231-201">warm_threshold</span><span class="sxs-lookup"><span data-stu-id="a3231-201">warm_threshold</span></span><br /><br /> <span data-ttu-id="a3231-202">cold_threshold</span><span class="sxs-lookup"><span data-stu-id="a3231-202">cold_threshold</span></span><br /><br /> <span data-ttu-id="a3231-203">pages_bypassed_eviction</span><span class="sxs-lookup"><span data-stu-id="a3231-203">pages_bypassed_eviction</span></span><br /><br /> <span data-ttu-id="a3231-204">eviction_bypass_reason</span><span class="sxs-lookup"><span data-stu-id="a3231-204">eviction_bypass_reason</span></span><br /><br /> <span data-ttu-id="a3231-205">eviction_bypass_reason_description</span><span class="sxs-lookup"><span data-stu-id="a3231-205">eviction_bypass_reason_description</span></span>|

## <a name="related-tasks"></a><span data-ttu-id="a3231-206">Related Tasks</span><span class="sxs-lookup"><span data-stu-id="a3231-206">Related Tasks</span></span>

|||
|-|-|
|<span data-ttu-id="a3231-207">**Descrição da tarefa**</span><span class="sxs-lookup"><span data-stu-id="a3231-207">**Task Description**</span></span>|<span data-ttu-id="a3231-208">**Tópico**</span><span class="sxs-lookup"><span data-stu-id="a3231-208">**Topic**</span></span>|
|<span data-ttu-id="a3231-209">Habilitar e configurar a extensão do pool de buffers</span><span class="sxs-lookup"><span data-stu-id="a3231-209">Enable and configure the buffer pool extension.</span></span>|[<span data-ttu-id="a3231-210">ALTER SERVER CONFIGURATION &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="a3231-210">ALTER SERVER CONFIGURATION &#40;Transact-SQL&#41;</span></span>](/sql/t-sql/statements/alter-server-configuration-transact-sql)|
|<span data-ttu-id="a3231-211">Modificar a configuração da extensão do pool de buffers</span><span class="sxs-lookup"><span data-stu-id="a3231-211">Modify the buffer pool extension configuration</span></span>|[<span data-ttu-id="a3231-212">ALTER SERVER CONFIGURATION &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="a3231-212">ALTER SERVER CONFIGURATION &#40;Transact-SQL&#41;</span></span>](/sql/t-sql/statements/alter-server-configuration-transact-sql)|
|<span data-ttu-id="a3231-213">Exibir a configuração da extensão do pool de buffers</span><span class="sxs-lookup"><span data-stu-id="a3231-213">View the buffer pool extension configuration</span></span>|[<span data-ttu-id="a3231-214">sys.dm_os_buffer_pool_extension_configuration &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="a3231-214">sys.dm_os_buffer_pool_extension_configuration &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-dynamic-management-views/sys-dm-os-buffer-pool-extension-configuration-transact-sql)|
|<span data-ttu-id="a3231-215">Monitorar a extensão do pool de buffers</span><span class="sxs-lookup"><span data-stu-id="a3231-215">Monitor the buffer pool extension</span></span>|[<span data-ttu-id="a3231-216">sys.dm_os_buffer_descriptors &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="a3231-216">sys.dm_os_buffer_descriptors &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-dynamic-management-views/sys-dm-os-buffer-descriptors-transact-sql)<br /><br /> [<span data-ttu-id="a3231-217">Contadores de desempenho</span><span class="sxs-lookup"><span data-stu-id="a3231-217">Performance counters</span></span>](../../relational-databases/performance-monitor/sql-server-buffer-manager-object.md)|


