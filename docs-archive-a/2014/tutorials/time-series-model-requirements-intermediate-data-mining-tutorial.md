---
title: Noções básicas sobre os requisitos de um modelo de série temporal (tutorial de mineração de dados intermediário) | Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
ms.assetid: 1ce2b3e3-108a-4f7e-985f-a20b816d0da7
author: minewiskan
ms.author: owend
manager: kfile
ms.openlocfilehash: cf92effaabb38a93a294bdf194025a524ad601f3
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87568931"
---
# <a name="understanding-the-requirements-for-a-time-series-model-intermediate-data-mining-tutorial"></a><span data-ttu-id="b61fe-102">Compreendendo os requisitos para um modelo de série temporal (Tutorial de mineração de dados intermediário)</span><span class="sxs-lookup"><span data-stu-id="b61fe-102">Understanding the Requirements for a Time Series Model (Intermediate Data Mining Tutorial)</span></span>
  <span data-ttu-id="b61fe-103">Quando for preparar os dados para usá-los em um modelo de previsão, você deverá garantir que eles contenham uma coluna que possa ser usada na identificação das etapas da série temporal.</span><span class="sxs-lookup"><span data-stu-id="b61fe-103">When you are preparing data for use in a forecasting model, you must ensure that your data contains a column that can be used to identify the steps in the time series.</span></span> <span data-ttu-id="b61fe-104">Essa coluna será designada como a coluna `Key Time`.</span><span class="sxs-lookup"><span data-stu-id="b61fe-104">That column will be designated as the `Key Time` column.</span></span> <span data-ttu-id="b61fe-105">Como é uma chave, a coluna deve conter valores numéricos exclusivos.</span><span class="sxs-lookup"><span data-stu-id="b61fe-105">Because it is a key, the column must contain unique numeric values.</span></span>  
  
 <span data-ttu-id="b61fe-106">Escolher a unidade certa para a coluna `Key Time` é uma parte importante da análise.</span><span class="sxs-lookup"><span data-stu-id="b61fe-106">Choosing the right unit for the `Key Time` column is an important part of analysis.</span></span> <span data-ttu-id="b61fe-107">Por exemplo, suponha que seus dados de vendas sejam atualizados a cada minuto.</span><span class="sxs-lookup"><span data-stu-id="b61fe-107">For example, suppose your sales data is refreshed on a minute by minute basis.</span></span> <span data-ttu-id="b61fe-108">Você não precisa necessariamente usar minutos como a unidade para a série temporal; você pode achar mais significativo acumular os dados de vendas por dia, semana ou mês.</span><span class="sxs-lookup"><span data-stu-id="b61fe-108">You would not necessarily use minutes as the unit for the time series; you might find it more meaningful to roll up sales data by the day, week, or even month.</span></span> <span data-ttu-id="b61fe-109">Se você não tiver certeza sobre qual unidade de tempo usar, poderá criar uma nova exibição da fonte de dados para cada agregação e criar modelos relacionados, para ver se tendências diferentes emergem a cada nível de agregação.</span><span class="sxs-lookup"><span data-stu-id="b61fe-109">If you are unsure which unit of time to use, you can create a new data source view for each aggregation, and build related models, to see if different trends emerge at each level of aggregation.</span></span>  
  
 <span data-ttu-id="b61fe-110">Neste tutorial, os dados de vendas são coletados diariamente no banco de dados de vendas transacional, mas para a mineração de dados, os dados foram pré-agregados por mês, usando uma exibição.</span><span class="sxs-lookup"><span data-stu-id="b61fe-110">For this tutorial, sales data is collected on a daily basis in the transactional sales database, but for data mining, the data has been pre-aggregated by the month, using a view.</span></span>  
  
 <span data-ttu-id="b61fe-111">Além disso, é recomendável para a análise que os dados tenham o mínimo possível de lacunas.</span><span class="sxs-lookup"><span data-stu-id="b61fe-111">Additionally, it is desirable for analysis that the data have as few gaps as possible.</span></span> <span data-ttu-id="b61fe-112">Se você planeja analisar várias séries de dados, todas as séries devem iniciar ou terminar preferencialmente na mesma data.</span><span class="sxs-lookup"><span data-stu-id="b61fe-112">If you plan to analyze multiple series of data, all series should preferably start and end on the same date.</span></span> <span data-ttu-id="b61fe-113">Se houver lacunas nos dados, mas não no início ou no final de uma série, você poderá usar o parâmetro MISSING_VALUE_SUBSTITUTION para preenchê-la.</span><span class="sxs-lookup"><span data-stu-id="b61fe-113">If the data has gaps, but the gaps are not at the beginning or end of a series, you can use the MISSING_VALUE_SUBSTITUTION parameter to fill in the series.</span></span> <span data-ttu-id="b61fe-114">O [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)] também oferece diversas opções para a substituição de dados ausentes por valores, como o uso de médias ou de constantes.</span><span class="sxs-lookup"><span data-stu-id="b61fe-114">[!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)] also provides several options for replacing missing data with values, such as using means or constants.</span></span>  
  
> [!WARNING]  
>  <span data-ttu-id="b61fe-115">As ferramentas Gráfico Dinâmico e Tabela Dinâmica que eram fornecidas em versões anteriores do designer de exibição da fonte de dados não são mais fornecidas.</span><span class="sxs-lookup"><span data-stu-id="b61fe-115">The PivotChart and PivotTable tools that were included in earlier versions of the data source view designer are no longer provided.</span></span> <span data-ttu-id="b61fe-116">Recomendamos que você identifique as lacunas nos dados de série temporal de antemão, usando ferramentas como o Criador de Perfil de Dados fornecidas no [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="b61fe-116">We recommend that you identify gaps in time series data beforehand, by using tools such as the Data Profiler included in [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)].</span></span>  
  
### <a name="to-identify-the-time-key-for-the-forecasting-model"></a><span data-ttu-id="b61fe-117">Para identificar a chave de tempo para o modelo de previsão</span><span class="sxs-lookup"><span data-stu-id="b61fe-117">To identify the time key for the forecasting model</span></span>  
  
1.  <span data-ttu-id="b61fe-118">No painel, **SalesByRegion. dsv [Design]**, clique com o botão direito do mouse na tabela vTimeSeries e, em seguida, selecione **explorar dados**.</span><span class="sxs-lookup"><span data-stu-id="b61fe-118">In the pane, **SalesByRegion.dsv [Design]**, right-click the table vTimeSeries, and then select **Explore Data**.</span></span>  
  
     <span data-ttu-id="b61fe-119">Uma nova guia é aberta, intitulada **explorar a tabela vTimeSeries**.</span><span class="sxs-lookup"><span data-stu-id="b61fe-119">A new tab opens, titled **Explore vTimeSeries Table**.</span></span>  
  
2.  <span data-ttu-id="b61fe-120">Na guia **tabela** , examine os dados que são usados nas colunas TimeIndex e data de relatório.</span><span class="sxs-lookup"><span data-stu-id="b61fe-120">On the **Table** tab, review the data that is used in the TimeIndex and Reporting Date columns.</span></span>  
  
     <span data-ttu-id="b61fe-121">Ambos são sequências com valores exclusivos e podem ser usados como a chave de série temporal; porém, os tipos de dados das colunas são diferentes.</span><span class="sxs-lookup"><span data-stu-id="b61fe-121">Both are sequences with unique values and can both be used as the time series key; however, the data types of the columns are different.</span></span> <span data-ttu-id="b61fe-122">O algoritmo MTS não requer um tipo de dados `datetime`, apenas que os valores sejam distintos e ordenados.</span><span class="sxs-lookup"><span data-stu-id="b61fe-122">The Microsoft Time Series algorithm does not require a `datetime` data type, only that the values be distinct and ordered.</span></span> <span data-ttu-id="b61fe-123">Dessa forma, cada coluna pode ser usada como a chave de tempo para o modelo de previsão.</span><span class="sxs-lookup"><span data-stu-id="b61fe-123">Therefore, either column can be used as the time key for the forecasting model.</span></span>  
  
3.  <span data-ttu-id="b61fe-124">Na superfície de design da exibição da fonte de dados, selecione a coluna, data de relatório e selecione **Propriedades**.</span><span class="sxs-lookup"><span data-stu-id="b61fe-124">In the data source view design surface, select the column, Reporting Date and select **Properties**.</span></span> <span data-ttu-id="b61fe-125">Em seguida, clique na coluna TimeIndex e selecione **Properties**.</span><span class="sxs-lookup"><span data-stu-id="b61fe-125">Next, click the column TimeIndex and select **Properties**.</span></span>  
  
     <span data-ttu-id="b61fe-126">O campo TimeIndex tem o tipo de dados System. Int32, enquanto a data de relatório do campo tem o tipo de dados System. DateTime.</span><span class="sxs-lookup"><span data-stu-id="b61fe-126">The field TimeIndex has the data type System.Int32, whereas the field Reporting Date has the data type System.DateTime.</span></span> <span data-ttu-id="b61fe-127">Muitos data warehouses convertem valores de data/hora em inteiros e usam a coluna de inteiros como chave, para melhorar desempenho da indexação.</span><span class="sxs-lookup"><span data-stu-id="b61fe-127">Many data warehouses convert date/time values to integers and use the integer column as the key, to improve indexing performance.</span></span> <span data-ttu-id="b61fe-128">No entanto, se você usar essa coluna, o algoritmo MTS fará previsões usando valores futuros como 201014, 201014 e assim sucessivamente.</span><span class="sxs-lookup"><span data-stu-id="b61fe-128">However, if you use this column, the Microsoft Time Series algorithm will make predictions using future values such as 201014, 201014, and so forth.</span></span> <span data-ttu-id="b61fe-129">Como você deseja representar sua previsão de dados de vendas usando datas de calendário, você usará a coluna data de relatório como o identificador de série exclusivo.</span><span class="sxs-lookup"><span data-stu-id="b61fe-129">Because you want to represent your sales data forecast by using calendar dates, you will use the Reporting Date column as the unique series identifier.</span></span>  
  
### <a name="to-set-the-key-in-the-data-source-view"></a><span data-ttu-id="b61fe-130">Para definir a chave na exibição da fonte de dados.</span><span class="sxs-lookup"><span data-stu-id="b61fe-130">To set the key in the data source view</span></span>  
  
1.  <span data-ttu-id="b61fe-131">No painel **SalesByRegion. dsv**, selecione a tabela vTimeSeries.</span><span class="sxs-lookup"><span data-stu-id="b61fe-131">In the pane **SalesByRegion.dsv**, select the vTimeSeries table.</span></span>  
  
2.  <span data-ttu-id="b61fe-132">Clique com o botão direito do mouse na coluna, data do relatório e selecione **definir chave primária lógica**.</span><span class="sxs-lookup"><span data-stu-id="b61fe-132">Right-click the column, Reporting Date, and select **Set Logical Primary Key**.</span></span>  
  
## <a name="handling-missing-data-optional"></a><span data-ttu-id="b61fe-133">Manipulando dados ausentes (opcional)</span><span class="sxs-lookup"><span data-stu-id="b61fe-133">Handling Missing Data (Optional)</span></span>  
 <span data-ttu-id="b61fe-134">Se qualquer série tiver dados ausentes, talvez você obtenha um erro ao tentar processar o modelo.</span><span class="sxs-lookup"><span data-stu-id="b61fe-134">If any series has missing data, you might get an error when you try to process the model.</span></span> <span data-ttu-id="b61fe-135">Existem diversas maneiras de contornar dados ausentes:</span><span class="sxs-lookup"><span data-stu-id="b61fe-135">You have several ways to work around missing data:</span></span>  
  
-   <span data-ttu-id="b61fe-136">Você pode deixar que o Analysis Services preencha os valores ausentes, por meio do cálculo de uma média ou usando um valor anterior.</span><span class="sxs-lookup"><span data-stu-id="b61fe-136">You can have Analysis Services fill in missing values, either by calculating a mean, or by using a previous value.</span></span> <span data-ttu-id="b61fe-137">Você faz isso ao definir o parâmetro MISSING_VALUE_SUBSTITUTION no modelo de mineração.</span><span class="sxs-lookup"><span data-stu-id="b61fe-137">You do this by setting the MISSING_VALUE_SUBSTITUTION parameter on the mining model.</span></span> <span data-ttu-id="b61fe-138">Para obter mais informações sobre esse parâmetro, consulte [referência técnica do algoritmo do Microsoft Time Series](../../2014/analysis-services/data-mining/microsoft-time-series-algorithm-technical-reference.md).</span><span class="sxs-lookup"><span data-stu-id="b61fe-138">For more information about this parameter, see [Microsoft Time Series Algorithm Technical Reference](../../2014/analysis-services/data-mining/microsoft-time-series-algorithm-technical-reference.md).</span></span> <span data-ttu-id="b61fe-139">Para obter informações sobre como alterar parâmetros em um modelo de mineração existente, consulte [Exibir ou alterar parâmetros de algoritmo](../../2014/analysis-services/data-mining/view-or-change-algorithm-parameters.md).</span><span class="sxs-lookup"><span data-stu-id="b61fe-139">For information about how to change parameters on an existing mining model, see [View or Change Algorithm Parameters](../../2014/analysis-services/data-mining/view-or-change-algorithm-parameters.md).</span></span>  
  
-   <span data-ttu-id="b61fe-140">Você pode alterar a fonte de dados ou filtrar a exibição subjacente para eliminar a série irregular ou substituir valores.</span><span class="sxs-lookup"><span data-stu-id="b61fe-140">You can alter the data source or filter the underlying view to eliminate ragged series or to replace values.</span></span> <span data-ttu-id="b61fe-141">Você pode fazer isso na fonte de dados relacional ou pode modificar a exibição da fonte de dados criando consultas nomeadas ou cálculos nomeados personalizados.</span><span class="sxs-lookup"><span data-stu-id="b61fe-141">You can do this in the relational data source, or you can modify the data source view by creating custom named queries or named calculations.</span></span> <span data-ttu-id="b61fe-142">Para obter mais informações, consulte [Exibições de fontes de dados em modelos multidimensionais](https://docs.microsoft.com/analysis-services/multidimensional-models/data-source-views-in-multidimensional-models).</span><span class="sxs-lookup"><span data-stu-id="b61fe-142">For more information, see [Data Source Views in Multidimensional Models](https://docs.microsoft.com/analysis-services/multidimensional-models/data-source-views-in-multidimensional-models).</span></span> <span data-ttu-id="b61fe-143">Uma tarefa posterior nesta lição oferecerá um exemplo de como construir uma consulta nomeada e um cálculo personalizado.</span><span class="sxs-lookup"><span data-stu-id="b61fe-143">A later task in this lesson provides an example of how to build both a named query and a custom calculation.</span></span>  
  
 <span data-ttu-id="b61fe-144">Para este cenário, alguns dados estão faltando no início de uma série: ou seja, não há dados para a linha de produto T1000 até julho de 2007.</span><span class="sxs-lookup"><span data-stu-id="b61fe-144">For this scenario, some data is missing at the beginning of one series: that is, there is no data for the T1000 product line until July 2007.</span></span> <span data-ttu-id="b61fe-145">Caso contrário, todas as séries terminariam na mesma data e não haveria valores ausentes.</span><span class="sxs-lookup"><span data-stu-id="b61fe-145">Otherwise, all series end on the same date, and there are no missing values.</span></span>  
  
 <span data-ttu-id="b61fe-146">O requisito do algoritmo Microsoft Time Series é que qualquer série que você inclua em um único modelo deve ter o mesmo ponto **final** .</span><span class="sxs-lookup"><span data-stu-id="b61fe-146">The requirement of the Microsoft Time Series algorithm is that any series that you include in a single model should have the same **ending** point.</span></span> <span data-ttu-id="b61fe-147">Como o modelo de bicicleta T1000 foi apresentado em 2007, os dados dessa série começam depois de outros modelos de bicicleta, mas a série termina na mesma data e, portanto, os dados são usáveis.</span><span class="sxs-lookup"><span data-stu-id="b61fe-147">Because the T1000 bicycle model was introduced in 2007, the data for this series starts later than for other bicycle models, but the series ends on the same date; therefore the data is usable.</span></span>  
  
#### <a name="to-close-the-data-source-view-designer"></a><span data-ttu-id="b61fe-148">Para fechar o designer da exibição da fonte de dados</span><span class="sxs-lookup"><span data-stu-id="b61fe-148">To close the data source view designer</span></span>  
  
-   <span data-ttu-id="b61fe-149">Clique com o botão direito do mouse na guia, **Explore a tabela vTimeSeries**e selecione **fechar**.</span><span class="sxs-lookup"><span data-stu-id="b61fe-149">Right-click the tab, **Explore vTimeSeries Table**, and select **Close**.</span></span>  
  
## <a name="next-task-in-lesson"></a><span data-ttu-id="b61fe-150">Próxima tarefa da lição</span><span class="sxs-lookup"><span data-stu-id="b61fe-150">Next Task in Lesson</span></span>  
 [<span data-ttu-id="b61fe-151">Criando uma estrutura de previsão e modelo &#40;tutorial de mineração de dados intermediário&#41;</span><span class="sxs-lookup"><span data-stu-id="b61fe-151">Creating a Forecasting Structure and Model &#40;Intermediate Data Mining Tutorial&#41;</span></span>](../../2014/tutorials/creating-a-forecasting-structure-and-model-intermediate-data-mining-tutorial.md)  
  
## <a name="see-also"></a><span data-ttu-id="b61fe-152">Consulte Também</span><span class="sxs-lookup"><span data-stu-id="b61fe-152">See Also</span></span>  
 [<span data-ttu-id="b61fe-153">Algoritmo MTS</span><span class="sxs-lookup"><span data-stu-id="b61fe-153">Microsoft Time Series Algorithm</span></span>](../../2014/analysis-services/data-mining/microsoft-time-series-algorithm.md)  
  
  
