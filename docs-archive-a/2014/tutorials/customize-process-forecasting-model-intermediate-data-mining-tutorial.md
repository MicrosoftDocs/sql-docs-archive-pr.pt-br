---
title: Personalizando e processando o modelo de previsão (tutorial de mineração de dados intermediário) | Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
ms.assetid: 4bd25e15-9d9e-4528-b7bc-ccb856643aec
author: minewiskan
ms.author: owend
manager: kfile
ms.openlocfilehash: 03dc67907b22750eb1b8539feaddec58f61f702f
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87576089"
---
# <a name="customizing-and-processing-the-forecasting-model-intermediate-data-mining-tutorial"></a><span data-ttu-id="e831c-102">Personalizando e processando o modelo de previsão (Tutorial de mineração de dados intermediário)</span><span class="sxs-lookup"><span data-stu-id="e831c-102">Customizing and Processing the Forecasting Model (Intermediate Data Mining Tutorial)</span></span>
  <span data-ttu-id="e831c-103">O algoritmo MTS da [!INCLUDE[msCoName](../includes/msconame-md.md)] oferece vários parâmetros que afetam o modo como um modelo é criado e como os dados de tempo são analisados.</span><span class="sxs-lookup"><span data-stu-id="e831c-103">The [!INCLUDE[msCoName](../includes/msconame-md.md)] Time Series algorithm provides parameters that affect how a model is created, and how time data is analyzed.</span></span> <span data-ttu-id="e831c-104">Alterar essas propriedades pode afetar significativamente a forma como o modelo de mineração faz previsões.</span><span class="sxs-lookup"><span data-stu-id="e831c-104">Changing these properties can significantly affect how the mining model makes predictions.</span></span>  
  
 <span data-ttu-id="e831c-105">Para esta tarefa do tutorial, você executará as seguintes tarefas para modificar o modelo:</span><span class="sxs-lookup"><span data-stu-id="e831c-105">For this task in the tutorial, you will perform the following tasks to modify the model:</span></span>  
  
1.  <span data-ttu-id="e831c-106">Você personalizará a maneira como seu modelo lida com períodos de tempo adicionando um novo valor para o parâmetro *PERIODICITY_HINT* .</span><span class="sxs-lookup"><span data-stu-id="e831c-106">You will customize the way your model handles time periods by adding a new value for the *PERIODICITY_HINT* parameter.</span></span>  
  
2.  <span data-ttu-id="e831c-107">Você aprenderá dois outros parâmetros importantes para o algoritmo MTS: FORECAST_METHOD, que permite controlar o método usado na previsão, e PREDICTION_SMOOTHING, que permite personalizar a combinação de previsões de longo prazo e de curto prazo.</span><span class="sxs-lookup"><span data-stu-id="e831c-107">You will learn about two other important parameters for the Microsoft Time Series algorithm: FORECAST_METHOD, which lets you control the method used for forecasting, and PREDICTION_SMOOTHING, which lets you customize the blend of long-term and short-term predictions.</span></span>  
  
3.  <span data-ttu-id="e831c-108">Opcionalmente, você dirá ao algoritmo como deseja inserir os valores ausentes.</span><span class="sxs-lookup"><span data-stu-id="e831c-108">Optionally, you will tell the algorithm how you want missing values to be imputed.</span></span>  
  
4.  <span data-ttu-id="e831c-109">Depois de fazer todas as alterações, você implantará e processará o modelo.</span><span class="sxs-lookup"><span data-stu-id="e831c-109">After all the changes have been made, you will deploy and process the model.</span></span>  
  
## <a name="setting-time-series-parameters"></a><span data-ttu-id="e831c-110">Definindo os parâmetros de série temporal</span><span class="sxs-lookup"><span data-stu-id="e831c-110">Setting Time Series Parameters</span></span>  
 <span data-ttu-id="e831c-111">**Dicas de periodicidade**</span><span class="sxs-lookup"><span data-stu-id="e831c-111">**Periodicity Hints**</span></span>  
  
 <span data-ttu-id="e831c-112">O parâmetro *PERIODICITY_HINT* fornece o algoritmo com informações sobre períodos de tempo adicionais que você espera ver nos dados.</span><span class="sxs-lookup"><span data-stu-id="e831c-112">The *PERIODICITY_HINT* parameter provides the algorithm with information about additional time periods that you expect to see in the data.</span></span> <span data-ttu-id="e831c-113">Por padrão, os modelos de série temporal tentarão detectar automaticamente um padrão nos dados.</span><span class="sxs-lookup"><span data-stu-id="e831c-113">By default, time series models will try to automatically detect a pattern in the data.</span></span> <span data-ttu-id="e831c-114">Porém, se você já souber o ciclo de tempo esperado, fornecer uma dica de periodicidade poderá melhorar a exatidão do modelo.</span><span class="sxs-lookup"><span data-stu-id="e831c-114">However, if you already know the expected time cycle, providing a periodicity hint can potentially improve the accuracy of the model.</span></span> <span data-ttu-id="e831c-115">No entanto, se você fornecer a dica de periodicidade errada, poderá diminuir exatidão; portanto, se você não souber ao certo que valor deve ser usado, é melhor usar o padrão.</span><span class="sxs-lookup"><span data-stu-id="e831c-115">However, if you provide the wrong periodicity hint, it can decrease accuracy; therefore, if you are not sure what value should be used, it is best to use the default.</span></span>  
  
 <span data-ttu-id="e831c-116">Por exemplo, a exibição usada neste modelo agrega dados de vendas de [!INCLUDE[ssAWDWsp](../includes/ssawdwsp-md.md)] mensalmente.</span><span class="sxs-lookup"><span data-stu-id="e831c-116">For example, the view used for this model aggregates sales data from [!INCLUDE[ssAWDWsp](../includes/ssawdwsp-md.md)] on a monthly basis.</span></span> <span data-ttu-id="e831c-117">Portanto, cada intervalo de tempo usado pelo modelo representa um mês, e todas as previsões também estarão em meses.</span><span class="sxs-lookup"><span data-stu-id="e831c-117">Therefore each time slice used by the model represents one month, and all predictions will also be in terms of months.</span></span> <span data-ttu-id="e831c-118">Como há 12 meses em um ano e você espera que os padrões de vendas sejam mais ou menos repetidos anualmente, você definirá o parâmetro *PERIODICITY_HINT* como `12` , para indicar que 12 frações de tempo (meses) constituem um ciclo de vendas completo.</span><span class="sxs-lookup"><span data-stu-id="e831c-118">Since there are 12 months in a year and you expect that sales patterns more or less repeat on a yearly basis, you will set the *PERIODICITY_HINT* parameter to `12`, to indicate that 12 time slices (months) constitute one complete sales cycle.</span></span>  
  
 <span data-ttu-id="e831c-119">**Método de previsão**</span><span class="sxs-lookup"><span data-stu-id="e831c-119">**Forecasting Method**</span></span>  
  
 <span data-ttu-id="e831c-120">O parâmetro *FORECAST_METHOD* controla se o algoritmo de série temporal é otimizado para previsões de curto ou longo prazo.</span><span class="sxs-lookup"><span data-stu-id="e831c-120">The *FORECAST_METHOD* parameter controls whether the time series algorithm is optimized for short-term or long-term predictions.</span></span> <span data-ttu-id="e831c-121">Por padrão, o parâmetro *FORECAST_METHOD* é definido como Mixed, o que significa que dois algoritmos diferentes são mesclados e balanceados para fornecer bons resultados para previsão de curto e longo prazo.</span><span class="sxs-lookup"><span data-stu-id="e831c-121">By default, the *FORECAST_METHOD* parameter is set to MIXED, which means that two different algorithms are blended and balanced to provide good results for both short-term and long-term prediction.</span></span>  
  
 <span data-ttu-id="e831c-122">Entretanto, se você quiser usar um algoritmo específico, poderá altera o valor para ARIMA ou ARTXP.</span><span class="sxs-lookup"><span data-stu-id="e831c-122">However, if you know that you want to use a particular algorithm, you can change the value to either ARIMA or ARTXP.</span></span>  
  
 <span data-ttu-id="e831c-123">**Ponderação de previsões de longo prazo versus de curto prazo**</span><span class="sxs-lookup"><span data-stu-id="e831c-123">**Weighting Long-Term vs. Short-Term Predictions**</span></span>  
  
 <span data-ttu-id="e831c-124">Você também pode personalizar a forma como as previsões de longo prazo e de curto prazo são combinadas usando o parâmetro PREDICTION_SMOOTHING.</span><span class="sxs-lookup"><span data-stu-id="e831c-124">You can also customize the way that long-term and short-term predictions are combined by using the PREDICTION_SMOOTHING parameter.</span></span> <span data-ttu-id="e831c-125">Por padrão, esse parâmetro é definido como 0,5, o que geralmente oferece o melhor equilíbrio para a precisão geral.</span><span class="sxs-lookup"><span data-stu-id="e831c-125">By default, this parameter is set to 0.5, which generally provides the best balance for overall accuracy.</span></span>  
  
#### <a name="to-change-the-algorithm-parameters"></a><span data-ttu-id="e831c-126">Para alterar parâmetros do algoritmo</span><span class="sxs-lookup"><span data-stu-id="e831c-126">To change the algorithm parameters</span></span>  
  
1.  <span data-ttu-id="e831c-127">Na guia **modelos de mineração** , clique com o botão direito do mouse em **previsão**e selecione **definir parâmetros de algoritmo**.</span><span class="sxs-lookup"><span data-stu-id="e831c-127">On the **Mining Models** tab, right-click **Forecasting**, and select **Set Algorithm Parameters**.</span></span>  
  
2.  <span data-ttu-id="e831c-128">Na `PERIODICITY_HINT` linha da caixa de diálogo **parâmetros do algoritmo** , clique na coluna **valor** e digite `{12}` , incluindo as chaves.</span><span class="sxs-lookup"><span data-stu-id="e831c-128">In the `PERIODICITY_HINT` row of the **Algorithm Parameters** dialog box, click the **Value** column, then type `{12}`, including the braces.</span></span>  
  
     <span data-ttu-id="e831c-129">Por padrão, o algoritmo também adicionará o valor {1}.</span><span class="sxs-lookup"><span data-stu-id="e831c-129">By default, the algorithm will also add the value {1}.</span></span>  
  
3.  <span data-ttu-id="e831c-130">Na `FORECAST_METHOD` linha, verifique se a caixa de texto **valor** está em branco ou definida como `MIXED` .</span><span class="sxs-lookup"><span data-stu-id="e831c-130">In the `FORECAST_METHOD` row, verify that the **Value** text box is either blank or set to `MIXED`.</span></span> <span data-ttu-id="e831c-131">Se um valor diferente tiver sido inserido, digite `MIXED` para alterar o parâmetro de volta para o valor padrão.</span><span class="sxs-lookup"><span data-stu-id="e831c-131">If a different value has been entered, type `MIXED` to change the parameter back to the default value.</span></span>  
  
4.  <span data-ttu-id="e831c-132">Na linha **PREDICTION_SMOOTHING** , verifique se a caixa de texto **valor** está em branco ou definida como 0,5.</span><span class="sxs-lookup"><span data-stu-id="e831c-132">In the **PREDICTION_SMOOTHING** row, verify that the **Value** text box is either blank or set to 0.5.</span></span> <span data-ttu-id="e831c-133">Se um valor diferente tiver sido inserido, clique em **valor** e digite `0.5` para alterar o parâmetro de volta para o valor padrão.</span><span class="sxs-lookup"><span data-stu-id="e831c-133">If a different value has been entered, click **Value** and type `0.5` to change the parameter back to the default value.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="e831c-134">O parâmetro PREDICTION_SMOOTHING só está disponível no [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] Enterprise.</span><span class="sxs-lookup"><span data-stu-id="e831c-134">The PREDICTION_SMOOTHING parameter is available only in [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] Enterprise.</span></span> <span data-ttu-id="e831c-135">Dessa forma, não é possível exibir ou alterar o valor do parâmetro PREDICTION_SMOOTHING no [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] Standard.</span><span class="sxs-lookup"><span data-stu-id="e831c-135">Therefore, you cannot view or change the value of the PREDICTION_SMOOTHING parameter in [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] Standard.</span></span> <span data-ttu-id="e831c-136">Porém, o comportamento padrão é usar os dois algoritmos e atribuir o mesmo valor a ambos.</span><span class="sxs-lookup"><span data-stu-id="e831c-136">However, the default behavior is to use both algorithms and weight them equally.</span></span>  
  
5.  <span data-ttu-id="e831c-137">Clique em **OK**.</span><span class="sxs-lookup"><span data-stu-id="e831c-137">Click **OK**.</span></span>  
  
## <a name="handling-missing-data-optional"></a><span data-ttu-id="e831c-138">Manipulando dados ausentes (opcional)</span><span class="sxs-lookup"><span data-stu-id="e831c-138">Handling Missing Data (Optional)</span></span>  
 <span data-ttu-id="e831c-139">Na maioria dos casos, seus dados de venda poderão ter lacunas preenchidas por nulos, ou uma loja pode não ter conseguido cumprir o prazo da emissão de relatórios, deixando uma célula vazia no final da série.</span><span class="sxs-lookup"><span data-stu-id="e831c-139">In many cases, your sales data might have gaps that are filled with nulls, or a store might have failed to meet the reporting deadline, leaving an empty cell at the end of the series.</span></span> <span data-ttu-id="e831c-140">Nesses cenários, o [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)] gera o erro a seguir e não processa o modelo.</span><span class="sxs-lookup"><span data-stu-id="e831c-140">In such scenarios, [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)] raises the following error and will not process the model.</span></span>  
  
 <span data-ttu-id="e831c-141">"Erro (mineração de dados): carimbos de data/hora não sincronizados começando com \<series name> a série do modelo de mineração, \<model name> .</span><span class="sxs-lookup"><span data-stu-id="e831c-141">"Error (Data mining): Time stamps not synchronized starting with series \<series name>, of the mining model, \<model name>.</span></span> <span data-ttu-id="e831c-142">Todas as séries temporais devem terminar na mesma marca de tempo e não podem ter pontos de dados ausentes arbitrariamente.</span><span class="sxs-lookup"><span data-stu-id="e831c-142">All time series must end at the same time mark and cannot have arbitrarily missing data points.</span></span> <span data-ttu-id="e831c-143">A definição do parâmetro MISSING_VALUE_SUBSTITUTION como Previous ou como uma constante numérica corrigirá automaticamente pontos de dados ausentes, onde possível."</span><span class="sxs-lookup"><span data-stu-id="e831c-143">Setting the MISSING_VALUE_SUBSTITUTION parameter to Previous or to a numeric constant will automatically patch missing data points where possible."</span></span>  
  
 <span data-ttu-id="e831c-144">Para impedir esse erro, você pode especificar que o [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)] forneça automaticamente novos valores para preencher as lacunas usando qualquer um dos métodos a seguir:</span><span class="sxs-lookup"><span data-stu-id="e831c-144">To avoid this error, you can specify that [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)] automatically provide new values to fill in the gaps by using any one of the following methods:</span></span>  
  
-   <span data-ttu-id="e831c-145">Usando um valor médio.</span><span class="sxs-lookup"><span data-stu-id="e831c-145">Using an average value.</span></span> <span data-ttu-id="e831c-146">Essa média é calculada usando todos os valores válidos da mesma série de dados.</span><span class="sxs-lookup"><span data-stu-id="e831c-146">The mean is calculated by using all valid values in the same data series.</span></span>  
  
-   <span data-ttu-id="e831c-147">Usando o valor anterior.</span><span class="sxs-lookup"><span data-stu-id="e831c-147">Using the previous value.</span></span> <span data-ttu-id="e831c-148">Você pode substituir valores anteriores por várias células ausentes, mas não pode preencher os valores iniciais.</span><span class="sxs-lookup"><span data-stu-id="e831c-148">You can substitute previous values for multiple missing cells, but you cannot fill starting values.</span></span>  
  
-   <span data-ttu-id="e831c-149">Usando um valor constante fornecido por você.</span><span class="sxs-lookup"><span data-stu-id="e831c-149">Using a constant value that you supply.</span></span>  
  
#### <a name="to-specify-that-gaps-be-filled-by-averaging-values"></a><span data-ttu-id="e831c-150">Para especificar que as lacunas sejam preenchidas por valores médios</span><span class="sxs-lookup"><span data-stu-id="e831c-150">To specify that gaps be filled by averaging values</span></span>  
  
1.  <span data-ttu-id="e831c-151">Na guia **modelos de mineração** , clique com o botão direito do mouse na coluna **previsão** e selecione **definir parâmetros de algoritmo**.</span><span class="sxs-lookup"><span data-stu-id="e831c-151">On the **Mining Models** tab, right-click the **Forecasting** column, and select **Set Algorithm Parameters**.</span></span>  
  
2.  <span data-ttu-id="e831c-152">Na caixa de diálogo **parâmetros de algoritmo** , na linha **MISSING_VALUE_SUBSTITUTION** , clique na coluna **valor** e digite `Mean` .</span><span class="sxs-lookup"><span data-stu-id="e831c-152">In the **Algorithm Parameters** dialog box, in the **MISSING_VALUE_SUBSTITUTION** row, click the **Value** column, and type `Mean`.</span></span>  
  
## <a name="build-the-model"></a><span data-ttu-id="e831c-153">Criar o modelo</span><span class="sxs-lookup"><span data-stu-id="e831c-153">Build the Model</span></span>  
 <span data-ttu-id="e831c-154">Para usar o modelo, você deve implantá-lo em um servidor e processar o modelo executando os dados de treinamento pelo algoritmo.</span><span class="sxs-lookup"><span data-stu-id="e831c-154">To use the model, you must deploy it to a server, and process the model by running the training data through the algorithm.</span></span>  
  
#### <a name="to-process-the-forecasting-model"></a><span data-ttu-id="e831c-155">Para processar o modelo de previsão</span><span class="sxs-lookup"><span data-stu-id="e831c-155">To process the forecasting model</span></span>  
  
1.  <span data-ttu-id="e831c-156">No menu **Modelo de Mineração** do [!INCLUDE[ssBIDevStudio](../includes/ssbidevstudio-md.md)], selecione **Estrutura de Mineração do Processo e Todos os Modelos**.</span><span class="sxs-lookup"><span data-stu-id="e831c-156">On the **Mining Model** menu of [!INCLUDE[ssBIDevStudio](../includes/ssbidevstudio-md.md)], select **Process Mining Structure and All Models**.</span></span>  
  
2.  <span data-ttu-id="e831c-157">No aviso que pergunta se você deseja construir e implantar o projeto, clique em **Sim**.</span><span class="sxs-lookup"><span data-stu-id="e831c-157">At the warning asking whether you want to build and deploy the project, click **Yes**.</span></span>  
  
3.  <span data-ttu-id="e831c-158">Na caixa de diálogo **processar estrutura de mineração – Previsão** , clique em **executar**.</span><span class="sxs-lookup"><span data-stu-id="e831c-158">In the **Process Mining Structure - Forecasting** dialog box, click **Run**.</span></span>  
  
     <span data-ttu-id="e831c-159">A caixa de diálogo **Andamento do Processo** é aberta para exibir informações sobre o processamento do modelo.</span><span class="sxs-lookup"><span data-stu-id="e831c-159">The **Process Progress** dialog box opens to display information about model processing.</span></span> <span data-ttu-id="e831c-160">O processamento do modelo pode demorar algum tempo.</span><span class="sxs-lookup"><span data-stu-id="e831c-160">Model processing may take some time.</span></span>  
  
4.  <span data-ttu-id="e831c-161">Depois que o processamento estiver completo, clique em **Fechar** para sair da caixa de diálogo **Progresso do Processo** .</span><span class="sxs-lookup"><span data-stu-id="e831c-161">After processing is complete, click **Close** to exit the **Process Progress** dialog box.</span></span>  
  
5.  <span data-ttu-id="e831c-162">Clique em **fechar** novamente para sair da caixa de diálogo **processar estrutura de mineração-Previsão** .</span><span class="sxs-lookup"><span data-stu-id="e831c-162">Click **Close** again to exit the **Process Mining Structure - Forecasting** dialog box.</span></span>  
  
## <a name="next-task-in-lesson"></a><span data-ttu-id="e831c-163">Próxima tarefa da lição</span><span class="sxs-lookup"><span data-stu-id="e831c-163">Next Task in Lesson</span></span>  
 [<span data-ttu-id="e831c-164">Explorando o modelo de previsão &#40;tutorial de mineração de dados intermediário&#41;</span><span class="sxs-lookup"><span data-stu-id="e831c-164">Exploring the Forecasting Model &#40;Intermediate Data Mining Tutorial&#41;</span></span>](../../2014/tutorials/exploring-the-forecasting-model-intermediate-data-mining-tutorial.md)  
  
## <a name="see-also"></a><span data-ttu-id="e831c-165">Consulte Também</span><span class="sxs-lookup"><span data-stu-id="e831c-165">See Also</span></span>  
 <span data-ttu-id="e831c-166">[Referência técnica do algoritmo do Microsoft Time Series](../../2014/analysis-services/data-mining/microsoft-time-series-algorithm-technical-reference.md) </span><span class="sxs-lookup"><span data-stu-id="e831c-166">[Microsoft Time Series Algorithm Technical Reference](../../2014/analysis-services/data-mining/microsoft-time-series-algorithm-technical-reference.md) </span></span>  
 <span data-ttu-id="e831c-167">[Algoritmo do Microsoft Time Series](../../2014/analysis-services/data-mining/microsoft-time-series-algorithm.md) </span><span class="sxs-lookup"><span data-stu-id="e831c-167">[Microsoft Time Series Algorithm](../../2014/analysis-services/data-mining/microsoft-time-series-algorithm.md) </span></span>  
 [<span data-ttu-id="e831c-168">Requisitos e considerações de processamento &#40;Mineração de dados&#41;</span><span class="sxs-lookup"><span data-stu-id="e831c-168">Processing Requirements and Considerations &#40;Data Mining&#41;</span></span>](../../2014/analysis-services/data-mining/processing-requirements-and-considerations-data-mining.md)  
  
  
